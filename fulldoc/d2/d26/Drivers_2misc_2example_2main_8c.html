<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fennix: Drivers/misc/example/main.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fennix
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Opeating System from scratch made in C and C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d2/d26/Drivers_2misc_2example_2main_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="../../d3/d5a/base_8h_source.html">base.h</a>&gt;</code><br />
</div>
<p><a href="../../d2/d26/Drivers_2misc_2example_2main_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad408448b389caef2f517d7dab4059f88"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c.html#ad408448b389caef2f517d7dab4059f88">DriverEntry</a> ()</td></tr>
<tr class="separator:ad408448b389caef2f517d7dab4059f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3070aac49c99d3e1914674e27fef970c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c.html#a3070aac49c99d3e1914674e27fef970c">DriverFinal</a> ()</td></tr>
<tr class="separator:a3070aac49c99d3e1914674e27fef970c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22cd32a7cc1a42bdd40bf38ee6f471bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c.html#a22cd32a7cc1a42bdd40bf38ee6f471bb">DriverPanic</a> ()</td></tr>
<tr class="separator:a22cd32a7cc1a42bdd40bf38ee6f471bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0e5b13bca4d40920a2f81d626b319c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c.html#aac0e5b13bca4d40920a2f81d626b319c">DriverProbe</a> ()</td></tr>
<tr class="separator:aac0e5b13bca4d40920a2f81d626b319c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0686fa7ce80522f77c549ede3ce0a319"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c.html#a0686fa7ce80522f77c549ede3ce0a319">DriverInfo</a> (&quot;example&quot;, &quot;Example Driver&quot;, &quot;EnderIce2&quot;, &quot;0.1&quot;, &quot;GPLv3&quot;)</td></tr>
<tr class="separator:a0686fa7ce80522f77c549ede3ce0a319"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad408448b389caef2f517d7dab4059f88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad408448b389caef2f517d7dab4059f88">&#9670;&nbsp;</a></span>DriverEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DriverEntry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the main function of the driver. This function is called when the driver is loaded. This function should be used to initialize the <a class="el" href="../../d0/d8f/namespacePCI.html">PCI</a> device and allocate resources.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c_source.html#l00020">20</a> of file <a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c_source.html">main.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="comment">/* Print a message to the screen */</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="../../dd/d24/kernel_8cpp.html#a856ca7c6595acc2941208b1241cd8f3e">KPrint</a>(<span class="stringliteral">&quot;Hello World from Example Driver!&quot;</span>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="comment">/* Print a message to the kernel log */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="../../d3/d5a/base_8h.html#a2d2945c5952955d702f894ff0e4fc618">Log</a>(<span class="stringliteral">&quot;Hello World from Example Driver!&quot;</span>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment">/* Print a message only if DEBUG is set */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="../../d3/d5a/base_8h.html#a967a363e442e6f2e6755b582197a37ca">DebugLog</a>(<span class="stringliteral">&quot;Hello World from Example Driver!&quot;</span>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="comment">/* Return 0 to indicate success */</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="ttc" id="abase_8h_html_a2d2945c5952955d702f894ff0e4fc618"><div class="ttname"><a href="../../d3/d5a/base_8h.html#a2d2945c5952955d702f894ff0e4fc618">Log</a></div><div class="ttdeci">void Log(const char *Format,...)</div><div class="ttdoc">Print to the kernel logger.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de2/base_8c_source.html#l00125">base.c:125</a></div></div>
<div class="ttc" id="abase_8h_html_a967a363e442e6f2e6755b582197a37ca"><div class="ttname"><a href="../../d3/d5a/base_8h.html#a967a363e442e6f2e6755b582197a37ca">DebugLog</a></div><div class="ttdeci">#define DebugLog(m,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/base_8h_source.html#l00249">base.h:249</a></div></div>
<div class="ttc" id="akernel_8cpp_html_a856ca7c6595acc2941208b1241cd8f3e"><div class="ttname"><a href="../../dd/d24/kernel_8cpp.html#a856ca7c6595acc2941208b1241cd8f3e">KPrint</a></div><div class="ttdeci">EXTERNC void KPrint(const char *Format,...)</div><div class="ttdoc">Print to the screen.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d24/kernel_8cpp_source.html#l00102">kernel.cpp:102</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5a/base_8h_source.html#l00249">DebugLog</a>, <a class="el" href="../../dd/d24/kernel_8cpp_source.html#l00102">KPrint()</a>, and <a class="el" href="../../dc/de2/base_8c_source.html#l00125">Log()</a>.</p>

</div>
</div>
<a id="a3070aac49c99d3e1914674e27fef970c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3070aac49c99d3e1914674e27fef970c">&#9670;&nbsp;</a></span>DriverFinal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DriverFinal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called when the driver is unloaded. This function should be used to stop the <a class="el" href="../../d0/d8f/namespacePCI.html">PCI</a> device and free any resources.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c_source.html#l00041">41</a> of file <a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c_source.html">main.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0686fa7ce80522f77c549ede3ce0a319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0686fa7ce80522f77c549ede3ce0a319">&#9670;&nbsp;</a></span>DriverInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DriverInfo </td>
          <td>(</td>
          <td class="paramtype">&quot;example&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Example Driver&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;EnderIce2&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;0.1&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;GPLv3&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a22cd32a7cc1a42bdd40bf38ee6f471bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22cd32a7cc1a42bdd40bf38ee6f471bb">&#9670;&nbsp;</a></span>DriverPanic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DriverPanic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called when the kernel panics. This function should be used to stop the driver from receiving interrupts or anything else that is not safe to do when the kernel panics.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c_source.html#l00051">51</a> of file <a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c_source.html">main.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aac0e5b13bca4d40920a2f81d626b319c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac0e5b13bca4d40920a2f81d626b319c">&#9670;&nbsp;</a></span>DriverProbe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DriverProbe </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the first function that is called when the driver is loaded. We can use this function to test if the driver is compatible with the hardware. Like if we have a specific <a class="el" href="../../d0/d8f/namespacePCI.html">PCI</a> device or if we have a specific <a class="el" href="../../d7/dfa/namespaceCPU.html" title="CPU related functions.">CPU</a> feature.</p>
<p>Return 0 if the driver is compatible with the hardware. Otherwise, we return a value from the errno.h header.</p>
<p>Note: In this function you cannot use variables that have constructors or destructors. Before DriverEntry, the constructors are called and after DriverFinalize, the destructors are called.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c_source.html#l00062">62</a> of file <a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c_source.html">main.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_60925fc218da8ca7908795bf5f624060.html">Drivers</a></li><li class="navelem"><a class="el" href="../../dir_354a8d95be9acaf49ea7adcfbb11b630.html">misc</a></li><li class="navelem"><a class="el" href="../../dir_ca51807d8039a9088e629bd00f3a3845.html">example</a></li><li class="navelem"><a class="el" href="../../d2/d26/Drivers_2misc_2example_2main_8c.html">main.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
