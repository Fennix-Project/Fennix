<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fennix: Userspace/apps/base/busybox/util-linux/fdisk.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fennix
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Opeating System from scratch made in C and C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d6/d86/fdisk_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">fdisk.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d2/d29/mount_8h_source.html">sys/mount.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d7/dd7/libbb_8h_source.html">libbb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d90/unicode_8h_source.html">unicode.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/dfc/fdisk__aix_8c_source.html">fdisk_aix.c</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d2e/fdisk__osf_8c_source.html">fdisk_osf.c</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/da1/fdisk__gpt_8c_source.html">fdisk_gpt.c</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d97/fdisk__sgi_8c_source.html">fdisk_sgi.c</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/d39/fdisk__sun_8c_source.html">fdisk_sun.c</a>&quot;</code><br />
</div>
<p><a href="../../d6/d86/fdisk_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:df/d6b/structhd__geometry"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#df/d6b/structhd__geometry">hd_geometry</a></td></tr>
<tr class="separator:df/d6b/structhd__geometry"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d3/d98/structpartition"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a></td></tr>
<tr class="separator:d3/d98/structpartition"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dd/d4e/structpte"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a></td></tr>
<tr class="separator:dd/d4e/structpte"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d11/structglobals.html">globals</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dd/d26/structsun__partition"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#dd/d26/structsun__partition">sun_partition</a></td></tr>
<tr class="separator:dd/d26/structsun__partition"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:da/d21/structsun__partition_1_1sun__info"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#da/d21/structsun__partition_1_1sun__info">sun_partition::sun_info</a></td></tr>
<tr class="separator:da/d21/structsun__partition_1_1sun__info"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d6/d11/structsun__partition_1_1sun__partinfo"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#d6/d11/structsun__partition_1_1sun__partinfo">sun_partition::sun_partinfo</a></td></tr>
<tr class="separator:d6/d11/structsun__partition_1_1sun__partinfo"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0e6d20c5075b52b0f0bc4858d51c8591"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a0e6d20c5075b52b0f0bc4858d51c8591">_LARGEFILE64_SOURCE</a></td></tr>
<tr class="separator:a0e6d20c5075b52b0f0bc4858d51c8591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1f7903426b2f1e37edfad13faa6816b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#af1f7903426b2f1e37edfad13faa6816b">BLKSSZGET</a>&#160;&#160;&#160;<a class="el" href="../../d9/ded/arch_2sh_2bits_2ioctl_8h.html#ad9c5081aab350191c4822e27c0508f1f">_IO</a>(0x12, 104)</td></tr>
<tr class="separator:af1f7903426b2f1e37edfad13faa6816b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d9a209a482f679387ff2a705054b838"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a6d9a209a482f679387ff2a705054b838">BLKGETSIZE64</a>&#160;&#160;&#160;<a class="el" href="../../d9/ded/arch_2sh_2bits_2ioctl_8h.html#a48bd95ac670a5eded8c5f2ac067f59d0">_IOR</a>(0x12,114,<a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>)</td></tr>
<tr class="separator:a6d9a209a482f679387ff2a705054b838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87409e591cec58551de6f857f18fc040"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a87409e591cec58551de6f857f18fc040">inline_if_little_endian</a>&#160;&#160;&#160;/* nothing */</td></tr>
<tr class="separator:a87409e591cec58551de6f857f18fc040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32dcd924b84354d4bb4211829a8aba54"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a32dcd924b84354d4bb4211829a8aba54">ENABLE_FEATURE_FDISK_BLKSIZE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a32dcd924b84354d4bb4211829a8aba54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3f4d05d6f087d04d4041c0e591830c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a9e3f4d05d6f087d04d4041c0e591830c">IF_FEATURE_FDISK_BLKSIZE</a>(a)</td></tr>
<tr class="separator:a9e3f4d05d6f087d04d4041c0e591830c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c1692602ecb7b77f997bb772ddf7ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ac3c1692602ecb7b77f997bb772ddf7ae">DEFAULT_SECTOR_SIZE</a>&#160;&#160;&#160;512</td></tr>
<tr class="separator:ac3c1692602ecb7b77f997bb772ddf7ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf1bdc1854ef37c2d1b979d9df7df72"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#aebf1bdc1854ef37c2d1b979d9df7df72">DEFAULT_SECTOR_SIZE_STR</a>&#160;&#160;&#160;&quot;512&quot;</td></tr>
<tr class="separator:aebf1bdc1854ef37c2d1b979d9df7df72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a518f93bb8cc7b4b21916937d60e8c325"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a518f93bb8cc7b4b21916937d60e8c325">MAX_SECTOR_SIZE</a>&#160;&#160;&#160;2048</td></tr>
<tr class="separator:a518f93bb8cc7b4b21916937d60e8c325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35bad1e92008da628f27b2f6bb270aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#aa35bad1e92008da628f27b2f6bb270aa">SECTOR_SIZE</a>&#160;&#160;&#160;512 /* still used in osf/sgi/sun <a class="el" href="../../d0/d6b/compress_8c.html#a814f6dab3b0678113d97a3684282934a">code</a> */</td></tr>
<tr class="separator:aa35bad1e92008da628f27b2f6bb270aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac93740a3747098373daf0418d7cbc1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#adac93740a3747098373daf0418d7cbc1">MAXIMUM_PARTS</a>&#160;&#160;&#160;60</td></tr>
<tr class="separator:adac93740a3747098373daf0418d7cbc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc164d22e553019768a5986e7439e24a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#acc164d22e553019768a5986e7439e24a">ACTIVE_FLAG</a>&#160;&#160;&#160;0x80</td></tr>
<tr class="separator:acc164d22e553019768a5986e7439e24a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c8dafec4d0173d7cdf5de73f9cef69"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a99c8dafec4d0173d7cdf5de73f9cef69">EXTENDED</a>&#160;&#160;&#160;0x05</td></tr>
<tr class="separator:a99c8dafec4d0173d7cdf5de73f9cef69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021a0aa01a297d087b763317fea84ce8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a021a0aa01a297d087b763317fea84ce8">WIN98_EXTENDED</a>&#160;&#160;&#160;0x0f</td></tr>
<tr class="separator:a021a0aa01a297d087b763317fea84ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f51dec9a22d463477ae05af869483d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a59f51dec9a22d463477ae05af869483d">LINUX_PARTITION</a>&#160;&#160;&#160;0x81</td></tr>
<tr class="separator:a59f51dec9a22d463477ae05af869483d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb740dc8312a7c0142dc4d9d5e50568f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#acb740dc8312a7c0142dc4d9d5e50568f">LINUX_SWAP</a>&#160;&#160;&#160;0x82</td></tr>
<tr class="separator:acb740dc8312a7c0142dc4d9d5e50568f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8089d2c2434067bce631a3fbef2e7b61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a8089d2c2434067bce631a3fbef2e7b61">LINUX_NATIVE</a>&#160;&#160;&#160;0x83</td></tr>
<tr class="separator:a8089d2c2434067bce631a3fbef2e7b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d2bbf4678ef9c2ebdf7afd17125593"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a82d2bbf4678ef9c2ebdf7afd17125593">LINUX_EXTENDED</a>&#160;&#160;&#160;0x85</td></tr>
<tr class="separator:a82d2bbf4678ef9c2ebdf7afd17125593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a718faa1ee85457102f532ce199eaf670"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a718faa1ee85457102f532ce199eaf670">LINUX_LVM</a>&#160;&#160;&#160;0x8e</td></tr>
<tr class="separator:a718faa1ee85457102f532ce199eaf670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad47ce378a36f813b6084bd99cef54e76"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ad47ce378a36f813b6084bd99cef54e76">LINUX_RAID</a>&#160;&#160;&#160;0xfd</td></tr>
<tr class="separator:ad47ce378a36f813b6084bd99cef54e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f500ec2e4a77fa04886139eddde0e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a78f500ec2e4a77fa04886139eddde0e5">HDIO_GETGEO</a>&#160;&#160;&#160;0x0301  /* <a class="el" href="../../df/d75/dump_8c.html#abef5fe2b35640be38a89607d3ded8d96">get</a> <a class="el" href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a> geometry */</td></tr>
<tr class="separator:a78f500ec2e4a77fa04886139eddde0e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3aa986049e03f863eaf24b7c86c3d2c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ae3aa986049e03f863eaf24b7c86c3d2c">unable_to_open</a>&#160;&#160;&#160;&quot;can'<a class="el" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> <a class="el" href="../../da/deb/open_8c.html#ae228c30ac0826ace5835545e40416e57">open</a> '%<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>'&quot;</td></tr>
<tr class="separator:ae3aa986049e03f863eaf24b7c86c3d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9c4e6dce6c27a2ed58fe800d92f7dc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#abf9c4e6dce6c27a2ed58fe800d92f7dc">unable_to_read</a>&#160;&#160;&#160;&quot;can'<a class="el" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> <a class="el" href="../../df/d40/musl_2src_2unistd_2read_8c.html#af32a16ad2dd9e48482f8f790db7dbbd2">read</a> '%<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>'&quot;</td></tr>
<tr class="separator:abf9c4e6dce6c27a2ed58fe800d92f7dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0efe9444192c556161042ae8068e7e20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a0efe9444192c556161042ae8068e7e20">unable_to_seek</a>&#160;&#160;&#160;&quot;can'<a class="el" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> <a class="el" href="../../d2/dd6/dd_8c.html#a227a0f35c842838d0a0a55fdf14b0ce6">seek</a> '%<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>'&quot;</td></tr>
<tr class="separator:a0efe9444192c556161042ae8068e7e20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e6394cea9c018ca9809f75a55be2f8e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a0e6394cea9c018ca9809f75a55be2f8e">LABEL_IS_DOS</a>&#160;&#160;&#160;(<a class="el" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a3272049d10007bce8ba7c0fe628d6c27">LABEL_DOS</a> == <a class="el" href="../../d6/d86/fdisk_8c.html#a378f0823e6b2c5f247559f8e1415b08e">current_label_type</a>)</td></tr>
<tr class="separator:a0e6394cea9c018ca9809f75a55be2f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6627bdd198755fbcc7607b1998f8e9a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a6627bdd198755fbcc7607b1998f8e9a2">LABEL_IS_SUN</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a6627bdd198755fbcc7607b1998f8e9a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac48d7994a51eec295100f9771a84309d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a>&#160;&#160;&#160;extern</td></tr>
<tr class="separator:ac48d7994a51eec295100f9771a84309d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2eaa19090d1666f2613f71ef933f471"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ad2eaa19090d1666f2613f71ef933f471">LABEL_IS_SGI</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ad2eaa19090d1666f2613f71ef933f471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ca1523d04e84c11dac7411248eb32d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a>&#160;&#160;&#160;extern</td></tr>
<tr class="separator:aa9ca1523d04e84c11dac7411248eb32d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ea590164b267ab678233cbd76f28a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a62ea590164b267ab678233cbd76f28a6">LABEL_IS_AIX</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a62ea590164b267ab678233cbd76f28a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8e18d4ac5844380be0bdeef592a2d33"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#aa8e18d4ac5844380be0bdeef592a2d33">STATIC_AIX</a>&#160;&#160;&#160;extern</td></tr>
<tr class="separator:aa8e18d4ac5844380be0bdeef592a2d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a3ff67b12e3f3761575efd4192c1d79"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a7a3ff67b12e3f3761575efd4192c1d79">LABEL_IS_OSF</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a7a3ff67b12e3f3761575efd4192c1d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f508aa267a91f1938425f6b4695764"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a65f508aa267a91f1938425f6b4695764">STATIC_OSF</a>&#160;&#160;&#160;extern</td></tr>
<tr class="separator:a65f508aa267a91f1938425f6b4695764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38496576551087ddb3fb66db120563ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a38496576551087ddb3fb66db120563ba">LABEL_IS_GPT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a38496576551087ddb3fb66db120563ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32a208f98de24c6160093fbf669626d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a32a208f98de24c6160093fbf669626d3">STATIC_GPT</a>&#160;&#160;&#160;extern</td></tr>
<tr class="separator:a32a208f98de24c6160093fbf669626d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed9ea78689ecce0b7264c02c7f8a9a54"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>&#160;&#160;&#160;(*<a class="el" href="../../d5/ded/ptr__to__globals_8c.html#aff79e45ec02a9716e59b3aca1c9b6808">ptr_to_globals</a>)</td></tr>
<tr class="separator:aed9ea78689ecce0b7264c02c7f8a9a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a540fa15c29df2f015ffd57bacbd90277"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a540fa15c29df2f015ffd57bacbd90277">line_ptr</a>&#160;&#160;&#160;(G.line_ptr            )</td></tr>
<tr class="separator:a540fa15c29df2f015ffd57bacbd90277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b877e81f766a4d5938e74d70127d5c8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a>&#160;&#160;&#160;(G.disk_device         )</td></tr>
<tr class="separator:a0b877e81f766a4d5938e74d70127d5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e347d7ae83363b5be08c1f9b8c0635"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>&#160;&#160;&#160;(G.g_partitions        )</td></tr>
<tr class="separator:ad5e347d7ae83363b5be08c1f9b8c0635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55a44d9b0ad463a6578fee8ea11b2871"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a55a44d9b0ad463a6578fee8ea11b2871">units_per_sector</a>&#160;&#160;&#160;(G.units_per_sector    )</td></tr>
<tr class="separator:a55a44d9b0ad463a6578fee8ea11b2871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b18f4b960b1edf77fa6c4f9c668d1f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a>&#160;&#160;&#160;(G.sector_size         )</td></tr>
<tr class="separator:a1b18f4b960b1edf77fa6c4f9c668d1f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a557a92f2b7096a947348c7fb090c1175"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a557a92f2b7096a947348c7fb090c1175">user_set_sector_size</a>&#160;&#160;&#160;(G.user_set_sector_size)</td></tr>
<tr class="separator:a557a92f2b7096a947348c7fb090c1175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e400052a1f72cad8347f2a725bee544"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a3e400052a1f72cad8347f2a725bee544">sector_offset</a>&#160;&#160;&#160;(G.sector_offset       )</td></tr>
<tr class="separator:a3e400052a1f72cad8347f2a725bee544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaadf4b0192d01471458a29c672a8a4ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#aaadf4b0192d01471458a29c672a8a4ed">g_heads</a>&#160;&#160;&#160;(G.g_heads             )</td></tr>
<tr class="separator:aaadf4b0192d01471458a29c672a8a4ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab0badd8b4b1fecb4b38fd648fca39a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a>&#160;&#160;&#160;(G.g_sectors           )</td></tr>
<tr class="separator:aab0badd8b4b1fecb4b38fd648fca39a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae370ac91c811573a048f14f11fbc9f0d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ae370ac91c811573a048f14f11fbc9f0d">g_cylinders</a>&#160;&#160;&#160;(G.g_cylinders         )</td></tr>
<tr class="separator:ae370ac91c811573a048f14f11fbc9f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a378f0823e6b2c5f247559f8e1415b08e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a378f0823e6b2c5f247559f8e1415b08e">current_label_type</a>&#160;&#160;&#160;(G.current_label_type  )</td></tr>
<tr class="separator:a378f0823e6b2c5f247559f8e1415b08e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68eb7498560f9e87288bd32b702230fd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a68eb7498560f9e87288bd32b702230fd">display_in_cyl_units</a>&#160;&#160;&#160;(G.display_in_cyl_units)</td></tr>
<tr class="separator:a68eb7498560f9e87288bd32b702230fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b80ae8563a335645641bc83e24153c8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a0b80ae8563a335645641bc83e24153c8">possibly_osf_label</a>&#160;&#160;&#160;(G.possibly_osf_label  )</td></tr>
<tr class="separator:a0b80ae8563a335645641bc83e24153c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6c1c6fb219b4890c521099e31d93ae5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ac6c1c6fb219b4890c521099e31d93ae5">listing</a>&#160;&#160;&#160;(G.listing                )</td></tr>
<tr class="separator:ac6c1c6fb219b4890c521099e31d93ae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad93813c8b72a4dc3a2aa61bccd058599"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ad93813c8b72a4dc3a2aa61bccd058599">dos_compatible_flag</a>&#160;&#160;&#160;(G.dos_compatible_flag    )</td></tr>
<tr class="separator:ad93813c8b72a4dc3a2aa61bccd058599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf2fc47c17cbef88cc7cfae9d564503"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a8cf2fc47c17cbef88cc7cfae9d564503">nowarn</a>&#160;&#160;&#160;(G.nowarn                 )</td></tr>
<tr class="separator:a8cf2fc47c17cbef88cc7cfae9d564503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d141f3e47cdf395ec8c8efd2f9d81c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a69d141f3e47cdf395ec8c8efd2f9d81c">ext_index</a>&#160;&#160;&#160;(G.ext_index              )</td></tr>
<tr class="separator:a69d141f3e47cdf395ec8c8efd2f9d81c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab86f025a783f066b7ae14413dbc3b0d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ab86f025a783f066b7ae14413dbc3b0d3">user_cylinders</a>&#160;&#160;&#160;(G.user_cylinders         )</td></tr>
<tr class="separator:ab86f025a783f066b7ae14413dbc3b0d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17c00fb725118ebbcafa8a0c672f6ae8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a17c00fb725118ebbcafa8a0c672f6ae8">user_heads</a>&#160;&#160;&#160;(G.user_heads             )</td></tr>
<tr class="separator:a17c00fb725118ebbcafa8a0c672f6ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad398114ee945e9664ab91bdc811bc30a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ad398114ee945e9664ab91bdc811bc30a">user_sectors</a>&#160;&#160;&#160;(G.user_sectors           )</td></tr>
<tr class="separator:ad398114ee945e9664ab91bdc811bc30a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e5104a01746cb78c2992d82b7660b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a25e5104a01746cb78c2992d82b7660b1">pt_heads</a>&#160;&#160;&#160;(G.pt_heads               )</td></tr>
<tr class="separator:a25e5104a01746cb78c2992d82b7660b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2de7ef0760afe32f4e62013830990adb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a2de7ef0760afe32f4e62013830990adb">pt_sectors</a>&#160;&#160;&#160;(G.pt_sectors             )</td></tr>
<tr class="separator:a2de7ef0760afe32f4e62013830990adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9421762d5600d0b27edf78208319fac3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a9421762d5600d0b27edf78208319fac3">kern_heads</a>&#160;&#160;&#160;(G.kern_heads             )</td></tr>
<tr class="separator:a9421762d5600d0b27edf78208319fac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b734c32e3e61903d28b9fd58bf48c8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a30b734c32e3e61903d28b9fd58bf48c8">kern_sectors</a>&#160;&#160;&#160;(G.kern_sectors           )</td></tr>
<tr class="separator:a30b734c32e3e61903d28b9fd58bf48c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31613843d3565606437366d581f91733"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a31613843d3565606437366d581f91733">extended_offset</a>&#160;&#160;&#160;(G.extended_offset        )</td></tr>
<tr class="separator:a31613843d3565606437366d581f91733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af65c9488b5c43c3216664219e6f7055b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#af65c9488b5c43c3216664219e6f7055b">total_number_of_sectors</a>&#160;&#160;&#160;(G.total_number_of_sectors)</td></tr>
<tr class="separator:af65c9488b5c43c3216664219e6f7055b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534b5fcde5aa1a3279853859f25a0b1b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a534b5fcde5aa1a3279853859f25a0b1b">listingbuf</a>&#160;&#160;&#160;(G.listingbuf     )</td></tr>
<tr class="separator:a534b5fcde5aa1a3279853859f25a0b1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dcc31ad0c530af263781988104e15e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a2dcc31ad0c530af263781988104e15e8">line_buffer</a>&#160;&#160;&#160;(G.line_buffer    )</td></tr>
<tr class="separator:a2dcc31ad0c530af263781988104e15e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20da189169473c9d3f3703f01157938e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a20da189169473c9d3f3703f01157938e">MBRbuffer</a>&#160;&#160;&#160;(G.MBRbuffer      )</td></tr>
<tr class="separator:a20da189169473c9d3f3703f01157938e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80a004ea09a4494a3bc684dcde4a9614"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a80a004ea09a4494a3bc684dcde4a9614">ptes</a>&#160;&#160;&#160;(G.ptes           )</td></tr>
<tr class="separator:a80a004ea09a4494a3bc684dcde4a9614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d017e5ed76fae1ae7cec57e0d600c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a39d017e5ed76fae1ae7cec57e0d600c4">INIT_G</a>()</td></tr>
<tr class="separator:a39d017e5ed76fae1ae7cec57e0d600c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721555a94d3eb9f229a4bcd5480b1829"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a721555a94d3eb9f229a4bcd5480b1829">IS_EXTENDED</a>(<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)&#160;&#160;&#160;	((<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="el" href="../../d6/d86/fdisk_8c.html#a99c8dafec4d0173d7cdf5de73f9cef69">EXTENDED</a> || (<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="el" href="../../d6/d86/fdisk_8c.html#a021a0aa01a297d087b763317fea84ce8">WIN98_EXTENDED</a> || (<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="el" href="../../d6/d86/fdisk_8c.html#a82d2bbf4678ef9c2ebdf7afd17125593">LINUX_EXTENDED</a>)</td></tr>
<tr class="separator:a721555a94d3eb9f229a4bcd5480b1829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24393d13ef09068ab14db7b762c3c7dc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a24393d13ef09068ab14db7b762c3c7dc">cround</a>(<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>)&#160;&#160;&#160;(<a class="el" href="../../d6/d86/fdisk_8c.html#a68eb7498560f9e87288bd32b702230fd">display_in_cyl_units</a> ? ((<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>)/<a class="el" href="../../d6/d86/fdisk_8c.html#a55a44d9b0ad463a6578fee8ea11b2871">units_per_sector</a>)+1 : (<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>))</td></tr>
<tr class="separator:a24393d13ef09068ab14db7b762c3c7dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac729d6bf038e28508486718e47a298"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#abac729d6bf038e28508486718e47a298">scround</a>(<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#aeb26462df30f47f6fd73ee802457812b">x</a>)&#160;&#160;&#160;(((<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#aeb26462df30f47f6fd73ee802457812b">x</a>)+<a class="el" href="../../d6/d86/fdisk_8c.html#a55a44d9b0ad463a6578fee8ea11b2871">units_per_sector</a>-1)/<a class="el" href="../../d6/d86/fdisk_8c.html#a55a44d9b0ad463a6578fee8ea11b2871">units_per_sector</a>)</td></tr>
<tr class="separator:abac729d6bf038e28508486718e47a298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d07329637cebcf0db475c840ffac4e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a7d07329637cebcf0db475c840ffac4e6">pt_offset</a>(b,  <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>)&#160;&#160;&#160;	((struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *)((b) + 0x1be + (<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>) * sizeof(struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a>)))</td></tr>
<tr class="separator:a7d07329637cebcf0db475c840ffac4e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7148005e59de183e5b9987f02af549ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a7148005e59de183e5b9987f02af549ce">sector</a>(<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)&#160;&#160;&#160;((<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) &amp; 0x3f)</td></tr>
<tr class="separator:a7148005e59de183e5b9987f02af549ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b69a749c6c7d6ba9086270f6149027"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ae9b69a749c6c7d6ba9086270f6149027">cylinder</a>(<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>,  <a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)&#160;&#160;&#160;((<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) | (((<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) &amp; 0xc0) &lt;&lt; 2))</td></tr>
<tr class="separator:ae9b69a749c6c7d6ba9086270f6149027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addfc06f244d59275a856e519e0f67fe1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#addfc06f244d59275a856e519e0f67fe1">sunlabel</a>&#160;&#160;&#160;((<a class="el" href="../../d6/d86/fdisk_8c.html#dd/d26/structsun__partition">sun_partition</a> *)<a class="el" href="../../d6/d86/fdisk_8c.html#a20da189169473c9d3f3703f01157938e">MBRbuffer</a>)</td></tr>
<tr class="separator:addfc06f244d59275a856e519e0f67fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab892b117010088370ebef07270b5a445"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ab892b117010088370ebef07270b5a445">get_sys_types</a>()&#160;&#160;&#160;i386_sys_types</td></tr>
<tr class="separator:ab892b117010088370ebef07270b5a445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420bb8f1c86e0b48af746f4748d5c9f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a420bb8f1c86e0b48af746f4748d5c9f6">get_boot</a>(what)&#160;&#160;&#160;get_boot()</td></tr>
<tr class="separator:a420bb8f1c86e0b48af746f4748d5c9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12ebcc259a87f0d1cbb96f11f02ccde"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ae12ebcc259a87f0d1cbb96f11f02ccde">SFMT</a>&#160;&#160;&#160;SECT_FMT</td></tr>
<tr class="separator:ae12ebcc259a87f0d1cbb96f11f02ccde"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a82220750c1cf89c8bf9479ef2756227d"><td class="memItemLeft" align="right" valign="top">typedef unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a82220750c1cf89c8bf9479ef2756227d">ullong</a></td></tr>
<tr class="separator:a82220750c1cf89c8bf9479ef2756227d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089d7f30225fe30f25261c31f165d7a2"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a089d7f30225fe30f25261c31f165d7a2">sector_t</a></td></tr>
<tr class="separator:a089d7f30225fe30f25261c31f165d7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8053cfc913a87b79b3ef38cc87d0ef7b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d6/d86/fdisk_8c.html#dd/d26/structsun__partition">sun_partition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a8053cfc913a87b79b3ef38cc87d0ef7b">sun_partition</a></td></tr>
<tr class="separator:a8053cfc913a87b79b3ef38cc87d0ef7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:af170916ab0b39c3221fe768fc8522c1c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cab4dda35825217ba7fe6a96d34710ad75">OPT_b</a> = 1 &lt;&lt; 0
, <a class="el" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cac612068cfab553ab17be89dd3f2526ac">OPT_C</a> = 1 &lt;&lt; 1
, <a class="el" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cabc3f4c4e17f06dfbd1176848143ae44a">OPT_H</a> = 1 &lt;&lt; 2
, <a class="el" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1ca0818228a48200c573de630327ec98fb7">OPT_l</a> = 1 &lt;&lt; 3
, <br />
&#160;&#160;<a class="el" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cae618899b2692df2072ee9b8c6f2d6c9d">OPT_S</a> = 1 &lt;&lt; 4
, <a class="el" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1ca8fa03491e90bbe6b963ff1bcedda4391">OPT_u</a> = 1 &lt;&lt; 5
, <a class="el" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1caed8800665371c11b204fb5d5fff2eaef">OPT_s</a> = (1 &lt;&lt; 6) * ENABLE_FEATURE_FDISK_BLKSIZE
<br />
 }</td></tr>
<tr class="separator:af170916ab0b39c3221fe768fc8522c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27a2d3d0fcd201122f8c13d604f91e38"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38">label_type</a> { <br />
&#160;&#160;<a class="el" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a3272049d10007bce8ba7c0fe628d6c27">LABEL_DOS</a>
, <a class="el" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a81c7ffd26594d4cb395d451355982ca3">LABEL_SUN</a>
, <a class="el" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a0cc4eed9cf5ad7206905627e0511c4a6">LABEL_SGI</a>
, <a class="el" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38af4dfcf9475a4ccf2de71b320c49d149b">LABEL_AIX</a>
, <br />
&#160;&#160;<a class="el" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a13b6579e2cf6d56b320e847264d38fd6">LABEL_OSF</a>
, <a class="el" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38aebbf478ec9c2b5d619d184e9b6e8d740">LABEL_GPT</a>
<br />
 }</td></tr>
<tr class="separator:a27a2d3d0fcd201122f8c13d604f91e38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4ab7bf743142dae2e459aa18f9f1d4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4">action</a> { <a class="el" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a4a8c678229911baefa72b56d09653dce">OPEN_MAIN</a>
, <a class="el" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a10a747f442fc970cd80d899512ea17ff">TRY_ONLY</a>
, <a class="el" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a228c210071509dd2caacebdb090fe3af">CREATE_EMPTY_DOS</a>
, <a class="el" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4ab860b6af0e742f6569dca8bba34961c0">CREATE_EMPTY_SUN</a>
 }</td></tr>
<tr class="separator:a2f4ab7bf743142dae2e459aa18f9f1d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a561331889c1daba01dc47aa3dd28fc80"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a> = 3
 }</td></tr>
<tr class="separator:a561331889c1daba01dc47aa3dd28fc80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7217d24ece5fb992121c320148238887"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a7217d24ece5fb992121c320148238887">update_units</a> (void)</td></tr>
<tr class="separator:a7217d24ece5fb992121c320148238887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a148369e999d0dbbfd4192e59f8673b"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a8a148369e999d0dbbfd4192e59f8673b">partition_type</a> (unsigned char <a class="el" href="../../df/df9/chcon_8c.html#a23506fc4821ab6d9671f3e6222591a96">type</a>)</td></tr>
<tr class="separator:a8a148369e999d0dbbfd4192e59f8673b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e6ddfc7c8e11b923a6097ea4618c658"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a4e6ddfc7c8e11b923a6097ea4618c658">get_geometry</a> (void)</td></tr>
<tr class="separator:a4e6ddfc7c8e11b923a6097ea4618c658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7461837c5a58677d4fb35593f58ca917"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a7461837c5a58677d4fb35593f58ca917">read_pte</a> (struct <a class="el" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a> *pe, <a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a> <a class="el" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>)</td></tr>
<tr class="separator:a7461837c5a58677d4fb35593f58ca917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29bb73f63f5ccfd30ae849abc71ba9e3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a29bb73f63f5ccfd30ae849abc71ba9e3">get_boot</a> (void)</td></tr>
<tr class="separator:a29bb73f63f5ccfd30ae849abc71ba9e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace19ccf1bb522bdf649402878b1b113b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ace19ccf1bb522bdf649402878b1b113b">get_start_sect</a> (const struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>)</td></tr>
<tr class="separator:ace19ccf1bb522bdf649402878b1b113b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee064635634ac73df910a62139b1f1be"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#aee064635634ac73df910a62139b1f1be">get_nr_sects</a> (const struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>)</td></tr>
<tr class="separator:aee064635634ac73df910a62139b1f1be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb675a7d8241af5941ef821675d516f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#afdb675a7d8241af5941ef821675d516f">bb_BLKGETSIZE_sectors</a> (int <a class="el" href="../../d3/d46/textbox_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>)</td></tr>
<tr class="separator:afdb675a7d8241af5941ef821675d516f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536d9bda6015d5326064113ecabb6fbd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a536d9bda6015d5326064113ecabb6fbd">close_dev_fd</a> (void)</td></tr>
<tr class="separator:a536d9bda6015d5326064113ecabb6fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78ade944fdb8299f8094708ffbc4d65"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ae78ade944fdb8299f8094708ffbc4d65">partname</a> (const char *dev, int pno, int lth)</td></tr>
<tr class="separator:ae78ade944fdb8299f8094708ffbc4d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a111825e769d293e24987a40b19a2f0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d03/platform_8h.html#aa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a7a111825e769d293e24987a40b19a2f0">str_units</a> (void)</td></tr>
<tr class="separator:a7a111825e769d293e24987a40b19a2f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30552b16c69a42f594f0c415ab47c18a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a30552b16c69a42f594f0c415ab47c18a">valid_part_table_flag</a> (const char *mbuffer)</td></tr>
<tr class="separator:a30552b16c69a42f594f0c415ab47c18a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6eac9452cffe3eafb6789d9976e30a9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ae6eac9452cffe3eafb6789d9976e30a9">fdisk_fatal</a> (const char *why)</td></tr>
<tr class="separator:ae6eac9452cffe3eafb6789d9976e30a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af857ea875ff7b4d5869d17753ecbb0d7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#af857ea875ff7b4d5869d17753ecbb0d7">seek_sector</a> (<a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a> secno)</td></tr>
<tr class="separator:af857ea875ff7b4d5869d17753ecbb0d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ce858cfe59adab930e34d751aa93b27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#a65f508aa267a91f1938425f6b4695764">STATIC_OSF</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a8ce858cfe59adab930e34d751aa93b27">bsd_select</a> (void)</td></tr>
<tr class="separator:a8ce858cfe59adab930e34d751aa93b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c4e2c7b1697011404817e20e528321"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#a65f508aa267a91f1938425f6b4695764">STATIC_OSF</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a61c4e2c7b1697011404817e20e528321">xbsd_print_disklabel</a> (int)</td></tr>
<tr class="separator:a61c4e2c7b1697011404817e20e528321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bee227a368080c2e0b1139dcffa3464"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#a32a208f98de24c6160093fbf669626d3">STATIC_GPT</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a0bee227a368080c2e0b1139dcffa3464">gpt_list_table</a> (int xtra)</td></tr>
<tr class="separator:a0bee227a368080c2e0b1139dcffa3464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e64176a256bf9262234b7c6fbd3fb72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a2e64176a256bf9262234b7c6fbd3fb72">sgi_get_num_sectors</a> (int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</td></tr>
<tr class="separator:a2e64176a256bf9262234b7c6fbd3fb72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accbd09b42e4ae82bace86322da52c092"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#accbd09b42e4ae82bace86322da52c092">sgi_get_sysid</a> (int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</td></tr>
<tr class="separator:accbd09b42e4ae82bace86322da52c092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d3ee9c706f9d9424533f298d143db4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ac3d3ee9c706f9d9424533f298d143db4">sgi_delete_partition</a> (int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</td></tr>
<tr class="separator:ac3d3ee9c706f9d9424533f298d143db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa93f8235bf959a322747515f05dffb03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#aa93f8235bf959a322747515f05dffb03">sgi_change_sysid</a> (int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, int sys)</td></tr>
<tr class="separator:aa93f8235bf959a322747515f05dffb03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005b6f6c67c1ece7255b11c407312e5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a005b6f6c67c1ece7255b11c407312e5e">sgi_list_table</a> (int xtra)</td></tr>
<tr class="separator:a005b6f6c67c1ece7255b11c407312e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad45d166c1a5a33e29f2e6abce0f9706d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ad45d166c1a5a33e29f2e6abce0f9706d">verify_sgi</a> (int <a class="el" href="../../d9/dab/apps_2base_2busybox_2util-linux_2mount_8c.html#afe0534ca994b08a0ec5edf614aa48e9c">verbose</a>)</td></tr>
<tr class="separator:ad45d166c1a5a33e29f2e6abce0f9706d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37010ca5d7e934f35870ac61f8e80bdc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a37010ca5d7e934f35870ac61f8e80bdc">sgi_add_partition</a> (int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, int sys)</td></tr>
<tr class="separator:a37010ca5d7e934f35870ac61f8e80bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd3a3c268a0122546fe2ed747c7cf1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a3dd3a3c268a0122546fe2ed747c7cf1b">sgi_set_swappartition</a> (int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</td></tr>
<tr class="separator:a3dd3a3c268a0122546fe2ed747c7cf1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5633d1dbb0c3acfaccee29f0c03e53b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a5633d1dbb0c3acfaccee29f0c03e53b6">sgi_get_bootfile</a> (void)</td></tr>
<tr class="separator:a5633d1dbb0c3acfaccee29f0c03e53b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b65203fa314ffd989ae71fb4f106b3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a2b65203fa314ffd989ae71fb4f106b3f">sgi_set_bootfile</a> (const char *aFile)</td></tr>
<tr class="separator:a2b65203fa314ffd989ae71fb4f106b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abebd6f0a368631956066513eeb38edf8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#abebd6f0a368631956066513eeb38edf8">create_sgiinfo</a> (void)</td></tr>
<tr class="separator:abebd6f0a368631956066513eeb38edf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1d56beae2b8f80ae39ecc17eaade4df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ae1d56beae2b8f80ae39ecc17eaade4df">sgi_write_table</a> (void)</td></tr>
<tr class="separator:ae1d56beae2b8f80ae39ecc17eaade4df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3111c5abe47d4d65370cda5bf08dceba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a3111c5abe47d4d65370cda5bf08dceba">sgi_set_bootpartition</a> (int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</td></tr>
<tr class="separator:a3111c5abe47d4d65370cda5bf08dceba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a467a4b7e935076f4de12aa4756be3646"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a467a4b7e935076f4de12aa4756be3646">sun_delete_partition</a> (int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</td></tr>
<tr class="separator:a467a4b7e935076f4de12aa4756be3646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f50384e6de85e96fba0209453a15b04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a0f50384e6de85e96fba0209453a15b04">sun_change_sysid</a> (int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, int sys)</td></tr>
<tr class="separator:a0f50384e6de85e96fba0209453a15b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81070874db6dbd9ea9ad37a182ee0b8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a81070874db6dbd9ea9ad37a182ee0b8d">sun_list_table</a> (int xtra)</td></tr>
<tr class="separator:a81070874db6dbd9ea9ad37a182ee0b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b3e51de7313b0e4c15de3e26830e313"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a8b3e51de7313b0e4c15de3e26830e313">add_sun_partition</a> (int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, int sys)</td></tr>
<tr class="separator:a8b3e51de7313b0e4c15de3e26830e313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5361197ea3b94552c5b2a7d633ac13c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a5361197ea3b94552c5b2a7d633ac13c0">toggle_sunflags</a> (int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, unsigned char mask)</td></tr>
<tr class="separator:a5361197ea3b94552c5b2a7d633ac13c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bd0e99d7f11cb1e1553d43660b313d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a2bd0e99d7f11cb1e1553d43660b313d5">verify_sun</a> (void)</td></tr>
<tr class="separator:a2bd0e99d7f11cb1e1553d43660b313d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37546a2ecdf5f54aa1a1f840cf755a77"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a37546a2ecdf5f54aa1a1f840cf755a77">sun_write_table</a> (void)</td></tr>
<tr class="separator:a37546a2ecdf5f54aa1a1f840cf755a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ce8e05a7906f27191168d4f9a843ff"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d86/fdisk_8c.html#a87409e591cec58551de6f857f18fc040">inline_if_little_endian</a> unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a54ce8e05a7906f27191168d4f9a843ff">read4_little_endian</a> (const unsigned char *cp)</td></tr>
<tr class="separator:a54ce8e05a7906f27191168d4f9a843ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad74c8bd677a70831a86f9750607a896d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ad74c8bd677a70831a86f9750607a896d">get_partition_start_from_dev_start</a> (const struct <a class="el" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a> *pe)</td></tr>
<tr class="separator:ad74c8bd677a70831a86f9750607a896d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41552b610612c2f20f01e9af00121d77"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a41552b610612c2f20f01e9af00121d77">is_cleared_partition</a> (const struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>)</td></tr>
<tr class="separator:a41552b610612c2f20f01e9af00121d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae32e0fc0f832107b709fb0fa92424e67"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ae32e0fc0f832107b709fb0fa92424e67">clear_partition</a> (struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>)</td></tr>
<tr class="separator:ae32e0fc0f832107b709fb0fa92424e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba66edb42af5c969551541d230ac0db6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#aba66edb42af5c969551541d230ac0db6">warn_geometry</a> (void)</td></tr>
<tr class="separator:aba66edb42af5c969551541d230ac0db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52534dfee8a389a78e8914495fa4b952"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a52534dfee8a389a78e8914495fa4b952">read_extended</a> (int ext)</td></tr>
<tr class="separator:a52534dfee8a389a78e8914495fa4b952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad910e41652bd981269e378153f5f334b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ad910e41652bd981269e378153f5f334b">get_sectorsize</a> (void)</td></tr>
<tr class="separator:ad910e41652bd981269e378153f5f334b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5460176fe75c0532fe39f1f7e1d1dcf7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a5460176fe75c0532fe39f1f7e1d1dcf7">get_kernel_geometry</a> (void)</td></tr>
<tr class="separator:a5460176fe75c0532fe39f1f7e1d1dcf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec5a925f00e01c31c2e17297621b5e39"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#aec5a925f00e01c31c2e17297621b5e39">get_partition_table_geometry</a> (void)</td></tr>
<tr class="separator:aec5a925f00e01c31c2e17297621b5e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd7a5c9e6c612873d2bc74a9faa11e7b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#acd7a5c9e6c612873d2bc74a9faa11e7b">linear2chs</a> (unsigned ls, unsigned *<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, unsigned *<a class="el" href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a>, unsigned *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</td></tr>
<tr class="separator:acd7a5c9e6c612873d2bc74a9faa11e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de08724504d2c04ceaeec27f4ca705e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a5de08724504d2c04ceaeec27f4ca705e">check_consistency</a> (const struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, int <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a>)</td></tr>
<tr class="separator:a5de08724504d2c04ceaeec27f4ca705e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcbb4951cf1fc5c2561714d1ca3a4ca4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#abcbb4951cf1fc5c2561714d1ca3a4ca4">list_disk_geometry</a> (void)</td></tr>
<tr class="separator:abcbb4951cf1fc5c2561714d1ca3a4ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b71c9ccd0719d1495a70b0b076e42ad"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a5b71c9ccd0719d1495a70b0b076e42ad">wrong_p_order</a> (int *prev)</td></tr>
<tr class="separator:a5b71c9ccd0719d1495a70b0b076e42ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b2f96a447957df8390a8d9b81e1d0d0"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a1b2f96a447957df8390a8d9b81e1d0d0">chs_string11</a> (unsigned cyl, unsigned <a class="el" href="../../d4/df7/atexit_8c.html#a3592dbf34b02b87a974abb8dc8cd642d">head</a>, unsigned sect)</td></tr>
<tr class="separator:a1b2f96a447957df8390a8d9b81e1d0d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed64a81bebe3294c65754aaa8db1ef9e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#aed64a81bebe3294c65754aaa8db1ef9e">list_table</a> (int xtra)</td></tr>
<tr class="separator:aed64a81bebe3294c65754aaa8db1ef9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9249df5b739c7971090026ed5e2c1e24"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a9249df5b739c7971090026ed5e2c1e24">is_ide_cdrom_or_tape</a> (const char *<a class="el" href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a>)</td></tr>
<tr class="separator:a9249df5b739c7971090026ed5e2c1e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a332aefec24846366643f47de7a0c2c25"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a332aefec24846366643f47de7a0c2c25">open_list_and_close</a> (const char *<a class="el" href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a>, int user_specified)</td></tr>
<tr class="separator:a332aefec24846366643f47de7a0c2c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aaa0f758ac4202923bbb2373585bbe7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a9aaa0f758ac4202923bbb2373585bbe7">is_whole_disk</a> (const char *disk)</td></tr>
<tr class="separator:a9aaa0f758ac4202923bbb2373585bbe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a160e9a0c9605723f84278b265159bdc1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a160e9a0c9605723f84278b265159bdc1">list_devs_in_proc_partititons</a> (void)</td></tr>
<tr class="separator:a160e9a0c9605723f84278b265159bdc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9adf052cd18108e18034ec2db2d7577a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a9adf052cd18108e18034ec2db2d7577a">fdisk_main</a> (int <a class="el" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, char **<a class="el" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>) <a class="el" href="../../d7/dd7/libbb_8h.html#a50bff3dbf83ecbd070954b228becba4e">MAIN_EXTERNALLY_VISIBLE</a></td></tr>
<tr class="separator:a9adf052cd18108e18034ec2db2d7577a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adc512008786952b905e74d3f85310fb8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#adc512008786952b905e74d3f85310fb8">PACKED</a></td></tr>
<tr class="separator:adc512008786952b905e74d3f85310fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac31aee6bfc7340dcb1bb6a2fd1dd19cc"><td class="memItemLeft" align="right" valign="top">static const char *const i386_sys_types[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#ac31aee6bfc7340dcb1bb6a2fd1dd19cc">ALIGN_PTR</a></td></tr>
<tr class="separator:ac31aee6bfc7340dcb1bb6a2fd1dd19cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d472c6fbef5d8592e6faf5d20c4563e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/d86/fdisk_8c.html#dd/d26/structsun__partition">sun_partition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a1d472c6fbef5d8592e6faf5d20c4563e">FIX_ALIASING</a></td></tr>
<tr class="separator:a1d472c6fbef5d8592e6faf5d20c4563e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d728d772089ab3d8f4ff2ea369be56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a01d728d772089ab3d8f4ff2ea369be56">sgi_sys_types</a> []</td></tr>
<tr class="separator:a01d728d772089ab3d8f4ff2ea369be56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1385ebb1a5fdff4ceae029bf46d5ade8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d86/fdisk_8c.html#a1385ebb1a5fdff4ceae029bf46d5ade8">sun_sys_types</a> []</td></tr>
<tr class="separator:a1385ebb1a5fdff4ceae029bf46d5ade8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="df/d6b/structhd__geometry" id="df/d6b/structhd__geometry"></a>
<h2 class="memtitle"><span class="permalink"><a href="#df/d6b/structhd__geometry">&#9670;&nbsp;</a></span>hd_geometry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct hd_geometry</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00179">179</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="adf2354180af743a37d98c72ea77758f1"></a>unsigned short</td>
<td class="fieldname">
cylinders</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a777af319775cb89d4cfec79de298204c"></a>unsigned char</td>
<td class="fieldname">
heads</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a989abe1cafcce5ebaf504dd0fe0b3929"></a>unsigned char</td>
<td class="fieldname">
sectors</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a3ec27a2064c3674365867d17e2f58d35"></a>unsigned long</td>
<td class="fieldname">
start</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d3/d98/structpartition" id="d3/d98/structpartition"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d3/d98/structpartition">&#9670;&nbsp;</a></span>partition</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct partition</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00203">203</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="af38600c19a868f12e768d53e7da60964"></a>unsigned char</td>
<td class="fieldname">
boot_ind</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a2b175901afba7bfb047d6e91203c07c3"></a>unsigned char</td>
<td class="fieldname">
cyl</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0a66bfc3704da859cf7f17b4bec6a9c0"></a>unsigned char</td>
<td class="fieldname">
end_cyl</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ab2a396dfced247d3a58fc639a7366f95"></a>unsigned char</td>
<td class="fieldname">
end_head</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7b162a9068849c32a86388dc92070509"></a>unsigned char</td>
<td class="fieldname">
end_sector</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac2a70b41be7abdbb595cc40ea400dbde"></a>unsigned char</td>
<td class="fieldname">
head</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a2b608034c5d531cf30b88d415bfb082f"></a>unsigned char</td>
<td class="fieldname">
sector</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af281763fafac87af967a5748f78cc370"></a>unsigned char</td>
<td class="fieldname">
size4[4]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a20f8d6934de72fbd0a36cc91f6ca3052"></a>unsigned char</td>
<td class="fieldname">
start4[4]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a173528a9f76c8e085660086b0ad46f5b"></a>unsigned char</td>
<td class="fieldname">
sys_ind</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="dd/d4e/structpte" id="dd/d4e/structpte"></a>
<h2 class="memtitle"><span class="permalink"><a href="#dd/d4e/structpte">&#9670;&nbsp;</a></span>pte</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct pte</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00224">224</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a66d4446bf994b5a6c8bd54a87999f559"></a>struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *</td>
<td class="fieldname">
ext_pointer</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7a31780bbc4f049162f0e33c2b1f26a1"></a><a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a></td>
<td class="fieldname">
offset_from_dev_start</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7f3daa9258d6d845fe6606e07d3499b4"></a>struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *</td>
<td class="fieldname">
part_table</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ae1bbffe24addef971c9dfbcc118c697b"></a>char *</td>
<td class="fieldname">
sectorbuffer</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="dd/d26/structsun__partition" id="dd/d26/structsun__partition"></a>
<h2 class="memtitle"><span class="permalink"><a href="#dd/d26/structsun__partition">&#9670;&nbsp;</a></span>sun_partition</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sun_partition</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00726">726</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="af50f1a5af6c8b7e8a2205839a4289b2c"></a>unsigned short</td>
<td class="fieldname">
csum</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa0bb390b5bf51e406be25222081cd30d"></a>unsigned short</td>
<td class="fieldname">
ilfact</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ad8892acbff1f3f75bbca62a0b25bd793"></a>unsigned char</td>
<td class="fieldname">
info[128]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0e210cb962b085ff649a3355bf049758"></a>struct <a class="el" href="../../d6/d86/fdisk_8c.html#da/d21/structsun__partition_1_1sun__info">sun_info</a></td>
<td class="fieldname">
infos[8]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af682a3b58d27eb9dcacc2b892cc5607f"></a>unsigned short</td>
<td class="fieldname">
magic</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a84b24fc81233c503f3d25bf22a91f8e6"></a>unsigned short</td>
<td class="fieldname">
nacyl</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a3026fdaf259f1a6dae887a6d61a9f5ed"></a>unsigned short</td>
<td class="fieldname">
ncyl</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aacc437022457f263ad8feda77bc65b67"></a>unsigned short</td>
<td class="fieldname">
nsect</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a4062c1dc837732506f44f0669aad0619"></a>unsigned short</td>
<td class="fieldname">
ntrks</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac75fe3723df99ac352c92f63933d434b"></a>struct <a class="el" href="../../d6/d86/fdisk_8c.html#d6/d11/structsun__partition_1_1sun__partinfo">sun_partinfo</a></td>
<td class="fieldname">
partitions[8]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a8d82e03361fddace1eea82495289b84a"></a>unsigned short</td>
<td class="fieldname">
pcylcount</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aeade57b395df1b90cc8892cb193d92b4"></a>unsigned short</td>
<td class="fieldname">
rspeed</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a96176752bcfcb7cb8dc829bc2c9bd2d1"></a>unsigned char</td>
<td class="fieldname">
spare0[14]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a14d138e8f6ba336db2ba79ceced22f00"></a>unsigned char</td>
<td class="fieldname">
spare1[246]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a84a7fabf5767e8d0287243d8873dc04d"></a>unsigned char</td>
<td class="fieldname">
spare2[4]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a3ed07042b0c265170a795805cdfac924"></a>unsigned char</td>
<td class="fieldname">
spare3[4]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a1122232a02b203b88f227430976e32b1"></a>unsigned short</td>
<td class="fieldname">
sparecyl</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="da/d21/structsun__partition_1_1sun__info" id="da/d21/structsun__partition_1_1sun__info"></a>
<h2 class="memtitle"><span class="permalink"><a href="#da/d21/structsun__partition_1_1sun__info">&#9670;&nbsp;</a></span>sun_partition::sun_info</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sun_partition::sun_info</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00729">729</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ab2d8e1b4bc545f8b7fe5b3c955efd2ed"></a>unsigned char</td>
<td class="fieldname">
flags</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa0376f7aad571fdab49ef67f1c4fdf92"></a>unsigned char</td>
<td class="fieldname">
id</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a39418174031644f39d0302a481c6ae0d"></a>unsigned char</td>
<td class="fieldname">
spare1</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="afa5532f9b588cfd0d3093f9108aac598"></a>unsigned char</td>
<td class="fieldname">
spare2</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d6/d11/structsun__partition_1_1sun__partinfo" id="d6/d11/structsun__partition_1_1sun__partinfo"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d6/d11/structsun__partition_1_1sun__partinfo">&#9670;&nbsp;</a></span>sun_partition::sun_partinfo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sun_partition::sun_partinfo</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00746">746</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="afa9c0a4a83f3f43313e29e518824c309"></a><a class="el" href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>
<td class="fieldname">
num_sectors</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aef95fa367945a6297317f6f6ee290608"></a><a class="el" href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>
<td class="fieldname">
start_cylinder</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0e6d20c5075b52b0f0bc4858d51c8591"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e6d20c5075b52b0f0bc4858d51c8591">&#9670;&nbsp;</a></span>_LARGEFILE64_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _LARGEFILE64_SOURCE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00111">111</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="acc164d22e553019768a5986e7439e24a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc164d22e553019768a5986e7439e24a">&#9670;&nbsp;</a></span>ACTIVE_FLAG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACTIVE_FLAG&#160;&#160;&#160;0x80</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00143">143</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a6d9a209a482f679387ff2a705054b838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d9a209a482f679387ff2a705054b838">&#9670;&nbsp;</a></span>BLKGETSIZE64</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLKGETSIZE64&#160;&#160;&#160;<a class="el" href="../../d9/ded/arch_2sh_2bits_2ioctl_8h.html#a48bd95ac670a5eded8c5f2ac067f59d0">_IOR</a>(0x12,114,<a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00119">119</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="af1f7903426b2f1e37edfad13faa6816b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1f7903426b2f1e37edfad13faa6816b">&#9670;&nbsp;</a></span>BLKSSZGET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLKSSZGET&#160;&#160;&#160;<a class="el" href="../../d9/ded/arch_2sh_2bits_2ioctl_8h.html#ad9c5081aab350191c4822e27c0508f1f">_IO</a>(0x12, 104)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00116">116</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a24393d13ef09068ab14db7b762c3c7dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24393d13ef09068ab14db7b762c3c7dc">&#9670;&nbsp;</a></span>cround</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cround</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a></td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="../../d6/d86/fdisk_8c.html#a68eb7498560f9e87288bd32b702230fd">display_in_cyl_units</a> ? ((<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>)/<a class="el" href="../../d6/d86/fdisk_8c.html#a55a44d9b0ad463a6578fee8ea11b2871">units_per_sector</a>)+1 : (<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00538">538</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a378f0823e6b2c5f247559f8e1415b08e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a378f0823e6b2c5f247559f8e1415b08e">&#9670;&nbsp;</a></span>current_label_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define current_label_type&#160;&#160;&#160;(G.current_label_type  )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00464">464</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ae9b69a749c6c7d6ba9086270f6149027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9b69a749c6c7d6ba9086270f6149027">&#9670;&nbsp;</a></span>cylinder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cylinder</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) | (((<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) &amp; 0xc0) &lt;&lt; 2))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00547">547</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ac3c1692602ecb7b77f997bb772ddf7ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3c1692602ecb7b77f997bb772ddf7ae">&#9670;&nbsp;</a></span>DEFAULT_SECTOR_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_SECTOR_SIZE&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00137">137</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="aebf1bdc1854ef37c2d1b979d9df7df72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebf1bdc1854ef37c2d1b979d9df7df72">&#9670;&nbsp;</a></span>DEFAULT_SECTOR_SIZE_STR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_SECTOR_SIZE_STR&#160;&#160;&#160;&quot;512&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00138">138</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a0b877e81f766a4d5938e74d70127d5c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b877e81f766a4d5938e74d70127d5c8">&#9670;&nbsp;</a></span>disk_device</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define disk_device&#160;&#160;&#160;(G.disk_device         )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00455">455</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a68eb7498560f9e87288bd32b702230fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68eb7498560f9e87288bd32b702230fd">&#9670;&nbsp;</a></span>display_in_cyl_units</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define display_in_cyl_units&#160;&#160;&#160;(G.display_in_cyl_units)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00465">465</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ad93813c8b72a4dc3a2aa61bccd058599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad93813c8b72a4dc3a2aa61bccd058599">&#9670;&nbsp;</a></span>dos_compatible_flag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define dos_compatible_flag&#160;&#160;&#160;(G.dos_compatible_flag    )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00468">468</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a32dcd924b84354d4bb4211829a8aba54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32dcd924b84354d4bb4211829a8aba54">&#9670;&nbsp;</a></span>ENABLE_FEATURE_FDISK_BLKSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENABLE_FEATURE_FDISK_BLKSIZE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00133">133</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a69d141f3e47cdf395ec8c8efd2f9d81c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69d141f3e47cdf395ec8c8efd2f9d81c">&#9670;&nbsp;</a></span>ext_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ext_index&#160;&#160;&#160;(G.ext_index              )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00470">470</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a99c8dafec4d0173d7cdf5de73f9cef69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99c8dafec4d0173d7cdf5de73f9cef69">&#9670;&nbsp;</a></span>EXTENDED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXTENDED&#160;&#160;&#160;0x05</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00145">145</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a31613843d3565606437366d581f91733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31613843d3565606437366d581f91733">&#9670;&nbsp;</a></span>extended_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define extended_offset&#160;&#160;&#160;(G.extended_offset        )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00478">478</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="aed9ea78689ecce0b7264c02c7f8a9a54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed9ea78689ecce0b7264c02c7f8a9a54">&#9670;&nbsp;</a></span>G</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define G&#160;&#160;&#160;(*<a class="el" href="../../d5/ded/ptr__to__globals_8c.html#aff79e45ec02a9716e59b3aca1c9b6808">ptr_to_globals</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00453">453</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ae370ac91c811573a048f14f11fbc9f0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae370ac91c811573a048f14f11fbc9f0d">&#9670;&nbsp;</a></span>g_cylinders</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define g_cylinders&#160;&#160;&#160;(G.g_cylinders         )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00463">463</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="aaadf4b0192d01471458a29c672a8a4ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaadf4b0192d01471458a29c672a8a4ed">&#9670;&nbsp;</a></span>g_heads</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define g_heads&#160;&#160;&#160;(G.g_heads             )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00461">461</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ad5e347d7ae83363b5be08c1f9b8c0635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5e347d7ae83363b5be08c1f9b8c0635">&#9670;&nbsp;</a></span>g_partitions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define g_partitions&#160;&#160;&#160;(G.g_partitions        )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00456">456</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="aab0badd8b4b1fecb4b38fd648fca39a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab0badd8b4b1fecb4b38fd648fca39a2">&#9670;&nbsp;</a></span>g_sectors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define g_sectors&#160;&#160;&#160;(G.g_sectors           )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00462">462</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a420bb8f1c86e0b48af746f4748d5c9f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a420bb8f1c86e0b48af746f4748d5c9f6">&#9670;&nbsp;</a></span>get_boot</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define get_boot</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">what</td><td>)</td>
          <td>&#160;&#160;&#160;get_boot()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab892b117010088370ebef07270b5a445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab892b117010088370ebef07270b5a445">&#9670;&nbsp;</a></span>get_sys_types</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define get_sys_types</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;i386_sys_types</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01046">1046</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a78f500ec2e4a77fa04886139eddde0e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f500ec2e4a77fa04886139eddde0e5">&#9670;&nbsp;</a></span>HDIO_GETGEO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HDIO_GETGEO&#160;&#160;&#160;0x0301  /* <a class="el" href="../../df/d75/dump_8c.html#abef5fe2b35640be38a89607d3ded8d96">get</a> <a class="el" href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a> geometry */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00186">186</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a9e3f4d05d6f087d04d4041c0e591830c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e3f4d05d6f087d04d4041c0e591830c">&#9670;&nbsp;</a></span>IF_FEATURE_FDISK_BLKSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IF_FEATURE_FDISK_BLKSIZE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00134">134</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a39d017e5ed76fae1ae7cec57e0d600c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39d017e5ed76fae1ae7cec57e0d600c4">&#9670;&nbsp;</a></span>INIT_G</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INIT_G</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">    SET_PTR_TO_GLOBALS(<a class="code" href="../../d7/dd7/libbb_8h.html#a6b9d12af476b8fa4b9de87028b0ac27c">xzalloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d6/d86/fdisk_8c.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>))); \</div>
<div class="line">    sector_size = <a class="code" href="../../d6/d86/fdisk_8c.html#ac3c1692602ecb7b77f997bb772ddf7ae">DEFAULT_SECTOR_SIZE</a>; \</div>
<div class="line">    sector_offset = 1; \</div>
<div class="line">    g_partitions = 4; \</div>
<div class="line">    units_per_sector = 1; \</div>
<div class="line">    dos_compatible_flag = 1; \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="afdisk_8c_html_ac3c1692602ecb7b77f997bb772ddf7ae"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ac3c1692602ecb7b77f997bb772ddf7ae">DEFAULT_SECTOR_SIZE</a></div><div class="ttdeci">#define DEFAULT_SECTOR_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00137">fdisk.c:137</a></div></div>
<div class="ttc" id="afdisk_8c_html_aed9ea78689ecce0b7264c02c7f8a9a54"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a></div><div class="ttdeci">#define G</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00453">fdisk.c:453</a></div></div>
<div class="ttc" id="alibbb_8h_html_a6b9d12af476b8fa4b9de87028b0ac27c"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a6b9d12af476b8fa4b9de87028b0ac27c">xzalloc</a></div><div class="ttdeci">void * xzalloc(size_t size) FAST_FUNC RETURNS_MALLOC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00069">xfuncs_printf.c:69</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00484">484</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a87409e591cec58551de6f857f18fc040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87409e591cec58551de6f857f18fc040">&#9670;&nbsp;</a></span>inline_if_little_endian</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define inline_if_little_endian&#160;&#160;&#160;/* nothing */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00127">127</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a721555a94d3eb9f229a4bcd5480b1829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721555a94d3eb9f229a4bcd5480b1829">&#9670;&nbsp;</a></span>IS_EXTENDED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IS_EXTENDED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></td><td>)</td>
          <td>&#160;&#160;&#160;	((<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="el" href="../../d6/d86/fdisk_8c.html#a99c8dafec4d0173d7cdf5de73f9cef69">EXTENDED</a> || (<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="el" href="../../d6/d86/fdisk_8c.html#a021a0aa01a297d087b763317fea84ce8">WIN98_EXTENDED</a> || (<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="el" href="../../d6/d86/fdisk_8c.html#a82d2bbf4678ef9c2ebdf7afd17125593">LINUX_EXTENDED</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00535">535</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a9421762d5600d0b27edf78208319fac3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9421762d5600d0b27edf78208319fac3">&#9670;&nbsp;</a></span>kern_heads</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kern_heads&#160;&#160;&#160;(G.kern_heads             )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00476">476</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a30b734c32e3e61903d28b9fd58bf48c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b734c32e3e61903d28b9fd58bf48c8">&#9670;&nbsp;</a></span>kern_sectors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kern_sectors&#160;&#160;&#160;(G.kern_sectors           )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00477">477</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a62ea590164b267ab678233cbd76f28a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62ea590164b267ab678233cbd76f28a6">&#9670;&nbsp;</a></span>LABEL_IS_AIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LABEL_IS_AIX&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00264">264</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a0e6394cea9c018ca9809f75a55be2f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e6394cea9c018ca9809f75a55be2f8e">&#9670;&nbsp;</a></span>LABEL_IS_DOS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LABEL_IS_DOS&#160;&#160;&#160;(<a class="el" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a3272049d10007bce8ba7c0fe628d6c27">LABEL_DOS</a> == <a class="el" href="../../d6/d86/fdisk_8c.html#a378f0823e6b2c5f247559f8e1415b08e">current_label_type</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00242">242</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a38496576551087ddb3fb66db120563ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38496576551087ddb3fb66db120563ba">&#9670;&nbsp;</a></span>LABEL_IS_GPT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LABEL_IS_GPT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00280">280</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a7a3ff67b12e3f3761575efd4192c1d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a3ff67b12e3f3761575efd4192c1d79">&#9670;&nbsp;</a></span>LABEL_IS_OSF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LABEL_IS_OSF&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00272">272</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ad2eaa19090d1666f2613f71ef933f471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2eaa19090d1666f2613f71ef933f471">&#9670;&nbsp;</a></span>LABEL_IS_SGI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LABEL_IS_SGI&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00256">256</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a6627bdd198755fbcc7607b1998f8e9a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6627bdd198755fbcc7607b1998f8e9a2">&#9670;&nbsp;</a></span>LABEL_IS_SUN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LABEL_IS_SUN&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00248">248</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a2dcc31ad0c530af263781988104e15e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dcc31ad0c530af263781988104e15e8">&#9670;&nbsp;</a></span>line_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define line_buffer&#160;&#160;&#160;(G.line_buffer    )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00481">481</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a540fa15c29df2f015ffd57bacbd90277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a540fa15c29df2f015ffd57bacbd90277">&#9670;&nbsp;</a></span>line_ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define line_ptr&#160;&#160;&#160;(G.line_ptr            )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00454">454</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a82d2bbf4678ef9c2ebdf7afd17125593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82d2bbf4678ef9c2ebdf7afd17125593">&#9670;&nbsp;</a></span>LINUX_EXTENDED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LINUX_EXTENDED&#160;&#160;&#160;0x85</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00150">150</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a718faa1ee85457102f532ce199eaf670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a718faa1ee85457102f532ce199eaf670">&#9670;&nbsp;</a></span>LINUX_LVM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LINUX_LVM&#160;&#160;&#160;0x8e</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00151">151</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a8089d2c2434067bce631a3fbef2e7b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8089d2c2434067bce631a3fbef2e7b61">&#9670;&nbsp;</a></span>LINUX_NATIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LINUX_NATIVE&#160;&#160;&#160;0x83</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00149">149</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a59f51dec9a22d463477ae05af869483d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f51dec9a22d463477ae05af869483d">&#9670;&nbsp;</a></span>LINUX_PARTITION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LINUX_PARTITION&#160;&#160;&#160;0x81</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00147">147</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ad47ce378a36f813b6084bd99cef54e76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad47ce378a36f813b6084bd99cef54e76">&#9670;&nbsp;</a></span>LINUX_RAID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LINUX_RAID&#160;&#160;&#160;0xfd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00152">152</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="acb740dc8312a7c0142dc4d9d5e50568f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb740dc8312a7c0142dc4d9d5e50568f">&#9670;&nbsp;</a></span>LINUX_SWAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LINUX_SWAP&#160;&#160;&#160;0x82</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00148">148</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ac6c1c6fb219b4890c521099e31d93ae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6c1c6fb219b4890c521099e31d93ae5">&#9670;&nbsp;</a></span>listing</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define listing&#160;&#160;&#160;(G.listing                )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00467">467</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a534b5fcde5aa1a3279853859f25a0b1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a534b5fcde5aa1a3279853859f25a0b1b">&#9670;&nbsp;</a></span>listingbuf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define listingbuf&#160;&#160;&#160;(G.listingbuf     )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00480">480</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a518f93bb8cc7b4b21916937d60e8c325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a518f93bb8cc7b4b21916937d60e8c325">&#9670;&nbsp;</a></span>MAX_SECTOR_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_SECTOR_SIZE&#160;&#160;&#160;2048</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00139">139</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="adac93740a3747098373daf0418d7cbc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adac93740a3747098373daf0418d7cbc1">&#9670;&nbsp;</a></span>MAXIMUM_PARTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXIMUM_PARTS&#160;&#160;&#160;60</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00141">141</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a20da189169473c9d3f3703f01157938e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20da189169473c9d3f3703f01157938e">&#9670;&nbsp;</a></span>MBRbuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MBRbuffer&#160;&#160;&#160;(G.MBRbuffer      )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00482">482</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a8cf2fc47c17cbef88cc7cfae9d564503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cf2fc47c17cbef88cc7cfae9d564503">&#9670;&nbsp;</a></span>nowarn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nowarn&#160;&#160;&#160;(G.nowarn                 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00469">469</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a0b80ae8563a335645641bc83e24153c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b80ae8563a335645641bc83e24153c8">&#9670;&nbsp;</a></span>possibly_osf_label</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define possibly_osf_label&#160;&#160;&#160;(G.possibly_osf_label  )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00466">466</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a25e5104a01746cb78c2992d82b7660b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25e5104a01746cb78c2992d82b7660b1">&#9670;&nbsp;</a></span>pt_heads</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pt_heads&#160;&#160;&#160;(G.pt_heads               )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00474">474</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a7d07329637cebcf0db475c840ffac4e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d07329637cebcf0db475c840ffac4e6">&#9670;&nbsp;</a></span>pt_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pt_offset</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;	((struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *)((b) + 0x1be + (<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>) * sizeof(struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a>)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00542">542</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a2de7ef0760afe32f4e62013830990adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2de7ef0760afe32f4e62013830990adb">&#9670;&nbsp;</a></span>pt_sectors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pt_sectors&#160;&#160;&#160;(G.pt_sectors             )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00475">475</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a80a004ea09a4494a3bc684dcde4a9614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80a004ea09a4494a3bc684dcde4a9614">&#9670;&nbsp;</a></span>ptes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ptes&#160;&#160;&#160;(G.ptes           )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00483">483</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="abac729d6bf038e28508486718e47a298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac729d6bf038e28508486718e47a298">&#9670;&nbsp;</a></span>scround</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define scround</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#aeb26462df30f47f6fd73ee802457812b">x</a></td><td>)</td>
          <td>&#160;&#160;&#160;(((<a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#aeb26462df30f47f6fd73ee802457812b">x</a>)+<a class="el" href="../../d6/d86/fdisk_8c.html#a55a44d9b0ad463a6578fee8ea11b2871">units_per_sector</a>-1)/<a class="el" href="../../d6/d86/fdisk_8c.html#a55a44d9b0ad463a6578fee8ea11b2871">units_per_sector</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00540">540</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a7148005e59de183e5b9987f02af549ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7148005e59de183e5b9987f02af549ce">&#9670;&nbsp;</a></span>sector</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sector</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a></td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) &amp; 0x3f)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00545">545</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a3e400052a1f72cad8347f2a725bee544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e400052a1f72cad8347f2a725bee544">&#9670;&nbsp;</a></span>sector_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sector_offset&#160;&#160;&#160;(G.sector_offset       )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00460">460</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="aa35bad1e92008da628f27b2f6bb270aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa35bad1e92008da628f27b2f6bb270aa">&#9670;&nbsp;</a></span>SECTOR_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SECTOR_SIZE&#160;&#160;&#160;512 /* still used in osf/sgi/sun <a class="el" href="../../d0/d6b/compress_8c.html#a814f6dab3b0678113d97a3684282934a">code</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00140">140</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a1b18f4b960b1edf77fa6c4f9c668d1f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b18f4b960b1edf77fa6c4f9c668d1f9">&#9670;&nbsp;</a></span>sector_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sector_size&#160;&#160;&#160;(G.sector_size         )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00458">458</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ae12ebcc259a87f0d1cbb96f11f02ccde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae12ebcc259a87f0d1cbb96f11f02ccde">&#9670;&nbsp;</a></span>SFMT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SFMT&#160;&#160;&#160;SECT_FMT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa8e18d4ac5844380be0bdeef592a2d33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8e18d4ac5844380be0bdeef592a2d33">&#9670;&nbsp;</a></span>STATIC_AIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATIC_AIX&#160;&#160;&#160;extern</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00265">265</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a32a208f98de24c6160093fbf669626d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32a208f98de24c6160093fbf669626d3">&#9670;&nbsp;</a></span>STATIC_GPT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATIC_GPT&#160;&#160;&#160;extern</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00281">281</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a65f508aa267a91f1938425f6b4695764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f508aa267a91f1938425f6b4695764">&#9670;&nbsp;</a></span>STATIC_OSF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATIC_OSF&#160;&#160;&#160;extern</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00273">273</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="aa9ca1523d04e84c11dac7411248eb32d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9ca1523d04e84c11dac7411248eb32d">&#9670;&nbsp;</a></span>STATIC_SGI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATIC_SGI&#160;&#160;&#160;extern</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00257">257</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ac48d7994a51eec295100f9771a84309d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac48d7994a51eec295100f9771a84309d">&#9670;&nbsp;</a></span>STATIC_SUN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATIC_SUN&#160;&#160;&#160;extern</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00249">249</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="addfc06f244d59275a856e519e0f67fe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addfc06f244d59275a856e519e0f67fe1">&#9670;&nbsp;</a></span>sunlabel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sunlabel&#160;&#160;&#160;((<a class="el" href="../../d6/d86/fdisk_8c.html#dd/d26/structsun__partition">sun_partition</a> *)<a class="el" href="../../d6/d86/fdisk_8c.html#a20da189169473c9d3f3703f01157938e">MBRbuffer</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00754">754</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="af65c9488b5c43c3216664219e6f7055b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af65c9488b5c43c3216664219e6f7055b">&#9670;&nbsp;</a></span>total_number_of_sectors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define total_number_of_sectors&#160;&#160;&#160;(G.total_number_of_sectors)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00479">479</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ae3aa986049e03f863eaf24b7c86c3d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3aa986049e03f863eaf24b7c86c3d2c">&#9670;&nbsp;</a></span>unable_to_open</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define unable_to_open&#160;&#160;&#160;&quot;can'<a class="el" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> <a class="el" href="../../da/deb/open_8c.html#ae228c30ac0826ace5835545e40416e57">open</a> '%<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>'&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00234">234</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="abf9c4e6dce6c27a2ed58fe800d92f7dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf9c4e6dce6c27a2ed58fe800d92f7dc">&#9670;&nbsp;</a></span>unable_to_read</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define unable_to_read&#160;&#160;&#160;&quot;can'<a class="el" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> <a class="el" href="../../df/d40/musl_2src_2unistd_2read_8c.html#af32a16ad2dd9e48482f8f790db7dbbd2">read</a> '%<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>'&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00235">235</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a0efe9444192c556161042ae8068e7e20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0efe9444192c556161042ae8068e7e20">&#9670;&nbsp;</a></span>unable_to_seek</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define unable_to_seek&#160;&#160;&#160;&quot;can'<a class="el" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> <a class="el" href="../../d2/dd6/dd_8c.html#a227a0f35c842838d0a0a55fdf14b0ce6">seek</a> '%<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>'&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00236">236</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a55a44d9b0ad463a6578fee8ea11b2871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55a44d9b0ad463a6578fee8ea11b2871">&#9670;&nbsp;</a></span>units_per_sector</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define units_per_sector&#160;&#160;&#160;(G.units_per_sector    )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00457">457</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ab86f025a783f066b7ae14413dbc3b0d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab86f025a783f066b7ae14413dbc3b0d3">&#9670;&nbsp;</a></span>user_cylinders</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define user_cylinders&#160;&#160;&#160;(G.user_cylinders         )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00471">471</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a17c00fb725118ebbcafa8a0c672f6ae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17c00fb725118ebbcafa8a0c672f6ae8">&#9670;&nbsp;</a></span>user_heads</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define user_heads&#160;&#160;&#160;(G.user_heads             )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00472">472</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="ad398114ee945e9664ab91bdc811bc30a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad398114ee945e9664ab91bdc811bc30a">&#9670;&nbsp;</a></span>user_sectors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define user_sectors&#160;&#160;&#160;(G.user_sectors           )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00473">473</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a557a92f2b7096a947348c7fb090c1175"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a557a92f2b7096a947348c7fb090c1175">&#9670;&nbsp;</a></span>user_set_sector_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define user_set_sector_size&#160;&#160;&#160;(G.user_set_sector_size)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00459">459</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a021a0aa01a297d087b763317fea84ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021a0aa01a297d087b763317fea84ce8">&#9670;&nbsp;</a></span>WIN98_EXTENDED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIN98_EXTENDED&#160;&#160;&#160;0x0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00146">146</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a089d7f30225fe30f25261c31f165d7a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a089d7f30225fe30f25261c31f165d7a2">&#9670;&nbsp;</a></span>sector_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00170">170</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a8053cfc913a87b79b3ef38cc87d0ef7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8053cfc913a87b79b3ef38cc87d0ef7b">&#9670;&nbsp;</a></span>sun_partition</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d6/d86/fdisk_8c.html#dd/d26/structsun__partition">sun_partition</a> <a class="el" href="../../d6/d86/fdisk_8c.html#dd/d26/structsun__partition">sun_partition</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00622">622</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a82220750c1cf89c8bf9479ef2756227d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82220750c1cf89c8bf9479ef2756227d">&#9670;&nbsp;</a></span>ullong</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned long long <a class="el" href="../../d4/dcd/nmeter_8c.html#a82220750c1cf89c8bf9479ef2756227d">ullong</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00166">166</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="af170916ab0b39c3221fe768fc8522c1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af170916ab0b39c3221fe768fc8522c1c">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af170916ab0b39c3221fe768fc8522c1cab4dda35825217ba7fe6a96d34710ad75"></a>OPT_b&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af170916ab0b39c3221fe768fc8522c1cac612068cfab553ab17be89dd3f2526ac"></a>OPT_C&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af170916ab0b39c3221fe768fc8522c1cabc3f4c4e17f06dfbd1176848143ae44a"></a>OPT_H&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af170916ab0b39c3221fe768fc8522c1ca0818228a48200c573de630327ec98fb7"></a>OPT_l&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af170916ab0b39c3221fe768fc8522c1cae618899b2692df2072ee9b8c6f2d6c9d"></a>OPT_S&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af170916ab0b39c3221fe768fc8522c1ca8fa03491e90bbe6b963ff1bcedda4391"></a>OPT_u&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af170916ab0b39c3221fe768fc8522c1caed8800665371c11b204fb5d5fff2eaef"></a>OPT_s&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00155">155</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;     {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cab4dda35825217ba7fe6a96d34710ad75">OPT_b</a> = 1 &lt;&lt; 0,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cac612068cfab553ab17be89dd3f2526ac">OPT_C</a> = 1 &lt;&lt; 1,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cabc3f4c4e17f06dfbd1176848143ae44a">OPT_H</a> = 1 &lt;&lt; 2,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1ca0818228a48200c573de630327ec98fb7">OPT_l</a> = 1 &lt;&lt; 3,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cae618899b2692df2072ee9b8c6f2d6c9d">OPT_S</a> = 1 &lt;&lt; 4,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1ca8fa03491e90bbe6b963ff1bcedda4391">OPT_u</a> = 1 &lt;&lt; 5,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1caed8800665371c11b204fb5d5fff2eaef">OPT_s</a> = (1 &lt;&lt; 6) * <a class="code" href="../../d6/d86/fdisk_8c.html#a32dcd924b84354d4bb4211829a8aba54">ENABLE_FEATURE_FDISK_BLKSIZE</a>,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;};</div>
<div class="ttc" id="afdisk_8c_html_a32dcd924b84354d4bb4211829a8aba54"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a32dcd924b84354d4bb4211829a8aba54">ENABLE_FEATURE_FDISK_BLKSIZE</a></div><div class="ttdeci">#define ENABLE_FEATURE_FDISK_BLKSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00133">fdisk.c:133</a></div></div>
<div class="ttc" id="afdisk_8c_html_af170916ab0b39c3221fe768fc8522c1ca0818228a48200c573de630327ec98fb7"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1ca0818228a48200c573de630327ec98fb7">OPT_l</a></div><div class="ttdeci">@ OPT_l</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00159">fdisk.c:159</a></div></div>
<div class="ttc" id="afdisk_8c_html_af170916ab0b39c3221fe768fc8522c1ca8fa03491e90bbe6b963ff1bcedda4391"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1ca8fa03491e90bbe6b963ff1bcedda4391">OPT_u</a></div><div class="ttdeci">@ OPT_u</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00161">fdisk.c:161</a></div></div>
<div class="ttc" id="afdisk_8c_html_af170916ab0b39c3221fe768fc8522c1cab4dda35825217ba7fe6a96d34710ad75"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cab4dda35825217ba7fe6a96d34710ad75">OPT_b</a></div><div class="ttdeci">@ OPT_b</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00156">fdisk.c:156</a></div></div>
<div class="ttc" id="afdisk_8c_html_af170916ab0b39c3221fe768fc8522c1cabc3f4c4e17f06dfbd1176848143ae44a"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cabc3f4c4e17f06dfbd1176848143ae44a">OPT_H</a></div><div class="ttdeci">@ OPT_H</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00158">fdisk.c:158</a></div></div>
<div class="ttc" id="afdisk_8c_html_af170916ab0b39c3221fe768fc8522c1cac612068cfab553ab17be89dd3f2526ac"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cac612068cfab553ab17be89dd3f2526ac">OPT_C</a></div><div class="ttdeci">@ OPT_C</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00157">fdisk.c:157</a></div></div>
<div class="ttc" id="afdisk_8c_html_af170916ab0b39c3221fe768fc8522c1cae618899b2692df2072ee9b8c6f2d6c9d"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cae618899b2692df2072ee9b8c6f2d6c9d">OPT_S</a></div><div class="ttdeci">@ OPT_S</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00160">fdisk.c:160</a></div></div>
<div class="ttc" id="afdisk_8c_html_af170916ab0b39c3221fe768fc8522c1caed8800665371c11b204fb5d5fff2eaef"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1caed8800665371c11b204fb5d5fff2eaef">OPT_s</a></div><div class="ttdeci">@ OPT_s</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00162">fdisk.c:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a561331889c1daba01dc47aa3dd28fc80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a561331889c1daba01dc47aa3dd28fc80">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847"></a>dev_fd&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00411">411</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;     {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a> = 3                  <span class="comment">/* the disk */</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;};</div>
<div class="ttc" id="afdisk_8c_html_a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a></div><div class="ttdeci">@ dev_fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00413">fdisk.c:412</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f4ab7bf743142dae2e459aa18f9f1d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f4ab7bf743142dae2e459aa18f9f1d4">&#9670;&nbsp;</a></span>action</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2f4ab7bf743142dae2e459aa18f9f1d4a4a8c678229911baefa72b56d09653dce"></a>OPEN_MAIN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2f4ab7bf743142dae2e459aa18f9f1d4a10a747f442fc970cd80d899512ea17ff"></a>TRY_ONLY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2f4ab7bf743142dae2e459aa18f9f1d4a228c210071509dd2caacebdb090fe3af"></a>CREATE_EMPTY_DOS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2f4ab7bf743142dae2e459aa18f9f1d4ab860b6af0e742f6569dca8bba34961c0"></a>CREATE_EMPTY_SUN&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00284">284</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;{ <a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a4a8c678229911baefa72b56d09653dce">OPEN_MAIN</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a10a747f442fc970cd80d899512ea17ff">TRY_ONLY</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a228c210071509dd2caacebdb090fe3af">CREATE_EMPTY_DOS</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4ab860b6af0e742f6569dca8bba34961c0">CREATE_EMPTY_SUN</a> };</div>
<div class="ttc" id="afdisk_8c_html_a2f4ab7bf743142dae2e459aa18f9f1d4a10a747f442fc970cd80d899512ea17ff"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a10a747f442fc970cd80d899512ea17ff">TRY_ONLY</a></div><div class="ttdeci">@ TRY_ONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00284">fdisk.c:284</a></div></div>
<div class="ttc" id="afdisk_8c_html_a2f4ab7bf743142dae2e459aa18f9f1d4a228c210071509dd2caacebdb090fe3af"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a228c210071509dd2caacebdb090fe3af">CREATE_EMPTY_DOS</a></div><div class="ttdeci">@ CREATE_EMPTY_DOS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00284">fdisk.c:284</a></div></div>
<div class="ttc" id="afdisk_8c_html_a2f4ab7bf743142dae2e459aa18f9f1d4a4a8c678229911baefa72b56d09653dce"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a4a8c678229911baefa72b56d09653dce">OPEN_MAIN</a></div><div class="ttdeci">@ OPEN_MAIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00284">fdisk.c:284</a></div></div>
<div class="ttc" id="afdisk_8c_html_a2f4ab7bf743142dae2e459aa18f9f1d4ab860b6af0e742f6569dca8bba34961c0"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4ab860b6af0e742f6569dca8bba34961c0">CREATE_EMPTY_SUN</a></div><div class="ttdeci">@ CREATE_EMPTY_SUN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00284">fdisk.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a27a2d3d0fcd201122f8c13d604f91e38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27a2d3d0fcd201122f8c13d604f91e38">&#9670;&nbsp;</a></span>label_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38">label_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a27a2d3d0fcd201122f8c13d604f91e38a3272049d10007bce8ba7c0fe628d6c27"></a>LABEL_DOS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a27a2d3d0fcd201122f8c13d604f91e38a81c7ffd26594d4cb395d451355982ca3"></a>LABEL_SUN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a27a2d3d0fcd201122f8c13d604f91e38a0cc4eed9cf5ad7206905627e0511c4a6"></a>LABEL_SGI&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a27a2d3d0fcd201122f8c13d604f91e38af4dfcf9475a4ccf2de71b320c49d149b"></a>LABEL_AIX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a27a2d3d0fcd201122f8c13d604f91e38a13b6579e2cf6d56b320e847264d38fd6"></a>LABEL_OSF&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a27a2d3d0fcd201122f8c13d604f91e38aebbf478ec9c2b5d619d184e9b6e8d740"></a>LABEL_GPT&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00238">238</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a3272049d10007bce8ba7c0fe628d6c27">LABEL_DOS</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a81c7ffd26594d4cb395d451355982ca3">LABEL_SUN</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a0cc4eed9cf5ad7206905627e0511c4a6">LABEL_SGI</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38af4dfcf9475a4ccf2de71b320c49d149b">LABEL_AIX</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a13b6579e2cf6d56b320e847264d38fd6">LABEL_OSF</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38aebbf478ec9c2b5d619d184e9b6e8d740">LABEL_GPT</a></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;};</div>
<div class="ttc" id="afdisk_8c_html_a27a2d3d0fcd201122f8c13d604f91e38a0cc4eed9cf5ad7206905627e0511c4a6"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a0cc4eed9cf5ad7206905627e0511c4a6">LABEL_SGI</a></div><div class="ttdeci">@ LABEL_SGI</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00239">fdisk.c:239</a></div></div>
<div class="ttc" id="afdisk_8c_html_a27a2d3d0fcd201122f8c13d604f91e38a13b6579e2cf6d56b320e847264d38fd6"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a13b6579e2cf6d56b320e847264d38fd6">LABEL_OSF</a></div><div class="ttdeci">@ LABEL_OSF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00239">fdisk.c:239</a></div></div>
<div class="ttc" id="afdisk_8c_html_a27a2d3d0fcd201122f8c13d604f91e38a3272049d10007bce8ba7c0fe628d6c27"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a3272049d10007bce8ba7c0fe628d6c27">LABEL_DOS</a></div><div class="ttdeci">@ LABEL_DOS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00239">fdisk.c:239</a></div></div>
<div class="ttc" id="afdisk_8c_html_a27a2d3d0fcd201122f8c13d604f91e38a81c7ffd26594d4cb395d451355982ca3"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a81c7ffd26594d4cb395d451355982ca3">LABEL_SUN</a></div><div class="ttdeci">@ LABEL_SUN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00239">fdisk.c:239</a></div></div>
<div class="ttc" id="afdisk_8c_html_a27a2d3d0fcd201122f8c13d604f91e38aebbf478ec9c2b5d619d184e9b6e8d740"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38aebbf478ec9c2b5d619d184e9b6e8d740">LABEL_GPT</a></div><div class="ttdeci">@ LABEL_GPT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00240">fdisk.c:239</a></div></div>
<div class="ttc" id="afdisk_8c_html_a27a2d3d0fcd201122f8c13d604f91e38af4dfcf9475a4ccf2de71b320c49d149b"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38af4dfcf9475a4ccf2de71b320c49d149b">LABEL_AIX</a></div><div class="ttdeci">@ LABEL_AIX</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00239">fdisk.c:239</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8b3e51de7313b0e4c15de3e26830e313"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b3e51de7313b0e4c15de3e26830e313">&#9670;&nbsp;</a></span>add_sun_partition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void add_sun_partition </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afdb675a7d8241af5941ef821675d516f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdb675a7d8241af5941ef821675d516f">&#9670;&nbsp;</a></span>bb_BLKGETSIZE_sectors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a> bb_BLKGETSIZE_sectors </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00498">498</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;{</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="../../dd/ddd/arithmetic__operations_8c.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> v64;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> longsectors;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/Userspace_2musl_2include_2stropts_8h.html#ae3a230c65883ec8edc50e3a09ca80003">ioctl</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a6d9a209a482f679387ff2a705054b838">BLKGETSIZE64</a>, &amp;v64) == 0) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="comment">/* Got bytes, convert to 512 byte sectors */</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        v64 &gt;&gt;= 9;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">if</span> (v64 != (<a class="code" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a>)v64) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; ret_trunc:</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <span class="comment">/* Not only DOS, but all other partition tables</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">             * we support can&#39;t record more than 32 bit</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">             * sector counts or offsets</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#adda54c033215173332478fed15ec2fa5">bb_simple_error_msg</a>(<span class="stringliteral">&quot;device has more than 2^32 sectors, can&#39;t use all of them&quot;</span>);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            v64 = (<a class="code" href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)-1L;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordflow">return</span> v64;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">/* Needs temp of type long */</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/Userspace_2musl_2include_2stropts_8h.html#ae3a230c65883ec8edc50e3a09ca80003">ioctl</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../dc/d72/fsck__minix_8c.html#a442fbea07a178e412863c5c57440f8e0">BLKGETSIZE</a>, &amp;longsectors)) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="comment">/* Perhaps this is a disk image */</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <a class="code" href="../../d4/dba/Drivers_2include_2types_8h.html#a37aff01e955441499997a359a4153b3d">off_t</a> sz = <a class="code" href="../../d1/d85/filesystem_8hpp.html#a8bd74caed008a66808d92d57fa74d9f6">lseek</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>, 0, <a class="code" href="../../d1/d85/filesystem_8hpp.html#ad2a2e6c114780c3071efd24f16c7f7d8">SEEK_END</a>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        longsectors = 0;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">if</span> (sz &gt; 0)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            longsectors = (<a class="code" href="../../d7/dd7/libbb_8h.html#a56ad4b1fa4c54e90aab5f88f57b5ce4d">uoff_t</a>)sz / <a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="../../d1/d85/filesystem_8hpp.html#a8bd74caed008a66808d92d57fa74d9f6">lseek</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>, 0, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a0d112bae8fd35be772185b6ec6bcbe64">SEEK_SET</a>);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>) &gt; <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a>)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;     &amp;&amp; longsectors != (<a class="code" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a>)longsectors</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    ) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">goto</span> ret_trunc;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">return</span> longsectors;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}</div>
<div class="ttc" id="aDrivers_2include_2types_8h_html_a37aff01e955441499997a359a4153b3d"><div class="ttname"><a href="../../d4/dba/Drivers_2include_2types_8h.html#a37aff01e955441499997a359a4153b3d">off_t</a></div><div class="ttdeci">__SIZE_TYPE__ off_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dba/Drivers_2include_2types_8h_source.html#l00058">types.h:58</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2stropts_8h_html_ae3a230c65883ec8edc50e3a09ca80003"><div class="ttname"><a href="../../d6/dfe/Userspace_2musl_2include_2stropts_8h.html#ae3a230c65883ec8edc50e3a09ca80003">ioctl</a></div><div class="ttdeci">int ioctl(int, int,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d32/ioctl_8c_source.html#l00128">ioctl.c:128</a></div></div>
<div class="ttc" id="aarithmetic__operations_8c_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddd/arithmetic__operations_8c_source.html#l00295">arithmetic_operations.c:295</a></div></div>
<div class="ttc" id="aarithmetic__operations_8c_html_aaa5d1cd013383c889537491c3cfd9aad"><div class="ttname"><a href="../../dd/ddd/arithmetic__operations_8c.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></div><div class="ttdeci">unsigned long long uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddd/arithmetic__operations_8c_source.html#l00294">arithmetic_operations.c:294</a></div></div>
<div class="ttc" id="afdisk_8c_html_a1b18f4b960b1edf77fa6c4f9c668d1f9"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a></div><div class="ttdeci">#define sector_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00458">fdisk.c:458</a></div></div>
<div class="ttc" id="afdisk_8c_html_a6d9a209a482f679387ff2a705054b838"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a6d9a209a482f679387ff2a705054b838">BLKGETSIZE64</a></div><div class="ttdeci">#define BLKGETSIZE64</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00119">fdisk.c:119</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a0d112bae8fd35be772185b6ec6bcbe64"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a0d112bae8fd35be772185b6ec6bcbe64">SEEK_SET</a></div><div class="ttdeci">#define SEEK_SET</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00030">filesystem.hpp:30</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a8bd74caed008a66808d92d57fa74d9f6"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a8bd74caed008a66808d92d57fa74d9f6">lseek</a></div><div class="ttdeci">off_t lseek(int fd, off_t offset, int whence)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5c/kernel__io_8cpp_source.html#l00088">kernel_io.cpp:88</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_ad2a2e6c114780c3071efd24f16c7f7d8"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#ad2a2e6c114780c3071efd24f16c7f7d8">SEEK_END</a></div><div class="ttdeci">#define SEEK_END</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00032">filesystem.hpp:32</a></div></div>
<div class="ttc" id="afsck__minix_8c_html_a442fbea07a178e412863c5c57440f8e0"><div class="ttname"><a href="../../dc/d72/fsck__minix_8c.html#a442fbea07a178e412863c5c57440f8e0">BLKGETSIZE</a></div><div class="ttdeci">#define BLKGETSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d72/fsck__minix_8c_source.html#l00120">fsck_minix.c:120</a></div></div>
<div class="ttc" id="ahdparm_8c_html_afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42"><div class="ttname"><a href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a></div><div class="ttdeci">@ fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/hdparm_8c_source.html#l00352">hdparm.c:352</a></div></div>
<div class="ttc" id="alibbb_8h_html_a56ad4b1fa4c54e90aab5f88f57b5ce4d"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a56ad4b1fa4c54e90aab5f88f57b5ce4d">uoff_t</a></div><div class="ttdeci">unsigned long uoff_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00315">libbb.h:315</a></div></div>
<div class="ttc" id="alibbb_8h_html_adda54c033215173332478fed15ec2fa5"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#adda54c033215173332478fed15ec2fa5">bb_simple_error_msg</a></div><div class="ttdeci">void bb_simple_error_msg(const char *s) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db5/verror__msg_8c_source.html#l00207">verror_msg.c:207</a></div></div>
<div class="ttc" id="ar__defs_8h_html_d4/d19/structsector__t"><div class="ttname"><a href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d76/r__defs_8h_source.html#l00097">r_defs.h:98</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/db5/verror__msg_8c_source.html#l00207">bb_simple_error_msg()</a>, <a class="el" href="../../dc/d72/fsck__minix_8c_source.html#l00120">BLKGETSIZE</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00119">BLKGETSIZE64</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../dc/d32/ioctl_8c_source.html#l00128">ioctl()</a>, <a class="el" href="../../d8/d5c/kernel__io_8cpp_source.html#l00088">lseek()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00458">sector_size</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00032">SEEK_END</a>, and <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00030">SEEK_SET</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">fdisk_main()</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01387">get_geometry()</a>.</p>

</div>
</div>
<a id="a8ce858cfe59adab930e34d751aa93b27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ce858cfe59adab930e34d751aa93b27">&#9670;&nbsp;</a></span>bsd_select()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#a65f508aa267a91f1938425f6b4695764">STATIC_OSF</a> void bsd_select </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">fdisk_main()</a>.</p>

</div>
</div>
<a id="a5de08724504d2c04ceaeec27f4ca705e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5de08724504d2c04ceaeec27f4ca705e">&#9670;&nbsp;</a></span>check_consistency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check_consistency </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>partition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01985">1985</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;{</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="keywordtype">unsigned</span> pbc, pbh, pbs;          <span class="comment">/* physical beginning c, h, s */</span></div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="keywordtype">unsigned</span> pec, peh, pes;          <span class="comment">/* physical ending c, h, s */</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordtype">unsigned</span> lbc, lbh, lbs;          <span class="comment">/* logical beginning c, h, s */</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="keywordtype">unsigned</span> lec, leh, les;          <span class="comment">/* logical ending c, h, s */</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160; </div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#aaadf4b0192d01471458a29c672a8a4ed">g_heads</a> || !<a class="code" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a> || (<a class="code" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> &gt;= 4))</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <span class="keywordflow">return</span>;         <span class="comment">/* do not check extended partitions */</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160; </div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;<span class="comment">/* physical beginning c, h, s */</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    pbc = <a class="code" href="../../d6/d86/fdisk_8c.html#ae9b69a749c6c7d6ba9086270f6149027">cylinder</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;sector, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;cyl);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    pbh = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;head;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    pbs = <a class="code" href="../../d6/d86/fdisk_8c.html#a7148005e59de183e5b9987f02af549ce">sector</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;sector);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160; </div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="comment">/* physical ending c, h, s */</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    pec = <a class="code" href="../../d6/d86/fdisk_8c.html#ae9b69a749c6c7d6ba9086270f6149027">cylinder</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;end_sector, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;end_cyl);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    peh = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;end_head;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    pes = <a class="code" href="../../d6/d86/fdisk_8c.html#a7148005e59de183e5b9987f02af549ce">sector</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;end_sector);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160; </div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;<span class="comment">/* compute logical beginning (c, h, s) */</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#acd7a5c9e6c612873d2bc74a9faa11e7b">linear2chs</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#ace19ccf1bb522bdf649402878b1b113b">get_start_sect</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>), &amp;lbc, &amp;lbh, &amp;lbs);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160; </div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;<span class="comment">/* compute logical ending (c, h, s) */</span></div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#acd7a5c9e6c612873d2bc74a9faa11e7b">linear2chs</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#ace19ccf1bb522bdf649402878b1b113b">get_start_sect</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) + <a class="code" href="../../d6/d86/fdisk_8c.html#aee064635634ac73df910a62139b1f1be">get_nr_sects</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) - 1, &amp;lec, &amp;leh, &amp;les);</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160; </div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;<span class="comment">/* Same physical / logical beginning? */</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#ae370ac91c811573a048f14f11fbc9f0d">g_cylinders</a> &lt;= 1024 &amp;&amp; (pbc != lbc || pbh != lbh || pbs != lbs)) {</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Partition %u has different physical/logical &quot;</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;            <span class="stringliteral">&quot;start (non-Linux?):\n&quot;</span>, <a class="code" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> + 1);</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;     phys=(%u,%u,%u) &quot;</span>, pbc, pbh, pbs);</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;logical=(%u,%u,%u)\n&quot;</span>, lbc, lbh, lbs);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    }</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160; </div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="comment">/* Same physical / logical ending? */</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#ae370ac91c811573a048f14f11fbc9f0d">g_cylinders</a> &lt;= 1024 &amp;&amp; (pec != lec || peh != leh || pes != les)) {</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Partition %u has different physical/logical &quot;</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;            <span class="stringliteral">&quot;end:\n&quot;</span>, <a class="code" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> + 1);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;        <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;     phys=(%u,%u,%u) &quot;</span>, pec, peh, pes);</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;logical=(%u,%u,%u)\n&quot;</span>, lec, leh, les);</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;}</div>
<div class="ttc" id="aKernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c_html_ae34a762828cbff7cce62bda6571b2bc0"><div class="ttname"><a href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a></div><div class="ttdeci">#define printf(m,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00061">liballoc_1_1.c:61</a></div></div>
<div class="ttc" id="afdisk_8c_html_a7148005e59de183e5b9987f02af549ce"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a7148005e59de183e5b9987f02af549ce">sector</a></div><div class="ttdeci">#define sector(s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00545">fdisk.c:545</a></div></div>
<div class="ttc" id="afdisk_8c_html_aaadf4b0192d01471458a29c672a8a4ed"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#aaadf4b0192d01471458a29c672a8a4ed">g_heads</a></div><div class="ttdeci">#define g_heads</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00461">fdisk.c:461</a></div></div>
<div class="ttc" id="afdisk_8c_html_aab0badd8b4b1fecb4b38fd648fca39a2"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a></div><div class="ttdeci">#define g_sectors</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00462">fdisk.c:462</a></div></div>
<div class="ttc" id="afdisk_8c_html_acd7a5c9e6c612873d2bc74a9faa11e7b"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#acd7a5c9e6c612873d2bc74a9faa11e7b">linear2chs</a></div><div class="ttdeci">static void linear2chs(unsigned ls, unsigned *c, unsigned *h, unsigned *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01974">fdisk.c:1974</a></div></div>
<div class="ttc" id="afdisk_8c_html_ace19ccf1bb522bdf649402878b1b113b"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ace19ccf1bb522bdf649402878b1b113b">get_start_sect</a></div><div class="ttdeci">static sector_t get_start_sect(const struct partition *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00826">fdisk.c:826</a></div></div>
<div class="ttc" id="afdisk_8c_html_ae370ac91c811573a048f14f11fbc9f0d"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ae370ac91c811573a048f14f11fbc9f0d">g_cylinders</a></div><div class="ttdeci">#define g_cylinders</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00463">fdisk.c:463</a></div></div>
<div class="ttc" id="afdisk_8c_html_ae9b69a749c6c7d6ba9086270f6149027"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ae9b69a749c6c7d6ba9086270f6149027">cylinder</a></div><div class="ttdeci">#define cylinder(s, c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00547">fdisk.c:547</a></div></div>
<div class="ttc" id="afdisk_8c_html_aee064635634ac73df910a62139b1f1be"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#aee064635634ac73df910a62139b1f1be">get_nr_sects</a></div><div class="ttdeci">static sector_t get_nr_sects(const struct partition *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00832">fdisk.c:832</a></div></div>
<div class="ttc" id="afdisk_8c_html_d3/d98/structpartition"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00203">fdisk.c:203</a></div></div>
<div class="ttc" id="aglob__loop_8c_html_ac483f6ce851c9ecd9fb835ff7551737c"><div class="ttname"><a href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a></div><div class="ttdeci">p</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/glob__loop_8c_source.html#l00031">glob_loop.c:31</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00547">cylinder</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00463">g_cylinders</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00461">g_heads</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00462">g_sectors</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00832">get_nr_sects()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00826">get_start_sect()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01974">linear2chs()</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00061">printf</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00545">sector</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>.</p>

</div>
</div>
<a id="a1b2f96a447957df8390a8d9b81e1d0d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b2f96a447957df8390a8d9b81e1d0d0">&#9670;&nbsp;</a></span>chs_string11()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* chs_string11 </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>cyl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>sect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02193">2193</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;{</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a75f3af03b38d728d93654c79ed67f281">auto_string</a>(<a class="code" href="../../d7/dd7/libbb_8h.html#a6b9d12af476b8fa4b9de87028b0ac27c">xzalloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*3 * 3));</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <span class="stringliteral">&quot;%u,%u,%u&quot;</span>, <a class="code" href="../../d6/d86/fdisk_8c.html#ae9b69a749c6c7d6ba9086270f6149027">cylinder</a>(sect,cyl), <a class="code" href="../../d6/dd0/gzip_8c.html#a6d1197264c8235ebd5bda57ba423914e">head</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a7148005e59de183e5b9987f02af549ce">sector</a>(sect));</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;}</div>
<div class="ttc" id="aKernel_2include_2printf_8h_html_a77dac04ed12a16543832b623c7778729"><div class="ttname"><a href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a></div><div class="ttdeci">PRINTF_VISIBILITY int sprintf(char *s, const char *format,...) ATTR_PRINTF(2</div></div>
<div class="ttc" id="aapps_2base_2busybox_2coreutils_2stat_8c_html_aa29b866765bdc5bdf87b7eb666d66093"><div class="ttname"><a href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a></div><div class="ttdeci">#define buf</div></div>
<div class="ttc" id="agzip_8c_html_a6d1197264c8235ebd5bda57ba423914e"><div class="ttname"><a href="../../d6/dd0/gzip_8c.html#a6d1197264c8235ebd5bda57ba423914e">head</a></div><div class="ttdeci">#define head</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd0/gzip_8c_source.html#l00337">gzip.c:337</a></div></div>
<div class="ttc" id="alibbb_8h_html_a75f3af03b38d728d93654c79ed67f281"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a75f3af03b38d728d93654c79ed67f281">auto_string</a></div><div class="ttdeci">char * auto_string(char *str) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d17/auto__string_8c_source.html#l00013">auto_string.c:13</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d17/auto__string_8c_source.html#l00013">auto_string()</a>, <a class="el" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00207">partition::cyl</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00547">cylinder</a>, <a class="el" href="../../d6/dd0/gzip_8c_source.html#l00337">head</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00545">sector</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf()</a>, and <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00069">xzalloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>.</p>

</div>
</div>
<a id="ae32e0fc0f832107b709fb0fa92424e67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae32e0fc0f832107b709fb0fa92424e67">&#9670;&nbsp;</a></span>clear_partition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void clear_partition </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01075">1075</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;{</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, 0, <span class="keyword">sizeof</span>(*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>));</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;}</div>
<div class="ttc" id="aconvert_8h_html_ac72cd3c233680f95fd1d168a22c912ad"><div class="ttname"><a href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a></div><div class="ttdeci">#define memset(dest, c, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d82/convert_8h_source.html#l00129">convert.h:129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d82/convert_8h_source.html#l00129">memset</a>, and <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01214">read_extended()</a>.</p>

</div>
</div>
<a id="a536d9bda6015d5326064113ecabb6fbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a536d9bda6015d5326064113ecabb6fbd">&#9670;&nbsp;</a></span>close_dev_fd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void close_dev_fd </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00550">550</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;{</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">/* Not really closing, but making sure it is open, and to harmless place */</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#ad480de907b2c37655e34b8aa0ee3f158">xmove_fd</a>(<a class="code" href="../../d7/dd7/libbb_8h.html#aa3e94e3ec137f40660b168c9f0840027">xopen</a>(<a class="code" href="../../d7/dd7/libbb_8h.html#a4e7c66a9217fd1d9691aba910654d2e2">bb_dev_null</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>), <a class="code" href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a>);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;}</div>
<div class="ttc" id="afilesystem_8hpp_html_a7a68c9ffaac7dbcd652225dd7c06a54b"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a></div><div class="ttdeci">#define O_RDONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00060">filesystem.hpp:60</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4e7c66a9217fd1d9691aba910654d2e2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4e7c66a9217fd1d9691aba910654d2e2">bb_dev_null</a></div><div class="ttdeci">#define bb_dev_null</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02273">libbb.h:2273</a></div></div>
<div class="ttc" id="alibbb_8h_html_aa3e94e3ec137f40660b168c9f0840027"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#aa3e94e3ec137f40660b168c9f0840027">xopen</a></div><div class="ttdeci">int xopen(const char *pathname, int flags) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00155">xfuncs_printf.c:155</a></div></div>
<div class="ttc" id="alibbb_8h_html_ad480de907b2c37655e34b8aa0ee3f158"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ad480de907b2c37655e34b8aa0ee3f158">xmove_fd</a></div><div class="ttdeci">void xmove_fd(int, int) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00238">xfuncs_printf.c:238</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02273">bb_dev_null</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00412">dev_fd</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00060">O_RDONLY</a>, <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00238">xmove_fd()</a>, and <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00155">xopen()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00612">fdisk_fatal()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">fdisk_main()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01442">get_boot()</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02924">open_list_and_close()</a>.</p>

</div>
</div>
<a id="abebd6f0a368631956066513eeb38edf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abebd6f0a368631956066513eeb38edf8">&#9670;&nbsp;</a></span>create_sgiinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void create_sgiinfo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">fdisk_main()</a>.</p>

</div>
</div>
<a id="ae6eac9452cffe3eafb6789d9976e30a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6eac9452cffe3eafb6789d9976e30a9">&#9670;&nbsp;</a></span>fdisk_fatal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fdisk_fatal </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>why</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00612">612</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;{</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#ac6c1c6fb219b4890c521099e31d93ae5">listing</a>) {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a536d9bda6015d5326064113ecabb6fbd">close_dev_fd</a>();</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#aaf56e20169cc5a6d5c1a968e24d04623">longjmp</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a534b5fcde5aa1a3279853859f25a0b1b">listingbuf</a>, 1);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a1992b68ae7d01f7da91e31e351ca3b33">bb_error_msg_and_die</a>(why, <a class="code" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a>);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div>
<div class="ttc" id="afdisk_8c_html_a0b877e81f766a4d5938e74d70127d5c8"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a></div><div class="ttdeci">#define disk_device</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00455">fdisk.c:455</a></div></div>
<div class="ttc" id="afdisk_8c_html_a534b5fcde5aa1a3279853859f25a0b1b"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a534b5fcde5aa1a3279853859f25a0b1b">listingbuf</a></div><div class="ttdeci">#define listingbuf</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00480">fdisk.c:480</a></div></div>
<div class="ttc" id="afdisk_8c_html_a536d9bda6015d5326064113ecabb6fbd"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a536d9bda6015d5326064113ecabb6fbd">close_dev_fd</a></div><div class="ttdeci">static void close_dev_fd(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00550">fdisk.c:550</a></div></div>
<div class="ttc" id="afdisk_8c_html_ac6c1c6fb219b4890c521099e31d93ae5"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ac6c1c6fb219b4890c521099e31d93ae5">listing</a></div><div class="ttdeci">#define listing</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00467">fdisk.c:467</a></div></div>
<div class="ttc" id="alibbb_8h_html_a1992b68ae7d01f7da91e31e351ca3b33"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a1992b68ae7d01f7da91e31e351ca3b33">bb_error_msg_and_die</a></div><div class="ttdeci">void bb_error_msg_and_die(const char *s,...) __attribute__((noreturn</div></div>
<div class="ttc" id="amusl_2include_2setjmp_8h_html_aaf56e20169cc5a6d5c1a968e24d04623"><div class="ttname"><a href="../../d5/d00/musl_2include_2setjmp_8h.html#aaf56e20169cc5a6d5c1a968e24d04623">longjmp</a></div><div class="ttdeci">_Noreturn void longjmp(jmp_buf, int)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/dd7/libbb_8h.html#a1992b68ae7d01f7da91e31e351ca3b33">bb_error_msg_and_die()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00550">close_dev_fd()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00455">disk_device</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00467">listing</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00480">listingbuf</a>, and <a class="el" href="../../d5/d00/musl_2include_2setjmp_8h.html#aaf56e20169cc5a6d5c1a968e24d04623">longjmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01442">get_boot()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00862">read_pte()</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00622">seek_sector()</a>.</p>

</div>
</div>
<a id="a9adf052cd18108e18034ec2db2d7577a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9adf052cd18108e18034ec2db2d7577a">&#9670;&nbsp;</a></span>fdisk_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdisk_main </td>
          <td>(</td>
          <td class="paramtype">int <a class="el" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>&#160;</td>
          <td class="paramname"><em>UNUSED_PARAM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">3026</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;{</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a>;</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;<span class="comment">     *  fdisk -v</span></div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;<span class="comment">     *  fdisk -l [-b sectorsize] [-u] device ...</span></div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;<span class="comment">     *  fdisk -s [partition] ...</span></div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;<span class="comment">     *  fdisk [-b sectorsize] [-u] device</span></div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;<span class="comment">     * Options -C, -H, -S set the geometry.</span></div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a39d017e5ed76fae1ae7cec57e0d600c4">INIT_G</a>();</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160; </div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a536d9bda6015d5326064113ecabb6fbd">close_dev_fd</a>(); <span class="comment">/* needed: fd 3 must not stay closed */</span></div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160; </div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;    <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#ae9d64bed6edb4d6ec066d5d7c3653fd2">getopt32</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="stringliteral">&quot;b:+C:+H:+lS:+u&quot;</span> <a class="code" href="../../d6/d86/fdisk_8c.html#a9e3f4d05d6f087d04d4041c0e591830c">IF_FEATURE_FDISK_BLKSIZE</a>(<span class="stringliteral">&quot;s&quot;</span>),</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;                &amp;<a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a>, &amp;<a class="code" href="../../d6/d86/fdisk_8c.html#ab86f025a783f066b7ae14413dbc3b0d3">user_cylinders</a>, &amp;<a class="code" href="../../d6/d86/fdisk_8c.html#a17c00fb725118ebbcafa8a0c672f6ae8">user_heads</a>, &amp;<a class="code" href="../../d6/d86/fdisk_8c.html#ad398114ee945e9664ab91bdc811bc30a">user_sectors</a>);</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> += <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a>;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> &amp; <a class="code" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1cab4dda35825217ba7fe6a96d34710ad75">OPT_b</a>) {</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;        <span class="comment">/* Ugly: this sector size is really per device,</span></div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;<span class="comment">         * so cannot be combined with multiple disks,</span></div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;<span class="comment">         * and the same goes for the C/H/S options.</span></div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a> &lt; 512</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;         || <a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a> &gt; 0x10000</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;         || (<a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a> &amp; (<a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a>-1)) <span class="comment">/* not power of 2 */</span></div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;        ) {</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;            <a class="code" href="../../d9/d65/individual_8c.html#a8323cea1cd613c0e2005086064a4b730">bb_show_usage</a>();</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;        }</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a3e400052a1f72cad8347f2a725bee544">sector_offset</a> = 2;</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a557a92f2b7096a947348c7fb090c1175">user_set_sector_size</a> = 1;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    }</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    <span class="keywordflow">if</span> (user_heads &lt;= 0 || user_heads &gt;= 256)</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a17c00fb725118ebbcafa8a0c672f6ae8">user_heads</a> = 0;</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;    <span class="keywordflow">if</span> (user_sectors &lt;= 0 || user_sectors &gt;= 64)</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#ad398114ee945e9664ab91bdc811bc30a">user_sectors</a> = 0;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> &amp; <a class="code" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1ca8fa03491e90bbe6b963ff1bcedda4391">OPT_u</a>)</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a68eb7498560f9e87288bd32b702230fd">display_in_cyl_units</a> = 0; <span class="comment">// -u</span></div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160; </div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_FDISK_WRITABLE</span></div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> &amp; <a class="code" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1ca0818228a48200c573de630327ec98fb7">OPT_l</a>) {</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a8cf2fc47c17cbef88cc7cfae9d564503">nowarn</a> = 1;</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>) {</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#ac6c1c6fb219b4890c521099e31d93ae5">listing</a> = 1;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;                <a class="code" href="../../d6/d86/fdisk_8c.html#a332aefec24846366643f47de7a0c2c25">open_list_and_close</a>(*<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, 1);</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;            } <span class="keywordflow">while</span> (*++<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;            <span class="comment">/* we don&#39;t have device names, */</span></div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;            <span class="comment">/* use /proc/partitions instead */</span></div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#a160e9a0c9605723f84278b265159bdc1">list_devs_in_proc_partititons</a>();</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;        }</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_FDISK_WRITABLE</span></div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    }</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160; </div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_FDISK_BLKSIZE</span></div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> &amp; <a class="code" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1caed8800665371c11b204fb5d5fff2eaef">OPT_s</a>) {</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>;</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160; </div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a8cf2fc47c17cbef88cc7cfae9d564503">nowarn</a> = 1;</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0])</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;            <a class="code" href="../../d9/d65/individual_8c.html#a8323cea1cd613c0e2005086064a4b730">bb_show_usage</a>();</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = 0; <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>]; <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>++) {</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6d813a0f2b5281b18dea3f4cda696c33">size</a>;</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;            <a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#aa3e94e3ec137f40660b168c9f0840027">xopen</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>], <a class="code" href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>);</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;            <a class="code" href="../../d1/dc0/multiboot_8h.html#a6d813a0f2b5281b18dea3f4cda696c33">size</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#afdb675a7d8241af5941ef821675d516f">bb_BLKGETSIZE_sectors</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>) / 2;</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1])</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;                <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;%llu\n&quot;</span>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6d813a0f2b5281b18dea3f4cda696c33">size</a>);</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;                <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;%s: %llu\n&quot;</span>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>], <a class="code" href="../../d1/dc0/multiboot_8h.html#a6d813a0f2b5281b18dea3f4cda696c33">size</a>);</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;        }</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    }</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160; </div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_FDISK_WRITABLE</span></div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0] || <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1])</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;        <a class="code" href="../../d9/d65/individual_8c.html#a8323cea1cd613c0e2005086064a4b730">bb_show_usage</a>();</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160; </div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0];</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a420bb8f1c86e0b48af746f4748d5c9f6">get_boot</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a4a8c678229911baefa72b56d09653dce">OPEN_MAIN</a>);</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160; </div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a7a3ff67b12e3f3761575efd4192c1d79">LABEL_IS_OSF</a>) {</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;        <span class="comment">/* OSF label, and no DOS label */</span></div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;        <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Detected an OSF/1 disklabel on %s, entering &quot;</span></div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;            <span class="stringliteral">&quot;disklabel mode\n&quot;</span>, <a class="code" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a>);</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a8ce858cfe59adab930e34d751aa93b27">bsd_select</a>();</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;        <span class="comment">/*Why do we do this?  It seems to be counter-intuitive*/</span></div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a378f0823e6b2c5f247559f8e1415b08e">current_label_type</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a3272049d10007bce8ba7c0fe628d6c27">LABEL_DOS</a>;</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;        <span class="comment">/* If we return we may want to make an empty DOS label? */</span></div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    }</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160; </div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a19c664892b1aa6feda00823c67cd7e83">bb_putchar</a>(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = 0x20 | read_nonempty(<span class="stringliteral">&quot;Command (m for help): &quot;</span>);</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a0e6394cea9c018ca9809f75a55be2f8e">LABEL_IS_DOS</a>)</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;                toggle_active(get_partition(1, <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>));</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a6627bdd198755fbcc7607b1998f8e9a2">LABEL_IS_SUN</a>)</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;                <a class="code" href="../../d6/d86/fdisk_8c.html#a5361197ea3b94552c5b2a7d633ac13c0">toggle_sunflags</a>(get_partition(1, <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>),</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;                        0x01);</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#ad2eaa19090d1666f2613f71ef933f471">LABEL_IS_SGI</a>)</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;                <a class="code" href="../../d6/d86/fdisk_8c.html#a3111c5abe47d4d65370cda5bf08dceba">sgi_set_bootpartition</a>(</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;                    get_partition(1, <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>));</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;                unknown_command(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#ad2eaa19090d1666f2613f71ef933f471">LABEL_IS_SGI</a>) {</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;                <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;\nThe current boot file is: %s\n&quot;</span>,</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;                    <a class="code" href="../../d6/d86/fdisk_8c.html#a5633d1dbb0c3acfaccee29f0c03e53b6">sgi_get_bootfile</a>());</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;                <span class="keywordflow">if</span> (read_maybe_empty(<span class="stringliteral">&quot;Please enter the name of the &quot;</span></div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;                        <span class="stringliteral">&quot;new boot file: &quot;</span>) == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;                    <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;Boot file unchanged&quot;</span>);</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;                    <a class="code" href="../../d6/d86/fdisk_8c.html#a2b65203fa314ffd989ae71fb4f106b3f">sgi_set_bootfile</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a540fa15c29df2f015ffd57bacbd90277">line_ptr</a>);</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;            }</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_OSF_LABEL</span></div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;                <a class="code" href="../../d6/d86/fdisk_8c.html#a8ce858cfe59adab930e34d751aa93b27">bsd_select</a>();</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a0e6394cea9c018ca9809f75a55be2f8e">LABEL_IS_DOS</a>)</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;                toggle_dos_compatibility_flag();</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a6627bdd198755fbcc7607b1998f8e9a2">LABEL_IS_SUN</a>)</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;                <a class="code" href="../../d6/d86/fdisk_8c.html#a5361197ea3b94552c5b2a7d633ac13c0">toggle_sunflags</a>(get_partition(1, <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>),</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;                        0x10);</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#ad2eaa19090d1666f2613f71ef933f471">LABEL_IS_SGI</a>)</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;                <a class="code" href="../../d6/d86/fdisk_8c.html#a3dd3a3c268a0122546fe2ed747c7cf1b">sgi_set_swappartition</a>(</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;                        get_partition(1, <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>));</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;                unknown_command(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;            {</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>;</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;            <span class="comment">/* If sgi_label then don&#39;t use get_existing_partition,</span></div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;<span class="comment">               let the user select a partition, since</span></div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;<span class="comment">               get_existing_partition() only works for Linux-like</span></div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;<span class="comment">               partition tables */</span></div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#ad2eaa19090d1666f2613f71ef933f471">LABEL_IS_SGI</a>) {</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;                    <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = get_existing_partition(1, <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>);</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;                    <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = get_partition(1, <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>);</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                }</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> &gt;= 0)</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;                    delete_partition(<a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>);</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;            }</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#ad2eaa19090d1666f2613f71ef933f471">LABEL_IS_SGI</a>)</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;                <a class="code" href="../../d6/d86/fdisk_8c.html#abebd6f0a368631956066513eeb38edf8">create_sgiinfo</a>();</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;                unknown_command(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>:</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;            list_types(<a class="code" href="../../d6/d86/fdisk_8c.html#ab892b117010088370ebef07270b5a445">get_sys_types</a>());</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;            <a class="code" href="../../d4/d78/expr_8h.html#d8/da5/structmenu">menu</a>();</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;            new_partition();</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>:</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;            create_doslabel();</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#aed64a81bebe3294c65754aaa8db1ef9e">list_table</a>(0);</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;q&#39;</span>:</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;            <span class="keywordflow">if</span> (ENABLE_FEATURE_CLEAN_UP)</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;                <a class="code" href="../../d6/d86/fdisk_8c.html#a536d9bda6015d5326064113ecabb6fbd">close_dev_fd</a>();</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a19c664892b1aa6feda00823c67cd7e83">bb_putchar</a>(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SUN_LABEL</span></div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;            create_sunlabel();</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;            change_sysid();</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;u&#39;</span>:</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;            change_units();</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>:</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;            <a class="code" href="../../dd/d81/strtoimax_8c.html#a2b7c0b217d9ec9df7042018b3eeb5e40">verify</a>();</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>:</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;            write_table();  <span class="comment">/* does not return */</span></div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_FDISK_ADVANCED</span></div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#ad2eaa19090d1666f2613f71ef933f471">LABEL_IS_SGI</a>) {</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;                <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;\n\tSorry, no experts menu for SGI &quot;</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;                    <span class="stringliteral">&quot;partition tables available\n&quot;</span>);</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;            } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;                xselect();</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;            unknown_command(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;            <a class="code" href="../../d4/d78/expr_8h.html#d8/da5/structmenu">menu</a>();</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;        }</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;    }</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* FEATURE_FDISK_WRITABLE */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;}</div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_ad41876f99f190c7488e64ef39c50a23f"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a></div><div class="ttdeci">int puts(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d79/put_8c_source.html#l00027">put.c:27</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_ae152484c890a24e4d9b4980e7b965be0"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a></div><div class="ttdeci">int close(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d22/close_8c_source.html#l00013">close.c:13</a></div></div>
<div class="ttc" id="abash_2test_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">static char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00110">test.c:110</a></div></div>
<div class="ttc" id="aexpr_8h_html_d8/da5/structmenu"><div class="ttname"><a href="../../d4/d78/expr_8h.html#d8/da5/structmenu">menu</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/expr_8h_source.html#l00127">expr.h:127</a></div></div>
<div class="ttc" id="afdisk_8c_html_a0e6394cea9c018ca9809f75a55be2f8e"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a0e6394cea9c018ca9809f75a55be2f8e">LABEL_IS_DOS</a></div><div class="ttdeci">#define LABEL_IS_DOS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00242">fdisk.c:242</a></div></div>
<div class="ttc" id="afdisk_8c_html_a160e9a0c9605723f84278b265159bdc1"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a160e9a0c9605723f84278b265159bdc1">list_devs_in_proc_partititons</a></div><div class="ttdeci">static void list_devs_in_proc_partititons(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l02995">fdisk.c:2995</a></div></div>
<div class="ttc" id="afdisk_8c_html_a17c00fb725118ebbcafa8a0c672f6ae8"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a17c00fb725118ebbcafa8a0c672f6ae8">user_heads</a></div><div class="ttdeci">#define user_heads</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00472">fdisk.c:472</a></div></div>
<div class="ttc" id="afdisk_8c_html_a2b65203fa314ffd989ae71fb4f106b3f"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a2b65203fa314ffd989ae71fb4f106b3f">sgi_set_bootfile</a></div><div class="ttdeci">STATIC_SGI void sgi_set_bootfile(const char *aFile)</div></div>
<div class="ttc" id="afdisk_8c_html_a3111c5abe47d4d65370cda5bf08dceba"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a3111c5abe47d4d65370cda5bf08dceba">sgi_set_bootpartition</a></div><div class="ttdeci">STATIC_SGI void sgi_set_bootpartition(int i)</div></div>
<div class="ttc" id="afdisk_8c_html_a332aefec24846366643f47de7a0c2c25"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a332aefec24846366643f47de7a0c2c25">open_list_and_close</a></div><div class="ttdeci">static void open_list_and_close(const char *device, int user_specified)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l02924">fdisk.c:2924</a></div></div>
<div class="ttc" id="afdisk_8c_html_a378f0823e6b2c5f247559f8e1415b08e"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a378f0823e6b2c5f247559f8e1415b08e">current_label_type</a></div><div class="ttdeci">#define current_label_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00464">fdisk.c:464</a></div></div>
<div class="ttc" id="afdisk_8c_html_a39d017e5ed76fae1ae7cec57e0d600c4"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a39d017e5ed76fae1ae7cec57e0d600c4">INIT_G</a></div><div class="ttdeci">#define INIT_G()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00484">fdisk.c:484</a></div></div>
<div class="ttc" id="afdisk_8c_html_a3dd3a3c268a0122546fe2ed747c7cf1b"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a3dd3a3c268a0122546fe2ed747c7cf1b">sgi_set_swappartition</a></div><div class="ttdeci">STATIC_SGI void sgi_set_swappartition(int i)</div></div>
<div class="ttc" id="afdisk_8c_html_a3e400052a1f72cad8347f2a725bee544"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a3e400052a1f72cad8347f2a725bee544">sector_offset</a></div><div class="ttdeci">#define sector_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00460">fdisk.c:460</a></div></div>
<div class="ttc" id="afdisk_8c_html_a420bb8f1c86e0b48af746f4748d5c9f6"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a420bb8f1c86e0b48af746f4748d5c9f6">get_boot</a></div><div class="ttdeci">#define get_boot(what)</div></div>
<div class="ttc" id="afdisk_8c_html_a5361197ea3b94552c5b2a7d633ac13c0"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a5361197ea3b94552c5b2a7d633ac13c0">toggle_sunflags</a></div><div class="ttdeci">STATIC_SUN void toggle_sunflags(int i, unsigned char mask)</div></div>
<div class="ttc" id="afdisk_8c_html_a540fa15c29df2f015ffd57bacbd90277"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a540fa15c29df2f015ffd57bacbd90277">line_ptr</a></div><div class="ttdeci">#define line_ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00454">fdisk.c:454</a></div></div>
<div class="ttc" id="afdisk_8c_html_a557a92f2b7096a947348c7fb090c1175"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a557a92f2b7096a947348c7fb090c1175">user_set_sector_size</a></div><div class="ttdeci">#define user_set_sector_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00459">fdisk.c:459</a></div></div>
<div class="ttc" id="afdisk_8c_html_a5633d1dbb0c3acfaccee29f0c03e53b6"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a5633d1dbb0c3acfaccee29f0c03e53b6">sgi_get_bootfile</a></div><div class="ttdeci">STATIC_SGI const char * sgi_get_bootfile(void)</div></div>
<div class="ttc" id="afdisk_8c_html_a6627bdd198755fbcc7607b1998f8e9a2"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a6627bdd198755fbcc7607b1998f8e9a2">LABEL_IS_SUN</a></div><div class="ttdeci">#define LABEL_IS_SUN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00248">fdisk.c:248</a></div></div>
<div class="ttc" id="afdisk_8c_html_a68eb7498560f9e87288bd32b702230fd"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a68eb7498560f9e87288bd32b702230fd">display_in_cyl_units</a></div><div class="ttdeci">#define display_in_cyl_units</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00465">fdisk.c:465</a></div></div>
<div class="ttc" id="afdisk_8c_html_a7a3ff67b12e3f3761575efd4192c1d79"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a7a3ff67b12e3f3761575efd4192c1d79">LABEL_IS_OSF</a></div><div class="ttdeci">#define LABEL_IS_OSF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00272">fdisk.c:272</a></div></div>
<div class="ttc" id="afdisk_8c_html_a8ce858cfe59adab930e34d751aa93b27"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a8ce858cfe59adab930e34d751aa93b27">bsd_select</a></div><div class="ttdeci">STATIC_OSF void bsd_select(void)</div></div>
<div class="ttc" id="afdisk_8c_html_a8cf2fc47c17cbef88cc7cfae9d564503"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a8cf2fc47c17cbef88cc7cfae9d564503">nowarn</a></div><div class="ttdeci">#define nowarn</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00469">fdisk.c:469</a></div></div>
<div class="ttc" id="afdisk_8c_html_a9e3f4d05d6f087d04d4041c0e591830c"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a9e3f4d05d6f087d04d4041c0e591830c">IF_FEATURE_FDISK_BLKSIZE</a></div><div class="ttdeci">#define IF_FEATURE_FDISK_BLKSIZE(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00134">fdisk.c:134</a></div></div>
<div class="ttc" id="afdisk_8c_html_ab86f025a783f066b7ae14413dbc3b0d3"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ab86f025a783f066b7ae14413dbc3b0d3">user_cylinders</a></div><div class="ttdeci">#define user_cylinders</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00471">fdisk.c:471</a></div></div>
<div class="ttc" id="afdisk_8c_html_ab892b117010088370ebef07270b5a445"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ab892b117010088370ebef07270b5a445">get_sys_types</a></div><div class="ttdeci">#define get_sys_types()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01046">fdisk.c:1046</a></div></div>
<div class="ttc" id="afdisk_8c_html_abebd6f0a368631956066513eeb38edf8"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#abebd6f0a368631956066513eeb38edf8">create_sgiinfo</a></div><div class="ttdeci">STATIC_SGI void create_sgiinfo(void)</div></div>
<div class="ttc" id="afdisk_8c_html_ad2eaa19090d1666f2613f71ef933f471"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ad2eaa19090d1666f2613f71ef933f471">LABEL_IS_SGI</a></div><div class="ttdeci">#define LABEL_IS_SGI</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00256">fdisk.c:256</a></div></div>
<div class="ttc" id="afdisk_8c_html_ad398114ee945e9664ab91bdc811bc30a"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ad398114ee945e9664ab91bdc811bc30a">user_sectors</a></div><div class="ttdeci">#define user_sectors</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00473">fdisk.c:473</a></div></div>
<div class="ttc" id="afdisk_8c_html_ad5e347d7ae83363b5be08c1f9b8c0635"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a></div><div class="ttdeci">#define g_partitions</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00456">fdisk.c:456</a></div></div>
<div class="ttc" id="afdisk_8c_html_aed64a81bebe3294c65754aaa8db1ef9e"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#aed64a81bebe3294c65754aaa8db1ef9e">list_table</a></div><div class="ttdeci">static void list_table(int xtra)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l02201">fdisk.c:2201</a></div></div>
<div class="ttc" id="afdisk_8c_html_afdb675a7d8241af5941ef821675d516f"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#afdb675a7d8241af5941ef821675d516f">bb_BLKGETSIZE_sectors</a></div><div class="ttdeci">static sector_t bb_BLKGETSIZE_sectors(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00498">fdisk.c:498</a></div></div>
<div class="ttc" id="aglob__loop_8c_html_a2019d0836036f2693a231fe5c7c65e20"><div class="ttname"><a href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a></div><div class="ttdeci">register GCHAR c</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/glob__loop_8c_source.html#l00028">glob_loop.c:26</a></div></div>
<div class="ttc" id="aindividual_8c_html_a8323cea1cd613c0e2005086064a4b730"><div class="ttname"><a href="../../d9/d65/individual_8c.html#a8323cea1cd613c0e2005086064a4b730">bb_show_usage</a></div><div class="ttdeci">void bb_show_usage(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d65/individual_8c_source.html#l00020">individual.c:20</a></div></div>
<div class="ttc" id="alibbb_8h_html_a19c664892b1aa6feda00823c67cd7e83"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a19c664892b1aa6feda00823c67cd7e83">bb_putchar</a></div><div class="ttdeci">int bb_putchar(int ch) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00313">xfuncs_printf.c:313</a></div></div>
<div class="ttc" id="alibbb_8h_html_ae9d64bed6edb4d6ec066d5d7c3653fd2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ae9d64bed6edb4d6ec066d5d7c3653fd2">getopt32</a></div><div class="ttdeci">uint32_t getopt32(char **argv, const char *applet_opts,...) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00599">getopt32.c:599</a></div></div>
<div class="ttc" id="amultiboot_8h_html_a6d813a0f2b5281b18dea3f4cda696c33"><div class="ttname"><a href="../../d1/dc0/multiboot_8h.html#a6d813a0f2b5281b18dea3f4cda696c33">size</a></div><div class="ttdeci">multiboot_uint32_t size</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc0/multiboot_8h_source.html#l00000">multiboot.h:0</a></div></div>
<div class="ttc" id="amusl_2src_2prng_2random_8c_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a></div><div class="ttdeci">static int j</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/musl_2src_2prng_2random_8c_source.html#l00024">random.c:24</a></div></div>
<div class="ttc" id="anmeter_8c_html_a6b9d817d08c1417f5c533eb8ad775312"><div class="ttname"><a href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a></div><div class="ttdeci">char opt</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcd/nmeter_8c_source.html#l00626">nmeter.c:626</a></div></div>
<div class="ttc" id="arl_8c_html_ad5e1c16213bbee2d5e8cc363309f418c"><div class="ttname"><a href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a></div><div class="ttdeci">int optind</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dee/musl_2src_2misc_2getopt_8c_source.html#l00011">getopt.c:11</a></div></div>
<div class="ttc" id="astrtoimax_8c_html_a2b7c0b217d9ec9df7042018b3eeb5e40"><div class="ttname"><a href="../../dd/d81/strtoimax_8c.html#a2b7c0b217d9ec9df7042018b3eeb5e40">verify</a></div><div class="ttdeci">#define verify(name, assertion)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d81/strtoimax_8c_source.html#l00042">strtoimax.c:42</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00110">argv</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00498">bb_BLKGETSIZE_sectors()</a>, <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00313">bb_putchar()</a>, <a class="el" href="../../d9/d65/individual_8c_source.html#l00020">bb_show_usage()</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#a8ce858cfe59adab930e34d751aa93b27">bsd_select()</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d9/d22/close_8c_source.html#l00013">close()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00550">close_dev_fd()</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#abebd6f0a368631956066513eeb38edf8">create_sgiinfo()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00464">current_label_type</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00455">disk_device</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00465">display_in_cyl_units</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00456">g_partitions</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#a420bb8f1c86e0b48af746f4748d5c9f6">get_boot</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01046">get_sys_types</a>, <a class="el" href="../../d4/d7f/getopt32_8c_source.html#l00599">getopt32()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00134">IF_FEATURE_FDISK_BLKSIZE</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00484">INIT_G</a>, <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c_source.html#l00024">j</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00239">LABEL_DOS</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00242">LABEL_IS_DOS</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00272">LABEL_IS_OSF</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00256">LABEL_IS_SGI</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00248">LABEL_IS_SUN</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00454">line_ptr</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02995">list_devs_in_proc_partititons()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00467">listing</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00469">nowarn</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00060">O_RDONLY</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02924">open_list_and_close()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00284">OPEN_MAIN</a>, <a class="el" href="../../d4/dcd/nmeter_8c_source.html#l00626">opt</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00156">OPT_b</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00159">OPT_l</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00162">OPT_s</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00161">OPT_u</a>, <a class="el" href="../../d7/dee/musl_2src_2misc_2getopt_8c_source.html#l00011">optind</a>, <a class="el" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00061">printf</a>, <a class="el" href="../../df/d79/put_8c_source.html#l00027">puts()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00460">sector_offset</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00458">sector_size</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#a5633d1dbb0c3acfaccee29f0c03e53b6">sgi_get_bootfile()</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#a2b65203fa314ffd989ae71fb4f106b3f">sgi_set_bootfile()</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#a3111c5abe47d4d65370cda5bf08dceba">sgi_set_bootpartition()</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#a3dd3a3c268a0122546fe2ed747c7cf1b">sgi_set_swappartition()</a>, <a class="el" href="../../d1/dc0/multiboot_8h_source.html#l00000">size</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#a5361197ea3b94552c5b2a7d633ac13c0">toggle_sunflags()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00471">user_cylinders</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00472">user_heads</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00473">user_sectors</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00459">user_set_sector_size</a>, <a class="el" href="../../dd/d81/strtoimax_8c_source.html#l00042">verify</a>, and <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00155">xopen()</a>.</p>

</div>
</div>
<a id="a29bb73f63f5ccfd30ae849abc71ba9e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29bb73f63f5ccfd30ae849abc71ba9e3">&#9670;&nbsp;</a></span>get_boot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_boot </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01442">1442</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;{</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, <a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a> = 4;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; 4; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a> *pe = &amp;<a class="code" href="../../d6/d86/fdisk_8c.html#a80a004ea09a4494a3bc684dcde4a9614">ptes</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>];</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#a7d07329637cebcf0db475c840ffac4e6">pt_offset</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a20da189169473c9d3f3703f01157938e">MBRbuffer</a>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a66d4446bf994b5a6c8bd54a87999f559">ext_pointer</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7a31780bbc4f049162f0e33c2b1f26a1">offset_from_dev_start</a> = 0;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#ae1bbffe24addef971c9dfbcc118c697b">sectorbuffer</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#a20da189169473c9d3f3703f01157938e">MBRbuffer</a>;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_FDISK_WRITABLE</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        pe-&gt;changed = (what == <a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a228c210071509dd2caacebdb090fe3af">CREATE_EMPTY_DOS</a>);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    }</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160; </div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_FDISK_WRITABLE</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="comment">// ALERT! highly idiotic design!</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment">// We end up here when we call get_boot() recursively</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="comment">// via get_boot() [table is bad] -&gt; create_doslabel() -&gt; get_boot(CREATE_EMPTY_DOS).</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="comment">// or get_boot() [table is bad] -&gt; create_sunlabel() -&gt; get_boot(CREATE_EMPTY_SUN).</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="comment">// (just factor out re-init of ptes[0,1,2,3] in a separate fn instead?)</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="comment">// So skip opening device _again_...</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="keywordflow">if</span> (what == <a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a228c210071509dd2caacebdb090fe3af">CREATE_EMPTY_DOS</a>  IF_FEATURE_SUN_LABEL(|| what == <a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4ab860b6af0e742f6569dca8bba34961c0">CREATE_EMPTY_SUN</a>))</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        <span class="keywordflow">goto</span> created_table;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a>, (<a class="code" href="../../d7/dd7/libbb_8h.html#a55eba7ff429ebe3c6b543eba53c1a5d9">option_mask32</a> &amp; <a class="code" href="../../d6/d86/fdisk_8c.html#af170916ab0b39c3221fe768fc8522c1ca0818228a48200c573de630327ec98fb7">OPT_l</a>) ? <a class="code" href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a> : <a class="code" href="../../d1/d85/filesystem_8hpp.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160; </div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0) {</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0) {</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;            <span class="keywordflow">if</span> (what == <a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a10a747f442fc970cd80d899512ea17ff">TRY_ONLY</a>)</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#ae6eac9452cffe3eafb6789d9976e30a9">fdisk_fatal</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#ae3aa986049e03f863eaf24b7c86c3d2c">unable_to_open</a>);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        }</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;&#39;%s&#39; is opened for read only\n&quot;</span>, <a class="code" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a>);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    }</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#ad480de907b2c37655e34b8aa0ee3f158">xmove_fd</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a>);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">if</span> (512 != <a class="code" href="../../d7/dd7/libbb_8h.html#abe6961731446e93dff5a0554986b6eea">full_read</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a20da189169473c9d3f3703f01157938e">MBRbuffer</a>, 512)) {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="keywordflow">if</span> (what == <a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a10a747f442fc970cd80d899512ea17ff">TRY_ONLY</a>) {</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#a536d9bda6015d5326064113ecabb6fbd">close_dev_fd</a>();</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        }</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#ae6eac9452cffe3eafb6789d9976e30a9">fdisk_fatal</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#abf9c4e6dce6c27a2ed58fe800d92f7dc">unable_to_read</a>);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    }</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0)</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">if</span> (512 != <a class="code" href="../../d7/dd7/libbb_8h.html#abe6961731446e93dff5a0554986b6eea">full_read</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a20da189169473c9d3f3703f01157938e">MBRbuffer</a>, 512)) {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    }</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#ad480de907b2c37655e34b8aa0ee3f158">xmove_fd</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a>);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a4e6ddfc7c8e11b923a6097ea4618c658">get_geometry</a>();</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a7217d24ece5fb992121c320148238887">update_units</a>();</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160; </div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SUN_LABEL</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keywordflow">if</span> (check_sun_label())</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SGI_LABEL</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keywordflow">if</span> (check_sgi_label())</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_AIX_LABEL</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordflow">if</span> (check_aix_label())</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_GPT_LABEL</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keywordflow">if</span> (check_gpt_label())</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_OSF_LABEL</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keywordflow">if</span> (check_osf_label()) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a0b80ae8563a335645641bc83e24153c8">possibly_osf_label</a> = 1;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#a30552b16c69a42f594f0c415ab47c18a">valid_part_table_flag</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a20da189169473c9d3f3703f01157938e">MBRbuffer</a>)) {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#a378f0823e6b2c5f247559f8e1415b08e">current_label_type</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#a27a2d3d0fcd201122f8c13d604f91e38a13b6579e2cf6d56b320e847264d38fd6">LABEL_OSF</a>;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        }</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;This disk has both DOS and BSD magic.\n&quot;</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;             <span class="stringliteral">&quot;Give the &#39;b&#39; command to go to BSD mode.&quot;</span>);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;<span class="preprocessor">#if !ENABLE_FEATURE_FDISK_WRITABLE</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#a30552b16c69a42f594f0c415ab47c18a">valid_part_table_flag</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a20da189169473c9d3f3703f01157938e">MBRbuffer</a>))</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#a30552b16c69a42f594f0c415ab47c18a">valid_part_table_flag</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a20da189169473c9d3f3703f01157938e">MBRbuffer</a>)) {</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        <span class="keywordflow">if</span> (what == <a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a4a8c678229911baefa72b56d09653dce">OPEN_MAIN</a>) {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;Device contains neither a valid DOS &quot;</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                 <span class="stringliteral">&quot;partition table, nor Sun, SGI, OSF or GPT &quot;</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                 <span class="stringliteral">&quot;disklabel&quot;</span>);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="preprocessor">#ifdef __sparc__</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            IF_FEATURE_SUN_LABEL(create_sunlabel();)</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;#<span class="keywordflow">else</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;            create_doslabel();</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="comment">/* TRY_ONLY: */</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    }</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; created_table:</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* FEATURE_FDISK_WRITABLE */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160; </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    IF_FEATURE_FDISK_WRITABLE(warn_cylinders();)</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#aba66edb42af5c969551541d230ac0db6">warn_geometry</a>();</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; 4; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a721555a94d3eb9f229a4bcd5480b1829">IS_EXTENDED</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a80a004ea09a4494a3bc684dcde4a9614">ptes</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a>-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a173528a9f76c8e085660086b0ad46f5b">sys_ind</a>)) {</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a> != 4)</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Ignoring extra extended &quot;</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                    <span class="stringliteral">&quot;partition %u\n&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> + 1);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                <a class="code" href="../../d6/d86/fdisk_8c.html#a52534dfee8a389a78e8914495fa4b952">read_extended</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    }</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 3; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a> *pe = &amp;<a class="code" href="../../d6/d86/fdisk_8c.html#a80a004ea09a4494a3bc684dcde4a9614">ptes</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>];</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#a30552b16c69a42f594f0c415ab47c18a">valid_part_table_flag</a>(pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#ae1bbffe24addef971c9dfbcc118c697b">sectorbuffer</a>)) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Warning: invalid flag 0x%02x,0x%02x of partition &quot;</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                <span class="stringliteral">&quot;table %u will be corrected by w(rite)\n&quot;</span>,</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#ae1bbffe24addef971c9dfbcc118c697b">sectorbuffer</a>[510],</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#ae1bbffe24addef971c9dfbcc118c697b">sectorbuffer</a>[511],</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> + 1);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            IF_FEATURE_FDISK_WRITABLE(pe-&gt;changed = 1;)</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        }</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    }</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160; </div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;}</div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">types.h:37</a></div></div>
<div class="ttc" id="afdisk_8c_html_a0b80ae8563a335645641bc83e24153c8"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a0b80ae8563a335645641bc83e24153c8">possibly_osf_label</a></div><div class="ttdeci">#define possibly_osf_label</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00466">fdisk.c:466</a></div></div>
<div class="ttc" id="afdisk_8c_html_a173528a9f76c8e085660086b0ad46f5b"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a173528a9f76c8e085660086b0ad46f5b">partition::sys_ind</a></div><div class="ttdeci">unsigned char sys_ind</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00208">fdisk.c:208</a></div></div>
<div class="ttc" id="afdisk_8c_html_a20da189169473c9d3f3703f01157938e"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a20da189169473c9d3f3703f01157938e">MBRbuffer</a></div><div class="ttdeci">#define MBRbuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00482">fdisk.c:482</a></div></div>
<div class="ttc" id="afdisk_8c_html_a30552b16c69a42f594f0c415ab47c18a"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a30552b16c69a42f594f0c415ab47c18a">valid_part_table_flag</a></div><div class="ttdeci">static int valid_part_table_flag(const char *mbuffer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00607">fdisk.c:607</a></div></div>
<div class="ttc" id="afdisk_8c_html_a4e6ddfc7c8e11b923a6097ea4618c658"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a4e6ddfc7c8e11b923a6097ea4618c658">get_geometry</a></div><div class="ttdeci">static void get_geometry(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01387">fdisk.c:1387</a></div></div>
<div class="ttc" id="afdisk_8c_html_a52534dfee8a389a78e8914495fa4b952"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a52534dfee8a389a78e8914495fa4b952">read_extended</a></div><div class="ttdeci">static void read_extended(int ext)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01214">fdisk.c:1214</a></div></div>
<div class="ttc" id="afdisk_8c_html_a66d4446bf994b5a6c8bd54a87999f559"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a66d4446bf994b5a6c8bd54a87999f559">pte::ext_pointer</a></div><div class="ttdeci">struct partition * ext_pointer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00226">fdisk.c:226</a></div></div>
<div class="ttc" id="afdisk_8c_html_a721555a94d3eb9f229a4bcd5480b1829"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a721555a94d3eb9f229a4bcd5480b1829">IS_EXTENDED</a></div><div class="ttdeci">#define IS_EXTENDED(i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00535">fdisk.c:535</a></div></div>
<div class="ttc" id="afdisk_8c_html_a7217d24ece5fb992121c320148238887"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a7217d24ece5fb992121c320148238887">update_units</a></div><div class="ttdeci">static void update_units(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01187">fdisk.c:1187</a></div></div>
<div class="ttc" id="afdisk_8c_html_a7a31780bbc4f049162f0e33c2b1f26a1"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a7a31780bbc4f049162f0e33c2b1f26a1">pte::offset_from_dev_start</a></div><div class="ttdeci">sector_t offset_from_dev_start</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00227">fdisk.c:227</a></div></div>
<div class="ttc" id="afdisk_8c_html_a7d07329637cebcf0db475c840ffac4e6"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a7d07329637cebcf0db475c840ffac4e6">pt_offset</a></div><div class="ttdeci">#define pt_offset(b, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00542">fdisk.c:542</a></div></div>
<div class="ttc" id="afdisk_8c_html_a7f3daa9258d6d845fe6606e07d3499b4"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">pte::part_table</a></div><div class="ttdeci">struct partition * part_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00225">fdisk.c:225</a></div></div>
<div class="ttc" id="afdisk_8c_html_a80a004ea09a4494a3bc684dcde4a9614"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a80a004ea09a4494a3bc684dcde4a9614">ptes</a></div><div class="ttdeci">#define ptes</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00483">fdisk.c:483</a></div></div>
<div class="ttc" id="afdisk_8c_html_aba66edb42af5c969551541d230ac0db6"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#aba66edb42af5c969551541d230ac0db6">warn_geometry</a></div><div class="ttdeci">static int warn_geometry(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01166">fdisk.c:1166</a></div></div>
<div class="ttc" id="afdisk_8c_html_abf9c4e6dce6c27a2ed58fe800d92f7dc"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#abf9c4e6dce6c27a2ed58fe800d92f7dc">unable_to_read</a></div><div class="ttdeci">#define unable_to_read</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00235">fdisk.c:235</a></div></div>
<div class="ttc" id="afdisk_8c_html_ae1bbffe24addef971c9dfbcc118c697b"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ae1bbffe24addef971c9dfbcc118c697b">pte::sectorbuffer</a></div><div class="ttdeci">char * sectorbuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00228">fdisk.c:228</a></div></div>
<div class="ttc" id="afdisk_8c_html_ae3aa986049e03f863eaf24b7c86c3d2c"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ae3aa986049e03f863eaf24b7c86c3d2c">unable_to_open</a></div><div class="ttdeci">#define unable_to_open</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00234">fdisk.c:234</a></div></div>
<div class="ttc" id="afdisk_8c_html_ae6eac9452cffe3eafb6789d9976e30a9"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ae6eac9452cffe3eafb6789d9976e30a9">fdisk_fatal</a></div><div class="ttdeci">static void fdisk_fatal(const char *why)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00612">fdisk.c:612</a></div></div>
<div class="ttc" id="afdisk_8c_html_dd/d4e/structpte"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00224">fdisk.c:224</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_abb0586253488ee61072b73557eeb873b"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a></div><div class="ttdeci">#define O_RDWR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00062">filesystem.hpp:62</a></div></div>
<div class="ttc" id="agettextP_8h_html_a68428151ad44e31b19041cdeb8972a91"><div class="ttname"><a href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a></div><div class="ttdeci">static nls_uint32 nls_uint32 i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d71/gettextP_8h_source.html#l00074">gettextP.h:74</a></div></div>
<div class="ttc" id="alibbb_8h_html_a55eba7ff429ebe3c6b543eba53c1a5d9"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a55eba7ff429ebe3c6b543eba53c1a5d9">option_mask32</a></div><div class="ttdeci">uint32_t option_mask32</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00318">getopt32.c:318</a></div></div>
<div class="ttc" id="alibbb_8h_html_abe6961731446e93dff5a0554986b6eea"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#abe6961731446e93dff5a0554986b6eea">full_read</a></div><div class="ttdeci">ssize_t full_read(int fd, void *buf, size_t count) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df8/apps_2base_2busybox_2libbb_2read_8c_source.html#l00036">read.c:36</a></div></div>
<div class="ttc" id="amusl_2include_2fcntl_8h_html_aa138ddaa9bbe8b8ccca32ed43e75b72c"><div class="ttname"><a href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a></div><div class="ttdeci">int open(const char *, int,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/deb/open_8c_source.html#l00005">open.c:5</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d22/close_8c_source.html#l00013">close()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00550">close_dev_fd()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00284">CREATE_EMPTY_DOS</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00284">CREATE_EMPTY_SUN</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00464">current_label_type</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00412">dev_fd</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00455">disk_device</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00226">pte::ext_pointer</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00612">fdisk_fatal()</a>, <a class="el" href="../../df/df8/apps_2base_2busybox_2libbb_2read_8c_source.html#l00036">full_read()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00456">g_partitions</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01387">get_geometry()</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00535">IS_EXTENDED</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00239">LABEL_OSF</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00482">MBRbuffer</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00060">O_RDONLY</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00062">O_RDWR</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00227">pte::offset_from_dev_start</a>, <a class="el" href="../../da/deb/open_8c_source.html#l00005">open()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00284">OPEN_MAIN</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00159">OPT_l</a>, <a class="el" href="../../d4/d7f/getopt32_8c_source.html#l00318">option_mask32</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00225">pte::part_table</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00466">possibly_osf_label</a>, <a class="el" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00061">printf</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00542">pt_offset</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00483">ptes</a>, <a class="el" href="../../df/d79/put_8c_source.html#l00027">puts()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01214">read_extended()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00228">pte::sectorbuffer</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00208">partition::sys_ind</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00284">TRY_ONLY</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00234">unable_to_open</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00235">unable_to_read</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01187">update_units()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00607">valid_part_table_flag()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01166">warn_geometry()</a>, and <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00238">xmove_fd()</a>.</p>

</div>
</div>
<a id="a4e6ddfc7c8e11b923a6097ea4618c658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e6ddfc7c8e11b923a6097ea4618c658">&#9670;&nbsp;</a></span>get_geometry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_geometry </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01387">1387</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;{</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordtype">int</span> sec_fac;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#ad910e41652bd981269e378153f5f334b">get_sectorsize</a>();</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    sec_fac = <a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a> / 512;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SUN_LABEL</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    guess_device_type();</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#aaadf4b0192d01471458a29c672a8a4ed">g_heads</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#ae370ac91c811573a048f14f11fbc9f0d">g_cylinders</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a> = 0;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a9421762d5600d0b27edf78208319fac3">kern_heads</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#a30b734c32e3e61903d28b9fd58bf48c8">kern_sectors</a> = 0;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a25e5104a01746cb78c2992d82b7660b1">pt_heads</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#a2de7ef0760afe32f4e62013830990adb">pt_sectors</a> = 0;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160; </div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a5460176fe75c0532fe39f1f7e1d1dcf7">get_kernel_geometry</a>();</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#aec5a925f00e01c31c2e17297621b5e39">get_partition_table_geometry</a>();</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160; </div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#aaadf4b0192d01471458a29c672a8a4ed">g_heads</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#a17c00fb725118ebbcafa8a0c672f6ae8">user_heads</a> ? <a class="code" href="../../d6/d86/fdisk_8c.html#a17c00fb725118ebbcafa8a0c672f6ae8">user_heads</a> :</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a25e5104a01746cb78c2992d82b7660b1">pt_heads</a> ? <a class="code" href="../../d6/d86/fdisk_8c.html#a25e5104a01746cb78c2992d82b7660b1">pt_heads</a> :</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a9421762d5600d0b27edf78208319fac3">kern_heads</a> ? <a class="code" href="../../d6/d86/fdisk_8c.html#a9421762d5600d0b27edf78208319fac3">kern_heads</a> : 255;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#ad398114ee945e9664ab91bdc811bc30a">user_sectors</a> ? <a class="code" href="../../d6/d86/fdisk_8c.html#ad398114ee945e9664ab91bdc811bc30a">user_sectors</a> :</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a2de7ef0760afe32f4e62013830990adb">pt_sectors</a> ? <a class="code" href="../../d6/d86/fdisk_8c.html#a2de7ef0760afe32f4e62013830990adb">pt_sectors</a> :</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a30b734c32e3e61903d28b9fd58bf48c8">kern_sectors</a> ? <a class="code" href="../../d6/d86/fdisk_8c.html#a30b734c32e3e61903d28b9fd58bf48c8">kern_sectors</a> : 63;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#af65c9488b5c43c3216664219e6f7055b">total_number_of_sectors</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#afdb675a7d8241af5941ef821675d516f">bb_BLKGETSIZE_sectors</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a>);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a3e400052a1f72cad8347f2a725bee544">sector_offset</a> = 1;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#ad93813c8b72a4dc3a2aa61bccd058599">dos_compatible_flag</a>)</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a3e400052a1f72cad8347f2a725bee544">sector_offset</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a>;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#ae370ac91c811573a048f14f11fbc9f0d">g_cylinders</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#af65c9488b5c43c3216664219e6f7055b">total_number_of_sectors</a> / (<a class="code" href="../../d6/d86/fdisk_8c.html#aaadf4b0192d01471458a29c672a8a4ed">g_heads</a> * <a class="code" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a> * sec_fac);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#ae370ac91c811573a048f14f11fbc9f0d">g_cylinders</a>)</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#ae370ac91c811573a048f14f11fbc9f0d">g_cylinders</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#ab86f025a783f066b7ae14413dbc3b0d3">user_cylinders</a>;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;}</div>
<div class="ttc" id="afdisk_8c_html_a25e5104a01746cb78c2992d82b7660b1"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a25e5104a01746cb78c2992d82b7660b1">pt_heads</a></div><div class="ttdeci">#define pt_heads</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00474">fdisk.c:474</a></div></div>
<div class="ttc" id="afdisk_8c_html_a2de7ef0760afe32f4e62013830990adb"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a2de7ef0760afe32f4e62013830990adb">pt_sectors</a></div><div class="ttdeci">#define pt_sectors</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00475">fdisk.c:475</a></div></div>
<div class="ttc" id="afdisk_8c_html_a30b734c32e3e61903d28b9fd58bf48c8"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a30b734c32e3e61903d28b9fd58bf48c8">kern_sectors</a></div><div class="ttdeci">#define kern_sectors</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00477">fdisk.c:477</a></div></div>
<div class="ttc" id="afdisk_8c_html_a5460176fe75c0532fe39f1f7e1d1dcf7"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a5460176fe75c0532fe39f1f7e1d1dcf7">get_kernel_geometry</a></div><div class="ttdeci">static void get_kernel_geometry(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01342">fdisk.c:1342</a></div></div>
<div class="ttc" id="afdisk_8c_html_a9421762d5600d0b27edf78208319fac3"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a9421762d5600d0b27edf78208319fac3">kern_heads</a></div><div class="ttdeci">#define kern_heads</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00476">fdisk.c:476</a></div></div>
<div class="ttc" id="afdisk_8c_html_ad910e41652bd981269e378153f5f334b"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ad910e41652bd981269e378153f5f334b">get_sectorsize</a></div><div class="ttdeci">static void get_sectorsize(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01328">fdisk.c:1328</a></div></div>
<div class="ttc" id="afdisk_8c_html_ad93813c8b72a4dc3a2aa61bccd058599"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ad93813c8b72a4dc3a2aa61bccd058599">dos_compatible_flag</a></div><div class="ttdeci">#define dos_compatible_flag</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00468">fdisk.c:468</a></div></div>
<div class="ttc" id="afdisk_8c_html_aec5a925f00e01c31c2e17297621b5e39"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#aec5a925f00e01c31c2e17297621b5e39">get_partition_table_geometry</a></div><div class="ttdeci">static void get_partition_table_geometry(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01354">fdisk.c:1354</a></div></div>
<div class="ttc" id="afdisk_8c_html_af65c9488b5c43c3216664219e6f7055b"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#af65c9488b5c43c3216664219e6f7055b">total_number_of_sectors</a></div><div class="ttdeci">#define total_number_of_sectors</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00479">fdisk.c:479</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00498">bb_BLKGETSIZE_sectors()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00412">dev_fd</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00468">dos_compatible_flag</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00463">g_cylinders</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00461">g_heads</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00462">g_sectors</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01342">get_kernel_geometry()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01354">get_partition_table_geometry()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01328">get_sectorsize()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00476">kern_heads</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00477">kern_sectors</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00474">pt_heads</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00475">pt_sectors</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00460">sector_offset</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00458">sector_size</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00479">total_number_of_sectors</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00471">user_cylinders</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00472">user_heads</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00473">user_sectors</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01442">get_boot()</a>.</p>

</div>
</div>
<a id="a5460176fe75c0532fe39f1f7e1d1dcf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5460176fe75c0532fe39f1f7e1d1dcf7">&#9670;&nbsp;</a></span>get_kernel_geometry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_kernel_geometry </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01342">1342</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;{</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#df/d6b/structhd__geometry">hd_geometry</a> geometry;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/dfe/Userspace_2musl_2include_2stropts_8h.html#ae3a230c65883ec8edc50e3a09ca80003">ioctl</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a78f500ec2e4a77fa04886139eddde0e5">HDIO_GETGEO</a>, &amp;geometry)) {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a9421762d5600d0b27edf78208319fac3">kern_heads</a> = geometry.heads;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a30b734c32e3e61903d28b9fd58bf48c8">kern_sectors</a> = geometry.sectors;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <span class="comment">/* never use geometry.cylinders - it is truncated */</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    }</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;}</div>
<div class="ttc" id="afdisk_8c_html_a78f500ec2e4a77fa04886139eddde0e5"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a78f500ec2e4a77fa04886139eddde0e5">HDIO_GETGEO</a></div><div class="ttdeci">#define HDIO_GETGEO</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00186">fdisk.c:186</a></div></div>
<div class="ttc" id="afdisk_8c_html_df/d6b/structhd__geometry"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#df/d6b/structhd__geometry">hd_geometry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00179">fdisk.c:179</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00412">dev_fd</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00186">HDIO_GETGEO</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00180">hd_geometry::heads</a>, <a class="el" href="../../dc/d32/ioctl_8c_source.html#l00128">ioctl()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00476">kern_heads</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00477">kern_sectors</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00181">hd_geometry::sectors</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01387">get_geometry()</a>.</p>

</div>
</div>
<a id="aee064635634ac73df910a62139b1f1be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee064635634ac73df910a62139b1f1be">&#9670;&nbsp;</a></span>get_nr_sects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a> get_nr_sects </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00832">832</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;{</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d86/fdisk_8c.html#a54ce8e05a7906f27191168d4f9a843ff">read4_little_endian</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;size4);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div>
<div class="ttc" id="afdisk_8c_html_a54ce8e05a7906f27191168d4f9a843ff"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a54ce8e05a7906f27191168d4f9a843ff">read4_little_endian</a></div><div class="ttdeci">static inline_if_little_endian unsigned read4_little_endian(const unsigned char *cp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00818">fdisk.c:818</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00818">read4_little_endian()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01985">check_consistency()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01214">read_extended()</a>.</p>

</div>
</div>
<a id="ad74c8bd677a70831a86f9750607a896d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad74c8bd677a70831a86f9750607a896d">&#9670;&nbsp;</a></span>get_partition_start_from_dev_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a> get_partition_start_from_dev_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a> *&#160;</td>
          <td class="paramname"><em>pe</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00877">877</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;{</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">return</span> pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7a31780bbc4f049162f0e33c2b1f26a1">offset_from_dev_start</a> + <a class="code" href="../../d6/d86/fdisk_8c.html#ace19ccf1bb522bdf649402878b1b113b">get_start_sect</a>(pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a>);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00826">get_start_sect()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00227">pte::offset_from_dev_start</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00225">pte::part_table</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02057">wrong_p_order()</a>.</p>

</div>
</div>
<a id="aec5a925f00e01c31c2e17297621b5e39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec5a925f00e01c31c2e17297621b5e39">&#9670;&nbsp;</a></span>get_partition_table_geometry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_partition_table_geometry </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01354">1354</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;{</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *bufp = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="../../d6/d86/fdisk_8c.html#a20da189169473c9d3f3703f01157938e">MBRbuffer</a>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, <a class="code" href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a>, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, hh, ss;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a> = 1;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keywordtype">int</span> bad = 0;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="../../d6/d86/fdisk_8c.html#a30552b16c69a42f594f0c415ab47c18a">valid_part_table_flag</a>((<span class="keywordtype">char</span>*)bufp)))</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160; </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    hh = ss = 0;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; 4; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#a7d07329637cebcf0db475c840ffac4e6">pt_offset</a>(bufp, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;sys_ind != 0) {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <a class="code" href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;end_head + 1;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;end_sector &amp; 077);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a>) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                hh = <a class="code" href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a>;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                ss = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                <a class="code" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a> = 0;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hh != <a class="code" href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a> || ss != <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                bad = 1;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        }</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    }</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160; </div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a> &amp;&amp; !bad) {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a25e5104a01746cb78c2992d82b7660b1">pt_heads</a> = hh;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a2de7ef0760afe32f4e62013830990adb">pt_sectors</a> = ss;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    }</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;}</div>
<div class="ttc" id="aarpping_8c_html_ac9562ee4ecb3b8aeebeb04656e7e57a9"><div class="ttname"><a href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a></div><div class="ttdeci">#define s</div></div>
<div class="ttc" id="aiperl_8c_html_a6c8ec3c3e77241328358d43697f6f840"><div class="ttname"><a href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a></div><div class="ttdeci">static int first</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d00/iperl_8c_source.html#l00010">iperl.c:10</a></div></div>
<div class="ttc" id="alzop_8c_html_a56dee7158d9de89b23535bf5ad318261"><div class="ttname"><a href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a></div><div class="ttdeci">#define h</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d00/iperl_8c_source.html#l00010">first</a>, <a class="el" href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00482">MBRbuffer</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00474">pt_heads</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00542">pt_offset</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00475">pt_sectors</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00607">valid_part_table_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01387">get_geometry()</a>.</p>

</div>
</div>
<a id="ad910e41652bd981269e378153f5f334b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad910e41652bd981269e378153f5f334b">&#9670;&nbsp;</a></span>get_sectorsize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_sectorsize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01328">1328</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;{</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#a557a92f2b7096a947348c7fb090c1175">user_set_sector_size</a>) {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/Userspace_2musl_2include_2stropts_8h.html#ae3a230c65883ec8edc50e3a09ca80003">ioctl</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#af1f7903426b2f1e37edfad13faa6816b">BLKSSZGET</a>, &amp;<a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>) == 0)</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a> = <a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a> != <a class="code" href="../../d6/d86/fdisk_8c.html#ac3c1692602ecb7b77f997bb772ddf7ae">DEFAULT_SECTOR_SIZE</a>)</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Note: sector size is %u &quot;</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                <span class="stringliteral">&quot;(not &quot;</span> <a class="code" href="../../d6/d86/fdisk_8c.html#aebf1bdc1854ef37c2d1b979d9df7df72">DEFAULT_SECTOR_SIZE_STR</a> <span class="stringliteral">&quot;)\n&quot;</span>,</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                <a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a>);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;}</div>
<div class="ttc" id="afdisk_8c_html_aebf1bdc1854ef37c2d1b979d9df7df72"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#aebf1bdc1854ef37c2d1b979d9df7df72">DEFAULT_SECTOR_SIZE_STR</a></div><div class="ttdeci">#define DEFAULT_SECTOR_SIZE_STR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00138">fdisk.c:138</a></div></div>
<div class="ttc" id="afdisk_8c_html_af1f7903426b2f1e37edfad13faa6816b"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#af1f7903426b2f1e37edfad13faa6816b">BLKSSZGET</a></div><div class="ttdeci">#define BLKSSZGET</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00116">fdisk.c:116</a></div></div>
<div class="ttc" id="avfwprintf_8c_html_d9/ddc/unionarg"><div class="ttname"><a href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d61/vfprintf_8c_source.html#l00102">vfprintf.c:103</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00116">BLKSSZGET</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00137">DEFAULT_SECTOR_SIZE</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00138">DEFAULT_SECTOR_SIZE_STR</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00412">dev_fd</a>, <a class="el" href="../../dc/d32/ioctl_8c_source.html#l00128">ioctl()</a>, <a class="el" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00061">printf</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00458">sector_size</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00459">user_set_sector_size</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01387">get_geometry()</a>.</p>

</div>
</div>
<a id="ace19ccf1bb522bdf649402878b1b113b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace19ccf1bb522bdf649402878b1b113b">&#9670;&nbsp;</a></span>get_start_sect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a> get_start_sect </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00826">826</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d86/fdisk_8c.html#a54ce8e05a7906f27191168d4f9a843ff">read4_little_endian</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;start4);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00818">read4_little_endian()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01985">check_consistency()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00877">get_partition_start_from_dev_start()</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01214">read_extended()</a>.</p>

</div>
</div>
<a id="a0bee227a368080c2e0b1139dcffa3464"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bee227a368080c2e0b1139dcffa3464">&#9670;&nbsp;</a></span>gpt_list_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#a32a208f98de24c6160093fbf669626d3">STATIC_GPT</a> void gpt_list_table </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xtra</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>.</p>

</div>
</div>
<a id="a41552b610612c2f20f01e9af00121d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41552b610612c2f20f01e9af00121d77">&#9670;&nbsp;</a></span>is_cleared_partition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int is_cleared_partition </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01063">1063</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;{</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="comment">/* We consider partition &quot;cleared&quot; only if it has only zeros */</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *cp = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <span class="keyword">sizeof</span>(*p);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordtype">char</span> bits = 0;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">while</span> (--<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &gt;= 0)</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        bits |= *cp++;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">return</span> (bits == 0);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;}</div>
<div class="ttc" id="awi__stuff_8c_html_a9cfbb269728dc4185236d28be58d9eab"><div class="ttname"><a href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a></div><div class="ttdeci">static int cnt</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/wi__stuff_8c_source.html#l00317">wi_stuff.c:317</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00317">cnt</a>, and <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>.</p>

</div>
</div>
<a id="a9249df5b739c7971090026ed5e2c1e24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9249df5b739c7971090026ed5e2c1e24">&#9670;&nbsp;</a></span>is_ide_cdrom_or_tape()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int is_ide_cdrom_or_tape </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02889">2889</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;{</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    <a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *procf;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[100];</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> statbuf;</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    <span class="keywordtype">int</span> is_ide = 0;</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160; </div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    <span class="comment">/* No device was given explicitly, and we are trying some</span></div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;<span class="comment">       likely things.  But opening /dev/hdc may produce errors like</span></div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;<span class="comment">       &quot;hdc: tray open or drive not ready&quot;</span></div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;<span class="comment">       if it happens to be a CD-ROM drive. It even happens that</span></div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;<span class="comment">       the process hangs on the attempt to read a music CD.</span></div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;<span class="comment">       So try to be careful. This only works since 2.1.73. */</span></div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160; </div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dd7/libbb_8h.html#a4efef3cefc2a7e3a1176da4352a90769">is_prefixed_with</a>(<a class="code" href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a>, <span class="stringliteral">&quot;/dev/hd&quot;</span>))</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160; </div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>), <span class="stringliteral">&quot;/proc/ide/%s/media&quot;</span>, <a class="code" href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a>+5);</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    procf = <a class="code" href="../../d7/dd7/libbb_8h.html#a547f92b9e32d1a4e05450126d4bdc1c3">fopen_for_read</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>);</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <span class="keywordflow">if</span> (procf != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; <a class="code" href="../../d7/dd7/libbb_8h.html#a458f311e9a7d803457d8ac51bf5aae4b">fgets</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>), procf))</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        is_ide = (<a class="code" href="../../d7/dd7/libbb_8h.html#a4efef3cefc2a7e3a1176da4352a90769">is_prefixed_with</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <span class="stringliteral">&quot;cdrom&quot;</span>) ||</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;              <a class="code" href="../../d7/dd7/libbb_8h.html#a4efef3cefc2a7e3a1176da4352a90769">is_prefixed_with</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <span class="stringliteral">&quot;tape&quot;</span>));</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;        <span class="comment">/* Now when this proc file does not exist, skip the</span></div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;<span class="comment">           device when it is read-only. */</span></div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d85/filesystem_8hpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a>(<a class="code" href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a>, &amp;statbuf) == 0)</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;            is_ide = ((statbuf.st_mode &amp; 0222) == 0);</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160; </div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <span class="keywordflow">if</span> (procf)</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;        <a class="code" href="../../d1/d85/filesystem_8hpp.html#a575cfdaca3a77c3f910df16d56d7240c">fclose</a>(procf);</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    <span class="keywordflow">return</span> is_ide;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;}</div>
<div class="ttc" id="aKernel_2include_2printf_8h_html_a437169f8519f855cc045a0e23d3ca691"><div class="ttname"><a href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf</a></div><div class="ttdeci">PRINTF_VISIBILITY int snprintf(char *s, size_t count, const char *format,...) ATTR_PRINTF(3</div></div>
<div class="ttc" id="aUserspace_2musl_2arch_2x86__64_2bits_2stat_8h_html_da/de7/structstat"><div class="ttname"><a href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a></div><div class="ttdoc">Structure holding information about a file, as returned by the stat function.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00094">filesystem.hpp:95</a></div></div>
<div class="ttc" id="acargs_8h_html_a69437b5d572dd16d6d4fdbcbd066c7a9"><div class="ttname"><a href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a></div><div class="ttdeci">unsigned int FILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d37/cargs_8h_source.html#l00038">cargs.h:38</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a495553b93f6e4b88e7d82195f189cb22"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a></div><div class="ttdeci">int stat(const char *pathname, struct stat *statbuf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5c/kernel__io_8cpp_source.html#l00099">kernel_io.cpp:99</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a575cfdaca3a77c3f910df16d56d7240c"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a575cfdaca3a77c3f910df16d56d7240c">fclose</a></div><div class="ttdeci">int fclose(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5c/kernel__io_8cpp_source.html#l00077">kernel_io.cpp:77</a></div></div>
<div class="ttc" id="alibbb_8h_html_a458f311e9a7d803457d8ac51bf5aae4b"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a458f311e9a7d803457d8ac51bf5aae4b">fgets</a></div><div class="ttdeci">#define fgets(s, n, stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00236">libbb.h:236</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4efef3cefc2a7e3a1176da4352a90769"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4efef3cefc2a7e3a1176da4352a90769">is_prefixed_with</a></div><div class="ttdeci">char * is_prefixed_with(const char *string, const char *key) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d40/compare__string__array_8c_source.html#l00012">compare_string_array.c:12</a></div></div>
<div class="ttc" id="alibbb_8h_html_a547f92b9e32d1a4e05450126d4bdc1c3"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a547f92b9e32d1a4e05450126d4bdc1c3">fopen_for_read</a></div><div class="ttdeci">FILE * fopen_for_read(const char *path) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d34/wfopen_8c_source.html#l00021">wfopen.c:21</a></div></div>
<div class="ttc" id="anmeter_8c_html_a8059c3b19eb356cf729e5d25b139647e"><div class="ttname"><a href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a></div><div class="ttdeci">const char * device</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcd/nmeter_8c_source.html#l00581">nmeter.c:581</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="el" href="../../d4/dcd/nmeter_8c_source.html#l00581">device</a>, <a class="el" href="../../d8/d5c/kernel__io_8cpp_source.html#l00077">fclose()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l00236">fgets</a>, <a class="el" href="../../d7/d34/wfopen_8c_source.html#l00021">fopen_for_read()</a>, <a class="el" href="../../d2/d40/compare__string__array_8c_source.html#l00012">is_prefixed_with()</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf()</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00101">stat::st_mode</a>, and <a class="el" href="../../d8/d5c/kernel__io_8cpp_source.html#l00099">stat()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02924">open_list_and_close()</a>.</p>

</div>
</div>
<a id="a9aaa0f758ac4202923bbb2373585bbe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aaa0f758ac4202923bbb2373585bbe7">&#9670;&nbsp;</a></span>is_whole_disk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int is_whole_disk </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>disk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02970">2970</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;{</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(disk, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>);</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160; </div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a> != -1) {</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#df/d6b/structhd__geometry">hd_geometry</a> geometry;</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> = <a class="code" href="../../d6/dfe/Userspace_2musl_2include_2stropts_8h.html#ae3a230c65883ec8edc50e3a09ca80003">ioctl</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a78f500ec2e4a77fa04886139eddde0e5">HDIO_GETGEO</a>, &amp;geometry);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#afbb31b79c86485de0faa9e9348a5247fa1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>)</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;            <span class="keywordflow">return</span> (geometry.start == 0);</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    }</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160; </div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    <span class="comment">/* Treat &quot;nameN&quot; as a partition name, not whole disk */</span></div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    <span class="comment">/* note: mmcblk0 should work from the geometry check above */</span></div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d5a/base_8h.html#a57cca470e9dd0a2807b6b1ff3ceda9bb">strlen</a>(disk);</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> != 0 &amp;&amp; <a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(disk[<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> - 1]))</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160; </div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;}</div>
<div class="ttc" id="abase_8h_html_a57cca470e9dd0a2807b6b1ff3ceda9bb"><div class="ttname"><a href="../../d3/d5a/base_8h.html#a57cca470e9dd0a2807b6b1ff3ceda9bb">strlen</a></div><div class="ttdeci">#define strlen(str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5a/base_8h_source.html#l00275">base.h:275</a></div></div>
<div class="ttc" id="aerr_8h_html_aa31bca214cc8f135a43aa7fbea017326"><div class="ttname"><a href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a></div><div class="ttdeci">_Noreturn void err(int, const char *,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d80/err_8c_source.html#l00053">err.c:53</a></div></div>
<div class="ttc" id="alibbb_8h_html_aefb5fe894e4d5f0e52d5853f99200d96"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a></div><div class="ttdeci">#define isdigit(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02447">libbb.h:2447</a></div></div>
<div class="ttc" id="amultiboot_8h_html_a6de3a6d27a7e07942958b912d39792e6"><div class="ttname"><a href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a></div><div class="ttdeci">multiboot_uint64_t len</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc0/multiboot_8h_source.html#l00002">multiboot.h:2</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d22/close_8c_source.html#l00013">close()</a>, <a class="el" href="../../da/d80/err_8c_source.html#l00053">err()</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00186">HDIO_GETGEO</a>, <a class="el" href="../../dc/d32/ioctl_8c_source.html#l00128">ioctl()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02447">isdigit</a>, <a class="el" href="../../d1/dc0/multiboot_8h_source.html#l00002">len</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00060">O_RDONLY</a>, <a class="el" href="../../da/deb/open_8c_source.html#l00005">open()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00183">hd_geometry::start</a>, and <a class="el" href="../../d3/d5a/base_8h_source.html#l00275">strlen</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02995">list_devs_in_proc_partititons()</a>.</p>

</div>
</div>
<a id="acd7a5c9e6c612873d2bc74a9faa11e7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd7a5c9e6c612873d2bc74a9faa11e7b">&#9670;&nbsp;</a></span>linear2chs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void linear2chs </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>ls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01974">1974</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;{</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <span class="keywordtype">int</span> spc = <a class="code" href="../../d6/d86/fdisk_8c.html#aaadf4b0192d01471458a29c672a8a4ed">g_heads</a> * <a class="code" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a>;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160; </div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    *<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = ls / spc;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    ls = ls % spc;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    *<a class="code" href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a> = ls / <a class="code" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a>;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = ls % <a class="code" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a> + 1;  <span class="comment">/* sectors count from 1 */</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00461">g_heads</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00462">g_sectors</a>, <a class="el" href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a>, and <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01985">check_consistency()</a>.</p>

</div>
</div>
<a id="a160e9a0c9605723f84278b265159bdc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a160e9a0c9605723f84278b265159bdc1">&#9670;&nbsp;</a></span>list_devs_in_proc_partititons()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void list_devs_in_proc_partititons </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02995">2995</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;{</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    <a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *procpt;</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a>[100], ptname[100], devname[120];</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    <span class="keywordtype">int</span> ma, mi, sz;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160; </div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    procpt = <a class="code" href="../../d7/dd7/libbb_8h.html#a7b15d29e045609b6c28abb8617183bfd">fopen_or_warn</a>(<span class="stringliteral">&quot;/proc/partitions&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160; </div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#a458f311e9a7d803457d8ac51bf5aae4b">fgets</a>(<a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a>), procpt)) {</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#acd369d6926dd1e1fb503821a8b167414">sscanf</a>(<a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a>, <span class="stringliteral">&quot; %u %u %u %[^\n ]&quot;</span>,</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;                &amp;ma, &amp;mi, &amp;sz, ptname) != 4)</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160; </div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(devname, <span class="stringliteral">&quot;/dev/%s&quot;</span>, ptname);</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a9aaa0f758ac4202923bbb2373585bbe7">is_whole_disk</a>(devname))</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#a332aefec24846366643f47de7a0c2c25">open_list_and_close</a>(devname, 0);</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;    }</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_CLEAN_UP</span></div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    <a class="code" href="../../d1/d85/filesystem_8hpp.html#a575cfdaca3a77c3f910df16d56d7240c">fclose</a>(procpt);</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;}</div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_acd369d6926dd1e1fb503821a8b167414"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#acd369d6926dd1e1fb503821a8b167414">sscanf</a></div><div class="ttdeci">int sscanf(const char *s, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00125">file.c:125</a></div></div>
<div class="ttc" id="afdisk_8c_html_a9aaa0f758ac4202923bbb2373585bbe7"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a9aaa0f758ac4202923bbb2373585bbe7">is_whole_disk</a></div><div class="ttdeci">static int is_whole_disk(const char *disk)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l02970">fdisk.c:2970</a></div></div>
<div class="ttc" id="alibbb_8h_html_a7b15d29e045609b6c28abb8617183bfd"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a7b15d29e045609b6c28abb8617183bfd">fopen_or_warn</a></div><div class="ttdeci">FILE * fopen_or_warn(const char *filename, const char *mode) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d34/wfopen_8c_source.html#l00011">wfopen.c:11</a></div></div>
<div class="ttc" id="apowertop_8c_html_d4/d85/structline"><div class="ttname"><a href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dff/diff_8c_source.html#l00351">diff.c:351</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5c/kernel__io_8cpp_source.html#l00077">fclose()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l00236">fgets</a>, <a class="el" href="../../d7/d34/wfopen_8c_source.html#l00011">fopen_or_warn()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02970">is_whole_disk()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02924">open_list_and_close()</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l00125">sscanf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">fdisk_main()</a>.</p>

</div>
</div>
<a id="abcbb4951cf1fc5c2561714d1ca3a4ca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcbb4951cf1fc5c2561714d1ca3a4ca4">&#9670;&nbsp;</a></span>list_disk_geometry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void list_disk_geometry </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02029">2029</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;{</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="../../d4/dcd/nmeter_8c.html#a82220750c1cf89c8bf9479ef2756227d">ullong</a> xbytes = <a class="code" href="../../d6/d86/fdisk_8c.html#af65c9488b5c43c3216664219e6f7055b">total_number_of_sectors</a> / (1024*1024 / 512);</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#aeb26462df30f47f6fd73ee802457812b">x</a> = <span class="charliteral">&#39;M&#39;</span>;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160; </div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keywordflow">if</span> (xbytes &gt;= 10000) {</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        xbytes += 512; <span class="comment">/* fdisk util-linux 2.28 does this */</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        xbytes /= 1024;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;        <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#aeb26462df30f47f6fd73ee802457812b">x</a> = <span class="charliteral">&#39;G&#39;</span>;</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    }</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Disk %s: %llu %cB, %llu bytes, %&quot;</span>SECT_FMT<span class="stringliteral">&quot;u sectors\n&quot;</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        <span class="stringliteral">&quot;%u cylinders, %u heads, %u sectors/track\n&quot;</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        <span class="stringliteral">&quot;Units: %ss of %u * %u = %u bytes\n&quot;</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a>, xbytes, <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#aeb26462df30f47f6fd73ee802457812b">x</a>,</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;        ((<a class="code" href="../../d4/dcd/nmeter_8c.html#a82220750c1cf89c8bf9479ef2756227d">ullong</a>)<a class="code" href="../../d6/d86/fdisk_8c.html#af65c9488b5c43c3216664219e6f7055b">total_number_of_sectors</a> * 512), <a class="code" href="../../d6/d86/fdisk_8c.html#af65c9488b5c43c3216664219e6f7055b">total_number_of_sectors</a>,</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#ae370ac91c811573a048f14f11fbc9f0d">g_cylinders</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#aaadf4b0192d01471458a29c672a8a4ed">g_heads</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a>,</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a7a111825e769d293e24987a40b19a2f0">str_units</a>(),</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a55a44d9b0ad463a6578fee8ea11b2871">units_per_sector</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a55a44d9b0ad463a6578fee8ea11b2871">units_per_sector</a> * <a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    );</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;}</div>
<div class="ttc" id="afdisk_8c_html_a55a44d9b0ad463a6578fee8ea11b2871"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a55a44d9b0ad463a6578fee8ea11b2871">units_per_sector</a></div><div class="ttdeci">#define units_per_sector</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00457">fdisk.c:457</a></div></div>
<div class="ttc" id="afdisk_8c_html_a7a111825e769d293e24987a40b19a2f0"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a7a111825e769d293e24987a40b19a2f0">str_units</a></div><div class="ttdeci">static ALWAYS_INLINE const char * str_units(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00601">fdisk.c:601</a></div></div>
<div class="ttc" id="amusl_2src_2prng_2random_8c_html_aeb26462df30f47f6fd73ee802457812b"><div class="ttname"><a href="../../dc/da2/musl_2src_2prng_2random_8c.html#aeb26462df30f47f6fd73ee802457812b">x</a></div><div class="ttdeci">static uint32_t * x</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/musl_2src_2prng_2random_8c_source.html#l00025">random.c:25</a></div></div>
<div class="ttc" id="anmeter_8c_html_a82220750c1cf89c8bf9479ef2756227d"><div class="ttname"><a href="../../d4/dcd/nmeter_8c.html#a82220750c1cf89c8bf9479ef2756227d">ullong</a></div><div class="ttdeci">unsigned long long ullong</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcd/nmeter_8c_source.html#l00060">nmeter.c:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00455">disk_device</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00463">g_cylinders</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00461">g_heads</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00462">g_sectors</a>, <a class="el" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00061">printf</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00458">sector_size</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00601">str_units()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00479">total_number_of_sectors</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00457">units_per_sector</a>, and <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c_source.html#l00025">x</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02924">open_list_and_close()</a>.</p>

</div>
</div>
<a id="aed64a81bebe3294c65754aaa8db1ef9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed64a81bebe3294c65754aaa8db1ef9e">&#9670;&nbsp;</a></span>list_table()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void list_table </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xtra</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">2201</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;{</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160; </div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a6627bdd198755fbcc7607b1998f8e9a2">LABEL_IS_SUN</a>) {</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a81070874db6dbd9ea9ad37a182ee0b8d">sun_list_table</a>(xtra);</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    }</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#ad2eaa19090d1666f2613f71ef933f471">LABEL_IS_SGI</a>) {</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a005b6f6c67c1ece7255b11c407312e5e">sgi_list_table</a>(xtra);</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    }</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a38496576551087ddb3fb66db120563ba">LABEL_IS_GPT</a>) {</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a0bee227a368080c2e0b1139dcffa3464">gpt_list_table</a>(xtra);</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    }</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160; </div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#abcbb4951cf1fc5c2561714d1ca3a4ca4">list_disk_geometry</a>();</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; </div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a7a3ff67b12e3f3761575efd4192c1d79">LABEL_IS_OSF</a>) {</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a61c4e2c7b1697011404817e20e528321">xbsd_print_disklabel</a>(xtra);</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    }</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160; </div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="comment">/* Heuristic: we list partition 3 of /dev/foo as /dev/foo3,</span></div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;<span class="comment">     * but if the device name ends in a digit, say /dev/foo1,</span></div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;<span class="comment">     * then the partition is called /dev/foo1p3.</span></div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> = <a class="code" href="../../d3/d5a/base_8h.html#a57cca470e9dd0a2807b6b1ff3ceda9bb">strlen</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a>);</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> &amp;&amp; <a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a>[<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-1]))</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;        <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>++;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> &lt; 7)</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> = 7;</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160; </div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;%-*s Boot StartCHS    EndCHS        StartLBA     EndLBA    Sectors  Size Id Type\n&quot;</span>,</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;           <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-1, <span class="stringliteral">&quot;Device&quot;</span>);</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160; </div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a> *pe = &amp;<a class="code" href="../../d6/d86/fdisk_8c.html#a80a004ea09a4494a3bc684dcde4a9614">ptes</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>];</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        <span class="keywordtype">char</span> boot4[4];</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;        <span class="keywordtype">char</span> numstr6[6];</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        <a class="code" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a> start_sect;</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;        <a class="code" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a> end_sect;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        <a class="code" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a> nr_sects;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160; </div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a>;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> || <a class="code" href="../../d6/d86/fdisk_8c.html#a41552b610612c2f20f01e9af00121d77">is_cleared_partition</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>))</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160; </div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(boot4, <span class="stringliteral">&quot;%02x&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;boot_ind);</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;boot_ind &amp; 0x7f) == 0) {</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;            <span class="comment">/* 0x80 shown as &#39;*&#39;, 0x00 is &#39; &#39; */</span></div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;            boot4[0] = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;boot_ind ? <span class="charliteral">&#39;*&#39;</span> : <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;            boot4[1] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        }</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160; </div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        start_sect = <a class="code" href="../../d6/d86/fdisk_8c.html#ad74c8bd677a70831a86f9750607a896d">get_partition_start_from_dev_start</a>(pe);</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;        end_sect = start_sect;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        nr_sects = <a class="code" href="../../d6/d86/fdisk_8c.html#aee064635634ac73df910a62139b1f1be">get_nr_sects</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;        <span class="keywordflow">if</span> (nr_sects != 0)</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;            end_sect += nr_sects - 1;</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160; </div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a364e271d540df66f07c3fa908c438c65">smart_ulltoa5</a>((<a class="code" href="../../d4/dcd/nmeter_8c.html#a82220750c1cf89c8bf9479ef2756227d">ullong</a>)nr_sects * <a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a>,</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;            numstr6, <span class="stringliteral">&quot; KMGTPEZY&quot;</span>)[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160; </div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="preprocessor">#define SFMT SECT_FMT</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        <span class="comment">//      Boot StartCHS    EndCHS        StartLBA     EndLBA    Sectors  Size Id Type</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;        <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;%s%s %-11s&quot;</span><span class="stringliteral">&quot; %-11s&quot;</span><span class="stringliteral">&quot; %10&quot;</span><a class="code" href="../../d6/d86/fdisk_8c.html#ae12ebcc259a87f0d1cbb96f11f02ccde">SFMT</a><span class="stringliteral">&quot;u %10&quot;</span><a class="code" href="../../d6/d86/fdisk_8c.html#ae12ebcc259a87f0d1cbb96f11f02ccde">SFMT</a><span class="stringliteral">&quot;u %10&quot;</span><a class="code" href="../../d6/d86/fdisk_8c.html#ae12ebcc259a87f0d1cbb96f11f02ccde">SFMT</a><span class="stringliteral">&quot;u %s %2x %s\n&quot;</span>,</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#ae78ade944fdb8299f8094708ffbc4d65">partname</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>+1, <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>+2),</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;            boot4,</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#a1b2f96a447957df8390a8d9b81e1d0d0">chs_string11</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;cyl, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;head, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;sector),</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#a1b2f96a447957df8390a8d9b81e1d0d0">chs_string11</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;end_cyl, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;end_head, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;end_sector),</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;            start_sect,</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            end_sect,</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;            nr_sects,</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;            numstr6,</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;sys_ind,</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#a8a148369e999d0dbbfd4192e59f8673b">partition_type</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;sys_ind)</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;        );</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;<span class="preprocessor">#undef SFMT</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a5de08724504d2c04ceaeec27f4ca705e">check_consistency</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    }</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160; </div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="comment">/* Is partition table in disk order? It need not be, but... */</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    <span class="comment">/* partition table entries are not checked for correct order</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<span class="comment">     * if this is a sgi, sun or aix labeled disk... */</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a0e6394cea9c018ca9809f75a55be2f8e">LABEL_IS_DOS</a> &amp;&amp; <a class="code" href="../../d6/d86/fdisk_8c.html#a5b71c9ccd0719d1495a70b0b076e42ad">wrong_p_order</a>(<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;        <span class="comment">/* FIXME */</span></div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;\nPartition table entries are not in disk order&quot;</span>);</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    }</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;}</div>
<div class="ttc" id="adecompress__gunzip_8c_html_a6c6772207c061db8f6ca77c2661f497a"><div class="ttname"><a href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a></div><div class="ttdeci">#define w</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dcc/decompress__gunzip_8c_source.html#l00509">decompress_gunzip.c:509</a></div></div>
<div class="ttc" id="afdisk_8c_html_a005b6f6c67c1ece7255b11c407312e5e"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a005b6f6c67c1ece7255b11c407312e5e">sgi_list_table</a></div><div class="ttdeci">STATIC_SGI void sgi_list_table(int xtra)</div></div>
<div class="ttc" id="afdisk_8c_html_a0bee227a368080c2e0b1139dcffa3464"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a0bee227a368080c2e0b1139dcffa3464">gpt_list_table</a></div><div class="ttdeci">STATIC_GPT void gpt_list_table(int xtra)</div></div>
<div class="ttc" id="afdisk_8c_html_a1b2f96a447957df8390a8d9b81e1d0d0"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a1b2f96a447957df8390a8d9b81e1d0d0">chs_string11</a></div><div class="ttdeci">static const char * chs_string11(unsigned cyl, unsigned head, unsigned sect)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l02193">fdisk.c:2193</a></div></div>
<div class="ttc" id="afdisk_8c_html_a38496576551087ddb3fb66db120563ba"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a38496576551087ddb3fb66db120563ba">LABEL_IS_GPT</a></div><div class="ttdeci">#define LABEL_IS_GPT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00280">fdisk.c:280</a></div></div>
<div class="ttc" id="afdisk_8c_html_a41552b610612c2f20f01e9af00121d77"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a41552b610612c2f20f01e9af00121d77">is_cleared_partition</a></div><div class="ttdeci">static int is_cleared_partition(const struct partition *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01063">fdisk.c:1063</a></div></div>
<div class="ttc" id="afdisk_8c_html_a5b71c9ccd0719d1495a70b0b076e42ad"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a5b71c9ccd0719d1495a70b0b076e42ad">wrong_p_order</a></div><div class="ttdeci">static int wrong_p_order(int *prev)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l02057">fdisk.c:2057</a></div></div>
<div class="ttc" id="afdisk_8c_html_a5de08724504d2c04ceaeec27f4ca705e"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a5de08724504d2c04ceaeec27f4ca705e">check_consistency</a></div><div class="ttdeci">static void check_consistency(const struct partition *p, int partition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01985">fdisk.c:1985</a></div></div>
<div class="ttc" id="afdisk_8c_html_a61c4e2c7b1697011404817e20e528321"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a61c4e2c7b1697011404817e20e528321">xbsd_print_disklabel</a></div><div class="ttdeci">STATIC_OSF void xbsd_print_disklabel(int)</div></div>
<div class="ttc" id="afdisk_8c_html_a81070874db6dbd9ea9ad37a182ee0b8d"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a81070874db6dbd9ea9ad37a182ee0b8d">sun_list_table</a></div><div class="ttdeci">STATIC_SUN void sun_list_table(int xtra)</div></div>
<div class="ttc" id="afdisk_8c_html_a8a148369e999d0dbbfd4192e59f8673b"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a8a148369e999d0dbbfd4192e59f8673b">partition_type</a></div><div class="ttdeci">static const char * partition_type(unsigned char type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01050">fdisk.c:1050</a></div></div>
<div class="ttc" id="afdisk_8c_html_abcbb4951cf1fc5c2561714d1ca3a4ca4"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#abcbb4951cf1fc5c2561714d1ca3a4ca4">list_disk_geometry</a></div><div class="ttdeci">static void list_disk_geometry(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l02029">fdisk.c:2029</a></div></div>
<div class="ttc" id="afdisk_8c_html_ad74c8bd677a70831a86f9750607a896d"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ad74c8bd677a70831a86f9750607a896d">get_partition_start_from_dev_start</a></div><div class="ttdeci">static sector_t get_partition_start_from_dev_start(const struct pte *pe)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00877">fdisk.c:877</a></div></div>
<div class="ttc" id="afdisk_8c_html_ae12ebcc259a87f0d1cbb96f11f02ccde"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ae12ebcc259a87f0d1cbb96f11f02ccde">SFMT</a></div><div class="ttdeci">#define SFMT</div></div>
<div class="ttc" id="afdisk_8c_html_ae78ade944fdb8299f8094708ffbc4d65"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ae78ade944fdb8299f8094708ffbc4d65">partname</a></div><div class="ttdeci">static const char * partname(const char *dev, int pno, int lth)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00558">fdisk.c:558</a></div></div>
<div class="ttc" id="alibbb_8h_html_a364e271d540df66f07c3fa908c438c65"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a364e271d540df66f07c3fa908c438c65">smart_ulltoa5</a></div><div class="ttdeci">char * smart_ulltoa5(unsigned long long ul, char buf[5], const char *scale) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d88/human__readable_8c_source.html#l00084">human_readable.c:84</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01985">check_consistency()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02193">chs_string11()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00455">disk_device</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00456">g_partitions</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00832">get_nr_sects()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00877">get_partition_start_from_dev_start()</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#a0bee227a368080c2e0b1139dcffa3464">gpt_list_table()</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01063">is_cleared_partition()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02447">isdigit</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00242">LABEL_IS_DOS</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00280">LABEL_IS_GPT</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00272">LABEL_IS_OSF</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00256">LABEL_IS_SGI</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00248">LABEL_IS_SUN</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02029">list_disk_geometry()</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00225">pte::part_table</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01050">partition_type()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00558">partname()</a>, <a class="el" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00061">printf</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00483">ptes</a>, <a class="el" href="../../df/d79/put_8c_source.html#l00027">puts()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00458">sector_size</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#ae12ebcc259a87f0d1cbb96f11f02ccde">SFMT</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#a005b6f6c67c1ece7255b11c407312e5e">sgi_list_table()</a>, <a class="el" href="../../dc/d88/human__readable_8c_source.html#l00084">smart_ulltoa5()</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf()</a>, <a class="el" href="../../d3/d5a/base_8h_source.html#l00275">strlen</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#a81070874db6dbd9ea9ad37a182ee0b8d">sun_list_table()</a>, <a class="el" href="../../d6/dcc/decompress__gunzip_8c_source.html#l00509">w</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02057">wrong_p_order()</a>, and <a class="el" href="../../d6/d86/fdisk_8c.html#a61c4e2c7b1697011404817e20e528321">xbsd_print_disklabel()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">fdisk_main()</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02924">open_list_and_close()</a>.</p>

</div>
</div>
<a id="a332aefec24846366643f47de7a0c2c25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a332aefec24846366643f47de7a0c2c25">&#9670;&nbsp;</a></span>open_list_and_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void open_list_and_close </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>user_specified</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02924">2924</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;{</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <span class="keywordtype">int</span> gb;</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160; </div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a0b877e81f766a4d5938e74d70127d5c8">disk_device</a> = <a class="code" href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a>;</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#ac7cd296b63b31ab3d8cd447e40d0eedc">setjmp</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a534b5fcde5aa1a3279853859f25a0b1b">listingbuf</a>))</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    <span class="keywordflow">if</span> (!user_specified)</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a9249df5b739c7971090026ed5e2c1e24">is_ide_cdrom_or_tape</a>(<a class="code" href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a>))</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160; </div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    <span class="comment">/* Open disk_device, save file descriptor to dev_fd */</span></div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> = 0;</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    gb = <a class="code" href="../../d6/d86/fdisk_8c.html#a420bb8f1c86e0b48af746f4748d5c9f6">get_boot</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4a10a747f442fc970cd80d899512ea17ff">TRY_ONLY</a>);</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;    <span class="keywordflow">if</span> (gb &gt; 0) {   <span class="comment">/* I/O error */</span></div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;        <span class="comment">/* Ignore other errors, since we try IDE</span></div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;<span class="comment">           and SCSI hard disks which may not be</span></div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;<span class="comment">           installed on the system. */</span></div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;        <span class="keywordflow">if</span> (user_specified || <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ac2a2e9fa555401f94478f74e01868032">EACCES</a>)</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#ae66d6488a9b5fcf4653c6bbc2fc4365b">bb_perror_msg</a>(<span class="stringliteral">&quot;can&#39;t open &#39;%s&#39;&quot;</span>, <a class="code" href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a>);</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    }</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160; </div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    <span class="keywordflow">if</span> (gb &lt; 0) { <span class="comment">/* no DOS signature */</span></div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#abcbb4951cf1fc5c2561714d1ca3a4ca4">list_disk_geometry</a>();</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a62ea590164b267ab678233cbd76f28a6">LABEL_IS_AIX</a>)</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_OSF_LABEL</span></div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;        <span class="keywordflow">if</span> (bsd_trydev(<a class="code" href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a>) &lt; 0)</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;            <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Disk %s doesn&#39;t contain a valid &quot;</span></div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;                <span class="stringliteral">&quot;partition table\n&quot;</span>, <a class="code" href="../../d4/dcd/nmeter_8c.html#a8059c3b19eb356cf729e5d25b139647e">device</a>);</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#aed64a81bebe3294c65754aaa8db1ef9e">list_table</a>(0);</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_FDISK_WRITABLE</span></div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#a6627bdd198755fbcc7607b1998f8e9a2">LABEL_IS_SUN</a> &amp;&amp; <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a> &gt; 4) {</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;            delete_partition(<a class="code" href="../../d6/d86/fdisk_8c.html#a69d141f3e47cdf395ec8c8efd2f9d81c">ext_index</a>);</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;        }</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    }</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160; ret:</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a536d9bda6015d5326064113ecabb6fbd">close_dev_fd</a>();</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;}</div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_ab03f640d90fbc5bcb75285d08a0f25ed"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a></div><div class="ttdeci">#define errno</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00410">errno.h:410</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_ac2a2e9fa555401f94478f74e01868032"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ac2a2e9fa555401f94478f74e01868032">EACCES</a></div><div class="ttdeci">#define EACCES</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00058">errno.h:58</a></div></div>
<div class="ttc" id="afdisk_8c_html_a62ea590164b267ab678233cbd76f28a6"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a62ea590164b267ab678233cbd76f28a6">LABEL_IS_AIX</a></div><div class="ttdeci">#define LABEL_IS_AIX</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00264">fdisk.c:264</a></div></div>
<div class="ttc" id="afdisk_8c_html_a69d141f3e47cdf395ec8c8efd2f9d81c"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a69d141f3e47cdf395ec8c8efd2f9d81c">ext_index</a></div><div class="ttdeci">#define ext_index</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00470">fdisk.c:470</a></div></div>
<div class="ttc" id="afdisk_8c_html_a9249df5b739c7971090026ed5e2c1e24"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a9249df5b739c7971090026ed5e2c1e24">is_ide_cdrom_or_tape</a></div><div class="ttdeci">static int is_ide_cdrom_or_tape(const char *device)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l02889">fdisk.c:2889</a></div></div>
<div class="ttc" id="alibbb_8h_html_ae66d6488a9b5fcf4653c6bbc2fc4365b"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ae66d6488a9b5fcf4653c6bbc2fc4365b">bb_perror_msg</a></div><div class="ttdeci">void bb_perror_msg(const char *s,...) __attribute__((format(printf</div></div>
<div class="ttc" id="amusl_2include_2setjmp_8h_html_ac7cd296b63b31ab3d8cd447e40d0eedc"><div class="ttname"><a href="../../d5/d00/musl_2include_2setjmp_8h.html#ac7cd296b63b31ab3d8cd447e40d0eedc">setjmp</a></div><div class="ttdeci">#define setjmp</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d00/musl_2include_2setjmp_8h_source.html#l00041">setjmp.h:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/dd7/libbb_8h.html#ae66d6488a9b5fcf4653c6bbc2fc4365b">bb_perror_msg()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00550">close_dev_fd()</a>, <a class="el" href="../../d4/dcd/nmeter_8c_source.html#l00581">device</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00455">disk_device</a>, <a class="el" href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00058">EACCES</a>, <a class="el" href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00410">errno</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00470">ext_index</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00456">g_partitions</a>, <a class="el" href="../../d6/d86/fdisk_8c.html#a420bb8f1c86e0b48af746f4748d5c9f6">get_boot</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02889">is_ide_cdrom_or_tape()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00264">LABEL_IS_AIX</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00248">LABEL_IS_SUN</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02029">list_disk_geometry()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00480">listingbuf</a>, <a class="el" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00061">printf</a>, <a class="el" href="../../d5/d00/musl_2include_2setjmp_8h_source.html#l00041">setjmp</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00284">TRY_ONLY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">fdisk_main()</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02995">list_devs_in_proc_partititons()</a>.</p>

</div>
</div>
<a id="a8a148369e999d0dbbfd4192e59f8673b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a148369e999d0dbbfd4192e59f8673b">&#9670;&nbsp;</a></span>partition_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char * partition_type </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01050">1050</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;{</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> *<a class="code" href="../../d2/d48/____tz_8c.html#a2531d69daf2c82223c7d3d7a7728ddc1">types</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#ab892b117010088370ebef07270b5a445">get_sys_types</a>();</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../d2/d48/____tz_8c.html#a2531d69daf2c82223c7d3d7a7728ddc1">types</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>]; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)<a class="code" href="../../d2/d48/____tz_8c.html#a2531d69daf2c82223c7d3d7a7728ddc1">types</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>][0] == <a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a>)</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d48/____tz_8c.html#a2531d69daf2c82223c7d3d7a7728ddc1">types</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] + 1;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;}</div>
<div class="ttc" id="a____tz_8c_html_a2531d69daf2c82223c7d3d7a7728ddc1"><div class="ttname"><a href="../../d2/d48/____tz_8c.html#a2531d69daf2c82223c7d3d7a7728ddc1">types</a></div><div class="ttdeci">static const unsigned char * types</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/____tz_8c_source.html#l00032">__tz.c:32</a></div></div>
<div class="ttc" id="amultiboot_8h_html_a8da1a8c7127a0371eec0810a29e30f3c"><div class="ttname"><a href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a></div><div class="ttdeci">multiboot_uint32_t type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc0/multiboot_8h_source.html#l00008">multiboot.h:8</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01046">get_sys_types</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d1/dc0/multiboot_8h_source.html#l00008">type</a>, and <a class="el" href="../../d2/d48/____tz_8c_source.html#l00032">types</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>.</p>

</div>
</div>
<a id="ae78ade944fdb8299f8094708ffbc4d65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae78ade944fdb8299f8094708ffbc4d65">&#9670;&nbsp;</a></span>partname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* partname </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00558">558</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;{</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>, wp;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordtype">int</span> bufsiz;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordtype">char</span> *bufp;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    bufp = <a class="code" href="../../d7/dd7/libbb_8h.html#a75f3af03b38d728d93654c79ed67f281">auto_string</a>(<a class="code" href="../../d7/dd7/libbb_8h.html#a6b9d12af476b8fa4b9de87028b0ac27c">xzalloc</a>(80));</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    bufsiz = 80;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> = <a class="code" href="../../d3/d5a/base_8h.html#a57cca470e9dd0a2807b6b1ff3ceda9bb">strlen</a>(dev);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(dev[<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-1]))</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;p&quot;</span>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">/* devfs kludge - note: fdisk partition names are not supposed</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">       to equal kernel names, so there is no reason to do this */</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(dev + <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> - 4, <span class="stringliteral">&quot;disc&quot;</span>) == 0) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> -= 4;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;part&quot;</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    wp = <a class="code" href="../../d3/d5a/base_8h.html#a57cca470e9dd0a2807b6b1ff3ceda9bb">strlen</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">if</span> (lth) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf</a>(bufp, bufsiz, <span class="stringliteral">&quot;%*.*s%s%-2u&quot;</span>,</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            lth-wp-2, <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>, dev, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, pno);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf</a>(bufp, bufsiz, <span class="stringliteral">&quot;%.*s%s%-2u&quot;</span>, <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>, dev, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, pno);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">return</span> bufp;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;}</div>
<div class="ttc" id="adynlink_8c_html_af3054366f27929432795c5ae420a5294"><div class="ttname"><a href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a></div><div class="ttdeci">#define strcmp(l, r)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/dynlink_8c_source.html#l00174">dynlink.c:174</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d17/auto__string_8c_source.html#l00013">auto_string()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02447">isdigit</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf()</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00174">strcmp</a>, <a class="el" href="../../d3/d5a/base_8h_source.html#l00275">strlen</a>, <a class="el" href="../../d6/dcc/decompress__gunzip_8c_source.html#l00509">w</a>, and <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00069">xzalloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>.</p>

</div>
</div>
<a id="a54ce8e05a7906f27191168d4f9a843ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54ce8e05a7906f27191168d4f9a843ff">&#9670;&nbsp;</a></span>read4_little_endian()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d86/fdisk_8c.html#a87409e591cec58551de6f857f18fc040">inline_if_little_endian</a> unsigned read4_little_endian </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00818">818</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;{</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> v;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#a5b27ff781e21e412705167a70f5cc47a">move_from_unaligned32</a>(v, cp);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d03/platform_8h.html#a3154d0c2e8d9f1dd3410e9408cad21a2">SWAP_LE32</a>(v);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div>
<div class="ttc" id="aplatform_8h_html_a3154d0c2e8d9f1dd3410e9408cad21a2"><div class="ttname"><a href="../../de/d03/platform_8h.html#a3154d0c2e8d9f1dd3410e9408cad21a2">SWAP_LE32</a></div><div class="ttdeci">#define SWAP_LE32(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00217">platform.h:217</a></div></div>
<div class="ttc" id="aplatform_8h_html_a5b27ff781e21e412705167a70f5cc47a"><div class="ttname"><a href="../../de/d03/platform_8h.html#a5b27ff781e21e412705167a70f5cc47a">move_from_unaligned32</a></div><div class="ttdeci">#define move_from_unaligned32(v, u32p)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00253">platform.h:253</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d03/platform_8h_source.html#l00253">move_from_unaligned32</a>, and <a class="el" href="../../de/d03/platform_8h_source.html#l00217">SWAP_LE32</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00832">get_nr_sects()</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00826">get_start_sect()</a>.</p>

</div>
</div>
<a id="a52534dfee8a389a78e8914495fa4b952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52534dfee8a389a78e8914495fa4b952">&#9670;&nbsp;</a></span>read_extended()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void read_extended </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01214">1214</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;{</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a> *pex;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, *q;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#a69d141f3e47cdf395ec8c8efd2f9d81c">ext_index</a> = ext;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    pex = &amp;<a class="code" href="../../d6/d86/fdisk_8c.html#a80a004ea09a4494a3bc684dcde4a9614">ptes</a>[ext];</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    pex-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a66d4446bf994b5a6c8bd54a87999f559">ext_pointer</a> = pex-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = pex-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a>;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#ace19ccf1bb522bdf649402878b1b113b">get_start_sect</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;Bad offset in primary extended partition&quot;</span>);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a721555a94d3eb9f229a4bcd5480b1829">IS_EXTENDED</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;sys_ind)) {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a> *pe = &amp;<a class="code" href="../../d6/d86/fdisk_8c.html#a80a004ea09a4494a3bc684dcde4a9614">ptes</a>[<a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>];</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a> &gt;= <a class="code" href="../../d6/d86/fdisk_8c.html#adac93740a3747098373daf0418d7cbc1">MAXIMUM_PARTS</a>) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            <span class="comment">/* This is not a Linux restriction, but</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="comment">               this program uses arrays of size MAXIMUM_PARTS.</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="comment">               Do not try to &#39;improve&#39; this test. */</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a> *pre = &amp;<a class="code" href="../../d6/d86/fdisk_8c.html#a80a004ea09a4494a3bc684dcde4a9614">ptes</a>[<a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a> - 1];</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_FDISK_WRITABLE</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Warning: deleting partitions after %u\n&quot;</span>,</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            pre-&gt;changed = 1;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#ae32e0fc0f832107b709fb0fa92424e67">clear_partition</a>(pre-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a66d4446bf994b5a6c8bd54a87999f559">ext_pointer</a>);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a7461837c5a58677d4fb35593f58ca917">read_pte</a>(pe, <a class="code" href="../../d6/d86/fdisk_8c.html#a31613843d3565606437366d581f91733">extended_offset</a> + <a class="code" href="../../d6/d86/fdisk_8c.html#ace19ccf1bb522bdf649402878b1b113b">get_start_sect</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>));</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#a31613843d3565606437366d581f91733">extended_offset</a>)</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            <a class="code" href="../../d6/d86/fdisk_8c.html#a31613843d3565606437366d581f91733">extended_offset</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#ace19ccf1bb522bdf649402878b1b113b">get_start_sect</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        q = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d6/d86/fdisk_8c.html#a7d07329637cebcf0db475c840ffac4e6">pt_offset</a>(pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#ae1bbffe24addef971c9dfbcc118c697b">sectorbuffer</a>, 0);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; 4; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++) <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#aee064635634ac73df910a62139b1f1be">get_nr_sects</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a721555a94d3eb9f229a4bcd5480b1829">IS_EXTENDED</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;sys_ind)) {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                <span class="keywordflow">if</span> (pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a66d4446bf994b5a6c8bd54a87999f559">ext_pointer</a>)</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                    <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Warning: extra link &quot;</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                        <span class="stringliteral">&quot;pointer in partition table&quot;</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                        <span class="stringliteral">&quot; %u\n&quot;</span>, <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a> + 1);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                    pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a66d4446bf994b5a6c8bd54a87999f559">ext_pointer</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;sys_ind) {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                <span class="keywordflow">if</span> (pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a>)</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                    <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Warning: ignoring extra &quot;</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                          <span class="stringliteral">&quot;data in partition table&quot;</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                          <span class="stringliteral">&quot; %u\n&quot;</span>, <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a> + 1);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                    pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            }</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <span class="comment">/* very strange code here... */</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <span class="keywordflow">if</span> (!pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a>) {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            <span class="keywordflow">if</span> (q != pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a66d4446bf994b5a6c8bd54a87999f559">ext_pointer</a>)</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a> = q;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a> = q + 1;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        }</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <span class="keywordflow">if</span> (!pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a66d4446bf994b5a6c8bd54a87999f559">ext_pointer</a>) {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            <span class="keywordflow">if</span> (q != pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a>)</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a66d4446bf994b5a6c8bd54a87999f559">ext_pointer</a> = q;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a66d4446bf994b5a6c8bd54a87999f559">ext_pointer</a> = q + 1;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160; </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a66d4446bf994b5a6c8bd54a87999f559">ext_pointer</a>;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>++;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_FDISK_WRITABLE</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="comment">/* remove empty links */</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; <a class="code" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#a02b13b56a188401119ea4da43c184913">remove</a>:</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 4; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a> *pe = &amp;<a class="code" href="../../d6/d86/fdisk_8c.html#a80a004ea09a4494a3bc684dcde4a9614">ptes</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>];</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160; </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#aee064635634ac73df910a62139b1f1be">get_nr_sects</a>(pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a>)</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;         &amp;&amp; (<a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a> &gt; 5 || <a class="code" href="../../d6/d86/fdisk_8c.html#a80a004ea09a4494a3bc684dcde4a9614">ptes</a>[4].part_table-&gt;sys_ind)</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        ) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;            <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Omitting empty partition (%u)\n&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>+1);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            delete_partition(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#a02b13b56a188401119ea4da43c184913">remove</a>;    <span class="comment">/* numbering changed */</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        }</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;}</div>
<div class="ttc" id="aUserspace_2libc_2include_2sys_2stat_8h_html_a02b13b56a188401119ea4da43c184913"><div class="ttname"><a href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#a02b13b56a188401119ea4da43c184913">remove</a></div><div class="ttdeci">int remove(const char *pathname)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfb/sys__stat_8c_source.html#l00010">sys_stat.c:10</a></div></div>
<div class="ttc" id="afdisk_8c_html_a31613843d3565606437366d581f91733"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a31613843d3565606437366d581f91733">extended_offset</a></div><div class="ttdeci">#define extended_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00478">fdisk.c:478</a></div></div>
<div class="ttc" id="afdisk_8c_html_a7461837c5a58677d4fb35593f58ca917"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a7461837c5a58677d4fb35593f58ca917">read_pte</a></div><div class="ttdeci">static void read_pte(struct pte *pe, sector_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00862">fdisk.c:862</a></div></div>
<div class="ttc" id="afdisk_8c_html_adac93740a3747098373daf0418d7cbc1"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#adac93740a3747098373daf0418d7cbc1">MAXIMUM_PARTS</a></div><div class="ttdeci">#define MAXIMUM_PARTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00141">fdisk.c:141</a></div></div>
<div class="ttc" id="afdisk_8c_html_ae32e0fc0f832107b709fb0fa92424e67"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#ae32e0fc0f832107b709fb0fa92424e67">clear_partition</a></div><div class="ttdeci">static void clear_partition(struct partition *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l01075">fdisk.c:1075</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01075">clear_partition()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00470">ext_index</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00226">pte::ext_pointer</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00478">extended_offset</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00456">g_partitions</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00832">get_nr_sects()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00826">get_start_sect()</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00535">IS_EXTENDED</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00141">MAXIMUM_PARTS</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00225">pte::part_table</a>, <a class="el" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00061">printf</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00542">pt_offset</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00483">ptes</a>, <a class="el" href="../../df/d79/put_8c_source.html#l00027">puts()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00862">read_pte()</a>, <a class="el" href="../../d1/dfb/sys__stat_8c_source.html#l00010">remove()</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00228">pte::sectorbuffer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01442">get_boot()</a>.</p>

</div>
</div>
<a id="a7461837c5a58677d4fb35593f58ca917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7461837c5a58677d4fb35593f58ca917">&#9670;&nbsp;</a></span>read_pte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void read_pte </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a> *&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00862">862</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;{</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7a31780bbc4f049162f0e33c2b1f26a1">offset_from_dev_start</a> = <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#ae1bbffe24addef971c9dfbcc118c697b">sectorbuffer</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a6b9d12af476b8fa4b9de87028b0ac27c">xzalloc</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <a class="code" href="../../d6/d86/fdisk_8c.html#af857ea875ff7b4d5869d17753ecbb0d7">seek_sector</a>(<a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="comment">/* xread would make us abort - bad for fdisk -l */</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#abe6961731446e93dff5a0554986b6eea">full_read</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a>, pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#ae1bbffe24addef971c9dfbcc118c697b">sectorbuffer</a>, <a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a>) != <a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a>)</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#ae6eac9452cffe3eafb6789d9976e30a9">fdisk_fatal</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#abf9c4e6dce6c27a2ed58fe800d92f7dc">unable_to_read</a>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_FDISK_WRITABLE</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    pe-&gt;changed = 0;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a> = pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a66d4446bf994b5a6c8bd54a87999f559">ext_pointer</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;}</div>
<div class="ttc" id="afdisk_8c_html_af857ea875ff7b4d5869d17753ecbb0d7"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#af857ea875ff7b4d5869d17753ecbb0d7">seek_sector</a></div><div class="ttdeci">static void seek_sector(sector_t secno)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00622">fdisk.c:622</a></div></div>
<div class="ttc" id="avi_8c_html_aae6364a195a181790fe7379c6b44a343"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a></div><div class="ttdeci">#define offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00486">vi.c:486</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00412">dev_fd</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00226">pte::ext_pointer</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00612">fdisk_fatal()</a>, <a class="el" href="../../df/df8/apps_2base_2busybox_2libbb_2read_8c_source.html#l00036">full_read()</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00486">offset</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00227">pte::offset_from_dev_start</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00225">pte::part_table</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00458">sector_size</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00228">pte::sectorbuffer</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00622">seek_sector()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00235">unable_to_read</a>, and <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00069">xzalloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01214">read_extended()</a>.</p>

</div>
</div>
<a id="af857ea875ff7b4d5869d17753ecbb0d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af857ea875ff7b4d5869d17753ecbb0d7">&#9670;&nbsp;</a></span>seek_sector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void seek_sector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a>&#160;</td>
          <td class="paramname"><em>secno</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00622">622</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;{</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="preprocessor">#if ENABLE_FDISK_SUPPORT_LARGE_DISKS</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    off64_t <a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a> = (off64_t)secno * <a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">if</span> (lseek64(<a class="code" href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a>, <a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a0d112bae8fd35be772185b6ec6bcbe64">SEEK_SET</a>) == (off64_t) -1)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#ae6eac9452cffe3eafb6789d9976e30a9">fdisk_fatal</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a0efe9444192c556161042ae8068e7e20">unable_to_seek</a>);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="../../dd/ddd/arithmetic__operations_8c.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> <a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a> = (<a class="code" href="../../dd/ddd/arithmetic__operations_8c.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>)secno * <a class="code" href="../../d6/d86/fdisk_8c.html#a1b18f4b960b1edf77fa6c4f9c668d1f9">sector_size</a>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a> &gt; <a class="code" href="../../d7/dd7/libbb_8h.html#ab3bddf4bc7f51685219e1edd8d25a9e9">MAXINT</a>(<a class="code" href="../../d4/dba/Drivers_2include_2types_8h.html#a37aff01e955441499997a359a4153b3d">off_t</a>)</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;     || <a class="code" href="../../d1/d85/filesystem_8hpp.html#a8bd74caed008a66808d92d57fa74d9f6">lseek</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a561331889c1daba01dc47aa3dd28fc80ac8fda2f526b106fa059d3810342c8847">dev_fd</a>, (<a class="code" href="../../d4/dba/Drivers_2include_2types_8h.html#a37aff01e955441499997a359a4153b3d">off_t</a>)<a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a0d112bae8fd35be772185b6ec6bcbe64">SEEK_SET</a>) == (<a class="code" href="../../d4/dba/Drivers_2include_2types_8h.html#a37aff01e955441499997a359a4153b3d">off_t</a>) -1</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    ) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#ae6eac9452cffe3eafb6789d9976e30a9">fdisk_fatal</a>(<a class="code" href="../../d6/d86/fdisk_8c.html#a0efe9444192c556161042ae8068e7e20">unable_to_seek</a>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="ttc" id="acramfs_8c_html_aa8df4166084b06f1e80d3510e5dcf7e1"><div class="ttname"><a href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a></div><div class="ttdeci">#define off</div></div>
<div class="ttc" id="afdisk_8c_html_a0efe9444192c556161042ae8068e7e20"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a0efe9444192c556161042ae8068e7e20">unable_to_seek</a></div><div class="ttdeci">#define unable_to_seek</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00236">fdisk.c:236</a></div></div>
<div class="ttc" id="alibbb_8h_html_ab3bddf4bc7f51685219e1edd8d25a9e9"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ab3bddf4bc7f51685219e1edd8d25a9e9">MAXINT</a></div><div class="ttdeci">#define MAXINT(T)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00267">libbb.h:267</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00412">dev_fd</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00612">fdisk_fatal()</a>, <a class="el" href="../../d8/d5c/kernel__io_8cpp_source.html#l00088">lseek()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l00267">MAXINT</a>, <a class="el" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00458">sector_size</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00030">SEEK_SET</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00236">unable_to_seek</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00862">read_pte()</a>.</p>

</div>
</div>
<a id="a37010ca5d7e934f35870ac61f8e80bdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37010ca5d7e934f35870ac61f8e80bdc">&#9670;&nbsp;</a></span>sgi_add_partition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void sgi_add_partition </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa93f8235bf959a322747515f05dffb03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa93f8235bf959a322747515f05dffb03">&#9670;&nbsp;</a></span>sgi_change_sysid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void sgi_change_sysid </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac3d3ee9c706f9d9424533f298d143db4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3d3ee9c706f9d9424533f298d143db4">&#9670;&nbsp;</a></span>sgi_delete_partition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void sgi_delete_partition </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5633d1dbb0c3acfaccee29f0c03e53b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5633d1dbb0c3acfaccee29f0c03e53b6">&#9670;&nbsp;</a></span>sgi_get_bootfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> const char* sgi_get_bootfile </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">fdisk_main()</a>.</p>

</div>
</div>
<a id="a2e64176a256bf9262234b7c6fbd3fb72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e64176a256bf9262234b7c6fbd3fb72">&#9670;&nbsp;</a></span>sgi_get_num_sectors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> unsigned sgi_get_num_sectors </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="accbd09b42e4ae82bace86322da52c092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accbd09b42e4ae82bace86322da52c092">&#9670;&nbsp;</a></span>sgi_get_sysid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> int sgi_get_sysid </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a005b6f6c67c1ece7255b11c407312e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a005b6f6c67c1ece7255b11c407312e5e">&#9670;&nbsp;</a></span>sgi_list_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void sgi_list_table </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xtra</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>.</p>

</div>
</div>
<a id="a2b65203fa314ffd989ae71fb4f106b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b65203fa314ffd989ae71fb4f106b3f">&#9670;&nbsp;</a></span>sgi_set_bootfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void sgi_set_bootfile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">fdisk_main()</a>.</p>

</div>
</div>
<a id="a3111c5abe47d4d65370cda5bf08dceba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3111c5abe47d4d65370cda5bf08dceba">&#9670;&nbsp;</a></span>sgi_set_bootpartition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void sgi_set_bootpartition </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">fdisk_main()</a>.</p>

</div>
</div>
<a id="a3dd3a3c268a0122546fe2ed747c7cf1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dd3a3c268a0122546fe2ed747c7cf1b">&#9670;&nbsp;</a></span>sgi_set_swappartition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void sgi_set_swappartition </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">fdisk_main()</a>.</p>

</div>
</div>
<a id="ae1d56beae2b8f80ae39ecc17eaade4df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1d56beae2b8f80ae39ecc17eaade4df">&#9670;&nbsp;</a></span>sgi_write_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> void sgi_write_table </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7a111825e769d293e24987a40b19a2f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a111825e769d293e24987a40b19a2f0">&#9670;&nbsp;</a></span>str_units()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../de/d03/platform_8h.html#aa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> const char* str_units </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00601">601</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;{</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d86/fdisk_8c.html#a68eb7498560f9e87288bd32b702230fd">display_in_cyl_units</a> ? <span class="stringliteral">&quot;cylinder&quot;</span> : <span class="stringliteral">&quot;sector&quot;</span>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00465">display_in_cyl_units</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02029">list_disk_geometry()</a>.</p>

</div>
</div>
<a id="a0f50384e6de85e96fba0209453a15b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f50384e6de85e96fba0209453a15b04">&#9670;&nbsp;</a></span>sun_change_sysid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void sun_change_sysid </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a467a4b7e935076f4de12aa4756be3646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a467a4b7e935076f4de12aa4756be3646">&#9670;&nbsp;</a></span>sun_delete_partition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void sun_delete_partition </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a81070874db6dbd9ea9ad37a182ee0b8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81070874db6dbd9ea9ad37a182ee0b8d">&#9670;&nbsp;</a></span>sun_list_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void sun_list_table </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xtra</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>.</p>

</div>
</div>
<a id="a37546a2ecdf5f54aa1a1f840cf755a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37546a2ecdf5f54aa1a1f840cf755a77">&#9670;&nbsp;</a></span>sun_write_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void sun_write_table </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5361197ea3b94552c5b2a7d633ac13c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5361197ea3b94552c5b2a7d633ac13c0">&#9670;&nbsp;</a></span>toggle_sunflags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void toggle_sunflags </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l03026">fdisk_main()</a>.</p>

</div>
</div>
<a id="a7217d24ece5fb992121c320148238887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7217d24ece5fb992121c320148238887">&#9670;&nbsp;</a></span>update_units()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_units </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01187">1187</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;{</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordtype">int</span> cyl_units = <a class="code" href="../../d6/d86/fdisk_8c.html#aaadf4b0192d01471458a29c672a8a4ed">g_heads</a> * <a class="code" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a>;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160; </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#a68eb7498560f9e87288bd32b702230fd">display_in_cyl_units</a> &amp;&amp; cyl_units)</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a55a44d9b0ad463a6578fee8ea11b2871">units_per_sector</a> = cyl_units;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <a class="code" href="../../d6/d86/fdisk_8c.html#a55a44d9b0ad463a6578fee8ea11b2871">units_per_sector</a> = 1;   <span class="comment">/* in sectors */</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00465">display_in_cyl_units</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00461">g_heads</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00462">g_sectors</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00457">units_per_sector</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01442">get_boot()</a>.</p>

</div>
</div>
<a id="a30552b16c69a42f594f0c415ab47c18a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30552b16c69a42f594f0c415ab47c18a">&#9670;&nbsp;</a></span>valid_part_table_flag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int valid_part_table_flag </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mbuffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00607">607</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">return</span> (mbuffer[510] == 0x55 &amp;&amp; (<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>)mbuffer[511] == 0xaa);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a3cb4a16b0e8d6af0af86d4fd6ba5fd9d"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a></div><div class="ttdeci">__UINT8_TYPE__ uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00160">types.h:160</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01442">get_boot()</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01354">get_partition_table_geometry()</a>.</p>

</div>
</div>
<a id="ad45d166c1a5a33e29f2e6abce0f9706d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad45d166c1a5a33e29f2e6abce0f9706d">&#9670;&nbsp;</a></span>verify_sgi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> int verify_sgi </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>verbose</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2bd0e99d7f11cb1e1553d43660b313d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bd0e99d7f11cb1e1553d43660b313d5">&#9670;&nbsp;</a></span>verify_sun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> void verify_sun </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aba66edb42af5c969551541d230ac0db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba66edb42af5c969551541d230ac0db6">&#9670;&nbsp;</a></span>warn_geometry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int warn_geometry </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01166">1166</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;{</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d86/fdisk_8c.html#aaadf4b0192d01471458a29c672a8a4ed">g_heads</a> &amp;&amp; <a class="code" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a> &amp;&amp; <a class="code" href="../../d6/d86/fdisk_8c.html#ae370ac91c811573a048f14f11fbc9f0d">g_cylinders</a>)</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;Unknown value(s) for:&quot;</span>);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#aaadf4b0192d01471458a29c672a8a4ed">g_heads</a>)</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot; heads&quot;</span>);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#aab0badd8b4b1fecb4b38fd648fca39a2">g_sectors</a>)</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot; sectors&quot;</span>);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d86/fdisk_8c.html#ae370ac91c811573a048f14f11fbc9f0d">g_cylinders</a>)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        <a class="code" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot; cylinders&quot;</span>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_FDISK_WRITABLE</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot; (settable in the extra functions menu)&quot;</span>);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a19c664892b1aa6feda00823c67cd7e83">bb_putchar</a>(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00313">bb_putchar()</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00463">g_cylinders</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00461">g_heads</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00462">g_sectors</a>, <a class="el" href="../../d5/ddb/Kernel_2core_2memory_2heap__allocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00061">printf</a>, and <a class="el" href="../../df/d79/put_8c_source.html#l00027">puts()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l01442">get_boot()</a>.</p>

</div>
</div>
<a id="a5b71c9ccd0719d1495a70b0b076e42ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b71c9ccd0719d1495a70b0b076e42ad">&#9670;&nbsp;</a></span>wrong_p_order()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int wrong_p_order </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>prev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02057">2057</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;{</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#dd/d4e/structpte">pte</a> *pe;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <a class="code" href="../../dd/d76/r__defs_8h.html#d4/d19/structsector__t">sector_t</a> last_p_start_pos = 0, p_start_pos;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, last_i = 0;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160; </div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d6/d86/fdisk_8c.html#ad5e347d7ae83363b5be08c1f9b8c0635">g_partitions</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 4) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;            last_i = 4;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            last_p_start_pos = 0;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;        pe = &amp;<a class="code" href="../../d6/d86/fdisk_8c.html#a80a004ea09a4494a3bc684dcde4a9614">ptes</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>];</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = pe-&gt;<a class="code" href="../../d6/d86/fdisk_8c.html#a7f3daa9258d6d845fe6606e07d3499b4">part_table</a>;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;sys_ind) {</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;            p_start_pos = <a class="code" href="../../d6/d86/fdisk_8c.html#ad74c8bd677a70831a86f9750607a896d">get_partition_start_from_dev_start</a>(pe);</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160; </div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            <span class="keywordflow">if</span> (last_p_start_pos &gt; p_start_pos) {</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                <span class="keywordflow">if</span> (prev)</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                    *prev = last_i;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            }</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160; </div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;            last_p_start_pos = p_start_pos;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;            last_i = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;        }</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    }</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00456">g_partitions</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00877">get_partition_start_from_dev_start()</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00225">pte::part_table</a>, and <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00483">ptes</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>.</p>

</div>
</div>
<a id="a61c4e2c7b1697011404817e20e528321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61c4e2c7b1697011404817e20e528321">&#9670;&nbsp;</a></span>xbsd_print_disklabel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#a65f508aa267a91f1938425f6b4695764">STATIC_OSF</a> void xbsd_print_disklabel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d86/fdisk_8c_source.html#l02201">list_table()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac31aee6bfc7340dcb1bb6a2fd1dd19cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac31aee6bfc7340dcb1bb6a2fd1dd19cc">&#9670;&nbsp;</a></span>ALIGN_PTR</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* const i386_sys_types [] ALIGN_PTR</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00309">309</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a1d472c6fbef5d8592e6faf5d20c4563e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d472c6fbef5d8592e6faf5d20c4563e">&#9670;&nbsp;</a></span>FIX_ALIASING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d86/fdisk_8c.html#dd/d26/structsun__partition">sun_partition</a> <a class="el" href="../../d8/d83/get__header__tar_8c.html#af230a4e6036a0e13213958c0ad0632fe">FIX_ALIASING</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adc512008786952b905e74d3f85310fb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc512008786952b905e74d3f85310fb8">&#9670;&nbsp;</a></span>PACKED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d86/fdisk_8c.html#d3/d98/structpartition">partition</a> <a class="el" href="../../d8/ded/decompress__unlzma_8c.html#d5/d21/structPACKED">PACKED</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a01d728d772089ab3d8f4ff2ea369be56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01d728d772089ab3d8f4ff2ea369be56">&#9670;&nbsp;</a></span>sgi_sys_types</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#aa9ca1523d04e84c11dac7411248eb32d">STATIC_SGI</a> const char* const sgi_sys_types[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00779">779</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
<a id="a1385ebb1a5fdff4ceae029bf46d5ade8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1385ebb1a5fdff4ceae029bf46d5ade8">&#9670;&nbsp;</a></span>sun_sys_types</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d86/fdisk_8c.html#ac48d7994a51eec295100f9771a84309d">STATIC_SUN</a> const char* const sun_sys_types[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d86/fdisk_8c_source.html#l00798">798</a> of file <a class="el" href="../../d6/d86/fdisk_8c_source.html">fdisk.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97d86ce2f18c7710ea326fa47777d7d7.html">Userspace</a></li><li class="navelem"><a class="el" href="../../dir_0276b9b7d706caf6f8b101518c949f15.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_825a5fc57f8484006531699dcb39fa0d.html">base</a></li><li class="navelem"><a class="el" href="../../dir_87e330aa425985c7f88c27f5b355b004.html">busybox</a></li><li class="navelem"><a class="el" href="../../dir_b5fda52074e97d835ba3eee7681da23e.html">util-linux</a></li><li class="navelem"><a class="el" href="../../d6/d86/fdisk_8c.html">fdisk.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
