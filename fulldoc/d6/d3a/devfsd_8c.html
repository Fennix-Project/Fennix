<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fennix: Userspace/apps/base/busybox/miscutils/devfsd.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fennix
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Opeating System from scratch made in C and C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d6/d3a/devfsd_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">devfsd.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d7/dd7/libbb_8h_source.html">libbb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d1d/xregex_8h_source.html">xregex.h</a>&quot;</code><br />
<code>#include &lt;syslog.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../da/d4b/un_8h_source.html">sys/un.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d5/dfb/sysmacros_8h_source.html">sys/sysmacros.h</a>&gt;</code><br />
</div>
<p><a href="../../d6/d3a/devfsd_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:d5/d26/structdevfsd__notify__struct"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a></td></tr>
<tr class="separator:d5/d26/structdevfsd__notify__struct"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d5/db8/structpermissions__type"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#d5/db8/structpermissions__type">permissions_type</a></td></tr>
<tr class="separator:d5/db8/structpermissions__type"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d3/d9d/structexecute__type"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#d3/d9d/structexecute__type">execute_type</a></td></tr>
<tr class="separator:d3/d9d/structexecute__type"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:db/d6c/structcopy__type"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#db/d6c/structcopy__type">copy_type</a></td></tr>
<tr class="separator:db/d6c/structcopy__type"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d0/d5a/structaction__type"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#d0/d5a/structaction__type">action_type</a></td></tr>
<tr class="separator:d0/d5a/structaction__type"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d9/db8/structconfig__entry__struct"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a></td></tr>
<tr class="separator:d9/db8/structconfig__entry__struct"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dd/d0b/structget__variable__info"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#dd/d0b/structget__variable__info">get_variable_info</a></td></tr>
<tr class="separator:dd/d0b/structget__variable__info"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d0/dcb/structinitial__symlink__struct"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#d0/dcb/structinitial__symlink__struct">initial_symlink_struct</a></td></tr>
<tr class="separator:d0/dcb/structinitial__symlink__struct"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d2/dbe/structevent__type"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#d2/dbe/structevent__type">event_type</a></td></tr>
<tr class="separator:d2/dbe/structevent__type"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d8/de0/structtranslate__struct"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#d8/de0/structtranslate__struct">translate_struct</a></td></tr>
<tr class="separator:d8/de0/structtranslate__struct"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d1/d86/unionconfig__entry__struct_8u"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#d1/d86/unionconfig__entry__struct_8u">config_entry_struct.u</a></td></tr>
<tr class="separator:d1/d86/unionconfig__entry__struct_8u"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a291c0ccad55b6ac471b926ba70fe1973"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a291c0ccad55b6ac471b926ba70fe1973">IDE0_MAJOR</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a291c0ccad55b6ac471b926ba70fe1973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d0765cb06936db5c9867331d67c44d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a5d0765cb06936db5c9867331d67c44d6">IDE1_MAJOR</a>&#160;&#160;&#160;22</td></tr>
<tr class="separator:a5d0765cb06936db5c9867331d67c44d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc2008a9442401f3b552bc54520655b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a9dc2008a9442401f3b552bc54520655b">IDE2_MAJOR</a>&#160;&#160;&#160;33</td></tr>
<tr class="separator:a9dc2008a9442401f3b552bc54520655b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ddb11b249c6f293bd2fabbafd2d5efc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a1ddb11b249c6f293bd2fabbafd2d5efc">IDE3_MAJOR</a>&#160;&#160;&#160;34</td></tr>
<tr class="separator:a1ddb11b249c6f293bd2fabbafd2d5efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fcdc7c9cd4123e071dbe4454c6c011c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a6fcdc7c9cd4123e071dbe4454c6c011c">IDE4_MAJOR</a>&#160;&#160;&#160;56</td></tr>
<tr class="separator:a6fcdc7c9cd4123e071dbe4454c6c011c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad857aa5bba8293fa640ace15330b6b44"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#ad857aa5bba8293fa640ace15330b6b44">IDE5_MAJOR</a>&#160;&#160;&#160;57</td></tr>
<tr class="separator:ad857aa5bba8293fa640ace15330b6b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ce709a552d9c269eeaf6dd6cfd352a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a8ce709a552d9c269eeaf6dd6cfd352a2">IDE6_MAJOR</a>&#160;&#160;&#160;88</td></tr>
<tr class="separator:a8ce709a552d9c269eeaf6dd6cfd352a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a735e0c3ce435cf507166130431f56f88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a735e0c3ce435cf507166130431f56f88">IDE7_MAJOR</a>&#160;&#160;&#160;89</td></tr>
<tr class="separator:a735e0c3ce435cf507166130431f56f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9a1d3a707e7f8be04c49a1081cf8fd8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#ad9a1d3a707e7f8be04c49a1081cf8fd8">IDE8_MAJOR</a>&#160;&#160;&#160;90</td></tr>
<tr class="separator:ad9a1d3a707e7f8be04c49a1081cf8fd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a397438a424b3bc3fbab80d2d078a0942"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a397438a424b3bc3fbab80d2d078a0942">IDE9_MAJOR</a>&#160;&#160;&#160;91</td></tr>
<tr class="separator:a397438a424b3bc3fbab80d2d078a0942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33336048d629e9f2b5d290f6e714009d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a33336048d629e9f2b5d290f6e714009d">DEVFSD_PROTOCOL_REVISION_KERNEL</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a33336048d629e9f2b5d290f6e714009d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a059b6d3775ae4d796a921ecb1c2bcc51"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a059b6d3775ae4d796a921ecb1c2bcc51">DEVFSD_IOCTL_BASE</a>&#160;&#160;&#160;'d'</td></tr>
<tr class="separator:a059b6d3775ae4d796a921ecb1c2bcc51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a417d0f669a69ef7df5cb10ddcf3d05a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a417d0f669a69ef7df5cb10ddcf3d05a6">DEVFSDIOC_GET_PROTO_REV</a>&#160;&#160;&#160;<a class="el" href="../../d9/ded/arch_2sh_2bits_2ioctl_8h.html#a48bd95ac670a5eded8c5f2ac067f59d0">_IOR</a>(<a class="el" href="../../d6/d3a/devfsd_8c.html#a059b6d3775ae4d796a921ecb1c2bcc51">DEVFSD_IOCTL_BASE</a>, 0, int)</td></tr>
<tr class="separator:a417d0f669a69ef7df5cb10ddcf3d05a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c31b6abf4eb9e798cddca48504e720"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a48c31b6abf4eb9e798cddca48504e720">DEVFSDIOC_SET_EVENT_MASK</a>&#160;&#160;&#160;<a class="el" href="../../d9/ded/arch_2sh_2bits_2ioctl_8h.html#a5d2b85f80852f5ea026dcd14833d9022">_IOW</a>(<a class="el" href="../../d6/d3a/devfsd_8c.html#a059b6d3775ae4d796a921ecb1c2bcc51">DEVFSD_IOCTL_BASE</a>, 2, int)</td></tr>
<tr class="separator:a48c31b6abf4eb9e798cddca48504e720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bc17f6e4d7f2d9752b886e700dcbe5e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a2bc17f6e4d7f2d9752b886e700dcbe5e">DEVFSDIOC_RELEASE_EVENT_QUEUE</a>&#160;&#160;&#160;<a class="el" href="../../d9/ded/arch_2sh_2bits_2ioctl_8h.html#a5d2b85f80852f5ea026dcd14833d9022">_IOW</a>(<a class="el" href="../../d6/d3a/devfsd_8c.html#a059b6d3775ae4d796a921ecb1c2bcc51">DEVFSD_IOCTL_BASE</a>, 3, int)</td></tr>
<tr class="separator:a2bc17f6e4d7f2d9752b886e700dcbe5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cd1aa82e14a17073758b2970749db7b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a3cd1aa82e14a17073758b2970749db7b">DEVFSDIOC_SET_CONFIG_DEBUG_MASK</a>&#160;&#160;&#160;<a class="el" href="../../d9/ded/arch_2sh_2bits_2ioctl_8h.html#a5d2b85f80852f5ea026dcd14833d9022">_IOW</a>(<a class="el" href="../../d6/d3a/devfsd_8c.html#a059b6d3775ae4d796a921ecb1c2bcc51">DEVFSD_IOCTL_BASE</a>, 4, int)</td></tr>
<tr class="separator:a3cd1aa82e14a17073758b2970749db7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9230c4bd2a9dd9325cc23a59e311b268"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a9230c4bd2a9dd9325cc23a59e311b268">DEVFSD_NOTIFY_REGISTERED</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a9230c4bd2a9dd9325cc23a59e311b268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9a998b6b3abd352f639bbe3e893ee2b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#ad9a998b6b3abd352f639bbe3e893ee2b">DEVFSD_NOTIFY_UNREGISTERED</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ad9a998b6b3abd352f639bbe3e893ee2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38efedfe98c32561d67076f60e05fbd2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a38efedfe98c32561d67076f60e05fbd2">DEVFSD_NOTIFY_ASYNC_OPEN</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a38efedfe98c32561d67076f60e05fbd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa062809854f3bed93f5b23a1d610906d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#aa062809854f3bed93f5b23a1d610906d">DEVFSD_NOTIFY_CLOSE</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:aa062809854f3bed93f5b23a1d610906d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1309e2d760c38df602b6ce3932e8f698"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a1309e2d760c38df602b6ce3932e8f698">DEVFSD_NOTIFY_LOOKUP</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a1309e2d760c38df602b6ce3932e8f698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90c062cce931d5a4144fa0f3faaa5397"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a90c062cce931d5a4144fa0f3faaa5397">DEVFSD_NOTIFY_CHANGE</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a90c062cce931d5a4144fa0f3faaa5397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b307fc4d0efbdbdf5110cd166924da3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a7b307fc4d0efbdbdf5110cd166924da3">DEVFSD_NOTIFY_CREATE</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a7b307fc4d0efbdbdf5110cd166924da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cd435eb0725a03c1e1520e758c19ed6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a0cd435eb0725a03c1e1520e758c19ed6">DEVFSD_NOTIFY_DELETE</a>&#160;&#160;&#160;7</td></tr>
<tr class="separator:a0cd435eb0725a03c1e1520e758c19ed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c38b043272242d3c5bf2cc6fe7b77f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a2c38b043272242d3c5bf2cc6fe7b77f9">DEVFS_PATHLEN</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a2c38b043272242d3c5bf2cc6fe7b77f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b20d41d6252e9871430c242cb1a56e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>&#160;&#160;&#160;16384</td></tr>
<tr class="separator:a6b20d41d6252e9871430c242cb1a56e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bee410cb0e3a2d09bc641834bb664fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a4bee410cb0e3a2d09bc641834bb664fa">DEVFSD_VERSION</a>&#160;&#160;&#160;&quot;1.3.25&quot;</td></tr>
<tr class="separator:a4bee410cb0e3a2d09bc641834bb664fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42bf63540ee0039a3a23db1b5ec3202b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a42bf63540ee0039a3a23db1b5ec3202b">CONFIG_FILE</a>&#160;&#160;&#160;&quot;/etc/<a class="el" href="../../d0/d43/mconf_8c.html#ac9655aae5bca4a6bc31afafe91b301fe">devfsd.conf</a>&quot;</td></tr>
<tr class="separator:a42bf63540ee0039a3a23db1b5ec3202b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf52fc67e119bfbdc0abe9eb9691cac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#afbf52fc67e119bfbdc0abe9eb9691cac">MODPROBE</a>&#160;&#160;&#160;&quot;/sbin/modprobe&quot;</td></tr>
<tr class="separator:afbf52fc67e119bfbdc0abe9eb9691cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab53bfd761e847236221c29b31c0d9948"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#ab53bfd761e847236221c29b31c0d9948">MODPROBE_SWITCH_1</a>&#160;&#160;&#160;&quot;-k&quot;</td></tr>
<tr class="separator:ab53bfd761e847236221c29b31c0d9948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab62b5dcd8683c238ecc019a7de2ea20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#aab62b5dcd8683c238ecc019a7de2ea20">MODPROBE_SWITCH_2</a>&#160;&#160;&#160;&quot;-C&quot;</td></tr>
<tr class="separator:aab62b5dcd8683c238ecc019a7de2ea20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e5a1eb58c62224ca540c635ebe7f5a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a16e5a1eb58c62224ca540c635ebe7f5a">CONFIG_MODULES_DEVFS</a>&#160;&#160;&#160;&quot;/etc/modules.devfs&quot;</td></tr>
<tr class="separator:a16e5a1eb58c62224ca540c635ebe7f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b7451465deac204c5f7cb1f9c6e1fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a29b7451465deac204c5f7cb1f9c6e1fc">MAX_ARGS</a>&#160;&#160;&#160;(6 + 1)</td></tr>
<tr class="separator:a29b7451465deac204c5f7cb1f9c6e1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa42db09321bed09819945c6d10177940"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#aa42db09321bed09819945c6d10177940">MAX_SUBEXPR</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:aa42db09321bed09819945c6d10177940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac829415013d8120cedee928452ae0f55"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>&#160;&#160;&#160;255</td></tr>
<tr class="separator:ac829415013d8120cedee928452ae0f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5b8a9664c45b817bf00533e8e487f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#aeb5b8a9664c45b817bf00533e8e487f0">UID</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:aeb5b8a9664c45b817bf00533e8e487f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b96ecb16d8e437977d12cd40aa6f6d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a5b96ecb16d8e437977d12cd40aa6f6d8">GID</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a5b96ecb16d8e437977d12cd40aa6f6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ac216e7992570d72253b609fcbd67f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a01ac216e7992570d72253b609fcbd67f">DIE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a01ac216e7992570d72253b609fcbd67f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5342ce6d2f4b877b88021c79ecdea8e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#aa5342ce6d2f4b877b88021c79ecdea8e">NO_DIE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:aa5342ce6d2f4b877b88021c79ecdea8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd2ea0453b6daf41446e84a9f24a2e83"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#acd2ea0453b6daf41446e84a9f24a2e83">RESTORE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:acd2ea0453b6daf41446e84a9f24a2e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d179734092a04a5b3df5d4ff20b929b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a6d179734092a04a5b3df5d4ff20b929b">SERVICE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a6d179734092a04a5b3df5d4ff20b929b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32268e77144af7593cf09fcf9e7595dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a32268e77144af7593cf09fcf9e7595dd">READ_CONFIG</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a32268e77144af7593cf09fcf9e7595dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3c7de222c99cfc9dc1cda0bbaae806e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#af3c7de222c99cfc9dc1cda0bbaae806e">DEVFSD_PROTOCOL_REVISION_DAEMON</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:af3c7de222c99cfc9dc1cda0bbaae806e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd1202ce48e1bf3b19351e86bea7816e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#acd1202ce48e1bf3b19351e86bea7816e">AC_PERMISSIONS</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:acd1202ce48e1bf3b19351e86bea7816e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c72edc8a26d9e295359a80448cb5666"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a9c72edc8a26d9e295359a80448cb5666">AC_MODLOAD</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a9c72edc8a26d9e295359a80448cb5666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc9286b77b6e49e7acc5e9438d2ffca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#aefc9286b77b6e49e7acc5e9438d2ffca">AC_EXECUTE</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:aefc9286b77b6e49e7acc5e9438d2ffca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813bf067d58f1b719b0e0a76ca3a8571"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a813bf067d58f1b719b0e0a76ca3a8571">AC_MFUNCTION</a>&#160;&#160;&#160;3	/* <a class="el" href="../../d6/dae/dc_8c.html#aa15351596ab3b8c1211f66731b5f7a49">not</a> supported by busybox */</td></tr>
<tr class="separator:a813bf067d58f1b719b0e0a76ca3a8571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a7d4bdc3ccbdd10db9c13e7b72e9391"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a8a7d4bdc3ccbdd10db9c13e7b72e9391">AC_CFUNCTION</a>&#160;&#160;&#160;4	/* <a class="el" href="../../d6/dae/dc_8c.html#aa15351596ab3b8c1211f66731b5f7a49">not</a> supported by busybox */</td></tr>
<tr class="separator:a8a7d4bdc3ccbdd10db9c13e7b72e9391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac189b5de65eaa87a09bb1bac9d7ecab8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#ac189b5de65eaa87a09bb1bac9d7ecab8">AC_COPY</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:ac189b5de65eaa87a09bb1bac9d7ecab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b4ce8b3436a3d25966192d597ebd5e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a5b4ce8b3436a3d25966192d597ebd5e6">AC_IGNORE</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a5b4ce8b3436a3d25966192d597ebd5e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d3dba9cc2a465b94232d0f1ff6d75da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a8d3dba9cc2a465b94232d0f1ff6d75da">AC_MKOLDCOMPAT</a>&#160;&#160;&#160;7</td></tr>
<tr class="separator:a8d3dba9cc2a465b94232d0f1ff6d75da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dedeed70daef7a56d505ffa3ddd3028"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a7dedeed70daef7a56d505ffa3ddd3028">AC_MKNEWCOMPAT</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a7dedeed70daef7a56d505ffa3ddd3028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a5d434e301fcbad4cdde82445f87d38"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a4a5d434e301fcbad4cdde82445f87d38">AC_RMOLDCOMPAT</a>&#160;&#160;&#160;9</td></tr>
<tr class="separator:a4a5d434e301fcbad4cdde82445f87d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a001eab39c958f2d89cacc6d3b3a4cd53"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a001eab39c958f2d89cacc6d3b3a4cd53">AC_RMNEWCOMPAT</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a001eab39c958f2d89cacc6d3b3a4cd53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1548e083fe71659e1ec7cc447f38d718"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a1548e083fe71659e1ec7cc447f38d718">AC_RESTORE</a>&#160;&#160;&#160;11</td></tr>
<tr class="separator:a1548e083fe71659e1ec7cc447f38d718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d915887d20e184f680358c4be506f7b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a7d915887d20e184f680358c4be506f7b">info_logger</a>(<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>,  fmt,  args...)</td></tr>
<tr class="separator:a7d915887d20e184f680358c4be506f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58fc47bd4e5767fdb0f7410e41638521"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a58fc47bd4e5767fdb0f7410e41638521">simple_info_logger</a>(<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>,  msg)</td></tr>
<tr class="separator:a58fc47bd4e5767fdb0f7410e41638521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd2f3b8f98626c541af84e9e73ee200"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a6cd2f3b8f98626c541af84e9e73ee200">msg_logger</a>(<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>,  fmt,  args...)</td></tr>
<tr class="separator:a6cd2f3b8f98626c541af84e9e73ee200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b932dc4d3073ffb4d597a2a4dd0df16"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a0b932dc4d3073ffb4d597a2a4dd0df16">simple_msg_logger</a>(<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>,  msg)</td></tr>
<tr class="separator:a0b932dc4d3073ffb4d597a2a4dd0df16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267624774a2c7563fe5aafa63e087fd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a267624774a2c7563fe5aafa63e087fd1">msg_logger_and_die</a>(<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>,  fmt,  args...)&#160;&#160;&#160;<a class="el" href="../../d1/d85/exit_8c.html#a0866433db4b1b7d68a1422fa25867aea">exit</a>(<a class="el" href="../../d1/d7a/Userspace_2musl_2include_2stdlib_8h.html#a73efe787c131b385070f25d18b7c9aa4">EXIT_FAILURE</a>)</td></tr>
<tr class="separator:a267624774a2c7563fe5aafa63e087fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7c6e94f3780ab97abc458f81d8e66e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a5c7c6e94f3780ab97abc458f81d8e66e">simple_msg_logger_and_die</a>(<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>,  msg)&#160;&#160;&#160;<a class="el" href="../../d1/d85/exit_8c.html#a0866433db4b1b7d68a1422fa25867aea">exit</a>(<a class="el" href="../../d1/d7a/Userspace_2musl_2include_2stdlib_8h.html#a73efe787c131b385070f25d18b7c9aa4">EXIT_FAILURE</a>)</td></tr>
<tr class="separator:a5c7c6e94f3780ab97abc458f81d8e66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98eef27dcb9d4794b83b8ca504623188"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a98eef27dcb9d4794b83b8ca504623188">error_logger</a>(<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>,  fmt,  args...)</td></tr>
<tr class="separator:a98eef27dcb9d4794b83b8ca504623188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a88bbec22d6745372ba167fb777b604"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a0a88bbec22d6745372ba167fb777b604">error_logger_and_die</a>(<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>,  fmt,  args...)&#160;&#160;&#160;<a class="el" href="../../d1/d85/exit_8c.html#a0866433db4b1b7d68a1422fa25867aea">exit</a>(<a class="el" href="../../d1/d7a/Userspace_2musl_2include_2stdlib_8h.html#a73efe787c131b385070f25d18b7c9aa4">EXIT_FAILURE</a>)</td></tr>
<tr class="separator:a0a88bbec22d6745372ba167fb777b604"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a486d64f8b9ef9bcb8763143dbc3f9c6f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a486d64f8b9ef9bcb8763143dbc3f9c6f">dir_operation</a> (int, const char *, int, unsigned long *)</td></tr>
<tr class="separator:a486d64f8b9ef9bcb8763143dbc3f9c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa42c9e69815003095f44e46a64574fbb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#aa42c9e69815003095f44e46a64574fbb">service</a> (struct <a class="el" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> statbuf, char *path)</td></tr>
<tr class="separator:aa42c9e69815003095f44e46a64574fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9357beeaae7141bdcc3578a1421cc7d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#af9357beeaae7141bdcc3578a1421cc7d">st_expr_expand</a> (char *, unsigned, const char *, const char *(*)(const char *, void *), void *)</td></tr>
<tr class="separator:af9357beeaae7141bdcc3578a1421cc7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe6393b1b7d35b9b93b1a0d60888affb"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#abe6393b1b7d35b9b93b1a0d60888affb">get_old_name</a> (const char *, unsigned, char *, unsigned, unsigned)</td></tr>
<tr class="separator:abe6393b1b7d35b9b93b1a0d60888affb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83754cd7073ac2047027bbca3591b0b7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a83754cd7073ac2047027bbca3591b0b7">mksymlink</a> (const char *oldpath, const char *newpath)</td></tr>
<tr class="separator:a83754cd7073ac2047027bbca3591b0b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b4474fe0058550490ec996f3259b0a7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a1b4474fe0058550490ec996f3259b0a7">read_config_file</a> (char *path, int optional, unsigned long *event_mask)</td></tr>
<tr class="separator:a1b4474fe0058550490ec996f3259b0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cfc29ee22a9aad0902501b8ef2071c1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a9cfc29ee22a9aad0902501b8ef2071c1">process_config_line</a> (const char *, unsigned long *)</td></tr>
<tr class="separator:a9cfc29ee22a9aad0902501b8ef2071c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480e9d50cd1c169e39c720ac32d8846e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a480e9d50cd1c169e39c720ac32d8846e">do_servicing</a> (int, unsigned long)</td></tr>
<tr class="separator:a480e9d50cd1c169e39c720ac32d8846e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4ba0c7f3a5f0429f97b6d3c7663206"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a8d4ba0c7f3a5f0429f97b6d3c7663206">service_name</a> (const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *)</td></tr>
<tr class="separator:a8d4ba0c7f3a5f0429f97b6d3c7663206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5428ee986c8ca841a42213b5c2356278"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a5428ee986c8ca841a42213b5c2356278">action_permissions</a> (const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *, const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *)</td></tr>
<tr class="separator:a5428ee986c8ca841a42213b5c2356278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac94504760e78e131fd311f717f006f65"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#ac94504760e78e131fd311f717f006f65">action_execute</a> (const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *, const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *, const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *, unsigned)</td></tr>
<tr class="separator:ac94504760e78e131fd311f717f006f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb947d42ad859adf92b5d665dece32e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#adbb947d42ad859adf92b5d665dece32e">action_modload</a> (const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *<a class="el" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>)</td></tr>
<tr class="separator:adbb947d42ad859adf92b5d665dece32e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7002f616325c7d63e7a3ad7988083563"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a7002f616325c7d63e7a3ad7988083563">action_copy</a> (const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *, const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *, const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *, unsigned)</td></tr>
<tr class="separator:a7002f616325c7d63e7a3ad7988083563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad82bd6846aab0ba26318e0ac8bfef5ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#ad82bd6846aab0ba26318e0ac8bfef5ae">action_compat</a> (const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *, unsigned)</td></tr>
<tr class="separator:ad82bd6846aab0ba26318e0ac8bfef5ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9328ac30d509a60dc59b5b7645fc7f00"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a9328ac30d509a60dc59b5b7645fc7f00">free_config</a> (void)</td></tr>
<tr class="separator:a9328ac30d509a60dc59b5b7645fc7f00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad96ecb6ffa50ee6562b1eaee5c041a16"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#ad96ecb6ffa50ee6562b1eaee5c041a16">restore</a> (char *spath, struct <a class="el" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> source_stat, int rootlen)</td></tr>
<tr class="separator:ad96ecb6ffa50ee6562b1eaee5c041a16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8bdd0feeec019e21c00fb876491dac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a2b8bdd0feeec019e21c00fb876491dac">copy_inode</a> (const char *, const struct <a class="el" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> *, <a class="el" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#ad2933406ba93c0e0d1884fc09c18a0bf">mode_t</a>, const char *, const struct <a class="el" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> *)</td></tr>
<tr class="separator:a2b8bdd0feeec019e21c00fb876491dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3932f21127755651e4c89cfdabeae49f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#ad2933406ba93c0e0d1884fc09c18a0bf">mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a3932f21127755651e4c89cfdabeae49f">get_mode</a> (const char *)</td></tr>
<tr class="separator:a3932f21127755651e4c89cfdabeae49f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10ff19356f5e5c82507c7f889e064ef6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a10ff19356f5e5c82507c7f889e064ef6">signal_handler</a> (int)</td></tr>
<tr class="separator:a10ff19356f5e5c82507c7f889e064ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98b3b0660d1f8cb5a60ddfe58f38ea0b"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a98b3b0660d1f8cb5a60ddfe58f38ea0b">get_variable</a> (const char *, void *)</td></tr>
<tr class="separator:a98b3b0660d1f8cb5a60ddfe58f38ea0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e7cc5436b7470e6f01327bbc244953"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a16e7cc5436b7470e6f01327bbc244953">make_dir_tree</a> (const char *)</td></tr>
<tr class="separator:a16e7cc5436b7470e6f01327bbc244953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891fd6a43e2c4668dedda0eaac5316ea"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a891fd6a43e2c4668dedda0eaac5316ea">expand_expression</a> (char *, unsigned, const char *, const char *(*)(const char *, void *), void *, const char *, const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *, unsigned)</td></tr>
<tr class="separator:a891fd6a43e2c4668dedda0eaac5316ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85382d181cd7d4f5aa81d5f190d382fb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a85382d181cd7d4f5aa81d5f190d382fb">expand_regexp</a> (char *, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>, const char *, const char *, const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *, unsigned)</td></tr>
<tr class="separator:a85382d181cd7d4f5aa81d5f190d382fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7f5fb0c45a9a1270ff1d9ca0b251a8d"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#ad7f5fb0c45a9a1270ff1d9ca0b251a8d">expand_variable</a> (char *, unsigned, unsigned *, const char *, const char *(*)(const char *, void *), void *)</td></tr>
<tr class="separator:ad7f5fb0c45a9a1270ff1d9ca0b251a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ce73bddf1a0dc2f9bbc5f1b94b5d5e9"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a2ce73bddf1a0dc2f9bbc5f1b94b5d5e9">get_variable_v2</a> (const char *, const char *(*)(const char *, void *), void *)</td></tr>
<tr class="separator:a2ce73bddf1a0dc2f9bbc5f1b94b5d5e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28868f69b226984146274fce53803088"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a28868f69b226984146274fce53803088">get_old_ide_name</a> (unsigned, unsigned)</td></tr>
<tr class="separator:a28868f69b226984146274fce53803088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26143a9703e4557716517f98916be9e"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#ab26143a9703e4557716517f98916be9e">write_old_sd_name</a> (char *, unsigned, unsigned, const char *)</td></tr>
<tr class="separator:ab26143a9703e4557716517f98916be9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac751fa96b3bad0dde91a65840c822188"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#ac751fa96b3bad0dde91a65840c822188">get_uid_gid</a> (int flag, const char *<a class="el" href="../../db/dd4/sm__loop_8c.html#a7c1d6be20a4af130441414ebcdd095d8">string</a>)</td></tr>
<tr class="separator:ac751fa96b3bad0dde91a65840c822188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e5fa65d7a3fccc813a9df4527a13430"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a1e5fa65d7a3fccc813a9df4527a13430">safe_memcpy</a> (char *dest, const char *<a class="el" href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, int <a class="el" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>)</td></tr>
<tr class="separator:a1e5fa65d7a3fccc813a9df4527a13430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29ee560b2260ec0d7498ff1ca6546e09"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a29ee560b2260ec0d7498ff1ca6546e09">scan_dev_name_common</a> (const char *d, unsigned int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, int addendum, const char *ptr)</td></tr>
<tr class="separator:a29ee560b2260ec0d7498ff1ca6546e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0682e5279f7b4535e7a456b6d5f6360"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#aa0682e5279f7b4535e7a456b6d5f6360">scan_dev_name</a> (const char *d, unsigned int <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, const char *ptr)</td></tr>
<tr class="separator:aa0682e5279f7b4535e7a456b6d5f6360"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11544a3d1e022d1e4a763df3ac2c6dda"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a11544a3d1e022d1e4a763df3ac2c6dda">devfsd_main</a> (int <a class="el" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, char **<a class="el" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>) <a class="el" href="../../d7/dd7/libbb_8h.html#a50bff3dbf83ecbd070954b228becba4e">MAIN_EXTERNALLY_VISIBLE</a></td></tr>
<tr class="separator:a11544a3d1e022d1e4a763df3ac2c6dda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f57c74d1a2a386bac1842e9af866db4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a4f57c74d1a2a386bac1842e9af866db4">action_modload</a> (const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *<a class="el" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a> <a class="el" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</td></tr>
<tr class="separator:a4f57c74d1a2a386bac1842e9af866db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be8f45d650d826f80b98f3a89246a10"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a4be8f45d650d826f80b98f3a89246a10">action_execute</a> (const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *<a class="el" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>, const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *regexpr, unsigned int numexpr)</td></tr>
<tr class="separator:a4be8f45d650d826f80b98f3a89246a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6de9e6db8879d086357412d048b3a821"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a6de9e6db8879d086357412d048b3a821">action_copy</a> (const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *<a class="el" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>, const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *regexpr, unsigned int numexpr)</td></tr>
<tr class="separator:a6de9e6db8879d086357412d048b3a821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdbea724ce7eea401b01fcea1bd80b11"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#acdbea724ce7eea401b01fcea1bd80b11">action_compat</a> (const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, unsigned int <a class="el" href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a>)</td></tr>
<tr class="separator:acdbea724ce7eea401b01fcea1bd80b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16783e27c418fffe41f504db0b03c004"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a16783e27c418fffe41f504db0b03c004">expand_expression</a> (char *<a class="el" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5ae6eb596f7e638118128651043ff38545">output</a>, unsigned int outsize, const char *<a class="el" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>, const char *(*get_variable_func)(const char *<a class="el" href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a>, void *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>), void *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, const char *devname, const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *ex, unsigned int numexp)</td></tr>
<tr class="separator:a16783e27c418fffe41f504db0b03c004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c4b4748cdeb7820be700bf9003bf198"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a0c4b4748cdeb7820be700bf9003bf198">expand_regexp</a> (char *<a class="el" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5ae6eb596f7e638118128651043ff38545">output</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> outsize, const char *<a class="el" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>, const char *devname, const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *ex, unsigned int numex)</td></tr>
<tr class="separator:a0c4b4748cdeb7820be700bf9003bf198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aeeb6c3466c5d5fb0ebfb5a95bf51af"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a3aeeb6c3466c5d5fb0ebfb5a95bf51af">get_old_name</a> (const char *devname, unsigned int <a class="el" href="../../dc/d72/fsck__minix_8c.html#ae35b977157df01917b1e9c24cb65d288">namelen</a>, char *<a class="el" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, unsigned int <a class="el" href="../../d5/dfb/sysmacros_8h.html#a394c7314d2185f6fe159921af7fe4fb2">major</a>, unsigned int <a class="el" href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a>)</td></tr>
<tr class="separator:a3aeeb6c3466c5d5fb0ebfb5a95bf51af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499ba6d8a5ee5e52c88d30e155f79310"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a499ba6d8a5ee5e52c88d30e155f79310">get_old_ide_name</a> (unsigned int <a class="el" href="../../d5/dfb/sysmacros_8h.html#a394c7314d2185f6fe159921af7fe4fb2">major</a>, unsigned int <a class="el" href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a>)</td></tr>
<tr class="separator:a499ba6d8a5ee5e52c88d30e155f79310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9609a04570d36f29bc830fc8508b76e5"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a9609a04570d36f29bc830fc8508b76e5">write_old_sd_name</a> (char *<a class="el" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, unsigned int <a class="el" href="../../d5/dfb/sysmacros_8h.html#a394c7314d2185f6fe159921af7fe4fb2">major</a>, unsigned int <a class="el" href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a>, const char *part)</td></tr>
<tr class="separator:a9609a04570d36f29bc830fc8508b76e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa17a276259cc7088eb0cca44836ad199"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#aa17a276259cc7088eb0cca44836ad199">st_expr_expand</a> (char *<a class="el" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5ae6eb596f7e638118128651043ff38545">output</a>, unsigned int length, const char *<a class="el" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>, const char *(*get_variable_func)(const char *<a class="el" href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a>, void *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>), void *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>)</td></tr>
<tr class="separator:aa17a276259cc7088eb0cca44836ad199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc2c358f1498457c16942810fcbb234"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a4dc2c358f1498457c16942810fcbb234">expand_variable</a> (char *<a class="el" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, unsigned int length, unsigned int *out_pos, const char *<a class="el" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>, const char *(*<a class="el" href="../../de/dcc/awk_8c.html#a553299c54ca0f9dd61768a1f8a0e481a">func</a>)(const char *<a class="el" href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a>, void *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>), void *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>)</td></tr>
<tr class="separator:a4dc2c358f1498457c16942810fcbb234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92922a6c81f95db1dff6ac2b8c42341c"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a92922a6c81f95db1dff6ac2b8c42341c">get_variable_v2</a> (const char *<a class="el" href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a>, const char *(*<a class="el" href="../../de/dcc/awk_8c.html#a553299c54ca0f9dd61768a1f8a0e481a">func</a>)(const char *<a class="el" href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a>, void *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>), void *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>)</td></tr>
<tr class="separator:a92922a6c81f95db1dff6ac2b8c42341c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3b35573c0207d8073e91bfc6742a516d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a3b35573c0207d8073e91bfc6742a516d">first_config</a> = <a class="el" href="../../d4/dc4/Userspace_2musl_2include_2wchar_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a3b35573c0207d8073e91bfc6742a516d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7ef58f29db96f4eabb81e30315b4936"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#aa7ef58f29db96f4eabb81e30315b4936">last_config</a> = <a class="el" href="../../d4/dc4/Userspace_2musl_2include_2wchar_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:aa7ef58f29db96f4eabb81e30315b4936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a059fdb8aae496c0916e50f5bd4ac8ab3"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a> = <a class="el" href="../../d4/dc4/Userspace_2musl_2include_2wchar_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a059fdb8aae496c0916e50f5bd4ac8ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9baca606c31e56122c105704c0a4e77b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d1/dd5/localcharset_8c.html#af55a5e48555be7d32ad73e76cf5d4db0">volatile</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a9baca606c31e56122c105704c0a4e77b">caught_signal</a> = <a class="el" href="../../d7/dd7/libbb_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="separator:a9baca606c31e56122c105704c0a4e77b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57d05d3c313fa07722d642c240f19246"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d1/dd5/localcharset_8c.html#af55a5e48555be7d32ad73e76cf5d4db0">volatile</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a57d05d3c313fa07722d642c240f19246">caught_sighup</a> = <a class="el" href="../../d7/dd7/libbb_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="separator:a57d05d3c313fa07722d642c240f19246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3351cabcdbe364f3e5e21803242b1156"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d0/dcb/structinitial__symlink__struct">initial_symlink_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a3351cabcdbe364f3e5e21803242b1156">initial_symlinks</a> []</td></tr>
<tr class="separator:a3351cabcdbe364f3e5e21803242b1156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c93c017ca7319621512781c6d0221f2"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d2/dbe/structevent__type">event_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a2c93c017ca7319621512781c6d0221f2">event_types</a> []</td></tr>
<tr class="separator:a2c93c017ca7319621512781c6d0221f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09545a81e7d9bd978a8de38483d7cc66"><td class="memItemLeft" align="right" valign="top">static const char bb_msg_proto_rev[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a09545a81e7d9bd978a8de38483d7cc66">ALIGN1</a> = &quot;protocol revision&quot;</td></tr>
<tr class="separator:a09545a81e7d9bd978a8de38483d7cc66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bc873142de73940654cebca525bb479"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d8/de0/structtranslate__struct">translate_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3a/devfsd_8c.html#a9bc873142de73940654cebca525bb479">translate_table</a> []</td></tr>
<tr class="separator:a9bc873142de73940654cebca525bb479"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="d5/d26/structdevfsd__notify__struct" id="d5/d26/structdevfsd__notify__struct"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d5/d26/structdevfsd__notify__struct">&#9670;&nbsp;</a></span>devfsd_notify_struct</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct devfsd_notify_struct</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00167">167</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="abc9d63b70af01317dac45cf3870b9667"></a>char</td>
<td class="fieldname">
devname[<a class="el" href="../../d6/d3a/devfsd_8c.html#a2c38b043272242d3c5bf2cc6fe7b77f9">DEVFS_PATHLEN</a>]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a312bdcd1ac9978b83ac0acc815403d60"></a>unsigned int</td>
<td class="fieldname">
gid</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a1ada91bb44a632ff423ce70f82fc84cc"></a>unsigned int</td>
<td class="fieldname">
major</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ad81713657425a168714e9c3afd839f5c"></a>unsigned int</td>
<td class="fieldname">
minor</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0b0128a9314370edc3ee1a895394e76f"></a>unsigned int</td>
<td class="fieldname">
mode</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a078fc80f8f9dd9c5dbe67af36e11ab4e"></a>unsigned int</td>
<td class="fieldname">
namelen</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af4a671c152d462322237c162ec04b331"></a>unsigned int</td>
<td class="fieldname">
overrun_count</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="abbaf3f825b8309f072f622e3029c3241"></a>unsigned int</td>
<td class="fieldname">
type</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ad726c400aabee23bb1051af34ae20902"></a>unsigned int</td>
<td class="fieldname">
uid</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d5/db8/structpermissions__type" id="d5/db8/structpermissions__type"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d5/db8/structpermissions__type">&#9670;&nbsp;</a></span>permissions_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct permissions_type</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00226">226</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a42e5d22c8829aa3792788fa6a657c980"></a>gid_t</td>
<td class="fieldname">
gid</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ab187e8a82922f67270896bc6ac4817dd"></a><a class="el" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#ad2933406ba93c0e0d1884fc09c18a0bf">mode_t</a></td>
<td class="fieldname">
mode</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aad94365214f3c076214fcfa8f0436b15"></a>uid_t</td>
<td class="fieldname">
uid</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d3/d9d/structexecute__type" id="d3/d9d/structexecute__type"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d3/d9d/structexecute__type">&#9670;&nbsp;</a></span>execute_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct execute_type</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00232">232</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a42b9e56e822a3d8abbd92af36e1b891a"></a>char *</td>
<td class="fieldname">
argv[<a class="el" href="../../d6/d3a/devfsd_8c.html#a29b7451465deac204c5f7cb1f9c6e1fc">MAX_ARGS</a>+1]</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="db/d6c/structcopy__type" id="db/d6c/structcopy__type"></a>
<h2 class="memtitle"><span class="permalink"><a href="#db/d6c/structcopy__type">&#9670;&nbsp;</a></span>copy_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct copy_type</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00236">236</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a2b565e353f9e880ef7ede097a8e7fd80"></a>const char *</td>
<td class="fieldname">
destination</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a68849618f1319442102c166e45d6fdc6"></a>const char *</td>
<td class="fieldname">
source</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d0/d5a/structaction__type" id="d0/d5a/structaction__type"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d0/d5a/structaction__type">&#9670;&nbsp;</a></span>action_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct action_type</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00241">241</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="aa9acce53e605c42a10d32b4cafca5068"></a>unsigned int</td>
<td class="fieldname">
what</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0a4bd8232ca68275eb97a88ee91ee2de"></a>unsigned int</td>
<td class="fieldname">
when</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d9/db8/structconfig__entry__struct" id="d9/db8/structconfig__entry__struct"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d9/db8/structconfig__entry__struct">&#9670;&nbsp;</a></span>config_entry_struct</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct config_entry_struct</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00246">246</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a1ed0964d8cc4ca7b618222720792f53e"></a>struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d0/d5a/structaction__type">action_type</a></td>
<td class="fieldname">
action</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a88910b75e4165e75c2ec465c7d2b5eae"></a>struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *</td>
<td class="fieldname">
next</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a8f930f58ae2346fafc1c4029cbc99df6"></a><a class="el" href="../../d1/d21/regex_8h.html#a159f97bcead74ee31a0817571f7625a9">regex_t</a></td>
<td class="fieldname">
preg</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a11562834057b5e954a7e5281e25f88ec"></a>union <a class="el" href="../../d6/d3a/devfsd_8c.html#d1/d86/unionconfig__entry__struct_8u">config_entry_struct</a></td>
<td class="fieldname">
u</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="dd/d0b/structget__variable__info" id="dd/d0b/structget__variable__info"></a>
<h2 class="memtitle"><span class="permalink"><a href="#dd/d0b/structget__variable__info">&#9670;&nbsp;</a></span>get_variable_info</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct get_variable_info</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00259">259</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ad9f1dd284c2f656b95151a9c747ec30b"></a>const char *</td>
<td class="fieldname">
devname</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a036ee66e941ac65bfb7420a256067cac"></a>char</td>
<td class="fieldname">
devpath[<a class="el" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a6295428d3602bbbbdbb1357251c34a61"></a>const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *</td>
<td class="fieldname">
info</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d0/dcb/structinitial__symlink__struct" id="d0/dcb/structinitial__symlink__struct"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d0/dcb/structinitial__symlink__struct">&#9670;&nbsp;</a></span>initial_symlink_struct</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct initial_symlink_struct</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00309">309</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a39bad4d32bcc6284a4ae0fe63792b7bc"></a>const char *</td>
<td class="fieldname">
dest</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a4da746b37a8f496b0f396424ddfc7207"></a>const char *</td>
<td class="fieldname">
name</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d2/dbe/structevent__type" id="d2/dbe/structevent__type"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d2/dbe/structevent__type">&#9670;&nbsp;</a></span>event_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct event_type</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00320">320</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ace3e6d8dd6068c9a186e3c0a7857c15f"></a>const char *</td>
<td class="fieldname">
config_name</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a213dfb310502a1f7762c98684e884a5b"></a>unsigned int</td>
<td class="fieldname">
type</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d8/de0/structtranslate__struct" id="d8/de0/structtranslate__struct"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d8/de0/structtranslate__struct">&#9670;&nbsp;</a></span>translate_struct</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct translate_struct</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01412">1412</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a5e101e1543d0447eab3ad48a7af826ab"></a>const char *</td>
<td class="fieldname">
format</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a49835a92e0798fc7cf88ce3e04ce61ff"></a>const char *</td>
<td class="fieldname">
match</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d1/d86/unionconfig__entry__struct_8u" id="d1/d86/unionconfig__entry__struct_8u"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d1/d86/unionconfig__entry__struct_8u">&#9670;&nbsp;</a></span>config_entry_struct.u</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union config_entry_struct.u</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00249">249</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a12cba3ee81cf4a793796a51b6327c678"></a>struct <a class="el" href="../../d6/d3a/devfsd_8c.html#db/d6c/structcopy__type">copy_type</a></td>
<td class="fieldname">
copy</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aec0cd3cb91fe82b9501f62a528eb07a9"></a>struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d3/d9d/structexecute__type">execute_type</a></td>
<td class="fieldname">
execute</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a41275a535677f79ff347e01bc530c176"></a>struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/db8/structpermissions__type">permissions_type</a></td>
<td class="fieldname">
permissions</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8a7d4bdc3ccbdd10db9c13e7b72e9391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a7d4bdc3ccbdd10db9c13e7b72e9391">&#9670;&nbsp;</a></span>AC_CFUNCTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_CFUNCTION&#160;&#160;&#160;4	/* <a class="el" href="../../d6/dae/dc_8c.html#aa15351596ab3b8c1211f66731b5f7a49">not</a> supported by busybox */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00217">217</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="ac189b5de65eaa87a09bb1bac9d7ecab8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac189b5de65eaa87a09bb1bac9d7ecab8">&#9670;&nbsp;</a></span>AC_COPY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_COPY&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00218">218</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="aefc9286b77b6e49e7acc5e9438d2ffca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefc9286b77b6e49e7acc5e9438d2ffca">&#9670;&nbsp;</a></span>AC_EXECUTE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_EXECUTE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00215">215</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a5b4ce8b3436a3d25966192d597ebd5e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b4ce8b3436a3d25966192d597ebd5e6">&#9670;&nbsp;</a></span>AC_IGNORE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_IGNORE&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00219">219</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a813bf067d58f1b719b0e0a76ca3a8571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a813bf067d58f1b719b0e0a76ca3a8571">&#9670;&nbsp;</a></span>AC_MFUNCTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_MFUNCTION&#160;&#160;&#160;3	/* <a class="el" href="../../d6/dae/dc_8c.html#aa15351596ab3b8c1211f66731b5f7a49">not</a> supported by busybox */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00216">216</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a7dedeed70daef7a56d505ffa3ddd3028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dedeed70daef7a56d505ffa3ddd3028">&#9670;&nbsp;</a></span>AC_MKNEWCOMPAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_MKNEWCOMPAT&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00221">221</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a8d3dba9cc2a465b94232d0f1ff6d75da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d3dba9cc2a465b94232d0f1ff6d75da">&#9670;&nbsp;</a></span>AC_MKOLDCOMPAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_MKOLDCOMPAT&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00220">220</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a9c72edc8a26d9e295359a80448cb5666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c72edc8a26d9e295359a80448cb5666">&#9670;&nbsp;</a></span>AC_MODLOAD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_MODLOAD&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00214">214</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="acd1202ce48e1bf3b19351e86bea7816e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd1202ce48e1bf3b19351e86bea7816e">&#9670;&nbsp;</a></span>AC_PERMISSIONS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_PERMISSIONS&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00213">213</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a1548e083fe71659e1ec7cc447f38d718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1548e083fe71659e1ec7cc447f38d718">&#9670;&nbsp;</a></span>AC_RESTORE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_RESTORE&#160;&#160;&#160;11</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00224">224</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a001eab39c958f2d89cacc6d3b3a4cd53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a001eab39c958f2d89cacc6d3b3a4cd53">&#9670;&nbsp;</a></span>AC_RMNEWCOMPAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_RMNEWCOMPAT&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00223">223</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a4a5d434e301fcbad4cdde82445f87d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a5d434e301fcbad4cdde82445f87d38">&#9670;&nbsp;</a></span>AC_RMOLDCOMPAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AC_RMOLDCOMPAT&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00222">222</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a6b20d41d6252e9871430c242cb1a56e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b20d41d6252e9871430c242cb1a56e7">&#9670;&nbsp;</a></span>BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_SIZE&#160;&#160;&#160;16384</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00181">181</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a42bf63540ee0039a3a23db1b5ec3202b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42bf63540ee0039a3a23db1b5ec3202b">&#9670;&nbsp;</a></span>CONFIG_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONFIG_FILE&#160;&#160;&#160;&quot;/etc/<a class="el" href="../../d0/d43/mconf_8c.html#ac9655aae5bca4a6bc31afafe91b301fe">devfsd.conf</a>&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00183">183</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a16e5a1eb58c62224ca540c635ebe7f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16e5a1eb58c62224ca540c635ebe7f5a">&#9670;&nbsp;</a></span>CONFIG_MODULES_DEVFS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONFIG_MODULES_DEVFS&#160;&#160;&#160;&quot;/etc/modules.devfs&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00187">187</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a2c38b043272242d3c5bf2cc6fe7b77f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c38b043272242d3c5bf2cc6fe7b77f9">&#9670;&nbsp;</a></span>DEVFS_PATHLEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFS_PATHLEN&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00164">164</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a059b6d3775ae4d796a921ecb1c2bcc51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a059b6d3775ae4d796a921ecb1c2bcc51">&#9670;&nbsp;</a></span>DEVFSD_IOCTL_BASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSD_IOCTL_BASE&#160;&#160;&#160;'d'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00150">150</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a38efedfe98c32561d67076f60e05fbd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38efedfe98c32561d67076f60e05fbd2">&#9670;&nbsp;</a></span>DEVFSD_NOTIFY_ASYNC_OPEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSD_NOTIFY_ASYNC_OPEN&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00158">158</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a90c062cce931d5a4144fa0f3faaa5397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90c062cce931d5a4144fa0f3faaa5397">&#9670;&nbsp;</a></span>DEVFSD_NOTIFY_CHANGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSD_NOTIFY_CHANGE&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00161">161</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="aa062809854f3bed93f5b23a1d610906d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa062809854f3bed93f5b23a1d610906d">&#9670;&nbsp;</a></span>DEVFSD_NOTIFY_CLOSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSD_NOTIFY_CLOSE&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00159">159</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a7b307fc4d0efbdbdf5110cd166924da3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b307fc4d0efbdbdf5110cd166924da3">&#9670;&nbsp;</a></span>DEVFSD_NOTIFY_CREATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSD_NOTIFY_CREATE&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00162">162</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a0cd435eb0725a03c1e1520e758c19ed6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cd435eb0725a03c1e1520e758c19ed6">&#9670;&nbsp;</a></span>DEVFSD_NOTIFY_DELETE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSD_NOTIFY_DELETE&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00163">163</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a1309e2d760c38df602b6ce3932e8f698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1309e2d760c38df602b6ce3932e8f698">&#9670;&nbsp;</a></span>DEVFSD_NOTIFY_LOOKUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSD_NOTIFY_LOOKUP&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00160">160</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a9230c4bd2a9dd9325cc23a59e311b268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9230c4bd2a9dd9325cc23a59e311b268">&#9670;&nbsp;</a></span>DEVFSD_NOTIFY_REGISTERED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSD_NOTIFY_REGISTERED&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00156">156</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="ad9a998b6b3abd352f639bbe3e893ee2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9a998b6b3abd352f639bbe3e893ee2b">&#9670;&nbsp;</a></span>DEVFSD_NOTIFY_UNREGISTERED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSD_NOTIFY_UNREGISTERED&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00157">157</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="af3c7de222c99cfc9dc1cda0bbaae806e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3c7de222c99cfc9dc1cda0bbaae806e">&#9670;&nbsp;</a></span>DEVFSD_PROTOCOL_REVISION_DAEMON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSD_PROTOCOL_REVISION_DAEMON&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00206">206</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a33336048d629e9f2b5d290f6e714009d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33336048d629e9f2b5d290f6e714009d">&#9670;&nbsp;</a></span>DEVFSD_PROTOCOL_REVISION_KERNEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSD_PROTOCOL_REVISION_KERNEL&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00149">149</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a4bee410cb0e3a2d09bc641834bb664fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bee410cb0e3a2d09bc641834bb664fa">&#9670;&nbsp;</a></span>DEVFSD_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSD_VERSION&#160;&#160;&#160;&quot;1.3.25&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00182">182</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a417d0f669a69ef7df5cb10ddcf3d05a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a417d0f669a69ef7df5cb10ddcf3d05a6">&#9670;&nbsp;</a></span>DEVFSDIOC_GET_PROTO_REV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSDIOC_GET_PROTO_REV&#160;&#160;&#160;<a class="el" href="../../d9/ded/arch_2sh_2bits_2ioctl_8h.html#a48bd95ac670a5eded8c5f2ac067f59d0">_IOR</a>(<a class="el" href="../../d6/d3a/devfsd_8c.html#a059b6d3775ae4d796a921ecb1c2bcc51">DEVFSD_IOCTL_BASE</a>, 0, int)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00152">152</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a2bc17f6e4d7f2d9752b886e700dcbe5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bc17f6e4d7f2d9752b886e700dcbe5e">&#9670;&nbsp;</a></span>DEVFSDIOC_RELEASE_EVENT_QUEUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSDIOC_RELEASE_EVENT_QUEUE&#160;&#160;&#160;<a class="el" href="../../d9/ded/arch_2sh_2bits_2ioctl_8h.html#a5d2b85f80852f5ea026dcd14833d9022">_IOW</a>(<a class="el" href="../../d6/d3a/devfsd_8c.html#a059b6d3775ae4d796a921ecb1c2bcc51">DEVFSD_IOCTL_BASE</a>, 3, int)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00154">154</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a3cd1aa82e14a17073758b2970749db7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cd1aa82e14a17073758b2970749db7b">&#9670;&nbsp;</a></span>DEVFSDIOC_SET_CONFIG_DEBUG_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSDIOC_SET_CONFIG_DEBUG_MASK&#160;&#160;&#160;<a class="el" href="../../d9/ded/arch_2sh_2bits_2ioctl_8h.html#a5d2b85f80852f5ea026dcd14833d9022">_IOW</a>(<a class="el" href="../../d6/d3a/devfsd_8c.html#a059b6d3775ae4d796a921ecb1c2bcc51">DEVFSD_IOCTL_BASE</a>, 4, int)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00155">155</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a48c31b6abf4eb9e798cddca48504e720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48c31b6abf4eb9e798cddca48504e720">&#9670;&nbsp;</a></span>DEVFSDIOC_SET_EVENT_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVFSDIOC_SET_EVENT_MASK&#160;&#160;&#160;<a class="el" href="../../d9/ded/arch_2sh_2bits_2ioctl_8h.html#a5d2b85f80852f5ea026dcd14833d9022">_IOW</a>(<a class="el" href="../../d6/d3a/devfsd_8c.html#a059b6d3775ae4d796a921ecb1c2bcc51">DEVFSD_IOCTL_BASE</a>, 2, int)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00153">153</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a01ac216e7992570d72253b609fcbd67f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ac216e7992570d72253b609fcbd67f">&#9670;&nbsp;</a></span>DIE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00197">197</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a98eef27dcb9d4794b83b8ca504623188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98eef27dcb9d4794b83b8ca504623188">&#9670;&nbsp;</a></span>error_logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define error_logger</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args...&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00359">359</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a0a88bbec22d6745372ba167fb777b604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a88bbec22d6745372ba167fb777b604">&#9670;&nbsp;</a></span>error_logger_and_die</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define error_logger_and_die</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args...&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d1/d85/exit_8c.html#a0866433db4b1b7d68a1422fa25867aea">exit</a>(<a class="el" href="../../d1/d7a/Userspace_2musl_2include_2stdlib_8h.html#a73efe787c131b385070f25d18b7c9aa4">EXIT_FAILURE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00360">360</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a5b96ecb16d8e437977d12cd40aa6f6d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b96ecb16d8e437977d12cd40aa6f6d8">&#9670;&nbsp;</a></span>GID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GID&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00194">194</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a291c0ccad55b6ac471b926ba70fe1973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a291c0ccad55b6ac471b926ba70fe1973">&#9670;&nbsp;</a></span>IDE0_MAJOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IDE0_MAJOR&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00136">136</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a5d0765cb06936db5c9867331d67c44d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d0765cb06936db5c9867331d67c44d6">&#9670;&nbsp;</a></span>IDE1_MAJOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IDE1_MAJOR&#160;&#160;&#160;22</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00137">137</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a9dc2008a9442401f3b552bc54520655b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dc2008a9442401f3b552bc54520655b">&#9670;&nbsp;</a></span>IDE2_MAJOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IDE2_MAJOR&#160;&#160;&#160;33</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00138">138</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a1ddb11b249c6f293bd2fabbafd2d5efc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ddb11b249c6f293bd2fabbafd2d5efc">&#9670;&nbsp;</a></span>IDE3_MAJOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IDE3_MAJOR&#160;&#160;&#160;34</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00139">139</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a6fcdc7c9cd4123e071dbe4454c6c011c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fcdc7c9cd4123e071dbe4454c6c011c">&#9670;&nbsp;</a></span>IDE4_MAJOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IDE4_MAJOR&#160;&#160;&#160;56</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00140">140</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="ad857aa5bba8293fa640ace15330b6b44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad857aa5bba8293fa640ace15330b6b44">&#9670;&nbsp;</a></span>IDE5_MAJOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IDE5_MAJOR&#160;&#160;&#160;57</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00141">141</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a8ce709a552d9c269eeaf6dd6cfd352a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ce709a552d9c269eeaf6dd6cfd352a2">&#9670;&nbsp;</a></span>IDE6_MAJOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IDE6_MAJOR&#160;&#160;&#160;88</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00142">142</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a735e0c3ce435cf507166130431f56f88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a735e0c3ce435cf507166130431f56f88">&#9670;&nbsp;</a></span>IDE7_MAJOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IDE7_MAJOR&#160;&#160;&#160;89</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00143">143</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="ad9a1d3a707e7f8be04c49a1081cf8fd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9a1d3a707e7f8be04c49a1081cf8fd8">&#9670;&nbsp;</a></span>IDE8_MAJOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IDE8_MAJOR&#160;&#160;&#160;90</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00144">144</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a397438a424b3bc3fbab80d2d078a0942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a397438a424b3bc3fbab80d2d078a0942">&#9670;&nbsp;</a></span>IDE9_MAJOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IDE9_MAJOR&#160;&#160;&#160;91</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00145">145</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a7d915887d20e184f680358c4be506f7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d915887d20e184f680358c4be506f7b">&#9670;&nbsp;</a></span>info_logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define info_logger</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args...&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00353">353</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a29b7451465deac204c5f7cb1f9c6e1fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b7451465deac204c5f7cb1f9c6e1fc">&#9670;&nbsp;</a></span>MAX_ARGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ARGS&#160;&#160;&#160;(6 + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00188">188</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="aa42db09321bed09819945c6d10177940"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa42db09321bed09819945c6d10177940">&#9670;&nbsp;</a></span>MAX_SUBEXPR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_SUBEXPR&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00189">189</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="afbf52fc67e119bfbdc0abe9eb9691cac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbf52fc67e119bfbdc0abe9eb9691cac">&#9670;&nbsp;</a></span>MODPROBE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODPROBE&#160;&#160;&#160;&quot;/sbin/modprobe&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00184">184</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="ab53bfd761e847236221c29b31c0d9948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab53bfd761e847236221c29b31c0d9948">&#9670;&nbsp;</a></span>MODPROBE_SWITCH_1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODPROBE_SWITCH_1&#160;&#160;&#160;&quot;-k&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00185">185</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="aab62b5dcd8683c238ecc019a7de2ea20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab62b5dcd8683c238ecc019a7de2ea20">&#9670;&nbsp;</a></span>MODPROBE_SWITCH_2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODPROBE_SWITCH_2&#160;&#160;&#160;&quot;-C&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00186">186</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a6cd2f3b8f98626c541af84e9e73ee200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cd2f3b8f98626c541af84e9e73ee200">&#9670;&nbsp;</a></span>msg_logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define msg_logger</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args...&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00355">355</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a267624774a2c7563fe5aafa63e087fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267624774a2c7563fe5aafa63e087fd1">&#9670;&nbsp;</a></span>msg_logger_and_die</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define msg_logger_and_die</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args...&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d1/d85/exit_8c.html#a0866433db4b1b7d68a1422fa25867aea">exit</a>(<a class="el" href="../../d1/d7a/Userspace_2musl_2include_2stdlib_8h.html#a73efe787c131b385070f25d18b7c9aa4">EXIT_FAILURE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00357">357</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="aa5342ce6d2f4b877b88021c79ecdea8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5342ce6d2f4b877b88021c79ecdea8e">&#9670;&nbsp;</a></span>NO_DIE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_DIE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00198">198</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a32268e77144af7593cf09fcf9e7595dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32268e77144af7593cf09fcf9e7595dd">&#9670;&nbsp;</a></span>READ_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_CONFIG&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00203">203</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="acd2ea0453b6daf41446e84a9f24a2e83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd2ea0453b6daf41446e84a9f24a2e83">&#9670;&nbsp;</a></span>RESTORE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESTORE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00201">201</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a6d179734092a04a5b3df5d4ff20b929b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d179734092a04a5b3df5d4ff20b929b">&#9670;&nbsp;</a></span>SERVICE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERVICE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00202">202</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a58fc47bd4e5767fdb0f7410e41638521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58fc47bd4e5767fdb0f7410e41638521">&#9670;&nbsp;</a></span>simple_info_logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define simple_info_logger</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00354">354</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a0b932dc4d3073ffb4d597a2a4dd0df16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b932dc4d3073ffb4d597a2a4dd0df16">&#9670;&nbsp;</a></span>simple_msg_logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define simple_msg_logger</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00356">356</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="a5c7c6e94f3780ab97abc458f81d8e66e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c7c6e94f3780ab97abc458f81d8e66e">&#9670;&nbsp;</a></span>simple_msg_logger_and_die</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define simple_msg_logger_and_die</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d1/d85/exit_8c.html#a0866433db4b1b7d68a1422fa25867aea">exit</a>(<a class="el" href="../../d1/d7a/Userspace_2musl_2include_2stdlib_8h.html#a73efe787c131b385070f25d18b7c9aa4">EXIT_FAILURE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00358">358</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="ac829415013d8120cedee928452ae0f55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac829415013d8120cedee928452ae0f55">&#9670;&nbsp;</a></span>STRING_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STRING_LENGTH&#160;&#160;&#160;255</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00190">190</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<a id="aeb5b8a9664c45b817bf00533e8e487f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb5b8a9664c45b817bf00533e8e487f0">&#9670;&nbsp;</a></span>UID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UID&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00193">193</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad82bd6846aab0ba26318e0ac8bfef5ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad82bd6846aab0ba26318e0ac8bfef5ae">&#9670;&nbsp;</a></span>action_compat() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void action_compat </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00737">service_name()</a>.</p>

</div>
</div>
<a id="acdbea724ce7eea401b01fcea1bd80b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdbea724ce7eea401b01fcea1bd80b11">&#9670;&nbsp;</a></span>action_compat() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void action_compat </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00915">915</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;{</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *compat_name = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *dest_name = <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *ptr;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordtype">char</span> compat_buf[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>], dest_buf[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>];</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordtype">int</span> mode, host, bus, <a class="code" href="../../de/db1/fixdep_8c.html#a23b26cdb3a71f525caf03b57f68d47fa">target</a>, lun;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordtype">char</span> rewind_;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="comment">/* 1 to 5  &quot;scsi/&quot; , 6 to 9 &quot;ide/host&quot; */</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> fmt[] <a class="code" href="../../d4/d7f/getopt32_8c.html#a294cdd7960ba485bbf8285a68cba204e">ALIGN_PTR</a> = {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ,</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="stringliteral">&quot;sg/c%db%dt%du%d&quot;</span>,      <span class="comment">/* scsi/generic */</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="stringliteral">&quot;sd/c%db%dt%du%d&quot;</span>,      <span class="comment">/* scsi/disc */</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="stringliteral">&quot;sr/c%db%dt%du%d&quot;</span>,      <span class="comment">/* scsi/cd */</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        <span class="stringliteral">&quot;sd/c%db%dt%du%dp%d&quot;</span>,       <span class="comment">/* scsi/part */</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <span class="stringliteral">&quot;st/c%db%dt%du%dm%d%c&quot;</span>,     <span class="comment">/* scsi/mt */</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="stringliteral">&quot;ide/hd/c%db%dt%du%d&quot;</span>,      <span class="comment">/* ide/host/disc */</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="stringliteral">&quot;ide/cd/c%db%dt%du%d&quot;</span>,      <span class="comment">/* ide/host/cd */</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="stringliteral">&quot;ide/hd/c%db%dt%du%dp%d&quot;</span>,   <span class="comment">/* ide/host/part */</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="stringliteral">&quot;ide/mt/c%db%dt%du%d%s&quot;</span>,    <span class="comment">/* ide/host/mt */</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    };</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="comment">/*  First construct compatibility name  */</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a>) {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a8d3dba9cc2a465b94232d0f1ff6d75da">AC_MKOLDCOMPAT</a>:</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a4a5d434e301fcbad4cdde82445f87d38">AC_RMOLDCOMPAT</a>:</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            compat_name = <a class="code" href="../../d6/d3a/devfsd_8c.html#abe6393b1b7d35b9b93b1a0d60888affb">get_old_name</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;namelen, compat_buf, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;major, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;minor);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a7dedeed70daef7a56d505ffa3ddd3028">AC_MKNEWCOMPAT</a>:</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a001eab39c958f2d89cacc6d3b3a4cd53">AC_RMNEWCOMPAT</a>:</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            ptr = <a class="code" href="../../d7/dd7/libbb_8h.html#ae08d0a76a2c4bbeda2dbe9491d857bd6">bb_basename</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d6/d3a/devfsd_8c.html#aa0682e5279f7b4535e7a456b6d5f6360">scan_dev_name</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;namelen, ptr);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            <span class="comment">/* nothing found */</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 0 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &gt; 9)</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#acd369d6926dd1e1fb503821a8b167414">sscanf</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname + ((<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; 6) ? 5 : 4), <span class="stringliteral">&quot;host%d/bus%d/target%d/lun%d/&quot;</span>, &amp;host, &amp;bus, &amp;<a class="code" href="../../de/db1/fixdep_8c.html#a23b26cdb3a71f525caf03b57f68d47fa">target</a>, &amp;lun);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf</a>(dest_buf, <span class="keyword">sizeof</span>(dest_buf), <span class="stringliteral">&quot;../%s&quot;</span>, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname + (( <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &gt; 5) ? 4 : 0));</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            dest_name = dest_buf;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            compat_name = compat_buf;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <span class="comment">/* 1 == scsi/generic  2 == scsi/disc 3 == scsi/cd 6 == ide/host/disc 7 == ide/host/cd */</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 1 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 2 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 3 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 6 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> ==7)</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(compat_buf, fmt[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>], host, bus, <a class="code" href="../../de/db1/fixdep_8c.html#a23b26cdb3a71f525caf03b57f68d47fa">target</a>, lun);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            <span class="comment">/* 4 == scsi/part 8 == ide/host/part */</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 4 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 8)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(compat_buf, fmt[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>], host, bus, <a class="code" href="../../de/db1/fixdep_8c.html#a23b26cdb3a71f525caf03b57f68d47fa">target</a>, lun, <a class="code" href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a>(ptr + 4));</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; </div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            <span class="comment">/* 5 == scsi/mt */</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 5) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                rewind_ = <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;namelen - 1];</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                <span class="keywordflow">if</span> (rewind_ != <span class="charliteral">&#39;n&#39;</span>)</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                    rewind_ = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                mode = 0;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                <span class="keywordflow">if</span> (ptr[2] ==  <span class="charliteral">&#39;l&#39;</span> <span class="comment">/*108*/</span> || ptr[2] == <span class="charliteral">&#39;m&#39;</span><span class="comment">/*109*/</span>)</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                    mode = ptr[2] - 107; <span class="comment">/* 1 or 2 */</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                <span class="keywordflow">if</span> (ptr[2] ==  <span class="charliteral">&#39;a&#39;</span>)</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                    mode = 3;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(compat_buf, fmt[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>], host, bus, <a class="code" href="../../de/db1/fixdep_8c.html#a23b26cdb3a71f525caf03b57f68d47fa">target</a>, lun, mode, rewind_);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <span class="comment">/* 9 == ide/host/mt */</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> ==  9)</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf</a>(compat_buf, <span class="keyword">sizeof</span>(compat_buf), fmt[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>], host, bus, <a class="code" href="../../de/db1/fixdep_8c.html#a23b26cdb3a71f525caf03b57f68d47fa">target</a>, lun, ptr + 2);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="comment">/* esac */</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    } <span class="comment">/* switch (action) */</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">if</span> (compat_name == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="comment">/*  Now decide what to do with it  */</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a>) {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a8d3dba9cc2a465b94232d0f1ff6d75da">AC_MKOLDCOMPAT</a>:</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a7dedeed70daef7a56d505ffa3ddd3028">AC_MKNEWCOMPAT</a>:</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            <a class="code" href="../../d6/d3a/devfsd_8c.html#a83754cd7073ac2047027bbca3591b0b7">mksymlink</a>(dest_name, compat_name);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a4a5d434e301fcbad4cdde82445f87d38">AC_RMOLDCOMPAT</a>:</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a001eab39c958f2d89cacc6d3b3a4cd53">AC_RMNEWCOMPAT</a>:</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            ret = <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(compat_name);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <span class="keywordflow">if</span> (ENABLE_DEBUG &amp;&amp; ret)</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#a98eef27dcb9d4794b83b8ca504623188">error_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#a96fad55b3f5adf08c39e4c877cf185e3">LOG_ERR</a>, <span class="stringliteral">&quot;unlink: %s&quot;</span>, compat_name);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="comment">/*esac*/</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    } <span class="comment">/* switch (action) */</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}   <span class="comment">/*  End Function action_compat  */</span></div>
<div class="ttc" id="aKernel_2include_2printf_8h_html_a437169f8519f855cc045a0e23d3ca691"><div class="ttname"><a href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf</a></div><div class="ttdeci">PRINTF_VISIBILITY int snprintf(char *s, size_t count, const char *format,...) ATTR_PRINTF(3</div></div>
<div class="ttc" id="aKernel_2include_2printf_8h_html_a77dac04ed12a16543832b623c7778729"><div class="ttname"><a href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a></div><div class="ttdeci">PRINTF_VISIBILITY int sprintf(char *s, const char *format,...) ATTR_PRINTF(2</div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">types.h:37</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_acd369d6926dd1e1fb503821a8b167414"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#acd369d6926dd1e1fb503821a8b167414">sscanf</a></div><div class="ttdeci">int sscanf(const char *s, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00125">file.c:125</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_a4ade26dbdb332f64c44daf49ba949ff4"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a></div><div class="ttdeci">int unlink(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db3/musl_2src_2unistd_2unlink_8c_source.html#l00005">unlink.c:5</a></div></div>
<div class="ttc" id="aconvert_8h_html_a2032d00bcff61b1b912628210432b5c0"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a></div><div class="ttdeci">int atoi(const char *String)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc7/Convert_8cpp_source.html#l00540">Convert.cpp:540</a></div></div>
<div class="ttc" id="adebug_8h_html_aaef030dcfb502de87e0f47669c58c755"><div class="ttname"><a href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a></div><div class="ttdeci">#define info(Format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/debug_8h_source.html#l00088">debug.h:88</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a001eab39c958f2d89cacc6d3b3a4cd53"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a001eab39c958f2d89cacc6d3b3a4cd53">AC_RMNEWCOMPAT</a></div><div class="ttdeci">#define AC_RMNEWCOMPAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00223">devfsd.c:223</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a4a5d434e301fcbad4cdde82445f87d38"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a4a5d434e301fcbad4cdde82445f87d38">AC_RMOLDCOMPAT</a></div><div class="ttdeci">#define AC_RMOLDCOMPAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00222">devfsd.c:222</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a7dedeed70daef7a56d505ffa3ddd3028"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a7dedeed70daef7a56d505ffa3ddd3028">AC_MKNEWCOMPAT</a></div><div class="ttdeci">#define AC_MKNEWCOMPAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00221">devfsd.c:221</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a83754cd7073ac2047027bbca3591b0b7"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a83754cd7073ac2047027bbca3591b0b7">mksymlink</a></div><div class="ttdeci">static int mksymlink(const char *oldpath, const char *newpath)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01296">devfsd.c:1296</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a8d3dba9cc2a465b94232d0f1ff6d75da"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a8d3dba9cc2a465b94232d0f1ff6d75da">AC_MKOLDCOMPAT</a></div><div class="ttdeci">#define AC_MKOLDCOMPAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00220">devfsd.c:220</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a98eef27dcb9d4794b83b8ca504623188"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a98eef27dcb9d4794b83b8ca504623188">error_logger</a></div><div class="ttdeci">#define error_logger(p, fmt, args...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00359">devfsd.c:359</a></div></div>
<div class="ttc" id="adevfsd_8c_html_aa0682e5279f7b4535e7a456b6d5f6360"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#aa0682e5279f7b4535e7a456b6d5f6360">scan_dev_name</a></div><div class="ttdeci">static unsigned int scan_dev_name(const char *d, unsigned int n, const char *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00382">devfsd.c:382</a></div></div>
<div class="ttc" id="adevfsd_8c_html_abe6393b1b7d35b9b93b1a0d60888affb"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#abe6393b1b7d35b9b93b1a0d60888affb">get_old_name</a></div><div class="ttdeci">static const char * get_old_name(const char *, unsigned, char *, unsigned, unsigned)</div></div>
<div class="ttc" id="adevfsd_8c_html_ac829415013d8120cedee928452ae0f55"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a></div><div class="ttdeci">#define STRING_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00190">devfsd.c:190</a></div></div>
<div class="ttc" id="afind_8c_html_dd/d87/structaction"><div class="ttname"><a href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/find_8c_source.html#l00432">find.c:432</a></div></div>
<div class="ttc" id="afixdep_8c_html_a23b26cdb3a71f525caf03b57f68d47fa"><div class="ttname"><a href="../../de/db1/fixdep_8c.html#a23b26cdb3a71f525caf03b57f68d47fa">target</a></div><div class="ttdeci">char * target</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db1/fixdep_8c_source.html#l00125">fixdep.c:125</a></div></div>
<div class="ttc" id="agetopt32_8c_html_a294cdd7960ba485bbf8285a68cba204e"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a294cdd7960ba485bbf8285a68cba204e">ALIGN_PTR</a></div><div class="ttdeci">const char *const bb_argv_dash[] ALIGN_PTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00299">getopt32.c:299</a></div></div>
<div class="ttc" id="agettextP_8h_html_a68428151ad44e31b19041cdeb8972a91"><div class="ttname"><a href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a></div><div class="ttdeci">static nls_uint32 nls_uint32 i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d71/gettextP_8h_source.html#l00074">gettextP.h:74</a></div></div>
<div class="ttc" id="alibbb_8h_html_ae08d0a76a2c4bbeda2dbe9491d857bd6"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ae08d0a76a2c4bbeda2dbe9491d857bd6">bb_basename</a></div><div class="ttdeci">const char * bb_basename(const char *name) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db4/get__last__path__component_8c_source.html#l00011">get_last_path_component.c:11</a></div></div>
<div class="ttc" id="asyslog_8h_html_a96fad55b3f5adf08c39e4c877cf185e3"><div class="ttname"><a href="../../d7/d30/syslog_8h.html#a96fad55b3f5adf08c39e4c877cf185e3">LOG_ERR</a></div><div class="ttdeci">#define LOG_ERR</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d30/syslog_8h_source.html#l00013">syslog.h:13</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00221">AC_MKNEWCOMPAT</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00220">AC_MKOLDCOMPAT</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00223">AC_RMNEWCOMPAT</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00222">AC_RMOLDCOMPAT</a>, <a class="el" href="../../d4/d7f/getopt32_8c_source.html#l00299">ALIGN_PTR</a>, <a class="el" href="../../d0/dc7/Convert_8cpp_source.html#l00540">atoi()</a>, <a class="el" href="../../db/db4/get__last__path__component_8c_source.html#l00011">bb_basename()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00359">error_logger</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#abe6393b1b7d35b9b93b1a0d60888affb">get_old_name()</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00013">LOG_ERR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01296">mksymlink()</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00382">scan_dev_name()</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf()</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00125">sscanf()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00190">STRING_LENGTH</a>, <a class="el" href="../../de/db1/fixdep_8c_source.html#l00125">target</a>, and <a class="el" href="../../d8/db3/musl_2src_2unistd_2unlink_8c_source.html#l00005">unlink()</a>.</p>

</div>
</div>
<a id="a7002f616325c7d63e7a3ad7988083563"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7002f616325c7d63e7a3ad7988083563">&#9670;&nbsp;</a></span>action_copy() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void action_copy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00737">service_name()</a>.</p>

</div>
</div>
<a id="a6de9e6db8879d086357412d048b3a821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6de9e6db8879d086357412d048b3a821">&#9670;&nbsp;</a></span>action_copy() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void action_copy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *&#160;</td>
          <td class="paramname"><em>regexpr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>numexpr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00868">868</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;{</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#ad2933406ba93c0e0d1884fc09c18a0bf">mode_t</a> new_mode;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d3a/devfsd_8c.html#dd/d0b/structget__variable__info">get_variable_info</a> gv_info;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> source_stat, dest_stat;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d5/def/y_8tab_8c.html#a809c6dcae62bd9288eabd81fa9e6e95e">source</a>[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>], destination[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>];</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    dest_stat.st_mode = 0;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;type == <a class="code" href="../../d6/d3a/devfsd_8c.html#a90c062cce931d5a4144fa0f3faaa5397">DEVFSD_NOTIFY_CHANGE</a>) &amp;&amp; <a class="code" href="../../d1/d85/filesystem_8hpp.html#a765eef536bcb3bd7bacdd675dc2fba13">S_ISLNK</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;mode))</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    gv_info.info = <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    gv_info.devname = <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf</a>(gv_info.devpath, <span class="keyword">sizeof</span>(gv_info.devpath), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a>, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a891fd6a43e2c4668dedda0eaac5316ea">expand_expression</a>(<a class="code" href="../../d5/def/y_8tab_8c.html#a809c6dcae62bd9288eabd81fa9e6e95e">source</a>, <a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>, <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u.copy.source,</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#a98b3b0660d1f8cb5a60ddfe58f38ea0b">get_variable</a>, &amp;gv_info, gv_info.devname,</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                regexpr, numexpr);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a891fd6a43e2c4668dedda0eaac5316ea">expand_expression</a>(destination, <a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>, <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u.copy.destination,</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#a98b3b0660d1f8cb5a60ddfe58f38ea0b">get_variable</a>, &amp;gv_info, gv_info.devname,</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                regexpr, numexpr);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d3a/devfsd_8c.html#a16e7cc5436b7470e6f01327bbc244953">make_dir_tree</a>(destination) || <a class="code" href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c.html#ae730c85752284268b39560df693cb207">lstat</a>(<a class="code" href="../../d5/def/y_8tab_8c.html#a809c6dcae62bd9288eabd81fa9e6e95e">source</a>, &amp;source_stat) != 0)</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <a class="code" href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c.html#ae730c85752284268b39560df693cb207">lstat</a>(destination, &amp;dest_stat);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    new_mode = source_stat.st_mode &amp; ~<a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#a97b5e445a72c99b37dc5b8d620fbd14e">S_ISVTX</a>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;type == <a class="code" href="../../d6/d3a/devfsd_8c.html#a7b307fc4d0efbdbdf5110cd166924da3">DEVFSD_NOTIFY_CREATE</a>)</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        new_mode |= <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#a97b5e445a72c99b37dc5b8d620fbd14e">S_ISVTX</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;type == <a class="code" href="../../d6/d3a/devfsd_8c.html#a90c062cce931d5a4144fa0f3faaa5397">DEVFSD_NOTIFY_CHANGE</a>) &amp;&amp;(dest_stat.st_mode &amp; <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#a97b5e445a72c99b37dc5b8d620fbd14e">S_ISVTX</a>))</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        new_mode |= <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#a97b5e445a72c99b37dc5b8d620fbd14e">S_ISVTX</a>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    ret = <a class="code" href="../../d6/d3a/devfsd_8c.html#a2b8bdd0feeec019e21c00fb876491dac">copy_inode</a>(destination, &amp;dest_stat, new_mode, <a class="code" href="../../d5/def/y_8tab_8c.html#a809c6dcae62bd9288eabd81fa9e6e95e">source</a>, &amp;source_stat);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">if</span> (ENABLE_DEBUG &amp;&amp; ret &amp;&amp; (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> != <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a0a3bef9e5c47e42917692b5dae3b5498">EEXIST</a>))</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a98eef27dcb9d4794b83b8ca504623188">error_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#a96fad55b3f5adf08c39e4c877cf185e3">LOG_ERR</a>, <span class="stringliteral">&quot;copy_inode: %s to %s&quot;</span>, <a class="code" href="../../d5/def/y_8tab_8c.html#a809c6dcae62bd9288eabd81fa9e6e95e">source</a>, destination);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}   <span class="comment">/*  End Function action_copy  */</span></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a0a3bef9e5c47e42917692b5dae3b5498"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a0a3bef9e5c47e42917692b5dae3b5498">EEXIST</a></div><div class="ttdeci">#define EEXIST</div><div class="ttdoc">File exists.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00070">errno.h:70</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_ab03f640d90fbc5bcb75285d08a0f25ed"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a></div><div class="ttdeci">#define errno</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00409">errno.h:409</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2sys_2stat_8h_html_ad2933406ba93c0e0d1884fc09c18a0bf"><div class="ttname"><a href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#ad2933406ba93c0e0d1884fc09c18a0bf">mode_t</a></div><div class="ttdeci">#define mode_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h_source.html#l00011">stat.h:11</a></div></div>
<div class="ttc" id="aUserspace_2musl_2arch_2x86__64_2bits_2stat_8h_html_da/de7/structstat"><div class="ttname"><a href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00077">filesystem.hpp:78</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2getcwd_8c_html_ae730c85752284268b39560df693cb207"><div class="ttname"><a href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c.html#ae730c85752284268b39560df693cb207">lstat</a></div><div class="ttdeci">#define lstat</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c_source.html#l00064">getcwd.c:64</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a059fdb8aae496c0916e50f5bd4ac8ab3"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a></div><div class="ttdeci">static char * mount_point</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00306">devfsd.c:306</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a16e7cc5436b7470e6f01327bbc244953"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a16e7cc5436b7470e6f01327bbc244953">make_dir_tree</a></div><div class="ttdeci">static int make_dir_tree(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01314">devfsd.c:1314</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a2b8bdd0feeec019e21c00fb876491dac"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a2b8bdd0feeec019e21c00fb876491dac">copy_inode</a></div><div class="ttdeci">static int copy_inode(const char *, const struct stat *, mode_t, const char *, const struct stat *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01029">devfsd.c:1029</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a7b307fc4d0efbdbdf5110cd166924da3"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a7b307fc4d0efbdbdf5110cd166924da3">DEVFSD_NOTIFY_CREATE</a></div><div class="ttdeci">#define DEVFSD_NOTIFY_CREATE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00162">devfsd.c:162</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a891fd6a43e2c4668dedda0eaac5316ea"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a891fd6a43e2c4668dedda0eaac5316ea">expand_expression</a></div><div class="ttdeci">static int expand_expression(char *, unsigned, const char *, const char *(*)(const char *, void *), void *, const char *, const regmatch_t *, unsigned)</div></div>
<div class="ttc" id="adevfsd_8c_html_a90c062cce931d5a4144fa0f3faaa5397"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a90c062cce931d5a4144fa0f3faaa5397">DEVFSD_NOTIFY_CHANGE</a></div><div class="ttdeci">#define DEVFSD_NOTIFY_CHANGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00161">devfsd.c:161</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a98b3b0660d1f8cb5a60ddfe58f38ea0b"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a98b3b0660d1f8cb5a60ddfe58f38ea0b">get_variable</a></div><div class="ttdeci">static const char * get_variable(const char *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01206">devfsd.c:1206</a></div></div>
<div class="ttc" id="adevfsd_8c_html_dd/d0b/structget__variable__info"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#dd/d0b/structget__variable__info">get_variable_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00259">devfsd.c:259</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a765eef536bcb3bd7bacdd675dc2fba13"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a765eef536bcb3bd7bacdd675dc2fba13">S_ISLNK</a></div><div class="ttdeci">#define S_ISLNK(mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00074">filesystem.hpp:74</a></div></div>
<div class="ttc" id="amusl_2include_2fcntl_8h_html_a97b5e445a72c99b37dc5b8d620fbd14e"><div class="ttname"><a href="../../d2/d44/musl_2include_2fcntl_8h.html#a97b5e445a72c99b37dc5b8d620fbd14e">S_ISVTX</a></div><div class="ttdeci">#define S_ISVTX</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d44/musl_2include_2fcntl_8h_source.html#l00085">fcntl.h:85</a></div></div>
<div class="ttc" id="asearch_8h_html_d3/d96/structentry"><div class="ttname"><a href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00016">search.h:16</a></div></div>
<div class="ttc" id="ay_8tab_8c_html_a809c6dcae62bd9288eabd81fa9e6e95e"><div class="ttname"><a href="../../d5/def/y_8tab_8c.html#a809c6dcae62bd9288eabd81fa9e6e95e">source</a></div><div class="ttdeci">static REDIRECTEE source</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/def/y_8tab_8c_source.html#l00381">y.tab.c:381</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01029">copy_inode()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00161">DEVFSD_NOTIFY_CHANGE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00162">DEVFSD_NOTIFY_CREATE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00261">get_variable_info::devname</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00262">get_variable_info::devpath</a>, <a class="el" href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00070">EEXIST</a>, <a class="el" href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00409">errno</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00359">error_logger</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#a891fd6a43e2c4668dedda0eaac5316ea">expand_expression()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01206">get_variable()</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00260">get_variable_info::info</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00013">LOG_ERR</a>, <a class="el" href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c_source.html#l00064">lstat</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01314">make_dir_tree()</a>, <a class="el" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h_source.html#l00011">mode_t</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00306">mount_point</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00074">S_ISLNK</a>, <a class="el" href="../../d2/d44/musl_2include_2fcntl_8h_source.html#l00085">S_ISVTX</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf()</a>, <a class="el" href="../../d5/def/y_8tab_8c_source.html#l00381">source</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00081">stat::st_mode</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00190">STRING_LENGTH</a>.</p>

</div>
</div>
<a id="ac94504760e78e131fd311f717f006f65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac94504760e78e131fd311f717f006f65">&#9670;&nbsp;</a></span>action_execute() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void action_execute </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00737">service_name()</a>.</p>

</div>
</div>
<a id="a4be8f45d650d826f80b98f3a89246a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4be8f45d650d826f80b98f3a89246a10">&#9670;&nbsp;</a></span>action_execute() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void action_execute </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *&#160;</td>
          <td class="paramname"><em>regexpr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>numexpr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00836">836</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;{</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d3a/devfsd_8c.html#dd/d0b/structget__variable__info">get_variable_info</a> gv_info;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d6/d3a/devfsd_8c.html#a29b7451465deac204c5f7cb1f9c6e1fc">MAX_ARGS</a> + 1];</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordtype">char</span> largv[<a class="code" href="../../d6/d3a/devfsd_8c.html#a29b7451465deac204c5f7cb1f9c6e1fc">MAX_ARGS</a> + 1][<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>];</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    gv_info.info = <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    gv_info.devname = <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf</a>(gv_info.devpath, <span class="keyword">sizeof</span>(gv_info.devpath), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a>, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> = 0; <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u.execute.argv[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>] != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; ++<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a891fd6a43e2c4668dedda0eaac5316ea">expand_expression</a>(largv[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>], <a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>,</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u.execute.argv[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>],</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#a98b3b0660d1f8cb5a60ddfe58f38ea0b">get_variable</a>, &amp;gv_info,</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                gv_info.devname, regexpr, numexpr);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>] = largv[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>];</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>] = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a9b84b0a650187c93e71439513dae44d3">spawn_and_wait</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;}   <span class="comment">/*  End Function action_execute  */</span></div>
<div class="ttc" id="abash_2test_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">static char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00110">test.c:110</a></div></div>
<div class="ttc" id="add_8c_html_ac74ae34e9c58234aacabb6867b245c58"><div class="ttname"><a href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a></div><div class="ttdeci">#define count</div></div>
<div class="ttc" id="adevfsd_8c_html_a29b7451465deac204c5f7cb1f9c6e1fc"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a29b7451465deac204c5f7cb1f9c6e1fc">MAX_ARGS</a></div><div class="ttdeci">#define MAX_ARGS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00188">devfsd.c:188</a></div></div>
<div class="ttc" id="alibbb_8h_html_a9b84b0a650187c93e71439513dae44d3"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a9b84b0a650187c93e71439513dae44d3">spawn_and_wait</a></div><div class="ttdeci">int spawn_and_wait(char **argv) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc2/vfork__daemon__rexec_8c_source.html#l00225">vfork_daemon_rexec.c:225</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00110">argv</a>, <a class="el" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00261">get_variable_info::devname</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00262">get_variable_info::devpath</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#a891fd6a43e2c4668dedda0eaac5316ea">expand_expression()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01206">get_variable()</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00260">get_variable_info::info</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00188">MAX_ARGS</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00306">mount_point</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf()</a>, <a class="el" href="../../d5/dc2/vfork__daemon__rexec_8c_source.html#l00225">spawn_and_wait()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00190">STRING_LENGTH</a>.</p>

</div>
</div>
<a id="a4f57c74d1a2a386bac1842e9af866db4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f57c74d1a2a386bac1842e9af866db4">&#9670;&nbsp;</a></span>action_modload() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void action_modload </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *<a class="el" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>&#160;</td>
          <td class="paramname"><em>UNUSED_PARAM</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00815">815</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;{</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[6];</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0] = (<span class="keywordtype">char</span>*)<a class="code" href="../../d6/d3a/devfsd_8c.html#afbf52fc67e119bfbdc0abe9eb9691cac">MODPROBE</a>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1] = (<span class="keywordtype">char</span>*)<a class="code" href="../../d6/d3a/devfsd_8c.html#ab53bfd761e847236221c29b31c0d9948">MODPROBE_SWITCH_1</a>; <span class="comment">/* &quot;-k&quot; */</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[2] = (<span class="keywordtype">char</span>*)<a class="code" href="../../d6/d3a/devfsd_8c.html#aab62b5dcd8683c238ecc019a7de2ea20">MODPROBE_SWITCH_2</a>; <span class="comment">/* &quot;-C&quot; */</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[3] = (<span class="keywordtype">char</span>*)<a class="code" href="../../d6/d3a/devfsd_8c.html#a16e5a1eb58c62224ca540c635ebe7f5a">CONFIG_MODULES_DEVFS</a>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[4] = <a class="code" href="../../d7/dd7/libbb_8h.html#a8e1240ef7e70d7d55a00ce3b75b26cb2">concat_path_file</a>(<span class="stringliteral">&quot;/dev&quot;</span>, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname); <span class="comment">/* device */</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[5] = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a9b84b0a650187c93e71439513dae44d3">spawn_and_wait</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[4]);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;}  <span class="comment">/*  End Function action_modload  */</span></div>
<div class="ttc" id="adevfsd_8c_html_a16e5a1eb58c62224ca540c635ebe7f5a"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a16e5a1eb58c62224ca540c635ebe7f5a">CONFIG_MODULES_DEVFS</a></div><div class="ttdeci">#define CONFIG_MODULES_DEVFS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00187">devfsd.c:187</a></div></div>
<div class="ttc" id="adevfsd_8c_html_aab62b5dcd8683c238ecc019a7de2ea20"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#aab62b5dcd8683c238ecc019a7de2ea20">MODPROBE_SWITCH_2</a></div><div class="ttdeci">#define MODPROBE_SWITCH_2</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00186">devfsd.c:186</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ab53bfd761e847236221c29b31c0d9948"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ab53bfd761e847236221c29b31c0d9948">MODPROBE_SWITCH_1</a></div><div class="ttdeci">#define MODPROBE_SWITCH_1</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00185">devfsd.c:185</a></div></div>
<div class="ttc" id="adevfsd_8c_html_afbf52fc67e119bfbdc0abe9eb9691cac"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#afbf52fc67e119bfbdc0abe9eb9691cac">MODPROBE</a></div><div class="ttdeci">#define MODPROBE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00184">devfsd.c:184</a></div></div>
<div class="ttc" id="adynlink_8c_html_a2c6efa7679f8cd9f61af96e105017560"><div class="ttname"><a href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a></div><div class="ttdeci">#define free</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/dynlink_8c_source.html#l00036">dynlink.c:36</a></div></div>
<div class="ttc" id="alibbb_8h_html_a8e1240ef7e70d7d55a00ce3b75b26cb2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a8e1240ef7e70d7d55a00ce3b75b26cb2">concat_path_file</a></div><div class="ttdeci">char * concat_path_file(const char *path, const char *filename) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d14/concat__path__file_8c_source.html#l00018">concat_path_file.c:18</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00110">argv</a>, <a class="el" href="../../da/d14/concat__path__file_8c_source.html#l00018">concat_path_file()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00187">CONFIG_MODULES_DEVFS</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00184">MODPROBE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00185">MODPROBE_SWITCH_1</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00186">MODPROBE_SWITCH_2</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, and <a class="el" href="../../d5/dc2/vfork__daemon__rexec_8c_source.html#l00225">spawn_and_wait()</a>.</p>

</div>
</div>
<a id="adbb947d42ad859adf92b5d665dece32e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbb947d42ad859adf92b5d665dece32e">&#9670;&nbsp;</a></span>action_modload() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void action_modload </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00737">service_name()</a>.</p>

</div>
</div>
<a id="a5428ee986c8ca841a42213b5c2356278"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5428ee986c8ca841a42213b5c2356278">&#9670;&nbsp;</a></span>action_permissions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void action_permissions </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00798">798</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;{</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> statbuf;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname, &amp;statbuf) != 0</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;     || <a class="code" href="../../dd/d14/Userspace_2musl_2include_2sys_2stat_8h.html#a8cc8aedb61feb586f260f56c29984eee">chmod</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname, (statbuf.st_mode &amp; <a class="code" href="../../d1/d85/filesystem_8hpp.html#ab5bee51e9ee68b83ab11d4b340f7200b">S_IFMT</a>) | (<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u.permissions.mode &amp; ~<a class="code" href="../../d1/d85/filesystem_8hpp.html#ab5bee51e9ee68b83ab11d4b340f7200b">S_IFMT</a>)) != 0</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;     || <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a4c362a3bec165d1c3e851d0c837b78fa">chown</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname, <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u.permissions.uid, <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u.permissions.gid) != 0</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    )</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a98eef27dcb9d4794b83b8ca504623188">error_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#a96fad55b3f5adf08c39e4c877cf185e3">LOG_ERR</a>, <span class="stringliteral">&quot;Can&#39;t chmod or chown: %s&quot;</span>, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;}   <span class="comment">/*  End Function action_permissions  */</span></div>
<div class="ttc" id="aKernel__IO_8cpp_html_a495553b93f6e4b88e7d82195f189cb22"><div class="ttname"><a href="../../d0/db0/Kernel__IO_8cpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a></div><div class="ttdeci">int stat(const char *pathname, struct stat *statbuf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db0/Kernel__IO_8cpp_source.html#l00117">Kernel_IO.cpp:117</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2sys_2stat_8h_html_a8cc8aedb61feb586f260f56c29984eee"><div class="ttname"><a href="../../dd/d14/Userspace_2musl_2include_2sys_2stat_8h.html#a8cc8aedb61feb586f260f56c29984eee">chmod</a></div><div class="ttdeci">int chmod(const char *, mode_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df6/musl_2src_2stat_2chmod_8c_source.html#l00005">chmod.c:5</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_a4c362a3bec165d1c3e851d0c837b78fa"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a4c362a3bec165d1c3e851d0c837b78fa">chown</a></div><div class="ttdeci">int chown(const char *, uid_t, gid_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d40/musl_2src_2unistd_2chown_8c_source.html#l00005">chown.c:5</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_ab5bee51e9ee68b83ab11d4b340f7200b"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#ab5bee51e9ee68b83ab11d4b340f7200b">S_IFMT</a></div><div class="ttdeci">#define S_IFMT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00067">filesystem.hpp:67</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/df6/musl_2src_2stat_2chmod_8c_source.html#l00005">chmod()</a>, <a class="el" href="../../d1/d40/musl_2src_2unistd_2chown_8c_source.html#l00005">chown()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00359">error_logger</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00013">LOG_ERR</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00067">S_IFMT</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00081">stat::st_mode</a>, and <a class="el" href="../../d0/db0/Kernel__IO_8cpp_source.html#l00117">stat()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00737">service_name()</a>.</p>

</div>
</div>
<a id="a2b8bdd0feeec019e21c00fb876491dac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b8bdd0feeec019e21c00fb876491dac">&#9670;&nbsp;</a></span>copy_inode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int copy_inode </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>destpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> *&#160;</td>
          <td class="paramname"><em>dest_stat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#ad2933406ba93c0e0d1884fc09c18a0bf">mode_t</a>&#160;</td>
          <td class="paramname"><em>new_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sourcepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> *&#160;</td>
          <td class="paramname"><em>source_stat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01029">1029</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;{</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordtype">int</span> source_len, dest_len;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordtype">char</span> source_link[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>], dest_link[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>];</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../da/d4b/un_8h.html#d6/d73/structsockaddr__un">sockaddr_un</a> un_addr;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordtype">char</span> symlink_val[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>];</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">if</span> ((source_stat-&gt;<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a> &amp; <a class="code" href="../../d1/d85/filesystem_8hpp.html#ab5bee51e9ee68b83ab11d4b340f7200b">S_IFMT</a>) ==(dest_stat-&gt;<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a> &amp; <a class="code" href="../../d1/d85/filesystem_8hpp.html#ab5bee51e9ee68b83ab11d4b340f7200b">S_IFMT</a>)) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="comment">/*  Same type  */</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d85/filesystem_8hpp.html#a765eef536bcb3bd7bacdd675dc2fba13">S_ISLNK</a>(source_stat-&gt;<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a>)) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            source_len = <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a5e59ecb0dc04c87c30ac47226f329fe4">readlink</a>(sourcepath, source_link, <a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a> - 1);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            <span class="keywordflow">if</span> ((source_len &lt; 0)</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;             || (dest_len = <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a5e59ecb0dc04c87c30ac47226f329fe4">readlink</a>(destpath, dest_link, <a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a> - 1)) &lt; 0</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            )</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            source_link[source_len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            dest_link[dest_len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <span class="keywordflow">if</span> ((source_len != dest_len) || (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(source_link, dest_link) != 0)) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(destpath);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#aeb52d1ca2084a65df369e6d8fb082eec">symlink</a>(source_link, destpath);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        }   <span class="comment">/*  Else not a symlink  */</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <a class="code" href="../../dd/d14/Userspace_2musl_2include_2sys_2stat_8h.html#a8cc8aedb61feb586f260f56c29984eee">chmod</a>(destpath, new_mode &amp; ~<a class="code" href="../../d1/d85/filesystem_8hpp.html#ab5bee51e9ee68b83ab11d4b340f7200b">S_IFMT</a>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a4c362a3bec165d1c3e851d0c837b78fa">chown</a>(destpath, source_stat-&gt;<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a4a8708a3d18be60ee7b2f06c4cab0c70">st_uid</a>, source_stat-&gt;<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#ab864f16f436cec370f0ced585d897698">st_gid</a>);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="comment">/*  Different types: unlink and create  */</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(destpath);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">switch</span> (source_stat-&gt;<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a> &amp; <a class="code" href="../../d1/d85/filesystem_8hpp.html#ab5bee51e9ee68b83ab11d4b340f7200b">S_IFMT</a>) {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/d85/filesystem_8hpp.html#a28e80cd43106882904be148b2a397d42">S_IFSOCK</a>:</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#ad8757ba7b643ff8279abf9593f543494">socket</a>(<a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#a0fd8739854bc8b48d65f0b669fed3ffe">AF_UNIX</a>, <a class="code" href="../../d6/d46/arch_2mips_2bits_2socket_8h.html#a249394484f9410a2e3f8eba24657feb9">SOCK_STREAM</a>, 0);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0)</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            un_addr.sun_family = <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#a0fd8739854bc8b48d65f0b669fed3ffe">AF_UNIX</a>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf</a>(un_addr.sun_path, <span class="keyword">sizeof</span>(un_addr.sun_path), <span class="stringliteral">&quot;%s&quot;</span>, destpath);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a> = <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#a094a361ee16e223113c7d037ef90e4a0">bind</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, (<span class="keyword">struct</span> <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#d5/dad/structsockaddr">sockaddr</a> *) &amp;un_addr, (<span class="keywordtype">int</span>) <span class="keyword">sizeof</span> un_addr);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a> != 0 || <a class="code" href="../../dd/d14/Userspace_2musl_2include_2sys_2stat_8h.html#a8cc8aedb61feb586f260f56c29984eee">chmod</a>(destpath, new_mode &amp; ~<a class="code" href="../../d1/d85/filesystem_8hpp.html#ab5bee51e9ee68b83ab11d4b340f7200b">S_IFMT</a>) != 0)</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            <span class="keywordflow">goto</span> do_chown;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/d85/filesystem_8hpp.html#afef163ce62372757e84bd9fc88c07aad">S_IFLNK</a>:</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a> = <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a5e59ecb0dc04c87c30ac47226f329fe4">readlink</a>(sourcepath, symlink_val, <a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a> - 1);</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a> &lt; 0)</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            symlink_val[<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#aeb52d1ca2084a65df369e6d8fb082eec">symlink</a>(symlink_val, destpath) == 0)</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/d85/filesystem_8hpp.html#a1aaa48b192a5dd3b6d7ee91fc98cd17d">S_IFREG</a>:</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(destpath, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a> | <a class="code" href="../../d1/d85/filesystem_8hpp.html#a1cf6b1de1fffedaa1d26b189e9a8d2cc">O_CREAT</a>, new_mode &amp; ~<a class="code" href="../../d1/d85/filesystem_8hpp.html#ab5bee51e9ee68b83ab11d4b340f7200b">S_IFMT</a>);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0)</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/d14/Userspace_2musl_2include_2sys_2stat_8h.html#a8cc8aedb61feb586f260f56c29984eee">chmod</a>(destpath, new_mode &amp; ~<a class="code" href="../../d1/d85/filesystem_8hpp.html#ab5bee51e9ee68b83ab11d4b340f7200b">S_IFMT</a>) != 0)</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            <span class="keywordflow">goto</span> do_chown;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/d85/filesystem_8hpp.html#a5c5b74a1cb1a1ae83572500b94e1938f">S_IFBLK</a>:</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/d85/filesystem_8hpp.html#aef3a1d1ba22c83e30b5c834dd343b2a8">S_IFCHR</a>:</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/d85/filesystem_8hpp.html#a4966f25d9f03a7a06bc47ac729fd86cf">S_IFIFO</a>:</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/dc3/musl_2src_2stat_2mknod_8c.html#a8ada37e3927c3e99ea7c1accfdc6576f">mknod</a>(destpath, new_mode, source_stat-&gt;<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#aa61e6c1a8a91c69f1d26f6700a0546cb">st_rdev</a>) != 0)</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            <span class="keywordflow">goto</span> do_chown;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/d85/filesystem_8hpp.html#a11fb0652b963a735f3377eb1c9239f2d">S_IFDIR</a>:</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#a548e5b744ca2e97beb61ad7aa41114e2">mkdir</a>(destpath, new_mode &amp; ~<a class="code" href="../../d1/d85/filesystem_8hpp.html#ab5bee51e9ee68b83ab11d4b340f7200b">S_IFMT</a>) != 0)</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;do_chown:</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a4c362a3bec165d1c3e851d0c837b78fa">chown</a>(destpath, source_stat-&gt;<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a4a8708a3d18be60ee7b2f06c4cab0c70">st_uid</a>, source_stat-&gt;<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#ab864f16f436cec370f0ced585d897698">st_gid</a>) == 0)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <span class="comment">/*break;*/</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;}   <span class="comment">/*  End Function copy_inode  */</span></div>
<div class="ttc" id="aUserspace_2libc_2include_2sys_2stat_8h_html_a548e5b744ca2e97beb61ad7aa41114e2"><div class="ttname"><a href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#a548e5b744ca2e97beb61ad7aa41114e2">mkdir</a></div><div class="ttdeci">int mkdir(const char *path, mode_t mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfb/sys__stat_8c_source.html#l00005">sys_stat.c:5</a></div></div>
<div class="ttc" id="aUserspace_2musl_2arch_2x86__64_2bits_2stat_8h_html_a4a8708a3d18be60ee7b2f06c4cab0c70"><div class="ttname"><a href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a4a8708a3d18be60ee7b2f06c4cab0c70">stat::st_uid</a></div><div class="ttdeci">uid_t st_uid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00084">filesystem.hpp:84</a></div></div>
<div class="ttc" id="aUserspace_2musl_2arch_2x86__64_2bits_2stat_8h_html_a5cbdd829011af82ba61e83773bbcbc7d"><div class="ttname"><a href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">stat::st_mode</a></div><div class="ttdeci">mode_t st_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00081">filesystem.hpp:81</a></div></div>
<div class="ttc" id="aUserspace_2musl_2arch_2x86__64_2bits_2stat_8h_html_aa61e6c1a8a91c69f1d26f6700a0546cb"><div class="ttname"><a href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#aa61e6c1a8a91c69f1d26f6700a0546cb">stat::st_rdev</a></div><div class="ttdeci">dev_t st_rdev</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00086">filesystem.hpp:86</a></div></div>
<div class="ttc" id="aUserspace_2musl_2arch_2x86__64_2bits_2stat_8h_html_ab864f16f436cec370f0ced585d897698"><div class="ttname"><a href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#ab864f16f436cec370f0ced585d897698">stat::st_gid</a></div><div class="ttdeci">gid_t st_gid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00085">filesystem.hpp:85</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_a5e59ecb0dc04c87c30ac47226f329fe4"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a5e59ecb0dc04c87c30ac47226f329fe4">readlink</a></div><div class="ttdeci">ssize_t readlink(const char *__restrict, char *__restrict, size_t)</div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_ae152484c890a24e4d9b4980e7b965be0"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a></div><div class="ttdeci">int close(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d22/close_8c_source.html#l00013">close.c:13</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_aeb52d1ca2084a65df369e6d8fb082eec"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#aeb52d1ca2084a65df369e6d8fb082eec">symlink</a></div><div class="ttdeci">int symlink(const char *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d85/symlink_8c_source.html#l00005">symlink.c:5</a></div></div>
<div class="ttc" id="aarch_2mips_2bits_2socket_8h_html_a249394484f9410a2e3f8eba24657feb9"><div class="ttname"><a href="../../d6/d46/arch_2mips_2bits_2socket_8h.html#a249394484f9410a2e3f8eba24657feb9">SOCK_STREAM</a></div><div class="ttdeci">#define SOCK_STREAM</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d46/arch_2mips_2bits_2socket_8h_source.html#l00001">socket.h:1</a></div></div>
<div class="ttc" id="abash_2test_8c_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00095">test.c:95</a></div></div>
<div class="ttc" id="abash_2test_8c_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00096">test.c:96</a></div></div>
<div class="ttc" id="adynlink_8c_html_af3054366f27929432795c5ae420a5294"><div class="ttname"><a href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a></div><div class="ttdeci">#define strcmp(l, r)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/dynlink_8c_source.html#l00174">dynlink.c:174</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a11fb0652b963a735f3377eb1c9239f2d"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a11fb0652b963a735f3377eb1c9239f2d">S_IFDIR</a></div><div class="ttdeci">#define S_IFDIR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00061">filesystem.hpp:61</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a1aaa48b192a5dd3b6d7ee91fc98cd17d"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a1aaa48b192a5dd3b6d7ee91fc98cd17d">S_IFREG</a></div><div class="ttdeci">#define S_IFREG</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00063">filesystem.hpp:63</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a1cf6b1de1fffedaa1d26b189e9a8d2cc"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a1cf6b1de1fffedaa1d26b189e9a8d2cc">O_CREAT</a></div><div class="ttdeci">#define O_CREAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00053">filesystem.hpp:53</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a28e80cd43106882904be148b2a397d42"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a28e80cd43106882904be148b2a397d42">S_IFSOCK</a></div><div class="ttdeci">#define S_IFSOCK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00065">filesystem.hpp:65</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a4966f25d9f03a7a06bc47ac729fd86cf"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a4966f25d9f03a7a06bc47ac729fd86cf">S_IFIFO</a></div><div class="ttdeci">#define S_IFIFO</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00059">filesystem.hpp:59</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a5c5b74a1cb1a1ae83572500b94e1938f"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a5c5b74a1cb1a1ae83572500b94e1938f">S_IFBLK</a></div><div class="ttdeci">#define S_IFBLK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00062">filesystem.hpp:62</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a7a68c9ffaac7dbcd652225dd7c06a54b"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a></div><div class="ttdeci">#define O_RDONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00050">filesystem.hpp:50</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_aef3a1d1ba22c83e30b5c834dd343b2a8"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#aef3a1d1ba22c83e30b5c834dd343b2a8">S_IFCHR</a></div><div class="ttdeci">#define S_IFCHR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00060">filesystem.hpp:60</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_afef163ce62372757e84bd9fc88c07aad"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#afef163ce62372757e84bd9fc88c07aad">S_IFLNK</a></div><div class="ttdeci">#define S_IFLNK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00064">filesystem.hpp:64</a></div></div>
<div class="ttc" id="ahdparm_8c_html_aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42"><div class="ttname"><a href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a></div><div class="ttdeci">@ fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/hdparm_8c_source.html#l00352">hdparm.c:352</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_a094a361ee16e223113c7d037ef90e4a0"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#a094a361ee16e223113c7d037ef90e4a0">bind</a></div><div class="ttdeci">int bind(int, const struct sockaddr *, socklen_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d6e/musl_2src_2network_2bind_8c_source.html#l00004">bind.c:4</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_a0fd8739854bc8b48d65f0b669fed3ffe"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#a0fd8739854bc8b48d65f0b669fed3ffe">AF_UNIX</a></div><div class="ttdeci">#define AF_UNIX</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/include_2sys_2socket_8h_source.html#l00151">socket.h:151</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_ad8757ba7b643ff8279abf9593f543494"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#ad8757ba7b643ff8279abf9593f543494">socket</a></div><div class="ttdeci">int socket(int, int, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df0/musl_2src_2network_2socket_8c_source.html#l00006">socket.c:6</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_d5/dad/structsockaddr"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#d5/dad/structsockaddr">sockaddr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/include_2sys_2socket_8h_source.html#l00369">socket.h:369</a></div></div>
<div class="ttc" id="amusl_2include_2fcntl_8h_html_aa138ddaa9bbe8b8ccca32ed43e75b72c"><div class="ttname"><a href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a></div><div class="ttdeci">int open(const char *, int,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/deb/open_8c_source.html#l00005">open.c:5</a></div></div>
<div class="ttc" id="amusl_2src_2stat_2mknod_8c_html_a8ada37e3927c3e99ea7c1accfdc6576f"><div class="ttname"><a href="../../d2/dc3/musl_2src_2stat_2mknod_8c.html#a8ada37e3927c3e99ea7c1accfdc6576f">mknod</a></div><div class="ttdeci">int mknod(const char *path, mode_t mode, dev_t dev)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc3/musl_2src_2stat_2mknod_8c_source.html#l00005">mknod.c:5</a></div></div>
<div class="ttc" id="asm__loop_8c_html_acb906433e1289aa1c251dc5057746a88"><div class="ttname"><a href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a></div><div class="ttdeci">INT val</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd4/sm__loop_8c_source.html#l00387">sm_loop.c:385</a></div></div>
<div class="ttc" id="aun_8h_html_d6/d73/structsockaddr__un"><div class="ttname"><a href="../../da/d4b/un_8h.html#d6/d73/structsockaddr__un">sockaddr_un</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4b/un_8h_source.html#l00017">un.h:17</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d92/include_2sys_2socket_8h_source.html#l00151">AF_UNIX</a>, <a class="el" href="../../db/d6e/musl_2src_2network_2bind_8c_source.html#l00004">bind()</a>, <a class="el" href="../../d2/df6/musl_2src_2stat_2chmod_8c_source.html#l00005">chmod()</a>, <a class="el" href="../../d1/d40/musl_2src_2unistd_2chown_8c_source.html#l00005">chown()</a>, <a class="el" href="../../d9/d22/close_8c_source.html#l00013">close()</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../d1/dfb/sys__stat_8c_source.html#l00005">mkdir()</a>, <a class="el" href="../../d2/dc3/musl_2src_2stat_2mknod_8c_source.html#l00005">mknod()</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00053">O_CREAT</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00050">O_RDONLY</a>, <a class="el" href="../../da/deb/open_8c_source.html#l00005">open()</a>, <a class="el" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a5e59ecb0dc04c87c30ac47226f329fe4">readlink()</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00062">S_IFBLK</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00060">S_IFCHR</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00061">S_IFDIR</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00059">S_IFIFO</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00064">S_IFLNK</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00067">S_IFMT</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00063">S_IFREG</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00065">S_IFSOCK</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00074">S_ISLNK</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf()</a>, <a class="el" href="../../d6/d46/arch_2mips_2bits_2socket_8h_source.html#l00001">SOCK_STREAM</a>, <a class="el" href="../../dd/df0/musl_2src_2network_2socket_8c_source.html#l00006">socket()</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00085">stat::st_gid</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00081">stat::st_mode</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00086">stat::st_rdev</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00084">stat::st_uid</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00174">strcmp</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00190">STRING_LENGTH</a>, <a class="el" href="../../da/d4b/un_8h_source.html#l00018">sockaddr_un::sun_family</a>, <a class="el" href="../../da/d4b/un_8h_source.html#l00019">sockaddr_un::sun_path</a>, <a class="el" href="../../d3/d85/symlink_8c_source.html#l00005">symlink()</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>, <a class="el" href="../../d8/db3/musl_2src_2unistd_2unlink_8c_source.html#l00005">unlink()</a>, and <a class="el" href="../../db/dd4/sm__loop_8c_source.html#l00385">val</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00868">action_copy()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01012">restore()</a>.</p>

</div>
</div>
<a id="a11544a3d1e022d1e4a763df3ac2c6dda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11544a3d1e022d1e4a763df3ac2c6dda">&#9670;&nbsp;</a></span>devfsd_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int devfsd_main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00407">407</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;{</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordtype">int</span> print_version = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordtype">int</span> do_daemon = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordtype">int</span> no_polling = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordtype">int</span> do_scan;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, proto_rev, <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> event_mask = 0;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keyword">struct </span>sigaction new_action;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d3a/devfsd_8c.html#d0/dcb/structinitial__symlink__struct">initial_symlink_struct</a> *curr;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> &lt; 2)</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="../../d9/d65/individual_8c.html#a8323cea1cd613c0e2005086064a4b730">bb_show_usage</a>();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> = 2; <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> &lt; <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>; ++<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>][0] == <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>][1] == <span class="charliteral">&#39;v&#39;</span> &amp;&amp; !<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>][2]) <span class="comment">/* -v */</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                print_version = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ENABLE_DEVFSD_FG_NP &amp;&amp; <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>][1] == <span class="charliteral">&#39;f&#39;</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;             &amp;&amp; <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>][2] == <span class="charliteral">&#39;g&#39;</span> &amp;&amp; !<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>][3]) <span class="comment">/* -fg */</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                do_daemon = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ENABLE_DEVFSD_FG_NP &amp;&amp; <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>][1] == <span class="charliteral">&#39;n&#39;</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;             &amp;&amp; <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>][2] == <span class="charliteral">&#39;p&#39;</span> &amp;&amp; !<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>][3]) <span class="comment">/* -np */</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                no_polling = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <a class="code" href="../../d9/d65/individual_8c.html#a8323cea1cd613c0e2005086064a4b730">bb_show_usage</a>();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a8e803514036c1059a89fede650118bd2">bb_simplify_path</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1]);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a31cfbfe02fa96c10d92748f7830b0624">xchdir</a>(<a class="code" href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#aa3e94e3ec137f40660b168c9f0840027">xopen</a>(<span class="stringliteral">&quot;.devfsd&quot;</span>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a10d406bcbbd961accf0b4a5be8500cc2">close_on_exec_on</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a2fa6aa78c71387ecbf5c85d0d431e54d">xioctl</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d6/d3a/devfsd_8c.html#a417d0f669a69ef7df5cb10ddcf3d05a6">DEVFSDIOC_GET_PROTO_REV</a>, &amp;proto_rev);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment">/*setup initial entries */</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">for</span> (curr = <a class="code" href="../../d6/d3a/devfsd_8c.html#a3351cabcdbe364f3e5e21803242b1156">initial_symlinks</a>; curr-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a39bad4d32bcc6284a4ae0fe63792b7bc">dest</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; ++curr)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#aeb52d1ca2084a65df369e6d8fb082eec">symlink</a>(curr-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a39bad4d32bcc6284a4ae0fe63792b7bc">dest</a>, curr-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a4da746b37a8f496b0f396424ddfc7207">name</a>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="comment">/* NB: The check for CONFIG_FILE is done in read_config_file() */</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">if</span> (print_version || (<a class="code" href="../../d6/d3a/devfsd_8c.html#af3c7de222c99cfc9dc1cda0bbaae806e">DEVFSD_PROTOCOL_REVISION_DAEMON</a> != proto_rev)) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="../../dc/d74/Kernel_2Core_2Memory_2HeapAllocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;%s v%s\nDaemon %s:\t%d\nKernel-side %s:\t%d\n&quot;</span>,</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <a class="code" href="../../d9/d65/individual_8c.html#a66e4d65a78130a56b02ed9937a9859b5">applet_name</a>, <a class="code" href="../../d6/d3a/devfsd_8c.html#a4bee410cb0e3a2d09bc641834bb664fa">DEVFSD_VERSION</a>, bb_msg_proto_rev,</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#af3c7de222c99cfc9dc1cda0bbaae806e">DEVFSD_PROTOCOL_REVISION_DAEMON</a>, bb_msg_proto_rev, proto_rev);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d3a/devfsd_8c.html#af3c7de222c99cfc9dc1cda0bbaae806e">DEVFSD_PROTOCOL_REVISION_DAEMON</a> != proto_rev)</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a1992b68ae7d01f7da91e31e351ca3b33">bb_error_msg_and_die</a>(<span class="stringliteral">&quot;%s mismatch!&quot;</span>, bb_msg_proto_rev);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a7db87b913f402af0adab9e35ab1094cb">exit_SUCCESS</a>(); <span class="comment">/* -v */</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">/*  Tell kernel we are special(i.e. we get to see hidden entries)  */</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a2fa6aa78c71387ecbf5c85d0d431e54d">xioctl</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d6/d3a/devfsd_8c.html#a48c31b6abf4eb9e798cddca48504e720">DEVFSDIOC_SET_EVENT_MASK</a>, 0);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="comment">/*  Set up SIGHUP and SIGUSR1 handlers  */</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="../../db/d82/sigemptyset_8c.html#a5925352f90eb589393274fa0376d7def">sigemptyset</a>(&amp;new_action.sa_mask);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    new_action.sa_flags = 0;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    new_action.sa_handler = <a class="code" href="../../d6/d3a/devfsd_8c.html#a10ff19356f5e5c82507c7f889e064ef6">signal_handler</a>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a44635e509c1985127803624f4a0b3e64">sigaction_set</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a136c64ec2d1306de745e39d6aee362ca">SIGHUP</a>, &amp;new_action);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a44635e509c1985127803624f4a0b3e64">sigaction_set</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a944a8250e34bfd7991123abd3436d8c0">SIGUSR1</a>, &amp;new_action);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="../../dc/d74/Kernel_2Core_2Memory_2HeapAllocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;%s v%s started for %s\n&quot;</span>, <a class="code" href="../../d9/d65/individual_8c.html#a66e4d65a78130a56b02ed9937a9859b5">applet_name</a>, <a class="code" href="../../d6/d3a/devfsd_8c.html#a4bee410cb0e3a2d09bc641834bb664fa">DEVFSD_VERSION</a>, <a class="code" href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">/*  Set umask so that mknod(2), open(2) and mkdir(2) have complete control over permissions  */</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="../../dd/d14/Userspace_2musl_2include_2sys_2stat_8h.html#a4c668877ae0bc010d420c2cb9f72ee94">umask</a>(0);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a1b4474fe0058550490ec996f3259b0a7">read_config_file</a>((<span class="keywordtype">char</span>*)<a class="code" href="../../d6/d3a/devfsd_8c.html#a42bf63540ee0039a3a23db1b5ec3202b">CONFIG_FILE</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, &amp;event_mask);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">/*  Do the scan before forking, so that boot scripts see the finished product  */</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a486d64f8b9ef9bcb8763143dbc3f9c6f">dir_operation</a>(<a class="code" href="../../d6/d3a/devfsd_8c.html#a6d179734092a04a5b3df5d4ff20b929b">SERVICE</a>, <a class="code" href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a>, 0, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">if</span> (ENABLE_DEVFSD_FG_NP &amp;&amp; no_polling)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a7db87b913f402af0adab9e35ab1094cb">exit_SUCCESS</a>();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (ENABLE_DEVFSD_VERBOSE || ENABLE_DEBUG)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a068ce7e06ca614762acbe0ea350d61e4">logmode</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a5f6f71086d1d57ee2b10b6aad0676d25a83f92e9c71488a3d92808563a1643d8f">LOGMODE_BOTH</a>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (do_daemon == <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a068ce7e06ca614762acbe0ea350d61e4">logmode</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a5f6f71086d1d57ee2b10b6aad0676d25a3a16a99e59fdf197ddc2c00c37b4ebc3">LOGMODE_SYSLOG</a>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">/* This is the default */</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">/*else</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">        logmode = LOGMODE_STDIO; */</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">if</span> (do_daemon) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="comment">/*  Release so that the child can grab it  */</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a2fa6aa78c71387ecbf5c85d0d431e54d">xioctl</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d6/d3a/devfsd_8c.html#a2bc17f6e4d7f2d9752b886e700dcbe5e">DEVFSDIOC_RELEASE_EVENT_QUEUE</a>, 0);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a8bbc28a675d8fc508cde7df9687a83d8">bb_daemonize_or_rexec</a>(0, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ENABLE_DEVFSD_FG_NP) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <a class="code" href="../../d1/dea/apps_2base_2bash_2examples_2loadables_2setpgid_8c.html#af35bd0de8c2181231698de03bbdd58ca">setpgid</a>(0, 0);  <span class="comment">/*  Become process group leader                    */</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        do_scan = <a class="code" href="../../d6/d3a/devfsd_8c.html#a480e9d50cd1c169e39c720ac32d8846e">do_servicing</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, event_mask);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a9328ac30d509a60dc59b5b7645fc7f00">free_config</a>();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a1b4474fe0058550490ec996f3259b0a7">read_config_file</a>((<span class="keywordtype">char</span>*)<a class="code" href="../../d6/d3a/devfsd_8c.html#a42bf63540ee0039a3a23db1b5ec3202b">CONFIG_FILE</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, &amp;event_mask);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">if</span> (do_scan)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <a class="code" href="../../d6/d3a/devfsd_8c.html#a486d64f8b9ef9bcb8763143dbc3f9c6f">dir_operation</a>(<a class="code" href="../../d6/d3a/devfsd_8c.html#a6d179734092a04a5b3df5d4ff20b929b">SERVICE</a>, <a class="code" href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a>, 0, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">if</span> (ENABLE_FEATURE_CLEAN_UP) <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}   <span class="comment">/*  End Function main  */</span></div>
<div class="ttc" id="aKernel_2Core_2Memory_2HeapAllocators_2liballoc__1__1_2liballoc__1__1_8c_html_ae34a762828cbff7cce62bda6571b2bc0"><div class="ttname"><a href="../../dc/d74/Kernel_2Core_2Memory_2HeapAllocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a></div><div class="ttdeci">#define printf(m,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/Kernel_2Core_2Memory_2HeapAllocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00060">liballoc_1_1.c:60</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2sys_2stat_8h_html_a4c668877ae0bc010d420c2cb9f72ee94"><div class="ttname"><a href="../../dd/d14/Userspace_2musl_2include_2sys_2stat_8h.html#a4c668877ae0bc010d420c2cb9f72ee94">umask</a></div><div class="ttdeci">mode_t umask(mode_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dfc/umask_8c_source.html#l00004">umask.c:4</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2examples_2loadables_2setpgid_8c_html_af35bd0de8c2181231698de03bbdd58ca"><div class="ttname"><a href="../../d1/dea/apps_2base_2bash_2examples_2loadables_2setpgid_8c.html#af35bd0de8c2181231698de03bbdd58ca">setpgid</a></div><div class="ttdeci">#define setpgid(pid, pgrp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dea/apps_2base_2bash_2examples_2loadables_2setpgid_8c_source.html#l00041">setpgid.c:41</a></div></div>
<div class="ttc" id="abash_2test_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">static int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00109">test.c:109</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a10ff19356f5e5c82507c7f889e064ef6"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a10ff19356f5e5c82507c7f889e064ef6">signal_handler</a></div><div class="ttdeci">static void signal_handler(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01197">devfsd.c:1197</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a1b4474fe0058550490ec996f3259b0a7"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a1b4474fe0058550490ec996f3259b0a7">read_config_file</a></div><div class="ttdeci">static void read_config_file(char *path, int optional, unsigned long *event_mask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00509">devfsd.c:509</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a2bc17f6e4d7f2d9752b886e700dcbe5e"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a2bc17f6e4d7f2d9752b886e700dcbe5e">DEVFSDIOC_RELEASE_EVENT_QUEUE</a></div><div class="ttdeci">#define DEVFSDIOC_RELEASE_EVENT_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00154">devfsd.c:154</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a3351cabcdbe364f3e5e21803242b1156"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a3351cabcdbe364f3e5e21803242b1156">initial_symlinks</a></div><div class="ttdeci">static struct initial_symlink_struct initial_symlinks[]</div></div>
<div class="ttc" id="adevfsd_8c_html_a39bad4d32bcc6284a4ae0fe63792b7bc"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a39bad4d32bcc6284a4ae0fe63792b7bc">initial_symlink_struct::dest</a></div><div class="ttdeci">const char * dest</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00310">devfsd.c:310</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a417d0f669a69ef7df5cb10ddcf3d05a6"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a417d0f669a69ef7df5cb10ddcf3d05a6">DEVFSDIOC_GET_PROTO_REV</a></div><div class="ttdeci">#define DEVFSDIOC_GET_PROTO_REV</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00152">devfsd.c:152</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a42bf63540ee0039a3a23db1b5ec3202b"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a42bf63540ee0039a3a23db1b5ec3202b">CONFIG_FILE</a></div><div class="ttdeci">#define CONFIG_FILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00183">devfsd.c:183</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a480e9d50cd1c169e39c720ac32d8846e"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a480e9d50cd1c169e39c720ac32d8846e">do_servicing</a></div><div class="ttdeci">static int do_servicing(int, unsigned long)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00704">devfsd.c:704</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a486d64f8b9ef9bcb8763143dbc3f9c6f"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a486d64f8b9ef9bcb8763143dbc3f9c6f">dir_operation</a></div><div class="ttdeci">static void dir_operation(int, const char *, int, unsigned long *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01255">devfsd.c:1255</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a48c31b6abf4eb9e798cddca48504e720"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a48c31b6abf4eb9e798cddca48504e720">DEVFSDIOC_SET_EVENT_MASK</a></div><div class="ttdeci">#define DEVFSDIOC_SET_EVENT_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00153">devfsd.c:153</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a4bee410cb0e3a2d09bc641834bb664fa"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a4bee410cb0e3a2d09bc641834bb664fa">DEVFSD_VERSION</a></div><div class="ttdeci">#define DEVFSD_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00182">devfsd.c:182</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a4da746b37a8f496b0f396424ddfc7207"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a4da746b37a8f496b0f396424ddfc7207">initial_symlink_struct::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00311">devfsd.c:311</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a6d179734092a04a5b3df5d4ff20b929b"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a6d179734092a04a5b3df5d4ff20b929b">SERVICE</a></div><div class="ttdeci">#define SERVICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00202">devfsd.c:202</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a9328ac30d509a60dc59b5b7645fc7f00"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a9328ac30d509a60dc59b5b7645fc7f00">free_config</a></div><div class="ttdeci">static void free_config(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01114">devfsd.c:1114</a></div></div>
<div class="ttc" id="adevfsd_8c_html_af3c7de222c99cfc9dc1cda0bbaae806e"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#af3c7de222c99cfc9dc1cda0bbaae806e">DEVFSD_PROTOCOL_REVISION_DAEMON</a></div><div class="ttdeci">#define DEVFSD_PROTOCOL_REVISION_DAEMON</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00206">devfsd.c:206</a></div></div>
<div class="ttc" id="adevfsd_8c_html_d0/dcb/structinitial__symlink__struct"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#d0/dcb/structinitial__symlink__struct">initial_symlink_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00309">devfsd.c:309</a></div></div>
<div class="ttc" id="aindividual_8c_html_a66e4d65a78130a56b02ed9937a9859b5"><div class="ttname"><a href="../../d9/d65/individual_8c.html#a66e4d65a78130a56b02ed9937a9859b5">applet_name</a></div><div class="ttdeci">const char * applet_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d65/individual_8c_source.html#l00008">individual.c:8</a></div></div>
<div class="ttc" id="aindividual_8c_html_a8323cea1cd613c0e2005086064a4b730"><div class="ttname"><a href="../../d9/d65/individual_8c.html#a8323cea1cd613c0e2005086064a4b730">bb_show_usage</a></div><div class="ttdeci">void bb_show_usage(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d65/individual_8c_source.html#l00020">individual.c:20</a></div></div>
<div class="ttc" id="alibbb_8h_html_a068ce7e06ca614762acbe0ea350d61e4"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a068ce7e06ca614762acbe0ea350d61e4">logmode</a></div><div class="ttdeci">smallint logmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db5/verror__msg_8c_source.html#l00017">verror_msg.c:17</a></div></div>
<div class="ttc" id="alibbb_8h_html_a10d406bcbbd961accf0b4a5be8500cc2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a10d406bcbbd961accf0b4a5be8500cc2">close_on_exec_on</a></div><div class="ttdeci">void close_on_exec_on(int fd) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6d/xfuncs_8c_source.html#l00044">xfuncs.c:44</a></div></div>
<div class="ttc" id="alibbb_8h_html_a1992b68ae7d01f7da91e31e351ca3b33"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a1992b68ae7d01f7da91e31e351ca3b33">bb_error_msg_and_die</a></div><div class="ttdeci">void bb_error_msg_and_die(const char *s,...) __attribute__((noreturn</div></div>
<div class="ttc" id="alibbb_8h_html_a2fa6aa78c71387ecbf5c85d0d431e54d"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a2fa6aa78c71387ecbf5c85d0d431e54d">xioctl</a></div><div class="ttdeci">#define xioctl(fd, request, argp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01831">libbb.h:1831</a></div></div>
<div class="ttc" id="alibbb_8h_html_a31cfbfe02fa96c10d92748f7830b0624"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a31cfbfe02fa96c10d92748f7830b0624">xchdir</a></div><div class="ttdeci">void xchdir(const char *path) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00426">xfuncs_printf.c:426</a></div></div>
<div class="ttc" id="alibbb_8h_html_a44635e509c1985127803624f4a0b3e64"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a44635e509c1985127803624f4a0b3e64">sigaction_set</a></div><div class="ttdeci">int sigaction_set(int sig, const struct sigaction *act) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/busybox_2libbb_2signals_8c_source.html#l00022">signals.c:22</a></div></div>
<div class="ttc" id="alibbb_8h_html_a5f6f71086d1d57ee2b10b6aad0676d25a3a16a99e59fdf197ddc2c00c37b4ebc3"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a5f6f71086d1d57ee2b10b6aad0676d25a3a16a99e59fdf197ddc2c00c37b4ebc3">LOGMODE_SYSLOG</a></div><div class="ttdeci">@ LOGMODE_SYSLOG</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01418">libbb.h:1418</a></div></div>
<div class="ttc" id="alibbb_8h_html_a5f6f71086d1d57ee2b10b6aad0676d25a83f92e9c71488a3d92808563a1643d8f"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a5f6f71086d1d57ee2b10b6aad0676d25a83f92e9c71488a3d92808563a1643d8f">LOGMODE_BOTH</a></div><div class="ttdeci">@ LOGMODE_BOTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01419">libbb.h:1419</a></div></div>
<div class="ttc" id="alibbb_8h_html_a7db87b913f402af0adab9e35ab1094cb"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a7db87b913f402af0adab9e35ab1094cb">exit_SUCCESS</a></div><div class="ttdeci">void exit_SUCCESS(void) NORETURN FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6d/xfuncs_8c_source.html#l00427">xfuncs.c:427</a></div></div>
<div class="ttc" id="alibbb_8h_html_a8bbc28a675d8fc508cde7df9687a83d8"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a8bbc28a675d8fc508cde7df9687a83d8">bb_daemonize_or_rexec</a></div><div class="ttdeci">#define bb_daemonize_or_rexec(flags, argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01318">libbb.h:1318</a></div></div>
<div class="ttc" id="alibbb_8h_html_a8e803514036c1059a89fede650118bd2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a8e803514036c1059a89fede650118bd2">bb_simplify_path</a></div><div class="ttdeci">char * bb_simplify_path(const char *path) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da5/simplify__path_8c_source.html#l00045">simplify_path.c:45</a></div></div>
<div class="ttc" id="alibbb_8h_html_aa3e94e3ec137f40660b168c9f0840027"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#aa3e94e3ec137f40660b168c9f0840027">xopen</a></div><div class="ttdeci">int xopen(const char *pathname, int flags) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00155">xfuncs_printf.c:155</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_a136c64ec2d1306de745e39d6aee362ca"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#a136c64ec2d1306de745e39d6aee362ca">SIGHUP</a></div><div class="ttdeci">#define SIGHUP</div><div class="ttdoc">Hangup detected on controlling or death of controlling process.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00010">signal.h:10</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_a944a8250e34bfd7991123abd3436d8c0"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#a944a8250e34bfd7991123abd3436d8c0">SIGUSR1</a></div><div class="ttdeci">#define SIGUSR1</div><div class="ttdoc">User-defined signal 1.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00037">signal.h:37</a></div></div>
<div class="ttc" id="asigemptyset_8c_html_a5925352f90eb589393274fa0376d7def"><div class="ttname"><a href="../../db/d82/sigemptyset_8c.html#a5925352f90eb589393274fa0376d7def">sigemptyset</a></div><div class="ttdeci">int sigemptyset(sigset_t *set)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d82/sigemptyset_8c_source.html#l00004">sigemptyset.c:4</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d65/individual_8c_source.html#l00008">applet_name</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00109">argc</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00110">argv</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01318">bb_daemonize_or_rexec</a>, <a class="el" href="../../d7/dd7/libbb_8h.html#a1992b68ae7d01f7da91e31e351ca3b33">bb_error_msg_and_die()</a>, <a class="el" href="../../d9/d65/individual_8c_source.html#l00020">bb_show_usage()</a>, <a class="el" href="../../d2/da5/simplify__path_8c_source.html#l00045">bb_simplify_path()</a>, <a class="el" href="../../df/d6d/xfuncs_8c_source.html#l00044">close_on_exec_on()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00183">CONFIG_FILE</a>, <a class="el" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00310">initial_symlink_struct::dest</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00206">DEVFSD_PROTOCOL_REVISION_DAEMON</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00182">DEVFSD_VERSION</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00152">DEVFSDIOC_GET_PROTO_REV</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00154">DEVFSDIOC_RELEASE_EVENT_QUEUE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00153">DEVFSDIOC_SET_EVENT_MASK</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01255">dir_operation()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00704">do_servicing()</a>, <a class="el" href="../../df/d6d/xfuncs_8c_source.html#l00427">exit_SUCCESS()</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01114">free_config()</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#a3351cabcdbe364f3e5e21803242b1156">initial_symlinks</a>, <a class="el" href="../../d5/db5/verror__msg_8c_source.html#l00017">logmode</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01419">LOGMODE_BOTH</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01418">LOGMODE_SYSLOG</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00306">mount_point</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00311">initial_symlink_struct::name</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00050">O_RDONLY</a>, <a class="el" href="../../dc/d74/Kernel_2Core_2Memory_2HeapAllocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00060">printf</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00509">read_config_file()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00202">SERVICE</a>, <a class="el" href="../../d1/dea/apps_2base_2bash_2examples_2loadables_2setpgid_8c_source.html#l00041">setpgid</a>, <a class="el" href="../../d3/db2/busybox_2libbb_2signals_8c_source.html#l00022">sigaction_set()</a>, <a class="el" href="../../db/d82/sigemptyset_8c_source.html#l00004">sigemptyset()</a>, <a class="el" href="../../df/dff/libc_2include_2signal_8h_source.html#l00010">SIGHUP</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01197">signal_handler()</a>, <a class="el" href="../../df/dff/libc_2include_2signal_8h_source.html#l00037">SIGUSR1</a>, <a class="el" href="../../d3/d85/symlink_8c_source.html#l00005">symlink()</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>, <a class="el" href="../../d8/dfc/umask_8c_source.html#l00004">umask()</a>, <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00426">xchdir()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01831">xioctl</a>, and <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00155">xopen()</a>.</p>

</div>
</div>
<a id="a486d64f8b9ef9bcb8763143dbc3f9c6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a486d64f8b9ef9bcb8763143dbc3f9c6f">&#9670;&nbsp;</a></span>dir_operation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dir_operation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dir_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>event_mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01255">1255</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;{</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> statbuf;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <a class="code" href="../../d5/d70/ndir_8h.html#dd/dfe/structDIR">DIR</a> *dp;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#d5/de2/structdirent">dirent</a> *de;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordtype">char</span> *path;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    dp = <a class="code" href="../../d7/dd7/libbb_8h.html#a333c42d774eddec77053dc05ba2ca694">warn_opendir</a>(dir_name);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">if</span> (dp == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">while</span> ((de = <a class="code" href="../../d5/d70/ndir_8h.html#a465842e71bfbc792d360b2c763786a03">readdir</a>(dp)) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        <span class="keywordflow">if</span> (de-&gt;<a class="code" href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#ae52d525c8057131d7f1155fe7039910d">d_name</a> &amp;&amp; <a class="code" href="../../d9/d14/general_8h.html#ae6c7fda06772e89df45f148b08405cf9">DOT_OR_DOTDOT</a>(de-&gt;<a class="code" href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#ae52d525c8057131d7f1155fe7039910d">d_name</a>))</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        path = <a class="code" href="../../d7/dd7/libbb_8h.html#a8e1240ef7e70d7d55a00ce3b75b26cb2">concat_path_file</a>(dir_name, de-&gt;<a class="code" href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#ae52d525c8057131d7f1155fe7039910d">d_name</a>);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c.html#ae730c85752284268b39560df693cb207">lstat</a>(path, &amp;statbuf) == 0) {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a>) {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a6d179734092a04a5b3df5d4ff20b929b">SERVICE</a>:</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                    <a class="code" href="../../d6/d3a/devfsd_8c.html#aa42c9e69815003095f44e46a64574fbb">service</a>(statbuf, path);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#acd2ea0453b6daf41446e84a9f24a2e83">RESTORE</a>:</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                    <a class="code" href="../../d6/d3a/devfsd_8c.html#ad96ecb6ffa50ee6562b1eaee5c041a16">restore</a>(path, statbuf, <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a32268e77144af7593cf09fcf9e7595dd">READ_CONFIG</a>:</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                    <a class="code" href="../../d6/d3a/devfsd_8c.html#a1b4474fe0058550490ec996f3259b0a7">read_config_file</a>(path, <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, event_mask);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            }</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(path);</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <a class="code" href="../../d5/d70/ndir_8h.html#a7f1547bdd6ef6a5deb4cf679772b8302">closedir</a>(dp);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;}   <span class="comment">/*  End Function do_scan_and_service  */</span></div>
<div class="ttc" id="aarch_2generic_2bits_2dirent_8h_html_ae52d525c8057131d7f1155fe7039910d"><div class="ttname"><a href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#ae52d525c8057131d7f1155fe7039910d">dirent::d_name</a></div><div class="ttdeci">char d_name[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2b/arch_2generic_2bits_2dirent_8h_source.html#l00010">dirent.h:10</a></div></div>
<div class="ttc" id="aarch_2generic_2bits_2dirent_8h_html_d5/de2/structdirent"><div class="ttname"><a href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#d5/de2/structdirent">dirent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2b/arch_2generic_2bits_2dirent_8h_source.html#l00005">dirent.h:5</a></div></div>
<div class="ttc" id="aash_8c_html_da/de3/structvar"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02065">ash.c:2065</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a32268e77144af7593cf09fcf9e7595dd"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a32268e77144af7593cf09fcf9e7595dd">READ_CONFIG</a></div><div class="ttdeci">#define READ_CONFIG</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00203">devfsd.c:203</a></div></div>
<div class="ttc" id="adevfsd_8c_html_aa42c9e69815003095f44e46a64574fbb"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#aa42c9e69815003095f44e46a64574fbb">service</a></div><div class="ttdeci">static void service(struct stat statbuf, char *path)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01237">devfsd.c:1237</a></div></div>
<div class="ttc" id="adevfsd_8c_html_acd2ea0453b6daf41446e84a9f24a2e83"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#acd2ea0453b6daf41446e84a9f24a2e83">RESTORE</a></div><div class="ttdeci">#define RESTORE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00201">devfsd.c:201</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ad96ecb6ffa50ee6562b1eaee5c041a16"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ad96ecb6ffa50ee6562b1eaee5c041a16">restore</a></div><div class="ttdeci">static void restore(char *spath, struct stat source_stat, int rootlen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01012">devfsd.c:1012</a></div></div>
<div class="ttc" id="ageneral_8h_html_ae6c7fda06772e89df45f148b08405cf9"><div class="ttname"><a href="../../d9/d14/general_8h.html#ae6c7fda06772e89df45f148b08405cf9">DOT_OR_DOTDOT</a></div><div class="ttdeci">#define DOT_OR_DOTDOT(s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d14/general_8h_source.html#l00291">general.h:291</a></div></div>
<div class="ttc" id="alibbb_8h_html_a333c42d774eddec77053dc05ba2ca694"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a333c42d774eddec77053dc05ba2ca694">warn_opendir</a></div><div class="ttdeci">DIR * warn_opendir(const char *path) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00446">xfuncs_printf.c:446</a></div></div>
<div class="ttc" id="amultiboot_8h_html_a8da1a8c7127a0371eec0810a29e30f3c"><div class="ttname"><a href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a></div><div class="ttdeci">multiboot_uint32_t type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc0/multiboot_8h_source.html#l00008">multiboot.h:8</a></div></div>
<div class="ttc" id="andir_8h_html_a465842e71bfbc792d360b2c763786a03"><div class="ttname"><a href="../../d5/d70/ndir_8h.html#a465842e71bfbc792d360b2c763786a03">readdir</a></div><div class="ttdeci">struct direct * readdir()</div></div>
<div class="ttc" id="andir_8h_html_a7f1547bdd6ef6a5deb4cf679772b8302"><div class="ttname"><a href="../../d5/d70/ndir_8h.html#a7f1547bdd6ef6a5deb4cf679772b8302">closedir</a></div><div class="ttdeci">void closedir()</div></div>
<div class="ttc" id="andir_8h_html_dd/dfe/structDIR"><div class="ttname"><a href="../../d5/d70/ndir_8h.html#dd/dfe/structDIR">DIR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d70/ndir_8h_source.html#l00038">ndir.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d70/ndir_8h.html#a7f1547bdd6ef6a5deb4cf679772b8302">closedir()</a>, <a class="el" href="../../da/d14/concat__path__file_8c_source.html#l00018">concat_path_file()</a>, <a class="el" href="../../d0/d2b/arch_2generic_2bits_2dirent_8h_source.html#l00010">dirent::d_name</a>, <a class="el" href="../../d9/d14/general_8h_source.html#l00291">DOT_OR_DOTDOT</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c_source.html#l00064">lstat</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00203">READ_CONFIG</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00509">read_config_file()</a>, <a class="el" href="../../d5/d70/ndir_8h.html#a465842e71bfbc792d360b2c763786a03">readdir()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00201">RESTORE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01012">restore()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00202">SERVICE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01237">service()</a>, <a class="el" href="../../d1/dc0/multiboot_8h_source.html#l00008">type</a>, and <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00446">warn_opendir()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00407">devfsd_main()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">process_config_line()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00509">read_config_file()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01012">restore()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01237">service()</a>.</p>

</div>
</div>
<a id="a480e9d50cd1c169e39c720ac32d8846e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a480e9d50cd1c169e39c720ac32d8846e">&#9670;&nbsp;</a></span>do_servicing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int do_servicing </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>event_mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00704">704</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;{</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af10f4c58d91a6fa30ccc8a19d0ecbf48">ssize_t</a> bytes;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">/* (void*) cast is only in order to match prototype */</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a2fa6aa78c71387ecbf5c85d0d431e54d">xioctl</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d6/d3a/devfsd_8c.html#a48c31b6abf4eb9e798cddca48504e720">DEVFSDIOC_SET_EVENT_MASK</a>, (<span class="keywordtype">void</span>*)event_mask);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">while</span> (!<a class="code" href="../../d6/d3a/devfsd_8c.html#a9baca606c31e56122c105704c0a4e77b">caught_signal</a>) {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> = 0;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        bytes = <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a8c673ae088139efcc2dfab1cbadff6f5">read</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, (<span class="keywordtype">char</span> *) &amp;<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, <span class="keyword">sizeof</span> <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d3a/devfsd_8c.html#a9baca606c31e56122c105704c0a4e77b">caught_signal</a>)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <span class="keywordflow">break</span>;      <span class="comment">/*  Must test for this first     */</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a46b83d9f6c23b1b65a8cecfd775ddaed">EINTR</a>)</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <span class="keywordflow">continue</span>;  <span class="comment">/*  Yes, the order is important  */</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">if</span> (bytes &lt; 1)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a8d4ba0c7f3a5f0429f97b6d3c7663206">service_name</a>(&amp;<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d3a/devfsd_8c.html#a9baca606c31e56122c105704c0a4e77b">caught_signal</a>) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordtype">int</span> c_sighup = <a class="code" href="../../d6/d3a/devfsd_8c.html#a57d05d3c313fa07722d642c240f19246">caught_sighup</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a9baca606c31e56122c105704c0a4e77b">caught_signal</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a57d05d3c313fa07722d642c240f19246">caught_sighup</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">return</span> c_sighup;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a5c7c6e94f3780ab97abc458f81d8e66e">simple_msg_logger_and_die</a>(<a class="code" href="../../d7/d30/syslog_8h.html#a96fad55b3f5adf08c39e4c877cf185e3">LOG_ERR</a>, <span class="stringliteral">&quot;read error on control file&quot;</span>);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;}   <span class="comment">/*  End Function do_servicing  */</span></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_af10f4c58d91a6fa30ccc8a19d0ecbf48"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#af10f4c58d91a6fa30ccc8a19d0ecbf48">ssize_t</a></div><div class="ttdeci">intptr_t ssize_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00199">types.h:199</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a46b83d9f6c23b1b65a8cecfd775ddaed"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a46b83d9f6c23b1b65a8cecfd775ddaed">EINTR</a></div><div class="ttdeci">#define EINTR</div><div class="ttdoc">Interrupted system call.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00031">errno.h:31</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_a8c673ae088139efcc2dfab1cbadff6f5"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a8c673ae088139efcc2dfab1cbadff6f5">read</a></div><div class="ttdeci">ssize_t read(int, void *, size_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d40/musl_2src_2unistd_2read_8c_source.html#l00004">read.c:4</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a57d05d3c313fa07722d642c240f19246"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a57d05d3c313fa07722d642c240f19246">caught_sighup</a></div><div class="ttdeci">static volatile int caught_sighup</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00308">devfsd.c:308</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a5c7c6e94f3780ab97abc458f81d8e66e"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a5c7c6e94f3780ab97abc458f81d8e66e">simple_msg_logger_and_die</a></div><div class="ttdeci">#define simple_msg_logger_and_die(p, msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00358">devfsd.c:358</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a8d4ba0c7f3a5f0429f97b6d3c7663206"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a8d4ba0c7f3a5f0429f97b6d3c7663206">service_name</a></div><div class="ttdeci">static void service_name(const struct devfsd_notify_struct *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00737">devfsd.c:737</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a9baca606c31e56122c105704c0a4e77b"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a9baca606c31e56122c105704c0a4e77b">caught_signal</a></div><div class="ttdeci">static volatile int caught_signal</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00307">devfsd.c:307</a></div></div>
<div class="ttc" id="adevfsd_8c_html_d5/d26/structdevfsd__notify__struct"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00167">devfsd.c:167</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00308">caught_sighup</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00307">caught_signal</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00153">DEVFSDIOC_SET_EVENT_MASK</a>, <a class="el" href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00031">EINTR</a>, <a class="el" href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00409">errno</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00013">LOG_ERR</a>, <a class="el" href="../../df/d40/musl_2src_2unistd_2read_8c_source.html#l00004">read()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00737">service_name()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00358">simple_msg_logger_and_die</a>, and <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01831">xioctl</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00407">devfsd_main()</a>.</p>

</div>
</div>
<a id="a891fd6a43e2c4668dedda0eaac5316ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a891fd6a43e2c4668dedda0eaac5316ea">&#9670;&nbsp;</a></span>expand_expression() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int expand_expression </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">*)(const char *, void *, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00868">action_copy()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00836">action_execute()</a>.</p>

</div>
</div>
<a id="a16783e27c418fffe41f504db0b03c004"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16783e27c418fffe41f504db0b03c004">&#9670;&nbsp;</a></span>expand_expression() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int expand_expression </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>outsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *(*)(const char *<a class="el" href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a>, void *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>)&#160;</td>
          <td class="paramname"><em>get_variable_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *&#160;</td>
          <td class="paramname"><em>ex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>numexp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01325">1325</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;{</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordtype">char</span> temp[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>];</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d3a/devfsd_8c.html#af9357beeaae7141bdcc3578a1421cc7d">st_expr_expand</a>(temp, <a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>, <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>, get_variable_func, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>))</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a85382d181cd7d4f5aa81d5f190d382fb">expand_regexp</a>(<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5ae6eb596f7e638118128651043ff38545">output</a>, outsize, temp, devname, ex, numexp);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;}   <span class="comment">/*  End Function expand_expression  */</span></div>
<div class="ttc" id="adevfsd_8c_html_a85382d181cd7d4f5aa81d5f190d382fb"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a85382d181cd7d4f5aa81d5f190d382fb">expand_regexp</a></div><div class="ttdeci">static void expand_regexp(char *, size_t, const char *, const char *, const regmatch_t *, unsigned)</div></div>
<div class="ttc" id="adevfsd_8c_html_af9357beeaae7141bdcc3578a1421cc7d"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#af9357beeaae7141bdcc3578a1421cc7d">st_expr_expand</a></div><div class="ttdeci">static int st_expr_expand(char *, unsigned, const char *, const char *(*)(const char *, void *), void *)</div></div>
<div class="ttc" id="astty_8c_html_a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528"><div class="ttname"><a href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a></div><div class="ttdeci">@ input</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/stty_8c_source.html#l00256">stty.c:256</a></div></div>
<div class="ttc" id="astty_8c_html_a23cac2411ee0829057d416acc6731dd5ae6eb596f7e638118128651043ff38545"><div class="ttname"><a href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5ae6eb596f7e638118128651043ff38545">output</a></div><div class="ttdeci">@ output</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/stty_8c_source.html#l00256">stty.c:256</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3a/devfsd_8c.html#a85382d181cd7d4f5aa81d5f190d382fb">expand_regexp()</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d7/dd7/stty_8c_source.html#l00256">input</a>, <a class="el" href="../../d7/dd7/stty_8c_source.html#l00256">output</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#af9357beeaae7141bdcc3578a1421cc7d">st_expr_expand()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00190">STRING_LENGTH</a>, and <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>.</p>

</div>
</div>
<a id="a85382d181cd7d4f5aa81d5f190d382fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85382d181cd7d4f5aa81d5f190d382fb">&#9670;&nbsp;</a></span>expand_regexp() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void expand_regexp </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01325">expand_expression()</a>.</p>

</div>
</div>
<a id="a0c4b4748cdeb7820be700bf9003bf198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c4b4748cdeb7820be700bf9003bf198">&#9670;&nbsp;</a></span>expand_regexp() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void expand_regexp </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>outsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *&#160;</td>
          <td class="paramname"><em>ex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>numex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01354">1354</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;{</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> last_exp = <span class="charliteral">&#39;0&#39;</span> - 1 + numex;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = -1;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="comment">/*  Guarantee NULL termination by writing an explicit &#39;\0&#39; character into</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="comment">    the very last byte  */</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">if</span> (outsize)</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5ae6eb596f7e638118128651043ff38545">output</a>[--outsize] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="comment">/*  Copy the input string into the output buffer, replacing &#39;\\&#39; with &#39;\&#39;</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment">    and &#39;\0&#39; .. &#39;\9&#39; with subexpressions 0 .. 9, if they exist. Other \x</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="comment">    codes are deleted  */</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;\0&#39;</span>) &amp;&amp; (outsize != 0)) {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        ++<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\\&#39;</span>) {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            ++<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;\\&#39;</span>) {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &gt;= <span class="charliteral">&#39;0&#39;</span>) &amp;&amp; (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &lt;= last_exp)) {</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                    <span class="keyword">const</span> <a class="code" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> *subexp = ex + (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> - <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sublen = subexp-&gt;<a class="code" href="../../d1/d21/regex_8h.html#a3f10672e125eec75c94e29dda575cc43">rm_eo</a> - subexp-&gt;<a class="code" href="../../d1/d21/regex_8h.html#a3f642d9dae6573e6095526eb896f74a3">rm_so</a>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160; </div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                    <span class="comment">/*  Range checking  */</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                    <span class="keywordflow">if</span> (sublen &gt; outsize)</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                        sublen = outsize;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                    <a class="code" href="../../d3/d82/convert_8h.html#a12f4a7953a24e197c8d26bf0493f8225">strncpy</a>(<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5ae6eb596f7e638118128651043ff38545">output</a>, devname + subexp-&gt;<a class="code" href="../../d1/d21/regex_8h.html#a3f642d9dae6573e6095526eb896f74a3">rm_so</a>, sublen);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                    <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5ae6eb596f7e638118128651043ff38545">output</a> += sublen;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                    outsize -= sublen;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        *<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5ae6eb596f7e638118128651043ff38545">output</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        ++<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5ae6eb596f7e638118128651043ff38545">output</a>;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        --outsize;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    } <span class="comment">/* while */</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;}   <span class="comment">/*  End Function expand_regexp  */</span></div>
<div class="ttc" id="aconvert_8h_html_a12f4a7953a24e197c8d26bf0493f8225"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a12f4a7953a24e197c8d26bf0493f8225">strncpy</a></div><div class="ttdeci">char * strncpy(char *destination, const char *source, unsigned long num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc7/Convert_8cpp_source.html#l00106">Convert.cpp:106</a></div></div>
<div class="ttc" id="aglob__loop_8c_html_a2019d0836036f2693a231fe5c7c65e20"><div class="ttname"><a href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a></div><div class="ttdeci">register GCHAR c</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/glob__loop_8c_source.html#l00028">glob_loop.c:26</a></div></div>
<div class="ttc" id="aregex_8h_html_a3f10672e125eec75c94e29dda575cc43"><div class="ttname"><a href="../../d1/d21/regex_8h.html#a3f10672e125eec75c94e29dda575cc43">regmatch_t::rm_eo</a></div><div class="ttdeci">int rm_eo</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/busybox_2coreutils_2cut_8c_source.html#l00058">cut.c:58</a></div></div>
<div class="ttc" id="aregex_8h_html_a3f642d9dae6573e6095526eb896f74a3"><div class="ttname"><a href="../../d1/d21/regex_8h.html#a3f642d9dae6573e6095526eb896f74a3">regmatch_t::rm_so</a></div><div class="ttdeci">int rm_so</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/busybox_2coreutils_2cut_8c_source.html#l00058">cut.c:58</a></div></div>
<div class="ttc" id="aregex_8h_html_d3/d3a/structregmatch__t"><div class="ttname"><a href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/busybox_2coreutils_2cut_8c_source.html#l00058">cut.c:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d7/dd7/stty_8c_source.html#l00256">input</a>, <a class="el" href="../../d7/dd7/stty_8c_source.html#l00256">output</a>, <a class="el" href="../../de/dcc/busybox_2coreutils_2cut_8c_source.html#l00058">regmatch_t::rm_eo</a>, <a class="el" href="../../de/dcc/busybox_2coreutils_2cut_8c_source.html#l00058">regmatch_t::rm_so</a>, and <a class="el" href="../../d0/dc7/Convert_8cpp_source.html#l00106">strncpy()</a>.</p>

</div>
</div>
<a id="ad7f5fb0c45a9a1270ff1d9ca0b251a8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7f5fb0c45a9a1270ff1d9ca0b251a8d">&#9670;&nbsp;</a></span>expand_variable() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* expand_variable </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">*)(const char *, void *, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01705">expand_variable()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01613">st_expr_expand()</a>.</p>

</div>
</div>
<a id="a4dc2c358f1498457c16942810fcbb234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dc2c358f1498457c16942810fcbb234">&#9670;&nbsp;</a></span>expand_variable() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* expand_variable </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>out_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *(*)(const char *<a class="el" href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a>, void *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01705">1705</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;{</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keywordtype">char</span> ch;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> open_braces;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>, *ptr;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordtype">char</span> tmp[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>];</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    ch = <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>[0];</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;$&#39;</span>) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        <span class="comment">/*  Special case for &quot;$$&quot;: PID  */</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(tmp, <span class="stringliteral">&quot;%d&quot;</span>, (<span class="keywordtype">int</span>) <a class="code" href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid</a>());</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(tmp);</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + *out_pos &gt;= length)</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;            <span class="keywordflow">goto</span> expand_variable_out;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160; </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a> + *out_pos, tmp, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + 1);</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        out_pos += <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    }</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="comment">/*  Ordinary variable expansion, possibly in braces  */</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="keywordflow">if</span> (ch != <span class="charliteral">&#39;{&#39;</span>) {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <span class="comment">/*  Simple variable expansion  */</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="keywordflow">for</span> (ptr = <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>; <a class="code" href="../../d7/dd7/libbb_8h.html#a3db1d3e3db557d4493cd4084bce8834c">isalnum</a>(ch) || (ch == <span class="charliteral">&#39;_&#39;</span>) || (ch == <span class="charliteral">&#39;:&#39;</span>); ch = *++ptr)</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;            <span class="comment">/* VOID */</span>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = ptr - <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &gt;= <span class="keyword">sizeof</span> tmp)</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;            <span class="keywordflow">goto</span> expand_variable_out;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160; </div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a1e5fa65d7a3fccc813a9df4527a13430">safe_memcpy</a>(tmp, <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a> = ptr - 1;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a> = <a class="code" href="../../d6/d3a/devfsd_8c.html#a2ce73bddf1a0dc2f9bbc5f1b94b5d5e9">get_variable_v2</a>(tmp, <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;            <a class="code" href="../../d6/d3a/devfsd_8c.html#a7d915887d20e184f680358c4be506f7b">info_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#aeb4f36db01bd128c7afeac5889dac311">LOG_INFO</a>, bb_msg_variable_not_found, tmp);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        }</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + *out_pos &gt;= length)</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;            <span class="keywordflow">goto</span> expand_variable_out;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160; </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;        <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a> + *out_pos, <a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + 1);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        *out_pos += <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="comment">/*  Variable in braces: check for &#39;:&#39; tricks  */</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    ch = *++<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="keywordflow">for</span> (ptr = <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>; <a class="code" href="../../d7/dd7/libbb_8h.html#a3db1d3e3db557d4493cd4084bce8834c">isalnum</a>(ch) || (ch == <span class="charliteral">&#39;_&#39;</span>); ch = *++ptr)</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <span class="comment">/* VOID */</span>;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;}&#39;</span>) {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <span class="comment">/*  Must be simple variable expansion with &quot;${var}&quot;  */</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = ptr - <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &gt;= <span class="keyword">sizeof</span> tmp)</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            <span class="keywordflow">goto</span> expand_variable_out;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160; </div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a1e5fa65d7a3fccc813a9df4527a13430">safe_memcpy</a>(tmp, <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        ptr = <a class="code" href="../../d6/d3a/devfsd_8c.html#ad7f5fb0c45a9a1270ff1d9ca0b251a8d">expand_variable</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, length, out_pos, tmp, <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <span class="keywordflow">if</span> (ptr == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a> + <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    }</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="keywordflow">if</span> (ch != <span class="charliteral">&#39;:&#39;</span> || ptr[1] != <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a58fc47bd4e5767fdb0f7410e41638521">simple_info_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#aeb4f36db01bd128c7afeac5889dac311">LOG_INFO</a>, <span class="stringliteral">&quot;illegal char in var name&quot;</span>);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    }</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="comment">/*  It&#39;s that handy &quot;${var:-word}&quot; expression. Check if var is defined  */</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = ptr - <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &gt;= <span class="keyword">sizeof</span> tmp)</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        <span class="keywordflow">goto</span> expand_variable_out;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160; </div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a1e5fa65d7a3fccc813a9df4527a13430">safe_memcpy</a>(tmp, <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="comment">/*  Move input pointer to &#39;:&#39;  */</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a> = ptr;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="comment">/*  First skip to closing brace, taking note of nested expressions  */</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    ptr += 2;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    ch = ptr[0];</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">for</span> (open_braces = 1; open_braces &gt; 0; ch = *++ptr) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        <span class="keywordflow">switch</span> (ch) {</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;{&#39;</span>:</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                ++open_braces;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;}&#39;</span>:</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                --open_braces;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;\0&#39;</span>:</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#a7d915887d20e184f680358c4be506f7b">info_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#aeb4f36db01bd128c7afeac5889dac311">LOG_INFO</a>, <span class="stringliteral">&quot;\&quot;}\&quot; not found in: %s&quot;</span>, <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>);</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        }</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    }</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    --ptr;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="comment">/*  At this point ptr should point to closing brace of &quot;${var:-word}&quot;  */</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a> = <a class="code" href="../../d6/d3a/devfsd_8c.html#a2ce73bddf1a0dc2f9bbc5f1b94b5d5e9">get_variable_v2</a>(tmp, <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        <span class="comment">/*  Found environment variable, so skip the input to the closing brace</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="comment">            and return the variable  */</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a> = ptr;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + *out_pos &gt;= length)</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            <span class="keywordflow">goto</span> expand_variable_out;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a> + *out_pos, <a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + 1);</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        *out_pos += <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    }</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="comment">/*  Environment variable was not found, so process word. Advance input</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;<span class="comment">    pointer to start of word in &quot;${var:-word}&quot;  */</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a> += 2;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = ptr - <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &gt;= <span class="keyword">sizeof</span> tmp)</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        <span class="keywordflow">goto</span> expand_variable_out;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160; </div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a1e5fa65d7a3fccc813a9df4527a13430">safe_memcpy</a>(tmp, <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a> = ptr;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d3a/devfsd_8c.html#af9357beeaae7141bdcc3578a1421cc7d">st_expr_expand</a>(tmp, <a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>, tmp, <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>))</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(tmp);</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + *out_pos &gt;= length)</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <span class="keywordflow">goto</span> expand_variable_out;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a> + *out_pos, tmp, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + 1);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    *out_pos += <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;expand_variable_out:</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a58fc47bd4e5767fdb0f7410e41638521">simple_info_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#aeb4f36db01bd128c7afeac5889dac311">LOG_INFO</a>, bb_msg_small_buffer);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;}   <span class="comment">/*  End Function expand_variable  */</span></div>
<div class="ttc" id="aawk_8c_html_dd/d55/structfunc__s"><div class="ttname"><a href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/awk_8c_source.html#l00140">awk.c:140</a></div></div>
<div class="ttc" id="aconvert_8h_html_a309e07aa23e76adc2ad0830978663c45"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a></div><div class="ttdeci">#define memcpy(dest, src, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d82/convert_8h_source.html#l00116">convert.h:116</a></div></div>
<div class="ttc" id="aconvert_8h_html_a7dcc610f4b04a8ee418f03a6d9256629"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a></div><div class="ttdeci">long unsigned strlen(const char s[])</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc7/Convert_8cpp_source.html#l00064">Convert.cpp:64</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a1e5fa65d7a3fccc813a9df4527a13430"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a1e5fa65d7a3fccc813a9df4527a13430">safe_memcpy</a></div><div class="ttdeci">static void safe_memcpy(char *dest, const char *src, int len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00363">devfsd.c:363</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a2ce73bddf1a0dc2f9bbc5f1b94b5d5e9"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a2ce73bddf1a0dc2f9bbc5f1b94b5d5e9">get_variable_v2</a></div><div class="ttdeci">static const char * get_variable_v2(const char *, const char *(*)(const char *, void *), void *)</div></div>
<div class="ttc" id="adevfsd_8c_html_a58fc47bd4e5767fdb0f7410e41638521"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a58fc47bd4e5767fdb0f7410e41638521">simple_info_logger</a></div><div class="ttdeci">#define simple_info_logger(p, msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00354">devfsd.c:354</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a7d915887d20e184f680358c4be506f7b"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a7d915887d20e184f680358c4be506f7b">info_logger</a></div><div class="ttdeci">#define info_logger(p, fmt, args...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00353">devfsd.c:353</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ad7f5fb0c45a9a1270ff1d9ca0b251a8d"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ad7f5fb0c45a9a1270ff1d9ca0b251a8d">expand_variable</a></div><div class="ttdeci">static const char * expand_variable(char *, unsigned, unsigned *, const char *, const char *(*)(const char *, void *), void *)</div></div>
<div class="ttc" id="ajobs_8h_html_add1dc6545057b7f1c7f91352536fb060"><div class="ttname"><a href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid</a></div><div class="ttdeci">pid_t getpid()</div></div>
<div class="ttc" id="alibbb_8h_html_a3db1d3e3db557d4493cd4084bce8834c"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a3db1d3e3db557d4493cd4084bce8834c">isalnum</a></div><div class="ttdeci">#define isalnum(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02460">libbb.h:2460</a></div></div>
<div class="ttc" id="amultiboot_8h_html_a6de3a6d27a7e07942958b912d39792e6"><div class="ttname"><a href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a></div><div class="ttdeci">multiboot_uint64_t len</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc0/multiboot_8h_source.html#l00002">multiboot.h:2</a></div></div>
<div class="ttc" id="asyslog_8h_html_aeb4f36db01bd128c7afeac5889dac311"><div class="ttname"><a href="../../d7/d30/syslog_8h.html#aeb4f36db01bd128c7afeac5889dac311">LOG_INFO</a></div><div class="ttdeci">#define LOG_INFO</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d30/syslog_8h_source.html#l00016">syslog.h:16</a></div></div>
<div class="ttc" id="atermcap_8c_html_dd/da2/structbuffer"><div class="ttname"><a href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc6/termcap_8c_source.html#l00384">termcap.c:385</a></div></div>
<div class="ttc" id="auevent_8c_html_af973ca20f6594ad664c03daa83867128"><div class="ttname"><a href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a></div><div class="ttdeci">#define env</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/uevent_8c_source.html#l00029">uevent.c:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d4a/uevent_8c_source.html#l00029">env</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#ad7f5fb0c45a9a1270ff1d9ca0b251a8d">expand_variable()</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#a2ce73bddf1a0dc2f9bbc5f1b94b5d5e9">get_variable_v2()</a>, <a class="el" href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid()</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00353">info_logger</a>, <a class="el" href="../../d7/dd7/stty_8c_source.html#l00256">input</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02460">isalnum</a>, <a class="el" href="../../d1/dc0/multiboot_8h_source.html#l00002">len</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00016">LOG_INFO</a>, <a class="el" href="../../d3/d82/convert_8h_source.html#l00116">memcpy</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00363">safe_memcpy()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00354">simple_info_logger</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf()</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#af9357beeaae7141bdcc3578a1421cc7d">st_expr_expand()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00190">STRING_LENGTH</a>, and <a class="el" href="../../d0/dc7/Convert_8cpp_source.html#l00064">strlen()</a>.</p>

</div>
</div>
<a id="a9328ac30d509a60dc59b5b7645fc7f00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9328ac30d509a60dc59b5b7645fc7f00">&#9670;&nbsp;</a></span>free_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_config </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01114">1114</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;{</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *c_entry;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">for</span> (c_entry = <a class="code" href="../../d6/d3a/devfsd_8c.html#a3b35573c0207d8073e91bfc6742a516d">first_config</a>; c_entry != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; c_entry = <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>) {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a> = c_entry-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a88910b75e4165e75c2ec465c7d2b5eae">next</a>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <a class="code" href="../../d1/d21/regex_8h.html#a066c5e045d5a38b1a7bb7a1fc5b235e1">regfree</a>(&amp;c_entry-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a8f930f58ae2346fafc1c4029cbc99df6">preg</a>);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="keywordflow">if</span> (c_entry-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a1ed0964d8cc4ca7b618222720792f53e">action</a>.<a class="code" href="../../d6/d3a/devfsd_8c.html#aa9acce53e605c42a10d32b4cafca5068">what</a> == <a class="code" href="../../d6/d3a/devfsd_8c.html#aefc9286b77b6e49e7acc5e9438d2ffca">AC_EXECUTE</a>) {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> = 0; <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> &lt; <a class="code" href="../../d6/d3a/devfsd_8c.html#a29b7451465deac204c5f7cb1f9c6e1fc">MAX_ARGS</a>; ++<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>) {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                <span class="keywordflow">if</span> (c_entry-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a11562834057b5e954a7e5281e25f88ec">u</a>.execute.argv[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>] == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(c_entry-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a11562834057b5e954a7e5281e25f88ec">u</a>.execute.argv[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>]);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        }</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(c_entry);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    }</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a3b35573c0207d8073e91bfc6742a516d">first_config</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#aa7ef58f29db96f4eabb81e30315b4936">last_config</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;}   <span class="comment">/*  End Function free_config  */</span></div>
<div class="ttc" id="adevfsd_8c_html_a11562834057b5e954a7e5281e25f88ec"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a11562834057b5e954a7e5281e25f88ec">config_entry_struct::u</a></div><div class="ttdeci">union config_entry_struct::@1006 u</div></div>
<div class="ttc" id="adevfsd_8c_html_a1ed0964d8cc4ca7b618222720792f53e"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a1ed0964d8cc4ca7b618222720792f53e">config_entry_struct::action</a></div><div class="ttdeci">struct action_type action</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00243">devfsd.c:247</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a3b35573c0207d8073e91bfc6742a516d"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a3b35573c0207d8073e91bfc6742a516d">first_config</a></div><div class="ttdeci">static struct config_entry_struct * first_config</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00304">devfsd.c:304</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a88910b75e4165e75c2ec465c7d2b5eae"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a88910b75e4165e75c2ec465c7d2b5eae">config_entry_struct::next</a></div><div class="ttdeci">struct config_entry_struct * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00256">devfsd.c:256</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a8f930f58ae2346fafc1c4029cbc99df6"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a8f930f58ae2346fafc1c4029cbc99df6">config_entry_struct::preg</a></div><div class="ttdeci">regex_t preg</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00248">devfsd.c:248</a></div></div>
<div class="ttc" id="adevfsd_8c_html_aa7ef58f29db96f4eabb81e30315b4936"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#aa7ef58f29db96f4eabb81e30315b4936">last_config</a></div><div class="ttdeci">static struct config_entry_struct * last_config</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00305">devfsd.c:305</a></div></div>
<div class="ttc" id="adevfsd_8c_html_aa9acce53e605c42a10d32b4cafca5068"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#aa9acce53e605c42a10d32b4cafca5068">action_type::what</a></div><div class="ttdeci">unsigned int what</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00242">devfsd.c:242</a></div></div>
<div class="ttc" id="adevfsd_8c_html_aefc9286b77b6e49e7acc5e9438d2ffca"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#aefc9286b77b6e49e7acc5e9438d2ffca">AC_EXECUTE</a></div><div class="ttdeci">#define AC_EXECUTE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00215">devfsd.c:215</a></div></div>
<div class="ttc" id="adevfsd_8c_html_d9/db8/structconfig__entry__struct"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00246">devfsd.c:246</a></div></div>
<div class="ttc" id="areadprofile_8c_html_a2f905a9c4868f5f248b12d584a78dfbd"><div class="ttname"><a href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a></div><div class="ttdeci">#define next</div></div>
<div class="ttc" id="aregex_8h_html_a066c5e045d5a38b1a7bb7a1fc5b235e1"><div class="ttname"><a href="../../d1/d21/regex_8h.html#a066c5e045d5a38b1a7bb7a1fc5b235e1">regfree</a></div><div class="ttdeci">void regfree(regex_t *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d86/regcomp_8c_source.html#l02907">regcomp.c:2907</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00215">AC_EXECUTE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00247">config_entry_struct::action</a>, <a class="el" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00304">first_config</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00305">last_config</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00188">MAX_ARGS</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00256">config_entry_struct::next</a>, <a class="el" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00248">config_entry_struct::preg</a>, <a class="el" href="../../d0/d86/regcomp_8c_source.html#l02907">regfree()</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#a11562834057b5e954a7e5281e25f88ec">config_entry_struct::u</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00242">action_type::what</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00407">devfsd_main()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">process_config_line()</a>.</p>

</div>
</div>
<a id="a3932f21127755651e4c89cfdabeae49f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3932f21127755651e4c89cfdabeae49f">&#9670;&nbsp;</a></span>get_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#ad2933406ba93c0e0d1884fc09c18a0bf">mode_t</a> get_mode </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01172">1172</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;{</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#ad2933406ba93c0e0d1884fc09c18a0bf">mode_t</a> mode;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(<span class="keywordtype">string</span>[0]))</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d3/d82/convert_8h.html#aa7d767d03ce3929978c28f64e3a4b222">strtoul</a>(<span class="keywordtype">string</span>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 8);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<span class="keywordtype">string</span>) != 9)</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a267624774a2c7563fe5aafa63e087fd1">msg_logger_and_die</a>(<a class="code" href="../../d7/d30/syslog_8h.html#a96fad55b3f5adf08c39e4c877cf185e3">LOG_ERR</a>, <span class="stringliteral">&quot;bad mode: %s&quot;</span>, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    mode = 0;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d1/d85/filesystem_8hpp.html#a84c7dbf5cf2fdfb690f76348b60a8cb7">S_IRUSR</a>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &gt; 0) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span>[0] == <span class="charliteral">&#39;r&#39;</span> || <span class="keywordtype">string</span>[0] == <span class="charliteral">&#39;w&#39;</span> || <span class="keywordtype">string</span>[0] == <span class="charliteral">&#39;x&#39;</span>)</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            mode += <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> / 2;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <span class="keywordtype">string</span>++;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    }</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">return</span> mode;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;}   <span class="comment">/*  End Function get_mode  */</span></div>
<div class="ttc" id="aconvert_8h_html_aa7d767d03ce3929978c28f64e3a4b222"><div class="ttname"><a href="../../d3/d82/convert_8h.html#aa7d767d03ce3929978c28f64e3a4b222">strtoul</a></div><div class="ttdeci">unsigned long int strtoul(const char *str, char **endptr, int base)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc7/Convert_8cpp_source.html#l00240">Convert.cpp:240</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a267624774a2c7563fe5aafa63e087fd1"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a267624774a2c7563fe5aafa63e087fd1">msg_logger_and_die</a></div><div class="ttdeci">#define msg_logger_and_die(p, fmt, args...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00357">devfsd.c:357</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a84c7dbf5cf2fdfb690f76348b60a8cb7"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a84c7dbf5cf2fdfb690f76348b60a8cb7">S_IRUSR</a></div><div class="ttdeci">#define S_IRUSR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00047">filesystem.hpp:47</a></div></div>
<div class="ttc" id="alibbb_8h_html_aefb5fe894e4d5f0e52d5853f99200d96"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a></div><div class="ttdeci">#define isdigit(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02447">libbb.h:2447</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02447">isdigit</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00013">LOG_ERR</a>, <a class="el" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h_source.html#l00011">mode_t</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00357">msg_logger_and_die</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00047">S_IRUSR</a>, <a class="el" href="../../d0/dc7/Convert_8cpp_source.html#l00064">strlen()</a>, and <a class="el" href="../../d0/dc7/Convert_8cpp_source.html#l00240">strtoul()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">process_config_line()</a>.</p>

</div>
</div>
<a id="a499ba6d8a5ee5e52c88d30e155f79310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a499ba6d8a5ee5e52c88d30e155f79310">&#9670;&nbsp;</a></span>get_old_ide_name() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char get_old_ide_name </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>minor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01548">1548</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;{</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <span class="keywordtype">char</span> letter = <span class="charliteral">&#39;y&#39;</span>;  <span class="comment">/* 121 */</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;a&#39;</span>;       <span class="comment">/*  97 */</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d6/d3a/devfsd_8c.html#a291c0ccad55b6ac471b926ba70fe1973">IDE0_MAJOR</a>;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160; </div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <span class="comment">/* I hope it works like the previous code as it saves a few bytes. Tito ;P */</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../d6/d3a/devfsd_8c.html#a291c0ccad55b6ac471b926ba70fe1973">IDE0_MAJOR</a> || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../d6/d3a/devfsd_8c.html#a5d0765cb06936db5c9867331d67c44d6">IDE1_MAJOR</a> || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../d6/d3a/devfsd_8c.html#a9dc2008a9442401f3b552bc54520655b">IDE2_MAJOR</a></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;         || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../d6/d3a/devfsd_8c.html#a1ddb11b249c6f293bd2fabbafd2d5efc">IDE3_MAJOR</a> || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../d6/d3a/devfsd_8c.html#a6fcdc7c9cd4123e071dbe4454c6c011c">IDE4_MAJOR</a> || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../d6/d3a/devfsd_8c.html#ad857aa5bba8293fa640ace15330b6b44">IDE5_MAJOR</a></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;         || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../d6/d3a/devfsd_8c.html#a8ce709a552d9c269eeaf6dd6cfd352a2">IDE6_MAJOR</a> || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../d6/d3a/devfsd_8c.html#a735e0c3ce435cf507166130431f56f88">IDE7_MAJOR</a> || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../d6/d3a/devfsd_8c.html#ad9a1d3a707e7f8be04c49a1081cf8fd8">IDE8_MAJOR</a></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;         || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../d6/d3a/devfsd_8c.html#a397438a424b3bc3fbab80d2d078a0942">IDE9_MAJOR</a></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        ) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;            <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../d5/dfb/sysmacros_8h.html#a394c7314d2185f6fe159921af7fe4fb2">major</a>) {</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                letter = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            }</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> += 2;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        }</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt;= <a class="code" href="../../d6/d3a/devfsd_8c.html#a397438a424b3bc3fbab80d2d078a0942">IDE9_MAJOR</a>);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160; </div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a> &gt; 63)</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        ++letter;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordflow">return</span> letter;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;}   <span class="comment">/*  End Function get_old_ide_name  */</span></div>
<div class="ttc" id="adevfsd_8c_html_a1ddb11b249c6f293bd2fabbafd2d5efc"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a1ddb11b249c6f293bd2fabbafd2d5efc">IDE3_MAJOR</a></div><div class="ttdeci">#define IDE3_MAJOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00139">devfsd.c:139</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a291c0ccad55b6ac471b926ba70fe1973"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a291c0ccad55b6ac471b926ba70fe1973">IDE0_MAJOR</a></div><div class="ttdeci">#define IDE0_MAJOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00136">devfsd.c:136</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a397438a424b3bc3fbab80d2d078a0942"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a397438a424b3bc3fbab80d2d078a0942">IDE9_MAJOR</a></div><div class="ttdeci">#define IDE9_MAJOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00145">devfsd.c:145</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a5d0765cb06936db5c9867331d67c44d6"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a5d0765cb06936db5c9867331d67c44d6">IDE1_MAJOR</a></div><div class="ttdeci">#define IDE1_MAJOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00137">devfsd.c:137</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a6fcdc7c9cd4123e071dbe4454c6c011c"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a6fcdc7c9cd4123e071dbe4454c6c011c">IDE4_MAJOR</a></div><div class="ttdeci">#define IDE4_MAJOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00140">devfsd.c:140</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a735e0c3ce435cf507166130431f56f88"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a735e0c3ce435cf507166130431f56f88">IDE7_MAJOR</a></div><div class="ttdeci">#define IDE7_MAJOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00143">devfsd.c:143</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a8ce709a552d9c269eeaf6dd6cfd352a2"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a8ce709a552d9c269eeaf6dd6cfd352a2">IDE6_MAJOR</a></div><div class="ttdeci">#define IDE6_MAJOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00142">devfsd.c:142</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a9dc2008a9442401f3b552bc54520655b"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a9dc2008a9442401f3b552bc54520655b">IDE2_MAJOR</a></div><div class="ttdeci">#define IDE2_MAJOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00138">devfsd.c:138</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ad857aa5bba8293fa640ace15330b6b44"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ad857aa5bba8293fa640ace15330b6b44">IDE5_MAJOR</a></div><div class="ttdeci">#define IDE5_MAJOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00141">devfsd.c:141</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ad9a1d3a707e7f8be04c49a1081cf8fd8"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ad9a1d3a707e7f8be04c49a1081cf8fd8">IDE8_MAJOR</a></div><div class="ttdeci">#define IDE8_MAJOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00144">devfsd.c:144</a></div></div>
<div class="ttc" id="asysmacros_8h_html_a394c7314d2185f6fe159921af7fe4fb2"><div class="ttname"><a href="../../d5/dfb/sysmacros_8h.html#a394c7314d2185f6fe159921af7fe4fb2">major</a></div><div class="ttdeci">#define major(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dfb/sysmacros_8h_source.html#l00004">sysmacros.h:4</a></div></div>
<div class="ttc" id="asysmacros_8h_html_ab8a08609d226ca12fd7814f8644a3619"><div class="ttname"><a href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a></div><div class="ttdeci">#define minor(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dfb/sysmacros_8h_source.html#l00006">sysmacros.h:6</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00136">IDE0_MAJOR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00137">IDE1_MAJOR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00138">IDE2_MAJOR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00139">IDE3_MAJOR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00140">IDE4_MAJOR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00141">IDE5_MAJOR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00142">IDE6_MAJOR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00143">IDE7_MAJOR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00144">IDE8_MAJOR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00145">IDE9_MAJOR</a>, <a class="el" href="../../d5/dfb/sysmacros_8h_source.html#l00004">major</a>, and <a class="el" href="../../d5/dfb/sysmacros_8h_source.html#l00006">minor</a>.</p>

</div>
</div>
<a id="a28868f69b226984146274fce53803088"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28868f69b226984146274fce53803088">&#9670;&nbsp;</a></span>get_old_ide_name() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char get_old_ide_name </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01451">get_old_name()</a>.</p>

</div>
</div>
<a id="abe6393b1b7d35b9b93b1a0d60888affb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe6393b1b7d35b9b93b1a0d60888affb">&#9670;&nbsp;</a></span>get_old_name() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* get_old_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00915">action_compat()</a>.</p>

</div>
</div>
<a id="a3aeeb6c3466c5d5fb0ebfb5a95bf51af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aeeb6c3466c5d5fb0ebfb5a95bf51af">&#9670;&nbsp;</a></span>get_old_name() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* get_old_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>minor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01451">1451</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;{</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *compat_name = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *ptr;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d3a/devfsd_8c.html#d8/de0/structtranslate__struct">translate_struct</a> *<a class="code" href="../../d2/d48/____tz_8c.html#a2fe4ce5ea9e97fdb509a972a006a1ef6">trans</a>;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="keywordtype">char</span> mode;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="keywordtype">int</span> indexx;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *pty1;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *pty2;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="comment">/* 1 to 5  &quot;scsi/&quot; , 6 to 9 &quot;ide/host&quot;, 10 sbp/, 11 vcc/, 12 pty/ */</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> fmt[] <a class="code" href="../../d4/d7f/getopt32_8c.html#a294cdd7960ba485bbf8285a68cba204e">ALIGN_PTR</a> = {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ,</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <span class="stringliteral">&quot;sg%u&quot;</span>,         <span class="comment">/* scsi/generic */</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,           <span class="comment">/* scsi/disc */</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <span class="stringliteral">&quot;sr%u&quot;</span>,         <span class="comment">/* scsi/cd */</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,           <span class="comment">/* scsi/part */</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        <span class="stringliteral">&quot;nst%u%c&quot;</span>,      <span class="comment">/* scsi/mt */</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        <span class="stringliteral">&quot;hd%c&quot;</span>  ,       <span class="comment">/* ide/host/disc */</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <span class="stringliteral">&quot;hd%c&quot;</span>  ,       <span class="comment">/* ide/host/cd */</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="stringliteral">&quot;hd%c%s&quot;</span>,       <span class="comment">/* ide/host/part */</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <span class="stringliteral">&quot;%sht%d&quot;</span>,       <span class="comment">/* ide/host/mt */</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        <span class="stringliteral">&quot;sbpcd%u&quot;</span>,      <span class="comment">/* sbp/ */</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="stringliteral">&quot;vcs%s&quot;</span>,        <span class="comment">/* vcc/ */</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <span class="stringliteral">&quot;%cty%c%c&quot;</span>,     <span class="comment">/* pty/ */</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    };</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160; </div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d48/____tz_8c.html#a2fe4ce5ea9e97fdb509a972a006a1ef6">trans</a> = <a class="code" href="../../d6/d3a/devfsd_8c.html#a9bc873142de73940654cebca525bb479">translate_table</a>; <a class="code" href="../../d2/d48/____tz_8c.html#a2fe4ce5ea9e97fdb509a972a006a1ef6">trans</a>-&gt;match != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; ++<a class="code" href="../../d2/d48/____tz_8c.html#a2fe4ce5ea9e97fdb509a972a006a1ef6">trans</a>) {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        <span class="keywordtype">char</span> *after_match = <a class="code" href="../../d7/dd7/libbb_8h.html#a4efef3cefc2a7e3a1176da4352a90769">is_prefixed_with</a>(devname, <a class="code" href="../../d2/d48/____tz_8c.html#a2fe4ce5ea9e97fdb509a972a006a1ef6">trans</a>-&gt;match);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        <span class="keywordflow">if</span> (after_match) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/d48/____tz_8c.html#a2fe4ce5ea9e97fdb509a972a006a1ef6">trans</a>-&gt;format == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                <span class="keywordflow">return</span> after_match;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;            <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, <a class="code" href="../../d2/d48/____tz_8c.html#a2fe4ce5ea9e97fdb509a972a006a1ef6">trans</a>-&gt;format, after_match);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d1/d18/less_8c.html#aaadc06b5dac8070de2c8677210967bdb">buffer</a>;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        }</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    }</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    ptr = <a class="code" href="../../d7/dd7/libbb_8h.html#ae08d0a76a2c4bbeda2dbe9491d857bd6">bb_basename</a>(devname);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d6/d3a/devfsd_8c.html#aa0682e5279f7b4535e7a456b6d5f6360">scan_dev_name</a>(devname, <a class="code" href="../../dc/d72/fsck__minix_8c.html#ae35b977157df01917b1e9c24cb65d288">namelen</a>, ptr);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &gt; 0 &amp;&amp; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; 13)</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        compat_name = <a class="code" href="../../d1/d18/less_8c.html#aaadc06b5dac8070de2c8677210967bdb">buffer</a>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="comment">/* 1 == scsi/generic, 3 == scsi/cd, 10 == sbp/ */</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 1 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 3 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 10)</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, fmt[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>], <a class="code" href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a>);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="comment">/* 2 ==scsi/disc, 4 == scsi/part */</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 2 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 4)</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        compat_name = <a class="code" href="../../d6/d3a/devfsd_8c.html#ab26143a9703e4557716517f98916be9e">write_old_sd_name</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, <a class="code" href="../../d5/dfb/sysmacros_8h.html#a394c7314d2185f6fe159921af7fe4fb2">major</a>, <a class="code" href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a>, ((<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 2) ? <span class="stringliteral">&quot;&quot;</span> : (ptr + 4)));</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="comment">/* 5 == scsi/mt */</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 5) {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        mode = ptr[2];</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        <span class="keywordflow">if</span> (mode == <span class="charliteral">&#39;n&#39;</span>)</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;            mode = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, fmt[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>], <a class="code" href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a> &amp; 0x1f, mode);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <span class="keywordflow">if</span> (devname[<a class="code" href="../../dc/d72/fsck__minix_8c.html#ae35b977157df01917b1e9c24cb65d288">namelen</a> - 1] != <span class="charliteral">&#39;n&#39;</span>)</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            ++compat_name;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    }</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="comment">/* 6 == ide/host/disc, 7 == ide/host/cd, 8 == ide/host/part */</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 6 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 7 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 8)</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        <span class="comment">/* last arg should be ignored for i == 6 or i== 7 */</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, fmt[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] , <a class="code" href="../../d6/d3a/devfsd_8c.html#a28868f69b226984146274fce53803088">get_old_ide_name</a>(<a class="code" href="../../d5/dfb/sysmacros_8h.html#a394c7314d2185f6fe159921af7fe4fb2">major</a>, <a class="code" href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a>), ptr + 4);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="comment">/* 9 ==  ide/host/mt */</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 9)</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, fmt[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>], ptr + 2, <a class="code" href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a> &amp; 0x7f);</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160; </div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="comment">/*  11 == vcc/ */</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 11) {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, fmt[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>], devname + 4);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>[3] == <span class="charliteral">&#39;0&#39;</span>)</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            <a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>[3] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    }</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">/* 12 ==  pty/ */</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 12) {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        pty1 = <span class="stringliteral">&quot;pqrstuvwxyzabcde&quot;</span>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        pty2 = <span class="stringliteral">&quot;0123456789abcdef&quot;</span>;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        indexx = <a class="code" href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a>(devname + 5);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, fmt[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>], (devname[4] == <span class="charliteral">&#39;m&#39;</span>) ? <span class="charliteral">&#39;p&#39;</span> : <span class="charliteral">&#39;t&#39;</span>, pty1[indexx &gt;&gt; 4], pty2[indexx &amp; 0x0f]);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    }</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="keywordflow">return</span> compat_name;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;}   <span class="comment">/*  End Function get_old_name  */</span></div>
<div class="ttc" id="a____tz_8c_html_a2fe4ce5ea9e97fdb509a972a006a1ef6"><div class="ttname"><a href="../../d2/d48/____tz_8c.html#a2fe4ce5ea9e97fdb509a972a006a1ef6">trans</a></div><div class="ttdeci">static const unsigned char * trans</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/____tz_8c_source.html#l00032">__tz.c:32</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a28868f69b226984146274fce53803088"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a28868f69b226984146274fce53803088">get_old_ide_name</a></div><div class="ttdeci">static char get_old_ide_name(unsigned, unsigned)</div></div>
<div class="ttc" id="adevfsd_8c_html_a9bc873142de73940654cebca525bb479"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a9bc873142de73940654cebca525bb479">translate_table</a></div><div class="ttdeci">static struct translate_struct translate_table[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01354">devfsd.c:1418</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ab26143a9703e4557716517f98916be9e"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ab26143a9703e4557716517f98916be9e">write_old_sd_name</a></div><div class="ttdeci">static char * write_old_sd_name(char *, unsigned, unsigned, const char *)</div></div>
<div class="ttc" id="adevfsd_8c_html_d8/de0/structtranslate__struct"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#d8/de0/structtranslate__struct">translate_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01412">devfsd.c:1412</a></div></div>
<div class="ttc" id="afsck__minix_8c_html_ae35b977157df01917b1e9c24cb65d288"><div class="ttname"><a href="../../dc/d72/fsck__minix_8c.html#ae35b977157df01917b1e9c24cb65d288">namelen</a></div><div class="ttdeci">#define namelen</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d72/fsck__minix_8c_source.html#l00196">fsck_minix.c:196</a></div></div>
<div class="ttc" id="aless_8c_html_aaadc06b5dac8070de2c8677210967bdb"><div class="ttname"><a href="../../d1/d18/less_8c.html#aaadc06b5dac8070de2c8677210967bdb">buffer</a></div><div class="ttdeci">#define buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d18/less_8c_source.html#l00257">less.c:257</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4efef3cefc2a7e3a1176da4352a90769"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4efef3cefc2a7e3a1176da4352a90769">is_prefixed_with</a></div><div class="ttdeci">char * is_prefixed_with(const char *string, const char *key) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d40/compare__string__array_8c_source.html#l00012">compare_string_array.c:12</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d7f/getopt32_8c_source.html#l00299">ALIGN_PTR</a>, <a class="el" href="../../d0/dc7/Convert_8cpp_source.html#l00540">atoi()</a>, <a class="el" href="../../db/db4/get__last__path__component_8c_source.html#l00011">bb_basename()</a>, <a class="el" href="../../d1/d18/less_8c_source.html#l00257">buffer</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#a28868f69b226984146274fce53803088">get_old_ide_name()</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d2/d40/compare__string__array_8c_source.html#l00012">is_prefixed_with()</a>, <a class="el" href="../../d5/dfb/sysmacros_8h_source.html#l00004">major</a>, <a class="el" href="../../d5/dfb/sysmacros_8h_source.html#l00006">minor</a>, <a class="el" href="../../dc/d72/fsck__minix_8c_source.html#l00196">namelen</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00382">scan_dev_name()</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf()</a>, <a class="el" href="../../d2/d48/____tz_8c_source.html#l00032">trans</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01418">translate_table</a>, and <a class="el" href="../../d6/d3a/devfsd_8c.html#ab26143a9703e4557716517f98916be9e">write_old_sd_name()</a>.</p>

</div>
</div>
<a id="ac751fa96b3bad0dde91a65840c822188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac751fa96b3bad0dde91a65840c822188">&#9670;&nbsp;</a></span>get_uid_gid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_uid_gid </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01140">1140</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;{</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d9/dc9/pwd_8h.html#d6/d85/structpasswd">passwd</a> *pw_ent;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../dd/dbc/meta_8h.html#d3/d08/structgroup">group</a> *grp_ent;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *msg;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(<span class="keywordtype">string</span>[0]) || ((<span class="keywordtype">string</span>[0] == <span class="charliteral">&#39;-&#39;</span>) &amp;&amp; <a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(<span class="keywordtype">string</span>[1])))</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a>(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span> (flag == <a class="code" href="../../d6/d3a/devfsd_8c.html#aeb5b8a9664c45b817bf00533e8e487f0">UID</a> &amp;&amp; (pw_ent = <a class="code" href="../../d1/dd6/pwd___8h.html#afa6183bc8f20fc62f2e63821d93b8ff1">getpwnam</a>(<span class="keywordtype">string</span>)) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <span class="keywordflow">return</span> pw_ent-&gt;<a class="code" href="../../d9/dc9/pwd_8h.html#aa6e0e62ee3cf5152f2697a0104f627c1">pw_uid</a>;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">if</span> (ENABLE_DEVFSD_VERBOSE)</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        msg = <span class="stringliteral">&quot;user&quot;</span>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordflow">if</span> (flag == <a class="code" href="../../d6/d3a/devfsd_8c.html#a5b96ecb16d8e437977d12cd40aa6f6d8">GID</a>) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="keywordflow">if</span> ((grp_ent = <a class="code" href="../../db/d32/grp___8h.html#ad0b5c1cc253d2363d53e93c91cd12f28">getgrnam</a>(<span class="keywordtype">string</span>)) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            <span class="keywordflow">return</span> grp_ent-&gt;<a class="code" href="../../dd/dbc/meta_8h.html#a00f124d1201a4de3cc885fe87a91431f">gr_gid</a>;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <span class="keywordflow">if</span> (ENABLE_DEVFSD_VERBOSE)</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            msg = <span class="stringliteral">&quot;group&quot;</span>;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    }</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordflow">if</span> (ENABLE_DEVFSD_VERBOSE)</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a6cd2f3b8f98626c541af84e9e73ee200">msg_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#a96fad55b3f5adf08c39e4c877cf185e3">LOG_ERR</a>, <span class="stringliteral">&quot;unknown %s: %s, defaulting to %cid=0&quot;</span>,  msg, <span class="keywordtype">string</span>, msg[0]);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;}<span class="comment">/*  End Function get_uid_gid  */</span></div>
<div class="ttc" id="adevfsd_8c_html_a5b96ecb16d8e437977d12cd40aa6f6d8"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a5b96ecb16d8e437977d12cd40aa6f6d8">GID</a></div><div class="ttdeci">#define GID</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00194">devfsd.c:194</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a6cd2f3b8f98626c541af84e9e73ee200"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a6cd2f3b8f98626c541af84e9e73ee200">msg_logger</a></div><div class="ttdeci">#define msg_logger(p, fmt, args...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00355">devfsd.c:355</a></div></div>
<div class="ttc" id="adevfsd_8c_html_aeb5b8a9664c45b817bf00533e8e487f0"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#aeb5b8a9664c45b817bf00533e8e487f0">UID</a></div><div class="ttdeci">#define UID</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00193">devfsd.c:193</a></div></div>
<div class="ttc" id="agrp___8h_html_ad0b5c1cc253d2363d53e93c91cd12f28"><div class="ttname"><a href="../../db/d32/grp___8h.html#ad0b5c1cc253d2363d53e93c91cd12f28">getgrnam</a></div><div class="ttdeci">#define getgrnam</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d32/grp___8h_source.html#l00035">grp_.h:35</a></div></div>
<div class="ttc" id="ameta_8h_html_a00f124d1201a4de3cc885fe87a91431f"><div class="ttname"><a href="../../dd/dbc/meta_8h.html#a00f124d1201a4de3cc885fe87a91431f">group::gr_gid</a></div><div class="ttdeci">gid_t gr_gid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d47/grp_8h_source.html#l00022">grp.h:22</a></div></div>
<div class="ttc" id="ameta_8h_html_d3/d08/structgroup"><div class="ttname"><a href="../../dd/dbc/meta_8h.html#d3/d08/structgroup">group</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d47/grp_8h_source.html#l00019">grp.h:19</a></div></div>
<div class="ttc" id="apwd_8h_html_aa6e0e62ee3cf5152f2697a0104f627c1"><div class="ttname"><a href="../../d9/dc9/pwd_8h.html#aa6e0e62ee3cf5152f2697a0104f627c1">passwd::pw_uid</a></div><div class="ttdeci">uid_t pw_uid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc9/pwd_8h_source.html#l00023">pwd.h:23</a></div></div>
<div class="ttc" id="apwd_8h_html_d6/d85/structpasswd"><div class="ttname"><a href="../../d9/dc9/pwd_8h.html#d6/d85/structpasswd">passwd</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc9/pwd_8h_source.html#l00020">pwd.h:20</a></div></div>
<div class="ttc" id="apwd___8h_html_afa6183bc8f20fc62f2e63821d93b8ff1"><div class="ttname"><a href="../../d1/dd6/pwd___8h.html#afa6183bc8f20fc62f2e63821d93b8ff1">getpwnam</a></div><div class="ttdeci">#define getpwnam</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dd6/pwd___8h_source.html#l00038">pwd_.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/dc7/Convert_8cpp_source.html#l00540">atoi()</a>, <a class="el" href="../../db/d32/grp___8h_source.html#l00035">getgrnam</a>, <a class="el" href="../../d1/dd6/pwd___8h_source.html#l00038">getpwnam</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00194">GID</a>, <a class="el" href="../../d1/d47/grp_8h_source.html#l00022">group::gr_gid</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02447">isdigit</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00013">LOG_ERR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00355">msg_logger</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d9/dc9/pwd_8h_source.html#l00023">passwd::pw_uid</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00193">UID</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">process_config_line()</a>.</p>

</div>
</div>
<a id="a98b3b0660d1f8cb5a60ddfe58f38ea0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98b3b0660d1f8cb5a60ddfe58f38ea0b">&#9670;&nbsp;</a></span>get_variable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char * get_variable </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>variable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01206">1206</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;{</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> *hostname;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d3a/devfsd_8c.html#dd/d0b/structget__variable__info">get_variable_info</a> *gv_info = <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *field_names[] = {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            <span class="stringliteral">&quot;hostname&quot;</span>, <span class="stringliteral">&quot;mntpt&quot;</span>, <span class="stringliteral">&quot;devpath&quot;</span>, <span class="stringliteral">&quot;devname&quot;</span>, <span class="stringliteral">&quot;uid&quot;</span>, <span class="stringliteral">&quot;gid&quot;</span>, <span class="stringliteral">&quot;mode&quot;</span>,</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a>, gv_info-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a036ee66e941ac65bfb7420a256067cac">devpath</a>, gv_info-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#ad9f1dd284c2f656b95151a9c747ec30b">devname</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    };</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">if</span> (!hostname)</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        hostname = <a class="code" href="../../d7/dd7/libbb_8h.html#acfc4ac241f0fdb33c46b625a09d92519">safe_gethostname</a>();</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    field_names[7] = hostname;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="comment">/* index_in_str_array returns i&gt;=0  */</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a0f9232cd7082e716a3de20ae186a08bd">index_in_str_array</a>(field_names, <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a>);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &gt; 6 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; 0 || (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &gt; 1 &amp;&amp; gv_info == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &gt;= 0 &amp;&amp; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt;= 3)</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <span class="keywordflow">return</span> field_names[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> + 7];</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 4)</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a75f3af03b38d728d93654c79ed67f281">auto_string</a>(<a class="code" href="../../d7/dd7/libbb_8h.html#a4d828f2f187169b160c384cde2d0b0b0">xasprintf</a>(<span class="stringliteral">&quot;%u&quot;</span>, gv_info-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a6295428d3602bbbbdbb1357251c34a61">info</a>-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#ad726c400aabee23bb1051af34ae20902">uid</a>));</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 5)</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a75f3af03b38d728d93654c79ed67f281">auto_string</a>(<a class="code" href="../../d7/dd7/libbb_8h.html#a4d828f2f187169b160c384cde2d0b0b0">xasprintf</a>(<span class="stringliteral">&quot;%u&quot;</span>, gv_info-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a6295428d3602bbbbdbb1357251c34a61">info</a>-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a312bdcd1ac9978b83ac0acc815403d60">gid</a>));</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="comment">/* i == 6 */</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a75f3af03b38d728d93654c79ed67f281">auto_string</a>(<a class="code" href="../../d7/dd7/libbb_8h.html#a4d828f2f187169b160c384cde2d0b0b0">xasprintf</a>(<span class="stringliteral">&quot;%o&quot;</span>, gv_info-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a6295428d3602bbbbdbb1357251c34a61">info</a>-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a0b0128a9314370edc3ee1a895394e76f">mode</a>));</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}   <span class="comment">/*  End Function get_variable  */</span></div>
<div class="ttc" id="adevfsd_8c_html_a036ee66e941ac65bfb7420a256067cac"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a036ee66e941ac65bfb7420a256067cac">get_variable_info::devpath</a></div><div class="ttdeci">char devpath[STRING_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00262">devfsd.c:262</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a0b0128a9314370edc3ee1a895394e76f"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a0b0128a9314370edc3ee1a895394e76f">devfsd_notify_struct::mode</a></div><div class="ttdeci">unsigned int mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00170">devfsd.c:170</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a312bdcd1ac9978b83ac0acc815403d60"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a312bdcd1ac9978b83ac0acc815403d60">devfsd_notify_struct::gid</a></div><div class="ttdeci">unsigned int gid</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00174">devfsd.c:174</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a6295428d3602bbbbdbb1357251c34a61"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a6295428d3602bbbbdbb1357251c34a61">get_variable_info::info</a></div><div class="ttdeci">const struct devfsd_notify_struct * info</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00260">devfsd.c:260</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ad726c400aabee23bb1051af34ae20902"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ad726c400aabee23bb1051af34ae20902">devfsd_notify_struct::uid</a></div><div class="ttdeci">unsigned int uid</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00173">devfsd.c:173</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ad9f1dd284c2f656b95151a9c747ec30b"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ad9f1dd284c2f656b95151a9c747ec30b">get_variable_info::devname</a></div><div class="ttdeci">const char * devname</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00261">devfsd.c:261</a></div></div>
<div class="ttc" id="ahush_8c_html_db/d35/structvariable"><div class="ttname"><a href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00082">variables.h:82</a></div></div>
<div class="ttc" id="alibbb_8h_html_a0f9232cd7082e716a3de20ae186a08bd"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a0f9232cd7082e716a3de20ae186a08bd">index_in_str_array</a></div><div class="ttdeci">int index_in_str_array(const char *const string_array[], const char *key) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d40/compare__string__array_8c_source.html#l00052">compare_string_array.c:52</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4d828f2f187169b160c384cde2d0b0b0"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4d828f2f187169b160c384cde2d0b0b0">xasprintf</a></div><div class="ttdeci">char * xasprintf(const char *format,...) __attribute__((format(printf</div></div>
<div class="ttc" id="alibbb_8h_html_a75f3af03b38d728d93654c79ed67f281"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a75f3af03b38d728d93654c79ed67f281">auto_string</a></div><div class="ttdeci">char * auto_string(char *str) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d17/auto__string_8c_source.html#l00013">auto_string.c:13</a></div></div>
<div class="ttc" id="alibbb_8h_html_acfc4ac241f0fdb33c46b625a09d92519"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#acfc4ac241f0fdb33c46b625a09d92519">safe_gethostname</a></div><div class="ttdeci">char * safe_gethostname(void) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc0/safe__gethostname_8c_source.html#l00034">safe_gethostname.c:34</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d17/auto__string_8c_source.html#l00013">auto_string()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00261">get_variable_info::devname</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00262">get_variable_info::devpath</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00174">devfsd_notify_struct::gid</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d2/d40/compare__string__array_8c_source.html#l00052">index_in_str_array()</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00260">get_variable_info::info</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00170">devfsd_notify_struct::mode</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00306">mount_point</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../da/dc0/safe__gethostname_8c_source.html#l00034">safe_gethostname()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00173">devfsd_notify_struct::uid</a>, and <a class="el" href="../../d7/dd7/libbb_8h.html#a4d828f2f187169b160c384cde2d0b0b0">xasprintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00868">action_copy()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00836">action_execute()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">process_config_line()</a>.</p>

</div>
</div>
<a id="a2ce73bddf1a0dc2f9bbc5f1b94b5d5e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ce73bddf1a0dc2f9bbc5f1b94b5d5e9">&#9670;&nbsp;</a></span>get_variable_v2() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* get_variable_v2 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">*)(const char *, void *, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01705">expand_variable()</a>.</p>

</div>
</div>
<a id="a92922a6c81f95db1dff6ac2b8c42341c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92922a6c81f95db1dff6ac2b8c42341c">&#9670;&nbsp;</a></span>get_variable_v2() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* get_variable_v2 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>variable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *(*)(const char *<a class="el" href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a>, void *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01850">1850</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;{</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;        <a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> = (*func)(<a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a>, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>);</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    }</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/d02/os2compat_8h.html#aafc8c101dfb6313ab0416a6c5903ce66">getenv</a>(<a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a>);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;}   <span class="comment">/*  End Function get_variable  */</span></div>
<div class="ttc" id="alibc_2include_2setjmp_8h_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5e/libc_2include_2setjmp_8h_source.html#l00032">setjmp.h:32</a></div></div>
<div class="ttc" id="aos2compat_8h_html_aafc8c101dfb6313ab0416a6c5903ce66"><div class="ttname"><a href="../../d2/d02/os2compat_8h.html#aafc8c101dfb6313ab0416a6c5903ce66">getenv</a></div><div class="ttdeci">#define getenv</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d02/os2compat_8h_source.html#l00045">os2compat.h:45</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d02/os2compat_8h_source.html#l00045">getenv</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, and <a class="el" href="../../db/d5e/libc_2include_2setjmp_8h_source.html#l00032">value</a>.</p>

</div>
</div>
<a id="a16e7cc5436b7470e6f01327bbc244953"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16e7cc5436b7470e6f01327bbc244953">&#9670;&nbsp;</a></span>make_dir_tree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int make_dir_tree </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01314">1314</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;{</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#ab3f99a71d530e3ef3d85df861cc3979f">bb_make_directory</a>(<a class="code" href="../../da/d36/bindtextdom_8c.html#ab8a2fd169b20f0b9d33959f7b17d35aa">dirname</a>((<span class="keywordtype">char</span> *)path), -1, <a class="code" href="../../d7/dd7/libbb_8h.html#a5edc02b007c013a58c38d088a95e2f45a74077bdd3be6551dcc6318ca2a22dc44">FILEUTILS_RECUR</a>) == -1)</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;} <span class="comment">/*  End Function make_dir_tree  */</span></div>
<div class="ttc" id="abindtextdom_8c_html_ab8a2fd169b20f0b9d33959f7b17d35aa"><div class="ttname"><a href="../../da/d36/bindtextdom_8c.html#ab8a2fd169b20f0b9d33959f7b17d35aa">dirname</a></div><div class="ttdeci">const char * dirname</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d36/bindtextdom_8c_source.html#l00355">bindtextdom.c:355</a></div></div>
<div class="ttc" id="alibbb_8h_html_a5edc02b007c013a58c38d088a95e2f45a74077bdd3be6551dcc6318ca2a22dc44"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a5edc02b007c013a58c38d088a95e2f45a74077bdd3be6551dcc6318ca2a22dc44">FILEUTILS_RECUR</a></div><div class="ttdeci">@ FILEUTILS_RECUR</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00467">libbb.h:467</a></div></div>
<div class="ttc" id="alibbb_8h_html_ab3f99a71d530e3ef3d85df861cc3979f"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ab3f99a71d530e3ef3d85df861cc3979f">bb_make_directory</a></div><div class="ttdeci">int bb_make_directory(char *path, long mode, int flags) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d37/make__directory_8c_source.html#l00027">make_directory.c:27</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d37/make__directory_8c_source.html#l00027">bb_make_directory()</a>, <a class="el" href="../../da/d36/bindtextdom_8c_source.html#l00355">dirname</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l00467">FILEUTILS_RECUR</a>, and <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00868">action_copy()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01296">mksymlink()</a>.</p>

</div>
</div>
<a id="a83754cd7073ac2047027bbca3591b0b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83754cd7073ac2047027bbca3591b0b7">&#9670;&nbsp;</a></span>mksymlink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int mksymlink </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>oldpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>newpath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01296">1296</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;{</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d3a/devfsd_8c.html#a16e7cc5436b7470e6f01327bbc244953">make_dir_tree</a>(newpath))</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#aeb52d1ca2084a65df369e6d8fb082eec">symlink</a>(oldpath, newpath) != 0) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> != <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a0a3bef9e5c47e42917692b5dae3b5498">EEXIST</a>)</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    }</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;}   <span class="comment">/*  End Function mksymlink  */</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00070">EEXIST</a>, <a class="el" href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00409">errno</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01314">make_dir_tree()</a>, and <a class="el" href="../../d3/d85/symlink_8c_source.html#l00005">symlink()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00915">action_compat()</a>.</p>

</div>
</div>
<a id="a9cfc29ee22a9aad0902501b8ef2071c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cfc29ee22a9aad0902501b8ef2071c1">&#9670;&nbsp;</a></span>process_config_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void process_config_line </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>event_mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">555</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;{</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordtype">int</span>  num_args, <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *<span class="keyword">new</span>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[<a class="code" href="../../d6/d3a/devfsd_8c.html#a29b7451465deac204c5f7cb1f9c6e1fc">MAX_ARGS</a>][<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>];</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordtype">char</span> when[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>], what[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>];</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordtype">char</span> name[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>];</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *msg = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordtype">char</span> *ptr;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="comment">/* !!!! Only Uppercase Keywords in devsfd.conf */</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="../../d3/df2/ifconfig_8c.html#d1/d38/structoptions">options</a>[] <a class="code" href="../../d6/d3a/devfsd_8c.html#a09545a81e7d9bd978a8de38483d7cc66">ALIGN1</a> =</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="stringliteral">&quot;CLEAR_CONFIG\0&quot;</span><span class="stringliteral">&quot;INCLUDE\0&quot;</span><span class="stringliteral">&quot;OPTIONAL_INCLUDE\0&quot;</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="stringliteral">&quot;RESTORE\0&quot;</span><span class="stringliteral">&quot;PERMISSIONS\0&quot;</span><span class="stringliteral">&quot;MODLOAD\0&quot;</span><span class="stringliteral">&quot;EXECUTE\0&quot;</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="stringliteral">&quot;COPY\0&quot;</span><span class="stringliteral">&quot;IGNORE\0&quot;</span><span class="stringliteral">&quot;MKOLDCOMPAT\0&quot;</span><span class="stringliteral">&quot;MKNEWCOMPAT\0&quot;</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="stringliteral">&quot;RMOLDCOMPAT\0&quot;</span><span class="stringliteral">&quot;RMNEWCOMPAT\0&quot;</span>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> = 0; <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> &lt; <a class="code" href="../../d6/d3a/devfsd_8c.html#a29b7451465deac204c5f7cb1f9c6e1fc">MAX_ARGS</a>; ++<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>)</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>][0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    num_args = <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#acd369d6926dd1e1fb503821a8b167414">sscanf</a>(<a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a>, <span class="stringliteral">&quot;%s %s %s %s %s %s %s %s %s %s&quot;</span>,</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            when, name, what,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0], <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1], <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[2], <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[3], <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[4], <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[5], <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[6]);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a5fb22c68c3ee4c9243e7eafdf4870da5">index_in_strings</a>(<a class="code" href="../../d3/df2/ifconfig_8c.html#d1/d38/structoptions">options</a>, when);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">/* &quot;CLEAR_CONFIG&quot; */</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 0) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a9328ac30d509a60dc59b5b7645fc7f00">free_config</a>();</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        *event_mask = 0;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">if</span> (num_args &lt; 2)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <span class="keywordflow">goto</span> process_config_line_err;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="comment">/* &quot;INCLUDE&quot; &amp; &quot;OPTIONAL_INCLUDE&quot; */</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 1 || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 2) {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#af9357beeaae7141bdcc3578a1421cc7d">st_expr_expand</a>(name, <a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>, name, <a class="code" href="../../d6/d3a/devfsd_8c.html#a98b3b0660d1f8cb5a60ddfe58f38ea0b">get_variable</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a7d915887d20e184f680358c4be506f7b">info_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#aeb4f36db01bd128c7afeac5889dac311">LOG_INFO</a>, <span class="stringliteral">&quot;%sinclude: %s&quot;</span>, (<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#adda03014c30b02d7b496fce96f37951b">toupper</a>(when[0]) == <span class="charliteral">&#39;I&#39;</span>) ? <span class="stringliteral">&quot;&quot;</span>: <span class="stringliteral">&quot;optional_&quot;</span>, name);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a1b4474fe0058550490ec996f3259b0a7">read_config_file</a>(name, (<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#adda03014c30b02d7b496fce96f37951b">toupper</a>(when[0]) == <span class="charliteral">&#39;I&#39;</span>) ? <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> : <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, event_mask);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="comment">/* &quot;RESTORE&quot; */</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 3) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a486d64f8b9ef9bcb8763143dbc3f9c6f">dir_operation</a>(<a class="code" href="../../d6/d3a/devfsd_8c.html#acd2ea0453b6daf41446e84a9f24a2e83">RESTORE</a>, name, <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(name),<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">if</span> (num_args &lt; 3)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">goto</span> process_config_line_err;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keyword">new</span> = <a class="code" href="../../d7/dd7/libbb_8h.html#a6b9d12af476b8fa4b9de87028b0ac27c">xzalloc</a>(<span class="keyword">sizeof</span> *<span class="keyword">new</span>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> = 0; <a class="code" href="../../d6/d3a/devfsd_8c.html#a2c93c017ca7319621512781c6d0221f2">event_types</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>].<a class="code" href="../../d6/d3a/devfsd_8c.html#ace3e6d8dd6068c9a186e3c0a7857c15f">config_name</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; ++<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/d02/os2compat_8h.html#ac99ec3f1036620727a68aa8c25a8963c">strcasecmp</a>(when, <a class="code" href="../../d6/d3a/devfsd_8c.html#a2c93c017ca7319621512781c6d0221f2">event_types</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>].config_name) != 0)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keyword">new</span>-&gt;action.when = <a class="code" href="../../d6/d3a/devfsd_8c.html#a2c93c017ca7319621512781c6d0221f2">event_types</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>].<a class="code" href="../../d6/d3a/devfsd_8c.html#a213dfb310502a1f7762c98684e884a5b">type</a>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d3a/devfsd_8c.html#a2c93c017ca7319621512781c6d0221f2">event_types</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>].config_name == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        msg = <span class="stringliteral">&quot;WHEN in&quot;</span>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">goto</span> process_config_line_err;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a5fb22c68c3ee4c9243e7eafdf4870da5">index_in_strings</a>(<a class="code" href="../../d3/df2/ifconfig_8c.html#d1/d38/structoptions">options</a>, what);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">case</span> 4: <span class="comment">/* &quot;PERMISSIONS&quot; */</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="keyword">new</span>-&gt;action.what = <a class="code" href="../../d6/d3a/devfsd_8c.html#acd1202ce48e1bf3b19351e86bea7816e">AC_PERMISSIONS</a>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="comment">/*  Get user and group  */</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            ptr = <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0], <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="keywordflow">if</span> (ptr == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                msg = <span class="stringliteral">&quot;UID.GID&quot;</span>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                <span class="keywordflow">goto</span> process_config_line_err; <span class="comment">/*&quot;missing &#39;.&#39; in UID.GID&quot;*/</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            *ptr++ = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <span class="keyword">new</span>-&gt;u.permissions.uid = <a class="code" href="../../d6/d3a/devfsd_8c.html#ac751fa96b3bad0dde91a65840c822188">get_uid_gid</a>(<a class="code" href="../../d6/d3a/devfsd_8c.html#aeb5b8a9664c45b817bf00533e8e487f0">UID</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0]);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="keyword">new</span>-&gt;u.permissions.gid = <a class="code" href="../../d6/d3a/devfsd_8c.html#ac751fa96b3bad0dde91a65840c822188">get_uid_gid</a>(<a class="code" href="../../d6/d3a/devfsd_8c.html#a5b96ecb16d8e437977d12cd40aa6f6d8">GID</a>, ptr);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="comment">/*  Get mode  */</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="keyword">new</span>-&gt;u.permissions.mode = <a class="code" href="../../d6/d3a/devfsd_8c.html#a3932f21127755651e4c89cfdabeae49f">get_mode</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1]);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">case</span> 5: <span class="comment">/*  MODLOAD */</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="comment">/*This  action will pass &quot;/dev/$devname&quot;(i.e. &quot;/dev/&quot; prefixed to</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">            the device name) to the module loading  facility.  In  addition,</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">            the /etc/modules.devfs configuration file is used.*/</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="keywordflow">if</span> (ENABLE_DEVFSD_MODLOAD)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                <span class="keyword">new</span>-&gt;action.what = <a class="code" href="../../d6/d3a/devfsd_8c.html#a9c72edc8a26d9e295359a80448cb5666">AC_MODLOAD</a>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="keywordflow">case</span> 6: <span class="comment">/* EXECUTE */</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keyword">new</span>-&gt;action.what = <a class="code" href="../../d6/d3a/devfsd_8c.html#aefc9286b77b6e49e7acc5e9438d2ffca">AC_EXECUTE</a>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            num_args -= 3;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> = 0; <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> &lt; num_args; ++<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                new-&gt;u.execute.argv[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>] = <a class="code" href="../../dc/dd1/pathchk_8c.html#ac7a701bce03d77bad6b57003d0fe73df">xstrdup</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>]);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keyword">new</span>-&gt;u.execute.argv[num_args] = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">case</span> 7: <span class="comment">/* COPY */</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keyword">new</span>-&gt;action.what = <a class="code" href="../../d6/d3a/devfsd_8c.html#ac189b5de65eaa87a09bb1bac9d7ecab8">AC_COPY</a>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            num_args -= 3;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">if</span> (num_args != 2)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                <span class="keywordflow">goto</span> process_config_line_err; <span class="comment">/* missing path and function in line */</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="keyword">new</span>-&gt;u.copy.source = <a class="code" href="../../dc/dd1/pathchk_8c.html#ac7a701bce03d77bad6b57003d0fe73df">xstrdup</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0]);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keyword">new</span>-&gt;u.copy.destination = <a class="code" href="../../dc/dd1/pathchk_8c.html#ac7a701bce03d77bad6b57003d0fe73df">xstrdup</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1]);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="keywordflow">case</span> 8: <span class="comment">/* IGNORE */</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="comment">/* FALLTROUGH */</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">case</span> 9: <span class="comment">/* MKOLDCOMPAT */</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="comment">/* FALLTROUGH */</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordflow">case</span> 10: <span class="comment">/* MKNEWCOMPAT */</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="comment">/* FALLTROUGH */</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">case</span> 11:<span class="comment">/* RMOLDCOMPAT */</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="comment">/* FALLTROUGH */</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">case</span> 12: <span class="comment">/* RMNEWCOMPAT */</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="comment">/*  AC_IGNORE                   6</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">            AC_MKOLDCOMPAT              7</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">            AC_MKNEWCOMPAT              8</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">            AC_RMOLDCOMPAT              9</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">            AC_RMNEWCOMPAT              10*/</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <span class="keyword">new</span>-&gt;action.what = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> - 2;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            msg = <span class="stringliteral">&quot;WHAT in&quot;</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="keywordflow">goto</span> process_config_line_err;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="comment">/*esac*/</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    } <span class="comment">/* switch (i) */</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="../../de/dcc/busybox_2coreutils_2cut_8c.html#a6094a5e4941702e32d56108cdb8d5828">xregcomp</a>(&amp;new-&gt;preg, name, <a class="code" href="../../d1/d21/regex_8h.html#a5fc31e6da9b77e09ea62b4544ac4767f">REG_EXTENDED</a>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    *event_mask |= 1 &lt;&lt; <span class="keyword">new</span>-&gt;action.when;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keyword">new</span>-&gt;next = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d3a/devfsd_8c.html#a3b35573c0207d8073e91bfc6742a516d">first_config</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a3b35573c0207d8073e91bfc6742a516d">first_config</a> = <span class="keyword">new</span>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#aa7ef58f29db96f4eabb81e30315b4936">last_config</a>-&gt;<a class="code" href="../../d6/d3a/devfsd_8c.html#a88910b75e4165e75c2ec465c7d2b5eae">next</a> = <span class="keyword">new</span>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#aa7ef58f29db96f4eabb81e30315b4936">last_config</a> = <span class="keyword">new</span>;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; process_config_line_err:</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a267624774a2c7563fe5aafa63e087fd1">msg_logger_and_die</a>(<a class="code" href="../../d7/d30/syslog_8h.html#a96fad55b3f5adf08c39e4c877cf185e3">LOG_ERR</a>, bb_msg_bad_config, msg, <a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a>);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;}  <span class="comment">/*  End Function process_config_line   */</span></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_adda03014c30b02d7b496fce96f37951b"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#adda03014c30b02d7b496fce96f37951b">toupper</a></div><div class="ttdeci">#define toupper(c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00068">types.h:68</a></div></div>
<div class="ttc" id="abusybox_2coreutils_2cut_8c_html_a6094a5e4941702e32d56108cdb8d5828"><div class="ttname"><a href="../../de/dcc/busybox_2coreutils_2cut_8c.html#a6094a5e4941702e32d56108cdb8d5828">xregcomp</a></div><div class="ttdeci">#define xregcomp(x,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/busybox_2coreutils_2cut_8c_source.html#l00059">cut.c:59</a></div></div>
<div class="ttc" id="aconvert_8h_html_a88b07011b83b06b8856027f02d55a880"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a></div><div class="ttdeci">char * strchr(const char *String, int Char)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc7/Convert_8cpp_source.html#l00148">Convert.cpp:148</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a09545a81e7d9bd978a8de38483d7cc66"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a09545a81e7d9bd978a8de38483d7cc66">ALIGN1</a></div><div class="ttdeci">static const char bb_msg_proto_rev[] ALIGN1</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00337">devfsd.c:337</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a213dfb310502a1f7762c98684e884a5b"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a213dfb310502a1f7762c98684e884a5b">event_type::type</a></div><div class="ttdeci">unsigned int type</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00321">devfsd.c:321</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a2c93c017ca7319621512781c6d0221f2"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a2c93c017ca7319621512781c6d0221f2">event_types</a></div><div class="ttdeci">static struct event_type event_types[]</div></div>
<div class="ttc" id="adevfsd_8c_html_a3932f21127755651e4c89cfdabeae49f"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a3932f21127755651e4c89cfdabeae49f">get_mode</a></div><div class="ttdeci">static mode_t get_mode(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01172">devfsd.c:1172</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a9c72edc8a26d9e295359a80448cb5666"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a9c72edc8a26d9e295359a80448cb5666">AC_MODLOAD</a></div><div class="ttdeci">#define AC_MODLOAD</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00214">devfsd.c:214</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ac189b5de65eaa87a09bb1bac9d7ecab8"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ac189b5de65eaa87a09bb1bac9d7ecab8">AC_COPY</a></div><div class="ttdeci">#define AC_COPY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00218">devfsd.c:218</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ac751fa96b3bad0dde91a65840c822188"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ac751fa96b3bad0dde91a65840c822188">get_uid_gid</a></div><div class="ttdeci">static int get_uid_gid(int flag, const char *string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l01140">devfsd.c:1140</a></div></div>
<div class="ttc" id="adevfsd_8c_html_acd1202ce48e1bf3b19351e86bea7816e"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#acd1202ce48e1bf3b19351e86bea7816e">AC_PERMISSIONS</a></div><div class="ttdeci">#define AC_PERMISSIONS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00213">devfsd.c:213</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ace3e6d8dd6068c9a186e3c0a7857c15f"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ace3e6d8dd6068c9a186e3c0a7857c15f">event_type::config_name</a></div><div class="ttdeci">const char * config_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00322">devfsd.c:322</a></div></div>
<div class="ttc" id="aglob__loop_8c_html_ac483f6ce851c9ecd9fb835ff7551737c"><div class="ttname"><a href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a></div><div class="ttdeci">p</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/glob__loop_8c_source.html#l00031">glob_loop.c:31</a></div></div>
<div class="ttc" id="aifconfig_8c_html_d1/d38/structoptions"><div class="ttname"><a href="../../d3/df2/ifconfig_8c.html#d1/d38/structoptions">options</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df2/ifconfig_8c_source.html#l00232">ifconfig.c:232</a></div></div>
<div class="ttc" id="alibbb_8h_html_a5fb22c68c3ee4c9243e7eafdf4870da5"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a5fb22c68c3ee4c9243e7eafdf4870da5">index_in_strings</a></div><div class="ttdeci">int index_in_strings(const char *strings, const char *key) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d40/compare__string__array_8c_source.html#l00064">compare_string_array.c:64</a></div></div>
<div class="ttc" id="alibbb_8h_html_a6b9d12af476b8fa4b9de87028b0ac27c"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a6b9d12af476b8fa4b9de87028b0ac27c">xzalloc</a></div><div class="ttdeci">void * xzalloc(size_t size) FAST_FUNC RETURNS_MALLOC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00069">xfuncs_printf.c:69</a></div></div>
<div class="ttc" id="aos2compat_8h_html_ac99ec3f1036620727a68aa8c25a8963c"><div class="ttname"><a href="../../d2/d02/os2compat_8h.html#ac99ec3f1036620727a68aa8c25a8963c">strcasecmp</a></div><div class="ttdeci">#define strcasecmp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d02/os2compat_8h_source.html#l00041">os2compat.h:41</a></div></div>
<div class="ttc" id="apathchk_8c_html_ac7a701bce03d77bad6b57003d0fe73df"><div class="ttname"><a href="../../dc/dd1/pathchk_8c.html#ac7a701bce03d77bad6b57003d0fe73df">xstrdup</a></div><div class="ttdeci">static char * xstrdup(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd1/pathchk_8c_source.html#l00258">pathchk.c:258</a></div></div>
<div class="ttc" id="apowertop_8c_html_d4/d85/structline"><div class="ttname"><a href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dff/diff_8c_source.html#l00351">diff.c:351</a></div></div>
<div class="ttc" id="aregex_8h_html_a5fc31e6da9b77e09ea62b4544ac4767f"><div class="ttname"><a href="../../d1/d21/regex_8h.html#a5fc31e6da9b77e09ea62b4544ac4767f">REG_EXTENDED</a></div><div class="ttdeci">#define REG_EXTENDED</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d21/regex_8h_source.html#l00027">regex.h:27</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00218">AC_COPY</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00215">AC_EXECUTE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00214">AC_MODLOAD</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00213">AC_PERMISSIONS</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00337">ALIGN1</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00322">event_type::config_name</a>, <a class="el" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01255">dir_operation()</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#a2c93c017ca7319621512781c6d0221f2">event_types</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00304">first_config</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01114">free_config()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01172">get_mode()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01140">get_uid_gid()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01206">get_variable()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00194">GID</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d2/d40/compare__string__array_8c_source.html#l00064">index_in_strings()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00353">info_logger</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00305">last_config</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00013">LOG_ERR</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00016">LOG_INFO</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00188">MAX_ARGS</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00357">msg_logger_and_die</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00256">config_entry_struct::next</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00509">read_config_file()</a>, <a class="el" href="../../d1/d21/regex_8h_source.html#l00027">REG_EXTENDED</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00201">RESTORE</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00125">sscanf()</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#af9357beeaae7141bdcc3578a1421cc7d">st_expr_expand()</a>, <a class="el" href="../../d2/d02/os2compat_8h_source.html#l00041">strcasecmp</a>, <a class="el" href="../../d0/dc7/Convert_8cpp_source.html#l00148">strchr()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00190">STRING_LENGTH</a>, <a class="el" href="../../d0/dc7/Convert_8cpp_source.html#l00064">strlen()</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00068">toupper</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00321">event_type::type</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00193">UID</a>, <a class="el" href="../../de/dcc/busybox_2coreutils_2cut_8c_source.html#l00059">xregcomp</a>, <a class="el" href="../../dc/dd1/pathchk_8c_source.html#l00258">xstrdup()</a>, and <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00069">xzalloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00509">read_config_file()</a>.</p>

</div>
</div>
<a id="a1b4474fe0058550490ec996f3259b0a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b4474fe0058550490ec996f3259b0a7">&#9670;&nbsp;</a></span>read_config_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void read_config_file </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>optional</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>event_mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00509">509</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;{</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> statbuf;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *fp;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>];</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a>(path, &amp;statbuf) == 0) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="comment">/* Don&#39;t read 0 length files: ignored */</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="comment">/*if (statbuf.st_size == 0)</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">                return;*/</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d85/filesystem_8hpp.html#a3746cdc5aac871e6f6504fbcbd29ef1d">S_ISDIR</a>(statbuf.st_mode)) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a8e803514036c1059a89fede650118bd2">bb_simplify_path</a>(path);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <a class="code" href="../../d6/d3a/devfsd_8c.html#a486d64f8b9ef9bcb8763143dbc3f9c6f">dir_operation</a>(<a class="code" href="../../d6/d3a/devfsd_8c.html#a32268e77144af7593cf09fcf9e7595dd">READ_CONFIG</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, 0, event_mask);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        fp = <a class="code" href="../../d7/dd7/libbb_8h.html#a547f92b9e32d1a4e05450126d4bdc1c3">fopen_for_read</a>(path);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">if</span> (fp != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#a458f311e9a7d803457d8ac51bf5aae4b">fgets</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>, fp) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                <span class="comment">/*  Skip whitespace  */</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                <a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a> = <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                <a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a5a048a1ac844de188e4c3047a34dc673">skip_whitespace</a>(<a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a>[0] == <span class="charliteral">&#39;\0&#39;</span> || <a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a>[0] == <span class="charliteral">&#39;#&#39;</span>)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#a9cfc29ee22a9aad0902501b8ef2071c1">process_config_line</a>(<a class="code" href="../../dd/d7b/powertop_8c.html#d4/d85/structline">line</a>, event_mask);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#a575cfdaca3a77c3f910df16d56d7240c">fclose</a>(fp);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <span class="keywordflow">goto</span> read_config_file_err;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;read_config_file_err:</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">if</span> (optional == 0 &amp;&amp; <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>)</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <a class="code" href="../../d6/d3a/devfsd_8c.html#a0a88bbec22d6745372ba167fb777b604">error_logger_and_die</a>(<a class="code" href="../../d7/d30/syslog_8h.html#a96fad55b3f5adf08c39e4c877cf185e3">LOG_ERR</a>, <span class="stringliteral">&quot;read config file: %s&quot;</span>, path);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}   <span class="comment">/*  End Function read_config_file   */</span></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a03e689f378f643d16ea7537918528a48"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a></div><div class="ttdeci">#define ENOENT</div><div class="ttdoc">No such file or directory.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00025">errno.h:25</a></div></div>
<div class="ttc" id="aKernel__IO_8cpp_html_a575cfdaca3a77c3f910df16d56d7240c"><div class="ttname"><a href="../../d0/db0/Kernel__IO_8cpp.html#a575cfdaca3a77c3f910df16d56d7240c">fclose</a></div><div class="ttdeci">int fclose(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db0/Kernel__IO_8cpp_source.html#l00089">Kernel_IO.cpp:89</a></div></div>
<div class="ttc" id="aapps_2base_2busybox_2coreutils_2stat_8c_html_aa29b866765bdc5bdf87b7eb666d66093"><div class="ttname"><a href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a></div><div class="ttdeci">#define buf</div></div>
<div class="ttc" id="acargs_8h_html_a69437b5d572dd16d6d4fdbcbd066c7a9"><div class="ttname"><a href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a></div><div class="ttdeci">unsigned int FILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d37/cargs_8h_source.html#l00038">cargs.h:38</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a0a88bbec22d6745372ba167fb777b604"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a0a88bbec22d6745372ba167fb777b604">error_logger_and_die</a></div><div class="ttdeci">#define error_logger_and_die(p, fmt, args...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00360">devfsd.c:360</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a9cfc29ee22a9aad0902501b8ef2071c1"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a9cfc29ee22a9aad0902501b8ef2071c1">process_config_line</a></div><div class="ttdeci">static void process_config_line(const char *, unsigned long *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00555">devfsd.c:555</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a3746cdc5aac871e6f6504fbcbd29ef1d"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a3746cdc5aac871e6f6504fbcbd29ef1d">S_ISDIR</a></div><div class="ttdeci">#define S_ISDIR(mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00069">filesystem.hpp:69</a></div></div>
<div class="ttc" id="alibbb_8h_html_a458f311e9a7d803457d8ac51bf5aae4b"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a458f311e9a7d803457d8ac51bf5aae4b">fgets</a></div><div class="ttdeci">#define fgets(s, n, stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00236">libbb.h:236</a></div></div>
<div class="ttc" id="alibbb_8h_html_a547f92b9e32d1a4e05450126d4bdc1c3"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a547f92b9e32d1a4e05450126d4bdc1c3">fopen_for_read</a></div><div class="ttdeci">FILE * fopen_for_read(const char *path) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d34/wfopen_8c_source.html#l00021">wfopen.c:21</a></div></div>
<div class="ttc" id="alibbb_8h_html_a5a048a1ac844de188e4c3047a34dc673"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a5a048a1ac844de188e4c3047a34dc673">skip_whitespace</a></div><div class="ttdeci">char * skip_whitespace(const char *) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7a/skip__whitespace_8c_source.html#l00011">skip_whitespace.c:11</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/da5/simplify__path_8c_source.html#l00045">bb_simplify_path()</a>, <a class="el" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01255">dir_operation()</a>, <a class="el" href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00025">ENOENT</a>, <a class="el" href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00409">errno</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00360">error_logger_and_die</a>, <a class="el" href="../../d0/db0/Kernel__IO_8cpp_source.html#l00089">fclose()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l00236">fgets</a>, <a class="el" href="../../d7/d34/wfopen_8c_source.html#l00021">fopen_for_read()</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00013">LOG_ERR</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">process_config_line()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00203">READ_CONFIG</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00069">S_ISDIR</a>, <a class="el" href="../../d0/d7a/skip__whitespace_8c_source.html#l00011">skip_whitespace()</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00081">stat::st_mode</a>, <a class="el" href="../../d0/db0/Kernel__IO_8cpp_source.html#l00117">stat()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00190">STRING_LENGTH</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00407">devfsd_main()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01255">dir_operation()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">process_config_line()</a>.</p>

</div>
</div>
<a id="ad96ecb6ffa50ee6562b1eaee5c041a16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad96ecb6ffa50ee6562b1eaee5c041a16">&#9670;&nbsp;</a></span>restore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void restore </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>spath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a>&#160;</td>
          <td class="paramname"><em>source_stat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rootlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01012">1012</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;{</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordtype">char</span> *dpath;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> dest_stat;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    dest_stat.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a> = 0;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    dpath = <a class="code" href="../../d7/dd7/libbb_8h.html#a8e1240ef7e70d7d55a00ce3b75b26cb2">concat_path_file</a>(<a class="code" href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a>, spath + rootlen);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <a class="code" href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c.html#ae730c85752284268b39560df693cb207">lstat</a>(dpath, &amp;dest_stat);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(dpath);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d85/filesystem_8hpp.html#a765eef536bcb3bd7bacdd675dc2fba13">S_ISLNK</a>(source_stat.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a>) || (source_stat.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a> &amp; <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#a97b5e445a72c99b37dc5b8d620fbd14e">S_ISVTX</a>))</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a2b8bdd0feeec019e21c00fb876491dac">copy_inode</a>(dpath, &amp;dest_stat, (source_stat.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a> &amp; ~<a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#a97b5e445a72c99b37dc5b8d620fbd14e">S_ISVTX</a>), spath, &amp;source_stat);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d85/filesystem_8hpp.html#a3746cdc5aac871e6f6504fbcbd29ef1d">S_ISDIR</a>(source_stat.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a>))</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a486d64f8b9ef9bcb8763143dbc3f9c6f">dir_operation</a>(<a class="code" href="../../d6/d3a/devfsd_8c.html#acd2ea0453b6daf41446e84a9f24a2e83">RESTORE</a>, spath, rootlen, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d14/concat__path__file_8c_source.html#l00018">concat_path_file()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01029">copy_inode()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01255">dir_operation()</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c_source.html#l00064">lstat</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00306">mount_point</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00201">RESTORE</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00069">S_ISDIR</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00074">S_ISLNK</a>, <a class="el" href="../../d2/d44/musl_2include_2fcntl_8h_source.html#l00085">S_ISVTX</a>, and <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00081">stat::st_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01255">dir_operation()</a>, and <a class="el" href="../../d4/da1/script_8c_source.html#l00048">script_main()</a>.</p>

</div>
</div>
<a id="a1e5fa65d7a3fccc813a9df4527a13430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e5fa65d7a3fccc813a9df4527a13430">&#9670;&nbsp;</a></span>safe_memcpy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void safe_memcpy </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00363">363</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(dest, <a class="code" href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    dest[<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div>
<div class="ttc" id="aarping_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/arping_8c_source.html#l00088">arping.c:88</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/dc0/multiboot_8h_source.html#l00002">len</a>, <a class="el" href="../../d3/d82/convert_8h_source.html#l00116">memcpy</a>, and <a class="el" href="../../df/d84/arping_8c_source.html#l00088">src</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01705">expand_variable()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01613">st_expr_expand()</a>.</p>

</div>
</div>
<a id="aa0682e5279f7b4535e7a456b6d5f6360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0682e5279f7b4535e7a456b6d5f6360">&#9670;&nbsp;</a></span>scan_dev_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int scan_dev_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00382">382</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;{</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span> (d[0] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; d[1] == <span class="charliteral">&#39;c&#39;</span> &amp;&amp; d[2] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;i&#39;</span> &amp;&amp; d[4] == <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">if</span> (d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 7] == <span class="charliteral">&#39;g&#39;</span> &amp;&amp; d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 6] == <span class="charliteral">&#39;e&#39;</span> &amp;&amp; d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 5] == <span class="charliteral">&#39;n&#39;</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            &amp;&amp; d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 4] == <span class="charliteral">&#39;e&#39;</span> &amp;&amp; d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 3] == <span class="charliteral">&#39;r&#39;</span> &amp;&amp; d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 2] == <span class="charliteral">&#39;i&#39;</span> &amp;&amp; d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 1] == <span class="charliteral">&#39;c&#39;</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        )</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a29ee560b2260ec0d7498ff1ca6546e09">scan_dev_name_common</a>(d, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, 0, ptr);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (d[0] == <span class="charliteral">&#39;i&#39;</span> &amp;&amp; d[1] == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; d[2] == <span class="charliteral">&#39;e&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;/&#39;</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        &amp;&amp; d[4] == <span class="charliteral">&#39;h&#39;</span> &amp;&amp; d[5] == <span class="charliteral">&#39;o&#39;</span> &amp;&amp; d[6] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; d[7] == <span class="charliteral">&#39;t&#39;</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    )</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a29ee560b2260ec0d7498ff1ca6546e09">scan_dev_name_common</a>(d, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, 4, ptr);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (d[0] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; d[1] == <span class="charliteral">&#39;b&#39;</span> &amp;&amp; d[2] == <span class="charliteral">&#39;p&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">return</span> 10;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span> (d[0] == <span class="charliteral">&#39;v&#39;</span> &amp;&amp; d[1] == <span class="charliteral">&#39;c&#39;</span> &amp;&amp; d[2] == <span class="charliteral">&#39;c&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">return</span> 11;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span> (d[0] == <span class="charliteral">&#39;p&#39;</span> &amp;&amp; d[1] == <span class="charliteral">&#39;t&#39;</span> &amp;&amp; d[2] == <span class="charliteral">&#39;y&#39;</span> &amp;&amp; d[3] == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">return</span> 12;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div>
<div class="ttc" id="adcigettext_8c_html_a58257445f1a929304e537613b62ebb35"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a></div><div class="ttdeci">unsigned long int n</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00441">dcigettext.c:441</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a29ee560b2260ec0d7498ff1ca6546e09"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a29ee560b2260ec0d7498ff1ca6546e09">scan_dev_name_common</a></div><div class="ttdeci">static unsigned int scan_dev_name_common(const char *d, unsigned int n, int addendum, const char *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00369">devfsd.c:369</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d32/dcigettext_8c_source.html#l00441">n</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00369">scan_dev_name_common()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00915">action_compat()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01451">get_old_name()</a>.</p>

</div>
</div>
<a id="a29ee560b2260ec0d7498ff1ca6546e09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29ee560b2260ec0d7498ff1ca6546e09">&#9670;&nbsp;</a></span>scan_dev_name_common()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int scan_dev_name_common </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>addendum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00369">369</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;{</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span> (d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 4] == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 3] == <span class="charliteral">&#39;i&#39;</span> &amp;&amp; d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 2] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 1] == <span class="charliteral">&#39;c&#39;</span>)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">return</span> 2 + addendum;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span> (d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 2] == <span class="charliteral">&#39;c&#39;</span> &amp;&amp; d[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 1] == <span class="charliteral">&#39;d&#39;</span>)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">return</span> 3 + addendum;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (ptr[0] == <span class="charliteral">&#39;p&#39;</span> &amp;&amp; ptr[1] == <span class="charliteral">&#39;a&#39;</span> &amp;&amp; ptr[2] == <span class="charliteral">&#39;r&#39;</span> &amp;&amp; ptr[3] == <span class="charliteral">&#39;t&#39;</span>)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">return</span> 4 + addendum;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">if</span> (ptr[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 2] == <span class="charliteral">&#39;m&#39;</span> &amp;&amp; ptr[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> - 1] == <span class="charliteral">&#39;t&#39;</span>)</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">return</span> 5 + addendum;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d32/dcigettext_8c_source.html#l00441">n</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00382">scan_dev_name()</a>.</p>

</div>
</div>
<a id="aa42c9e69815003095f44e46a64574fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa42c9e69815003095f44e46a64574fbb">&#9670;&nbsp;</a></span>service()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="../../dd/d45/lookup_8h.html#dd/dde/structservice">service</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a>&#160;</td>
          <td class="paramname"><em>statbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01237">1237</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;{</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a>(&amp;<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, 0, <span class="keyword">sizeof</span> <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>.type = <a class="code" href="../../d6/d3a/devfsd_8c.html#a9230c4bd2a9dd9325cc23a59e311b268">DEVFSD_NOTIFY_REGISTERED</a>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>.mode = statbuf.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>.major = <a class="code" href="../../d5/dfb/sysmacros_8h.html#a394c7314d2185f6fe159921af7fe4fb2">major</a>(statbuf.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#aa61e6c1a8a91c69f1d26f6700a0546cb">st_rdev</a>);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>.minor = <a class="code" href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a>(statbuf.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#aa61e6c1a8a91c69f1d26f6700a0546cb">st_rdev</a>);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>.uid = statbuf.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a4a8708a3d18be60ee7b2f06c4cab0c70">st_uid</a>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>.gid = statbuf.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#ab864f16f436cec370f0ced585d897698">st_gid</a>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>.devname, <span class="keyword">sizeof</span>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>.devname), <span class="stringliteral">&quot;%s&quot;</span>, path + <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d6/d3a/devfsd_8c.html#a059fdb8aae496c0916e50f5bd4ac8ab3">mount_point</a>) + 1);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>.namelen = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>.devname);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a8d4ba0c7f3a5f0429f97b6d3c7663206">service_name</a>(&amp;<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d85/filesystem_8hpp.html#a3746cdc5aac871e6f6504fbcbd29ef1d">S_ISDIR</a>(statbuf.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a>))</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a486d64f8b9ef9bcb8763143dbc3f9c6f">dir_operation</a>(<a class="code" href="../../d6/d3a/devfsd_8c.html#a6d179734092a04a5b3df5d4ff20b929b">SERVICE</a>, path, 0, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;}</div>
<div class="ttc" id="aconvert_8h_html_ac72cd3c233680f95fd1d168a22c912ad"><div class="ttname"><a href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a></div><div class="ttdeci">#define memset(dest, c, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d82/convert_8h_source.html#l00120">convert.h:120</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a9230c4bd2a9dd9325cc23a59e311b268"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a9230c4bd2a9dd9325cc23a59e311b268">DEVFSD_NOTIFY_REGISTERED</a></div><div class="ttdeci">#define DEVFSD_NOTIFY_REGISTERED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00156">devfsd.c:156</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00156">DEVFSD_NOTIFY_REGISTERED</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01255">dir_operation()</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d5/dfb/sysmacros_8h_source.html#l00004">major</a>, <a class="el" href="../../d3/d82/convert_8h_source.html#l00120">memset</a>, <a class="el" href="../../d5/dfb/sysmacros_8h_source.html#l00006">minor</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00306">mount_point</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00069">S_ISDIR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00202">SERVICE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00737">service_name()</a>, <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a437169f8519f855cc045a0e23d3ca691">snprintf()</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00085">stat::st_gid</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00081">stat::st_mode</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00086">stat::st_rdev</a>, <a class="el" href="../../d1/d85/filesystem_8hpp_source.html#l00084">stat::st_uid</a>, and <a class="el" href="../../d0/dc7/Convert_8cpp_source.html#l00064">strlen()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01255">dir_operation()</a>.</p>

</div>
</div>
<a id="a8d4ba0c7f3a5f0429f97b6d3c7663206"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d4ba0c7f3a5f0429f97b6d3c7663206">&#9670;&nbsp;</a></span>service_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void service_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d5/d26/structdevfsd__notify__struct">devfsd_notify_struct</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00737">737</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;{</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="../../d1/d21/regex_8h.html#d3/d3a/structregmatch__t">regmatch_t</a> mbuf[<a class="code" href="../../d6/d3a/devfsd_8c.html#aa42db09321bed09819945c6d10177940">MAX_SUBEXPR</a>];</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a> *<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordflow">if</span> (ENABLE_DEBUG &amp;&amp; <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;overrun_count &gt; 0)</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a6cd2f3b8f98626c541af84e9e73ee200">msg_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#a96fad55b3f5adf08c39e4c877cf185e3">LOG_ERR</a>, <span class="stringliteral">&quot;lost %u events&quot;</span>, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;overrun_count);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">/*  Discard lookups on &quot;/dev/log&quot; and &quot;/dev/initctl&quot;  */</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;type == <a class="code" href="../../d6/d3a/devfsd_8c.html#a1309e2d760c38df602b6ce3932e8f698">DEVFSD_NOTIFY_LOOKUP</a></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        &amp;&amp; ((<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[0] == <span class="charliteral">&#39;l&#39;</span> &amp;&amp; <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[1] == <span class="charliteral">&#39;o&#39;</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        &amp;&amp; <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[2] == <span class="charliteral">&#39;g&#39;</span> &amp;&amp; !<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[3])</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        || (<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[0] == <span class="charliteral">&#39;i&#39;</span> &amp;&amp; <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[1] == <span class="charliteral">&#39;n&#39;</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        &amp;&amp; <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[2] == <span class="charliteral">&#39;i&#39;</span> &amp;&amp; <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[3] == <span class="charliteral">&#39;t&#39;</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        &amp;&amp; <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[4] == <span class="charliteral">&#39;c&#39;</span> &amp;&amp; <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[5] == <span class="charliteral">&#39;t&#39;</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        &amp;&amp; <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[6] == <span class="charliteral">&#39;l&#39;</span> &amp;&amp; !<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname[7]))</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    )</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a> = <a class="code" href="../../d6/d3a/devfsd_8c.html#a3b35573c0207d8073e91bfc6742a516d">first_config</a>; <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a> = <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;next) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="comment">/*  First check if action matches the type, then check if name matches */</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;type != <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;action.when</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        || <a class="code" href="../../de/dcc/busybox_2coreutils_2cut_8c.html#ae2dc86c4bb96ec9adc9156780954ad77">regexec</a>(&amp;<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;preg, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>-&gt;devname, <a class="code" href="../../d6/d3a/devfsd_8c.html#aa42db09321bed09819945c6d10177940">MAX_SUBEXPR</a>, mbuf, 0) != 0)</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = 0;(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> &lt; <a class="code" href="../../d6/d3a/devfsd_8c.html#aa42db09321bed09819945c6d10177940">MAX_SUBEXPR</a>) &amp;&amp; (mbuf[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>].rm_so != -1); ++<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <span class="comment">/* VOID */</span>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;action.what) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#acd1202ce48e1bf3b19351e86bea7816e">AC_PERMISSIONS</a>:</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#a5428ee986c8ca841a42213b5c2356278">action_permissions</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a9c72edc8a26d9e295359a80448cb5666">AC_MODLOAD</a>:</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                <span class="keywordflow">if</span> (ENABLE_DEVFSD_MODLOAD)</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    <a class="code" href="../../d6/d3a/devfsd_8c.html#adbb947d42ad859adf92b5d665dece32e">action_modload</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#aefc9286b77b6e49e7acc5e9438d2ffca">AC_EXECUTE</a>:</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#ac94504760e78e131fd311f717f006f65">action_execute</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>, mbuf, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#ac189b5de65eaa87a09bb1bac9d7ecab8">AC_COPY</a>:</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#a7002f616325c7d63e7a3ad7988083563">action_copy</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>, mbuf, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a5b4ce8b3436a3d25966192d597ebd5e6">AC_IGNORE</a>:</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <span class="comment">/*break;*/</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a8d3dba9cc2a465b94232d0f1ff6d75da">AC_MKOLDCOMPAT</a>:</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a7dedeed70daef7a56d505ffa3ddd3028">AC_MKNEWCOMPAT</a>:</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a4a5d434e301fcbad4cdde82445f87d38">AC_RMOLDCOMPAT</a>:</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d6/d3a/devfsd_8c.html#a001eab39c958f2d89cacc6d3b3a4cd53">AC_RMNEWCOMPAT</a>:</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#ad82bd6846aab0ba26318e0ac8bfef5ae">action_compat</a>(<a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>, <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;action.what);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#a5c7c6e94f3780ab97abc458f81d8e66e">simple_msg_logger_and_die</a>(<a class="code" href="../../d7/d30/syslog_8h.html#a96fad55b3f5adf08c39e4c877cf185e3">LOG_ERR</a>, <span class="stringliteral">&quot;Unknown action&quot;</span>);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    }</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}   <span class="comment">/*  End Function service_name  */</span></div>
<div class="ttc" id="abusybox_2coreutils_2cut_8c_html_ae2dc86c4bb96ec9adc9156780954ad77"><div class="ttname"><a href="../../de/dcc/busybox_2coreutils_2cut_8c.html#ae2dc86c4bb96ec9adc9156780954ad77">regexec</a></div><div class="ttdeci">#define regexec(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/busybox_2coreutils_2cut_8c_source.html#l00060">cut.c:60</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a1309e2d760c38df602b6ce3932e8f698"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a1309e2d760c38df602b6ce3932e8f698">DEVFSD_NOTIFY_LOOKUP</a></div><div class="ttdeci">#define DEVFSD_NOTIFY_LOOKUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00160">devfsd.c:160</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a5428ee986c8ca841a42213b5c2356278"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a5428ee986c8ca841a42213b5c2356278">action_permissions</a></div><div class="ttdeci">static void action_permissions(const struct devfsd_notify_struct *, const struct config_entry_struct *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00798">devfsd.c:798</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a5b4ce8b3436a3d25966192d597ebd5e6"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a5b4ce8b3436a3d25966192d597ebd5e6">AC_IGNORE</a></div><div class="ttdeci">#define AC_IGNORE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00219">devfsd.c:219</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a7002f616325c7d63e7a3ad7988083563"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a7002f616325c7d63e7a3ad7988083563">action_copy</a></div><div class="ttdeci">static void action_copy(const struct devfsd_notify_struct *, const struct config_entry_struct *, const regmatch_t *, unsigned)</div></div>
<div class="ttc" id="adevfsd_8c_html_aa42db09321bed09819945c6d10177940"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#aa42db09321bed09819945c6d10177940">MAX_SUBEXPR</a></div><div class="ttdeci">#define MAX_SUBEXPR</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00189">devfsd.c:189</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ac94504760e78e131fd311f717f006f65"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ac94504760e78e131fd311f717f006f65">action_execute</a></div><div class="ttdeci">static void action_execute(const struct devfsd_notify_struct *, const struct config_entry_struct *, const regmatch_t *, unsigned)</div></div>
<div class="ttc" id="adevfsd_8c_html_ad82bd6846aab0ba26318e0ac8bfef5ae"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ad82bd6846aab0ba26318e0ac8bfef5ae">action_compat</a></div><div class="ttdeci">static void action_compat(const struct devfsd_notify_struct *, unsigned)</div></div>
<div class="ttc" id="adevfsd_8c_html_adbb947d42ad859adf92b5d665dece32e"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#adbb947d42ad859adf92b5d665dece32e">action_modload</a></div><div class="ttdeci">static void action_modload(const struct devfsd_notify_struct *info, const struct config_entry_struct *entry)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00218">AC_COPY</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00215">AC_EXECUTE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00219">AC_IGNORE</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00221">AC_MKNEWCOMPAT</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00220">AC_MKOLDCOMPAT</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00214">AC_MODLOAD</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00213">AC_PERMISSIONS</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00223">AC_RMNEWCOMPAT</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00222">AC_RMOLDCOMPAT</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#ad82bd6846aab0ba26318e0ac8bfef5ae">action_compat()</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#a7002f616325c7d63e7a3ad7988083563">action_copy()</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#ac94504760e78e131fd311f717f006f65">action_execute()</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#adbb947d42ad859adf92b5d665dece32e">action_modload()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00798">action_permissions()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00160">DEVFSD_NOTIFY_LOOKUP</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00304">first_config</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00013">LOG_ERR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00189">MAX_SUBEXPR</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00355">msg_logger</a>, <a class="el" href="../../d0/d32/dcigettext_8c_source.html#l00441">n</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../de/dcc/busybox_2coreutils_2cut_8c_source.html#l00060">regexec</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00358">simple_msg_logger_and_die</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00704">do_servicing()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01237">service()</a>.</p>

</div>
</div>
<a id="a10ff19356f5e5c82507c7f889e064ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10ff19356f5e5c82507c7f889e064ef6">&#9670;&nbsp;</a></span>signal_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void signal_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01197">1197</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;{</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a9baca606c31e56122c105704c0a4e77b">caught_signal</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">if</span> (sig == <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a136c64ec2d1306de745e39d6aee362ca">SIGHUP</a>)</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <a class="code" href="../../d6/d3a/devfsd_8c.html#a57d05d3c313fa07722d642c240f19246">caught_sighup</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a7d915887d20e184f680358c4be506f7b">info_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#aeb4f36db01bd128c7afeac5889dac311">LOG_INFO</a>, <span class="stringliteral">&quot;Caught signal %d&quot;</span>, sig);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;}   <span class="comment">/*  End Function signal_handler  */</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00308">caught_sighup</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00307">caught_signal</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00353">info_logger</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00016">LOG_INFO</a>, <a class="el" href="../../df/dff/libc_2include_2signal_8h_source.html#l00010">SIGHUP</a>, and <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00407">devfsd_main()</a>.</p>

</div>
</div>
<a id="af9357beeaae7141bdcc3578a1421cc7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9357beeaae7141bdcc3578a1421cc7d">&#9670;&nbsp;</a></span>st_expr_expand() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int st_expr_expand </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">*)(const char *, void *, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01325">expand_expression()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01705">expand_variable()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">process_config_line()</a>.</p>

</div>
</div>
<a id="aa17a276259cc7088eb0cca44836ad199"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa17a276259cc7088eb0cca44836ad199">&#9670;&nbsp;</a></span>st_expr_expand() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int st_expr_expand </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *(*)(const char *<a class="el" href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a>, void *<a class="el" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>)&#160;</td>
          <td class="paramname"><em>get_variable_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01613">1613</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;{</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordtype">char</span> ch;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> out_pos = 0;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *ptr;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d9/dc9/pwd_8h.html#d6/d85/structpasswd">passwd</a> *pwent;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>[<a class="code" href="../../d6/d3a/devfsd_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>], tmp[<a class="code" href="../../d6/d3a/devfsd_8c.html#ac829415013d8120cedee928452ae0f55">STRING_LENGTH</a>];</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="keywordflow">if</span> (length &gt; <a class="code" href="../../d6/d3a/devfsd_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>)</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        length = <a class="code" href="../../d6/d3a/devfsd_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; ++<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>) {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <span class="keywordflow">switch</span> (ch = *<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>) {</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;$&#39;</span>:</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                <span class="comment">/*  Variable expansion  */</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a> = <a class="code" href="../../d6/d3a/devfsd_8c.html#ad7f5fb0c45a9a1270ff1d9ca0b251a8d">expand_variable</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, length, &amp;out_pos, ++<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>, get_variable_func, <a class="code" href="../../db/d16/debug_8h.html#aaef030dcfb502de87e0f47669c58c755">info</a>);</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;~&#39;</span>:</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                <span class="comment">/*  Home directory expansion  */</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                ch = <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>[1];</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a>(ch) ||(ch == <span class="charliteral">&#39;/&#39;</span>) ||(ch == <span class="charliteral">&#39;\0&#39;</span>)) {</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                    <span class="comment">/* User&#39;s own home directory: leave separator for next time */</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                    <a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a> = <a class="code" href="../../d2/d02/os2compat_8h.html#aafc8c101dfb6313ab0416a6c5903ce66">getenv</a>(<span class="stringliteral">&quot;HOME&quot;</span>);</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                        <a class="code" href="../../d6/d3a/devfsd_8c.html#a7d915887d20e184f680358c4be506f7b">info_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#aeb4f36db01bd128c7afeac5889dac311">LOG_INFO</a>, bb_msg_variable_not_found, <span class="stringliteral">&quot;HOME&quot;</span>);</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                    }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + out_pos &gt;= length)</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                        <span class="keywordflow">goto</span> st_expr_expand_out;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                    <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a> + out_pos, <a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + 1);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                    out_pos += <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                }</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                <span class="comment">/*  Someone else&#39;s home directory  */</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;                <span class="keywordflow">for</span> (ptr = ++<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>; !<a class="code" href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a>(ch) &amp;&amp; (ch != <span class="charliteral">&#39;/&#39;</span>) &amp;&amp; (ch != <span class="charliteral">&#39;\0&#39;</span>); ch = *++ptr)</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                    <span class="comment">/* VOID */</span>;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = ptr - <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &gt;= <span class="keyword">sizeof</span> tmp)</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                    <span class="keywordflow">goto</span> st_expr_expand_out;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                <a class="code" href="../../d6/d3a/devfsd_8c.html#a1e5fa65d7a3fccc813a9df4527a13430">safe_memcpy</a>(tmp, <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                <a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5a37943061a284187ff6e555ac7093f528">input</a> = ptr - 1;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                pwent = <a class="code" href="../../d1/dd6/pwd___8h.html#afa6183bc8f20fc62f2e63821d93b8ff1">getpwnam</a>(tmp);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                <span class="keywordflow">if</span> (pwent == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                    <a class="code" href="../../d6/d3a/devfsd_8c.html#a7d915887d20e184f680358c4be506f7b">info_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#aeb4f36db01bd128c7afeac5889dac311">LOG_INFO</a>, <span class="stringliteral">&quot;no pwent for: %s&quot;</span>, tmp);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                }</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(pwent-&gt;<a class="code" href="../../d9/dc9/pwd_8h.html#afa7bb51f592e9199dc776ccc763352a7">pw_dir</a>);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + out_pos &gt;= length)</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                    <span class="keywordflow">goto</span> st_expr_expand_out;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a> + out_pos, pwent-&gt;<a class="code" href="../../d9/dc9/pwd_8h.html#afa7bb51f592e9199dc776ccc763352a7">pw_dir</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + 1);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                out_pos += <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;\0&#39;</span>:</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            <span class="comment">/* Falltrough */</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                <span class="keywordflow">if</span> (out_pos &gt;= length)</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                    <span class="keywordflow">goto</span> st_expr_expand_out;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                <a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>[out_pos++] = ch;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                    <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d7/dd7/stty_8c.html#a23cac2411ee0829057d416acc6731dd5ae6eb596f7e638118128651043ff38545">output</a>, <a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, out_pos);</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                }</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            <span class="comment">/* esac */</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        }</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    }</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;st_expr_expand_out:</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <a class="code" href="../../d6/d3a/devfsd_8c.html#a58fc47bd4e5767fdb0f7410e41638521">simple_info_logger</a>(<a class="code" href="../../d7/d30/syslog_8h.html#aeb4f36db01bd128c7afeac5889dac311">LOG_INFO</a>, bb_msg_small_buffer);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;}   <span class="comment">/*  End Function st_expr_expand  */</span></div>
<div class="ttc" id="achartypes_8h_html_a0c009fd6c0f22a1da6995c59b701a58f"><div class="ttname"><a href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a></div><div class="ttdeci">#define isspace(c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcb/chartypes_8h_source.html#l00041">chartypes.h:41</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a6b20d41d6252e9871430c242cb1a56e7"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a></div><div class="ttdeci">#define BUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00181">devfsd.c:181</a></div></div>
<div class="ttc" id="apwd_8h_html_afa7bb51f592e9199dc776ccc763352a7"><div class="ttname"><a href="../../d9/dc9/pwd_8h.html#afa7bb51f592e9199dc776ccc763352a7">passwd::pw_dir</a></div><div class="ttdeci">char * pw_dir</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc9/pwd_8h_source.html#l00026">pwd.h:26</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00181">BUFFER_SIZE</a>, <a class="el" href="../../d9/d4a/uevent_8c_source.html#l00029">env</a>, <a class="el" href="../../d6/d3a/devfsd_8c.html#ad7f5fb0c45a9a1270ff1d9ca0b251a8d">expand_variable()</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../d2/d02/os2compat_8h_source.html#l00045">getenv</a>, <a class="el" href="../../d1/dd6/pwd___8h_source.html#l00038">getpwnam</a>, <a class="el" href="../../db/d16/debug_8h_source.html#l00088">info</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00353">info_logger</a>, <a class="el" href="../../d7/dd7/stty_8c_source.html#l00256">input</a>, <a class="el" href="../../d4/dcb/chartypes_8h_source.html#l00041">isspace</a>, <a class="el" href="../../d1/dc0/multiboot_8h_source.html#l00002">len</a>, <a class="el" href="../../d7/d30/syslog_8h_source.html#l00016">LOG_INFO</a>, <a class="el" href="../../d3/d82/convert_8h_source.html#l00116">memcpy</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../d7/dd7/stty_8c_source.html#l00256">output</a>, <a class="el" href="../../d9/dc9/pwd_8h_source.html#l00026">passwd::pw_dir</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00363">safe_memcpy()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00354">simple_info_logger</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00190">STRING_LENGTH</a>, <a class="el" href="../../d0/dc7/Convert_8cpp_source.html#l00064">strlen()</a>, and <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>.</p>

</div>
</div>
<a id="ab26143a9703e4557716517f98916be9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab26143a9703e4557716517f98916be9e">&#9670;&nbsp;</a></span>write_old_sd_name() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* write_old_sd_name </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01451">get_old_name()</a>.</p>

</div>
</div>
<a id="a9609a04570d36f29bc830fc8508b76e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9609a04570d36f29bc830fc8508b76e5">&#9670;&nbsp;</a></span>write_old_sd_name() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* write_old_sd_name </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>minor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>part</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01580">1580</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;{</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> disc_index;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160; </div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/dfb/sysmacros_8h.html#a394c7314d2185f6fe159921af7fe4fb2">major</a> == 8) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, <span class="stringliteral">&quot;sd%c%s&quot;</span>, <span class="charliteral">&#39;a&#39;</span> + (<a class="code" href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a> &gt;&gt; 4), part);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/d18/less_8c.html#aaadc06b5dac8070de2c8677210967bdb">buffer</a>;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    }</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d5/dfb/sysmacros_8h.html#a394c7314d2185f6fe159921af7fe4fb2">major</a> &gt; 64) &amp;&amp; (<a class="code" href="../../d5/dfb/sysmacros_8h.html#a394c7314d2185f6fe159921af7fe4fb2">major</a> &lt; 72)) {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        disc_index = ((<a class="code" href="../../d5/dfb/sysmacros_8h.html#a394c7314d2185f6fe159921af7fe4fb2">major</a> - 64) &lt;&lt; 4) + (<a class="code" href="../../d5/dfb/sysmacros_8h.html#ab8a08609d226ca12fd7814f8644a3619">minor</a> &gt;&gt; 4);</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        <span class="keywordflow">if</span> (disc_index &lt; 26)</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, <span class="stringliteral">&quot;sd%c%s&quot;</span>, <span class="charliteral">&#39;a&#39;</span> + disc_index, part);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, <span class="stringliteral">&quot;sd%c%c%s&quot;</span>, <span class="charliteral">&#39;a&#39;</span> + (disc_index / 26) - 1, <span class="charliteral">&#39;a&#39;</span> + disc_index % 26, part);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/d18/less_8c.html#aaadc06b5dac8070de2c8677210967bdb">buffer</a>;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    }</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;}   <span class="comment">/*  End Function write_old_sd_name  */</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d18/less_8c_source.html#l00257">buffer</a>, <a class="el" href="../../d5/dfb/sysmacros_8h_source.html#l00004">major</a>, <a class="el" href="../../d5/dfb/sysmacros_8h_source.html#l00006">minor</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, and <a class="el" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a09545a81e7d9bd978a8de38483d7cc66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09545a81e7d9bd978a8de38483d7cc66">&#9670;&nbsp;</a></span>ALIGN1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char bb_msg_variable_not_found [] ALIGN1 = &quot;protocol revision&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00337">337</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">process_config_line()</a>.</p>

</div>
</div>
<a id="a57d05d3c313fa07722d642c240f19246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57d05d3c313fa07722d642c240f19246">&#9670;&nbsp;</a></span>caught_sighup</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/dd5/localcharset_8c.html#af55a5e48555be7d32ad73e76cf5d4db0">volatile</a> int caught_sighup = <a class="el" href="../../d7/dd7/libbb_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00308">308</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00704">do_servicing()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01197">signal_handler()</a>.</p>

</div>
</div>
<a id="a9baca606c31e56122c105704c0a4e77b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9baca606c31e56122c105704c0a4e77b">&#9670;&nbsp;</a></span>caught_signal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/dd5/localcharset_8c.html#af55a5e48555be7d32ad73e76cf5d4db0">volatile</a> int caught_signal = <a class="el" href="../../d7/dd7/libbb_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00307">307</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00704">do_servicing()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01197">signal_handler()</a>.</p>

</div>
</div>
<a id="a2c93c017ca7319621512781c6d0221f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c93c017ca7319621512781c6d0221f2">&#9670;&nbsp;</a></span>event_types</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d2/dbe/structevent__type">event_type</a> event_types[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {<a class="code" href="../../d6/d3a/devfsd_8c.html#a9230c4bd2a9dd9325cc23a59e311b268">DEVFSD_NOTIFY_REGISTERED</a>,   <span class="stringliteral">&quot;REGISTER&quot;</span>},</div>
<div class="line">    {<a class="code" href="../../d6/d3a/devfsd_8c.html#ad9a998b6b3abd352f639bbe3e893ee2b">DEVFSD_NOTIFY_UNREGISTERED</a>, <span class="stringliteral">&quot;UNREGISTER&quot;</span>},</div>
<div class="line">    {<a class="code" href="../../d6/d3a/devfsd_8c.html#a38efedfe98c32561d67076f60e05fbd2">DEVFSD_NOTIFY_ASYNC_OPEN</a>,   <span class="stringliteral">&quot;ASYNC_OPEN&quot;</span>},</div>
<div class="line">    {<a class="code" href="../../d6/d3a/devfsd_8c.html#aa062809854f3bed93f5b23a1d610906d">DEVFSD_NOTIFY_CLOSE</a>,        <span class="stringliteral">&quot;CLOSE&quot;</span>},</div>
<div class="line">    {<a class="code" href="../../d6/d3a/devfsd_8c.html#a1309e2d760c38df602b6ce3932e8f698">DEVFSD_NOTIFY_LOOKUP</a>,       <span class="stringliteral">&quot;LOOKUP&quot;</span>},</div>
<div class="line">    {<a class="code" href="../../d6/d3a/devfsd_8c.html#a90c062cce931d5a4144fa0f3faaa5397">DEVFSD_NOTIFY_CHANGE</a>,       <span class="stringliteral">&quot;CHANGE&quot;</span>},</div>
<div class="line">    {<a class="code" href="../../d6/d3a/devfsd_8c.html#a7b307fc4d0efbdbdf5110cd166924da3">DEVFSD_NOTIFY_CREATE</a>,       <span class="stringliteral">&quot;CREATE&quot;</span>},</div>
<div class="line">    {<a class="code" href="../../d6/d3a/devfsd_8c.html#a0cd435eb0725a03c1e1520e758c19ed6">DEVFSD_NOTIFY_DELETE</a>,       <span class="stringliteral">&quot;DELETE&quot;</span>},</div>
<div class="line">    {0xffffffff,                 <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}</div>
<div class="line">}</div>
<div class="ttc" id="adevfsd_8c_html_a0cd435eb0725a03c1e1520e758c19ed6"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a0cd435eb0725a03c1e1520e758c19ed6">DEVFSD_NOTIFY_DELETE</a></div><div class="ttdeci">#define DEVFSD_NOTIFY_DELETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00163">devfsd.c:163</a></div></div>
<div class="ttc" id="adevfsd_8c_html_a38efedfe98c32561d67076f60e05fbd2"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#a38efedfe98c32561d67076f60e05fbd2">DEVFSD_NOTIFY_ASYNC_OPEN</a></div><div class="ttdeci">#define DEVFSD_NOTIFY_ASYNC_OPEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00158">devfsd.c:158</a></div></div>
<div class="ttc" id="adevfsd_8c_html_aa062809854f3bed93f5b23a1d610906d"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#aa062809854f3bed93f5b23a1d610906d">DEVFSD_NOTIFY_CLOSE</a></div><div class="ttdeci">#define DEVFSD_NOTIFY_CLOSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00159">devfsd.c:159</a></div></div>
<div class="ttc" id="adevfsd_8c_html_ad9a998b6b3abd352f639bbe3e893ee2b"><div class="ttname"><a href="../../d6/d3a/devfsd_8c.html#ad9a998b6b3abd352f639bbe3e893ee2b">DEVFSD_NOTIFY_UNREGISTERED</a></div><div class="ttdeci">#define DEVFSD_NOTIFY_UNREGISTERED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3a/devfsd_8c_source.html#l00157">devfsd.c:157</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">process_config_line()</a>.</p>

</div>
</div>
<a id="a3b35573c0207d8073e91bfc6742a516d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b35573c0207d8073e91bfc6742a516d">&#9670;&nbsp;</a></span>first_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a>* first_config = <a class="el" href="../../d4/dc4/Userspace_2musl_2include_2wchar_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00304">304</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01114">free_config()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">process_config_line()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00737">service_name()</a>.</p>

</div>
</div>
<a id="a3351cabcdbe364f3e5e21803242b1156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3351cabcdbe364f3e5e21803242b1156">&#9670;&nbsp;</a></span>initial_symlinks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d0/dcb/structinitial__symlink__struct">initial_symlink_struct</a> initial_symlinks[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {<span class="stringliteral">&quot;/proc/self/fd&quot;</span>, <span class="stringliteral">&quot;fd&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;fd/0&quot;</span>, <span class="stringliteral">&quot;stdin&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;fd/1&quot;</span>, <span class="stringliteral">&quot;stdout&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;fd/2&quot;</span>, <span class="stringliteral">&quot;stderr&quot;</span>},</div>
<div class="line">    {<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>},</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00407">devfsd_main()</a>.</p>

</div>
</div>
<a id="aa7ef58f29db96f4eabb81e30315b4936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7ef58f29db96f4eabb81e30315b4936">&#9670;&nbsp;</a></span>last_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d9/db8/structconfig__entry__struct">config_entry_struct</a>* last_config = <a class="el" href="../../d4/dc4/Userspace_2musl_2include_2wchar_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00305">305</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01114">free_config()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00555">process_config_line()</a>.</p>

</div>
</div>
<a id="a059fdb8aae496c0916e50f5bd4ac8ab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a059fdb8aae496c0916e50f5bd4ac8ab3">&#9670;&nbsp;</a></span>mount_point</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* mount_point = <a class="el" href="../../d4/dc4/Userspace_2musl_2include_2wchar_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00306">306</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00868">action_copy()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00836">action_execute()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l00407">devfsd_main()</a>, <a class="el" href="../../de/d61/df_8c_source.html#l00113">df_main()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01206">get_variable()</a>, <a class="el" href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c_source.html#l00110">getcwd()</a>, <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01012">restore()</a>, and <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01237">service()</a>.</p>

</div>
</div>
<a id="a9bc873142de73940654cebca525bb479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bc873142de73940654cebca525bb479">&#9670;&nbsp;</a></span>translate_table</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d3a/devfsd_8c.html#d8/de0/structtranslate__struct">translate_struct</a> translate_table[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01354">1354</a> of file <a class="el" href="../../d6/d3a/devfsd_8c_source.html">devfsd.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d3a/devfsd_8c_source.html#l01451">get_old_name()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97d86ce2f18c7710ea326fa47777d7d7.html">Userspace</a></li><li class="navelem"><a class="el" href="../../dir_0276b9b7d706caf6f8b101518c949f15.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_825a5fc57f8484006531699dcb39fa0d.html">base</a></li><li class="navelem"><a class="el" href="../../dir_87e330aa425985c7f88c27f5b355b004.html">busybox</a></li><li class="navelem"><a class="el" href="../../dir_229c23bfdbf392eb5e27c3ee29a3305d.html">miscutils</a></li><li class="navelem"><a class="el" href="../../d6/d3a/devfsd_8c.html">devfsd.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
