<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fennix: Userspace/apps/base/bash/execute_cmd.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fennix
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Opeating System from scratch made in C and C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('de/d3d/execute__cmd_8c_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">execute_cmd.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../de/d3d/execute__cmd_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* execute_cmd.c -- Execute a COMMAND structure. */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/* Copyright (C) 1987-2022 Free Software Foundation, Inc.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">   This file is part of GNU Bash, the Bourne Again SHell.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   Bash is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">   it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">   Bash is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">   GNU General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">   You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">   along with Bash.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d16/config_8h.html">config.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#if !defined (__GNUC__) &amp;&amp; !defined (HAVE_ALLOCA_H) &amp;&amp; defined (_AIX)</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">  #pragma alloca</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _AIX &amp;&amp; RISC6000 &amp;&amp; !__GNUC__ */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/dcb/chartypes_8h.html">chartypes.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d21/bashtypes_8h.html">bashtypes.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#if !defined (_MINIX) &amp;&amp; defined (HAVE_SYS_FILE_H)</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#  include &lt;<a class="code" href="../../d2/d4d/file_8h.html">sys/file.h</a>&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d1c/filecntl_8h.html">filecntl.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;posixstat.h&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#if defined (HAVE_SYS_PARAM_H)</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#  include &lt;<a class="code" href="../../d5/d33/param_8h.html">sys/param.h</a>&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#if defined (HAVE_UNISTD_H)</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#  include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;posixtime.h&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#if defined (HAVE_SYS_RESOURCE_H) &amp;&amp; !defined (RLIMTYPE)</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#  include &lt;<a class="code" href="../../d3/d6f/include_2sys_2resource_8h.html">sys/resource.h</a>&gt;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#if defined (HAVE_SYS_TIMES_H) &amp;&amp; defined (HAVE_TIMES)</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#  include &lt;<a class="code" href="../../d3/d15/times_8h.html">sys/times.h</a>&gt;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#if !defined (errno)</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#adc04909eb64561a92cc48f9e01e081b9">   60</a></span>&#160;<span class="preprocessor">#define NEED_FPURGE_DECL</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aff7f8a309f07909be324fa40ec37308f">   61</a></span>&#160;<span class="preprocessor">#define NEED_SH_SETLINEBUF_DECL</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d82/bashansi_8h.html">bashansi.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/dcd/bashintl_8h.html">bashintl.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/de9/memalloc_8h.html">memalloc.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d03/shell_8h.html">shell.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d4/d0b/y_8tab_8h.html">y.tab.h</a>&gt;</span>  <span class="comment">/* use &lt;...&gt; so we pick it up from the build directory */</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d36/parser_8h.html">parser.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/da0/flags_8h.html">flags.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d41/builtins_8h.html">builtins.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d0d/hashlib_8h.html">hashlib.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d3a/jobs_8h.html">jobs.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/da7/execute__cmd_8h.html">execute_cmd.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d19/findcmd_8h.html">findcmd.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/dbf/redir_8h.html">redir.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d0b/trap_8h.html">trap.h</a>&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/da8/pathexp_8h.html">pathexp.h</a>&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d10/hashcmd_8h.html">hashcmd.h</a>&quot;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#if defined (COND_COMMAND)</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#  include &quot;<a class="code" href="../../d2/ddc/test_8h.html">test.h</a>&quot;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html">builtins/common.h</a>&quot;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &quot;builtins/builtext.h&quot;</span>  <span class="comment">/* list of builtins */</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d92/apps_2base_2bash_2builtins_2getopt_8h.html">builtins/getopt.h</a>&quot;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d8/da2/strmatch_8h.html">glob/strmatch.h</a>&gt;</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d4/d29/tilde_2tilde_8h.html">tilde/tilde.h</a>&gt;</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#if defined (BUFFERED_INPUT)</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#  include &quot;<a class="code" href="../../de/ded/input_8h.html">input.h</a>&quot;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#if defined (ALIAS)</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#  include &quot;<a class="code" href="../../d4/d72/alias_8h.html">alias.h</a>&quot;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#if defined (HISTORY)</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#  include &quot;<a class="code" href="../../da/dd8/bashhist_8h.html">bashhist.h</a>&quot;</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#if defined (HAVE_MBSTR_H) &amp;&amp; defined (HAVE_MBSCHR)</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#  include &lt;mbstr.h&gt;</span>        <span class="comment">/* mbschr */</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8ae2084fe2fa2b0677f27fd23b86a423">command_string_index</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/d3d/execute__cmd_8c.html#a65d53dc7e574c97d7ab5e3fb379e0ec5">the_printed_command</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">extern</span> time_t <a class="code" href="../../de/d3d/execute__cmd_8c.html#a921ecdc742149cd1e3f93520f8fbd371">shell_start_time</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#if defined (HAVE_GETTIMEOFDAY)</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> <a class="code" href="../../d6/d4f/shell_8c.html#aa723d30e3e46b48868d602c2e489ac4d">shellstart</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">char</span> *glob_argv_flags;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">  119</a></span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/* Static functions defined and used in this file. */</span></div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ad510d3b0ce3414538b65c389d9d97fa5">  122</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8160fde58a3713edb578714611bb192b">close_pipes</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">int</span>, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac019991c9bd079990f1f720d21dabe7b">do_piping</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">int</span>, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aec102a6b524c66c0918581655a9c30b8">  124</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ae593000921ec0a7ac666211486fbb0d3">bind_lastarg</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">char</span> *));</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ad7f34a5ec9b6408833618873e437219e">  125</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a55109f0a4ce17f03ea7970001d89439c">shell_control_structure</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keyword">enum</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4">command_type</a>));</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a1d151b5c8d6be280ebaeb928f2cbbe3c">  126</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a68213e3ab937aa4423c054f20000f89f">cleanup_redirects</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *));</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> restore_signal_mask <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d8/d90/sigset__t_8h.html#a9140a5882f847f67b8155c759ac6aa05">sigset_t</a> *));</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#abfde83c7c9b6b0f3c316e1618323be82">builtin_status</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a88a1b4048bd31710d5cffe0d888044c8">  134</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1ea07c2656f94637a84ca553f3c72d59">execute_for_command</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#d4/d1a/structfor__com">FOR_COM</a> *));</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#if defined (SELECT_COMMAND)</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> displen <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *));</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> print_index_and_element <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *));</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d90/hush_8c.html#a63573b8e4d6bd1efc2657355a72c032e">indent</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">int</span>, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> print_select_list <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *select_query <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> execute_select_command <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((SELECT_COM *));</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">#if defined (DPAREN_ARITHMETIC)</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> execute_arith_command <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((ARITH_COM *));</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#if defined (COND_COMMAND)</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> execute_cond_node <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#d8/d32/structcond__com">COND_COM</a> *));</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> execute_cond_command <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#d8/d32/structcond__com">COND_COM</a> *));</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="preprocessor">#if defined (COMMAND_TIMING)</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> mkfmt <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, time_t, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> print_formatted_time <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *, <span class="keywordtype">char</span> *,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                      time_t, <span class="keywordtype">int</span>, time_t, <span class="keywordtype">int</span>,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                      time_t, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> time_command <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keyword">struct</span> <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *));</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">#if defined (ARITH_FOR_COMMAND)</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#ae26fa513a7dfed63221f72d93de2a021">intmax_t</a> eval_arith_for_expr <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *, <span class="keywordtype">int</span> *));</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> execute_arith_for_command <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((ARITH_FOR_COM *));</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a1395de3d771ab816dfb858bb5e4ba0c4">  161</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1b78adc753a1670b054538cc406ad3b1">execute_case_command</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#dc/d82/structcase__com">CASE_COM</a> *));</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a3222010a67940cf7f86cc8e11a4b3b9a">  162</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1a89a5fd9e7cb88f06f7fe13b6481b8a">execute_while_command</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#de/dac/structwhile__com">WHILE_COM</a> *));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a722b1231a1e03bf79f41a79f04d8ac48">execute_until_command</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#de/dac/structwhile__com">WHILE_COM</a> *));</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a932a8a1ce2164fa1c7b23e66e848e2ff">  164</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ae5db17c1f897283efba4c21fc23c98de">execute_while_or_until</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#de/dac/structwhile__com">WHILE_COM</a> *, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aeaaba6578a9ff4acb1f4257983786311">  165</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#abf91aaf22393f5f948518ea7ce93b5dd">execute_if_command</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#d6/d6c/structif__com">IF_COM</a> *));</div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ae012e400f1b4bc4b8594cc2e9d9ddd65">  166</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2ade75d1995aafc98bc9b3cbbca58b78">execute_null_command</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a74cd815d5a2f943040c175c849114a83">  167</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a60b1ff1ecb7c0d67e4f17864c7ce6d07">fix_assignment_words</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *));</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> fix_arrayref_words <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *));</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ab5a3ee8e7f04957e64fd14c02df211b6">  169</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab8ab537a7847b1547b676333d29ef22a">execute_simple_command</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#dd/d8e/structsimple__com">SIMPLE_COM</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keyword">struct</span> <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *));</div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a8e25cab69f82d0f9127bde95471e8bdd">  170</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#aa0e64220250a72b894c4015a2b11b263">execute_builtin</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((sh_builtin_func_t *, <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a907602bf854d51dca27660880dd08784">  171</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1615d23838a7e86caac9c44a3d9ed5c1">execute_function</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *, <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *, <span class="keywordtype">int</span>, <span class="keyword">struct</span> <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a4171cbe057278c38004fc8a3dc27a9fc">  172</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab4f52fcbf43f98c10b0d186d0a0c6275">execute_builtin_or_function</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *, sh_builtin_func_t *,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                        <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        <a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *, <span class="keyword">struct</span> <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a21446039dc2e4ef6a4e22523da077dbf">  175</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab60bb6183b48b4a619b88771cd46addb">execute_subshell_builtin_or_function</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *, <a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                              sh_builtin_func_t *,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                              <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                              <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                              <span class="keyword">struct</span> <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                              <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aae0e1602ffb04c1573605e8273829117">  181</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac853bac06b7bf70a7fbdd252471a7feb">execute_disk_command</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *, <a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *, <span class="keywordtype">char</span> *,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                      <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keyword">struct</span> <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aaea176bd8d4b2ba1a110e7137514e29b">  184</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/d3d/execute__cmd_8c.html#a8b065c1edf88fcbfee0a98f4bd1e7a01">getinterp</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">char</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span> *));</div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#af6ec57428884a4ee700285406eaaf95b">  185</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ae53493fb624a51ac814ac63b29e077bc">initialize_subshell</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">void</span>));</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a74934f33955fd500104ef0ce131c7ed3">  186</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a656846364a94ef47095c18ab2efe9cc9">execute_in_subshell</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keyword">struct</span> <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="preprocessor">#if defined (COPROCESS_SUPPORT)</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> coproc_setstatus <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keyword">struct</span> <a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *, <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> execute_coproc <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keyword">struct</span> <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *));</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a094e75199b514c6b0304f951c0bbfff2">execute_pipeline</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keyword">struct</span> <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *));</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#aee632ef152670f7b54750371e4a131aa">execute_connection</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keyword">struct</span> <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *));</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a36ecbaf3e86ebcd5659fd7d43fab6b36">  196</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac055e258f77a21adda573446948fd301">execute_intern_function</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d0/d09/command_8h.html#dd/d81/structword__desc">WORD_DESC</a> *, <a class="code" href="../../d0/d09/command_8h.html#da/d79/structfunction__def">FUNCTION_DEF</a> *));</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">/* Set to 1 if fd 0 was the subject of redirection to a subshell.  Global</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">   so that reader_loop can set it to zero before executing a command. */</span></div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#adbcf768dde8fc18d3e314d07adcdb537">  200</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#adbcf768dde8fc18d3e314d07adcdb537">stdin_redir</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/* The name of the command that is currently being executed.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">   `test&#39; needs this, for example. */</span></div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="../../d2/d2a/finfo_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">  204</a></span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">/* The printed representation of the currently-executing command (same as</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">   the_printed_command), except when a trap is being executed.  Useful for</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">   a debugger to know where exactly the program is currently executing. */</span></div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">  209</a></span>&#160;<span class="keywordtype">char</span> *<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">/* For catching RETURN in a function. */</span></div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#add8e674e588c6cff9adb9177e416dc09">  212</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#add8e674e588c6cff9adb9177e416dc09">return_catch_flag</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#afe3eeaca94d517df5e3f8644b5dd92c8">  213</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#afe3eeaca94d517df5e3f8644b5dd92c8">return_catch_value</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="../../da/d23/bashjmp_8h.html#a2d6a7e8dd1530d8ddc57d42d0c689391">  214</a></span>&#160;<a class="code" href="../../d5/de0/include_2posixjmp_8h.html#aa65facfb875e08a95ca9b8821d7af547">procenv_t</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2d6a7e8dd1530d8ddc57d42d0c689391">return_catch</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">/* The value returned by the last synchronous command. */</span></div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="../../d6/ddd/push_8c.html#a6525695256aeef8ca4dfea2a19319c00">  217</a></span>&#160;<span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">/* Whether or not the last command (corresponding to last_command_exit_value)</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">   was terminated by a signal, and, if so, which one. */</span></div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a5719fe068e6db753bf1dbb3832cbac22">  221</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a5719fe068e6db753bf1dbb3832cbac22">last_command_exit_signal</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">/* Are we currently ignoring the -e option for the duration of a builtin&#39;s</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">   execution? */</span></div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a8fd93fac39713beb94eed7b21c9c7add">  225</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8fd93fac39713beb94eed7b21c9c7add">builtin_ignoring_errexit</a> = 0;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">/* The list of redirections to perform which will undo the redirections</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">   that I made in the shell. */</span></div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">  229</a></span>&#160;<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *<a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a> = (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">/* The list of redirections to perform which will undo the internal</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">   redirections performed by the `exec&#39; builtin.  These are redirections</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">   that must be undone even when exec discards redirection_undo_list. */</span></div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a3f8893369f0a245f96a82f8136dcf2fb">  234</a></span>&#160;<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *<a class="code" href="../../de/d3d/execute__cmd_8c.html#a3f8893369f0a245f96a82f8136dcf2fb">exec_redirection_undo_list</a> = (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">/* When greater than zero, value is the `level&#39; of builtins we are</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">   currently executing (e.g. `eval echo a&#39; would have it set to 2). */</span></div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a45e5b34044beedf4b9dbbcca9d3021e1">  238</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a45e5b34044beedf4b9dbbcca9d3021e1">executing_builtin</a> = 0;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">/* Non-zero if we are executing a command list (a;b;c, etc.) */</span></div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a2cb744acc87fb33a861757a23f06535f">  241</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2cb744acc87fb33a861757a23f06535f">executing_list</a> = 0;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">/* Non-zero if failing commands in a command substitution should not exit the</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">   shell even if -e is set.  Used to pass the CMD_IGNORE_RETURN flag down to</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">   commands run in command substitutions by parse_and_execute. */</span></div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aad9f5b507ca60fbc973c3a72eb893f69">  246</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#aad9f5b507ca60fbc973c3a72eb893f69">comsub_ignore_return</a> = 0;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">/* Non-zero if we have just forked and are currently running in a subshell</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">   environment. */</span></div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">  250</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">/* Count of nested subshells, like SHLVL.  Available via $BASH_SUBSHELL */</span></div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a3c800265c671320a6dae122fd649438a">  253</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3c800265c671320a6dae122fd649438a">subshell_level</a> = 0;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">/* Currently-executing shell function. */</span></div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ab2d3023f49ce851dcede46603b86f1c3">  256</a></span>&#160;<a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *<a class="code" href="../../de/d3d/execute__cmd_8c.html#ab2d3023f49ce851dcede46603b86f1c3">this_shell_function</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">/* If non-zero, matches in case and [[ ... ]] are case-insensitive */</span></div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aca9257653043e30c345c3931fa66d934">  259</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#aca9257653043e30c345c3931fa66d934">match_ignore_case</a> = 0;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aa9b5fa951b8a300744e59741641c3aa9">  261</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#aa9b5fa951b8a300744e59741641c3aa9">executing_command_builtin</a> = 0;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> <a class="code" href="../../de/d3d/execute__cmd_8c.html#aefc9c88cc812820c1ae86c5fbb2ca30a">SB</a>;     <span class="comment">/* used for debugging */</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ad25b9d747d1c83b28178d77f0e76c426">  265</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad25b9d747d1c83b28178d77f0e76c426">special_builtin_failed</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">  267</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *<a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">/* The line number that the currently executing function starts on. */</span></div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ab44ee516a50d5f65c135f861c60f2418">  270</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab44ee516a50d5f65c135f861c60f2418">function_line_number</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">/* XXX - set to 1 if we&#39;re running the DEBUG trap and we want to show the line</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">   number containing the function name.  Used by executing_line_number to</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">   report the correct line number.  Kind of a hack. */</span></div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#acde9e3253ae6bd49b5d1f8f8d080f5d6">  275</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#acde9e3253ae6bd49b5d1f8f8d080f5d6">showing_function_line</a>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aa9143a9845e3b621d0818b1d27bee456">  277</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#aa9143a9845e3b621d0818b1d27bee456">connection_count</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">/* $LINENO ($BASH_LINENO) for use by an ERR trap.  Global so parse_and_execute</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">   can save and restore it. */</span></div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ac29b5ce6cbc8a6038ebb54d18eb18a50">  281</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac29b5ce6cbc8a6038ebb54d18eb18a50">line_number_for_err_trap</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">/* A convenience macro to avoid resetting line_number_for_err_trap while</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">   running the ERR trap. */</span></div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a2fd63bb00d85a53a0a326a56ad4fe3dc">  285</a></span>&#160;<span class="preprocessor">#define SET_LINE_NUMBER(v) \</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="preprocessor">do { \</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="preprocessor">  line_number = v; \</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">  if (signal_in_progress (ERROR_TRAP) == 0 &amp;&amp; running_trap != (ERROR_TRAP + 1)) \</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor">    line_number_for_err_trap = line_number; \</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">/* This can&#39;t be in executing_line_number() because that&#39;s used for LINENO</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">   and we want LINENO to reflect the line number of commands run during</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">   the ERR trap. Right now this is only used to push to BASH_LINENO. */</span></div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a81ca66f582cef3392d096591f628284a">  295</a></span>&#160;<span class="preprocessor">#define GET_LINE_NUMBER() \</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="preprocessor">  (signal_in_progress (ERROR_TRAP) &amp;&amp; running_trap == ERROR_TRAP+1) \</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="preprocessor">    ? line_number_for_err_trap \</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="preprocessor">    : executing_line_number ()</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">/* A sort of function nesting level counter */</span></div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a952ab702247ed8378bc80f9e85e14ad6">  301</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a952ab702247ed8378bc80f9e85e14ad6">funcnest</a> = 0;</div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a7956dbdb6364822323c7c5c149b929a9">  302</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a7956dbdb6364822323c7c5c149b929a9">funcnest_max</a> = 0;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a8892e0542b9dc46c7b64afc9f21e9d7f">  304</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8892e0542b9dc46c7b64afc9f21e9d7f">evalnest</a> = 0;</div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a6f498e828b8666a02fb1b4d01f520495">  305</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a6f498e828b8666a02fb1b4d01f520495">evalnest_max</a> = <a class="code" href="../../d8/d20/config-top_8h.html#a2f96397cc723fb96bcc3c21505bb97e4">EVALNEST_MAX</a>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a47764b3fceed5c7ecb914ad54693ef92">  307</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a47764b3fceed5c7ecb914ad54693ef92">sourcenest</a> = 0;</div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a57b0824f89ac7bc453201380bf956d80">  308</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a57b0824f89ac7bc453201380bf956d80">sourcenest_max</a> = <a class="code" href="../../d8/d20/config-top_8h.html#af2d241a622bd7d59c289bcbf8451a6df">SOURCENEST_MAX</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ac5ec072930036cec70df45194de4395e">  310</a></span>&#160;<span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac5ec072930036cec70df45194de4395e">from_return_trap</a> = 0;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a6536e5a29d4abdda3566dba8d589074c">  312</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a6536e5a29d4abdda3566dba8d589074c">lastpipe_opt</a> = 0;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a0894ddd8e579b51a079a98fd212e389f">  314</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *<a class="code" href="../../de/d3d/execute__cmd_8c.html#a0894ddd8e579b51a079a98fd212e389f">current_fds_to_close</a> = (<span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a142381c77da2e39d79b831123613a416">  316</a></span>&#160;<span class="preprocessor">#define FD_BITMAP_DEFAULT_SIZE 32</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">/* Functions to allocate and deallocate the structures used to pass</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">   information from the shell to its children about file descriptors</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">   to close. */</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *</div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a669e55863f9f092fd1890cd55fe270a3">  322</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a669e55863f9f092fd1890cd55fe270a3">new_fd_bitmap</a> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6d813a0f2b5281b18dea3f4cda696c33">size</a>)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6d813a0f2b5281b18dea3f4cda696c33">size</a>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *ret;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  ret = (<span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *)<a class="code" href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a> (<span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a>));</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  ret-&gt;<a class="code" href="../../df/d03/shell_8h.html#a28f1365151408dd4179cb4619df72025">size</a> = <a class="code" href="../../d1/dc0/multiboot_8h.html#a6d813a0f2b5281b18dea3f4cda696c33">size</a>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6d813a0f2b5281b18dea3f4cda696c33">size</a>)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      ret-&gt;<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6d813a0f2b5281b18dea3f4cda696c33">size</a>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a> (ret-&gt;<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>, <span class="charliteral">&#39;\0&#39;</span>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6d813a0f2b5281b18dea3f4cda696c33">size</a>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    ret-&gt;<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">return</span> (ret);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a005a2ab83cc8e602e9cab28b32f71295">  342</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a005a2ab83cc8e602e9cab28b32f71295">dispose_fd_bitmap</a> (fdbp)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fdbp;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (fdbp-&gt;<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (fdbp);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ab3931fec983d0c379daa238a8438b8ff">  350</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#ab3931fec983d0c379daa238a8438b8ff">close_fd_bitmap</a> (fdbp)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fdbp;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;{</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keyword">register</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordflow">if</span> (fdbp)</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; fdbp-&gt;<a class="code" href="../../df/d03/shell_8h.html#a28f1365151408dd4179cb4619df72025">size</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++)</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> (fdbp-&gt;<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>])</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        fdbp-&gt;<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] = 0;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">/* Return the line number of the currently executing command. */</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a7563559124a946dd934650e169c80175">  368</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a7563559124a946dd934650e169c80175">executing_line_number</a> ()</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a6b10c6496bb85fc66ac770978c2ef185">executing</a> &amp;&amp; <a class="code" href="../../de/d3d/execute__cmd_8c.html#acde9e3253ae6bd49b5d1f8f8d080f5d6">showing_function_line</a> == 0 &amp;&amp;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      (<a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a> == 0 || <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> == 0) &amp;&amp;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#if defined (COND_COMMAND)</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>-&gt;type == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a34e63fa25a73c47ca9c1e3c4675b4cb0">cm_cond</a>)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>-&gt;value.Cond-&gt;line;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="preprocessor">#if defined (DPAREN_ARITHMETIC)</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>-&gt;type == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4afbe09c28d0b774c3f618235f135e725e">cm_arith</a>)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>-&gt;value.Arith-&gt;line;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="preprocessor">#if defined (ARITH_FOR_COMMAND)</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>-&gt;type == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a9cda2772dfb914a28f9fd15f0827f5b9">cm_arith_for</a>)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>-&gt;value.ArithFor-&gt;line;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">/* Execute the command passed in COMMAND.  COMMAND is exactly what</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">   read_command () places into GLOBAL_COMMAND.  See &quot;command.h&quot; for the</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">   details of the command structure.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">   EXECUTION_SUCCESS or EXECUTION_FAILURE are the only possible</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">   return values.  Executing a command with nothing in it returns</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">   EXECUTION_SUCCESS. */</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">  401</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>)</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;     <a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordtype">int</span> result;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a0894ddd8e579b51a079a98fd212e389f">current_fds_to_close</a> = (<span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a669e55863f9f092fd1890cd55fe270a3">new_fd_bitmap</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a142381c77da2e39d79b831123613a416">FD_BITMAP_DEFAULT_SIZE</a>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;execute-command&quot;</span>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a005a2ab83cc8e602e9cab28b32f71295">dispose_fd_bitmap</a>, (<span class="keywordtype">char</span> *)<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">/* Just do the command, but not asynchronously. */</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, 0, <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>, <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>, <a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a005a2ab83cc8e602e9cab28b32f71295">dispose_fd_bitmap</a> (<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;execute-command&quot;</span>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="comment">/* don&#39;t unlink fifos if we&#39;re in a shell function; wait until the function</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">     returns. */</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a> == 0 &amp;&amp; <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2cb744acc87fb33a861757a23f06535f">executing_list</a> == 0)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    unlink_fifo_list ();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* PROCESS_SUBSTITUTION */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">return</span> (result);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">/* Return 1 if TYPE is a shell control structure type. */</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a55109f0a4ce17f03ea7970001d89439c">  431</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a55109f0a4ce17f03ea7970001d89439c">shell_control_structure</a> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a>)</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;     <span class="keyword">enum</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4">command_type</a> <a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;{</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a>)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="preprocessor">#if defined (ARITH_FOR_COMMAND)</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a9cda2772dfb914a28f9fd15f0827f5b9">cm_arith_for</a>:</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="preprocessor">#if defined (SELECT_COMMAND)</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4ade005cb6c786196a2c4387b06649afa6">cm_select</a>:</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="preprocessor">#if defined (DPAREN_ARITHMETIC)</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4afbe09c28d0b774c3f618235f135e725e">cm_arith</a>:</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="preprocessor">#if defined (COND_COMMAND)</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a34e63fa25a73c47ca9c1e3c4675b4cb0">cm_cond</a>:</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a231ab4a34926d8540dd6645d28e046b3">cm_case</a>:</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4aa5a171679a4afeedbf5656842c28d7d6">cm_while</a>:</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4ad3bc32e998505a5d85220f89a3946c43">cm_until</a>:</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4afb9898b99c8da429d239cd0264af4718">cm_if</a>:</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4ad251e86bb9c320dd7686e4fb619864fb">cm_for</a>:</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4af707d29bf49d39c31aa013337e179614">cm_group</a>:</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4af738c7876da438b4b0ccd9ba3e6e37f2">cm_function_def</a>:</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordflow">return</span> (1);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">return</span> (0);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">/* A function to use to unwind_protect the redirection undo list</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">   for loops. */</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a68213e3ab937aa4423c054f20000f89f">  465</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a68213e3ab937aa4423c054f20000f89f">cleanup_redirects</a> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;{</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="../../d1/dfa/redir_8c.html#a52ce0ceb4aab5c01113e6ed10ef91222">do_redirections</a> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>, <a class="code" href="../../d1/dbf/redir_8h.html#ad236771164f9ee8cc2d118d7ad5ed812">RX_ACTIVE</a>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="../../da/d05/dispose__cmd_8c.html#a6f4d35961973569c5a1e749855477221">dispose_redirects</a> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ab1423352d10fc4c84778b0fe96924a1f">  473</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#ab1423352d10fc4c84778b0fe96924a1f">undo_partial_redirects</a> ()</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;{</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a>)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a68213e3ab937aa4423c054f20000f89f">cleanup_redirects</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a>);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a> = (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">/* Function to unwind_protect the redirections for functions and builtins. */</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;cleanup_func_redirects (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;{</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="../../d1/dfa/redir_8c.html#a52ce0ceb4aab5c01113e6ed10ef91222">do_redirections</a> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>, <a class="code" href="../../d1/dbf/redir_8h.html#ad236771164f9ee8cc2d118d7ad5ed812">RX_ACTIVE</a>);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a797afa3cbb061d676b2fbe714198933b">  493</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a797afa3cbb061d676b2fbe714198933b">dispose_exec_redirects</a> ()</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;{</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a3f8893369f0a245f96a82f8136dcf2fb">exec_redirection_undo_list</a>)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <a class="code" href="../../da/d05/dispose__cmd_8c.html#a6f4d35961973569c5a1e749855477221">dispose_redirects</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a3f8893369f0a245f96a82f8136dcf2fb">exec_redirection_undo_list</a>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3f8893369f0a245f96a82f8136dcf2fb">exec_redirection_undo_list</a> = (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a3df6fc556bfe592effef8170d9a4f54b">  503</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a3df6fc556bfe592effef8170d9a4f54b">dispose_partial_redirects</a> ()</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;{</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a>)</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <a class="code" href="../../da/d05/dispose__cmd_8c.html#a6f4d35961973569c5a1e749855477221">dispose_redirects</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a>);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a> = (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">/* A function to restore the signal mask to its proper value when the shell</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">   is interrupted or errors occur while creating a pipeline. */</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;restore_signal_mask (set)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;     <a class="code" href="../../d8/d90/sigset__t_8h.html#a9140a5882f847f67b8155c759ac6aa05">sigset_t</a> *set;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;{</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../da/d12/sig_8c.html#a011fc3b4395063b580099bf602135a22">sigprocmask</a> (<a class="code" href="../../de/d62/sig_8h.html#a37750b78b7ae75fe02ad26e70f6cc845">SIG_SETMASK</a>, set, (<a class="code" href="../../d8/d90/sigset__t_8h.html#a9140a5882f847f67b8155c759ac6aa05">sigset_t</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JOB_CONTROL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">/* A debugging function that can be called from gdb, for instance. */</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;open_files (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;{</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keyword">register</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a>, fd_table_size;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  fd_table_size = <a class="code" href="../../d9/d9c/oslib_8c.html#ad503862ce76ce5a37ecde45502b5f2bc">getdtablesize</a> ();</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <a class="code" href="../../d1/d6d/kernel__config_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;pid %ld open files:&quot;</span>, (<span class="keywordtype">long</span>)<a class="code" href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid</a> ());</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 3; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; fd_table_size; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, <a class="code" href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#abc11141031604fb22b8e3a201155cbb3">F_GETFD</a>, 0)) != -1)</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="../../d1/d6d/kernel__config_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot; %d (%s)&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> ? <span class="stringliteral">&quot;close&quot;</span> : <span class="stringliteral">&quot;open&quot;</span>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <a class="code" href="../../d1/d6d/kernel__config_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a8b24e1d82ae54bc17b40215cda25f31e">  544</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a8b24e1d82ae54bc17b40215cda25f31e">async_redirect_stdin</a> ()</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a> (<span class="stringliteral">&quot;/dev/null&quot;</span>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a> &gt; 0)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <a class="code" href="../../d9/d9c/oslib_8c.html#a4ce97c88892c43f0e127dd3a6dc54b96">dup2</a> (<a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>, 0);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (<a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;cannot redirect standard input from /dev/null: %s&quot;</span>), <a class="code" href="../../df/d3a/errlist_8c.html#a558c31d07190c0a536ec2a340b1eae07">strerror</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;}</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a7ba18858170ef2bb4c8d58006a5e0f2f">  558</a></span>&#160;<span class="preprocessor">#define DESCRIBE_PID(pid) do { if (interactive) describe_pid (pid); } while (0)</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">/* Execute the command passed in COMMAND, perhaps doing it asynchronously.</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">   COMMAND is exactly what read_command () places into GLOBAL_COMMAND.</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">   ASYNCHRONOUS, if non-zero, says to do this command in the background.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">   PIPE_IN and PIPE_OUT are file descriptors saying where input comes</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">   from and where it goes.  They can have the value of NO_PIPE, which means</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">   I/O is stdin/stdout.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">   FDS_TO_CLOSE is a list of file descriptors to close once the child has</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">   been forked.  This list often contains the unusable sides of pipes, etc.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">   EXECUTION_SUCCESS or EXECUTION_FAILURE are the only possible</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">   return values.  Executing a command with nothing in it returns</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">   EXECUTION_SUCCESS. */</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">  573</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, asynchronous, pipe_in, pipe_out,</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;              fds_to_close)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;     <a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;     <span class="keywordtype">int</span> asynchronous;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;     <span class="keywordtype">int</span> pipe_in, pipe_out;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fds_to_close;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;{</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordtype">int</span> exec_result, user_subshell, invert, ignore_return, was_error_trap, fork_flags;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *my_undo_list, *exec_undo_list;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordtype">char</span> *tcmd;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keyword">volatile</span> <span class="keywordtype">int</span> save_line_number;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keyword">volatile</span> <span class="keywordtype">int</span> ofifo, nfifo, osize, saved_fifo;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keyword">volatile</span> <span class="keywordtype">void</span> *ofifo_list;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a> || <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#a69c26da3b32bdecb041e8c2537aded95">read_but_dont_execute</a>)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a> == 0)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <a class="code" href="../../dc/d6f/trap_8c.html#abe331a35aaca19e5cb592bb962890314">run_pending_traps</a> ();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> == 0)</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a> = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  invert = (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a580b06894a4aec29dcbcd920f8b65bd9">CMD_INVERT_RETURN</a>) != 0;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="comment">/* If we&#39;re inverting the return value and `set -e&#39; has been executed,</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">     we don&#39;t want a failing command to inadvertently cause the shell</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">     to exit. */</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#ac3023292582a7e39e70495e655c8b926">exit_immediately_on_error</a> &amp;&amp; invert)  <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;    <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  exec_result = <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">/* If a command was being explicitly run in a subshell, or if it is</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">     a shell control-structure, and it has a pipe, then we do the command</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">     in a subshell. */</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a3a10db8d17c0c9e4d5b345e51cc54f91">cm_subshell</a> &amp;&amp; (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#ae7c225776eecb2f1a0b4de5ac1f6eff3">CMD_NO_FORK</a>))</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a656846364a94ef47095c18ab2efe9cc9">execute_in_subshell</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, asynchronous, pipe_in, pipe_out, fds_to_close));</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="preprocessor">#if defined (COPROCESS_SUPPORT)</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a41cbb56c2bbc34560ab03d87c7156846">cm_coproc</a>)</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = execute_coproc (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, pipe_in, pipe_out, fds_to_close));</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  user_subshell = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a3a10db8d17c0c9e4d5b345e51cc54f91">cm_subshell</a> || ((<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a0806649401c3bb4c89bb431d3f3f5a99">CMD_WANT_SUBSHELL</a>) != 0);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="preprocessor">#if defined (TIME_BEFORE_SUBSHELL)</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a188d6b1f7afac2ff9204793f8caeea6e">CMD_TIME_PIPELINE</a>) &amp;&amp; user_subshell &amp;&amp; asynchronous == 0)</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#ac81077f23150b67ec83919478361f017">CMD_FORCE_SUBSHELL</a>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      exec_result = time_command (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, asynchronous, pipe_in, pipe_out, fds_to_close);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a> = (<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">return</span> (exec_result);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a3a10db8d17c0c9e4d5b345e51cc54f91">cm_subshell</a> ||</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; (<a class="code" href="../../d0/d09/command_8h.html#a0806649401c3bb4c89bb431d3f3f5a99">CMD_WANT_SUBSHELL</a>|<a class="code" href="../../d0/d09/command_8h.html#ac81077f23150b67ec83919478361f017">CMD_FORCE_SUBSHELL</a>)) ||</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a55109f0a4ce17f03ea7970001d89439c">shell_control_structure</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a>) &amp;&amp;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;       (pipe_out != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> || pipe_in != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> || asynchronous)))</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> paren_pid;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="comment">/* Fork a subshell, turn off the subshell bit, turn off job</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">     control and call execute_command () on the command again. */</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a3a10db8d17c0c9e4d5b345e51cc54f91">cm_subshell</a>)</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2fd63bb00d85a53a0a326a56ad4fe3dc">SET_LINE_NUMBER</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Subshell-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a35171ddf374dcfc97662a6b3965d2ad0">line</a>);    <span class="comment">/* XXX - save value? */</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="comment">/* Otherwise we defer setting line_number */</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      tcmd = <a class="code" href="../../d6/dd8/print__cmd_8c.html#a91bd8878dd80edc56dd94ac489902009">make_command_string</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      fork_flags = asynchronous ? <a class="code" href="../../d3/d3a/jobs_8h.html#a599efb6d8d8213160548a82f20c0a573">FORK_ASYNC</a> : 0;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      paren_pid = <a class="code" href="../../df/d8e/jobs_8c.html#ab6ee1058c7a454b7e482ce8fa34ddbb7">make_child</a> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (tcmd), fork_flags);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keywordflow">if</span> (user_subshell &amp;&amp; <a class="code" href="../../d5/da5/zread_8c.html#a40264baa053bf7ccf2ef5ca345d6c06d">signal_is_trapped</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>) &amp;&amp; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>) == 0 &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> == 0)</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a>);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a65d53dc7e574c97d7ab5e3fb379e0ec5">the_printed_command</a>);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="keywordflow">if</span> (paren_pid == 0)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);     <span class="comment">/* child doesn&#39;t use pointer */</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="comment">/* We want to run the exit trap for forced {} subshells, and we</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">         want to note this before execute_in_subshell modifies the</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">         COMMAND struct.  Need to keep in mind that execute_in_subshell</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">         runs the exit trap for () subshells itself. */</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="comment">/* This handles { command; } &amp; */</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = user_subshell == 0 &amp;&amp; <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4af707d29bf49d39c31aa013337e179614">cm_group</a> &amp;&amp; pipe_in == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp; pipe_out == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp; asynchronous;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="comment">/* run exit trap for : | { ...; } and { ...; } | : */</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="comment">/* run exit trap for : | ( ...; ) and ( ...; ) | : */</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> += user_subshell == 0 &amp;&amp; <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4af707d29bf49d39c31aa013337e179614">cm_group</a> &amp;&amp; (pipe_in != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> || pipe_out != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>) &amp;&amp; asynchronous == 0;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a656846364a94ef47095c18ab2efe9cc9">execute_in_subshell</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, asynchronous, pipe_in, pipe_out, fds_to_close);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <a class="code" href="../../d6/d4f/shell_8c.html#a5b87ccc35dc6811b0a5c3f065a04acb4">subshell_exit</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <a class="code" href="../../d6/d4f/shell_8c.html#a8cd407122e8280f23456b4942f4b7505">sh_exit</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8160fde58a3713edb578714611bb192b">close_pipes</a> (pipe_in, pipe_out);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION) &amp;&amp; defined (HAVE_DEV_FD)</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a> == 0)    <span class="comment">/* wait until shell function completes */</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        unlink_fifo_list ();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <span class="comment">/* If we are part of a pipeline, and not the end of the pipeline,</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment">         then we should simply return and let the last command in the</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment">         pipe be waited for.  If we are not in a pipeline, or are the</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">         last command in the pipeline, then we wait for the subshell</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">         and return its exit status as usual. */</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <span class="keywordflow">if</span> (pipe_out != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <a class="code" href="../../df/d8e/jobs_8c.html#ad569e95d0123bab22a08e7d38a3a06e1">stop_pipeline</a> (asynchronous, (<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="keywordflow">if</span> (asynchronous == 0)</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;          was_error_trap = <a class="code" href="../../d5/da5/zread_8c.html#a40264baa053bf7ccf2ef5ca345d6c06d">signal_is_trapped</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>) &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a94ef9371ba9dab4c56033f7acd7077e8">signal_is_ignored</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>) == 0;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;          invert = (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a580b06894a4aec29dcbcd920f8b65bd9">CMD_INVERT_RETURN</a>) != 0;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;          ignore_return = (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>) != 0;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;          exec_result = <a class="code" href="../../df/d8e/jobs_8c.html#aa16d61880057512c4b0d5e127d4cd6bb">wait_for</a> (paren_pid, 0);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;          <span class="comment">/* If we have to, invert the return value. */</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;          <span class="keywordflow">if</span> (invert)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        exec_result = ((exec_result == <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                ? <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                : <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;          <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = exec_result;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;          <span class="keywordflow">if</span> (user_subshell &amp;&amp; was_error_trap &amp;&amp; ignore_return == 0 &amp;&amp; invert == 0 &amp;&amp; exec_result != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;          save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;          <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac29b5ce6cbc8a6038ebb54d18eb18a50">line_number_for_err_trap</a>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;          <a class="code" href="../../dc/d6f/trap_8c.html#aa2883c7f85b16bd276c8552803b36cd4">run_error_trap</a> ();</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;          <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;          <span class="keywordflow">if</span> (user_subshell &amp;&amp; ignore_return == 0 &amp;&amp; invert == 0 &amp;&amp; <a class="code" href="../../d8/d70/flags_8c.html#ac3023292582a7e39e70495e655c8b926">exit_immediately_on_error</a> &amp;&amp; exec_result != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;          <a class="code" href="../../dc/d6f/trap_8c.html#abe331a35aaca19e5cb592bb962890314">run_pending_traps</a> ();</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;          <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#ad4c19ce20bb4767ed705b1e79a72a30e">ERREXIT</a>);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;          <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;          <a class="code" href="../../de/d3d/execute__cmd_8c.html#a7ba18858170ef2bb4c8d58006a5e0f2f">DESCRIBE_PID</a> (paren_pid);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;          <a class="code" href="../../dc/d6f/trap_8c.html#abe331a35aaca19e5cb592bb962890314">run_pending_traps</a> ();</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;          <span class="comment">/* Posix 2013 2.9.3.1: &quot;the exit status of an asynchronous list</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">         shall be zero.&quot; */</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;          <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = 0;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;          <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="preprocessor">#if defined (COMMAND_TIMING)</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a188d6b1f7afac2ff9204793f8caeea6e">CMD_TIME_PIPELINE</a>)</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keywordflow">if</span> (asynchronous)</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#ac81077f23150b67ec83919478361f017">CMD_FORCE_SUBSHELL</a>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, 1, pipe_in, pipe_out, fds_to_close);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      exec_result = time_command (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, asynchronous, pipe_in, pipe_out, fds_to_close);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> == 0)</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a> = (<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="keywordflow">return</span> (exec_result);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* COMMAND_TIMING */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a55109f0a4ce17f03ea7970001d89439c">shell_control_structure</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a>) &amp;&amp; <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a5b5efa4854e0319791e28028712fee9a">redirects</a>)</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#adbcf768dde8fc18d3e314d07adcdb537">stdin_redir</a> = <a class="code" href="../../d1/dfa/redir_8c.html#a1e243d74a4d24d4370a6109a3c35dec9">stdin_redirects</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a5b5efa4854e0319791e28028712fee9a">redirects</a>);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="preprocessor">#  if !defined (HAVE_DEV_FD)</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  reap_procsubs ();</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="comment">/* XXX - also if sourcelevel != 0? */</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a> != 0 || <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2cb744acc87fb33a861757a23f06535f">executing_list</a>)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      ofifo = num_fifos ();</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      ofifo_list = copy_fifo_list ((<span class="keywordtype">int</span> *)&amp;osize);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;internal_fifos&quot;</span>);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keywordflow">if</span> (ofifo_list)</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../db/d0a/tre_8h.html#a2c3897f7c46ca54a2e0dd7b24a40c7cb">xfree</a>, ofifo_list);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      saved_fifo = 1;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    saved_fifo = 0;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="comment">/* Handle WHILE FOR CASE etc. with redirections.  (Also &#39;&amp;&#39; input</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">     redirection.)  */</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  was_error_trap = <a class="code" href="../../d5/da5/zread_8c.html#a40264baa053bf7ccf2ef5ca345d6c06d">signal_is_trapped</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>) &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a94ef9371ba9dab4c56033f7acd7077e8">signal_is_ignored</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>) == 0;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  ignore_return = (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>) != 0;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dfa/redir_8c.html#a52ce0ceb4aab5c01113e6ed10ef91222">do_redirections</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a5b5efa4854e0319791e28028712fee9a">redirects</a>, <a class="code" href="../../d1/dbf/redir_8h.html#ad236771164f9ee8cc2d118d7ad5ed812">RX_ACTIVE</a>|<a class="code" href="../../d1/dbf/redir_8h.html#a51ed68f61f8bb53c69c88f66f39b12e3">RX_UNDOABLE</a>) != 0)</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab1423352d10fc4c84778b0fe96924a1f">undo_partial_redirects</a> ();</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a797afa3cbb061d676b2fbe714198933b">dispose_exec_redirects</a> ();</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="keywordflow">if</span> (saved_fifo)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> ((<span class="keywordtype">void</span> *)ofifo_list);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;          <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;internal_fifos&quot;</span>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <span class="comment">/* Handle redirection error as command failure if errexit set. */</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="keywordflow">if</span> (ignore_return == 0 &amp;&amp; invert == 0 &amp;&amp; pipe_in == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp; pipe_out == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="keywordflow">if</span> (was_error_trap)</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;          save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;          <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac29b5ce6cbc8a6038ebb54d18eb18a50">line_number_for_err_trap</a>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;          <a class="code" href="../../dc/d6f/trap_8c.html#aa2883c7f85b16bd276c8552803b36cd4">run_error_trap</a> ();</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;          <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#ac3023292582a7e39e70495e655c8b926">exit_immediately_on_error</a>)</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        {     </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;          <a class="code" href="../../dc/d6f/trap_8c.html#abe331a35aaca19e5cb592bb962890314">run_pending_traps</a> ();</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;          <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#ad4c19ce20bb4767ed705b1e79a72a30e">ERREXIT</a>);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  my_undo_list = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a> = (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  exec_undo_list = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3f8893369f0a245f96a82f8136dcf2fb">exec_redirection_undo_list</a>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3f8893369f0a245f96a82f8136dcf2fb">exec_redirection_undo_list</a> = (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="keywordflow">if</span> (my_undo_list || exec_undo_list)</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;loop_redirections&quot;</span>);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">if</span> (my_undo_list)</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> ((<a class="code" href="../../da/df1/mkbuiltins_8c.html#a38bf8b007a281c3c96504ad1d2614af4">Function</a> *)<a class="code" href="../../de/d3d/execute__cmd_8c.html#a68213e3ab937aa4423c054f20000f89f">cleanup_redirects</a>, my_undo_list);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">if</span> (exec_undo_list)</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> ((<a class="code" href="../../da/df1/mkbuiltins_8c.html#a38bf8b007a281c3c96504ad1d2614af4">Function</a> *)<a class="code" href="../../da/d05/dispose__cmd_8c.html#a6f4d35961973569c5a1e749855477221">dispose_redirects</a>, exec_undo_list);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a>)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a6b95c578a76edef96b78363613c03424">cm_simple</a>:</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="comment">/* We can&#39;t rely on variables retaining their values across a</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">       call to execute_simple_command if a longjmp occurs as the</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">       result of a `return&#39; builtin.  This is true for sure with gcc. */</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="preprocessor">#if defined (RECYCLES_PIDS)</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="../../df/d8e/jobs_8c.html#a6014bc30456423f628a211bf8007fbe0">last_made_pid</a> = <a class="code" href="../../d3/d3a/jobs_8h.html#ad40327c746e8ef715109d9b9257eb991">NO_PID</a>;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    was_error_trap = <a class="code" href="../../d5/da5/zread_8c.html#a40264baa053bf7ccf2ef5ca345d6c06d">signal_is_trapped</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>) &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a94ef9371ba9dab4c56033f7acd7077e8">signal_is_ignored</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>) == 0;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">if</span> (ignore_return &amp;&amp; <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Simple)</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Simple-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a8df5f451751609f16a376892ad22d746">CMD_STDIN_REDIR</a>)</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Simple-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#a8df5f451751609f16a376892ad22d746">CMD_STDIN_REDIR</a>;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2fd63bb00d85a53a0a326a56ad4fe3dc">SET_LINE_NUMBER</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Simple-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a35171ddf374dcfc97662a6b3965d2ad0">line</a>);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    exec_result =</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab8ab537a7847b1547b676333d29ef22a">execute_simple_command</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Simple, pipe_in, pipe_out,</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                  asynchronous, fds_to_close);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="comment">/* The temporary environment should be used for only the simple</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">       command immediately following its definition. */</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <a class="code" href="../../d5/de8/variables_8c.html#aa2f66045758ae44b35f9a493554860aa">dispose_used_env_vars</a> ();</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="preprocessor">#if (defined (ultrix) &amp;&amp; defined (mips)) || defined (C_ALLOCA)</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="comment">/* Reclaim memory allocated with alloca () on machines which</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">       may be using the alloca emulation code. */</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    (<a class="code" href="../../d9/d73/namespaceModule.html#aa56762f1e0bc7b507d773d431829e1a0">void</a>) <a class="code" href="../../d0/d32/dcigettext_8c.html#a03a200320a749aaf2faa1d1719ffb4de">alloca</a> (0);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* (ultrix &amp;&amp; mips) || C_ALLOCA */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="comment">/* If we forked to do the command, then we must wait_for ()</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">       the child. */</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="comment">/* XXX - this is something to watch out for if there are problems</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">       when the shell is compiled without job control.  Don&#39;t worry about</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">       whether or not last_made_pid == last_pid; already_making_children</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">       tells us whether or not there are unwaited-for children to wait</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">       for and reap. */</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d8e/jobs_8c.html#ab73b81916e1b9c693ec186cb41e9f4e5">already_making_children</a> &amp;&amp; pipe_out == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <a class="code" href="../../df/d8e/jobs_8c.html#ad569e95d0123bab22a08e7d38a3a06e1">stop_pipeline</a> (asynchronous, (<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordflow">if</span> (asynchronous)</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;          {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#a7ba18858170ef2bb4c8d58006a5e0f2f">DESCRIBE_PID</a> (<a class="code" href="../../df/d8e/jobs_8c.html#a6014bc30456423f628a211bf8007fbe0">last_made_pid</a>);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        exec_result = <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        invert = 0;     <span class="comment">/* async commands always succeed */</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;          }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="preprocessor">#if !defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;          <span class="comment">/* Do not wait for asynchronous processes started from</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">         startup files. */</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d8e/jobs_8c.html#a6014bc30456423f628a211bf8007fbe0">last_made_pid</a> != <a class="code" href="../../d3/d3a/jobs_8h.html#ad40327c746e8ef715109d9b9257eb991">NO_PID</a> &amp;&amp; <a class="code" href="../../df/d8e/jobs_8c.html#a6014bc30456423f628a211bf8007fbe0">last_made_pid</a> != <a class="code" href="../../df/d8e/jobs_8c.html#a2819d9527c8d26be39bb531290f4b597">last_asynchronous_pid</a>)</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d8e/jobs_8c.html#a6014bc30456423f628a211bf8007fbe0">last_made_pid</a> != <a class="code" href="../../d3/d3a/jobs_8h.html#ad40327c746e8ef715109d9b9257eb991">NO_PID</a>)</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="comment">/* When executing a shell function that executes other</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">           commands, this causes the last simple command in</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">           the function to be waited for twice.  This also causes</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">           subshells forked to execute builtin commands (e.g., in</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">           pipelines) to be waited for twice. */</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;          exec_result = <a class="code" href="../../df/d8e/jobs_8c.html#aa16d61880057512c4b0d5e127d4cd6bb">wait_for</a> (<a class="code" href="../../df/d8e/jobs_8c.html#a6014bc30456423f628a211bf8007fbe0">last_made_pid</a>, 0);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <span class="comment">/* 2009/02/13 -- pipeline failure is processed elsewhere.  This handles</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment">     only the failure of a simple command. We don&#39;t want to run the error</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment">     trap if the command run by the `command&#39; builtin fails; we want to</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">     defer that until the command builtin itself returns failure. */</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="comment">/* 2020/07/14 -- this changes with how the command builtin is handled */</span> </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <span class="keywordflow">if</span> (was_error_trap &amp;&amp; ignore_return == 0 &amp;&amp; invert == 0 &amp;&amp;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        pipe_in == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp; pipe_out == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Simple-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a4577eeffb11f0901b14c4d82852eed26">CMD_COMMAND_BUILTIN</a>) == 0 &amp;&amp;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        exec_result != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = exec_result;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac29b5ce6cbc8a6038ebb54d18eb18a50">line_number_for_err_trap</a>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#aa2883c7f85b16bd276c8552803b36cd4">run_error_trap</a> ();</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <span class="keywordflow">if</span> (ignore_return == 0 &amp;&amp; invert == 0 &amp;&amp;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      ((<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a> &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#aeb39d5d8ddd4957f1b01720fa0e37e36">interactive</a> == 0 &amp;&amp; <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad25b9d747d1c83b28178d77f0e76c426">special_builtin_failed</a>) ||</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;       (<a class="code" href="../../d8/d70/flags_8c.html#ac3023292582a7e39e70495e655c8b926">exit_immediately_on_error</a> &amp;&amp; pipe_in == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp; pipe_out == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp; exec_result != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)))</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = exec_result;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#abe331a35aaca19e5cb592bb962890314">run_pending_traps</a> ();</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="comment">/* Undo redirections before running exit trap on the way out of</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment">         set -e. Report by Mark Farrell 5/19/2014 */</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#ac3023292582a7e39e70495e655c8b926">exit_immediately_on_error</a> &amp;&amp; <a class="code" href="../../d5/da5/zread_8c.html#a40264baa053bf7ccf2ef5ca345d6c06d">signal_is_trapped</a> (0) &amp;&amp;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a06b424bcde098157f62db7584be13c99">unwind_protect_tag_on_stack</a> (<span class="stringliteral">&quot;saved-redirects&quot;</span>))</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a951deebec0eab9fc9b0252296b96084a">run_unwind_frame</a> (<span class="stringliteral">&quot;saved-redirects&quot;</span>);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#ad4c19ce20bb4767ed705b1e79a72a30e">ERREXIT</a>);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4ad251e86bb9c320dd7686e4fb619864fb">cm_for</a>:</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="keywordflow">if</span> (ignore_return)</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.For-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1ea07c2656f94637a84ca553f3c72d59">execute_for_command</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.For);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="preprocessor">#if defined (ARITH_FOR_COMMAND)</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a9cda2772dfb914a28f9fd15f0827f5b9">cm_arith_for</a>:</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="keywordflow">if</span> (ignore_return)</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.ArithFor-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      exec_result = execute_arith_for_command (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.ArithFor);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="preprocessor">#if defined (SELECT_COMMAND)</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4ade005cb6c786196a2c4387b06649afa6">cm_select</a>:</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <span class="keywordflow">if</span> (ignore_return)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Select-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      exec_result = execute_select_command (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Select);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a231ab4a34926d8540dd6645d28e046b3">cm_case</a>:</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">if</span> (ignore_return)</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Case-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1b78adc753a1670b054538cc406ad3b1">execute_case_command</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Case);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4aa5a171679a4afeedbf5656842c28d7d6">cm_while</a>:</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <span class="keywordflow">if</span> (ignore_return)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.While-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1a89a5fd9e7cb88f06f7fe13b6481b8a">execute_while_command</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.While);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4ad3bc32e998505a5d85220f89a3946c43">cm_until</a>:</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="keywordflow">if</span> (ignore_return)</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.While-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a722b1231a1e03bf79f41a79f04d8ac48">execute_until_command</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.While);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4afb9898b99c8da429d239cd0264af4718">cm_if</a>:</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <span class="keywordflow">if</span> (ignore_return)</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.If-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#abf91aaf22393f5f948518ea7ce93b5dd">execute_if_command</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.If);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160; </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4af707d29bf49d39c31aa013337e179614">cm_group</a>:</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="comment">/* This code can be executed from either of two paths: an explicit</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment">     &#39;{}&#39; command, or via a function call.  If we are executed via a</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment">     function call, we have already taken care of the function being</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment">     executed in the background (down there in execute_simple_command ()),</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">     and this command should *not* be marked as asynchronous.  If we</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">     are executing a regular &#39;{}&#39; group command, and asynchronous == 1,</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment">     we must want to execute the whole command in the background, so we</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment">     need a subshell, and we want the stuff executed in that subshell</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="comment">     (this group command) to be executed in the foreground of that</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="comment">     subshell (i.e. there will not be *another* subshell forked).</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">     What we do is to force a subshell if asynchronous, and then call</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">     execute_command_internal again with asynchronous still set to 1,</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">     but with the original group command, so the printed command will</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">     look right.</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment">     The code above that handles forking off subshells will note that</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="comment">     both subshell and async are on, and turn off async in the child</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment">     after forking the subshell (but leave async set in the parent, so</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="comment">     the normal call to describe_pid is made).  This turning off</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment">     async is *crucial*; if it is not done, this will fall into an</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment">     infinite loop of executions through this spot in subshell after</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment">     subshell until the process limit is exhausted. */</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      <span class="keywordflow">if</span> (asynchronous)</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#ac81077f23150b67ec83919478361f017">CMD_FORCE_SUBSHELL</a>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      exec_result =</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, 1, pipe_in, pipe_out,</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                      fds_to_close);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <span class="keywordflow">if</span> (ignore_return &amp;&amp; <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Group-&gt;command)</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Group-&gt;command-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      exec_result =</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Group-&gt;command,</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                      asynchronous, pipe_in, pipe_out,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                      fds_to_close);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a45d0af40ea3834a6294f236d061dbf85">cm_connection</a>:</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#aee632ef152670f7b54750371e4a131aa">execute_connection</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, asynchronous,</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                    pipe_in, pipe_out, fds_to_close);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <span class="keywordflow">if</span> (asynchronous)</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    invert = 0;     <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="preprocessor">#if defined (DPAREN_ARITHMETIC)</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4afbe09c28d0b774c3f618235f135e725e">cm_arith</a>:</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="preprocessor">#if defined (COND_COMMAND)</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a34e63fa25a73c47ca9c1e3c4675b4cb0">cm_cond</a>:</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4af738c7876da438b4b0ccd9ba3e6e37f2">cm_function_def</a>:</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      was_error_trap = <a class="code" href="../../d5/da5/zread_8c.html#a40264baa053bf7ccf2ef5ca345d6c06d">signal_is_trapped</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>) &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a94ef9371ba9dab4c56033f7acd7077e8">signal_is_ignored</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>) == 0;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="preprocessor">#if defined (DPAREN_ARITHMETIC)</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="keywordflow">if</span> (ignore_return &amp;&amp; <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4afbe09c28d0b774c3f618235f135e725e">cm_arith</a>)</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Arith-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="preprocessor">#if defined (COND_COMMAND)</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <span class="keywordflow">if</span> (ignore_return &amp;&amp; <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a34e63fa25a73c47ca9c1e3c4675b4cb0">cm_cond</a>)</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Cond-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; </div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac29b5ce6cbc8a6038ebb54d18eb18a50">line_number_for_err_trap</a> = save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;    <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="preprocessor">#if defined (DPAREN_ARITHMETIC)</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4afbe09c28d0b774c3f618235f135e725e">cm_arith</a>)</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    exec_result = execute_arith_command (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Arith);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="preprocessor">#if defined (COND_COMMAND)</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a34e63fa25a73c47ca9c1e3c4675b4cb0">cm_cond</a>)</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    exec_result = execute_cond_command (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Cond);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4af738c7876da438b4b0ccd9ba3e6e37f2">cm_function_def</a>)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac055e258f77a21adda573446948fd301">execute_intern_function</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Function_def-&gt;name,</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                           <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Function_def);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      <span class="keywordflow">if</span> (was_error_trap &amp;&amp; ignore_return == 0 &amp;&amp; invert == 0 &amp;&amp; exec_result != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = exec_result;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac29b5ce6cbc8a6038ebb54d18eb18a50">line_number_for_err_trap</a>;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#aa2883c7f85b16bd276c8552803b36cd4">run_error_trap</a> ();</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      <span class="keywordflow">if</span> (ignore_return == 0 &amp;&amp; invert == 0 &amp;&amp; <a class="code" href="../../d8/d70/flags_8c.html#ac3023292582a7e39e70495e655c8b926">exit_immediately_on_error</a> &amp;&amp; exec_result != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = exec_result;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#abe331a35aaca19e5cb592bb962890314">run_pending_traps</a> ();</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#ad4c19ce20bb4767ed705b1e79a72a30e">ERREXIT</a>);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <a class="code" href="../../db/dcc/error_8c.html#a4e69efbf913fafcef50983aa55cf6559">command_error</a> (<span class="stringliteral">&quot;execute_command&quot;</span>, <a class="code" href="../../d0/d09/command_8h.html#a67b74c35b4f3ff70a02c6172323c1ac6">CMDERR_BADTYPE</a>, <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a>, 0);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordflow">if</span> (my_undo_list)</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#a68213e3ab937aa4423c054f20000f89f">cleanup_redirects</a> (my_undo_list);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordflow">if</span> (exec_undo_list)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="../../da/d05/dispose__cmd_8c.html#a6f4d35961973569c5a1e749855477221">dispose_redirects</a> (exec_undo_list);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160; </div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="keywordflow">if</span> (my_undo_list || exec_undo_list)</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;loop_redirections&quot;</span>);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keywordflow">if</span> (saved_fifo)</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      nfifo = num_fifos ();</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <span class="keywordflow">if</span> (nfifo &gt; ofifo)</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    close_new_fifos ((<span class="keywordtype">void</span> *)ofifo_list, osize);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> ((<span class="keywordtype">void</span> *)ofifo_list);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;internal_fifos&quot;</span>);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    }</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="comment">/* Invert the return value if we have to */</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="keywordflow">if</span> (invert)</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    exec_result = (exec_result == <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            ? <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;            : <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="preprocessor">#if defined (DPAREN_ARITHMETIC) || defined (COND_COMMAND)</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="comment">/* This is where we set PIPESTATUS from the exit status of the appropriate</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment">     compound commands (the ones that look enough like simple commands to</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment">     cause confusion).  We might be able to optimize by not doing this if</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="comment">     subshell_environment != 0. */</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a>)</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="preprocessor">#  if defined (DPAREN_ARITHMETIC)</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4afbe09c28d0b774c3f618235f135e725e">cm_arith</a>:</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="preprocessor">#  if defined (COND_COMMAND)</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a34e63fa25a73c47ca9c1e3c4675b4cb0">cm_cond</a>:</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <a class="code" href="../../d5/de8/variables_8c.html#abaf2261f7f3bb68f3cd41569afc050d0">set_pipestatus_from_exit</a> (exec_result);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = exec_result;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <a class="code" href="../../dc/d6f/trap_8c.html#abe331a35aaca19e5cb592bb962890314">run_pending_traps</a> ();</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a> = (<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;}</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="preprocessor">#if defined (COMMAND_TIMING)</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="preprocessor">#if defined (HAVE_GETRUSAGE) &amp;&amp; defined (HAVE_GETTIMEOFDAY)</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> *difftimeval <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keyword">struct</span> <a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> *, <span class="keyword">struct</span> <a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> *, <span class="keyword">struct</span> <a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> *));</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> *addtimeval <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keyword">struct</span> <a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> *, <span class="keyword">struct</span> <a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> *, <span class="keyword">struct</span> <a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> *));</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> timeval_to_cpu <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keyword">struct</span> <a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> *, <span class="keyword">struct</span> <a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> *, <span class="keyword">struct</span> <a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> *));</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="preprocessor">#define POSIX_TIMEFORMAT &quot;real %2R\nuser %2U\nsys %2S&quot;</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="preprocessor">#define BASH_TIMEFORMAT  &quot;\nreal\t%3lR\nuser\t%3lU\nsys\t%3lS&quot;</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> precs[] = { 0, 100, 10, 1 };</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="comment">/* Expand one `%&#39;-prefixed escape sequence from a time format string. */</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;mkfmt (<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a>, <a class="code" href="../../d6/dd0/gzip_8c.html#aaa367dd6fbc252d1066a67c65b3e9bba">lng</a>, sec, sec_fraction)</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;     <span class="keywordtype">char</span> *<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a>, <a class="code" href="../../d6/dd0/gzip_8c.html#aaa367dd6fbc252d1066a67c65b3e9bba">lng</a>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;     time_t sec;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;     <span class="keywordtype">int</span> sec_fraction;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;{</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  time_t <a class="code" href="../../da/d5c/xz__config_8h.html#abb702d8b501669a23aa0ab3b281b9384">min</a>;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordtype">char</span> abuf[<a class="code" href="../../d9/d14/general_8h.html#abae6b64c52f6657eb2e2079d0845749a">INT_STRLEN_BOUND</a>(time_t) + 1];</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="keywordtype">int</span> ind, aind;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  ind = 0;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  abuf[<span class="keyword">sizeof</span>(abuf) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="comment">/* If LNG is non-zero, we want to decompose SEC into minutes and seconds. */</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/dd0/gzip_8c.html#aaa367dd6fbc252d1066a67c65b3e9bba">lng</a>)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      <a class="code" href="../../da/d5c/xz__config_8h.html#abb702d8b501669a23aa0ab3b281b9384">min</a> = sec / 60;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      sec %= 60;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      aind = <span class="keyword">sizeof</span>(abuf) - 2;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="keywordflow">do</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    abuf[aind--] = (<a class="code" href="../../da/d5c/xz__config_8h.html#abb702d8b501669a23aa0ab3b281b9384">min</a> % 10) + <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <span class="keywordflow">while</span> (<a class="code" href="../../da/d5c/xz__config_8h.html#abb702d8b501669a23aa0ab3b281b9384">min</a> /= 10);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      aind++;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="keywordflow">while</span> (abuf[aind])</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[ind++] = abuf[aind++];</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[ind++] = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="comment">/* Now add the seconds. */</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  aind = <span class="keyword">sizeof</span> (abuf) - 2;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    abuf[aind--] = (sec % 10) + <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordflow">while</span> (sec /= 10);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  aind++;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="keywordflow">while</span> (abuf[aind])</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[ind++] = abuf[aind++];</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="comment">/* We want to add a decimal point and PREC places after it if PREC is</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="comment">     nonzero.  PREC is not greater than 3.  SEC_FRACTION is between 0</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="comment">     and 999. */</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a> != 0)</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[ind++] = <a class="code" href="../../d3/d82/locale_8c.html#a12cc6c07091a5a05045c9faf08c257ce">locale_decpoint</a> ();</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <span class="keywordflow">for</span> (aind = 1; aind &lt;= <a class="code" href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a>; aind++)</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[ind++] = (sec_fraction / precs[aind]) + <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      sec_fraction %= precs[aind];</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    }</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/dd0/gzip_8c.html#aaa367dd6fbc252d1066a67c65b3e9bba">lng</a>)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[ind++] = <span class="charliteral">&#39;s&#39;</span>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[ind] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keywordflow">return</span> (ind);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;}</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160; </div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="comment">/* Interpret the format string FORMAT, interpolating the following escape</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="comment">   sequences:</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment">        %[prec][l][RUS]</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="comment">   where the optional `prec&#39; is a precision, meaning the number of</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="comment">   characters after the decimal point, the optional `l&#39; means to format</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="comment">   using minutes and seconds (MMmNN[.FF]s), like the `times&#39; builtin&#39;,</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;<span class="comment">   and the last character is one of</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="comment">   </span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="comment">        R   number of seconds of `real&#39; time</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="comment">        U   number of seconds of `user&#39; time</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="comment">        S   number of seconds of `system&#39; time</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="comment">   An occurrence of `%%&#39; in the format string is translated to a `%&#39;.  The</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment">   result is printed to FP, a pointer to a FILE.  The other variables are</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="comment">   the seconds and thousandths of a second of real, user, and system time,</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">   resectively. */</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;print_formatted_time (fp, <a class="code" href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format</a>, rs, rsf, us, usf, ss, ssf, cpu)</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;     <a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *fp;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;     <span class="keywordtype">char</span> *<a class="code" href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format</a>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;     time_t rs;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;     <span class="keywordtype">int</span> rsf;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;     time_t us;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;     <span class="keywordtype">int</span> usf;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;     time_t ss;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;     <span class="keywordtype">int</span> ssf, cpu;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;{</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a>, <a class="code" href="../../d6/dd0/gzip_8c.html#aaa367dd6fbc252d1066a67c65b3e9bba">lng</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, ts[<a class="code" href="../../d9/d14/general_8h.html#abae6b64c52f6657eb2e2079d0845749a">INT_STRLEN_BOUND</a> (time_t) + <span class="keyword">sizeof</span> (<span class="stringliteral">&quot;mSS.FFFF&quot;</span>)];</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  time_t sum;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <span class="keywordtype">int</span> sum_frac;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <span class="keywordtype">int</span> sindex, ssize;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a> (<a class="code" href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format</a>);</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  ssize = (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + 64) - (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> % 64);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a> (ssize);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  sindex = 0;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format</a>; *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++)</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> != <span class="charliteral">&#39;%&#39;</span> || <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[1] == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#aa7298fdb6a5082e7b9a8c84debac9993">RESIZE_MALLOCED_BUFFER</a> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, sindex, 1, ssize, 64);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>[sindex++] = *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    }</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[1] == <span class="charliteral">&#39;%&#39;</span>)</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#aa7298fdb6a5082e7b9a8c84debac9993">RESIZE_MALLOCED_BUFFER</a> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, sindex, 1, ssize, 64);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>[sindex++] = *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[1] == <span class="charliteral">&#39;P&#39;</span>)</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="comment">/* clamp CPU usage at 100% */</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <span class="keywordflow">if</span> (cpu &gt; 10000)</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        cpu = 10000;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      sum = cpu / 100;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      sum_frac = (cpu % 100) * 10;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = mkfmt (ts, 2, 0, sum, sum_frac);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#aa7298fdb6a5082e7b9a8c84debac9993">RESIZE_MALLOCED_BUFFER</a> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, sindex, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, ssize, 64);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <a class="code" href="../../d3/d82/convert_8h.html#a06688b0d2444199f657ccb56b0ce11b3">strcpy</a> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> + sindex, ts);</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      sindex += <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    }</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <a class="code" href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a> = 3; <span class="comment">/* default is three places past the decimal point. */</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      <a class="code" href="../../d6/dd0/gzip_8c.html#aaa367dd6fbc252d1066a67c65b3e9bba">lng</a> = 0;  <span class="comment">/* default is to not use minutes or append `s&#39; */</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d4/dcb/chartypes_8h.html#ac3409a4a6e7e551d12696906dcf29e0e">DIGIT</a> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>))       <span class="comment">/* `precision&#39; */</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;          <a class="code" href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a> = *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++ - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a> &gt; 3) <a class="code" href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a> = 3;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        }</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;l&#39;</span>)        <span class="comment">/* `length extender&#39; */</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;          <a class="code" href="../../d6/dd0/gzip_8c.html#aaa367dd6fbc252d1066a67c65b3e9bba">lng</a> = 1;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;          <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;R&#39;</span> || *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;E&#39;</span>)</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = mkfmt (ts, <a class="code" href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a>, <a class="code" href="../../d6/dd0/gzip_8c.html#aaa367dd6fbc252d1066a67c65b3e9bba">lng</a>, rs, rsf);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;U&#39;</span>)</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = mkfmt (ts, <a class="code" href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a>, <a class="code" href="../../d6/dd0/gzip_8c.html#aaa367dd6fbc252d1066a67c65b3e9bba">lng</a>, us, usf);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;S&#39;</span>)</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = mkfmt (ts, <a class="code" href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a>, <a class="code" href="../../d6/dd0/gzip_8c.html#aaa367dd6fbc252d1066a67c65b3e9bba">lng</a>, ss, ssf);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;          <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;TIMEFORMAT: `%c&#39;: invalid format character&quot;</span>), *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;          <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        }</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#aa7298fdb6a5082e7b9a8c84debac9993">RESIZE_MALLOCED_BUFFER</a> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, sindex, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, ssize, 64);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <a class="code" href="../../d3/d82/convert_8h.html#a06688b0d2444199f657ccb56b0ce11b3">strcpy</a> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> + sindex, ts);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      sindex += <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>[sindex] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <a class="code" href="../../d1/d6d/kernel__config_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a> (fp, <span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#adb974f28765a31026ee6bf71d5175951">fflush</a> (fp);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;}</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;time_command (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, asynchronous, pipe_in, pipe_out, fds_to_close)</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;     <a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;     <span class="keywordtype">int</span> asynchronous, pipe_in, pipe_out;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fds_to_close;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;{</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="keywordtype">int</span> rv, posix_time, old_flags, nullcmd, <a class="code" href="../../d0/d6b/compress_8c.html#a814f6dab3b0678113d97a3684282934a">code</a>;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  time_t rs, us, ss;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="keywordtype">int</span> rsf, usf, ssf;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keywordtype">int</span> cpu;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordtype">char</span> *time_format;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keyword">volatile</span> <a class="code" href="../../d5/de0/include_2posixjmp_8h.html#aa65facfb875e08a95ca9b8821d7af547">procenv_t</a> save_top_level;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <span class="keyword">volatile</span> <span class="keywordtype">int</span> old_subshell;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="preprocessor">#if defined (HAVE_GETRUSAGE) &amp;&amp; defined (HAVE_GETTIMEOFDAY)</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> real, <a class="code" href="../../dc/d9d/arch_2x86__64_2bits_2user_8h.html#d8/dbc/structuser">user</a>, sys;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> before, after;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;<span class="preprocessor">#  if defined (HAVE_STRUCT_TIMEZONE)</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="keyword">struct </span>timezone dtz;              <span class="comment">/* posix doesn&#39;t define this */</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d3/d6f/include_2sys_2resource_8h.html#d6/ddd/structrusage">rusage</a> selfb, selfa, kidsb, kidsa; <span class="comment">/* a = after, b = before */</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="preprocessor">#  if defined (HAVE_TIMES)</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  clock_t tbefore, tafter, real, <a class="code" href="../../d6/db8/ftpgetput_8c.html#af4d6aac98beb22d0edad8469c46b3265">user</a>, sys;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d3/d15/times_8h.html#d8/d15/structtms">tms</a> before, after;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="preprocessor">#if defined (HAVE_GETRUSAGE) &amp;&amp; defined (HAVE_GETTIMEOFDAY)</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="preprocessor">#  if defined (HAVE_STRUCT_TIMEZONE)</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <a class="code" href="../../de/db3/apps_2base_2bash_2lib_2sh_2gettimeofday_8c.html#a2f316a4ad94a242df56b01953677015d">gettimeofday</a> (&amp;before, &amp;dtz);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="preprocessor">#  else</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <a class="code" href="../../de/db3/apps_2base_2bash_2lib_2sh_2gettimeofday_8c.html#a2f316a4ad94a242df56b01953677015d">gettimeofday</a> (&amp;before, (<span class="keywordtype">void</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="preprocessor">#  endif </span><span class="comment">/* !HAVE_STRUCT_TIMEZONE */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <a class="code" href="../../d3/d6f/include_2sys_2resource_8h.html#a3ba721bfdd51d1326fbcb72caf74afff">getrusage</a> (<a class="code" href="../../d3/d6f/include_2sys_2resource_8h.html#af96c310e02eee3878d8fb3af154c2ba0">RUSAGE_SELF</a>, &amp;selfb);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <a class="code" href="../../d3/d6f/include_2sys_2resource_8h.html#a3ba721bfdd51d1326fbcb72caf74afff">getrusage</a> (<a class="code" href="../../d3/d6f/include_2sys_2resource_8h.html#a76da11928becba8246c8c406314e6282">RUSAGE_CHILDREN</a>, &amp;kidsb);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="preprocessor">#  if defined (HAVE_TIMES)</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  tbefore = <a class="code" href="../../d4/d78/apps_2base_2bash_2lib_2sh_2times_8c.html#a9c40827577895355c0e7db337d3fcbc8">times</a> (&amp;before);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  old_subshell = <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a>;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  posix_time = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a> &amp;&amp; (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#ab7af131e28fe7685d0590ebbfff920f5">CMD_TIME_POSIX</a>);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  nullcmd = (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a> == 0) || (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a6b95c578a76edef96b78363613c03424">cm_simple</a> &amp;&amp; <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Simple-&gt;words == 0 &amp;&amp; <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Simple-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a5b5efa4854e0319791e28028712fee9a">redirects</a> == 0);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a> &amp;&amp; nullcmd)</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="preprocessor">#if defined (HAVE_GETRUSAGE)</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      selfb.ru_utime.tv_sec = kidsb.ru_utime.tv_sec = selfb.ru_stime.tv_sec = kidsb.ru_stime.tv_sec = 0;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      selfb.ru_utime.tv_usec = kidsb.ru_utime.tv_usec = selfb.ru_stime.tv_usec = kidsb.ru_stime.tv_usec = 0;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      before = <a class="code" href="../../d6/d4f/shell_8c.html#aa723d30e3e46b48868d602c2e489ac4d">shellstart</a>;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      before.tms_utime = before.tms_stime = before.tms_cutime = before.tms_cstime = 0;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      tbefore = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a921ecdc742149cd1e3f93520f8fbd371">shell_start_time</a>;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  old_flags = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a>;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <a class="code" href="../../da/d23/bashjmp_8h.html#a3811bcae9e0465d58b7c35887c987221">COPY_PROCENV</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#a047be68a91ac230623785fa32c056bd2">top_level</a>, save_top_level);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp;= ~(<a class="code" href="../../d0/d09/command_8h.html#a188d6b1f7afac2ff9204793f8caeea6e">CMD_TIME_PIPELINE</a>|<a class="code" href="../../d0/d09/command_8h.html#ab7af131e28fe7685d0590ebbfff920f5">CMD_TIME_POSIX</a>);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <a class="code" href="../../d0/d6b/compress_8c.html#a814f6dab3b0678113d97a3684282934a">code</a> = <a class="code" href="../../d5/de0/include_2posixjmp_8h.html#a79529654058563578999fe05b86bb81c">setjmp_nosigs</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#a047be68a91ac230623785fa32c056bd2">top_level</a>);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6b/compress_8c.html#a814f6dab3b0678113d97a3684282934a">code</a> == <a class="code" href="../../da/d23/bashjmp_8h.html#aed4c68ec8b00e58f997182f8d7de9463">NOT_JUMPED</a>)</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    rv = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, asynchronous, pipe_in, pipe_out, fds_to_close);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <a class="code" href="../../da/d23/bashjmp_8h.html#a3811bcae9e0465d58b7c35887c987221">COPY_PROCENV</a> (save_top_level, <a class="code" href="../../da/d23/bashjmp_8h.html#a047be68a91ac230623785fa32c056bd2">top_level</a>);</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160; </div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> = old_flags;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160; </div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="comment">/* If we&#39;re jumping in a different subshell environment than we started,</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;<span class="comment">     don&#39;t bother printing timing stats, just keep longjmping back to the</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment">     original top level. */</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6b/compress_8c.html#a814f6dab3b0678113d97a3684282934a">code</a> != <a class="code" href="../../da/d23/bashjmp_8h.html#aed4c68ec8b00e58f997182f8d7de9463">NOT_JUMPED</a> &amp;&amp; <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> &amp;&amp; <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> != old_subshell)</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <a class="code" href="../../d5/de0/include_2posixjmp_8h.html#abb496f9af211ed8477d4b5fda7d7364b">sh_longjmp</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#a047be68a91ac230623785fa32c056bd2">top_level</a>, <a class="code" href="../../d0/d6b/compress_8c.html#a814f6dab3b0678113d97a3684282934a">code</a>);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160; </div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  rs = us = ss = 0;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  rsf = usf = ssf = cpu = 0;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="preprocessor">#if defined (HAVE_GETRUSAGE) &amp;&amp; defined (HAVE_GETTIMEOFDAY)</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="preprocessor">#  if defined (HAVE_STRUCT_TIMEZONE)</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <a class="code" href="../../de/db3/apps_2base_2bash_2lib_2sh_2gettimeofday_8c.html#a2f316a4ad94a242df56b01953677015d">gettimeofday</a> (&amp;after, &amp;dtz);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="preprocessor">#  else</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <a class="code" href="../../de/db3/apps_2base_2bash_2lib_2sh_2gettimeofday_8c.html#a2f316a4ad94a242df56b01953677015d">gettimeofday</a> (&amp;after, (<span class="keywordtype">void</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;<span class="preprocessor">#  endif </span><span class="comment">/* !HAVE_STRUCT_TIMEZONE */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <a class="code" href="../../d3/d6f/include_2sys_2resource_8h.html#a3ba721bfdd51d1326fbcb72caf74afff">getrusage</a> (<a class="code" href="../../d3/d6f/include_2sys_2resource_8h.html#af96c310e02eee3878d8fb3af154c2ba0">RUSAGE_SELF</a>, &amp;selfa);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <a class="code" href="../../d3/d6f/include_2sys_2resource_8h.html#a3ba721bfdd51d1326fbcb72caf74afff">getrusage</a> (<a class="code" href="../../d3/d6f/include_2sys_2resource_8h.html#a76da11928becba8246c8c406314e6282">RUSAGE_CHILDREN</a>, &amp;kidsa);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  difftimeval (&amp;real, &amp;before, &amp;after);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <a class="code" href="../../d2/df2/externs_8h.html#a15a4a3031abdd015828bd11e8a2ab20c">timeval_to_secs</a> (&amp;real, &amp;rs, &amp;rsf);</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160; </div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  addtimeval (&amp;<a class="code" href="../../dc/d9d/arch_2x86__64_2bits_2user_8h.html#d8/dbc/structuser">user</a>, difftimeval(&amp;after, &amp;selfb.ru_utime, &amp;selfa.ru_utime),</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;             difftimeval(&amp;before, &amp;kidsb.ru_utime, &amp;kidsa.ru_utime));</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <a class="code" href="../../d2/df2/externs_8h.html#a15a4a3031abdd015828bd11e8a2ab20c">timeval_to_secs</a> (&amp;<a class="code" href="../../dc/d9d/arch_2x86__64_2bits_2user_8h.html#d8/dbc/structuser">user</a>, &amp;us, &amp;usf);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160; </div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  addtimeval (&amp;sys, difftimeval(&amp;after, &amp;selfb.ru_stime, &amp;selfa.ru_stime),</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;            difftimeval(&amp;before, &amp;kidsb.ru_stime, &amp;kidsa.ru_stime));</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <a class="code" href="../../d2/df2/externs_8h.html#a15a4a3031abdd015828bd11e8a2ab20c">timeval_to_secs</a> (&amp;sys, &amp;ss, &amp;ssf);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  cpu = timeval_to_cpu (&amp;real, &amp;<a class="code" href="../../dc/d9d/arch_2x86__64_2bits_2user_8h.html#d8/dbc/structuser">user</a>, &amp;sys);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="preprocessor">#  if defined (HAVE_TIMES)</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  tafter = <a class="code" href="../../d4/d78/apps_2base_2bash_2lib_2sh_2times_8c.html#a9c40827577895355c0e7db337d3fcbc8">times</a> (&amp;after);</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160; </div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  real = tafter - tbefore;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <a class="code" href="../../d2/df2/externs_8h.html#a9d28e0f21f38a0cc3a8075baa12e6064">clock_t_to_secs</a> (real, &amp;rs, &amp;rsf);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <a class="code" href="../../dc/d9d/arch_2x86__64_2bits_2user_8h.html#d8/dbc/structuser">user</a> = (after.tms_utime - before.tms_utime) + (after.tms_cutime - before.tms_cutime);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <a class="code" href="../../d2/df2/externs_8h.html#a9d28e0f21f38a0cc3a8075baa12e6064">clock_t_to_secs</a> (<a class="code" href="../../dc/d9d/arch_2x86__64_2bits_2user_8h.html#d8/dbc/structuser">user</a>, &amp;us, &amp;usf);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  sys = (after.tms_stime - before.tms_stime) + (after.tms_cstime - before.tms_cstime);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <a class="code" href="../../d2/df2/externs_8h.html#a9d28e0f21f38a0cc3a8075baa12e6064">clock_t_to_secs</a> (sys, &amp;ss, &amp;ssf);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  cpu = (real == 0) ? 0 : ((<a class="code" href="../../dc/d9d/arch_2x86__64_2bits_2user_8h.html#d8/dbc/structuser">user</a> + sys) * 10000) / real;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="preprocessor">#  else</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  rs = us = ss = 0;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  rsf = usf = ssf = cpu = 0;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160; </div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="keywordflow">if</span> (posix_time)</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    time_format = POSIX_TIMEFORMAT;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((time_format = <a class="code" href="../../d5/de8/variables_8c.html#ad4773a87954c85e830411739af9bf4ff">get_string_value</a> (<span class="stringliteral">&quot;TIMEFORMAT&quot;</span>)) == 0)</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a> &amp;&amp; nullcmd)</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    time_format = <span class="stringliteral">&quot;user\t%2lU\nsys\t%2lS&quot;</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    time_format = BASH_TIMEFORMAT;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <span class="keywordflow">if</span> (time_format &amp;&amp; *time_format)</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    print_formatted_time (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, time_format, rs, rsf, us, usf, ss, ssf, cpu);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6b/compress_8c.html#a814f6dab3b0678113d97a3684282934a">code</a>)</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <a class="code" href="../../d5/de0/include_2posixjmp_8h.html#abb496f9af211ed8477d4b5fda7d7364b">sh_longjmp</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#a047be68a91ac230623785fa32c056bd2">top_level</a>, <a class="code" href="../../d0/d6b/compress_8c.html#a814f6dab3b0678113d97a3684282934a">code</a>);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160; </div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordflow">return</span> rv;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;}</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* COMMAND_TIMING */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="comment">/* Execute a command that&#39;s supposed to be in a subshell.  This must be</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="comment">   called after make_child and we must be running in the child process.</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment">   The caller will return or exit() immediately with the value this returns. */</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a656846364a94ef47095c18ab2efe9cc9"> 1477</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a656846364a94ef47095c18ab2efe9cc9">execute_in_subshell</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, asynchronous, pipe_in, pipe_out, fds_to_close)</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;     <a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;     <span class="keywordtype">int</span> asynchronous;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;     <span class="keywordtype">int</span> pipe_in, pipe_out;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fds_to_close;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;{</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="keyword">volatile</span> <span class="keywordtype">int</span> user_subshell, user_coproc, invert;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="keywordtype">int</span> return_code, function_value, should_redir_stdin, ois, result;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="keyword">volatile</span> <a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *tcom;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <a class="code" href="../../df/d03/shell_8h.html#a482a130396fa6607745971d02671555b">USE_VAR</a>(user_subshell);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <a class="code" href="../../df/d03/shell_8h.html#a482a130396fa6607745971d02671555b">USE_VAR</a>(user_coproc);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <a class="code" href="../../df/d03/shell_8h.html#a482a130396fa6607745971d02671555b">USE_VAR</a>(invert);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <a class="code" href="../../df/d03/shell_8h.html#a482a130396fa6607745971d02671555b">USE_VAR</a>(tcom);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <a class="code" href="../../df/d03/shell_8h.html#a482a130396fa6607745971d02671555b">USE_VAR</a>(asynchronous);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3c800265c671320a6dae122fd649438a">subshell_level</a>++;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  should_redir_stdin = (asynchronous &amp;&amp; (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a8df5f451751609f16a376892ad22d746">CMD_STDIN_REDIR</a>) &amp;&amp;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;              pipe_in == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;              <a class="code" href="../../d1/dfa/redir_8c.html#a1e243d74a4d24d4370a6109a3c35dec9">stdin_redirects</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a5b5efa4854e0319791e28028712fee9a">redirects</a>) == 0);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  invert = (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a580b06894a4aec29dcbcd920f8b65bd9">CMD_INVERT_RETURN</a>) != 0;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  user_subshell = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a3a10db8d17c0c9e4d5b345e51cc54f91">cm_subshell</a> || ((<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a0806649401c3bb4c89bb431d3f3f5a99">CMD_WANT_SUBSHELL</a>) != 0);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  user_coproc = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a41cbb56c2bbc34560ab03d87c7156846">cm_coproc</a>;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp;= ~(<a class="code" href="../../d0/d09/command_8h.html#ac81077f23150b67ec83919478361f017">CMD_FORCE_SUBSHELL</a> | <a class="code" href="../../d0/d09/command_8h.html#a0806649401c3bb4c89bb431d3f3f5a99">CMD_WANT_SUBSHELL</a> | <a class="code" href="../../d0/d09/command_8h.html#a580b06894a4aec29dcbcd920f8b65bd9">CMD_INVERT_RETURN</a>);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="comment">/* If a command is asynchronous in a subshell (like ( foo ) &amp; or</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="comment">     the special case of an asynchronous GROUP command where the</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="comment">     the subshell bit is turned on down in case cm_group: below),</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="comment">     turn off `asynchronous&#39;, so that two subshells aren&#39;t spawned.</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="comment">     XXX - asynchronous used to be set to 0 in this block, but that</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="comment">     means that setup_async_signals was never run.  Now it&#39;s set to</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="comment">     0 after subshell_environment is set appropriately and setup_async_signals</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="comment">     is run.</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="comment">     This seems semantically correct to me.  For example,</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="comment">     ( foo ) &amp; seems to say ``do the command `foo&#39; in a subshell</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;<span class="comment">     environment, but don&#39;t wait for that subshell to finish&#39;&#39;,</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="comment">     and &quot;{ foo ; bar ; } &amp;&quot; seems to me to be like functions or</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="comment">     builtins in the background, which executed in a subshell</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="comment">     environment.  I just don&#39;t see the need to fork two subshells. */</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="comment">/* Don&#39;t fork again, we are already in a subshell.  A `doubly</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="comment">     async&#39; shell is not interactive, however. */</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="keywordflow">if</span> (asynchronous)</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      <span class="comment">/* If a construct like ( exec xxx yyy ) &amp; is given while job</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="comment">     control is active, we want to prevent exec from putting the</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;<span class="comment">     subshell back into the original process group, carefully</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="comment">     undoing all the work we just did in make_child. */</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <a class="code" href="../../df/d8e/jobs_8c.html#a927de0d08067183bd327b538a1b77f73">original_pgrp</a> = -1;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JOB_CONTROL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      ois = <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a>;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> = 0;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      <span class="comment">/* This test is to prevent alias expansion by interactive shells that</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<span class="comment">     run `(command) &amp;&#39; but to allow scripts that have enabled alias</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;<span class="comment">     expansion with `shopt -s expand_alias&#39; to continue to expand</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="comment">     aliases. */</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      <span class="keywordflow">if</span> (ois != <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a>)</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <a class="code" href="../../d5/d36/parser_8h.html#a7f8a254149285ae8961a2061787c04f8">expand_aliases</a> = <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a3b399b89bc5c253b6f7e74c8435f60e4">expaliases_flag</a> = 0;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160; </div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="comment">/* Subshells are neither login nor interactive. */</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <a class="code" href="../../d6/d4f/shell_8c.html#a1f22336e1dd4c10975bf2fef179f6bce">login_shell</a> = <a class="code" href="../../d6/d4f/shell_8c.html#aeb39d5d8ddd4957f1b01720fa0e37e36">interactive</a> = 0;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160; </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="comment">/* And we&#39;re no longer in a loop. See Posix interp 842 (we are not in the</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<span class="comment">     &quot;same execution environment&quot;). */</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/d03/shell_8h.html#a5474d60edee7e82e47b35345fa4e8ca2">shell_compatibility_level</a> &gt; 44)</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a> = 0;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <span class="keywordflow">if</span> (user_subshell)</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> = <a class="code" href="../../d0/d09/command_8h.html#a099d95cd805bc361bdfe3434fc3df1a8">SUBSHELL_PAREN</a>;    <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <span class="keywordflow">if</span> (asynchronous)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#abd94aff81c34160c8185303ebe67c539">SUBSHELL_ASYNC</a>;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    {</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> = 0;         <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="keywordflow">if</span> (asynchronous)</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#abd94aff81c34160c8185303ebe67c539">SUBSHELL_ASYNC</a>;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="keywordflow">if</span> (pipe_in != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> || pipe_out != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#a1f4bab590838fd1ce5e0e8a4ba0c6f0b">SUBSHELL_PIPE</a>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      <span class="keywordflow">if</span> (user_coproc)</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#af3e3f0228854b49f9a1473927086896b">SUBSHELL_COPROC</a>;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    }</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <a class="code" href="../../dd/d2b/quit_8h.html#a68c85871057165f09160a548f0e2246a">CHECK_TERMSIG</a>;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160; </div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <a class="code" href="../../da/d12/sig_8c.html#a84a126f6091a8deb8f85ea4b67bb5f63">reset_terminating_signals</a> ();     <span class="comment">/* in sig.c */</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="comment">/* Cancel traps, in trap.c. */</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="comment">/* Reset the signal handlers in the child, but don&#39;t free the</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="comment">     trap strings.  Set a flag noting that we have to free the</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="comment">     trap strings if we run trap to change a signal disposition. */</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <a class="code" href="../../dc/d6f/trap_8c.html#a150676789ae5bc899d58719bc809034c">clear_pending_traps</a> ();</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <a class="code" href="../../dc/d6f/trap_8c.html#a9cb464e0fb2e6dfae6b9cd2fc41b9da0">reset_signal_handlers</a> ();</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#a293321462a0aa4e566ee3d432374bd5f">SUBSHELL_RESETTRAP</a>;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="comment">/* Note that signal handlers have been reset, so we should no longer</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="comment">    reset the handler and resend trapped signals to ourselves. */</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> &amp;= ~<a class="code" href="../../d0/d09/command_8h.html#adfa45447c15cae4d950ac8bd196087ca">SUBSHELL_IGNTRAP</a>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="comment">/* We are in a subshell, so forget that we are running a trap handler or</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="comment">     that the signal handler has changed (we haven&#39;t changed it!) */</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="comment">/* XXX - maybe do this for `real&#39; signals and not ERR/DEBUG/RETURN/EXIT</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="comment">     traps? */</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> &gt; 0)</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#a9e39ec891a0c6881c7786118a043db20">run_trap_cleanup</a> (<a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> - 1);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> = 0;     <span class="comment">/* XXX - maybe leave this */</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    }</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160; </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="comment">/* Make sure restore_original_signals doesn&#39;t undo the work done by</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="comment">     make_child to ensure that asynchronous children are immune to SIGINT</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;<span class="comment">     and SIGQUIT.  Turn off asynchronous to make sure more subshells are</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;<span class="comment">     not spawned. */</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="keywordflow">if</span> (asynchronous)</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a5ed5536c849572c51821ec199b9852ff">setup_async_signals</a> ();</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      asynchronous = 0;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <a class="code" href="../../dc/d6f/trap_8c.html#a85203bc0e3b2380073e79a6055a3c672">set_sigint_handler</a> ();</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160; </div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <a class="code" href="../../df/d8e/jobs_8c.html#a9c3599dc5b071245445a30237eefbe9c">set_sigchld_handler</a> ();</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JOB_CONTROL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="comment">/* Delete all traces that there were any jobs running.  This is</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">     only for subshells. */</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  <a class="code" href="../../df/d8e/jobs_8c.html#ab9244e49349e5265eef7d020233848ae">without_job_control</a> ();</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <span class="keywordflow">if</span> (fds_to_close)</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab3931fec983d0c379daa238a8438b8ff">close_fd_bitmap</a> (fds_to_close);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160; </div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac019991c9bd079990f1f720d21dabe7b">do_piping</a> (pipe_in, pipe_out);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="preprocessor">#if defined (COPROCESS_SUPPORT)</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  coproc_closeall ();</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  clear_fifo_list ();       <span class="comment">/* XXX- we haven&#39;t created any FIFOs */</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="comment">/* If this is a user subshell, set a flag if stdin was redirected.</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="comment">     This is used later to decide whether to redirect fd 0 to</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="comment">     /dev/null for async commands in the subshell.  This adds more</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="comment">     sh compatibility, but I&#39;m not sure it&#39;s the right thing to do.</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="comment">     Note that an input pipe to a compound command suffices to inhibit</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="comment">     the implicit /dev/null redirection for asynchronous commands</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="comment">     executed as part of that compound command. */</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keywordflow">if</span> (user_subshell)</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    {</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#adbcf768dde8fc18d3e314d07adcdb537">stdin_redir</a> = <a class="code" href="../../d1/dfa/redir_8c.html#a1e243d74a4d24d4370a6109a3c35dec9">stdin_redirects</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a5b5efa4854e0319791e28028712fee9a">redirects</a>) || pipe_in != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#ae555f00c5fd27a5c1ef5fee58b206f59">restore_default_signal</a> (<a class="code" href="../../d7/d0b/trap_8h.html#ace357696ec02738ea7a2c4f43c453910">EXIT_TRAP</a>);   <span class="comment">/* XXX - reset_signal_handlers above */</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a55109f0a4ce17f03ea7970001d89439c">shell_control_structure</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a>) &amp;&amp; pipe_in != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#adbcf768dde8fc18d3e314d07adcdb537">stdin_redir</a> = 1;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160; </div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="comment">/* If this is an asynchronous command (command &amp;), we want to</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment">     redirect the standard input from /dev/null in the absence of</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="comment">     any specific redirection involving stdin. */</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="keywordflow">if</span> (should_redir_stdin &amp;&amp; <a class="code" href="../../de/d3d/execute__cmd_8c.html#adbcf768dde8fc18d3e314d07adcdb537">stdin_redir</a> == 0)</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8b24e1d82ae54bc17b40215cda25f31e">async_redirect_stdin</a> ();</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160; </div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="preprocessor">#if defined (BUFFERED_INPUT)</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="comment">/* In any case, we are not reading our command input from stdin. */</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  default_buffered_input = -1;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="comment">/* We can&#39;t optimize away forks if one of the commands executed by the</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment">     subshell sets an exit trap, so we set CMD_NO_FORK for simple commands</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="comment">     and set CMD_TRY_OPTIMIZING for simple commands on the right side of an</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="comment">     and-or or `;&#39; list to test for optimizing forks when they are executed. */</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <span class="keywordflow">if</span> (user_subshell &amp;&amp; <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a3a10db8d17c0c9e4d5b345e51cc54f91">cm_subshell</a> &amp;&amp;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; (<a class="code" href="../../d0/d09/command_8h.html#a188d6b1f7afac2ff9204793f8caeea6e">CMD_TIME_PIPELINE</a>|<a class="code" href="../../d0/d09/command_8h.html#a580b06894a4aec29dcbcd920f8b65bd9">CMD_INVERT_RETURN</a>)) == 0)</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <a class="code" href="../../df/da3/evalstring_8c.html#adccbd969dab9a037f36d7744acd3b7ea">optimize_subshell_command</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Subshell-&gt;command);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; </div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <span class="comment">/* Do redirections, then dispose of them before recursive call. */</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a5b5efa4854e0319791e28028712fee9a">redirects</a>)</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    {</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/dfa/redir_8c.html#a52ce0ceb4aab5c01113e6ed10ef91222">do_redirections</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a5b5efa4854e0319791e28028712fee9a">redirects</a>, <a class="code" href="../../d1/dbf/redir_8h.html#ad236771164f9ee8cc2d118d7ad5ed812">RX_ACTIVE</a>) != 0)</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a> (invert ? <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a> : <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160; </div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;      <a class="code" href="../../da/d05/dispose__cmd_8c.html#a6f4d35961973569c5a1e749855477221">dispose_redirects</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a5b5efa4854e0319791e28028712fee9a">redirects</a>);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a5b5efa4854e0319791e28028712fee9a">redirects</a> = (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    }</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">type</a> == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a3a10db8d17c0c9e4d5b345e51cc54f91">cm_subshell</a>)</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    tcom = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Subshell-&gt;command;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (user_coproc)</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    tcom = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Coproc-&gt;command;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    tcom = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160; </div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a188d6b1f7afac2ff9204793f8caeea6e">CMD_TIME_PIPELINE</a>)</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    tcom-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#a188d6b1f7afac2ff9204793f8caeea6e">CMD_TIME_PIPELINE</a>;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#ab7af131e28fe7685d0590ebbfff920f5">CMD_TIME_POSIX</a>)</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    tcom-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#ab7af131e28fe7685d0590ebbfff920f5">CMD_TIME_POSIX</a>;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="comment">/* Make sure the subshell inherits any CMD_IGNORE_RETURN flag. */</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>) &amp;&amp; tcom != <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>)</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    tcom-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160; </div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="comment">/* If this is a simple command, tell execute_disk_command that it</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;<span class="comment">     might be able to get away without forking and simply exec.</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="comment">     This means things like ( sleep 10 ) will only cause one fork.</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="comment">     If we&#39;re timing the command or inverting its return value, however,</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="comment">     we cannot do this optimization. */</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <a class="code" href="../../d9/def/mb__64bit__map_8cpp.html#a7d5d79792cdea43010184ab50d14ac5a">if</a> ((user_subshell || user_coproc) &amp;&amp; (tcom-&gt;type == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a6b95c578a76edef96b78363613c03424">cm_simple</a> || tcom-&gt;type == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a3a10db8d17c0c9e4d5b345e51cc54f91">cm_subshell</a>) &amp;&amp;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      ((tcom-&gt;flags &amp; <a class="code" href="../../d0/d09/command_8h.html#a188d6b1f7afac2ff9204793f8caeea6e">CMD_TIME_PIPELINE</a>) == 0) &amp;&amp;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      ((tcom-&gt;flags &amp; <a class="code" href="../../d0/d09/command_8h.html#a580b06894a4aec29dcbcd920f8b65bd9">CMD_INVERT_RETURN</a>) == 0))</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      tcom-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#ae7c225776eecb2f1a0b4de5ac1f6eff3">CMD_NO_FORK</a>;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      <span class="keywordflow">if</span> (tcom-&gt;type == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a6b95c578a76edef96b78363613c03424">cm_simple</a>)</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    tcom-&gt;value.Simple-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#ae7c225776eecb2f1a0b4de5ac1f6eff3">CMD_NO_FORK</a>;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    }</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160; </div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  invert = (tcom-&gt;flags &amp; <a class="code" href="../../d0/d09/command_8h.html#a580b06894a4aec29dcbcd920f8b65bd9">CMD_INVERT_RETURN</a>) != 0;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  tcom-&gt;flags &amp;= ~<a class="code" href="../../d0/d09/command_8h.html#a580b06894a4aec29dcbcd920f8b65bd9">CMD_INVERT_RETURN</a>;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; </div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  result = <a class="code" href="../../d5/de0/include_2posixjmp_8h.html#a79529654058563578999fe05b86bb81c">setjmp_nosigs</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#a047be68a91ac230623785fa32c056bd2">top_level</a>);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; </div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  <span class="comment">/* If we&#39;re inside a function while executing this subshell, we</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="comment">     need to handle a possible `return&#39;. */</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  function_value = 0;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#add8e674e588c6cff9adb9177e416dc09">return_catch_flag</a>)</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    function_value = <a class="code" href="../../d5/de0/include_2posixjmp_8h.html#a79529654058563578999fe05b86bb81c">setjmp_nosigs</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a2d6a7e8dd1530d8ddc57d42d0c689391">return_catch</a>);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160; </div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  <span class="comment">/* If we&#39;re going to exit the shell, we don&#39;t want to invert the return</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="comment">     status. */</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <span class="keywordflow">if</span> (result == <a class="code" href="../../da/d23/bashjmp_8h.html#aa33f61f9f10a8fc3b63f3d4c88bea71a">EXITPROG</a> || result == <a class="code" href="../../da/d23/bashjmp_8h.html#a5a58733a1d8c60573228ba0dc3ddd7b3">EXITBLTIN</a>)</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    invert = 0, return_code = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result)</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    return_code = (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> == <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>) ? <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a> : <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (function_value)</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    return_code = <a class="code" href="../../de/d3d/execute__cmd_8c.html#afe3eeaca94d517df5e3f8644b5dd92c8">return_catch_value</a>;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    return_code = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> ((<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *)tcom, asynchronous, <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>, <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>, fds_to_close);</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160; </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <span class="comment">/* If we are asked to, invert the return value. */</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  <span class="keywordflow">if</span> (invert)</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    return_code = (return_code == <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>) ? <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                             : <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160; </div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="comment">/* If we were explicitly placed in a subshell with (), we need</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="comment">     to do the `shell cleanup&#39; things, such as running traps[0]. */</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="keywordflow">if</span> (user_subshell &amp;&amp; <a class="code" href="../../d5/da5/zread_8c.html#a40264baa053bf7ccf2ef5ca345d6c06d">signal_is_trapped</a> (0))</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    {</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = return_code;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      return_code = <a class="code" href="../../dc/d6f/trap_8c.html#a5b6e77e95dce419687185edce1da8593">run_exit_trap</a> ();</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160; </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3c800265c671320a6dae122fd649438a">subshell_level</a>--;     <span class="comment">/* don&#39;t bother, caller will just exit */</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  <span class="keywordflow">return</span> (return_code);</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;}</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160; </div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;<span class="preprocessor">#if defined (COPROCESS_SUPPORT)</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;<span class="preprocessor">#define COPROC_MAX  16</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160; </div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>cpelement</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keyword">struct </span>cpelement *<a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *<a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  }</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;cpelement_t;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    </div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>cplist</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keyword">struct </span>cpelement *<a class="code" href="../../d6/dd0/gzip_8c.html#a6d1197264c8235ebd5bda57ba423914e">head</a>;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keyword">struct </span>cpelement *<a class="code" href="../../d3/dbb/hu__stuff_8c.html#aff39d864a6594bc5f4a5e365282e00fe">tail</a>;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keywordtype">int</span> ncoproc;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d5/db0/dynlink_8c.html#aa0246195b64447ad0ba3510f410604f4">lock</a>;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  }</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;cplist_t;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160; </div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>cpelement *cpe_alloc <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keyword">struct</span> <a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *));</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> cpe_dispose <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keyword">struct</span> cpelement *));</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>cpelement *cpl_add <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keyword">struct</span> <a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *));</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>cpelement *cpl_delete <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a>));</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> cpl_reap <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">void</span>));</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> cpl_flush <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">void</span>));</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> cpl_closeall <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">void</span>));</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>cpelement *cpl_search <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a>));</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>cpelement *cpl_searchbyname <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *));</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> cpl_prune <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keywordtype">void</span>));</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> coproc_free <a class="code" href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a>((<span class="keyword">struct</span> <a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *));</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="comment">/* Will go away when there is fully-implemented support for multiple coprocs. */</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">Coproc</a> <a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a> = { 0, <a class="code" href="../../d3/d3a/jobs_8h.html#ad40327c746e8ef715109d9b9257eb991">NO_PID</a>, -1, -1, 0, 0, 0, 0, 0 };</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160; </div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;cplist_t coproc_list = {0, 0, 0};</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160; </div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;<span class="comment">/* Functions to manage the list of coprocs */</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>cpelement *</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;cpe_alloc (cp)</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">Coproc</a> *cp;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;{</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keyword">struct </span>cpelement *cpe;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160; </div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  cpe = (<span class="keyword">struct </span>cpelement *)<a class="code" href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a> (<span class="keyword">sizeof</span> (<span class="keyword">struct</span> cpelement));</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  cpe-&gt;coproc = cp;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  cpe-&gt;next = (<span class="keyword">struct </span>cpelement *)0;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <span class="keywordflow">return</span> cpe;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;}</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160; </div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;cpe_dispose (cpe)</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      <span class="keyword">struct </span>cpelement *cpe;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;{</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (cpe);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;}</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>cpelement *</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;cpl_add (cp)</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">Coproc</a> *cp;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;{</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="keyword">struct </span>cpelement *cpe;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  cpe = cpe_alloc (cp);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <span class="keywordflow">if</span> (coproc_list.head == 0)</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      coproc_list.head = coproc_list.tail = cpe;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;      coproc_list.ncoproc = 0;          <span class="comment">/* just to make sure */</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    }</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    {</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      coproc_list.tail-&gt;next = cpe;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      coproc_list.tail = cpe;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    }</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  coproc_list.ncoproc++;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="keywordflow">return</span> cpe;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;}</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160; </div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>cpelement *</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;cpl_delete (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>)</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;     <a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;{</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="keyword">struct </span>cpelement *prev, *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160; </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  <span class="keywordflow">for</span> (prev = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = coproc_list.head; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>; prev = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;next)</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;coproc-&gt;c_pid == <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>)</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        prev-&gt;next = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;next;   <span class="comment">/* remove from list */</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      }</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160; </div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == 0)</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <span class="keywordflow">return</span> 0;       <span class="comment">/* not found */</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <a class="code" href="../../da/d41/error_8h.html#a1c7d66dc03b5cb6a3a6c2a79bcbf8e4d">INTERNAL_DEBUG</a> ((<span class="stringliteral">&quot;cpl_delete: deleting %d&quot;</span>, <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>));</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160; </div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="comment">/* Housekeeping in the border cases. */</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == coproc_list.head)</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    coproc_list.head = coproc_list.head-&gt;next;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == coproc_list.tail)</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    coproc_list.tail = prev;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160; </div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  coproc_list.ncoproc--;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="keywordflow">if</span> (coproc_list.ncoproc == 0)</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    coproc_list.head = coproc_list.tail = 0;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (coproc_list.ncoproc == 1)</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    coproc_list.tail = coproc_list.head;        <span class="comment">/* just to make sure */</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160; </div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;}</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;cpl_reap ()</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;{</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <span class="keyword">struct </span>cpelement *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, *<a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>, *nh, *nt;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="comment">/* Build a new list by removing dead coprocs and fix up the coproc_list</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="comment">     pointers when done. */</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  nh = nt = <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a> = (<span class="keyword">struct </span>cpelement *)0;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = coproc_list.head; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>)</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    {</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;next;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;coproc-&gt;c_flags &amp; <a class="code" href="../../d0/d09/command_8h.html#a8593f501faea91cac1d23020c5124b50">COPROC_DEAD</a>)</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      coproc_list.ncoproc--;    <span class="comment">/* keep running count, fix up pointers later */</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;      <a class="code" href="../../da/d41/error_8h.html#a1c7d66dc03b5cb6a3a6c2a79bcbf8e4d">INTERNAL_DEBUG</a> ((<span class="stringliteral">&quot;cpl_reap: deleting %d&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;coproc-&gt;c_pid));</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      coproc_dispose (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;coproc);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      cpe_dispose (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    }</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nh == 0)</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    nh = nt = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;      nt-&gt;next = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;      nt = nt-&gt;next;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    }</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    }</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160; </div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="keywordflow">if</span> (coproc_list.ncoproc == 0)</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    coproc_list.head = coproc_list.tail = 0;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      <span class="keywordflow">if</span> (nt)</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        nt-&gt;next = 0;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;      coproc_list.head = nh;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      coproc_list.tail = nt;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;      <span class="keywordflow">if</span> (coproc_list.ncoproc == 1)</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    coproc_list.tail = coproc_list.head;        <span class="comment">/* just to make sure */</span>  </div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    }</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;}</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160; </div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;<span class="comment">/* Clear out the list of saved statuses */</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;cpl_flush ()</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;{</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="keyword">struct </span>cpelement *cpe, *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160; </div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  <span class="keywordflow">for</span> (cpe = coproc_list.head; cpe; )</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    {</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = cpe;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      cpe = cpe-&gt;next;</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160; </div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      coproc_dispose (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;coproc);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      cpe_dispose (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    }</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160; </div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  coproc_list.head = coproc_list.tail = 0;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  coproc_list.ncoproc = 0;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;}</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160; </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;cpl_closeall ()</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;{</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  <span class="keyword">struct </span>cpelement *cpe;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160; </div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="keywordflow">for</span> (cpe = coproc_list.head; cpe; cpe = cpe-&gt;next)</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    coproc_close (cpe-&gt;coproc);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;}</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160; </div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;cpl_fdchk (<a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>)</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;{</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  <span class="keyword">struct </span>cpelement *cpe;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <span class="keywordflow">for</span> (cpe = coproc_list.head; cpe; cpe = cpe-&gt;next)</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    coproc_checkfd (cpe-&gt;coproc, <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;}</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160; </div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="comment">/* Search for PID in the list of coprocs; return the cpelement struct if</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="comment">   found.  If not found, return NULL. */</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>cpelement *</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;cpl_search (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>)</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;     <a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;{</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <span class="keyword">struct </span>cpelement *cpe;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="keywordflow">for</span> (cpe = coproc_list.head ; cpe; cpe = cpe-&gt;next)</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">if</span> (cpe-&gt;coproc-&gt;c_pid == <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>)</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      <span class="keywordflow">return</span> cpe;</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <span class="keywordflow">return</span> (<span class="keyword">struct</span> cpelement *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;}</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160; </div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;<span class="comment">/* Search for the coproc named NAME in the list of coprocs; return the</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;<span class="comment">   cpelement struct if found.  If not found, return NULL. */</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>cpelement *</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;cpl_searchbyname (name)</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;     <span class="keyword">const</span> <span class="keywordtype">char</span> *name;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;{</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  <span class="keyword">struct </span>cpelement *cp;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160; </div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <span class="keywordflow">for</span> (cp = coproc_list.head ; cp; cp = cp-&gt;next)</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (cp-&gt;coproc-&gt;c_name, name))</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      <span class="keywordflow">return</span> cp;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  <span class="keywordflow">return</span> (<span class="keyword">struct</span> cpelement *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;}</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160; </div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;cpl_firstactive ()</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;{</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keyword">struct </span>cpelement *cpe;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160; </div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keywordflow">for</span> (cpe = coproc_list.head ; cpe; cpe = cpe-&gt;next)</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    <span class="keywordflow">if</span> ((cpe-&gt;coproc-&gt;c_flags &amp; <a class="code" href="../../d0/d09/command_8h.html#a8593f501faea91cac1d23020c5124b50">COPROC_DEAD</a>) == 0)</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;      <span class="keywordflow">return</span> cpe-&gt;coproc-&gt;c_pid;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a>)<a class="code" href="../../d3/d3a/jobs_8h.html#ad40327c746e8ef715109d9b9257eb991">NO_PID</a>;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;}</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;cpl_prune ()</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;{</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  <span class="keyword">struct </span>cpelement *cp;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160; </div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="keywordflow">while</span> (coproc_list.head &amp;&amp; coproc_list.ncoproc &gt; COPROC_MAX)</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    {</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;      cp = coproc_list.head;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;      coproc_list.head = coproc_list.head-&gt;next;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;      coproc_dispose (cp-&gt;coproc);</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;      cpe_dispose (cp);</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      coproc_list.ncoproc--;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    }</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;}</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160; </div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;<span class="comment">/* These currently use a single global &quot;shell coproc&quot; but are written in a</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;<span class="comment">   way to not preclude additional coprocs later (using the list management</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;<span class="comment">   package above). */</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160; </div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;getcoprocbypid (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>)</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;     <a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;{</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="preprocessor">#if MULTIPLE_COPROCS</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  <span class="keyword">struct </span>cpelement *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160; </div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = cpl_search (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> ? <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;coproc : 0);</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> == <a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>.<a class="code" href="../../d0/d09/command_8h.html#a985b501e47aedaebc0116f4f49e9be41">c_pid</a> ? &amp;<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a> : 0);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;}</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160; </div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;getcoprocbyname (name)</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;     <span class="keyword">const</span> <span class="keywordtype">char</span> *name;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;{</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;<span class="preprocessor">#if MULTIPLE_COPROCS</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <span class="keyword">struct </span>cpelement *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160; </div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = cpl_searchbyname (name);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> ? <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;coproc : 0);</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  <span class="keywordflow">return</span> ((<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>.<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a> &amp;&amp; <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>.<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>, name)) ? &amp;<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a> : 0);</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;}</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160; </div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;coproc_init (cp)</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;{</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a> = 0;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a985b501e47aedaebc0116f4f49e9be41">c_pid</a> = <a class="code" href="../../d3/d3a/jobs_8h.html#ad40327c746e8ef715109d9b9257eb991">NO_PID</a>;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a> = cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a> = -1;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a9fb038976ae82a22c7ba1b418285e17b">c_rsave</a> = cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a3c0bb857aacc8176f88f20075e902fd6">c_wsave</a> = -1;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#afb0ac3c4ec995790bf72cb0ef27854e6">c_flags</a> = cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#ab742e5285c2dc8e39fd5b6b89c68522e">c_status</a> = cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a34bf762bf4fa2b6f79d9ebc12302819a">c_lock</a> = 0;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;}</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160; </div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;coproc_alloc (name, <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>)</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;     <span class="keywordtype">char</span> *name;</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;     <a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;{</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160; </div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="preprocessor">#if MULTIPLE_COPROCS</span></div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  cp = (<span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *)<a class="code" href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a> (<span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a>));</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  cp = &amp;<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  coproc_init (cp);</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a34bf762bf4fa2b6f79d9ebc12302819a">c_lock</a> = 2;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160; </div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a985b501e47aedaebc0116f4f49e9be41">c_pid</a> = <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (name);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="preprocessor">#if MULTIPLE_COPROCS</span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  cpl_add (cp);</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a34bf762bf4fa2b6f79d9ebc12302819a">c_lock</a> = 0;</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  <span class="keywordflow">return</span> (cp);</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;}</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160; </div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;coproc_free (cp)</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;{</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (cp);</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;}</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160; </div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;coproc_dispose (cp)</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;{</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  <a class="code" href="../../d8/d90/sigset__t_8h.html#a9140a5882f847f67b8155c759ac6aa05">sigset_t</a> set, oset;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160; </div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <span class="keywordflow">if</span> (cp == 0)</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160; </div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <a class="code" href="../../de/d62/sig_8h.html#aa1b2d380dc1779c219bfd7b8b65db57c">BLOCK_SIGNAL</a> (<a class="code" href="../../d4/dc2/Kernel_2include_2signal_8h.html#ae334395fdd2ddcad969d5988c071c289a6dfd856a32bc2d1933164dc9baf28354">SIGCHLD</a>, set, oset);</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a34bf762bf4fa2b6f79d9ebc12302819a">c_lock</a> = 3;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  coproc_unsetvars (cp);</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  coproc_close (cp);</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;<span class="preprocessor">#if MULTIPLE_COPROCS</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  coproc_free (cp);</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  coproc_init (cp);</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a34bf762bf4fa2b6f79d9ebc12302819a">c_lock</a> = 0;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  <a class="code" href="../../de/d62/sig_8h.html#ae6ad5d81af3198ab9d90d7dac07150fc">UNBLOCK_SIGNAL</a> (oset);</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;}</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160; </div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;<span class="comment">/* Placeholder for now.  Will require changes for multiple coprocs */</span></div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;coproc_flush ()</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;{</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="preprocessor">#if MULTIPLE_COPROCS</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  cpl_flush ();</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  coproc_dispose (&amp;<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>);</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;}</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160; </div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;coproc_close (cp)</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;{</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  <span class="keywordflow">if</span> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a> &gt;= 0)</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    {</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a>);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a> = -1;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    }</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <span class="keywordflow">if</span> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a> &gt;= 0)</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    {</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a>);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a> = -1;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    }</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a9fb038976ae82a22c7ba1b418285e17b">c_rsave</a> = cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a3c0bb857aacc8176f88f20075e902fd6">c_wsave</a> = -1;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;}</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160; </div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;coproc_closeall ()</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;{</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<span class="preprocessor">#if MULTIPLE_COPROCS</span></div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  cpl_closeall ();</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  coproc_close (&amp;<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>);    <span class="comment">/* XXX - will require changes for multiple coprocs */</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;}</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;coproc_reap ()</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;{</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;<span class="preprocessor">#if MULTIPLE_COPROCS</span></div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  cpl_reap ();</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160; </div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  cp = &amp;<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>;      <span class="comment">/* XXX - will require changes for multiple coprocs */</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <span class="keywordflow">if</span> (cp &amp;&amp; (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#afb0ac3c4ec995790bf72cb0ef27854e6">c_flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a8593f501faea91cac1d23020c5124b50">COPROC_DEAD</a>))</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    coproc_dispose (cp);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;}</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160; </div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;coproc_rclose (cp, <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>)</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;{</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="keywordflow">if</span> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a> &gt;= 0 &amp;&amp; cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a> == <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>)</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    {</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a>);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a> = -1;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    }</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;}</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160; </div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;coproc_wclose (cp, <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>)</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;{</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <span class="keywordflow">if</span> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a> &gt;= 0 &amp;&amp; cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a> == <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>)</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;      <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a>);</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a> = -1;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    }</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;}</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160; </div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;coproc_checkfd (cp, <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>)</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;{</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="keywordtype">int</span> update;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160; </div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  update = 0;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <span class="keywordflow">if</span> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a> &gt;= 0 &amp;&amp; cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a> == <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>)</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    update = cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a> = -1;</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <span class="keywordflow">if</span> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a> &gt;= 0 &amp;&amp; cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a> == <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>)</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    update = cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a> = -1;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <span class="keywordflow">if</span> (update)</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    coproc_setvars (cp);</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;}</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160; </div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;coproc_fdchk (<a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>)</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;{</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;<span class="preprocessor">#if MULTIPLE_COPROCS</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  cpl_fdchk (<a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;  coproc_checkfd (&amp;<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>, <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;}</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160; </div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;coproc_fdclose (cp, <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>)</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;{</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;  coproc_rclose (cp, <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  coproc_wclose (cp, <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  coproc_setvars (cp);</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;}</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160; </div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;coproc_fdsave (cp)</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;{</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a9fb038976ae82a22c7ba1b418285e17b">c_rsave</a> = cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a>;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a3c0bb857aacc8176f88f20075e902fd6">c_wsave</a> = cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a>;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;}</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160; </div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;coproc_fdrestore (cp)</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;{</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a> = cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a9fb038976ae82a22c7ba1b418285e17b">c_rsave</a>;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a> = cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a3c0bb857aacc8176f88f20075e902fd6">c_wsave</a>;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;}</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160; </div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;coproc_setstatus (cp, <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>)</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;{</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a34bf762bf4fa2b6f79d9ebc12302819a">c_lock</a> = 4;</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#ab742e5285c2dc8e39fd5b6b89c68522e">c_status</a> = <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#afb0ac3c4ec995790bf72cb0ef27854e6">c_flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#a8593f501faea91cac1d23020c5124b50">COPROC_DEAD</a>;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#afb0ac3c4ec995790bf72cb0ef27854e6">c_flags</a> &amp;= ~<a class="code" href="../../d0/d09/command_8h.html#a672ffd2d8ac7851801ca7bf91749431c">COPROC_RUNNING</a>;</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <span class="comment">/* Don&#39;t dispose the coproc or unset the COPROC_XXX variables because</span></div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;<span class="comment">     this is executed in a signal handler context.  Wait until coproc_reap</span></div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;<span class="comment">     takes care of it. */</span></div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a34bf762bf4fa2b6f79d9ebc12302819a">c_lock</a> = 0;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;}</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160; </div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;coproc_pidchk (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>)</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;     <a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;{</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160; </div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;<span class="preprocessor">#if MULTIPLE_COPROCS</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  <span class="keyword">struct </span>cpelement *cpe;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160; </div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  <span class="comment">/* We&#39;re not disposing the coproc because this is executed in a signal</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;<span class="comment">     handler context */</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  cpe = cpl_search (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>);</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  cp = cpe ? cpe-&gt;coproc : 0;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;  cp = getcoprocbypid (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>);</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="keywordflow">if</span> (cp)</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    coproc_setstatus (cp, <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>);</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;}</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160; </div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;<a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;coproc_active ()</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;{</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;<span class="preprocessor">#if MULTIPLE_COPROCS</span></div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <span class="keywordflow">return</span> (cpl_firstactive ());</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <span class="keywordflow">return</span> ((<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>.<a class="code" href="../../d0/d09/command_8h.html#afb0ac3c4ec995790bf72cb0ef27854e6">c_flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a8593f501faea91cac1d23020c5124b50">COPROC_DEAD</a>) ? <a class="code" href="../../d3/d3a/jobs_8h.html#ad40327c746e8ef715109d9b9257eb991">NO_PID</a> : <a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>.<a class="code" href="../../d0/d09/command_8h.html#a985b501e47aedaebc0116f4f49e9be41">c_pid</a>);</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;}</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;coproc_setvars (cp)</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;{</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *v;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <span class="keywordtype">char</span> *namevar, *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>;</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#dd/d81/structword__desc">WORD_DESC</a> <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  <a class="code" href="../../db/d63/array_8h.html#a3672e3c5b95dde98c9ed75ac7c1e6d60">arrayind_t</a> ind;</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160; </div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <span class="keywordflow">if</span> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a> == 0)</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160; </div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <span class="comment">/* We could do more here but right now we only check the name, warn if it&#39;s</span></div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;<span class="comment">     not a valid identifier, and refuse to create variables with invalid names</span></div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;<span class="comment">     if a coproc with such a name is supplied. */</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>.word = cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>.flags = 0;</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dca/general_8c.html#a2d8b1ad469d271ae155d0c8b065a1118">check_identifier</a> (&amp;<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>, 1) == 0)</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160; </div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  namevar = <a class="code" href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> + 16);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160; </div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  v = <a class="code" href="../../d5/de8/variables_8c.html#aba8df3eeae83c8b121cc29a8984dfcdc">find_variable</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160; </div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <span class="comment">/* This is the same code as in find_or_make_array_variable */</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  <span class="keywordflow">if</span> (v == 0)</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    {</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;      v = <a class="code" href="../../d5/de8/variables_8c.html#a33de59230c4aca0a85f83023c6e95093">find_variable_nameref_for_create</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>, 1);</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;      <span class="keywordflow">if</span> (v == <a class="code" href="../../de/dca/variables_8h.html#ad10452595c599b3281387a4d337eaad9">INVALID_NAMEREF_VALUE</a>)</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    {</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (namevar);</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    }</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;      <span class="keywordflow">if</span> (v &amp;&amp; <a class="code" href="../../de/dca/variables_8h.html#a43b89ff0092985bf3e78fc705a3d25e0">nameref_p</a> (v))</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    {</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/dca/variables_8h.html#af2165dd3251e9a8fdb44bfdeeb532b51">nameref_cell</a> (v));</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;      v = make_new_array_variable (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);   </div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    }</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    }</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160; </div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <span class="keywordflow">if</span> (v &amp;&amp; (<a class="code" href="../../de/dca/variables_8h.html#aa045ef001ee868166626ab099a7944c7">readonly_p</a> (v) || <a class="code" href="../../de/dca/variables_8h.html#ac35afb1d87d3eb932fc0e1a31e993c3e">noassign_p</a> (v)))</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/dca/variables_8h.html#aa045ef001ee868166626ab099a7944c7">readonly_p</a> (v))</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <a class="code" href="../../db/dcc/error_8c.html#ae49eda7258a16e84193cb09241e06816">err_readonly</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (namevar);</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    }</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  <span class="keywordflow">if</span> (v == 0)</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    v = make_new_array_variable (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/dca/variables_8h.html#a967149d83c7cf0dfc245dc9e587b5b05">array_p</a> (v) == 0)</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    v = convert_var_to_array (v);</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160; </div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../df/d57/itos_8c.html#a4458df0c815a2822d5129649049b85b9">itos</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a>);</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  ind = 0;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  v = bind_array_variable (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>, ind, <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>, 0);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160; </div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../df/d57/itos_8c.html#a4458df0c815a2822d5129649049b85b9">itos</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a>);</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  ind = 1;</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  v = bind_array_variable (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>, ind, <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>, 0);</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;  <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a> (namevar, <span class="stringliteral">&quot;%s_READ&quot;</span>, cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../df/d57/itos_8c.html#a4458df0c815a2822d5129649049b85b9">itos</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a>);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <a class="code" href="../../d5/de8/variables_8c.html#a713284c5f480f3e48319c5cb6323926f">bind_variable</a> (namevar, <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>, 0);</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a> (namevar, <span class="stringliteral">&quot;%s_WRITE&quot;</span>, cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../df/d57/itos_8c.html#a4458df0c815a2822d5129649049b85b9">itos</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a>);</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <a class="code" href="../../d5/de8/variables_8c.html#a713284c5f480f3e48319c5cb6323926f">bind_variable</a> (namevar, <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>, 0);</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160; </div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;  <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a> (namevar, <span class="stringliteral">&quot;%s_PID&quot;</span>, cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;  <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../df/d57/itos_8c.html#a4458df0c815a2822d5129649049b85b9">itos</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a985b501e47aedaebc0116f4f49e9be41">c_pid</a>);</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  v = <a class="code" href="../../d5/de8/variables_8c.html#a713284c5f480f3e48319c5cb6323926f">bind_variable</a> (namevar, <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>, 0);</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160; </div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (namevar);</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;}</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160; </div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;coproc_unsetvars (cp)</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a> *cp;</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;{</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  <span class="keywordtype">char</span> *namevar;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160; </div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <span class="keywordflow">if</span> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a> == 0)</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160; </div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  namevar = <a class="code" href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> + 16);</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160; </div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a> (namevar, <span class="stringliteral">&quot;%s_PID&quot;</span>, cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;  <a class="code" href="../../d5/de8/variables_8c.html#a71ad74288dcf0b9ff5f6c853ba9dd44c">unbind_variable_noref</a> (namevar);  </div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160; </div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <a class="code" href="../../d5/de8/variables_8c.html#a8c7ca3cbd0f313cfa80dfe6b61fdb610">check_unbind_variable</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;  <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a> (namevar, <span class="stringliteral">&quot;%s_READ&quot;</span>, cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <a class="code" href="../../d5/de8/variables_8c.html#a05dbab28287bfffae1f681dbd2ae65ab">unbind_variable</a> (namevar);</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a> (namevar, <span class="stringliteral">&quot;%s_WRITE&quot;</span>, cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;  <a class="code" href="../../d5/de8/variables_8c.html#a05dbab28287bfffae1f681dbd2ae65ab">unbind_variable</a> (namevar);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;<span class="preprocessor">#endif  </span></div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160; </div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (namevar);</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;}</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160; </div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;execute_coproc (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, pipe_in, pipe_out, fds_to_close)</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;     <a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;     <span class="keywordtype">int</span> pipe_in, pipe_out;</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fds_to_close;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;{</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  <span class="keywordtype">int</span> rpipe[2], wpipe[2], estat, invert;</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> coproc_pid;</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">Coproc</a> *cp;</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <span class="keywordtype">char</span> *tcmd, *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, *name;</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  <a class="code" href="../../d8/d90/sigset__t_8h.html#a9140a5882f847f67b8155c759ac6aa05">sigset_t</a> set, oset;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160; </div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="comment">/* XXX -- can be removed after changes to handle multiple coprocs */</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;<span class="preprocessor">#if !MULTIPLE_COPROCS</span></div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>.<a class="code" href="../../d0/d09/command_8h.html#a985b501e47aedaebc0116f4f49e9be41">c_pid</a> != <a class="code" href="../../d3/d3a/jobs_8h.html#ad40327c746e8ef715109d9b9257eb991">NO_PID</a> &amp;&amp; (<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>.<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a> &gt;= 0 || <a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>.<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a> &gt;= 0))</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <a class="code" href="../../db/dcc/error_8c.html#a18ffbfac4ece05ba6cc56c02d783a9ee">internal_warning</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;execute_coproc: coproc [%d:%s] still exists&quot;</span>), <a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>.<a class="code" href="../../d0/d09/command_8h.html#a985b501e47aedaebc0116f4f49e9be41">c_pid</a>, <a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>.<a class="code" href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">c_name</a>);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  coproc_init (&amp;<a class="code" href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a>);</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160; </div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  invert = (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a580b06894a4aec29dcbcd920f8b65bd9">CMD_INVERT_RETURN</a>) != 0;</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160; </div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <span class="comment">/* expand name without splitting - could make this dependent on a shopt option */</span></div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  name = <a class="code" href="../../d1/d93/subst_8c.html#a7bc2d76522c909ae9e0a92cc42c45ad0">expand_string_unsplit_to_string</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Coproc-&gt;name, 0);</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  <span class="comment">/* Optional check -- could be relaxed */</span></div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dca/general_8c.html#a30c87e5e2b6826cae0b16c50843dc153">legal_identifier</a> (name) == 0)</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    {</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;      <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;`%s&#39;: not a valid identifier&quot;</span>), name);</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (name);</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      <span class="keywordflow">return</span> (invert ? <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a> : <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    }</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    {</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Coproc-&gt;name);</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;      <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Coproc-&gt;name = name;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    }</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160; </div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8ae2084fe2fa2b0677f27fd23b86a423">command_string_index</a> = 0;</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  tcmd = <a class="code" href="../../d6/dd8/print__cmd_8c.html#a91bd8878dd80edc56dd94ac489902009">make_command_string</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160; </div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <a class="code" href="../../d1/dca/general_8c.html#af41a6ba27a2a96208603104a0a5232e0">sh_openpipe</a> ((<span class="keywordtype">int</span> *)&amp;rpipe);  <span class="comment">/* 0 = parent read, 1 = child write */</span></div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <a class="code" href="../../d1/dca/general_8c.html#af41a6ba27a2a96208603104a0a5232e0">sh_openpipe</a> ((<span class="keywordtype">int</span> *)&amp;wpipe); <span class="comment">/* 0 = child read, 1 = parent write */</span></div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160; </div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;  <a class="code" href="../../de/d62/sig_8h.html#aa1b2d380dc1779c219bfd7b8b65db57c">BLOCK_SIGNAL</a> (<a class="code" href="../../d4/dc2/Kernel_2include_2signal_8h.html#ae334395fdd2ddcad969d5988c071c289a6dfd856a32bc2d1933164dc9baf28354">SIGCHLD</a>, set, oset);</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160; </div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  coproc_pid = <a class="code" href="../../df/d8e/jobs_8c.html#ab6ee1058c7a454b7e482ce8fa34ddbb7">make_child</a> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (tcmd), <a class="code" href="../../d3/d3a/jobs_8h.html#a599efb6d8d8213160548a82f20c0a573">FORK_ASYNC</a>);</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160; </div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  <span class="keywordflow">if</span> (coproc_pid == 0)</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    {</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;      <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (rpipe[0]);</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (wpipe[1]);</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160; </div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160; </div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;      <a class="code" href="../../de/d62/sig_8h.html#ae6ad5d81af3198ab9d90d7dac07150fc">UNBLOCK_SIGNAL</a> (oset);</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;      estat = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a656846364a94ef47095c18ab2efe9cc9">execute_in_subshell</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, 1, wpipe[0], rpipe[1], fds_to_close);</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160; </div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;      <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#adb974f28765a31026ee6bf71d5175951">fflush</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;      <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#adb974f28765a31026ee6bf71d5175951">fflush</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>);</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160; </div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;      <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a> (estat);</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    }</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160; </div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (rpipe[1]);</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (wpipe[0]);</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160; </div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  cp = coproc_alloc (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Coproc-&gt;name, coproc_pid);</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a> = rpipe[0];</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a> = wpipe[1];</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160; </div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;  cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#afb0ac3c4ec995790bf72cb0ef27854e6">c_flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#a672ffd2d8ac7851801ca7bf91749431c">COPROC_RUNNING</a>;</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160; </div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;  <a class="code" href="../../d4/d1c/filecntl_8h.html#aed5200a9d0687548035406c8a357d2d7">SET_CLOSE_ON_EXEC</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">c_rfd</a>);</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;  <a class="code" href="../../d4/d1c/filecntl_8h.html#aed5200a9d0687548035406c8a357d2d7">SET_CLOSE_ON_EXEC</a> (cp-&gt;<a class="code" href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">c_wfd</a>);</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160; </div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  coproc_setvars (cp);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160; </div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <a class="code" href="../../de/d62/sig_8h.html#ae6ad5d81af3198ab9d90d7dac07150fc">UNBLOCK_SIGNAL</a> (oset);</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160; </div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  itrace (<span class="stringliteral">&quot;execute_coproc (%s): [%d] %s&quot;</span>, <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Coproc-&gt;name, coproc_pid, <a class="code" href="../../de/d3d/execute__cmd_8c.html#a65d53dc7e574c97d7ab5e3fb379e0ec5">the_printed_command</a>);</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160; </div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8160fde58a3713edb578714611bb192b">close_pipes</a> (pipe_in, pipe_out);</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION) &amp;&amp; defined (HAVE_DEV_FD)</span></div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  unlink_fifo_list ();</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  <a class="code" href="../../df/d8e/jobs_8c.html#ad569e95d0123bab22a08e7d38a3a06e1">stop_pipeline</a> (1, (<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a7ba18858170ef2bb4c8d58006a5e0f2f">DESCRIBE_PID</a> (coproc_pid);</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <a class="code" href="../../dc/d6f/trap_8c.html#abe331a35aaca19e5cb592bb962890314">run_pending_traps</a> ();</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160; </div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <span class="keywordflow">return</span> (invert ? <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a> : <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;}</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160; </div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;<span class="comment">/* If S == -1, it&#39;s a special value saying to close stdin */</span></div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02475"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a2e248a2e5214a944f7df71f6e1389180"> 2475</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a2e248a2e5214a944f7df71f6e1389180">restore_stdin</a> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;{</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == -1)</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (0);</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    {</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;      <a class="code" href="../../d9/d9c/oslib_8c.html#a4ce97c88892c43f0e127dd3a6dc54b96">dup2</a> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, 0);</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;      <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    }</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;}</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160; </div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;<span class="comment">/* Catch-all cleanup function for lastpipe code for unwind-protects */</span></div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02489"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a857fe5d256aa1929b79deaedcb876a3a"> 2489</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a857fe5d256aa1929b79deaedcb876a3a">lastpipe_cleanup</a> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;{</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <a class="code" href="../../df/d8e/jobs_8c.html#a9c5a796b3c5e2ddcc0ea88c494e324ea">set_jobs_list_frozen</a> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;}</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160; </div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l02496"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a094e75199b514c6b0304f951c0bbfff2"> 2496</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a094e75199b514c6b0304f951c0bbfff2">execute_pipeline</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, asynchronous, pipe_in, pipe_out, fds_to_close)</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;     <a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;     <span class="keywordtype">int</span> asynchronous, pipe_in, pipe_out;</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fds_to_close;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;{</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  <span class="keywordtype">int</span> prev, fildes[2], new_bitmap_size, dummyfd, ignore_return, exec_result;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;  <span class="keywordtype">int</span> lstdin, lastpipe_flag, lastpipe_jid, old_frozen, stdin_valid;</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *<a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a>;</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  <a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> lastpid;</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160; </div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  <a class="code" href="../../d8/d90/sigset__t_8h.html#a9140a5882f847f67b8155c759ac6aa05">sigset_t</a> set, oset;</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;  <a class="code" href="../../de/d62/sig_8h.html#a37d156f6ab7c2ade277f9a274314d258">BLOCK_CHILD</a> (set, oset);</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JOB_CONTROL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160; </div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;  ignore_return = (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>) != 0;</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160; </div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;  stdin_valid = <a class="code" href="../../d1/dca/general_8c.html#af0b8a3b83755241f88043a9e180a57db">sh_validfd</a> (0);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160; </div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;  prev = pipe_in;</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;  <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160; </div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> &amp;&amp; <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;type == <a class="code" href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a45d0af40ea3834a6294f236d061dbf85">cm_connection</a> &amp;&amp;</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;     <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;value.Connection &amp;&amp; <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;value.Connection-&gt;connector == <span class="charliteral">&#39;|&#39;</span>)</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    {</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      <span class="comment">/* Make a pipeline between the two commands. */</span></div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#d8/d53/structpipe">pipe</a> (fildes) &lt; 0)</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    {</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;      <a class="code" href="../../db/dcc/error_8c.html#a3dc8bd9b2e1ecb245420a3dba9f5e8bd">sys_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;pipe error&quot;</span>));</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;      <a class="code" href="../../df/d8e/jobs_8c.html#a56a3393f655f01d7c763be6f034b57b7">terminate_current_pipeline</a> ();</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;      <a class="code" href="../../df/d8e/jobs_8c.html#ac29c70bbf156a302776a486f60cb31e0">kill_current_pipeline</a> ();</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;      <a class="code" href="../../de/d62/sig_8h.html#aa9262558d91ca8060065606f36167783">UNBLOCK_CHILD</a> (oset);</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JOB_CONTROL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;      <span class="comment">/* The unwind-protects installed below will take care</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;<span class="comment">         of closing all of the open file descriptors. */</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a0c1a46c1b65caedaa01c2823433bd3a8">throw_to_top_level</a> ();</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);   <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    }</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160; </div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      <span class="comment">/* Here is a problem: with the new file close-on-exec</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;<span class="comment">     code, the read end of the pipe (fildes[0]) stays open</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;<span class="comment">     in the first process, so that process will never get a</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;<span class="comment">     SIGPIPE.  There is no way to signal the first process</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;<span class="comment">     that it should close fildes[0] after forking, so it</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;<span class="comment">     remains open.  No SIGPIPE is ever sent because there</span></div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;<span class="comment">     is still a file descriptor open for reading connected</span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;<span class="comment">     to the pipe.  We take care of that here.  This passes</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;<span class="comment">     around a bitmap of file descriptors that must be</span></div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;<span class="comment">     closed after making a child process in execute_simple_command. */</span></div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160; </div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;      <span class="comment">/* We need fd_bitmap to be at least as big as fildes[0].</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;<span class="comment">     If fildes[0] is less than fds_to_close-&gt;size, then</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;<span class="comment">     use fds_to_close-&gt;size. */</span></div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;      new_bitmap_size = (fildes[0] &lt; fds_to_close-&gt;<a class="code" href="../../df/d03/shell_8h.html#a28f1365151408dd4179cb4619df72025">size</a>)</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;                ? fds_to_close-&gt;<a class="code" href="../../df/d03/shell_8h.html#a28f1365151408dd4179cb4619df72025">size</a></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;                : fildes[0] + 8;</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160; </div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;      <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a669e55863f9f092fd1890cd55fe270a3">new_fd_bitmap</a> (new_bitmap_size);</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160; </div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;      <span class="comment">/* Now copy the old information into the new bitmap. */</span></div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;      <a class="code" href="../../d1/d8f/stringlib_8c.html#aa5e7893a4ac249adea1c687a3318ab61">xbcopy</a> ((<span class="keywordtype">char</span> *)fds_to_close-&gt;<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>, (<span class="keywordtype">char</span> *)<a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a>-&gt;<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>, fds_to_close-&gt;<a class="code" href="../../df/d03/shell_8h.html#a28f1365151408dd4179cb4619df72025">size</a>);</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160; </div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;      <span class="comment">/* And mark the pipe file descriptors to be closed. */</span></div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;      <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a>-&gt;<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>[fildes[0]] = 1;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160; </div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      <span class="comment">/* In case there are pipe or out-of-processes errors, we</span></div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;<span class="comment">     want all these file descriptors to be closed when</span></div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;<span class="comment">     unwind-protects are run, and the storage used for the</span></div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;<span class="comment">     bitmaps freed up. */</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;pipe-file-descriptors&quot;</span>);</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a005a2ab83cc8e602e9cab28b32f71295">dispose_fd_bitmap</a>, <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a>);</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#ab3931fec983d0c379daa238a8438b8ff">close_fd_bitmap</a>, <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a>);</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      <span class="keywordflow">if</span> (prev &gt;= 0)</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>, prev);</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;      dummyfd = fildes[1];</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>, dummyfd);</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160; </div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (restore_signal_mask, &amp;oset);</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JOB_CONTROL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160; </div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;      <span class="keywordflow">if</span> (ignore_return &amp;&amp; <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;value.Connection-&gt;first)</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;value.Connection-&gt;first-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;value.Connection-&gt;first, asynchronous,</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;                prev, fildes[1], <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a>);</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160; </div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      <span class="keywordflow">if</span> (prev &gt;= 0)</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (prev);</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160; </div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;      prev = fildes[0];</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;      <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (fildes[1]);</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160; </div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a005a2ab83cc8e602e9cab28b32f71295">dispose_fd_bitmap</a> (<a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a>);</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;pipe-file-descriptors&quot;</span>);</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160; </div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;      <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> = <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;value.Connection-&gt;second;</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;    }</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160; </div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  lastpid = <a class="code" href="../../df/d8e/jobs_8c.html#a6014bc30456423f628a211bf8007fbe0">last_made_pid</a>;</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160; </div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  <span class="comment">/* Now execute the rightmost command in the pipeline.  */</span></div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <span class="keywordflow">if</span> (ignore_return &amp;&amp; <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>)</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160; </div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;  lastpipe_flag = 0;</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160; </div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;lastpipe-exec&quot;</span>);</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  lstdin = -2;      <span class="comment">/* -1 is special, meaning fd 0 is closed */</span></div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  <span class="comment">/* If the `lastpipe&#39; option is set with shopt, and job control is not</span></div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;<span class="comment">     enabled, execute the last element of non-async pipelines in the</span></div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;<span class="comment">     current shell environment. */</span></div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  <span class="comment">/* prev can be 0 if fd 0 was closed when this function was executed. prev</span></div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;<span class="comment">     will never be 0 at this point if fd 0 was valid when this function was</span></div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;<span class="comment">     executed (though we check above). */</span></div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a6536e5a29d4abdda3566dba8d589074c">lastpipe_opt</a> &amp;&amp; <a class="code" href="../../df/d8e/jobs_8c.html#a3002cbcd4a652dec2c5cef5ff3da446f">job_control</a> == 0 &amp;&amp; asynchronous == 0 &amp;&amp; pipe_out == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp; prev &gt;= 0)</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    {</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      <span class="comment">/* -1 is a special value meaning to close stdin */</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;      lstdin = (prev &gt; 0 &amp;&amp; stdin_valid) ? <a class="code" href="../../d1/dca/general_8c.html#a1b1369b8d59bb4f4cf2da4fedde105d2">move_to_high_fd</a> (0, 1, -1) : -1;</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;      <span class="keywordflow">if</span> (lstdin &gt; 0 || lstdin == -1)</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    {</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac019991c9bd079990f1f720d21dabe7b">do_piping</a> (prev, pipe_out);</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;      prev = <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>;</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a2e248a2e5214a944f7df71f6e1389180">restore_stdin</a>, lstdin);</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;      lastpipe_flag = 1;</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;      old_frozen = <a class="code" href="../../df/d8e/jobs_8c.html#ac04bd8c6bbeec0e7e6f542d3a8a9f09f">freeze_jobs_list</a> ();</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;      lastpipe_jid = <a class="code" href="../../df/d8e/jobs_8c.html#ad569e95d0123bab22a08e7d38a3a06e1">stop_pipeline</a> (0, (<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);    <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a857fe5d256aa1929b79deaedcb876a3a">lastpipe_cleanup</a>, old_frozen);</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;      <a class="code" href="../../de/d62/sig_8h.html#aa9262558d91ca8060065606f36167783">UNBLOCK_CHILD</a> (oset);     <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    }</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>)</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#a329fad0b9806a27d1fe3568547f92180">CMD_LASTPIPE</a>;</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    }     </div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  <span class="keywordflow">if</span> (prev &gt;= 0)</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>, prev);</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160; </div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, asynchronous, prev, pipe_out, fds_to_close);</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160; </div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  <span class="keywordflow">if</span> (prev &gt;= 0)</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (prev);</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160; </div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  <span class="keywordflow">if</span> (lstdin &gt; 0 || lstdin == -1)</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2e248a2e5214a944f7df71f6e1389180">restore_stdin</a> (lstdin);</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160; </div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;  <a class="code" href="../../de/d62/sig_8h.html#aa9262558d91ca8060065606f36167783">UNBLOCK_CHILD</a> (oset);</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160; </div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160; </div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;  <span class="keywordflow">if</span> (lastpipe_flag)</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    {</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d3a/jobs_8h.html#adf1796b65bab65f7837caaea01cbdf93">INVALID_JOB</a> (lastpipe_jid) == 0)</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;        {</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;          <a class="code" href="../../df/d8e/jobs_8c.html#a00c2a1d6f9dcaf3f68f9f66726827b7f">append_process</a> (<a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a>), <a class="code" href="../../d6/ddd/push_8c.html#af903bd1cfd621898390238943eedfd15">dollar_dollar_pid</a>, exec_result, lastpipe_jid);</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;          lstdin = <a class="code" href="../../df/d8e/jobs_8c.html#aa16d61880057512c4b0d5e127d4cd6bb">wait_for</a> (lastpid, 0);</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;        }</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    {</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;      lstdin = <a class="code" href="../../df/d8e/jobs_8c.html#a637f8e438a0ea8c409d891cb8ccb523e">wait_for_single_pid</a> (lastpid, 0);        <span class="comment">/* checks bgpids list */</span></div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;      <span class="keywordflow">if</span> (lstdin &gt; 256)     <span class="comment">/* error sentinel */</span></div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;        lstdin = 127;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    }</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;      lstdin = <a class="code" href="../../df/d8e/jobs_8c.html#aa16d61880057512c4b0d5e127d4cd6bb">wait_for</a> (lastpid, 0);</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160; </div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;      <span class="comment">/* If wait_for removes the job from the jobs table, use result of last</span></div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;<span class="comment">     command as pipeline&#39;s exit status as usual.  The jobs list can get</span></div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;<span class="comment">     frozen and unfrozen at inconvenient times if there are multiple pipelines</span></div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;<span class="comment">     running simultaneously. */</span></div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d3a/jobs_8h.html#adf1796b65bab65f7837caaea01cbdf93">INVALID_JOB</a> (lastpipe_jid) == 0)</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    exec_result = <a class="code" href="../../df/d8e/jobs_8c.html#a997643f3b98ece63e0acd25b30a1b93e">job_exit_status</a> (lastpipe_jid);</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#a804cc7b0a138e884ca1ff6e8b13ac8e1">pipefail_opt</a>)</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    exec_result = exec_result | lstdin; <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      <span class="comment">/* otherwise we use exec_result */</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160; </div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;      <a class="code" href="../../df/d8e/jobs_8c.html#a9c5a796b3c5e2ddcc0ea88c494e324ea">set_jobs_list_frozen</a> (old_frozen);</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    }</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160; </div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;lastpipe-exec&quot;</span>);</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160; </div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  <span class="keywordflow">return</span> (exec_result);</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;}</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160; </div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l02689"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aee632ef152670f7b54750371e4a131aa"> 2689</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#aee632ef152670f7b54750371e4a131aa">execute_connection</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, asynchronous, pipe_in, pipe_out, fds_to_close)</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;     <a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;     <span class="keywordtype">int</span> asynchronous, pipe_in, pipe_out;</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fds_to_close;</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;{</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  <a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *<a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>, *second;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;  <span class="keywordtype">int</span> ignore_return, exec_result, was_error_trap, invert;</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;  <span class="keyword">volatile</span> <span class="keywordtype">int</span> save_line_number;</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160; </div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;  ignore_return = (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>) != 0;</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160; </div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;connector)</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    {</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    <span class="comment">/* Do the first command asynchronously. */</span></div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;&amp;&#39;</span>:</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;      <a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a> = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;first;</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a> == 0)</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160; </div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;      <span class="keywordflow">if</span> (ignore_return)</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    <a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;      <a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#a84143f106fb0e7e4470389a550d8eff3">CMD_AMPERSAND</a>;</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160; </div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      <span class="comment">/* If this shell was compiled without job control support,</span></div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;<span class="comment">     if we are currently in a subshell via `( xxx )&#39;, or if job</span></div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;<span class="comment">     control is not active then the standard input for an</span></div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;<span class="comment">     asynchronous command is forced to /dev/null. */</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> || !<a class="code" href="../../df/d8e/jobs_8c.html#a3002cbcd4a652dec2c5cef5ff3da446f">job_control</a>) &amp;&amp; !<a class="code" href="../../de/d3d/execute__cmd_8c.html#adbcf768dde8fc18d3e314d07adcdb537">stdin_redir</a>)</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;#<span class="keywordflow">else</span></div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../de/d3d/execute__cmd_8c.html#adbcf768dde8fc18d3e314d07adcdb537">stdin_redir</a>)</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JOB_CONTROL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#a8df5f451751609f16a376892ad22d746">CMD_STDIN_REDIR</a>;</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160; </div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>, 1, pipe_in, pipe_out, fds_to_close);</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160; </div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>-&gt;flags &amp; <a class="code" href="../../d0/d09/command_8h.html#a8df5f451751609f16a376892ad22d746">CMD_STDIN_REDIR</a>)</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    <a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>-&gt;flags &amp;= ~<a class="code" href="../../d0/d09/command_8h.html#a8df5f451751609f16a376892ad22d746">CMD_STDIN_REDIR</a>;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160; </div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;      second = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;second;</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;      <span class="keywordflow">if</span> (second)</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    {</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;      <span class="keywordflow">if</span> (ignore_return)</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;        second-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160; </div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (second, asynchronous, pipe_in, pipe_out, fds_to_close);</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    }</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160; </div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160; </div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    <span class="comment">/* Just call execute command on both sides. */</span></div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;;&#39;</span>:</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:      <span class="comment">/* special case, happens in command substitutions */</span></div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;      <span class="keywordflow">if</span> (ignore_return)</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    {</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;first)</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;        <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;first-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;second)</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;        <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;second-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    }</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2cb744acc87fb33a861757a23f06535f">executing_list</a>++;</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160; </div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;<span class="preprocessor">#if 1</span></div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;first);</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;first,</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;                  asynchronous, pipe_in, pipe_out,</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;                  fds_to_close);</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160; </div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;      <a class="code" href="../../df/da3/evalstring_8c.html#a9a73c165d4c6fa52d787b73f0f1f5e17">optimize_connection_fork</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);           <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;second,</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;                      asynchronous, pipe_in, pipe_out,</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;                      fds_to_close);</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2cb744acc87fb33a861757a23f06535f">executing_list</a>--;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160; </div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;|&#39;</span>:</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;      was_error_trap = <a class="code" href="../../d5/da5/zread_8c.html#a40264baa053bf7ccf2ef5ca345d6c06d">signal_is_trapped</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>) &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a94ef9371ba9dab4c56033f7acd7077e8">signal_is_ignored</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>) == 0;</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;      invert = (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a580b06894a4aec29dcbcd920f8b65bd9">CMD_INVERT_RETURN</a>) != 0;</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;      ignore_return = (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>) != 0;</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160; </div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2fd63bb00d85a53a0a326a56ad4fe3dc">SET_LINE_NUMBER</a> (<a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>);    <span class="comment">/* XXX - save value? */</span></div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a094e75199b514c6b0304f951c0bbfff2">execute_pipeline</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, asynchronous, pipe_in, pipe_out, fds_to_close);</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160; </div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;      <span class="keywordflow">if</span> (asynchronous)</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    {</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;      exec_result = <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;      invert = 0;</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    }</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160; </div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;      <span class="keywordflow">if</span> (was_error_trap &amp;&amp; ignore_return == 0 &amp;&amp; invert == 0 &amp;&amp; exec_result != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    {</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = exec_result;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;      save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac29b5ce6cbc8a6038ebb54d18eb18a50">line_number_for_err_trap</a>;</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#aa2883c7f85b16bd276c8552803b36cd4">run_error_trap</a> ();</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    }</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160; </div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;      <span class="keywordflow">if</span> (ignore_return == 0 &amp;&amp; invert == 0 &amp;&amp; <a class="code" href="../../d8/d70/flags_8c.html#ac3023292582a7e39e70495e655c8b926">exit_immediately_on_error</a> &amp;&amp; exec_result != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;    {</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = exec_result;</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#abe331a35aaca19e5cb592bb962890314">run_pending_traps</a> ();</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#ad4c19ce20bb4767ed705b1e79a72a30e">ERREXIT</a>);</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    }</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160; </div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160; </div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d5/def/y_8tab_8c.html#a301af888f01577afa73c0a888746e02b">AND_AND</a>:</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d5/def/y_8tab_8c.html#a6d1ae08eabd176f09becc3e51ef3aed1">OR_OR</a>:</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;      <span class="keywordflow">if</span> (asynchronous)</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    {</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;      <span class="comment">/* If we have something like `a &amp;&amp; b &amp;&#39; or `a || b &amp;&#39;, run the</span></div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;<span class="comment">         &amp;&amp; or || stuff in a subshell.  Force a subshell and just call</span></div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;<span class="comment">         execute_command_internal again.  Leave asynchronous on</span></div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;<span class="comment">         so that we get a report from the parent shell about the</span></div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;<span class="comment">         background job. */</span></div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;      <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#ac81077f23150b67ec83919478361f017">CMD_FORCE_SUBSHELL</a>;</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, 1, pipe_in, pipe_out, fds_to_close);</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    }</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160; </div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;      <span class="comment">/* Execute the first command.  If the result of that is successful</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;<span class="comment">     and the connector is AND_AND, or the result is not successful</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;<span class="comment">     and the connector is OR_OR, then execute the second command,</span></div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;<span class="comment">     otherwise return. */</span></div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160; </div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2cb744acc87fb33a861757a23f06535f">executing_list</a>++;</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;first)</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;first-&gt;<a class="code" href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160; </div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;<span class="preprocessor">#if 1</span></div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;first);</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;first, 0, <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>, <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>, fds_to_close);</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;      <span class="keywordflow">if</span> (((<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;connector == <a class="code" href="../../d5/def/y_8tab_8c.html#a301af888f01577afa73c0a888746e02b">AND_AND</a>) &amp;&amp;</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;       (exec_result == <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)) ||</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;      ((<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;connector == <a class="code" href="../../d5/def/y_8tab_8c.html#a6d1ae08eabd176f09becc3e51ef3aed1">OR_OR</a>) &amp;&amp;</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;       (exec_result != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)))</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    {</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;      <a class="code" href="../../df/da3/evalstring_8c.html#a9a73c165d4c6fa52d787b73f0f1f5e17">optimize_connection_fork</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160; </div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;      second = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;second;</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;      <span class="keywordflow">if</span> (ignore_return &amp;&amp; second)</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;        second-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160; </div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;      exec_result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (second);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    }</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2cb744acc87fb33a861757a23f06535f">executing_list</a>--;</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160; </div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;      <a class="code" href="../../db/dcc/error_8c.html#a4e69efbf913fafcef50983aa55cf6559">command_error</a> (<span class="stringliteral">&quot;execute_connection&quot;</span>, <a class="code" href="../../d0/d09/command_8h.html#aaba18b62fee2388c8159048f35233147">CMDERR_BADCONN</a>, <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">value</a>.Connection-&gt;connector, 0);</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#adbaca35440ef5d1abf8a0084bf382b8b">DISCARD</a>);</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;      exec_result = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    }</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160; </div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  <span class="keywordflow">return</span> exec_result;</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;}</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160; </div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;<span class="comment">/* The test used to be only for interactive_shell, but we don&#39;t want to report</span></div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;<span class="comment">   job status when the shell is not interactive or when job control isn&#39;t</span></div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;<span class="comment">   enabled. */</span></div>
<div class="line"><a name="l02858"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ae45a8e69a3aecf54e8b3d0891e7d75f7"> 2858</a></span>&#160;<span class="preprocessor">#define REAP() \</span></div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;<span class="preprocessor">  do \</span></div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;<span class="preprocessor">    { \</span></div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;<span class="preprocessor">      if (job_control == 0 || interactive_shell == 0) \</span></div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;<span class="preprocessor">    reap_dead_jobs (); \</span></div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;<span class="preprocessor">    } \</span></div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;<span class="preprocessor">  while (0)</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160; </div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;<span class="comment">/* Execute a FOR command.  The syntax is: FOR word_desc IN word_list;</span></div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;<span class="comment">   DO command; DONE */</span></div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l02869"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a1ea07c2656f94637a84ca553f3c72d59"> 2869</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a1ea07c2656f94637a84ca553f3c72d59">execute_for_command</a> (for_command)</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#d4/d1a/structfor__com">FOR_COM</a> *for_command;</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;{</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;  <span class="keyword">register</span> <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *releaser, *<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>;</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *v;</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  <span class="keywordtype">char</span> *identifier;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>, save_line_number;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *old_value = (<a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">/* Remember the old value of x. */</span></div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160; </div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;  save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dca/general_8c.html#a2d8b1ad469d271ae155d0c8b065a1118">check_identifier</a> (for_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a954d92414437178eb2545211a43291db">name</a>, 1) == 0)</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    {</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a> &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> == 0)</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    {</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = <a class="code" href="../../df/d03/shell_8h.html#a581055db933838f9b6bcc2cff3450345">EX_BADUSAGE</a>;</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#ad4c19ce20bb4767ed705b1e79a72a30e">ERREXIT</a>);</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    }</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    }</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160; </div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a>++;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  identifier = for_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a954d92414437178eb2545211a43291db">name</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>;</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160; </div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = for_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a268cba692dd4b85d33586df8286dcc6e">line</a>;  <span class="comment">/* for expansion error messages */</span></div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a> = releaser = <a class="code" href="../../d1/d93/subst_8c.html#a130210486b483534f59be0918b3e5d30">expand_words_no_vars</a> (for_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae9bc74158b6735a789842cbba12dea60">map_list</a>);</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160; </div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;for&quot;</span>);</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a>, releaser);</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160; </div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;  <span class="keywordflow">if</span> (lexical_scoping)</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    {</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;      old_value = copy_variable (<a class="code" href="../../d5/de8/variables_8c.html#aba8df3eeae83c8b121cc29a8984dfcdc">find_variable</a> (identifier));</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;      <span class="keywordflow">if</span> (old_value)</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../d5/de8/variables_8c.html#a71ef1e64411b94bbcc6282bd03ff5431">dispose_variable</a>, old_value);</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    }</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160; </div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;  <span class="keywordflow">if</span> (for_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#add9efd6ed9e84a42922fc7c6b273e3b9">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>)</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    for_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a8f50a2c1bfc84c589ce327839c5e4805">action</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160; </div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>; <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>; <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aa3e8aa83f864292b5a01210f4453fcc0">next</a>)</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;    {</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160; </div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = for_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a268cba692dd4b85d33586df8286dcc6e">line</a>;</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160; </div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;      <span class="comment">/* Remember what this command looks like, for debugger. */</span></div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8ae2084fe2fa2b0677f27fd23b86a423">command_string_index</a> = 0;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;      <a class="code" href="../../d6/dd8/print__cmd_8c.html#a8ea4eefab82712152609c76e7bb91c32">print_for_command_head</a> (for_command);</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160; </div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#a436283e4e22f5eabe0706666ddeee5c5">echo_command_at_execute</a>)</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    <a class="code" href="../../d6/dd8/print__cmd_8c.html#ae6b7b509c40ee2a915e3f00ad2624efd">xtrace_print_for_command_head</a> (for_command);</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160; </div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;      <span class="comment">/* Save this command unless it&#39;s a trap command and we&#39;re not running</span></div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;<span class="comment">     a debug trap. */</span></div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>) == 0 &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> == 0)</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;    {</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a>);</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a65d53dc7e574c97d7ab5e3fb379e0ec5">the_printed_command</a>);</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    }</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160; </div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;      <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../dc/d6f/trap_8c.html#afb3fc32343f5cb0e5fc204874ce470f1">run_debug_trap</a> ();</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;<span class="preprocessor">#if defined (DEBUGGER)</span></div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;      <span class="comment">/* In debugging mode, if the DEBUG trap returns a non-zero status, we</span></div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;<span class="comment">     skip the command. */</span></div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae85600df6e3b2823d986bd95288b7237">debugging_mode</a> &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160; </div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;      <span class="comment">/* XXX - special ksh93 for command index variable handling */</span></div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;      v = <a class="code" href="../../d5/de8/variables_8c.html#a28be30e675dc6d3ed7f0d4e7efe7cdc3">find_variable_last_nameref</a> (identifier, 1);</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;      <span class="keywordflow">if</span> (v &amp;&amp; <a class="code" href="../../de/dca/variables_8h.html#a43b89ff0092985bf3e78fc705a3d25e0">nameref_p</a> (v))</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    {</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/dca/general_8c.html#a1fc62854f5e53e63b92e72acb847d088">valid_nameref_value</a> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>-&gt;word-&gt;word, 1) == 0)</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;        {</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;          <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a2ba6c3838c386c89778f05b450a98a94">sh_invalidid</a> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>-&gt;word-&gt;word);</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;          v = 0;</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;        }</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../de/dca/variables_8h.html#aa045ef001ee868166626ab099a7944c7">readonly_p</a> (v))</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;        <a class="code" href="../../db/dcc/error_8c.html#ae49eda7258a16e84193cb09241e06816">err_readonly</a> (<a class="code" href="../../de/dca/variables_8h.html#ad658a840ba435a20c57ea843ca2853d6">name_cell</a> (v));</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;        v = <a class="code" href="../../d5/de8/variables_8c.html#a25bf35a75033fb9292aacc210e81a1f6">bind_variable_value</a> (v, <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>-&gt;word-&gt;word, <a class="code" href="../../d7/d72/subst_8h.html#a44d3ce43908d48fe708ab123b9e09f23">ASS_NAMEREF</a>);</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    }</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    v = <a class="code" href="../../d5/de8/variables_8c.html#a713284c5f480f3e48319c5cb6323926f">bind_variable</a> (identifier, <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>-&gt;word-&gt;word, 0);</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160; </div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;      <span class="keywordflow">if</span> (v == 0 || <a class="code" href="../../de/dca/variables_8h.html#aa045ef001ee868166626ab099a7944c7">readonly_p</a> (v) || <a class="code" href="../../de/dca/variables_8h.html#ac35afb1d87d3eb932fc0e1a31e993c3e">noassign_p</a> (v))</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;    {</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;      <span class="keywordflow">if</span> (v &amp;&amp; <a class="code" href="../../de/dca/variables_8h.html#aa045ef001ee868166626ab099a7944c7">readonly_p</a> (v) &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> == 0 &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a>)</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;        {</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;          <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;          <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#a8bef93d1daf140c7adaa29304f5b8e49">FORCE_EOF</a>);</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;        }</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;        {</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;          <a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a> (releaser);</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;          <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;for&quot;</span>);</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;          <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a>--;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;          <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;        }</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;    }</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160; </div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/dca/variables_8h.html#aa5fd1bcc6abd0de8169b028199a37569">ifsname</a> (identifier))</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    <a class="code" href="../../d1/d93/subst_8c.html#aa65d5caeaea1a9f10c780cb70681983c">setifs</a> (v);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    <a class="code" href="../../d5/de8/variables_8c.html#a513b24f1ec6fa6be96bf74288d604b72">stupidly_hack_special_variables</a> (identifier);</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160; </div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;      <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (for_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a8f50a2c1bfc84c589ce327839c5e4805">action</a>);</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ae45a8e69a3aecf54e8b3d0891e7d75f7">REAP</a> ();</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160; </div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a>)</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;    {</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;      <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a>--;</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    }</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160; </div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>)</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;    {</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;      <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>--;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>)</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    }</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    }</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160; </div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;  <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a>--;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;  <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160; </div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;  <span class="keywordflow">if</span> (lexical_scoping)</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    {</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;      <span class="keywordflow">if</span> (!old_value)</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;        <a class="code" href="../../d5/de8/variables_8c.html#a05dbab28287bfffae1f681dbd2ae65ab">unbind_variable</a> (identifier);</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;    {</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;      <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *new_value;</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160; </div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;      new_value = <a class="code" href="../../d5/de8/variables_8c.html#a713284c5f480f3e48319c5cb6323926f">bind_variable</a> (identifier, <a class="code" href="../../de/dca/variables_8h.html#aee55709a40037e5f4ec6ecef8fb8fb7b">value_cell</a> (old_value), 0);</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;      new_value-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a32a92c8a80f38048bb2ef8ac0ca2287b">attributes</a> = old_value-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a32a92c8a80f38048bb2ef8ac0ca2287b">attributes</a>;</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;      <a class="code" href="../../d5/de8/variables_8c.html#a71ef1e64411b94bbcc6282bd03ff5431">dispose_variable</a> (old_value);</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;    }</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;    }</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160; </div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;  <a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a> (releaser);</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;for&quot;</span>);</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>);</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;}</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160; </div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;<span class="preprocessor">#if defined (ARITH_FOR_COMMAND)</span></div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;<span class="comment">/* Execute an arithmetic for command.  The syntax is</span></div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;<span class="comment">    for (( init ; step ; test ))</span></div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;<span class="comment">    do</span></div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;<span class="comment">        body</span></div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;<span class="comment">    done</span></div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;<span class="comment">   The execution should be exactly equivalent to</span></div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;<span class="comment">    eval \&zwj;(\&zwj;( init \&zwj;)\&zwj;)</span></div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;<span class="comment">    while eval \&zwj;(\&zwj;( test \&zwj;)\&zwj;) ; do</span></div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;<span class="comment">        body;</span></div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;<span class="comment">        eval \&zwj;(\&zwj;( step \&zwj;)\&zwj;)</span></div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;<span class="comment">    done</span></div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#ae26fa513a7dfed63221f72d93de2a021">intmax_t</a></div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;eval_arith_for_expr (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>, okp)</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>;</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;     <span class="keywordtype">int</span> *okp;</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;{</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *<span class="keyword">new</span>;</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;  <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#ae26fa513a7dfed63221f72d93de2a021">intmax_t</a> expresult;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;  <span class="keywordtype">int</span> r, <a class="code" href="../../d1/dbe/ash_8c.html#a1fa73ad20e7650d162437b665c5aa22b">eflag</a>;</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="../../d9/dd0/bash_2test_8c.html#afe50dfaccb7a06efec0dcef7519e8ed7">expr</a>, *temp;</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160; </div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  <a class="code" href="../../d4/d78/expr_8h.html#dd/d8e/structexpr">expr</a> = <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;next ? <a class="code" href="../../d1/d93/subst_8c.html#a482b1d3c9d0dd9e98ce8decab2e26f5a">string_list</a> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>) : <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;word-&gt;word;</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;  temp = <a class="code" href="../../d1/d93/subst_8c.html#a0e8088ce3cf7d024b3f111d3c0ef943b">expand_arith_string</a> (<a class="code" href="../../d4/d78/expr_8h.html#dd/d8e/structexpr">expr</a>, <a class="code" href="../../d7/d72/subst_8h.html#a2c84cd503baac29b30634633e1f65e7b">Q_DOUBLE_QUOTES</a>|<a class="code" href="../../d7/d72/subst_8h.html#af9d8627baf4e4dffb49a5cb6143ca289">Q_ARITH</a>);</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;next)</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../d4/d78/expr_8h.html#dd/d8e/structexpr">expr</a>);</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;  <span class="keyword">new</span> = <a class="code" href="../../d4/d97/make__cmd_8c.html#aa707cc6dc36f4646bd1b0c25d3082d9c">make_word_list</a> (<a class="code" href="../../d4/d97/make__cmd_8c.html#a1bf353c818fefb707867a3142c70f21f">make_word</a> (temp), (<a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (temp);</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160; </div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">new</span>)</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    {</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#a436283e4e22f5eabe0706666ddeee5c5">echo_command_at_execute</a>)</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;    xtrace_print_arith_cmd (<span class="keyword">new</span>);</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160; </div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8ae2084fe2fa2b0677f27fd23b86a423">command_string_index</a> = 0;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;      print_arith_command (<span class="keyword">new</span>);</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>) == 0 &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> == 0)</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    {</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a>);</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a65d53dc7e574c97d7ab5e3fb379e0ec5">the_printed_command</a>);</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    }</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160; </div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;      r = <a class="code" href="../../dc/d6f/trap_8c.html#afb3fc32343f5cb0e5fc204874ce470f1">run_debug_trap</a> ();</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;      <span class="comment">/* In debugging mode, if the DEBUG trap returns a non-zero status, we</span></div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;<span class="comment">     skip the command. */</span></div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;      <a class="code" href="../../d1/dbe/ash_8c.html#a1fa73ad20e7650d162437b665c5aa22b">eflag</a> = (<a class="code" href="../../df/d03/shell_8h.html#a5474d60edee7e82e47b35345fa4e8ca2">shell_compatibility_level</a> &gt; 51) ? 0 : <a class="code" href="../../d2/df2/externs_8h.html#a93cf605f8aa689490ffadf8974f8e815">EXP_EXPANDED</a>;</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> = <span class="stringliteral">&quot;((&quot;</span>;     <span class="comment">/* )) for expression error messages */</span></div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;      </div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;<span class="preprocessor">#if defined (DEBUGGER)</span></div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae85600df6e3b2823d986bd95288b7237">debugging_mode</a> == 0 || r == <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    expresult = <a class="code" href="../../d4/dc4/bash_2expr_8c.html#ab9b32ed3c0339ae19b5e1e625add9ad9">evalexp</a> (new-&gt;word-&gt;word, <a class="code" href="../../d1/dbe/ash_8c.html#a1fa73ad20e7650d162437b665c5aa22b">eflag</a>, okp);</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    {</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;      expresult = 0;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;      <span class="keywordflow">if</span> (okp)</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;        *okp = 1;</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    }</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;      expresult = <a class="code" href="../../d4/dc4/bash_2expr_8c.html#ab9b32ed3c0339ae19b5e1e625add9ad9">evalexp</a> (new-&gt;word-&gt;word, <a class="code" href="../../d1/dbe/ash_8c.html#a1fa73ad20e7650d162437b665c5aa22b">eflag</a>, okp);</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;      <a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a> (<span class="keyword">new</span>);</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    }</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    {</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;      expresult = 0;</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;      <span class="keywordflow">if</span> (okp)</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    *okp = 1;</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    }</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;  <span class="keywordflow">return</span> (expresult);</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;}</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160; </div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;execute_arith_for_command (arith_for_command)</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;     ARITH_FOR_COM *arith_for_command;</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;{</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;  <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#ae26fa513a7dfed63221f72d93de2a021">intmax_t</a> expresult;</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;  <span class="keywordtype">int</span> expok, body_status, arith_lineno, save_lineno;</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160; </div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;  body_status = <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a>++;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;  save_lineno = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160; </div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;  <span class="keywordflow">if</span> (arith_for_command-&gt;flags &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>)</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    arith_for_command-&gt;action-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160; </div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> = <span class="stringliteral">&quot;((&quot;</span>; <span class="comment">/* )) for expression error messages */</span></div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160; </div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;  <span class="comment">/* save the starting line number of the command so we can reset</span></div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;<span class="comment">     line_number before executing each expression -- for $LINENO</span></div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;<span class="comment">     and the DEBUG trap. */</span></div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;  <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = arith_lineno = arith_for_command-&gt;line;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a> &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> &amp;&amp; <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1abc92fadae94b5897f4f0144da01eb9">sourcelevel</a> == 0)</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    {</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;      <span class="comment">/* line numbers in a function start at 1 */</span></div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> -= <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab44ee516a50d5f65c135f861c60f2418">function_line_number</a> - 1;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> &lt;= 0)</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = 1;</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    }</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160; </div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;  <span class="comment">/* Evaluate the initialization expression. */</span></div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;  expresult = eval_arith_for_expr (arith_for_command-&gt;init, &amp;expok);</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;  <span class="keywordflow">if</span> (expok == 0)</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    {</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_lineno;</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    }</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160; </div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;  <span class="keywordflow">while</span> (1)</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    {</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;      <span class="comment">/* Evaluate the test expression. */</span></div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = arith_lineno;</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;      expresult = eval_arith_for_expr (arith_for_command-&gt;test, &amp;expok);</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_lineno;</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160; </div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;      <span class="keywordflow">if</span> (expok == 0)</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    {</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;      body_status = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    }</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ae45a8e69a3aecf54e8b3d0891e7d75f7">REAP</a> ();</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;      <span class="keywordflow">if</span> (expresult == 0)</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160; </div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;      <span class="comment">/* Execute the body of the arithmetic for command. */</span></div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;      body_status = <a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (arith_for_command-&gt;action);</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160; </div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;      <span class="comment">/* Handle any `break&#39; or `continue&#39; commands executed by the body. */</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a>)</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;    {</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;      <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a>--;</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    }</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160; </div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>)</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;    {</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;      <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>--;</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>)</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;    }</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160; </div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;      <span class="comment">/* Evaluate the step expression. */</span></div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = arith_lineno;</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;      expresult = eval_arith_for_expr (arith_for_command-&gt;step, &amp;expok);</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_lineno;</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160; </div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;      <span class="keywordflow">if</span> (expok == 0)</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    {</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;      body_status = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    }</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    }</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160; </div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;  <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a>--;</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;  <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_lineno;</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160; </div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;  <span class="keywordflow">return</span> (body_status);</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;}</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160; </div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;<span class="preprocessor">#if defined (SELECT_COMMAND)</span></div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> LINES, COLS, tabsize;</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160; </div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;<span class="preprocessor">#define RP_SPACE &quot;) &quot;</span></div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;<span class="preprocessor">#define RP_SPACE_LEN 2</span></div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160; </div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;<span class="comment">/* XXX - does not handle numbers &gt; 1000000 at all. */</span></div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;<span class="preprocessor">#define NUMBER_LEN(s) \</span></div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;<span class="preprocessor">((s &lt; 10) ? 1 \</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;<span class="preprocessor">      : ((s &lt; 100) ? 2 \</span></div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;<span class="preprocessor">              : ((s &lt; 1000) ? 3 \</span></div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;<span class="preprocessor">                   : ((s &lt; 10000) ? 4 \</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;<span class="preprocessor">                         : ((s &lt; 100000) ? 5 \</span></div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;<span class="preprocessor">                                : 6)))))</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160; </div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;displen (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;{</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;<span class="preprocessor">#if defined (HANDLE_MULTIBYTE)</span></div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;  <span class="keywordtype">wchar_t</span> *wcstr;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;  <span class="keywordtype">size_t</span> slen;</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;  <span class="keywordtype">int</span> wclen;</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160; </div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;  wcstr = 0;</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;  slen = <a class="code" href="../../d9/dad/busybox_2libbb_2unicode_8c.html#ab798d3f35a4453f03bb1b34662f5bf30">mbstowcs</a> (wcstr, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, 0);</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;  <span class="keywordflow">if</span> (slen == -1)</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;    slen = 0;</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;  wcstr = (<span class="keywordtype">wchar_t</span> *)<a class="code" href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a> (<span class="keyword">sizeof</span> (<span class="keywordtype">wchar_t</span>) * (slen + 1));</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;  <a class="code" href="../../d9/dad/busybox_2libbb_2unicode_8c.html#ab798d3f35a4453f03bb1b34662f5bf30">mbstowcs</a> (wcstr, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, slen + 1);</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;  wclen = <a class="code" href="../../d4/dd9/musl_2src_2ctype_2wcswidth_8c.html#acab1cf5071f9ae3199a5d0feb14db3e1">wcswidth</a> (wcstr, slen);</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (wcstr);</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;  <span class="keywordflow">return</span> (wclen &lt; 0 ? <a class="code" href="../../d9/d14/general_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) : wclen);</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../d9/d14/general_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>));</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;}</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160; </div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;print_index_and_element (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, ind, <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>)</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, ind;</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;      <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>;</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;{</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;  <span class="keyword">register</span> <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>;</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;  <span class="keyword">register</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160; </div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a> == 0)</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    <span class="keywordflow">return</span> (0);</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = ind, <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>; <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> &amp;&amp; --<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>; <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;next)</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;    ;</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> == 0)       <span class="comment">/* don&#39;t think this can happen */</span></div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;    <span class="keywordflow">return</span> (0);</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;  <a class="code" href="../../d1/d6d/kernel__config_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;%*d%s%s&quot;</span>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, ind, RP_SPACE, <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;word-&gt;word);</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;  <span class="keywordflow">return</span> (displen (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;word-&gt;word));</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;}</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160; </div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;<a class="code" href="../../d6/d90/hush_8c.html#a63573b8e4d6bd1efc2657355a72c032e">indent</a> (from, to)</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;     <span class="keywordtype">int</span> from, to;</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;{</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;  <span class="keywordflow">while</span> (from &lt; to)</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    {</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;      <span class="keywordflow">if</span> ((to / tabsize) &gt; (from / tabsize))</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;    {</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;      <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a> (<span class="charliteral">&#39;\t&#39;</span>, <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>);</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;      from += tabsize - from % tabsize;</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;    }</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;    {</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;      <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a> (<span class="charliteral">&#39; &#39;</span>, <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>);</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;      from++;</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;    }</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    }</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;}</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160; </div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;print_select_list (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>, list_len, max_elem_len, indices_len)</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>;</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;     <span class="keywordtype">int</span> list_len, max_elem_len, indices_len;</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;{</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;  <span class="keywordtype">int</span> ind, row, elem_len, <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a>, <a class="code" href="../../d0/d43/mconf_8c.html#a4407a60bc4387adae24cee658711f2d9">cols</a>, <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a>;</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;  <span class="keywordtype">int</span> first_column_indices_len, other_indices_len;</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160; </div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a> == 0)</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;    {</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;      <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a> (<span class="charliteral">&#39;\n&#39;</span>, <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>);</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;    }</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160; </div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;  <a class="code" href="../../d0/d43/mconf_8c.html#a4407a60bc4387adae24cee658711f2d9">cols</a> = max_elem_len ? COLS / max_elem_len : 1;</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/d43/mconf_8c.html#a4407a60bc4387adae24cee658711f2d9">cols</a> == 0)</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;    <a class="code" href="../../d0/d43/mconf_8c.html#a4407a60bc4387adae24cee658711f2d9">cols</a> = 1;</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;  <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> = list_len ? list_len / <a class="code" href="../../d0/d43/mconf_8c.html#a4407a60bc4387adae24cee658711f2d9">cols</a> + (list_len % <a class="code" href="../../d0/d43/mconf_8c.html#a4407a60bc4387adae24cee658711f2d9">cols</a> != 0) : 1;</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;  <a class="code" href="../../d0/d43/mconf_8c.html#a4407a60bc4387adae24cee658711f2d9">cols</a> = list_len ? list_len / <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> + (list_len % <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> != 0) : 1;</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160; </div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> == 1)</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    {</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;      <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> = <a class="code" href="../../d0/d43/mconf_8c.html#a4407a60bc4387adae24cee658711f2d9">cols</a>;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;      <a class="code" href="../../d0/d43/mconf_8c.html#a4407a60bc4387adae24cee658711f2d9">cols</a> = 1;</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;    }</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160; </div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;  first_column_indices_len = NUMBER_LEN (<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a>);</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;  other_indices_len = indices_len;</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160; </div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;  <span class="keywordflow">for</span> (row = 0; row &lt; <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a>; row++)</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    {</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;      ind = row;</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;      <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> = 0;</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;      <span class="keywordflow">while</span> (1)</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    {</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;      indices_len = (<a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> == 0) ? first_column_indices_len : other_indices_len;</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;      elem_len = print_index_and_element (indices_len, ind + 1, <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>);</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;      elem_len += indices_len + RP_SPACE_LEN;</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;      ind += <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a>;</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;      <span class="keywordflow">if</span> (ind &gt;= list_len)</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;      <a class="code" href="../../d6/d90/hush_8c.html#a63573b8e4d6bd1efc2657355a72c032e">indent</a> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> + elem_len, <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> + max_elem_len);</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;      <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> += max_elem_len;</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    }</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;      <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a> (<span class="charliteral">&#39;\n&#39;</span>, <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>);</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    }</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;}</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160; </div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;<span class="comment">/* Print the elements of LIST, one per line, preceded by an index from 1 to</span></div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;<span class="comment">   LIST_LEN.  Then display PROMPT and wait for the user to enter a number.</span></div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;<span class="comment">   If the number is between 1 and LIST_LEN, return that selection.  If EOF</span></div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;<span class="comment">   is read, return a null string.  If a blank line is entered, or an invalid</span></div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;<span class="comment">   number is entered, the loop is executed again. */</span></div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;select_query (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>, list_len, <a class="code" href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a>, print_menu)</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;     <span class="keywordtype">int</span> list_len;</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;     <span class="keywordtype">char</span> *<a class="code" href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a>;</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;     <span class="keywordtype">int</span> print_menu;</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;{</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;  <span class="keywordtype">int</span> max_elem_len, indices_len, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, r, oe;</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;  <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#ae26fa513a7dfed63221f72d93de2a021">intmax_t</a> reply;</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>;</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;  <span class="keywordtype">char</span> *repl_string, *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160; </div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;  COLS = <a class="code" href="../../d1/dca/general_8c.html#a5b8321688606303e1b2215d4e5bd9b97">default_columns</a> ();</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160; </div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;  <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d5/de8/variables_8c.html#ad4773a87954c85e830411739af9bf4ff">get_string_value</a> (<span class="stringliteral">&quot;TABSIZE&quot;</span>);</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;  tabsize = (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> &amp;&amp; *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>) ? <a class="code" href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>) : 8;</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;  <span class="keywordflow">if</span> (tabsize &lt;= 0)</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    tabsize = 8;</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;  tabsize = 8;</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160; </div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;  max_elem_len = 0;</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>; <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>; <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;next)</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    {</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;      <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = displen (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;word-&gt;word);</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &gt; max_elem_len)</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    max_elem_len = <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;    }</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;  indices_len = NUMBER_LEN (list_len);</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  max_elem_len += indices_len + RP_SPACE_LEN + 2;</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160; </div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;  <span class="keywordflow">while</span> (1)</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;    {</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;      <span class="keywordflow">if</span> (print_menu)</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    print_select_list (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>, list_len, max_elem_len, indices_len);</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;      <a class="code" href="../../d1/d6d/kernel__config_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a>);</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;      <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#adb974f28765a31026ee6bf71d5175951">fflush</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>);</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160; </div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;      oe = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a45e5b34044beedf4b9dbbcca9d3021e1">executing_builtin</a>;</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a45e5b34044beedf4b9dbbcca9d3021e1">executing_builtin</a> = 1;</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;      r = read_builtin ((<a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a45e5b34044beedf4b9dbbcca9d3021e1">executing_builtin</a> = oe;</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;      <span class="keywordflow">if</span> (r != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;    {</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;      <a class="code" href="../../d7/dd7/libbb_8h.html#a568f021a83b2c22e1e700d12559d660a">putchar</a> (<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;      <span class="keywordflow">return</span> ((<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;    }</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;      repl_string = <a class="code" href="../../d5/de8/variables_8c.html#ad4773a87954c85e830411739af9bf4ff">get_string_value</a> (<span class="stringliteral">&quot;REPLY&quot;</span>);</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;      <span class="keywordflow">if</span> (repl_string == 0)</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;    <span class="keywordflow">return</span> ((<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;      <span class="keywordflow">if</span> (*repl_string == 0)</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;    {</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;      print_menu = 1;</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;    }</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/dca/general_8c.html#acf578cd76e0dc1087cdc627781f06c9e">legal_number</a> (repl_string, &amp;reply) == 0)</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;      <span class="keywordflow">if</span> (reply &lt; 1 || reply &gt; list_len)</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160; </div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>; <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> &amp;&amp; --reply; <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;next)</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;    ;</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;word-&gt;word);       <span class="comment">/* XXX - can&#39;t be null? */</span></div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    }</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;}</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160; </div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;<span class="comment">/* Execute a SELECT command.  The syntax is:</span></div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;<span class="comment">   SELECT word IN list DO command_list DONE</span></div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;<span class="comment">   Only `break&#39; or `return&#39; in command_list will terminate</span></div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;<span class="comment">   the command. */</span></div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;execute_select_command (select_command)</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;     SELECT_COM *select_command;</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;{</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *releaser, *<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>;</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *v;</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;  <span class="keywordtype">char</span> *identifier, *ps3_prompt, *selection;</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>, list_len, show_menu, save_line_number;</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160; </div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dca/general_8c.html#a2d8b1ad469d271ae155d0c8b065a1118">check_identifier</a> (select_command-&gt;name, 1) == 0)</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160; </div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;  save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;  <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = select_command-&gt;line;</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160; </div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8ae2084fe2fa2b0677f27fd23b86a423">command_string_index</a> = 0;</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;  print_select_command_head (select_command);</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160; </div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#a436283e4e22f5eabe0706666ddeee5c5">echo_command_at_execute</a>)</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;    xtrace_print_select_command_head (select_command);</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160; </div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>) == 0 &amp;&amp; (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> == 0 || (<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a>, <span class="stringliteral">&quot;trap&quot;</span>) == 0)))</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>) == 0 &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> == 0)</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    {</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a>);</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a65d53dc7e574c97d7ab5e3fb379e0ec5">the_printed_command</a>);</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;    }</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160; </div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;  <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../dc/d6f/trap_8c.html#afb3fc32343f5cb0e5fc204874ce470f1">run_debug_trap</a> ();</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;<span class="preprocessor">#if defined (DEBUGGER)</span></div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;  <span class="comment">/* In debugging mode, if the DEBUG trap returns a non-zero status, we</span></div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;<span class="comment">     skip the command. */</span></div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae85600df6e3b2823d986bd95288b7237">debugging_mode</a> &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160; </div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> = (<span class="keywordtype">char</span> *)0;</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160; </div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;  <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a>++;</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;  identifier = select_command-&gt;name-&gt;word;</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160; </div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;  <span class="comment">/* command and arithmetic substitution, parameter and variable expansion,</span></div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;<span class="comment">     word splitting, pathname expansion, and quote removal. */</span></div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;  <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a> = releaser = <a class="code" href="../../d1/d93/subst_8c.html#a130210486b483534f59be0918b3e5d30">expand_words_no_vars</a> (select_command-&gt;map_list);</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;  list_len = <a class="code" href="../../d2/df2/externs_8h.html#ad5ac2162b6c5b3608c221f3513814745">list_length</a> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>);</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a> == 0 || list_len == 0)</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    {</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>)</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    <a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>);</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;    }</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160; </div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;select&quot;</span>);</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a>, releaser);</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160; </div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;  <span class="keywordflow">if</span> (select_command-&gt;flags &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>)</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;    select_command-&gt;action-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160; </div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;  <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  show_menu = 1;</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160; </div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;  <span class="keywordflow">while</span> (1)</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;    {</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = select_command-&gt;line;</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;      ps3_prompt = <a class="code" href="../../d5/de8/variables_8c.html#ad4773a87954c85e830411739af9bf4ff">get_string_value</a> (<span class="stringliteral">&quot;PS3&quot;</span>);</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;      <span class="keywordflow">if</span> (ps3_prompt == 0)</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    ps3_prompt = <span class="stringliteral">&quot;#? &quot;</span>;</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160; </div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;      selection = select_query (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>, list_len, ps3_prompt, show_menu);</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;      <span class="keywordflow">if</span> (selection == 0)</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    {</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;      <span class="comment">/* select_query returns EXECUTION_FAILURE if the read builtin</span></div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;<span class="comment">         fails, so we want to return failure in this case. */</span></div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;      <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    }</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160; </div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;      v = <a class="code" href="../../d5/de8/variables_8c.html#a713284c5f480f3e48319c5cb6323926f">bind_variable</a> (identifier, selection, 0);</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;      <span class="keywordflow">if</span> (v == 0 || <a class="code" href="../../de/dca/variables_8h.html#aa045ef001ee868166626ab099a7944c7">readonly_p</a> (v) || <a class="code" href="../../de/dca/variables_8h.html#ac35afb1d87d3eb932fc0e1a31e993c3e">noassign_p</a> (v))</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;    {</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;      <span class="keywordflow">if</span> (v &amp;&amp; <a class="code" href="../../de/dca/variables_8h.html#aa045ef001ee868166626ab099a7944c7">readonly_p</a> (v) &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> == 0 &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a>)</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;        {</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;          <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;          <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#a8bef93d1daf140c7adaa29304f5b8e49">FORCE_EOF</a>);</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;        }</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;        {</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;          <a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a> (releaser);</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;          <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;select&quot;</span>);</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;          <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a>--;</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;          <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;          <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;        }</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    }</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160; </div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;      <a class="code" href="../../d5/de8/variables_8c.html#a513b24f1ec6fa6be96bf74288d604b72">stupidly_hack_special_variables</a> (identifier);</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160; </div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;      <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (select_command-&gt;action);</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160; </div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ae45a8e69a3aecf54e8b3d0891e7d75f7">REAP</a> ();</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160; </div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a>)</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    {</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;      <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a>--;</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;    }</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160; </div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>)</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;    {</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;      <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>--;</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>)</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;    }</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160; </div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;<span class="preprocessor">#if defined (KSH_COMPATIBLE_SELECT)</span></div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;      show_menu = 0;</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;      selection = <a class="code" href="../../d5/de8/variables_8c.html#ad4773a87954c85e830411739af9bf4ff">get_string_value</a> (<span class="stringliteral">&quot;REPLY&quot;</span>);</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;      <span class="keywordflow">if</span> (selection &amp;&amp; *selection == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;        show_menu = 1;</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    }</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160; </div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;  <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a>--;</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;  <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160; </div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;  <a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a> (releaser);</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;select&quot;</span>);</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>);</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;}</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* SELECT_COMMAND */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160; </div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;<span class="comment">/* Execute a CASE command.  The syntax is: CASE word_desc IN pattern_list ESAC.</span></div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;<span class="comment">   The pattern_list is a linked list of pattern clauses; each clause contains</span></div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;<span class="comment">   some patterns to compare word_desc against, and an associated command to</span></div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;<span class="comment">   execute. */</span></div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03532"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a1b78adc753a1670b054538cc406ad3b1"> 3532</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a1b78adc753a1670b054538cc406ad3b1">execute_case_command</a> (case_command)</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#dc/d82/structcase__com">CASE_COM</a> *case_command;</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;{</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;  <span class="keyword">register</span> <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>;</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *wlist, *es;</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#d0/dbf/structpattern__list">PATTERN_LIST</a> *clauses;</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;  <span class="keywordtype">char</span> *word, *<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>;</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>, <a class="code" href="../../d3/d31/setfiles_8c.html#a664f27beea6c9e79a7b11a701f4ae054">match</a>, ignore_return, save_line_number, qflags;</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160; </div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;  save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;  <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = case_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a224481775fc2b0ae54084676a332eaf2">line</a>;</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160; </div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8ae2084fe2fa2b0677f27fd23b86a423">command_string_index</a> = 0;</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;  <a class="code" href="../../d6/dd8/print__cmd_8c.html#a507df6851c3524477ab694e6268158e2">print_case_command_head</a> (case_command);</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160; </div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#a436283e4e22f5eabe0706666ddeee5c5">echo_command_at_execute</a>)</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;    <a class="code" href="../../d6/dd8/print__cmd_8c.html#aed710861ef27e1e3e13b9dd1413ba16f">xtrace_print_case_command_head</a> (case_command);</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160; </div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>) == 0 &amp;&amp; (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> == 0 || (<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a>, <span class="stringliteral">&quot;trap&quot;</span>) == 0)))</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>) == 0 &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> == 0)</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    {</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a>);</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a65d53dc7e574c97d7ab5e3fb379e0ec5">the_printed_command</a>);</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;    }</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160; </div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;  <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../dc/d6f/trap_8c.html#afb3fc32343f5cb0e5fc204874ce470f1">run_debug_trap</a>();</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;<span class="preprocessor">#if defined (DEBUGGER)</span></div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;  <span class="comment">/* In debugging mode, if the DEBUG trap returns a non-zero status, we</span></div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;<span class="comment">     skip the command. */</span></div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae85600df6e3b2823d986bd95288b7237">debugging_mode</a> &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    {</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    }</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160; </div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;  <span class="comment">/* Use the same expansions (the ones POSIX specifies) as the patterns;</span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;<span class="comment">     dequote the resulting string (as POSIX specifies) since the quotes in</span></div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;<span class="comment">     patterns are handled specially below. We have to do it in this order</span></div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;<span class="comment">     because we&#39;re not supposed to perform word splitting. */</span></div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;  wlist = <a class="code" href="../../d1/d93/subst_8c.html#aa5d15dea324ad5b97d8a7b6a6c3f2fad">expand_word_leave_quoted</a> (case_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73c5c1e3d71a7d4615708e5b6afd4e34">word</a>, 0);</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;  <span class="keywordflow">if</span> (wlist)</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    {</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;      <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/d93/subst_8c.html#a482b1d3c9d0dd9e98ce8decab2e26f5a">string_list</a> (wlist);</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;      word = <a class="code" href="../../d1/d93/subst_8c.html#a97f75bd5c2334ea49a67740e60fb6225">dequote_string</a> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    }</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;    word = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;  <a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a> (wlist);</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160; </div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;  <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;  ignore_return = case_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7c1331e9e068cc68d7202a5258a9b99f">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160; </div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;case&quot;</span>);</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../db/d0a/tre_8h.html#a2c3897f7c46ca54a2e0dd7b24a40c7cb">xfree</a>, word);</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160; </div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;<span class="preprocessor">#define EXIT_CASE()  goto exit_case_command</span></div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160; </div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;  <span class="keywordflow">for</span> (clauses = case_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a68bcee3c7e8750f04e632c0178dbb574">clauses</a>; clauses; clauses = clauses-&gt;<a class="code" href="../../d0/d09/command_8h.html#a298ee7f13c0ded6032300588bc4739c6">next</a>)</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;    {</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a> = clauses-&gt;<a class="code" href="../../d0/d09/command_8h.html#a434e80f6704633cfb08dab20c1d28076">patterns</a>; <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>; <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aa3e8aa83f864292b5a01210f4453fcc0">next</a>)</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;    {</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;      es = <a class="code" href="../../d1/d93/subst_8c.html#aa5d15dea324ad5b97d8a7b6a6c3f2fad">expand_word_leave_quoted</a> (<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>-&gt;word, 0);</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160; </div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;      <span class="keywordflow">if</span> (es &amp;&amp; es-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a> &amp;&amp; es-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a> &amp;&amp; *(es-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>))</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;        {</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;          <span class="comment">/* Convert quoted null strings into empty strings. */</span></div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;          qflags = <a class="code" href="../../d0/da8/pathexp_8h.html#adfd140cabe1a1c0af0dec63f0410f9e7">QGLOB_CVTNULL</a>;</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160; </div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;          <span class="comment">/* We left CTLESC in place quoting CTLESC and CTLNUL after the</span></div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;<span class="comment">             call to expand_word_leave_quoted; tell quote_string_for_globbing</span></div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;<span class="comment">             to remove those here. This works for both unquoted portions of</span></div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;<span class="comment">         the word (which call quote_escapes) and quoted portions</span></div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;<span class="comment">         (which call quote_string). */</span></div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;          qflags |= <a class="code" href="../../d0/da8/pathexp_8h.html#af043d715c5ec86336febb162c5881ef9">QGLOB_CTLESC</a>;</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;          <a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a> = <a class="code" href="../../d7/d4a/pathexp_8c.html#a602fd211dea0e387ef7094aba84b5468">quote_string_for_globbing</a> (es-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>, qflags);</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;        }</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;        {</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;          <a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a> (1);</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;          <a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;        }</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160; </div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;      <span class="comment">/* Since the pattern does not undergo quote removal (as per</span></div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;<span class="comment">         Posix.2, section 3.9.4.3), the strmatch () call must be able</span></div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;<span class="comment">         to recognize backslashes as escape characters. */</span></div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;      <a class="code" href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a> = <a class="code" href="../../d2/dfa/strmatch_8c.html#a09db3e314dd4403002d15654e78b32f1">strmatch</a> (<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>, word, <a class="code" href="../../d0/da8/pathexp_8h.html#a7d6f2a3d180a54406fa58c6ca5f8f000">FNMATCH_EXTFLAG</a>|<a class="code" href="../../d0/da8/pathexp_8h.html#ab553c4638a9992806a52f65d12cd21fc">FNMATCH_IGNCASE</a>) != <a class="code" href="../../d8/da2/strmatch_8h.html#af2661230e0cfc9970d6cdbe01571e753">FNM_NOMATCH</a>;</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>);</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160; </div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;      <a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a> (es);</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160; </div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a>)</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;        {</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;          <span class="keywordflow">do</span></div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;        {</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;          <span class="keywordflow">if</span> (clauses-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae31932a25ce2a1a616aecae649f78045">action</a> &amp;&amp; ignore_return)</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;            clauses-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae31932a25ce2a1a616aecae649f78045">action</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;          <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (clauses-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae31932a25ce2a1a616aecae649f78045">action</a>);</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;        }</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;          <span class="keywordflow">while</span> ((clauses-&gt;<a class="code" href="../../d0/d09/command_8h.html#abae207e9054326f960ead31780ccf5ea">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#adf2737085ad5882519bda0ed989f8a60">CASEPAT_FALLTHROUGH</a>) &amp;&amp; (clauses = clauses-&gt;<a class="code" href="../../d0/d09/command_8h.html#a298ee7f13c0ded6032300588bc4739c6">next</a>));</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;          <span class="keywordflow">if</span> (clauses == 0 || (clauses-&gt;<a class="code" href="../../d0/d09/command_8h.html#abae207e9054326f960ead31780ccf5ea">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a990e7acfa04422690478a375bd571ba0">CASEPAT_TESTNEXT</a>) == 0)</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#af79434866afb45551794bd877da9923b">EXIT_CASE</a> ();</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;        }</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160; </div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;    }</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;    }</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160; </div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;exit_case_command:</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (word);</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;case&quot;</span>);</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;  <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>);</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;}</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160; </div>
<div class="line"><a name="l03656"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ad5b425bd47877e0e5190905814b3bba2"> 3656</a></span>&#160;<span class="preprocessor">#define CMD_WHILE 0</span></div>
<div class="line"><a name="l03657"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ae9478e49b5a775e5e2c3e3bcdd1f7ec2"> 3657</a></span>&#160;<span class="preprocessor">#define CMD_UNTIL 1</span></div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160; </div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;<span class="comment">/* The WHILE command.  Syntax: WHILE test DO action; DONE.</span></div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;<span class="comment">   Repeatedly execute action while executing test produces</span></div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;<span class="comment">   EXECUTION_SUCCESS. */</span></div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03663"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a1a89a5fd9e7cb88f06f7fe13b6481b8a"> 3663</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a1a89a5fd9e7cb88f06f7fe13b6481b8a">execute_while_command</a> (while_command)</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#de/dac/structwhile__com">WHILE_COM</a> *while_command;</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;{</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#ae5db17c1f897283efba4c21fc23c98de">execute_while_or_until</a> (while_command, <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad5b425bd47877e0e5190905814b3bba2">CMD_WHILE</a>));</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;}</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160; </div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;<span class="comment">/* UNTIL is just like WHILE except that the test result is negated. */</span></div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03671"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a722b1231a1e03bf79f41a79f04d8ac48"> 3671</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a722b1231a1e03bf79f41a79f04d8ac48">execute_until_command</a> (while_command)</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#de/dac/structwhile__com">WHILE_COM</a> *while_command;</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;{</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#ae5db17c1f897283efba4c21fc23c98de">execute_while_or_until</a> (while_command, <a class="code" href="../../de/d3d/execute__cmd_8c.html#ae9478e49b5a775e5e2c3e3bcdd1f7ec2">CMD_UNTIL</a>));</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;}</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160; </div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;<span class="comment">/* The body for both while and until.  The only difference between the</span></div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;<span class="comment">   two is that the test value is treated differently.  TYPE is</span></div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;<span class="comment">   CMD_WHILE or CMD_UNTIL.  The return value for both commands should</span></div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;<span class="comment">   be EXECUTION_SUCCESS if no commands in the body are executed, and</span></div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;<span class="comment">   the status of the last command executed in the body otherwise. */</span></div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03683"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ae5db17c1f897283efba4c21fc23c98de"> 3683</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#ae5db17c1f897283efba4c21fc23c98de">execute_while_or_until</a> (while_command, <a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a>)</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#de/dac/structwhile__com">WHILE_COM</a> *while_command;</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a>;</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;{</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;  <span class="keywordtype">int</span> return_value, body_status;</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160; </div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;  body_status = <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;  <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a>++;</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160; </div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;  while_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ab695c3ea48e16db8f9e7589fb56366f8">test</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;  <span class="keywordflow">if</span> (while_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#aeee869c9eb263491c5454c3c8c6b098a">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>)</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    while_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a8eaeeadd6e86e0a0a76144bf29a60b4d">action</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160; </div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;  <span class="keywordflow">while</span> (1)</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;    {</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;      return_value = <a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (while_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ab695c3ea48e16db8f9e7589fb56366f8">test</a>);</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ae45a8e69a3aecf54e8b3d0891e7d75f7">REAP</a> ();</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160; </div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;      <span class="comment">/* Need to handle `break&#39; in the test when we would break out of the</span></div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;<span class="comment">         loop.  The job control code will set `breaking&#39; to loop_level</span></div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;<span class="comment">         when a job in a loop is stopped with SIGTSTP.  If the stopped job</span></div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;<span class="comment">         is in the loop test, `breaking&#39; will not be reset unless we do</span></div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;<span class="comment">         this, and the shell will cease to execute commands.  The same holds</span></div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;<span class="comment">         true for `continue&#39;. */</span></div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a> == <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad5b425bd47877e0e5190905814b3bba2">CMD_WHILE</a> &amp;&amp; return_value != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    {</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a>)</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;        <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a>--;</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>)</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;        <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>--;</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;    }</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a> == <a class="code" href="../../de/d3d/execute__cmd_8c.html#ae9478e49b5a775e5e2c3e3bcdd1f7ec2">CMD_UNTIL</a> &amp;&amp; return_value == <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;    {</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a>)</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;        <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a>--;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>)</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;        <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>--;</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;    }</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160; </div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;      body_status = <a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (while_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a8eaeeadd6e86e0a0a76144bf29a60b4d">action</a>);</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160; </div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a>)</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    {</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;      <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a>--;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    }</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160; </div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>)</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;    {</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;      <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>--;</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a>)</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;    }</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    }</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;  <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a>--;</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160; </div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  <span class="keywordflow">return</span> (body_status);</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;}</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160; </div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;<span class="comment">/* IF test THEN command [ELSE command].</span></div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;<span class="comment">   IF also allows ELIF in the place of ELSE IF, but</span></div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;<span class="comment">   the parser makes *that* stupidity transparent. */</span></div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03750"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#abf91aaf22393f5f948518ea7ce93b5dd"> 3750</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#abf91aaf22393f5f948518ea7ce93b5dd">execute_if_command</a> (if_command)</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#d6/d6c/structif__com">IF_COM</a> *if_command;</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;{</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;  <span class="keywordtype">int</span> return_value, save_line_number;</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160; </div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;  save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;  if_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a28a2dd8a917262a9eaa0c446d1b54fe0">test</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  return_value = <a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (if_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a28a2dd8a917262a9eaa0c446d1b54fe0">test</a>);</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;  <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160; </div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;  <span class="keywordflow">if</span> (return_value == <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    {</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160; </div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;      <span class="keywordflow">if</span> (if_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae691d759258b18e45dd18591e71dc141">true_case</a> &amp;&amp; (if_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a07d76d76b991c3dbabbf5b5c0e123836">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>))</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;    if_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae691d759258b18e45dd18591e71dc141">true_case</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160; </div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (if_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae691d759258b18e45dd18591e71dc141">true_case</a>));</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    }</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    {</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160; </div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;      <span class="keywordflow">if</span> (if_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ac9f1b317a7c8ff4c750335c571c33a15">false_case</a> &amp;&amp; (if_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a07d76d76b991c3dbabbf5b5c0e123836">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>))</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    if_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ac9f1b317a7c8ff4c750335c571c33a15">false_case</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160; </div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a> (if_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ac9f1b317a7c8ff4c750335c571c33a15">false_case</a>));</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;    }</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;}</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160; </div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;<span class="preprocessor">#if defined (DPAREN_ARITHMETIC)</span></div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;execute_arith_command (arith_command)</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;     ARITH_COM *arith_command;</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;{</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;  <span class="keywordtype">int</span> expok, save_line_number, <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a1fa73ad20e7650d162437b665c5aa22b">eflag</a>;</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;  <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#ae26fa513a7dfed63221f72d93de2a021">intmax_t</a> expresult;</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *<span class="keyword">new</span>;</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>, *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160; </div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;  expresult = 0;</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160; </div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;  save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> = <span class="stringliteral">&quot;((&quot;</span>; <span class="comment">/* )) */</span></div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2fd63bb00d85a53a0a326a56ad4fe3dc">SET_LINE_NUMBER</a> (arith_command-&gt;line);</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;  <span class="comment">/* If we&#39;re in a function, update the line number information. */</span></div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a> &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> &amp;&amp; <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1abc92fadae94b5897f4f0144da01eb9">sourcelevel</a> == 0)</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;    {</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;      <span class="comment">/* line numbers in a function start at 1 */</span></div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> -= <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab44ee516a50d5f65c135f861c60f2418">function_line_number</a> - 1;</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> &lt;= 0)</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;    <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = 1;</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;    }      </div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160; </div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8ae2084fe2fa2b0677f27fd23b86a423">command_string_index</a> = 0;</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  print_arith_command (arith_command-&gt;exp);</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160; </div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>) == 0 &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> == 0)</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;    {</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a>);</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a65d53dc7e574c97d7ab5e3fb379e0ec5">the_printed_command</a>);</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;    }</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160; </div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  <span class="comment">/* Run the debug trap before each arithmetic command, but do it after we</span></div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;<span class="comment">     update the line number information and before we expand the various</span></div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;<span class="comment">     words in the expression. */</span></div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;  <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../dc/d6f/trap_8c.html#afb3fc32343f5cb0e5fc204874ce470f1">run_debug_trap</a> ();</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;<span class="preprocessor">#if defined (DEBUGGER)</span></div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;  <span class="comment">/* In debugging mode, if the DEBUG trap returns a non-zero status, we</span></div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;<span class="comment">     skip the command. */</span></div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae85600df6e3b2823d986bd95288b7237">debugging_mode</a> &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;    {</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;    }</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160; </div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> = <span class="stringliteral">&quot;((&quot;</span>; <span class="comment">/* )) */</span></div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;  <span class="keyword">new</span> = arith_command-&gt;exp;</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;  <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> = (<span class="keyword">new</span>-&gt;next) ? (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/d93/subst_8c.html#a482b1d3c9d0dd9e98ce8decab2e26f5a">string_list</a> (<span class="keyword">new</span>)) : new-&gt;word-&gt;word;</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160; </div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;  <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> = <a class="code" href="../../d1/d93/subst_8c.html#a0e8088ce3cf7d024b3f111d3c0ef943b">expand_arith_string</a> (<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>, <a class="code" href="../../d7/d72/subst_8h.html#a2c84cd503baac29b30634633e1f65e7b">Q_DOUBLE_QUOTES</a>|<a class="code" href="../../d7/d72/subst_8h.html#af9d8627baf4e4dffb49a5cb6143ca289">Q_ARITH</a>);</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160; </div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;  <span class="comment">/* If we&#39;re tracing, make a new word list with `((&#39; at the front and `))&#39;</span></div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;<span class="comment">     at the back and print it. Change xtrace_print_arith_cmd to take a string</span></div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;<span class="comment">     when I change eval_arith_for_expr to use expand_arith_string(). */</span></div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#a436283e4e22f5eabe0706666ddeee5c5">echo_command_at_execute</a>)</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;    {</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;      <span class="keyword">new</span> = <a class="code" href="../../d4/d97/make__cmd_8c.html#aa707cc6dc36f4646bd1b0c25d3082d9c">make_word_list</a> (<a class="code" href="../../d4/d97/make__cmd_8c.html#a1bf353c818fefb707867a3142c70f21f">make_word</a> (<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> ? <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> : <span class="stringliteral">&quot;&quot;</span>), (<a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;      xtrace_print_arith_cmd (<span class="keyword">new</span>);</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;      <a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a> (<span class="keyword">new</span>);</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;    }</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160; </div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>)</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;    {</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;      <a class="code" href="../../d1/dbe/ash_8c.html#a1fa73ad20e7650d162437b665c5aa22b">eflag</a> = (<a class="code" href="../../df/d03/shell_8h.html#a5474d60edee7e82e47b35345fa4e8ca2">shell_compatibility_level</a> &gt; 51) ? 0 : <a class="code" href="../../d2/df2/externs_8h.html#a93cf605f8aa689490ffadf8974f8e815">EXP_EXPANDED</a>;</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;      expresult = <a class="code" href="../../d4/dc4/bash_2expr_8c.html#ab9b32ed3c0339ae19b5e1e625add9ad9">evalexp</a> (<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a1fa73ad20e7650d162437b665c5aa22b">eflag</a>, &amp;expok);</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>);</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;    }</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;    {</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;      expresult = 0;</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;      expok = 1;</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;    }</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160; </div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;  <span class="keywordflow">if</span> (expok == 0)</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160; </div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;  <span class="keywordflow">return</span> (expresult == 0 ? <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a> : <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;}</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DPAREN_ARITHMETIC */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160; </div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;<span class="preprocessor">#if defined (COND_COMMAND)</span></div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160; </div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160; </div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;<span class="comment">/* XXX - can COND ever be NULL when this is called? */</span></div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;execute_cond_node (cond)</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#d8/d32/structcond__com">COND_COM</a> *cond;</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;{</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;  <span class="keywordtype">int</span> result, invert, <a class="code" href="../../d1/dbe/ash_8c.html#adab8f6bb60fd0df10ee740984c79b9b8">patmatch</a>, rmatch, <a class="code" href="../../d6/da3/math_8c.html#a6409d948329459455a2e2c41b1b0b650">arith</a>, mode, mflags, <a class="code" href="../../d0/d11/fsck_8c.html#a5b2083482543865af1fe0c0f3cb7af50">ignore</a>;</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;  <span class="keywordtype">char</span> *arg1, *arg2, *<a class="code" href="../../d5/df6/structop.html">op</a>;</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="../../d3/d84/lgamma__r_8c.html#a65214077828087a81420f38e5305d466">t1</a>, *<a class="code" href="../../d3/d84/lgamma__r_8c.html#ac8b0854fa87c2202d0805a90a3b7d585">t2</a>;</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160; </div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;  invert = (cond-&gt;flags &amp; <a class="code" href="../../d0/d09/command_8h.html#a580b06894a4aec29dcbcd920f8b65bd9">CMD_INVERT_RETURN</a>);</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;  <a class="code" href="../../d0/d11/fsck_8c.html#a5b2083482543865af1fe0c0f3cb7af50">ignore</a> = (cond-&gt;flags &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>);</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/d11/fsck_8c.html#a5b2083482543865af1fe0c0f3cb7af50">ignore</a>)</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    {</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;      <span class="keywordflow">if</span> (cond-&gt;left)</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;    cond-&gt;left-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;      <span class="keywordflow">if</span> (cond-&gt;right)</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;    cond-&gt;right-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;    }</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;      </div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;  <span class="keywordflow">if</span> (cond-&gt;type == <a class="code" href="../../d0/d09/command_8h.html#aa891c8cec866e9738888f46bc26d4172">COND_EXPR</a>)</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    result = execute_cond_node (cond-&gt;left);</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cond-&gt;type == <a class="code" href="../../d0/d09/command_8h.html#a492083d124f5c7ab21333ca4874d5ad0">COND_OR</a>)</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;    {</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;      result = execute_cond_node (cond-&gt;left);</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;      <span class="keywordflow">if</span> (result != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;    result = execute_cond_node (cond-&gt;right);</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;    }</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cond-&gt;type == <a class="code" href="../../d0/d09/command_8h.html#acb04d1a39efe075514c3db25081a6a29">COND_AND</a>)</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;    {</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;      result = execute_cond_node (cond-&gt;left);</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;      <span class="keywordflow">if</span> (result == <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;    result = execute_cond_node (cond-&gt;right);</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;    }</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cond-&gt;type == <a class="code" href="../../d0/d09/command_8h.html#a922bbc28525403f01e0a092a90f33f0f">COND_UNARY</a>)</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;    {</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;      <span class="keywordtype">int</span> oa, varop, varflag;</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160; </div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d11/fsck_8c.html#a5b2083482543865af1fe0c0f3cb7af50">ignore</a>)</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aad9f5b507ca60fbc973c3a72eb893f69">comsub_ignore_return</a>++;</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;      varop = <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (cond-&gt;op-&gt;word, <span class="stringliteral">&quot;-v&quot;</span>);</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;      varflag = (varop &amp;&amp; valid_array_reference (cond-&gt;left-&gt;op-&gt;word, <a class="code" href="../../d4/df6/arrayfunc_8h.html#af0a4b53d2cdb5645c1f5b0a452e9f2ac">VA_NOEXPAND</a>)) ? <a class="code" href="../../d2/ddc/test_8h.html#a79a5e11ab00b1746682b3b55be5ad363">TEST_ARRAYEXP</a> : 0;</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;      varflag = 0;</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;      arg1 = cond_expand_word (cond-&gt;left-&gt;op, varop ? 3 : 0);</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d11/fsck_8c.html#a5b2083482543865af1fe0c0f3cb7af50">ignore</a>)</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aad9f5b507ca60fbc973c3a72eb893f69">comsub_ignore_return</a>--;</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;      <span class="keywordflow">if</span> (arg1 == 0)</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;    arg1 = <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>;</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#a436283e4e22f5eabe0706666ddeee5c5">echo_command_at_execute</a>)</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;    xtrace_print_cond_term (cond-&gt;type, invert, cond-&gt;op, arg1, (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;      <span class="keywordflow">if</span> (varop)</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;    oa = set_expand_once (0, 0);    <span class="comment">/* no-op for compatibility levels &lt;= 51 */</span></div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;      result = <a class="code" href="../../d9/dd0/bash_2test_8c.html#a76bd744969e6618bc64b545ee94dced7">unary_test</a> (cond-&gt;op-&gt;word, arg1, varflag) ? <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a> : <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;      <span class="keywordflow">if</span> (varop)</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;    assoc_expand_once = oa;</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;      <span class="keywordflow">if</span> (arg1 != <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>)</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (arg1);</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;    }</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cond-&gt;type == <a class="code" href="../../d0/d09/command_8h.html#a4a6baeb58d76450ff3d235cd592bd4ec">COND_BINARY</a>)</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;    {</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;      rmatch = 0;</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;      <a class="code" href="../../d5/df6/structop.html">op</a> = cond-&gt;op-&gt;word;</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;      mode = 0;</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;      <a class="code" href="../../d1/dbe/ash_8c.html#adab8f6bb60fd0df10ee740984c79b9b8">patmatch</a> = (((<a class="code" href="../../d5/df6/structop.html">op</a>[1] == <span class="charliteral">&#39;=&#39;</span>) &amp;&amp; (<a class="code" href="../../d5/df6/structop.html">op</a>[2] == <span class="charliteral">&#39;\0&#39;</span>) &amp;&amp;</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;           (<a class="code" href="../../d5/df6/structop.html">op</a>[0] == <span class="charliteral">&#39;!&#39;</span> || <a class="code" href="../../d5/df6/structop.html">op</a>[0] == <span class="charliteral">&#39;=&#39;</span>)) ||</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;          (<a class="code" href="../../d5/df6/structop.html">op</a>[0] == <span class="charliteral">&#39;=&#39;</span> &amp;&amp; <a class="code" href="../../d5/df6/structop.html">op</a>[1] == <span class="charliteral">&#39;\0&#39;</span>));</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;<span class="preprocessor">#if defined (COND_REGEXP)</span></div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;      rmatch = (<a class="code" href="../../d5/df6/structop.html">op</a>[0] == <span class="charliteral">&#39;=&#39;</span> &amp;&amp; <a class="code" href="../../d5/df6/structop.html">op</a>[1] == <span class="charliteral">&#39;~&#39;</span> &amp;&amp; <a class="code" href="../../d5/df6/structop.html">op</a>[2] == <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;      <a class="code" href="../../d6/da3/math_8c.html#a6409d948329459455a2e2c41b1b0b650">arith</a> = <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (<a class="code" href="../../d5/df6/structop.html">op</a>, <span class="stringliteral">&quot;-eq&quot;</span>) || <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (<a class="code" href="../../d5/df6/structop.html">op</a>, <span class="stringliteral">&quot;-ne&quot;</span>) || <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (<a class="code" href="../../d5/df6/structop.html">op</a>, <span class="stringliteral">&quot;-lt&quot;</span>) ||</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;          <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (<a class="code" href="../../d5/df6/structop.html">op</a>, <span class="stringliteral">&quot;-le&quot;</span>) || <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (<a class="code" href="../../d5/df6/structop.html">op</a>, <span class="stringliteral">&quot;-gt&quot;</span>) || <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (<a class="code" href="../../d5/df6/structop.html">op</a>, <span class="stringliteral">&quot;-ge&quot;</span>);</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160; </div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/da3/math_8c.html#a6409d948329459455a2e2c41b1b0b650">arith</a>)</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;    mode = 3;</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rmatch &amp;&amp; <a class="code" href="../../df/d03/shell_8h.html#a5474d60edee7e82e47b35345fa4e8ca2">shell_compatibility_level</a> &gt; 31)</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;    mode = 2;</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#adab8f6bb60fd0df10ee740984c79b9b8">patmatch</a>)</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;    mode = 1;</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160; </div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d11/fsck_8c.html#a5b2083482543865af1fe0c0f3cb7af50">ignore</a>)</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aad9f5b507ca60fbc973c3a72eb893f69">comsub_ignore_return</a>++;</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;      arg1 = cond_expand_word (cond-&gt;left-&gt;op, <a class="code" href="../../d6/da3/math_8c.html#a6409d948329459455a2e2c41b1b0b650">arith</a> ? mode : 0);</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d11/fsck_8c.html#a5b2083482543865af1fe0c0f3cb7af50">ignore</a>)</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aad9f5b507ca60fbc973c3a72eb893f69">comsub_ignore_return</a>--;</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;      <span class="keywordflow">if</span> (arg1 == 0)</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;    arg1 = <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>;</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d11/fsck_8c.html#a5b2083482543865af1fe0c0f3cb7af50">ignore</a>)</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aad9f5b507ca60fbc973c3a72eb893f69">comsub_ignore_return</a>++;</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;      arg2 = cond_expand_word (cond-&gt;right-&gt;op, mode);</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d11/fsck_8c.html#a5b2083482543865af1fe0c0f3cb7af50">ignore</a>)</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aad9f5b507ca60fbc973c3a72eb893f69">comsub_ignore_return</a>--;</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;      <span class="keywordflow">if</span> (arg2 == 0)</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;    arg2 = <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>;</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160; </div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#a436283e4e22f5eabe0706666ddeee5c5">echo_command_at_execute</a>)</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;    xtrace_print_cond_term (cond-&gt;type, invert, cond-&gt;op, arg1, arg2);</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160; </div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;<span class="preprocessor">#if defined (COND_REGEXP)</span></div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;      <span class="keywordflow">if</span> (rmatch)</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;    {</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;      mflags = <a class="code" href="../../d2/df2/externs_8h.html#a9aa189dac6a1a21e27a476f2a83ba7ad">SHMAT_PWARN</a>;</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;      mflags |= <a class="code" href="../../d2/df2/externs_8h.html#acb422f3a872f4c1424539837c129301d">SHMAT_SUBEXP</a>;</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160; </div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;      <a class="code" href="../../d3/d84/lgamma__r_8c.html#a65214077828087a81420f38e5305d466">t1</a> = strescape(arg1);</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;      <a class="code" href="../../d3/d84/lgamma__r_8c.html#ac8b0854fa87c2202d0805a90a3b7d585">t2</a> = strescape(arg2);</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;      itrace(<span class="stringliteral">&quot;execute_cond_node: sh_regmatch on `%s&#39; and `%s&#39;&quot;</span>, <a class="code" href="../../d3/d84/lgamma__r_8c.html#a65214077828087a81420f38e5305d466">t1</a>, <a class="code" href="../../d3/d84/lgamma__r_8c.html#ac8b0854fa87c2202d0805a90a3b7d585">t2</a>);</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d3/d84/lgamma__r_8c.html#a65214077828087a81420f38e5305d466">t1</a>);</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d3/d84/lgamma__r_8c.html#ac8b0854fa87c2202d0805a90a3b7d585">t2</a>);</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160; </div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;      result = sh_regmatch (arg1, arg2, mflags);</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;    }</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* COND_REGEXP */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;    {</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;      <a class="code" href="../../d0/dbe/apps_2base_2bash_2lib_2glob_2glob_8c.html#afccfda7777ac4797a1cb790c52fe167b">extended_glob</a> = 1;</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;      result = <a class="code" href="../../d9/dd0/bash_2test_8c.html#a4b1683fde3a30fb28fbd22d3d3f978ef">binary_test</a> (cond-&gt;op-&gt;word, arg1, arg2, <a class="code" href="../../d2/ddc/test_8h.html#ab56d7d470b8bde019ecf430d6bbec7c3">TEST_PATMATCH</a>|<a class="code" href="../../d2/ddc/test_8h.html#a4c4123012bf73dd7a751fd7797a201ff">TEST_ARITHEXP</a>|<a class="code" href="../../d2/ddc/test_8h.html#a0ce17c6c13d4c05821024560ea3fef57">TEST_LOCALE</a>)</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;                  ? <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a></div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;                  : <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;      <a class="code" href="../../d0/dbe/apps_2base_2bash_2lib_2glob_2glob_8c.html#afccfda7777ac4797a1cb790c52fe167b">extended_glob</a> = extglob_flag;</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    }</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;      <span class="keywordflow">if</span> (arg1 != <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>)</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (arg1);</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;      <span class="keywordflow">if</span> (arg2 != <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>)</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (arg2);</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    }</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    {</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;      <a class="code" href="../../db/dcc/error_8c.html#a4e69efbf913fafcef50983aa55cf6559">command_error</a> (<span class="stringliteral">&quot;execute_cond_node&quot;</span>, <a class="code" href="../../d0/d09/command_8h.html#a67b74c35b4f3ff70a02c6172323c1ac6">CMDERR_BADTYPE</a>, cond-&gt;type, 0);</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#adbaca35440ef5d1abf8a0084bf382b8b">DISCARD</a>);</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;      result = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;    }</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160; </div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;  <span class="keywordflow">if</span> (invert)</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;    result = (result == <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>) ? <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a> : <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160; </div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;}</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160; </div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;execute_cond_command (cond_command)</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#d8/d32/structcond__com">COND_COM</a> *cond_command;</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;{</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>, save_line_number;</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160; </div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;  save_line_number = <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>;</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160; </div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2fd63bb00d85a53a0a326a56ad4fe3dc">SET_LINE_NUMBER</a> (cond_command-&gt;line);</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;  <span class="comment">/* If we&#39;re in a function, update the line number information. */</span></div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a> &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> &amp;&amp; <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1abc92fadae94b5897f4f0144da01eb9">sourcelevel</a> == 0)</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;    {</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;      <span class="comment">/* line numbers in a function start at 1 */</span></div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> -= <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab44ee516a50d5f65c135f861c60f2418">function_line_number</a> - 1;</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> &lt;= 0)</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;    <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = 1;</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;    }</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8ae2084fe2fa2b0677f27fd23b86a423">command_string_index</a> = 0;</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;  print_cond_command (cond_command);</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160; </div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>) == 0 &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> == 0)</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;    {</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a>);</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a65d53dc7e574c97d7ab5e3fb379e0ec5">the_printed_command</a>);</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;    }</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160; </div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;  <span class="comment">/* Run the debug trap before each conditional command, but do it after we</span></div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;<span class="comment">     update the line number information. */</span></div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;  <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../dc/d6f/trap_8c.html#afb3fc32343f5cb0e5fc204874ce470f1">run_debug_trap</a> ();</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;<span class="preprocessor">#if defined (DEBUGGER)</span></div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;  <span class="comment">/* In debugging mode, if the DEBUG trap returns a non-zero status, we</span></div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;<span class="comment">     skip the command. */</span></div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae85600df6e3b2823d986bd95288b7237">debugging_mode</a> &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;    {</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    }</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160; </div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> = <span class="stringliteral">&quot;[[&quot;</span>; <span class="comment">/* ]] */</span></div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160; </div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;  debug_print_cond_command (cond_command);</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160; </div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = execute_cond_node (cond_command);</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;  <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = save_line_number;</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>);</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;}</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* COND_COMMAND */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160; </div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04071"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ae593000921ec0a7ac666211486fbb0d3"> 4071</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#ae593000921ec0a7ac666211486fbb0d3">bind_lastarg</a> (<a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>)</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;     <span class="keywordtype">char</span> *<a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>;</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;{</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *<a class="code" href="../../de/dcc/awk_8c.html#a2e8d2426582aedb61af37935c1d60c1c">var</a>;</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160; </div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a> == 0)</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;    <a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;  <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> = <a class="code" href="../../d5/de8/variables_8c.html#a713284c5f480f3e48319c5cb6323926f">bind_variable</a> (<span class="stringliteral">&quot;_&quot;</span>, <a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>, 0);</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>)</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;    <a class="code" href="../../de/dca/variables_8h.html#a7ce20d7bc63368069c76083a48c4f1df">VUNSETATTR</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, <a class="code" href="../../de/dca/variables_8h.html#a36dc300692872a62e6c1a0c54a0b0490">att_exported</a>);</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;}</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160; </div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;<span class="comment">/* Execute a null command.  Fork a subshell if the command uses pipes or is</span></div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;<span class="comment">   to be run asynchronously.  This handles all the side effects that are</span></div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;<span class="comment">   supposed to take place. */</span></div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l04087"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a2ade75d1995aafc98bc9b3cbbca58b78"> 4087</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a2ade75d1995aafc98bc9b3cbbca58b78">execute_null_command</a> (redirects, pipe_in, pipe_out, async)</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *redirects;</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;     <span class="keywordtype">int</span> pipe_in, pipe_out, async;</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;{</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;  <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;  <span class="keywordtype">int</span> forcefork, fork_flags;</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *<a class="code" href="../../d1/dfa/redir_8c.html#ad1987120f141fc3123fb69a0d074f837">rd</a>;</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160; </div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;  <span class="keywordflow">for</span> (forcefork = 0, <a class="code" href="../../d1/dfa/redir_8c.html#ad1987120f141fc3123fb69a0d074f837">rd</a> = redirects; <a class="code" href="../../d1/dfa/redir_8c.html#ad1987120f141fc3123fb69a0d074f837">rd</a>; <a class="code" href="../../d1/dfa/redir_8c.html#ad1987120f141fc3123fb69a0d074f837">rd</a> = <a class="code" href="../../d1/dfa/redir_8c.html#ad1987120f141fc3123fb69a0d074f837">rd</a>-&gt;next)</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;    {</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;      forcefork += <a class="code" href="../../d1/dfa/redir_8c.html#ad1987120f141fc3123fb69a0d074f837">rd</a>-&gt;rflags &amp; <a class="code" href="../../d0/d09/command_8h.html#aeb193d7a3c699fc4688fe85b70f842f6">REDIR_VARASSIGN</a>;</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;      <span class="comment">/* Safety */</span></div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;      forcefork += (<a class="code" href="../../d1/dfa/redir_8c.html#ad1987120f141fc3123fb69a0d074f837">rd</a>-&gt;redirector.<a class="code" href="../../d0/d09/command_8h.html#a241f08d773699e8d21de269b4644cbbd">dest</a> == 0 || fd_is_bash_input (<a class="code" href="../../d1/dfa/redir_8c.html#ad1987120f141fc3123fb69a0d074f837">rd</a>-&gt;redirector.<a class="code" href="../../d0/d09/command_8h.html#a241f08d773699e8d21de269b4644cbbd">dest</a>)) &amp;&amp; (<a class="code" href="../../d0/d09/command_8h.html#a77a5a677b045bde12c0cecb4347ec1e7">INPUT_REDIRECT</a> (<a class="code" href="../../d1/dfa/redir_8c.html#ad1987120f141fc3123fb69a0d074f837">rd</a>-&gt;instruction) || <a class="code" href="../../d0/d09/command_8h.html#a6a55dfa841fd7fad2ad111066150c383">TRANSLATE_REDIRECT</a> (<a class="code" href="../../d1/dfa/redir_8c.html#ad1987120f141fc3123fb69a0d074f837">rd</a>-&gt;instruction) || <a class="code" href="../../d1/dfa/redir_8c.html#ad1987120f141fc3123fb69a0d074f837">rd</a>-&gt;instruction == <a class="code" href="../../d0/d09/command_8h.html#a30995e3628b99a0514ed9fdd9843e55da1a8b78fedef80651df23168d82de702f">r_close_this</a>);</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;    }</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160; </div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;  <span class="keywordflow">if</span> (forcefork || pipe_in != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> || pipe_out != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> || async)</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;    {</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;      <span class="comment">/* We have a null command, but we really want a subshell to take</span></div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;<span class="comment">     care of it.  Just fork, do piping and redirections, and exit. */</span></div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;      fork_flags = async ? <a class="code" href="../../d3/d3a/jobs_8h.html#a599efb6d8d8213160548a82f20c0a573">FORK_ASYNC</a> : 0;</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d8e/jobs_8c.html#ab6ee1058c7a454b7e482ce8fa34ddbb7">make_child</a> ((<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, fork_flags) == 0)</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;    {</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;      <span class="comment">/* Cancel traps, in trap.c. */</span></div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#abf146dcf390dea0243465ed221b7df16">restore_original_signals</a> ();      <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160; </div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac019991c9bd079990f1f720d21dabe7b">do_piping</a> (pipe_in, pipe_out);</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160; </div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;<span class="preprocessor">#if defined (COPROCESS_SUPPORT)</span></div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;      coproc_closeall ();</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160; </div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;      <a class="code" href="../../d6/d4f/shell_8c.html#aeb39d5d8ddd4957f1b01720fa0e37e36">interactive</a> = 0;          <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160; </div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> = 0;</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;      <span class="keywordflow">if</span> (async)</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#abd94aff81c34160c8185303ebe67c539">SUBSHELL_ASYNC</a>;</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;      <span class="keywordflow">if</span> (pipe_in != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> || pipe_out != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#a1f4bab590838fd1ce5e0e8a4ba0c6f0b">SUBSHELL_PIPE</a>;</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160; </div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/dfa/redir_8c.html#a52ce0ceb4aab5c01113e6ed10ef91222">do_redirections</a> (redirects, <a class="code" href="../../d1/dbf/redir_8h.html#ad236771164f9ee8cc2d118d7ad5ed812">RX_ACTIVE</a>) == 0)</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;        <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;        <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;    }</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;    {</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8160fde58a3713edb578714611bb192b">close_pipes</a> (pipe_in, pipe_out);</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION) &amp;&amp; defined (HAVE_DEV_FD)</span></div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;      <span class="keywordflow">if</span> (pipe_out == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;        unlink_fifo_list ();</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;    }</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    }</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;    {</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;      <span class="comment">/* Even if there aren&#39;t any command names, pretend to do the</span></div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;<span class="comment">     redirections that are specified.  The user expects the side</span></div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;<span class="comment">     effects to take place.  If the redirections fail, then return</span></div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;<span class="comment">     failure.  Otherwise, if a command substitution took place while</span></div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;<span class="comment">     expanding the command or a redirection, return the value of that</span></div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;<span class="comment">     substitution.  Otherwise, return EXECUTION_SUCCESS. */</span></div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160; </div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;      r = <a class="code" href="../../d1/dfa/redir_8c.html#a52ce0ceb4aab5c01113e6ed10ef91222">do_redirections</a> (redirects, <a class="code" href="../../d1/dbf/redir_8h.html#ad236771164f9ee8cc2d118d7ad5ed812">RX_ACTIVE</a>|<a class="code" href="../../d1/dbf/redir_8h.html#a51ed68f61f8bb53c69c88f66f39b12e3">RX_UNDOABLE</a>);</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a68213e3ab937aa4423c054f20000f89f">cleanup_redirects</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a>);</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a> = (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160; </div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;      <span class="keywordflow">if</span> (r != 0)</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d93/subst_8c.html#a450ec566c0f8334a85dabc00c23e7621">last_command_subst_pid</a> != <a class="code" href="../../d3/d3a/jobs_8h.html#ad40327c746e8ef715109d9b9257eb991">NO_PID</a>)</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>);</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;    }</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;}</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160; </div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;<span class="comment">/* This is a hack to suppress word splitting for assignment statements</span></div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;<span class="comment">   given as arguments to builtins with the ASSIGNMENT_BUILTIN flag set. */</span></div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04166"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a60b1ff1ecb7c0d67e4f17864c7ce6d07"> 4166</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a60b1ff1ecb7c0d67e4f17864c7ce6d07">fix_assignment_words</a> (words)</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *words;</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;{</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>, *wcmd;</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> *b;</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;  <span class="keywordtype">int</span> assoc, global, <a class="code" href="../../db/d63/array_8h.html#dc/daf/structarray">array</a>, integer;</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160; </div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;  <span class="keywordflow">if</span> (words == 0)</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160; </div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;  b = 0;</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;  assoc = global = <a class="code" href="../../db/d63/array_8h.html#dc/daf/structarray">array</a> = integer = 0;</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160; </div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;  <span class="comment">/* Skip over assignment statements preceding a command name */</span></div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;  wcmd = words;</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;  <span class="keywordflow">for</span> (wcmd = words; wcmd; wcmd = wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">next</a>)</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;    <span class="keywordflow">if</span> ((wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#aaf191cb3477717d8b7479fda976063dd">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#af2e8d0ab8ebc8b5e53c931576981e376">W_ASSIGNMENT</a>) == 0)</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;  <span class="comment">/* Posix (post-2008) says that `command&#39; doesn&#39;t change whether</span></div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;<span class="comment">     or not the builtin it shadows is a `declaration command&#39;, even</span></div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;<span class="comment">     though it removes other special builtin properties.  In Posix</span></div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;<span class="comment">     mode, we skip over one or more instances of `command&#39; and</span></div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;<span class="comment">     deal with the next word as the assignment builtin. */</span></div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a> &amp;&amp; wcmd &amp;&amp; wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a> &amp;&amp; wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a> &amp;&amp; <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>, <span class="stringliteral">&quot;command&quot;</span>))</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;    wcmd = wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">next</a>;</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160; </div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> = wcmd; <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>; <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> = <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;next)</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;flags &amp; <a class="code" href="../../d0/d09/command_8h.html#af2e8d0ab8ebc8b5e53c931576981e376">W_ASSIGNMENT</a>)</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;      {</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;        <span class="comment">/* Lazy builtin lookup, only do it if we find an assignment */</span></div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;    <span class="keywordflow">if</span> (b == 0)</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;      {</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;        b = <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#aaa2648ff66a839c5da9130e4195f0226">builtin_address_internal</a> (wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>, 0);</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;        <span class="keywordflow">if</span> (b == 0 || (b-&gt;<a class="code" href="../../d7/d41/builtins_8h.html#a9f583bfe9459f1e181c58a79a0f49a8e">flags</a> &amp; <a class="code" href="../../d7/d41/builtins_8h.html#ae70f9097f113b1c52cabc5871556175f">ASSIGNMENT_BUILTIN</a>) == 0)</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b &amp;&amp; (b-&gt;<a class="code" href="../../d7/d41/builtins_8h.html#a9f583bfe9459f1e181c58a79a0f49a8e">flags</a> &amp; <a class="code" href="../../d7/d41/builtins_8h.html#ae70f9097f113b1c52cabc5871556175f">ASSIGNMENT_BUILTIN</a>))</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;          wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#aaf191cb3477717d8b7479fda976063dd">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#ab599af35fc2f41cb142fad1c4906d5b4">W_ASSNBLTIN</a>;</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;      }</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;    <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;flags |= (<a class="code" href="../../d0/d09/command_8h.html#a4c5fbbe2909f93d42fad2d5fda2e93a0">W_NOSPLIT</a>|<a class="code" href="../../d0/d09/command_8h.html#a5b082468bd78a9d4cb6447bf0702d1a3">W_NOGLOB</a>|<a class="code" href="../../d0/d09/command_8h.html#a0e1cff89ea608dfe940ce589122d9e94">W_TILDEEXP</a>|<a class="code" href="../../d0/d09/command_8h.html#a27827a9c9d9fa0c27da3192732febc34">W_ASSIGNARG</a>);</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;    <span class="keywordflow">if</span> (assoc)</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;      <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#abaa65a0967a7f23d937b93ddac7c7a61">W_ASSIGNASSOC</a>;</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d63/array_8h.html#dc/daf/structarray">array</a>)</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;      <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#aace1f35eb92bd698ceedef24f46db38d">W_ASSIGNARRAY</a>;</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;    <span class="keywordflow">if</span> (global)</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;      <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#a6dfcb3d9a4a25c61c48afcae84b1618e">W_ASSNGLOBAL</a>;</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160; </div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;    <span class="comment">/* If we have an assignment builtin that does not create local variables,</span></div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;<span class="comment">       make sure we create global variables even if we internally call</span></div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;<span class="comment">       `declare&#39;.  The CHKLOCAL flag means to set attributes or values on</span></div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;<span class="comment">       an existing local variable, if there is one. */</span></div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;    <span class="keywordflow">if</span> (b &amp;&amp; ((b-&gt;<a class="code" href="../../d7/d41/builtins_8h.html#a9f583bfe9459f1e181c58a79a0f49a8e">flags</a> &amp; (<a class="code" href="../../d7/d41/builtins_8h.html#ae70f9097f113b1c52cabc5871556175f">ASSIGNMENT_BUILTIN</a>|<a class="code" href="../../d7/d41/builtins_8h.html#aac5a22df46a699341bc515c63d821f2a">LOCALVAR_BUILTIN</a>)) == <a class="code" href="../../d7/d41/builtins_8h.html#ae70f9097f113b1c52cabc5871556175f">ASSIGNMENT_BUILTIN</a>))</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;      <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#a6dfcb3d9a4a25c61c48afcae84b1618e">W_ASSNGLOBAL</a>|<a class="code" href="../../d0/d09/command_8h.html#a852301eab3bb50b3761ee3ba989b817e">W_CHKLOCAL</a>;</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="../../d9/def/mb__64bit__map_8cpp.html#a7d5d79792cdea43010184ab50d14ac5a">if</a> (b &amp;&amp; (b-&gt;<a class="code" href="../../d7/d41/builtins_8h.html#a9f583bfe9459f1e181c58a79a0f49a8e">flags</a> &amp; <a class="code" href="../../d7/d41/builtins_8h.html#ae70f9097f113b1c52cabc5871556175f">ASSIGNMENT_BUILTIN</a>) &amp;&amp; (b-&gt;<a class="code" href="../../d7/d41/builtins_8h.html#a9f583bfe9459f1e181c58a79a0f49a8e">flags</a> &amp; <a class="code" href="../../d7/d41/builtins_8h.html#aac5a22df46a699341bc515c63d821f2a">LOCALVAR_BUILTIN</a>) &amp;&amp; <a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a>)</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;      <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#aa2c9eae23dab34ddb57c048d6c2251ec">W_FORCELOCAL</a>;</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;      }</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;    <span class="comment">/* Note that we saw an associative array option to a builtin that takes</span></div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;<span class="comment">       assignment statements.  This is a bit of a kludge. */</span></div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word[0] == <span class="charliteral">&#39;-&#39;</span> &amp;&amp; (<a class="code" href="../../d2/dce/apps_2base_2bash_2lib_2sh_2strpbrk_8c.html#a119f23a5dcb4eb5f1c1eed3cbf5cb0ed">strpbrk</a> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word+1, <span class="stringliteral">&quot;Aag&quot;</span>) != 0))</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word[0] == <span class="charliteral">&#39;-&#39;</span> &amp;&amp; <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word+1, <span class="charliteral">&#39;g&#39;</span>))</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;#endif</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;      {</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;    <span class="keywordflow">if</span> (b == 0)</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;      {</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;        b = <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#aaa2648ff66a839c5da9130e4195f0226">builtin_address_internal</a> (wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>, 0);</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;        <span class="keywordflow">if</span> (b == 0 || (b-&gt;<a class="code" href="../../d7/d41/builtins_8h.html#a9f583bfe9459f1e181c58a79a0f49a8e">flags</a> &amp; <a class="code" href="../../d7/d41/builtins_8h.html#ae70f9097f113b1c52cabc5871556175f">ASSIGNMENT_BUILTIN</a>) == 0)</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b &amp;&amp; (b-&gt;<a class="code" href="../../d7/d41/builtins_8h.html#a9f583bfe9459f1e181c58a79a0f49a8e">flags</a> &amp; <a class="code" href="../../d7/d41/builtins_8h.html#ae70f9097f113b1c52cabc5871556175f">ASSIGNMENT_BUILTIN</a>))</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;          wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#aaf191cb3477717d8b7479fda976063dd">flags</a> |= <a class="code" href="../../d0/d09/command_8h.html#ab599af35fc2f41cb142fad1c4906d5b4">W_ASSNBLTIN</a>;</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;      }</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;    <span class="keywordflow">if</span> ((wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#aaf191cb3477717d8b7479fda976063dd">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#ab599af35fc2f41cb142fad1c4906d5b4">W_ASSNBLTIN</a>) &amp;&amp; <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word+1, <span class="charliteral">&#39;A&#39;</span>))</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;      assoc = 1;</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#aaf191cb3477717d8b7479fda976063dd">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#ab599af35fc2f41cb142fad1c4906d5b4">W_ASSNBLTIN</a>) &amp;&amp; <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word+1, <span class="charliteral">&#39;a&#39;</span>))</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;      <a class="code" href="../../db/d63/array_8h.html#dc/daf/structarray">array</a> = 1;</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;    <span class="keywordflow">if</span> ((wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#aaf191cb3477717d8b7479fda976063dd">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#ab599af35fc2f41cb142fad1c4906d5b4">W_ASSNBLTIN</a>) &amp;&amp; <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word+1, <span class="charliteral">&#39;g&#39;</span>))</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;      global = 1;</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;      }</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;}</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160; </div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;<span class="comment">/* Set W_ARRAYREF on words that are valid array references to a builtin that</span></div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;<span class="comment">   accepts them. This is intended to completely replace assoc_expand_once in</span></div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;<span class="comment">   time. */</span></div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;fix_arrayref_words (words)</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *words;</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;{</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>, *wcmd;</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> *b;</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160; </div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;  <span class="keywordflow">if</span> (words == 0)</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160; </div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;  b = 0;</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160; </div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;  <span class="comment">/* Skip over assignment statements preceding a command name */</span></div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;  wcmd = words;</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;  <span class="keywordflow">for</span> (wcmd = words; wcmd; wcmd = wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">next</a>)</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;    <span class="keywordflow">if</span> ((wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#aaf191cb3477717d8b7479fda976063dd">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#af2e8d0ab8ebc8b5e53c931576981e376">W_ASSIGNMENT</a>) == 0)</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160; </div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;  <span class="comment">/* Skip over `command&#39; */</span></div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;  <span class="keywordflow">while</span> (wcmd &amp;&amp; wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a> &amp;&amp; wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a> &amp;&amp; <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>, <span class="stringliteral">&quot;command&quot;</span>))</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;    wcmd = wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">next</a>;</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160; </div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;  <span class="keywordflow">if</span> (wcmd == 0)</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160; </div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;  <span class="comment">/* If it&#39;s not an array reference builtin, we have nothing to do. */</span></div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;  b = <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#aaa2648ff66a839c5da9130e4195f0226">builtin_address_internal</a> (wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>, 0);</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;  <span class="keywordflow">if</span> (b == 0 || (b-&gt;<a class="code" href="../../d7/d41/builtins_8h.html#a9f583bfe9459f1e181c58a79a0f49a8e">flags</a> &amp; <a class="code" href="../../d7/d41/builtins_8h.html#a60148fc090c97451ba3428934f5a83c7">ARRAYREF_BUILTIN</a>) == 0)</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160; </div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> = wcmd-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">next</a>; <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>; <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> = <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;next)</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;    {</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word &amp;&amp; <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word &amp;&amp; valid_array_reference (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word, 0))</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;    <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#a99c7fca9ceb1707faca550b1c7835fed">W_ARRAYREF</a>;</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;    }</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;}</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160; </div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;<span class="preprocessor">#ifndef ISOPTION</span></div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;<span class="preprocessor">#  define ISOPTION(s, c)  (s[0] == &#39;-&#39; &amp;&amp; s[1] == c &amp;&amp; s[2] == 0)</span></div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160; </div>
<div class="line"><a name="l04294"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a705dc9ca17c27f695bf2d14d5bb7689b"> 4294</a></span>&#160;<span class="preprocessor">#define RETURN_NOT_COMMAND() \</span></div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;<span class="preprocessor">  do { if (typep) *typep = 0; return words; } while (0)</span></div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160; </div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;<span class="comment">/* Make sure we have `command [-p] command_name [args]&#39;, and handle skipping</span></div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;<span class="comment">   over the usual `--&#39; that ends the options.  Returns the updated WORDS with</span></div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;<span class="comment">   the command and options stripped and sets *TYPEP to a non-zero value. If</span></div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;<span class="comment">   any other options are supplied, or there is not a command_name, we punt</span></div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;<span class="comment">   and return a zero value in *TYPEP without updating WORDS. */</span></div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *</div>
<div class="line"><a name="l04303"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a60b15d409ef0038a13333542e1bdc668"> 4303</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a60b15d409ef0038a13333542e1bdc668">check_command_builtin</a> (words, typep)</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *words;</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;     <span class="keywordtype">int</span> *typep;</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;{</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a>;</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>;</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160; </div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;  <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> = words-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">next</a>;</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;  <a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a> = 1;</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160; </div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> &amp;&amp; <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ac6fd4af6373a4267036ffd49395a37a5">ISOPTION</a> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word, <span class="charliteral">&#39;p&#39;</span>))   <span class="comment">/* command -p */</span></div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;    {</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;<span class="preprocessor">#if defined (RESTRICTED_SHELL)</span></div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;      <span class="keywordflow">if</span> (restricted)</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#a705dc9ca17c27f695bf2d14d5bb7689b">RETURN_NOT_COMMAND</a>();</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;      <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> = <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;next;</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;      <a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a> = 2;</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;    }</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160; </div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> &amp;&amp; <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ac6fd4af6373a4267036ffd49395a37a5">ISOPTION</a> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word, <span class="charliteral">&#39;-&#39;</span>))   <span class="comment">/* command [-p] -- */</span></div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;    <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> = <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;next;</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> &amp;&amp; <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word[0] == <span class="charliteral">&#39;-&#39;</span>)    <span class="comment">/* any other option */</span></div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#a705dc9ca17c27f695bf2d14d5bb7689b">RETURN_NOT_COMMAND</a>();</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160; </div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a> == 0 || <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>-&gt;word-&gt;word == 0)     <span class="comment">/* must have a command_name */</span></div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#a705dc9ca17c27f695bf2d14d5bb7689b">RETURN_NOT_COMMAND</a>();</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160; </div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;  <span class="keywordflow">if</span> (typep)</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;    *typep = <a class="code" href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a>;</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a>;</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;}</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160; </div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;<span class="comment">/* Return 1 if the file found by searching $PATH for PATHNAME, defaulting</span></div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;<span class="comment">   to PATHNAME, is a directory.  Used by the autocd code below. */</span></div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l04339"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a5b750f02ecdf501655a322814af736f5"> 4339</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a5b750f02ecdf501655a322814af736f5">is_dirname</a> (pathname)</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;     <span class="keywordtype">char</span> *pathname;</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;{</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;  <span class="keywordtype">char</span> *temp;</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;  <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160; </div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;  temp = <a class="code" href="../../d0/da6/findcmd_8c.html#a6dde73e7143fc8fa2f1e94534a36a00d">search_for_command</a> (pathname, 0);</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;  ret = temp ? <a class="code" href="../../d1/dca/general_8c.html#a862a9f80c5d26246cc559819191eb09d">file_isdir</a> (temp) : <a class="code" href="../../d1/dca/general_8c.html#a862a9f80c5d26246cc559819191eb09d">file_isdir</a> (pathname);</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (temp);</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;  <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;}</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160; </div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;<span class="comment">/* The meaty part of all the executions.  We have to start hacking the</span></div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;<span class="comment">   real execution of commands here.  Fork a process, set things up,</span></div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;<span class="comment">   execute the command. */</span></div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l04355"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ab8ab537a7847b1547b676333d29ef22a"> 4355</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#ab8ab537a7847b1547b676333d29ef22a">execute_simple_command</a> (simple_command, pipe_in, pipe_out, async, fds_to_close)</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#dd/d8e/structsimple__com">SIMPLE_COM</a> *simple_command;</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;     <span class="keywordtype">int</span> pipe_in, pipe_out, async;</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fds_to_close;</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;{</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *words, *lastword;</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;  <span class="keywordtype">char</span> *command_line, *lastarg, *temp;</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;  <span class="keywordtype">int</span> first_word_quoted, result, builtin_is_special, already_forked, dofork;</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;  <span class="keywordtype">int</span> fork_flags, cmdflags;</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;  <a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> old_last_async_pid;</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;  sh_builtin_func_t *<a class="code" href="../../d4/df7/atexit_8c.html#a2fda250c182c006e9741526a33e28747">builtin</a>;</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *<a class="code" href="../../de/dcc/awk_8c.html#a553299c54ca0f9dd61768a1f8a0e481a">func</a>;</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;  <span class="keyword">volatile</span> <span class="keywordtype">int</span> old_builtin, old_command_builtin;</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160; </div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;  result = <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad25b9d747d1c83b28178d77f0e76c426">special_builtin_failed</a> = builtin_is_special = 0;</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;  command_line = (<span class="keywordtype">char</span> *)0;</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160; </div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;  <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160; </div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;  <span class="comment">/* If we&#39;re in a function, update the line number information. */</span></div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a> &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> &amp;&amp; <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1abc92fadae94b5897f4f0144da01eb9">sourcelevel</a> == 0)</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;    {</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;      <span class="comment">/* line numbers in a function start at 1 */</span></div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;      <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> -= <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab44ee516a50d5f65c135f861c60f2418">function_line_number</a> - 1;</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> &lt;= 0)</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;    <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = 1;</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;    }</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160; </div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;  <span class="comment">/* Remember what this command line looks like at invocation. */</span></div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8ae2084fe2fa2b0677f27fd23b86a423">command_string_index</a> = 0;</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;  <a class="code" href="../../d6/dd8/print__cmd_8c.html#a0a9c06f34030b78c51610d45ce0294ef">print_simple_command</a> (simple_command);</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160; </div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>) == 0 &amp;&amp; (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> == 0 || (<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a>, <span class="stringliteral">&quot;trap&quot;</span>) == 0)))</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>) == 0 &amp;&amp; <a class="code" href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a> == 0)</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;    {</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a>);</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a65d53dc7e574c97d7ab5e3fb379e0ec5">the_printed_command</a> ? <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a65d53dc7e574c97d7ab5e3fb379e0ec5">the_printed_command</a>) : (<span class="keywordtype">char</span> *)0;</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;    }</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160; </div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;  <span class="comment">/* Run the debug trap before each simple command, but do it after we</span></div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;<span class="comment">     update the line number information. */</span></div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;  result = <a class="code" href="../../dc/d6f/trap_8c.html#afb3fc32343f5cb0e5fc204874ce470f1">run_debug_trap</a> ();</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;<span class="preprocessor">#if defined (DEBUGGER)</span></div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;  <span class="comment">/* In debugging mode, if the DEBUG trap returns a non-zero status, we</span></div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;<span class="comment">     skip the command. */</span></div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae85600df6e3b2823d986bd95288b7237">debugging_mode</a> &amp;&amp; result != <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160; </div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;  cmdflags = simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a3681da2bf1196015719c7c529a96bafe">flags</a>;</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160; </div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;  first_word_quoted =</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;    simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae7a7f329e99d6e622ca9a8daef38c155">words</a> ? (simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae7a7f329e99d6e622ca9a8daef38c155">words</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#aaf191cb3477717d8b7479fda976063dd">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#aeaff821980f0c3b0e991cd793a9f1ff2">W_QUOTED</a>) : 0;</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160; </div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;  <a class="code" href="../../d1/d93/subst_8c.html#a450ec566c0f8334a85dabc00c23e7621">last_command_subst_pid</a> = <a class="code" href="../../d3/d3a/jobs_8h.html#ad40327c746e8ef715109d9b9257eb991">NO_PID</a>;</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;  old_last_async_pid = <a class="code" href="../../df/d8e/jobs_8c.html#a2819d9527c8d26be39bb531290f4b597">last_asynchronous_pid</a>;</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160; </div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;  already_forked = 0;</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160; </div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;  <span class="comment">/* If we&#39;re in a pipeline or run in the background, set DOFORK so we</span></div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;<span class="comment">     make the child early, before word expansion.  This keeps assignment</span></div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;<span class="comment">     statements from affecting the parent shell&#39;s environment when they</span></div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;<span class="comment">     should not. */</span></div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;  dofork = pipe_in != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> || pipe_out != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> || async;</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160; </div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;  <span class="comment">/* Something like `%2 &amp;&#39; should restart job 2 in the background, not cause</span></div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;<span class="comment">     the shell to fork here. */</span></div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;  <span class="keywordflow">if</span> (dofork &amp;&amp; pipe_in == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp; pipe_out == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp;</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;    simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae7a7f329e99d6e622ca9a8daef38c155">words</a> &amp;&amp; simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae7a7f329e99d6e622ca9a8daef38c155">words</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a> &amp;&amp;</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;    simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae7a7f329e99d6e622ca9a8daef38c155">words</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a> &amp;&amp;</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;    (simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae7a7f329e99d6e622ca9a8daef38c155">words</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>[0] == <span class="charliteral">&#39;%&#39;</span>))</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;    dofork = 0;</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160; </div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;  <span class="keywordflow">if</span> (dofork)</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;    {</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160; </div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;      <span class="comment">/* Do this now, because execute_disk_command will do it anyway in the</span></div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;<span class="comment">     vast majority of cases. */</span></div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;      <a class="code" href="../../d5/de8/variables_8c.html#abff3bc53bcf2d94b4826999c863d8701">maybe_make_export_env</a> ();</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160; </div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;      <span class="comment">/* Don&#39;t let a DEBUG trap overwrite the command string to be saved with</span></div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;<span class="comment">     the process/job associated with this child. */</span></div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;      fork_flags = async ? <a class="code" href="../../d3/d3a/jobs_8h.html#a599efb6d8d8213160548a82f20c0a573">FORK_ASYNC</a> : 0;</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d8e/jobs_8c.html#ab6ee1058c7a454b7e482ce8fa34ddbb7">make_child</a> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a>), fork_flags) == 0)</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;    {</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;      already_forked = 1;</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;      cmdflags |= <a class="code" href="../../d0/d09/command_8h.html#ae7c225776eecb2f1a0b4de5ac1f6eff3">CMD_NO_FORK</a>;</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160; </div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;      <span class="comment">/* We redo some of what make_child() does with SUBSHELL_IGNTRAP */</span></div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> = <a class="code" href="../../d0/d09/command_8h.html#a41bcaa6d0d3a62c211c35e54638a382f">SUBSHELL_FORK</a>|<a class="code" href="../../d0/d09/command_8h.html#adfa45447c15cae4d950ac8bd196087ca">SUBSHELL_IGNTRAP</a>;    <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;      <span class="keywordflow">if</span> (pipe_in != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> || pipe_out != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#a1f4bab590838fd1ce5e0e8a4ba0c6f0b">SUBSHELL_PIPE</a>;</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;      <span class="keywordflow">if</span> (async)</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#abd94aff81c34160c8185303ebe67c539">SUBSHELL_ASYNC</a>;</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160; </div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;      <span class="comment">/* We need to do this before piping to handle some really</span></div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;<span class="comment">         pathological cases where one of the pipe file descriptors</span></div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;<span class="comment">         is &lt; 2. */</span></div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;      <span class="keywordflow">if</span> (fds_to_close)</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab3931fec983d0c379daa238a8438b8ff">close_fd_bitmap</a> (fds_to_close);</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160; </div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;      <span class="comment">/* If we fork because of an input pipe, note input pipe for later to</span></div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;<span class="comment">         inhibit async commands from redirecting stdin from /dev/null */</span></div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#adbcf768dde8fc18d3e314d07adcdb537">stdin_redir</a> |= pipe_in != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>;</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160; </div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac019991c9bd079990f1f720d21dabe7b">do_piping</a> (pipe_in, pipe_out);</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;      pipe_in = pipe_out = <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>;</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;<span class="preprocessor">#if defined (COPROCESS_SUPPORT)</span></div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;      coproc_closeall ();</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160; </div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;      <a class="code" href="../../df/d8e/jobs_8c.html#a2819d9527c8d26be39bb531290f4b597">last_asynchronous_pid</a> = old_last_async_pid;</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160; </div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;      <span class="keywordflow">if</span> (async)</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3c800265c671320a6dae122fd649438a">subshell_level</a>++;       <span class="comment">/* not for pipes yet */</span></div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160; </div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);         <span class="comment">/* child doesn&#39;t use pointer */</span></div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;    }</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;    {</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;      <span class="comment">/* Don&#39;t let simple commands that aren&#39;t the last command in a</span></div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;<span class="comment">         pipeline change $? for the rest of the pipeline (or at all). */</span></div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;      <span class="keywordflow">if</span> (pipe_out != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;        result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>;</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8160fde58a3713edb578714611bb192b">close_pipes</a> (pipe_in, pipe_out);</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;      command_line = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;      <span class="comment">/* don&#39;t free this. */</span></div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;      <span class="keywordflow">return</span> (result);</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;    }</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;    }</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160; </div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;  <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;     <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160; </div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;  <span class="comment">/* If we are re-running this as the result of executing the `command&#39;</span></div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;<span class="comment">     builtin, do not expand the command words a second time. */</span></div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;  <span class="keywordflow">if</span> ((cmdflags &amp; <a class="code" href="../../d0/d09/command_8h.html#a177ba2ebb0aea0441c83c39643ff5181">CMD_INHIBIT_EXPANSION</a>) == 0)</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;    {</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a0894ddd8e579b51a079a98fd212e389f">current_fds_to_close</a> = fds_to_close;</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a60b1ff1ecb7c0d67e4f17864c7ce6d07">fix_assignment_words</a> (simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae7a7f329e99d6e622ca9a8daef38c155">words</a>);</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;      fix_arrayref_words (simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae7a7f329e99d6e622ca9a8daef38c155">words</a>);</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;      <span class="comment">/* Pass the ignore return flag down to command substitutions */</span></div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;      <span class="keywordflow">if</span> (cmdflags &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>) <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aad9f5b507ca60fbc973c3a72eb893f69">comsub_ignore_return</a>++;</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;      words = <a class="code" href="../../d1/d93/subst_8c.html#af0a70d70f561d8c704b84085d43ada96">expand_words</a> (simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae7a7f329e99d6e622ca9a8daef38c155">words</a>);</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;      <span class="keywordflow">if</span> (cmdflags &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>)</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aad9f5b507ca60fbc973c3a72eb893f69">comsub_ignore_return</a>--;</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a0894ddd8e579b51a079a98fd212e389f">current_fds_to_close</a> = (<span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;    }</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;    words = <a class="code" href="../../df/dc8/copy__cmd_8c.html#a679eaec692763387c9c73afb6b298440">copy_word_list</a> (simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae7a7f329e99d6e622ca9a8daef38c155">words</a>);</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160; </div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;  <span class="comment">/* It is possible for WORDS not to have anything left in it.</span></div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;<span class="comment">     Perhaps all the words consisted of `$foo&#39;, and there was</span></div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;<span class="comment">     no variable `$foo&#39;. */</span></div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;  <span class="keywordflow">if</span> (words == 0)</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;    {</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> = 0;</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;      result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2ade75d1995aafc98bc9b3cbbca58b78">execute_null_command</a> (simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a8a9c45afa462969d01399d063320bd08">redirects</a>,</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;                     pipe_in, pipe_out,</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;                     already_forked ? 0 : async);</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;      <span class="keywordflow">if</span> (already_forked)</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;    <a class="code" href="../../d6/d4f/shell_8c.html#a8cd407122e8280f23456b4942f4b7505">sh_exit</a> (result);</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;    {</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ae593000921ec0a7ac666211486fbb0d3">bind_lastarg</a> ((<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;      <a class="code" href="../../d5/de8/variables_8c.html#abaf2261f7f3bb68f3cd41569afc050d0">set_pipestatus_from_exit</a> (result);</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;      <span class="keywordflow">return</span> (result);</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;    }</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;    }</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160; </div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;  lastarg = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160; </div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;simple-command&quot;</span>);</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160; </div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d70/flags_8c.html#a436283e4e22f5eabe0706666ddeee5c5">echo_command_at_execute</a> &amp;&amp; (cmdflags &amp; <a class="code" href="../../d0/d09/command_8h.html#a4577eeffb11f0901b14c4d82852eed26">CMD_COMMAND_BUILTIN</a>) == 0)</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;    <a class="code" href="../../d6/dd8/print__cmd_8c.html#ab6cd05af0fca1ca7a68b85fad289d5c0">xtrace_print_word_list</a> (words, 1);</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160; </div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;  <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> = (sh_builtin_func_t *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;  <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a> = (<a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160; </div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;  <span class="comment">/* This test is still here in case we want to change the command builtin</span></div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;<span class="comment">     handler code below to recursively call execute_simple_command (after</span></div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;<span class="comment">     modifying the simple_command struct). */</span></div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;  <span class="keywordflow">if</span> ((cmdflags &amp; <a class="code" href="../../d0/d09/command_8h.html#aff3dd0768a86c52f722064766eda4724">CMD_NO_FUNCTIONS</a>) == 0)</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;    {</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;      <span class="comment">/* Posix.2 says special builtins are found before functions.  We</span></div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;<span class="comment">     don&#39;t set builtin_is_special anywhere other than here, because</span></div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;<span class="comment">     this path is followed only when the `command&#39; builtin is *not*</span></div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;<span class="comment">     being used, and we don&#39;t want to exit the shell if a special</span></div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;<span class="comment">     builtin executed with `command builtin&#39; fails.  `command&#39; is not</span></div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;<span class="comment">     a special builtin. */</span></div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a>)</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;    {</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;      <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> = <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a2e9b85c566d5a2a4469239df1e345ea8">find_special_builtin</a> (words-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>);</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>)</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;        builtin_is_special = 1;</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;    }</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == 0)</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;    <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a> = <a class="code" href="../../d5/de8/variables_8c.html#a0bdef493f28c94bd031eac97c2b61a63">find_function</a> (words-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>);</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;    }</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160; </div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;  <span class="comment">/* What happens in posix mode when an assignment preceding a command name</span></div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;<span class="comment">     fails.  This should agree with the code in execute_cmd.c:</span></div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;<span class="comment">     do_assignment_statements(), even though I don&#39;t think it&#39;s executed any</span></div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;<span class="comment">     more. */</span></div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a> &amp;&amp; <a class="code" href="../../d5/de8/variables_8c.html#a250bc78dea0886230a2e134c73d94860">tempenv_assign_error</a>)</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;    {</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;<span class="preprocessor">#if defined (DEBUG)</span></div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;      <span class="comment">/* I don&#39;t know if this clause is ever executed, so let&#39;s check */</span></div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;itrace(<span class="stringliteral">&quot;execute_simple_command: posix mode tempenv assignment error&quot;</span>);</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;<span class="preprocessor">#if defined (STRICT_POSIX)</span></div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> ((<a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> == 0) ? <a class="code" href="../../da/d23/bashjmp_8h.html#a8bef93d1daf140c7adaa29304f5b8e49">FORCE_EOF</a> : <a class="code" href="../../da/d23/bashjmp_8h.html#adbaca35440ef5d1abf8a0084bf382b8b">DISCARD</a>);</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> == 0 &amp;&amp; builtin_is_special)</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;    <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#a8bef93d1daf140c7adaa29304f5b8e49">FORCE_EOF</a>);</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> == 0)</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;    <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#adbaca35440ef5d1abf8a0084bf382b8b">DISCARD</a>);    <span class="comment">/* XXX - maybe change later */</span></div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;    <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#adbaca35440ef5d1abf8a0084bf382b8b">DISCARD</a>);</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;    }</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;  <a class="code" href="../../d5/de8/variables_8c.html#a250bc78dea0886230a2e134c73d94860">tempenv_assign_error</a> = 0; <span class="comment">/* don&#39;t care about this any more */</span></div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160; </div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;  <span class="comment">/* This is where we handle the command builtin as a pseudo-reserved word</span></div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;<span class="comment">     prefix. This allows us to optimize away forks if we can. */</span></div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;  old_command_builtin = -1;</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == 0 &amp;&amp; <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a> == 0)</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;    {</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;      <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *disposer, *<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>;</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;      <span class="keywordtype">int</span> cmdtype;</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160; </div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;      <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> = <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a73c2de54d0d3e25843e274fbe390ecc5">find_shell_builtin</a> (words-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>);</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;      <span class="keywordflow">while</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == command_builtin)</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;    {</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;      disposer = words;</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;      cmdtype = 0;</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;      words = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a60b15d409ef0038a13333542e1bdc668">check_command_builtin</a> (words, &amp;cmdtype);</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;      <span class="keywordflow">if</span> (cmdtype &gt; 0)  <span class="comment">/* command -p [--] words */</span></div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;        {</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = disposer; <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;next != words; <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;next)</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;        ;</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;          <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>-&gt;next = 0;</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;          <a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a> (disposer);</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;          cmdflags |= <a class="code" href="../../d0/d09/command_8h.html#a4577eeffb11f0901b14c4d82852eed26">CMD_COMMAND_BUILTIN</a> | <a class="code" href="../../d0/d09/command_8h.html#aff3dd0768a86c52f722064766eda4724">CMD_NO_FUNCTIONS</a>;</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;          <span class="keywordflow">if</span> (cmdtype == 2)</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;        cmdflags |= <a class="code" href="../../d0/d09/command_8h.html#ab35c5ac23f228be18acfc99fdbac9077">CMD_STDPATH</a>;</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;          <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> = <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a73c2de54d0d3e25843e274fbe390ecc5">find_shell_builtin</a> (words-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>);</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;        }</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;    }</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;      <span class="keywordflow">if</span> (cmdflags &amp; <a class="code" href="../../d0/d09/command_8h.html#a4577eeffb11f0901b14c4d82852eed26">CMD_COMMAND_BUILTIN</a>)</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;    {</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;      old_command_builtin = <a class="code" href="../../de/d3d/execute__cmd_8c.html#aa9b5fa951b8a300744e59741641c3aa9">executing_command_builtin</a>;</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#aa9b5fa951b8a300744e59741641c3aa9">executing_command_builtin</a>);</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#aa9b5fa951b8a300744e59741641c3aa9">executing_command_builtin</a> |= 1;</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;    }        </div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;      <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> = 0;</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;    }</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160; </div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a>, words);</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;  <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160; </div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;  <span class="comment">/* Bind the last word in this command to &quot;$_&quot; after execution. */</span></div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;  <span class="keywordflow">for</span> (lastword = words; lastword-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">next</a>; lastword = lastword-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">next</a>)</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;    ;</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;  lastarg = lastword-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>;</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160; </div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;  <span class="comment">/* Is this command a job control related thing? */</span></div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;  <span class="keywordflow">if</span> (words-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>[0] == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; already_forked == 0)</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;    {</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> = async ? <span class="stringliteral">&quot;bg&quot;</span> : <span class="stringliteral">&quot;fg&quot;</span>;</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;      <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a7d899d070295fc2394135bd304e719d6">last_shell_builtin</a> = <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a90f34313402c8392a46af2a5d3147d89">this_shell_builtin</a>;</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;      <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a90f34313402c8392a46af2a5d3147d89">this_shell_builtin</a> = <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a8e6ca4e598b6ef3d0df58a81d74ee58e">builtin_address</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a>);</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;      result = (*this_shell_builtin) (words);</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;      <span class="keywordflow">goto</span> return_result;</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;    }</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160; </div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;  <span class="comment">/* One other possibililty.  The user may want to resume an existing job.</span></div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;<span class="comment">     If they do, find out whether this word is a candidate for a running</span></div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;<span class="comment">     job. */</span></div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/d8e/jobs_8c.html#a3002cbcd4a652dec2c5cef5ff3da446f">job_control</a> &amp;&amp; already_forked == 0 &amp;&amp; async == 0 &amp;&amp;</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;    !first_word_quoted &amp;&amp;</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;    !words-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">next</a> &amp;&amp;</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;    words-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>[0] &amp;&amp;</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;    !simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a8a9c45afa462969d01399d063320bd08">redirects</a> &amp;&amp;</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;    pipe_in == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp;</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;    pipe_out == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp;</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;    (temp = <a class="code" href="../../d5/de8/variables_8c.html#ad4773a87954c85e830411739af9bf4ff">get_string_value</a> (<span class="stringliteral">&quot;auto_resume&quot;</span>)))</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;    {</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>, jflags, started_status;</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160; </div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;      jflags = <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a0f881be1ea6840a4382d3729450f2022">JM_STOPPED</a>|<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a65c33e9e971de087b6357441523fbd99">JM_FIRSTMATCH</a>;</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (temp, <span class="stringliteral">&quot;exact&quot;</span>))</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;    jflags |= <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a78229726a4a99d2732aaab4139c8f9c0">JM_EXACT</a>;</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a> (temp, <span class="stringliteral">&quot;substring&quot;</span>))</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;    jflags |= <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1a4bca0696482eb509cb1e1de862e3e3">JM_SUBSTRING</a>;</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;    jflags |= <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ad22de2f33ff228aab7f5e6c7fd6c17ca">JM_PREFIX</a>;</div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;      <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> = get_job_by_name (words-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>, jflags);</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> != <a class="code" href="../../d3/d3a/jobs_8h.html#a6eba094b1ac1bc00e5883edd166bd944">NO_JOB</a>)</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;    {</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a951deebec0eab9fc9b0252296b96084a">run_unwind_frame</a> (<span class="stringliteral">&quot;simple-command&quot;</span>);</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> = <span class="stringliteral">&quot;fg&quot;</span>;</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;      <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a7d899d070295fc2394135bd304e719d6">last_shell_builtin</a> = <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a90f34313402c8392a46af2a5d3147d89">this_shell_builtin</a>;</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;      <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a90f34313402c8392a46af2a5d3147d89">this_shell_builtin</a> = <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a8e6ca4e598b6ef3d0df58a81d74ee58e">builtin_address</a> (<span class="stringliteral">&quot;fg&quot;</span>);</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160; </div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;      started_status = <a class="code" href="../../df/d8e/jobs_8c.html#abf725a8b0ca073cc1140e9f1d88b0c26">start_job</a> (<a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>, 1);</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;      <span class="keywordflow">return</span> ((started_status &lt; 0) ? <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a> : started_status);</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;    }</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;    }</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JOB_CONTROL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160; </div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;run_builtin:</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;  <span class="comment">/* Remember the name of this command globally. */</span></div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> = words-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>;</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160; </div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;  <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160; </div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;  <span class="comment">/* This command could be a shell builtin or a user-defined function.</span></div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;<span class="comment">     We have already found special builtins by this time, so we do not</span></div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;<span class="comment">     set builtin_is_special.  If this is a function or builtin, and we</span></div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;<span class="comment">     have pipes, then fork a subshell in here.  Otherwise, just execute</span></div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;<span class="comment">     the command directly. */</span></div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a> == 0 &amp;&amp; <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == 0)</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;    <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> = <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a73c2de54d0d3e25843e274fbe390ecc5">find_shell_builtin</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a>);</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160; </div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;  <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a7d899d070295fc2394135bd304e719d6">last_shell_builtin</a> = <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a90f34313402c8392a46af2a5d3147d89">this_shell_builtin</a>;</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;  <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a90f34313402c8392a46af2a5d3147d89">this_shell_builtin</a> = <a class="code" href="../../d4/df7/atexit_8c.html#a2fda250c182c006e9741526a33e28747">builtin</a>;</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160; </div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> || <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>)</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;    {</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>)</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;        {</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;      old_builtin = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a45e5b34044beedf4b9dbbcca9d3021e1">executing_builtin</a>;</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a45e5b34044beedf4b9dbbcca9d3021e1">executing_builtin</a>);   <span class="comment">/* modified in execute_builtin */</span></div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;      <span class="keywordflow">if</span> (old_command_builtin == -1)    <span class="comment">/* sentinel, can be set above */</span></div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;        {</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;          old_command_builtin = <a class="code" href="../../de/d3d/execute__cmd_8c.html#aa9b5fa951b8a300744e59741641c3aa9">executing_command_builtin</a>;</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;          <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#aa9b5fa951b8a300744e59741641c3aa9">executing_command_builtin</a>);   <span class="comment">/* ditto and set above */</span></div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;        }</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;        }</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;      <span class="keywordflow">if</span> (already_forked)</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;    {</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;      <span class="comment">/* reset_terminating_signals (); */</span>   <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;      <span class="comment">/* Reset the signal handlers in the child, but don&#39;t free the</span></div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;<span class="comment">         trap strings.  Set a flag noting that we have to free the</span></div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;<span class="comment">         trap strings if we run trap to change a signal disposition. */</span></div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#a9cb464e0fb2e6dfae6b9cd2fc41b9da0">reset_signal_handlers</a> ();</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#a293321462a0aa4e566ee3d432374bd5f">SUBSHELL_RESETTRAP</a>;</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> &amp;= ~<a class="code" href="../../d0/d09/command_8h.html#adfa45447c15cae4d950ac8bd196087ca">SUBSHELL_IGNTRAP</a>;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160; </div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;      <span class="keywordflow">if</span> (async)</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;        {</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;          <span class="keywordflow">if</span> ((cmdflags &amp; <a class="code" href="../../d0/d09/command_8h.html#a8df5f451751609f16a376892ad22d746">CMD_STDIN_REDIR</a>) &amp;&amp;</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;            pipe_in == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp;</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;            (<a class="code" href="../../d1/dfa/redir_8c.html#a1e243d74a4d24d4370a6109a3c35dec9">stdin_redirects</a> (simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a8a9c45afa462969d01399d063320bd08">redirects</a>) == 0))</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8b24e1d82ae54bc17b40215cda25f31e">async_redirect_stdin</a> ();</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;          <a class="code" href="../../de/d3d/execute__cmd_8c.html#a5ed5536c849572c51821ec199b9852ff">setup_async_signals</a> ();</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;        }</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160; </div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;      <span class="keywordflow">if</span> (async == 0)</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3c800265c671320a6dae122fd649438a">subshell_level</a>++;</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab60bb6183b48b4a619b88771cd46addb">execute_subshell_builtin_or_function</a></div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;        (words, simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a8a9c45afa462969d01399d063320bd08">redirects</a>, <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>, <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>,</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;         pipe_in, pipe_out, async, fds_to_close,</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;         cmdflags);</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3c800265c671320a6dae122fd649438a">subshell_level</a>--;</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;    }</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;    {</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;      result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab4f52fcbf43f98c10b0d186d0a0c6275">execute_builtin_or_function</a></div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;        (words, <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>, <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>, simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a8a9c45afa462969d01399d063320bd08">redirects</a>, fds_to_close,</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;         cmdflags);</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>)</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;        {</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;          <span class="keywordflow">if</span> (result &gt; <a class="code" href="../../df/d03/shell_8h.html#aab8ad1731884f4756ae845fcc0f0347b">EX_SHERRBASE</a>)</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;        {</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;          <span class="keywordflow">switch</span> (result)</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;            {</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../df/d03/shell_8h.html#ade2cf98ac7865060d8785d0a39fa10d1">EX_REDIRFAIL</a>:</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../df/d03/shell_8h.html#af85cc1ed597680c019ea25db77353008">EX_BADASSIGN</a>:</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../df/d03/shell_8h.html#ae076218ef389573d9638383622f87b37">EX_EXPFAIL</a>:</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;              <span class="comment">/* These errors cause non-interactive posix mode shells to exit */</span></div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a> &amp;&amp; builtin_is_special &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> == 0)</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;            {</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;              <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;              <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#ad4c19ce20bb4767ed705b1e79a72a30e">ERREXIT</a>);</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;            }</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../df/d03/shell_8h.html#a0d0d1e6c5fceeb4c2e1bec78f879400c">EX_DISKFALLBACK</a>:</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;              <span class="comment">/* XXX - experimental */</span></div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;              <a class="code" href="../../de/d3d/execute__cmd_8c.html#a45e5b34044beedf4b9dbbcca9d3021e1">executing_builtin</a> = old_builtin;</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;              <a class="code" href="../../de/d3d/execute__cmd_8c.html#aa9b5fa951b8a300744e59741641c3aa9">executing_command_builtin</a> = old_command_builtin;</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;              <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> = 0;</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160; </div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;              <span class="comment">/* The redirections have already been `undone&#39;, so this</span></div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;<span class="comment">             will have to do them again. But piping is forever. */</span></div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;              pipe_in = pipe_out = -1;</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;              <span class="keywordflow">goto</span> execute_from_filesystem;</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;            }</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;          result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#abfde83c7c9b6b0f3c316e1618323be82">builtin_status</a> (result);</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;          <span class="keywordflow">if</span> (builtin_is_special)</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;            <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad25b9d747d1c83b28178d77f0e76c426">special_builtin_failed</a> = 1; <span class="comment">/* XXX - take command builtin into account? */</span></div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;        }</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;          <span class="comment">/* In POSIX mode, if there are assignment statements preceding</span></div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;<span class="comment">         a special builtin, they persist after the builtin</span></div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;<span class="comment">         completes. */</span></div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a> &amp;&amp; builtin_is_special &amp;&amp; <a class="code" href="../../d5/de8/variables_8c.html#a55b4378b40fe00a9a40c01ec2ead1e50">temporary_env</a>)</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;        <a class="code" href="../../d5/de8/variables_8c.html#a49df372cd829eb64481af2cdd833b41e">merge_temporary_env</a> ();</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;        }</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;      <span class="keywordflow">else</span>      <span class="comment">/* function */</span></div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;        {</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;          <span class="keywordflow">if</span> (result == <a class="code" href="../../df/d03/shell_8h.html#abbdf9290893d2876419c13b7b28f5d4e">EX_USAGE</a>)</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;        result = <a class="code" href="../../df/d03/shell_8h.html#a581055db933838f9b6bcc2cff3450345">EX_BADUSAGE</a>;</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result &gt; <a class="code" href="../../df/d03/shell_8h.html#aab8ad1731884f4756ae845fcc0f0347b">EX_SHERRBASE</a>)</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;        result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#abfde83c7c9b6b0f3c316e1618323be82">builtin_status</a> (result);</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;        }</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160; </div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;      <a class="code" href="../../d5/de8/variables_8c.html#abaf2261f7f3bb68f3cd41569afc050d0">set_pipestatus_from_exit</a> (result);</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160; </div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;      <span class="keywordflow">goto</span> return_result;</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;    }</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;    }</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160; </div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ad7014f00dbb52018fb3c69685ddd2e5e">autocd</a> &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#aeb39d5d8ddd4957f1b01720fa0e37e36">interactive</a> &amp;&amp; words-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a> &amp;&amp; <a class="code" href="../../de/d3d/execute__cmd_8c.html#a5b750f02ecdf501655a322814af736f5">is_dirname</a> (words-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>))</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;    {</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;      words = <a class="code" href="../../d4/d97/make__cmd_8c.html#aa707cc6dc36f4646bd1b0c25d3082d9c">make_word_list</a> (<a class="code" href="../../d4/d97/make__cmd_8c.html#a1bf353c818fefb707867a3142c70f21f">make_word</a> (<span class="stringliteral">&quot;--&quot;</span>), words);</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;      words = <a class="code" href="../../d4/d97/make__cmd_8c.html#aa707cc6dc36f4646bd1b0c25d3082d9c">make_word_list</a> (<a class="code" href="../../d4/d97/make__cmd_8c.html#a1bf353c818fefb707867a3142c70f21f">make_word</a> (<span class="stringliteral">&quot;cd&quot;</span>), words);</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;      <a class="code" href="../../d6/dd8/print__cmd_8c.html#ab6cd05af0fca1ca7a68b85fad289d5c0">xtrace_print_word_list</a> (words, 0);</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;      <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a> = <a class="code" href="../../d5/de8/variables_8c.html#a0bdef493f28c94bd031eac97c2b61a63">find_function</a> (<span class="stringliteral">&quot;cd&quot;</span>);</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;      <span class="keywordflow">goto</span> run_builtin;</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;    }</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160; </div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;execute_from_filesystem:</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;  <span class="keywordflow">if</span> (command_line == 0)</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;    command_line = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a> ? <a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160; </div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;  <span class="comment">/* The old code did not test already_forked and only did this if</span></div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;<span class="comment">     subshell_environment&amp;SUBSHELL_COMSUB != 0 (comsubs and procsubs). Other</span></div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;<span class="comment">     uses of the no-fork optimization left FIFOs in $TMPDIR */</span></div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;  <span class="keywordflow">if</span> (already_forked == 0 &amp;&amp; (cmdflags &amp; <a class="code" href="../../d0/d09/command_8h.html#ae7c225776eecb2f1a0b4de5ac1f6eff3">CMD_NO_FORK</a>) &amp;&amp; fifos_pending() &gt; 0)</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;    cmdflags &amp;= ~<a class="code" href="../../d0/d09/command_8h.html#ae7c225776eecb2f1a0b4de5ac1f6eff3">CMD_NO_FORK</a>;</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;  result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac853bac06b7bf70a7fbdd252471a7feb">execute_disk_command</a> (words, simple_command-&gt;<a class="code" href="../../d0/d09/command_8h.html#a8a9c45afa462969d01399d063320bd08">redirects</a>, command_line,</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;            pipe_in, pipe_out, async, fds_to_close,</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;            cmdflags);</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160; </div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160; return_result:</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#ae593000921ec0a7ac666211486fbb0d3">bind_lastarg</a> (lastarg);</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;  <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (command_line);</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;  <a class="code" href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a> (words);</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>)</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;    {</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a45e5b34044beedf4b9dbbcca9d3021e1">executing_builtin</a> = old_builtin;</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#aa9b5fa951b8a300744e59741641c3aa9">executing_command_builtin</a> = old_command_builtin;</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;    }</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;simple-command&quot;</span>);</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">/* points to freed memory now */</span></div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;  <span class="keywordflow">return</span> (result);</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;}</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160; </div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;<span class="comment">/* Translate the special builtin exit statuses.  We don&#39;t really need a</span></div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;<span class="comment">   function for this; it&#39;s a placeholder for future work. */</span></div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l04832"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#abfde83c7c9b6b0f3c316e1618323be82"> 4832</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#abfde83c7c9b6b0f3c316e1618323be82">builtin_status</a> (result)</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;     <span class="keywordtype">int</span> result;</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;{</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;  <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160; </div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;  <span class="keywordflow">switch</span> (result)</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;    {</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../df/d03/shell_8h.html#abbdf9290893d2876419c13b7b28f5d4e">EX_USAGE</a>:</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../df/d03/shell_8h.html#ab6a2af45abb08038bc0d3d74e4a74d5c">EX_BADSYNTAX</a>:</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;      r = <a class="code" href="../../df/d03/shell_8h.html#a581055db933838f9b6bcc2cff3450345">EX_BADUSAGE</a>;</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../df/d03/shell_8h.html#ade2cf98ac7865060d8785d0a39fa10d1">EX_REDIRFAIL</a>:</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../df/d03/shell_8h.html#af85cc1ed597680c019ea25db77353008">EX_BADASSIGN</a>:</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../df/d03/shell_8h.html#ae076218ef389573d9638383622f87b37">EX_EXPFAIL</a>:</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;      r = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;      <span class="comment">/* other special exit statuses not yet defined */</span></div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;      r = (result &gt; <a class="code" href="../../df/d03/shell_8h.html#aab8ad1731884f4756ae845fcc0f0347b">EX_SHERRBASE</a>) ? <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a> : <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;    }</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;  <span class="keywordflow">return</span> (r);</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;}</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160; </div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l04857"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aa0e64220250a72b894c4015a2b11b263"> 4857</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#aa0e64220250a72b894c4015a2b11b263">execute_builtin</a> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>, words, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>, subshell)</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;     sh_builtin_func_t *<a class="code" href="../../d4/df7/atexit_8c.html#a2fda250c182c006e9741526a33e28747">builtin</a>;</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *words;</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>, subshell;</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;{</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;  <span class="keywordtype">int</span> result, eval_unwind, ignexit_flag;</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;  <span class="keywordtype">int</span> isbltinenv, should_keep;</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;  <span class="keywordtype">char</span> *error_trap;</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160; </div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;  error_trap = 0;</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;  should_keep = 0;</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160; </div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;  <span class="comment">/* The eval builtin calls parse_and_execute, which does not know about</span></div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;<span class="comment">     the setting of flags, and always calls the execution functions with</span></div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;<span class="comment">     flags that will exit the shell on an error if -e is set.  If the</span></div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;<span class="comment">     eval builtin is being called, and we&#39;re supposed to ignore the exit</span></div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;<span class="comment">     value of the command, we turn the -e flag off ourselves and disable</span></div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;<span class="comment">     the ERR trap, then restore them when the command completes.  This is</span></div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;<span class="comment">     also a problem (as below) for the command and source/. builtins. */</span></div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;  <span class="keywordflow">if</span> (subshell == 0 &amp;&amp; (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>) &amp;&amp;</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;    (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == eval_builtin || (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a4577eeffb11f0901b14c4d82852eed26">CMD_COMMAND_BUILTIN</a>) || <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == source_builtin))</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;    {</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;eval_builtin&quot;</span>);</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../d8/d70/flags_8c.html#ac3023292582a7e39e70495e655c8b926">exit_immediately_on_error</a>);</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a8fd93fac39713beb94eed7b21c9c7add">builtin_ignoring_errexit</a>);</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;      error_trap = <a class="code" href="../../d7/d0b/trap_8h.html#a0d0b0f81241e85b47963a2ee29583ddf">TRAP_STRING</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>);</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;      <span class="keywordflow">if</span> (error_trap)</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;    {</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;      error_trap = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (error_trap);</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../db/d0a/tre_8h.html#a2c3897f7c46ca54a2e0dd7b24a40c7cb">xfree</a>, error_trap);</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../dc/d6f/trap_8c.html#a4c3a29981c2f2eab0948f6306c295748">set_error_trap</a>, error_trap);</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#ae555f00c5fd27a5c1ef5fee58b206f59">restore_default_signal</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>);</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;    }</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;      <a class="code" href="../../d8/d70/flags_8c.html#ac3023292582a7e39e70495e655c8b926">exit_immediately_on_error</a> = 0;</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;      ignexit_flag = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8fd93fac39713beb94eed7b21c9c7add">builtin_ignoring_errexit</a>;</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8fd93fac39713beb94eed7b21c9c7add">builtin_ignoring_errexit</a> = 1;</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;      eval_unwind = 1;</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;    }</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;    eval_unwind = 0;</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160; </div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;  <span class="comment">/* The temporary environment for a builtin is supposed to apply to</span></div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;<span class="comment">     all commands executed by that builtin.  Currently, this is a</span></div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;<span class="comment">     problem only with the `unset&#39;, `source&#39; and `eval&#39; builtins.</span></div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;<span class="comment">     `mapfile&#39; is a special case because it uses evalstring (same as</span></div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;<span class="comment">     eval or source) to run its callbacks. */</span></div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;  <span class="comment">/* SHOULD_KEEP is for the pop_scope call below; it only matters when</span></div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;<span class="comment">     posixly_correct is set, but we should propagate the temporary environment</span></div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;<span class="comment">     to the enclosing environment only for special builtins. */</span></div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;  isbltinenv = (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == source_builtin || <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == eval_builtin || <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == unset_builtin || <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == mapfile_builtin);</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;  should_keep = isbltinenv &amp;&amp; <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> != mapfile_builtin;</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;<span class="preprocessor">#if defined (HISTORY) &amp;&amp; defined (READLINE)</span></div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == fc_builtin || <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == read_builtin)</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;    {</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;      isbltinenv = 1;</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;      should_keep = 0;</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;    }</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160; </div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;  <span class="keywordflow">if</span> (isbltinenv)</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;    {</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;      <span class="keywordflow">if</span> (subshell == 0)</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;builtin_env&quot;</span>);</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160; </div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/de8/variables_8c.html#a55b4378b40fe00a9a40c01ec2ead1e50">temporary_env</a>)</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;    {</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;      <a class="code" href="../../d5/de8/variables_8c.html#a5ad89fcb2c09a8f7b1efbe13d4c16e19">push_scope</a> (<a class="code" href="../../de/dca/variables_8h.html#a49d3d21b5f7c3dd29eee4a62b70daea7">VC_BLTNENV</a>, <a class="code" href="../../d5/de8/variables_8c.html#a55b4378b40fe00a9a40c01ec2ead1e50">temporary_env</a>);</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a4577eeffb11f0901b14c4d82852eed26">CMD_COMMAND_BUILTIN</a>)</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;        should_keep = 0;</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;      <span class="keywordflow">if</span> (subshell == 0)</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;        <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../d5/de8/variables_8c.html#afedf57d70f43bfde607ad02b6365f85c">pop_scope</a>, should_keep ? <span class="stringliteral">&quot;1&quot;</span> : 0);</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;          <a class="code" href="../../d5/de8/variables_8c.html#a55b4378b40fe00a9a40c01ec2ead1e50">temporary_env</a> = (<a class="code" href="../../d4/d0d/hashlib_8h.html#de/d65/structhash__table">HASH_TABLE</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;     </div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;    }</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;    }</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160; </div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;  <span class="keywordflow">if</span> (subshell == 0 &amp;&amp; <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == eval_builtin)</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;    {</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a6f498e828b8666a02fb1b4d01f520495">evalnest_max</a> &gt; 0 &amp;&amp; <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8892e0542b9dc46c7b64afc9f21e9d7f">evalnest</a> &gt;= <a class="code" href="../../de/d3d/execute__cmd_8c.html#a6f498e828b8666a02fb1b4d01f520495">evalnest_max</a>)</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;    {</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;      <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;eval: maximum eval nesting level exceeded (%d)&quot;</span>), <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8892e0542b9dc46c7b64afc9f21e9d7f">evalnest</a>);</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8892e0542b9dc46c7b64afc9f21e9d7f">evalnest</a> = 0;</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#adbaca35440ef5d1abf8a0084bf382b8b">DISCARD</a>);</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;    }</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a8892e0542b9dc46c7b64afc9f21e9d7f">evalnest</a>);</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;      <span class="comment">/* The test for subshell == 0 above doesn&#39;t make a difference */</span></div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8892e0542b9dc46c7b64afc9f21e9d7f">evalnest</a>++;   <span class="comment">/* execute_subshell_builtin_or_function sets this to 0 */</span></div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;    }</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (subshell == 0 &amp;&amp; <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == source_builtin)</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;    {</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a57b0824f89ac7bc453201380bf956d80">sourcenest_max</a> &gt; 0 &amp;&amp; <a class="code" href="../../de/d3d/execute__cmd_8c.html#a47764b3fceed5c7ecb914ad54693ef92">sourcenest</a> &gt;= <a class="code" href="../../de/d3d/execute__cmd_8c.html#a57b0824f89ac7bc453201380bf956d80">sourcenest_max</a>)</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;    {</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;      <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;%s: maximum source nesting level exceeded (%d)&quot;</span>), <a class="code" href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a>, <a class="code" href="../../de/d3d/execute__cmd_8c.html#a47764b3fceed5c7ecb914ad54693ef92">sourcenest</a>);</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a47764b3fceed5c7ecb914ad54693ef92">sourcenest</a> = 0;</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#adbaca35440ef5d1abf8a0084bf382b8b">DISCARD</a>);</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;    }</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a47764b3fceed5c7ecb914ad54693ef92">sourcenest</a>);</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;      <span class="comment">/* The test for subshell == 0 above doesn&#39;t make a difference */</span></div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a47764b3fceed5c7ecb914ad54693ef92">sourcenest</a>++; <span class="comment">/* execute_subshell_builtin_or_function sets this to 0 */</span></div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;    }</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160; </div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;  <span class="comment">/* `return&#39; does a longjmp() back to a saved environment in execute_function.</span></div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;<span class="comment">     If a variable assignment list preceded the command, and the shell is</span></div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;<span class="comment">     running in POSIX mode, we need to merge that into the shell_variables</span></div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;<span class="comment">     table, since `return&#39; is a POSIX special builtin. We don&#39;t do this if</span></div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;<span class="comment">     it&#39;s being run by the `command&#39; builtin, since that&#39;s supposed to inhibit</span></div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;<span class="comment">     the special builtin properties. */</span></div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a> &amp;&amp; subshell == 0 &amp;&amp; <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == return_builtin &amp;&amp; (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a4577eeffb11f0901b14c4d82852eed26">CMD_COMMAND_BUILTIN</a>) == 0 &amp;&amp; <a class="code" href="../../d5/de8/variables_8c.html#a55b4378b40fe00a9a40c01ec2ead1e50">temporary_env</a>)</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;    {</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;return_temp_env&quot;</span>);</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../d5/de8/variables_8c.html#a49df372cd829eb64481af2cdd833b41e">merge_temporary_env</a>, (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;    }</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160; </div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a45e5b34044beedf4b9dbbcca9d3021e1">executing_builtin</a>++;</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#aa9b5fa951b8a300744e59741641c3aa9">executing_command_builtin</a> |= <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == command_builtin;</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;  result = ((*builtin) (words-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">next</a>));</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160; </div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;  <span class="comment">/* This shouldn&#39;t happen, but in case `return&#39; comes back instead of</span></div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;<span class="comment">     longjmp&#39;ing, we need to unwind. */</span></div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a> &amp;&amp; subshell == 0 &amp;&amp; <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == return_builtin &amp;&amp; <a class="code" href="../../d5/de8/variables_8c.html#a55b4378b40fe00a9a40c01ec2ead1e50">temporary_env</a>)</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;return_temp_env&quot;</span>);</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160; </div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;  <span class="keywordflow">if</span> (subshell == 0 &amp;&amp; isbltinenv)</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a951deebec0eab9fc9b0252296b96084a">run_unwind_frame</a> (<span class="stringliteral">&quot;builtin_env&quot;</span>);</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160; </div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;  <span class="keywordflow">if</span> (eval_unwind)</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;    {</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8fd93fac39713beb94eed7b21c9c7add">builtin_ignoring_errexit</a> = ignexit_flag;</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;      <a class="code" href="../../d8/d70/flags_8c.html#ac3023292582a7e39e70495e655c8b926">exit_immediately_on_error</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8fd93fac39713beb94eed7b21c9c7add">builtin_ignoring_errexit</a> ? 0 : <a class="code" href="../../d8/d70/flags_8c.html#adbdfd61b225fd344583d0559434a6219">errexit_flag</a>;</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;      <span class="keywordflow">if</span> (error_trap)</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;    {</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#a4c3a29981c2f2eab0948f6306c295748">set_error_trap</a> (error_trap);</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (error_trap);</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;    }</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;eval_builtin&quot;</span>);</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;    }</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160; </div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;  <span class="keywordflow">return</span> (result);</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;}</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160; </div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04997"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#af47f95faa612f212522c5ba4f8027e49"> 4997</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#af47f95faa612f212522c5ba4f8027e49">maybe_restore_getopt_state</a> (gs)</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;     <a class="code" href="../../d7/d92/apps_2base_2bash_2builtins_2getopt_8h.html#d3/d40/structsh__getopt__state">sh_getopt_state_t</a> *gs;</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;{</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;  <span class="comment">/* If we have a local copy of OPTIND and it&#39;s at the right (current)</span></div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;<span class="comment">     context, then we restore getopt&#39;s internal state.  If not, we just</span></div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;<span class="comment">     let it go.  We know there is a local OPTIND if gs-&gt;gs_flags &amp; 1.</span></div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;<span class="comment">     This is set below in execute_function() before the context is run. */</span></div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;  <span class="keywordflow">if</span> (gs-&gt;<a class="code" href="../../d7/d92/apps_2base_2bash_2builtins_2getopt_8h.html#a59f73d53734f7b77261e5ffaa626d514">gs_flags</a> &amp; 1)</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;    <a class="code" href="../../da/d78/apps_2base_2bash_2builtins_2getopt_8c.html#acc43be798b0d10f01d5fa309c1a04cd7">sh_getopt_restore_istate</a> (gs);</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (gs);</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;}</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160; </div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;restore_funcarray_state (fa)</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;     <span class="keyword">struct </span>func_array_state *fa;</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;{</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *nfv;</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;  <a class="code" href="../../da/df1/mkbuiltins_8c.html#d6/dde/structARRAY">ARRAY</a> *funcname_a;</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160; </div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;  <a class="code" href="../../db/d63/array_8h.html#ad2cef1191edf0732a7616ef952537941">array_pop</a> (fa-&gt;source_a);</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;  <a class="code" href="../../db/d63/array_8h.html#ad2cef1191edf0732a7616ef952537941">array_pop</a> (fa-&gt;lineno_a);</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160; </div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;  <a class="code" href="../../db/d63/array_8h.html#ac63895971d6e787ae2445ec37b7b8b5e">GET_ARRAY_FROM_VAR</a> (<span class="stringliteral">&quot;FUNCNAME&quot;</span>, nfv, funcname_a);</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;  <span class="keywordflow">if</span> (nfv == fa-&gt;funcname_v)</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;    <a class="code" href="../../db/d63/array_8h.html#ad2cef1191edf0732a7616ef952537941">array_pop</a> (funcname_a);</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160; </div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (fa);</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;}</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160; </div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05030"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a1615d23838a7e86caac9c44a3d9ed5c1"> 5030</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a1615d23838a7e86caac9c44a3d9ed5c1">execute_function</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, words, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>, fds_to_close, async, subshell)</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;     <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *<a class="code" href="../../de/dcc/awk_8c.html#a2e8d2426582aedb61af37935c1d60c1c">var</a>;</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *words;</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>;</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fds_to_close;</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;     <span class="keywordtype">int</span> async, subshell;</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;{</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;  <span class="keywordtype">int</span> return_val, result, <a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a>;</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;  <a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *<a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>, *fc, *save_current;</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;  <span class="keywordtype">char</span> *debug_trap, *error_trap, *return_trap;</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *funcname_v, *bash_source_v, *bash_lineno_v;</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;  <a class="code" href="../../da/df1/mkbuiltins_8c.html#d6/dde/structARRAY">ARRAY</a> *funcname_a;</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;  <span class="keyword">volatile</span> <a class="code" href="../../da/df1/mkbuiltins_8c.html#d6/dde/structARRAY">ARRAY</a> *bash_source_a;</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;  <span class="keyword">volatile</span> <a class="code" href="../../da/df1/mkbuiltins_8c.html#d6/dde/structARRAY">ARRAY</a> *bash_lineno_a;</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;  <span class="keyword">struct </span>func_array_state *fa;</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#da/d79/structfunction__def">FUNCTION_DEF</a> *shell_fn;</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;  <span class="keywordtype">char</span> *sfile, *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;  <a class="code" href="../../d7/d92/apps_2base_2bash_2builtins_2getopt_8h.html#d3/d40/structsh__getopt__state">sh_getopt_state_t</a> *gs;</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *gv;</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160; </div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;  <a class="code" href="../../df/d03/shell_8h.html#a482a130396fa6607745971d02671555b">USE_VAR</a>(fc);</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160; </div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a7956dbdb6364822323c7c5c149b929a9">funcnest_max</a> &gt; 0 &amp;&amp; <a class="code" href="../../de/d3d/execute__cmd_8c.html#a952ab702247ed8378bc80f9e85e14ad6">funcnest</a> &gt;= <a class="code" href="../../de/d3d/execute__cmd_8c.html#a7956dbdb6364822323c7c5c149b929a9">funcnest_max</a>)</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;    {</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;      <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;%s: maximum function nesting level exceeded (%d)&quot;</span>), <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>-&gt;name, <a class="code" href="../../de/d3d/execute__cmd_8c.html#a952ab702247ed8378bc80f9e85e14ad6">funcnest</a>);</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a952ab702247ed8378bc80f9e85e14ad6">funcnest</a> = 0; <span class="comment">/* XXX - should we reset it somewhere else? */</span></div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#adbaca35440ef5d1abf8a0084bf382b8b">DISCARD</a>);</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    }</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160; </div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;  <a class="code" href="../../db/d63/array_8h.html#ac63895971d6e787ae2445ec37b7b8b5e">GET_ARRAY_FROM_VAR</a> (<span class="stringliteral">&quot;FUNCNAME&quot;</span>, funcname_v, funcname_a);</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;  <a class="code" href="../../db/d63/array_8h.html#ac63895971d6e787ae2445ec37b7b8b5e">GET_ARRAY_FROM_VAR</a> (<span class="stringliteral">&quot;BASH_SOURCE&quot;</span>, bash_source_v, bash_source_a);</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;  <a class="code" href="../../db/d63/array_8h.html#ac63895971d6e787ae2445ec37b7b8b5e">GET_ARRAY_FROM_VAR</a> (<span class="stringliteral">&quot;BASH_LINENO&quot;</span>, bash_lineno_v, bash_lineno_a);</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160; </div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;  <a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a> = (<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *)<a class="code" href="../../df/dc8/copy__cmd_8c.html#a916f9421aca91f12372c68f0f1c38d56">copy_command</a> (<a class="code" href="../../de/dca/variables_8h.html#a053c4fedf7c1520b173476d31f44886e">function_cell</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>));</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a> &amp;&amp; (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>))</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;    <a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>-&gt;flags |= <a class="code" href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a>;</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160; </div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;  <span class="comment">/* A limited attempt at optimization: shell functions at the end of command</span></div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;<span class="comment">     substitutions that are already marked NO_FORK. */</span></div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;  <a class="code" href="../../d9/def/mb__64bit__map_8cpp.html#a7d5d79792cdea43010184ab50d14ac5a">if</a> (<a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a> &amp;&amp; (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#ae7c225776eecb2f1a0b4de5ac1f6eff3">CMD_NO_FORK</a>) &amp;&amp; (<a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#acaecc6b5540a23a9d1d411add740147a">SUBSHELL_COMSUB</a>))</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;    <a class="code" href="../../df/da3/evalstring_8c.html#abfa065b74c049e2e5397ba78a679460d">optimize_shell_function</a> (<a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>);</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160; </div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;  gs = <a class="code" href="../../da/d78/apps_2base_2bash_2builtins_2getopt_8c.html#a311a9c426a66d25fb3a12dc73f9791ac">sh_getopt_save_istate</a> ();</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;  <span class="keywordflow">if</span> (subshell == 0)</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;    {</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;function_calling&quot;</span>);</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;      <span class="comment">/* If the shell is in posix mode, this will push the variables in</span></div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;<span class="comment">     the temporary environment to the &quot;current shell environment&quot; (the</span></div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;<span class="comment">     global scope), and dispose the temporary env before setting it to</span></div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;<span class="comment">     NULL later. This behavior has disappeared from the latest edition</span></div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;<span class="comment">     of the standard, so I will eventually remove it from variables.c:</span></div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;<span class="comment">     push_var_context. */</span></div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;      <a class="code" href="../../d5/de8/variables_8c.html#a444bc242bac965d54ef1acd50f0e35a8">push_context</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>-&gt;name, subshell, <a class="code" href="../../d5/de8/variables_8c.html#a55b4378b40fe00a9a40c01ec2ead1e50">temporary_env</a>);</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;      <span class="comment">/* This has to be before the pop_context(), because the unwinding of</span></div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;<span class="comment">     local variables may cause the restore of a local declaration of</span></div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;<span class="comment">     OPTIND to force a getopts state reset. */</span></div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#af47f95faa612f212522c5ba4f8027e49">maybe_restore_getopt_state</a>, gs);</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../d5/de8/variables_8c.html#acaa213e334b066dd3a6d0a5fa894f4a1">pop_context</a>, (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a>);</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#ac29b5ce6cbc8a6038ebb54d18eb18a50">line_number_for_err_trap</a>);</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#ab44ee516a50d5f65c135f861c60f2418">function_line_number</a>);</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#add8e674e588c6cff9adb9177e416dc09">return_catch_flag</a>);</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#a8c0f49740777f3b5944398c2a2a7d4fb">unwind_protect_jmp_buf</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a2d6a7e8dd1530d8ddc57d42d0c689391">return_catch</a>);</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../da/d05/dispose__cmd_8c.html#a009e2d6264a3beacfbccca0830142d17">dispose_command</a>, (<span class="keywordtype">char</span> *)<a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>);</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#a327f2034e54d38bf7e62a7ac9cad6c9c">unwind_protect_pointer</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#ab2d3023f49ce851dcede46603b86f1c3">this_shell_function</a>);</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a952ab702247ed8378bc80f9e85e14ad6">funcnest</a>);</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;      <a class="code" href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a> (<a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a>);</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    }</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;    <a class="code" href="../../d5/de8/variables_8c.html#a444bc242bac965d54ef1acd50f0e35a8">push_context</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>-&gt;name, subshell, <a class="code" href="../../d5/de8/variables_8c.html#a55b4378b40fe00a9a40c01ec2ead1e50">temporary_env</a>);  <span class="comment">/* don&#39;t unwind-protect for subshells */</span></div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160; </div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;  <a class="code" href="../../d5/de8/variables_8c.html#a55b4378b40fe00a9a40c01ec2ead1e50">temporary_env</a> = (<a class="code" href="../../d4/d0d/hashlib_8h.html#de/d65/structhash__table">HASH_TABLE</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160; </div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab2d3023f49ce851dcede46603b86f1c3">this_shell_function</a> = <a class="code" href="../../de/dcc/awk_8c.html#a2e8d2426582aedb61af37935c1d60c1c">var</a>;</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;  <a class="code" href="../../d5/de8/variables_8c.html#acd8c077900840bb168559402a5a01c55">make_funcname_visible</a> (1);</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160; </div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;  debug_trap = <a class="code" href="../../d7/d0b/trap_8h.html#a0d0b0f81241e85b47963a2ee29583ddf">TRAP_STRING</a>(<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>);</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;  error_trap = <a class="code" href="../../d7/d0b/trap_8h.html#a0d0b0f81241e85b47963a2ee29583ddf">TRAP_STRING</a>(<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>);</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;  return_trap = <a class="code" href="../../d7/d0b/trap_8h.html#a0d0b0f81241e85b47963a2ee29583ddf">TRAP_STRING</a>(<a class="code" href="../../d7/d0b/trap_8h.html#a4c9dac40f27e5191e6127c7eb3402ed5">RETURN_TRAP</a>);</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;  </div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;  <span class="comment">/* The order of the unwind protects for debug_trap, error_trap and</span></div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;<span class="comment">     return_trap is important here!  unwind-protect commands are run</span></div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;<span class="comment">     in reverse order of registration.  If this causes problems, take</span></div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;<span class="comment">     out the xfree unwind-protect calls and live with the small memory leak. */</span></div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160; </div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;  <span class="comment">/* function_trace_mode != 0 means that all functions inherit the DEBUG trap.</span></div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;<span class="comment">     if the function has the trace attribute set, it inherits the DEBUG trap */</span></div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;  <span class="keywordflow">if</span> (debug_trap &amp;&amp; ((<a class="code" href="../../de/dca/variables_8h.html#a716e26d6d59095d606e0d04b4dc59afc">trace_p</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>) == 0) &amp;&amp; <a class="code" href="../../d8/d70/flags_8c.html#a28bf95cff4cdc03f5486eab4c67c9d1f">function_trace_mode</a> == 0))</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;    {</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;      <span class="keywordflow">if</span> (subshell == 0)</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;    {</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;      debug_trap = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (debug_trap);</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../db/d0a/tre_8h.html#a2c3897f7c46ca54a2e0dd7b24a40c7cb">xfree</a>, debug_trap);</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../dc/d6f/trap_8c.html#a70e4df5dce5f6815e43a0b7e28b4a3ec">maybe_set_debug_trap</a>, debug_trap);</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;    }</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#ae555f00c5fd27a5c1ef5fee58b206f59">restore_default_signal</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>);</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;    }</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160; </div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;  <span class="comment">/* error_trace_mode != 0 means that functions inherit the ERR trap. */</span></div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;  <span class="keywordflow">if</span> (error_trap &amp;&amp; <a class="code" href="../../d8/d70/flags_8c.html#a8a88d10677eb2ebcd5a383565bb46d86">error_trace_mode</a> == 0)</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;    {</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;      <span class="keywordflow">if</span> (subshell == 0)</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;    {</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;      error_trap = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (error_trap);</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../db/d0a/tre_8h.html#a2c3897f7c46ca54a2e0dd7b24a40c7cb">xfree</a>, error_trap);</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../dc/d6f/trap_8c.html#a8c1f1ec015972e46c6c8eb41c2c79453">maybe_set_error_trap</a>, error_trap);</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;    }</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#ae555f00c5fd27a5c1ef5fee58b206f59">restore_default_signal</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a>);</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;    }</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160; </div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;  <span class="comment">/* Shell functions inherit the RETURN trap if function tracing is on</span></div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;<span class="comment">     globally or on individually for this function. */</span></div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;  <span class="keywordflow">if</span> (return_trap &amp;&amp; (<a class="code" href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a>) || ((<a class="code" href="../../de/dca/variables_8h.html#a716e26d6d59095d606e0d04b4dc59afc">trace_p</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>) == 0) &amp;&amp; <a class="code" href="../../d8/d70/flags_8c.html#a28bf95cff4cdc03f5486eab4c67c9d1f">function_trace_mode</a> == 0)))</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;    {</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;      <span class="keywordflow">if</span> (subshell == 0)</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;    {</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;      return_trap = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (return_trap);</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../db/d0a/tre_8h.html#a2c3897f7c46ca54a2e0dd7b24a40c7cb">xfree</a>, return_trap);</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../dc/d6f/trap_8c.html#ab8bb6fd090c7225c52e20fe8356be227">maybe_set_return_trap</a>, return_trap);</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;    }</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#ae555f00c5fd27a5c1ef5fee58b206f59">restore_default_signal</a> (<a class="code" href="../../d7/d0b/trap_8h.html#a4c9dac40f27e5191e6127c7eb3402ed5">RETURN_TRAP</a>);</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;    }</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;  </div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a952ab702247ed8378bc80f9e85e14ad6">funcnest</a>++;</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;  <span class="comment">/* This is quite similar to the code in shell.c and elsewhere. */</span></div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;  shell_fn = <a class="code" href="../../d5/de8/variables_8c.html#a97e25ab9e980d739e27a8ba6584cb452">find_function_def</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#ab2d3023f49ce851dcede46603b86f1c3">this_shell_function</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a1cd70c44962eefd96c2f97444f004946">name</a>);</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;  sfile = shell_fn ? shell_fn-&gt;<a class="code" href="../../d0/d09/command_8h.html#ad21801282b94695a306f3864c2bd7376">source_file</a> : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;  <a class="code" href="../../db/d63/array_8h.html#a15175f1b91d83a82de68418a6c52dd6e">array_push</a> ((<a class="code" href="../../da/df1/mkbuiltins_8c.html#d6/dde/structARRAY">ARRAY</a> *)funcname_a, <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab2d3023f49ce851dcede46603b86f1c3">this_shell_function</a>-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a1cd70c44962eefd96c2f97444f004946">name</a>);</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160; </div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;  <a class="code" href="../../db/d63/array_8h.html#a15175f1b91d83a82de68418a6c52dd6e">array_push</a> ((<a class="code" href="../../da/df1/mkbuiltins_8c.html#d6/dde/structARRAY">ARRAY</a> *)bash_source_a, sfile);</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;  <a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a81ca66f582cef3392d096591f628284a">GET_LINE_NUMBER</a> ();</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;  <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../df/d57/itos_8c.html#a4458df0c815a2822d5129649049b85b9">itos</a> (<a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a>);</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;  <a class="code" href="../../db/d63/array_8h.html#a15175f1b91d83a82de68418a6c52dd6e">array_push</a> ((<a class="code" href="../../da/df1/mkbuiltins_8c.html#d6/dde/structARRAY">ARRAY</a> *)bash_lineno_a, <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;  <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160; </div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;  fa = (<span class="keyword">struct </span>func_array_state *)<a class="code" href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a> (<span class="keyword">sizeof</span> (<span class="keyword">struct</span> func_array_state));</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;  fa-&gt;source_a = (<a class="code" href="../../da/df1/mkbuiltins_8c.html#d6/dde/structARRAY">ARRAY</a> *)bash_source_a;</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;  fa-&gt;source_v = bash_source_v;</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;  fa-&gt;lineno_a = (<a class="code" href="../../da/df1/mkbuiltins_8c.html#d6/dde/structARRAY">ARRAY</a> *)bash_lineno_a;</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;  fa-&gt;lineno_v = bash_lineno_v;</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;  fa-&gt;funcname_a = (<a class="code" href="../../da/df1/mkbuiltins_8c.html#d6/dde/structARRAY">ARRAY</a> *)funcname_a;</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;  fa-&gt;funcname_v = funcname_v;</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;  <span class="keywordflow">if</span> (subshell == 0)</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (restore_funcarray_state, fa);</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160; </div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;  <span class="comment">/* The temporary environment for a function is supposed to apply to</span></div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;<span class="comment">     all commands executed within the function body. */</span></div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160; </div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;  <span class="comment">/* Initialize BASH_ARGC and BASH_ARGV before we blow away the positional</span></div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;<span class="comment">     parameters */</span></div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae85600df6e3b2823d986bd95288b7237">debugging_mode</a> || <a class="code" href="../../df/d03/shell_8h.html#a5474d60edee7e82e47b35345fa4e8ca2">shell_compatibility_level</a> &lt;= 44)</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;    <a class="code" href="../../d5/de8/variables_8c.html#a124a4716ebb0ec1580888f495c517eb6">init_bash_argv</a> ();</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160; </div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;  <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#aa036a3345e07ae426431ab5e3434b7b4">remember_args</a> (words-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">next</a>, 1);</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160; </div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;  <span class="comment">/* Update BASH_ARGV and BASH_ARGC */</span></div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae85600df6e3b2823d986bd95288b7237">debugging_mode</a>)</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;    {</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;      <a class="code" href="../../d5/de8/variables_8c.html#a77922b31ffead6b4a30cbeba7cb77081">push_args</a> (words-&gt;<a class="code" href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">next</a>);</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;      <span class="keywordflow">if</span> (subshell == 0)</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../d5/de8/variables_8c.html#af663cdd8588a2280bdc7941f12990f04">pop_args</a>, 0);</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;    }</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160; </div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;  <span class="comment">/* Number of the line on which the function body starts. */</span></div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;  <a class="code" href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab44ee516a50d5f65c135f861c60f2418">function_line_number</a> = <a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>-&gt;line;</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160; </div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;  <span class="keywordflow">if</span> (subshell)</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;    <a class="code" href="../../df/d8e/jobs_8c.html#ad569e95d0123bab22a08e7d38a3a06e1">stop_pipeline</a> (async, (<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160; </div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/d03/shell_8h.html#a5474d60edee7e82e47b35345fa4e8ca2">shell_compatibility_level</a> &gt; 43)</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;    <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a> = 0;</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160; </div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;  fc = <a class="code" href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a>;</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160; </div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac5ec072930036cec70df45194de4395e">from_return_trap</a> = 0;</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160; </div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#add8e674e588c6cff9adb9177e416dc09">return_catch_flag</a>++;</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;  return_val = <a class="code" href="../../d5/de0/include_2posixjmp_8h.html#a79529654058563578999fe05b86bb81c">setjmp_nosigs</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a2d6a7e8dd1530d8ddc57d42d0c689391">return_catch</a>);</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160; </div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;  <span class="keywordflow">if</span> (return_val)</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;    {</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;      result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#afe3eeaca94d517df5e3f8644b5dd92c8">return_catch_value</a>;</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;      <span class="comment">/* Run the RETURN trap in the function&#39;s context. */</span></div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;      save_current = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>;</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#ac5ec072930036cec70df45194de4395e">from_return_trap</a> == 0)</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;    <a class="code" href="../../dc/d6f/trap_8c.html#a31c5025854c1099ad5d12e60f252ac88">run_return_trap</a> ();</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a> = save_current;</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;    }</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;    {</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;      <span class="comment">/* Run the debug trap here so we can trap at the start of a function&#39;s</span></div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;<span class="comment">     execution rather than the execution of the body&#39;s first command. */</span></div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#acde9e3253ae6bd49b5d1f8f8d080f5d6">showing_function_line</a> = 1;</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;      save_current = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>;</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;      result = <a class="code" href="../../dc/d6f/trap_8c.html#afb3fc32343f5cb0e5fc204874ce470f1">run_debug_trap</a> ();</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;<span class="preprocessor">#if defined (DEBUGGER)</span></div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;      <span class="comment">/* In debugging mode, if the DEBUG trap returns a non-zero status, we</span></div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;<span class="comment">     skip the command. */</span></div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae85600df6e3b2823d986bd95288b7237">debugging_mode</a> == 0 || result == <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>)</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;    {</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#acde9e3253ae6bd49b5d1f8f8d080f5d6">showing_function_line</a> = 0;</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a> = save_current;</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;      result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (fc, 0, <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>, <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>, fds_to_close);</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160; </div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;      <span class="comment">/* Run the RETURN trap in the function&#39;s context */</span></div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;      save_current = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>;</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#a31c5025854c1099ad5d12e60f252ac88">run_return_trap</a> ();</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a> = save_current;</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;    }</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;      result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a> (fc, 0, <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>, <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>, fds_to_close);</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160; </div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;      save_current = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>;</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#a31c5025854c1099ad5d12e60f252ac88">run_return_trap</a> ();</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a> = save_current;</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#acde9e3253ae6bd49b5d1f8f8d080f5d6">showing_function_line</a> = 0;</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;    }</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160; </div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;  <span class="comment">/* If we have a local copy of OPTIND, note it in the saved getopts state. */</span></div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;  gv = <a class="code" href="../../d5/de8/variables_8c.html#aba8df3eeae83c8b121cc29a8984dfcdc">find_variable</a> (<span class="stringliteral">&quot;OPTIND&quot;</span>);</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;  <span class="keywordflow">if</span> (gv &amp;&amp; gv-&gt;<a class="code" href="../../d6/d90/hush_8c.html#a422d2931ad11d1875b0238974ad8f9dd">context</a> == <a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a>)</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;    gs-&gt;<a class="code" href="../../d7/d92/apps_2base_2bash_2builtins_2getopt_8h.html#a59f73d53734f7b77261e5ffaa626d514">gs_flags</a> |= 1;</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160; </div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;  <span class="keywordflow">if</span> (subshell == 0)</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a951deebec0eab9fc9b0252296b96084a">run_unwind_frame</a> (<span class="stringliteral">&quot;function_calling&quot;</span>);</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;<span class="preprocessor">#if defined (ARRAY_VARS)</span></div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;    {</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;      restore_funcarray_state (fa);</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;      <span class="comment">/* Restore BASH_ARGC and BASH_ARGV */</span></div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae85600df6e3b2823d986bd95288b7237">debugging_mode</a>)</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;    <a class="code" href="../../d5/de8/variables_8c.html#af663cdd8588a2280bdc7941f12990f04">pop_args</a> ();</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;    }</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160; </div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a> == 0 || <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab2d3023f49ce851dcede46603b86f1c3">this_shell_function</a> == 0)</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;    {</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;      <a class="code" href="../../d5/de8/variables_8c.html#acd8c077900840bb168559402a5a01c55">make_funcname_visible</a> (0);</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;      unlink_fifo_list ();</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;    }</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160; </div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;  <span class="keywordflow">return</span> (result);</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;}</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160; </div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;<span class="comment">/* A convenience routine for use by other parts of the shell to execute</span></div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;<span class="comment">   a particular shell function. */</span></div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l05290"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a70f9f43739b1acd7d295c15af55574af"> 5290</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a70f9f43739b1acd7d295c15af55574af">execute_shell_function</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, words)</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;     <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *<a class="code" href="../../de/dcc/awk_8c.html#a2e8d2426582aedb61af37935c1d60c1c">var</a>;</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *words;</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;{</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;  <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>;</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160; </div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;  <a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a669e55863f9f092fd1890cd55fe270a3">new_fd_bitmap</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a142381c77da2e39d79b831123613a416">FD_BITMAP_DEFAULT_SIZE</a>);</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;execute-shell-function&quot;</span>);</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a005a2ab83cc8e602e9cab28b32f71295">dispose_fd_bitmap</a>, (<span class="keywordtype">char</span> *)<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>);</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;      </div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;  ret = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1615d23838a7e86caac9c44a3d9ed5c1">execute_function</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, words, 0, <a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>, 0, 0);</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160; </div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a005a2ab83cc8e602e9cab28b32f71295">dispose_fd_bitmap</a> (<a class="code" href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">bitmap</a>);</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;execute-shell-function&quot;</span>);</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160; </div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;  <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;}</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160; </div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;<span class="comment">/* Execute a shell builtin or function in a subshell environment.  This</span></div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;<span class="comment">   routine does not return; it only calls exit().  If BUILTIN is non-null,</span></div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;<span class="comment">   it points to a function to call to execute a shell builtin; otherwise</span></div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;<span class="comment">   VAR points at the body of a function to execute.  WORDS is the arguments</span></div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;<span class="comment">   to the command, REDIRECTS specifies redirections to perform before the</span></div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;<span class="comment">   command is executed. */</span></div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l05316"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ab60bb6183b48b4a619b88771cd46addb"> 5316</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#ab60bb6183b48b4a619b88771cd46addb">execute_subshell_builtin_or_function</a> (words, redirects, <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>, <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>,</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;                      pipe_in, pipe_out, async, fds_to_close,</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;                      <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *words;</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *redirects;</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;     sh_builtin_func_t *<a class="code" href="../../d4/df7/atexit_8c.html#a2fda250c182c006e9741526a33e28747">builtin</a>;</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;     <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *<a class="code" href="../../de/dcc/awk_8c.html#a2e8d2426582aedb61af37935c1d60c1c">var</a>;</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;     <span class="keywordtype">int</span> pipe_in, pipe_out, async;</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fds_to_close;</div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>;</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;{</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;  <span class="keywordtype">int</span> result, r, funcvalue;</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;  <span class="keywordtype">int</span> jobs_hack;</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160; </div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;  jobs_hack = (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == jobs_builtin) &amp;&amp;</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;        ((<a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#abd94aff81c34160c8185303ebe67c539">SUBSHELL_ASYNC</a>) == 0 || pipe_out != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>);</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160; </div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;  <span class="comment">/* A subshell is neither a login shell nor interactive. */</span></div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;  <a class="code" href="../../d6/d4f/shell_8c.html#a1f22336e1dd4c10975bf2fef179f6bce">login_shell</a> = <a class="code" href="../../d6/d4f/shell_8c.html#aeb39d5d8ddd4957f1b01720fa0e37e36">interactive</a> = 0;</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == eval_builtin)</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8892e0542b9dc46c7b64afc9f21e9d7f">evalnest</a> = 0;</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == source_builtin)</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#a47764b3fceed5c7ecb914ad54693ef92">sourcenest</a> = 0;</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160; </div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;  <span class="keywordflow">if</span> (async)</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#abd94aff81c34160c8185303ebe67c539">SUBSHELL_ASYNC</a>;</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;  <span class="keywordflow">if</span> (pipe_in != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> || pipe_out != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#a1f4bab590838fd1ce5e0e8a4ba0c6f0b">SUBSHELL_PIPE</a>;</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160; </div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;  <a class="code" href="../../d5/de8/variables_8c.html#abff3bc53bcf2d94b4826999c863d8701">maybe_make_export_env</a> (); <span class="comment">/* XXX - is this needed? */</span></div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160; </div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;  <span class="comment">/* Eradicate all traces of job control after we fork the subshell, so</span></div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;<span class="comment">     all jobs begun by this subshell are in the same process group as</span></div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;<span class="comment">     the shell itself. */</span></div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160; </div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;  <span class="comment">/* Allow the output of `jobs&#39; to be piped. */</span></div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;  <span class="keywordflow">if</span> (jobs_hack)</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;    <a class="code" href="../../df/d8e/jobs_8c.html#ac29c70bbf156a302776a486f60cb31e0">kill_current_pipeline</a> ();</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;    <a class="code" href="../../df/d8e/jobs_8c.html#ab9244e49349e5265eef7d020233848ae">without_job_control</a> ();</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160; </div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;  <a class="code" href="../../df/d8e/jobs_8c.html#a9c3599dc5b071245445a30237eefbe9c">set_sigchld_handler</a> ();</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;  <a class="code" href="../../df/d8e/jobs_8c.html#ab9244e49349e5265eef7d020233848ae">without_job_control</a> ();</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JOB_CONTROL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160; </div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;  <a class="code" href="../../dc/d6f/trap_8c.html#a85203bc0e3b2380073e79a6055a3c672">set_sigint_handler</a> ();</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160; </div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;  <span class="keywordflow">if</span> (fds_to_close)</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab3931fec983d0c379daa238a8438b8ff">close_fd_bitmap</a> (fds_to_close);</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160; </div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac019991c9bd079990f1f720d21dabe7b">do_piping</a> (pipe_in, pipe_out);</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160; </div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dfa/redir_8c.html#a52ce0ceb4aab5c01113e6ed10ef91222">do_redirections</a> (redirects, <a class="code" href="../../d1/dbf/redir_8h.html#ad236771164f9ee8cc2d118d7ad5ed812">RX_ACTIVE</a>) != 0)</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;    <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160; </div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>)</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;    {</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;      <span class="comment">/* Give builtins a place to jump back to on failure,</span></div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;<span class="comment">     so we don&#39;t go back up to main(). */</span></div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;      result = <a class="code" href="../../d5/de0/include_2posixjmp_8h.html#a79529654058563578999fe05b86bb81c">setjmp_nosigs</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#a047be68a91ac230623785fa32c056bd2">top_level</a>);</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160; </div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;      <span class="comment">/* Give the return builtin a place to jump to when executed in a subshell</span></div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;<span class="comment">         or pipeline */</span></div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;      funcvalue = 0;</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#add8e674e588c6cff9adb9177e416dc09">return_catch_flag</a> &amp;&amp; <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == return_builtin)</div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;        funcvalue = <a class="code" href="../../d5/de0/include_2posixjmp_8h.html#a79529654058563578999fe05b86bb81c">setjmp_nosigs</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a2d6a7e8dd1530d8ddc57d42d0c689391">return_catch</a>);</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160; </div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;      <span class="keywordflow">if</span> (result == <a class="code" href="../../da/d23/bashjmp_8h.html#aa33f61f9f10a8fc3b63f3d4c88bea71a">EXITPROG</a> || result == <a class="code" href="../../da/d23/bashjmp_8h.html#a5a58733a1d8c60573228ba0dc3ddd7b3">EXITBLTIN</a>)</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;    <a class="code" href="../../d6/d4f/shell_8c.html#a5b87ccc35dc6811b0a5c3f065a04acb4">subshell_exit</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>);</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result)</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;    <a class="code" href="../../d6/d4f/shell_8c.html#a5b87ccc35dc6811b0a5c3f065a04acb4">subshell_exit</a> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (funcvalue)</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;    <a class="code" href="../../d6/d4f/shell_8c.html#a5b87ccc35dc6811b0a5c3f065a04acb4">subshell_exit</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#afe3eeaca94d517df5e3f8644b5dd92c8">return_catch_value</a>);</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;    {</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;      r = <a class="code" href="../../de/d3d/execute__cmd_8c.html#aa0e64220250a72b894c4015a2b11b263">execute_builtin</a> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>, words, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>, 1);</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;      <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#adb974f28765a31026ee6bf71d5175951">fflush</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;      <span class="keywordflow">if</span> (r == <a class="code" href="../../df/d03/shell_8h.html#abbdf9290893d2876419c13b7b28f5d4e">EX_USAGE</a>)</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;        r = <a class="code" href="../../df/d03/shell_8h.html#a581055db933838f9b6bcc2cff3450345">EX_BADUSAGE</a>;</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;      <span class="comment">/* XXX - experimental */</span></div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r == <a class="code" href="../../df/d03/shell_8h.html#a0d0d1e6c5fceeb4c2e1bec78f879400c">EX_DISKFALLBACK</a>)</div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;        {</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;          <span class="keywordtype">char</span> *command_line;</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160; </div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;          command_line = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a> ? <a class="code" href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;          r = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac853bac06b7bf70a7fbdd252471a7feb">execute_disk_command</a> (words, (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)0, command_line,</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;          -1, -1, async, (<span class="keyword">struct</span> <a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *)0, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>|<a class="code" href="../../d0/d09/command_8h.html#ae7c225776eecb2f1a0b4de5ac1f6eff3">CMD_NO_FORK</a>);</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;        }</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;      <a class="code" href="../../d6/d4f/shell_8c.html#a5b87ccc35dc6811b0a5c3f065a04acb4">subshell_exit</a> (r);</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;    }</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;    }</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;    {</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;      r = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1615d23838a7e86caac9c44a3d9ed5c1">execute_function</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, words, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>, fds_to_close, async, 1);</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;      <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#adb974f28765a31026ee6bf71d5175951">fflush</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;      <a class="code" href="../../d6/d4f/shell_8c.html#a5b87ccc35dc6811b0a5c3f065a04acb4">subshell_exit</a> (r);</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;    }</div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;}</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160; </div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;<span class="comment">/* Execute a builtin or function in the current shell context.  If BUILTIN</span></div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;<span class="comment">   is non-null, it is the builtin command to execute, otherwise VAR points</span></div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;<span class="comment">   to the body of a function.  WORDS are the command&#39;s arguments, REDIRECTS</span></div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;<span class="comment">   are the redirections to perform.  FDS_TO_CLOSE is the usual bitmap of</span></div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;<span class="comment">   file descriptors to close.</span></div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;<span class="comment">   If BUILTIN is exec_builtin, the redirections specified in REDIRECTS are</span></div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;<span class="comment">   not undone before this function returns. */</span></div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05428"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ab4f52fcbf43f98c10b0d186d0a0c6275"> 5428</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#ab4f52fcbf43f98c10b0d186d0a0c6275">execute_builtin_or_function</a> (words, <a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>, <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, redirects,</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;                 fds_to_close, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *words;</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;     sh_builtin_func_t *<a class="code" href="../../d4/df7/atexit_8c.html#a2fda250c182c006e9741526a33e28747">builtin</a>;</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;     <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *<a class="code" href="../../de/dcc/awk_8c.html#a2e8d2426582aedb61af37935c1d60c1c">var</a>;</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *redirects;</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fds_to_close;</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>;</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;{</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;  <span class="keywordtype">int</span> result;</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *saved_undo_list;</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;  <span class="keywordtype">int</span> ofifo, nfifo, osize;</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;  <span class="keywordtype">void</span> *ofifo_list;</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160; </div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;saved_fifos&quot;</span>);</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;  <span class="comment">/* If we return, we longjmp and don&#39;t get a chance to restore the old</span></div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;<span class="comment">     fifo list, so we add an unwind protect to free it */</span></div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;  ofifo = num_fifos ();</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;  ofifo_list = copy_fifo_list (&amp;osize);</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;  <span class="keywordflow">if</span> (ofifo_list)</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../db/d0a/tre_8h.html#a2c3897f7c46ca54a2e0dd7b24a40c7cb">xfree</a>, ofifo_list);</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160; </div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dfa/redir_8c.html#a52ce0ceb4aab5c01113e6ed10ef91222">do_redirections</a> (redirects, <a class="code" href="../../d1/dbf/redir_8h.html#ad236771164f9ee8cc2d118d7ad5ed812">RX_ACTIVE</a>|<a class="code" href="../../d1/dbf/redir_8h.html#a51ed68f61f8bb53c69c88f66f39b12e3">RX_UNDOABLE</a>) != 0)</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;    {</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab1423352d10fc4c84778b0fe96924a1f">undo_partial_redirects</a> ();</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a797afa3cbb061d676b2fbe714198933b">dispose_exec_redirects</a> ();</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (ofifo_list);</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#ade2cf98ac7865060d8785d0a39fa10d1">EX_REDIRFAIL</a>);    <span class="comment">/* was EXECUTION_FAILURE */</span></div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;    }</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160; </div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;  saved_undo_list = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a>;</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160; </div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;  <span class="comment">/* Calling the &quot;exec&quot; builtin changes redirections forever. */</span></div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == <a class="code" href="../../d6/d90/hush_8c.html#af6fb1d6f03bd117802f0d7191ceebbd4">exec_builtin</a>)</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;    {</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;      <a class="code" href="../../da/d05/dispose__cmd_8c.html#a6f4d35961973569c5a1e749855477221">dispose_redirects</a> (saved_undo_list);</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;      saved_undo_list = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3f8893369f0a245f96a82f8136dcf2fb">exec_redirection_undo_list</a>;</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3f8893369f0a245f96a82f8136dcf2fb">exec_redirection_undo_list</a> = (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;    }</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#a797afa3cbb061d676b2fbe714198933b">dispose_exec_redirects</a> ();</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160; </div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;  <span class="keywordflow">if</span> (saved_undo_list)</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;    {</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a> (<span class="stringliteral">&quot;saved-redirects&quot;</span>);</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a68213e3ab937aa4423c054f20000f89f">cleanup_redirects</a>, (<span class="keywordtype">char</span> *)saved_undo_list);</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;    }</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160; </div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a> = (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160; </div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>)</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;    result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#aa0e64220250a72b894c4015a2b11b263">execute_builtin</a> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>, words, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>, 0);</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;    result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1615d23838a7e86caac9c44a3d9ed5c1">execute_function</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, words, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>, fds_to_close, 0, 0);</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160; </div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;  <span class="comment">/* We do this before undoing the effects of any redirections. */</span></div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;  <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#adb974f28765a31026ee6bf71d5175951">fflush</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;  <a class="code" href="../../dd/dbf/fpurge_8c.html#aac0ebf7843548bef046be0fc758140a8">fpurge</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#a2f7ceb642982f0aab3b8cdf1e2d008ca">ferror</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>))</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;    <a class="code" href="../../d7/d0a/Userspace_2musl_2include_2stdio_8h.html#a917e77e365a5da28efb1963efafa8f23">clearerr</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);  </div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160; </div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;  <span class="comment">/* If we are executing the `command&#39; builtin, but this_shell_builtin is</span></div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;<span class="comment">     set to `exec_builtin&#39;, we know that we have something like</span></div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;<span class="comment">     `command exec [redirection]&#39;, since otherwise `exec&#39; would have</span></div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;<span class="comment">     overwritten the shell and we wouldn&#39;t get here.  In this case, we</span></div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;<span class="comment">     want to behave as if the `command&#39; builtin had not been specified</span></div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;<span class="comment">     and preserve the redirections. */</span></div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a> == command_builtin &amp;&amp; <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a90f34313402c8392a46af2a5d3147d89">this_shell_builtin</a> == <a class="code" href="../../d6/d90/hush_8c.html#af6fb1d6f03bd117802f0d7191ceebbd4">exec_builtin</a>)</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;    {</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;      <span class="keywordtype">int</span> discard;</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160; </div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;      discard = 0;</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;      <span class="keywordflow">if</span> (saved_undo_list)</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;    {</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;      <a class="code" href="../../da/d05/dispose__cmd_8c.html#a6f4d35961973569c5a1e749855477221">dispose_redirects</a> (saved_undo_list);</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;      discard = 1;</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;    }</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3f8893369f0a245f96a82f8136dcf2fb">exec_redirection_undo_list</a>;</div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;      saved_undo_list = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3f8893369f0a245f96a82f8136dcf2fb">exec_redirection_undo_list</a> = (<a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;      </div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;      <span class="keywordflow">if</span> (discard)</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;    <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;saved-redirects&quot;</span>);</div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;    }</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160; </div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;  <span class="keywordflow">if</span> (saved_undo_list)</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;    {</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a> = saved_undo_list;</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;      <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;saved-redirects&quot;</span>);</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;    }</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160; </div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab1423352d10fc4c84778b0fe96924a1f">undo_partial_redirects</a> ();</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160; </div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;  <span class="comment">/* Close any FIFOs created by this builtin or function. */</span></div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;  nfifo = num_fifos ();</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;  <span class="keywordflow">if</span> (nfifo &gt; ofifo)</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;    close_new_fifos (ofifo_list, osize);</div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;  <span class="keywordflow">if</span> (ofifo_list)</div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (ofifo_list);</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a> (<span class="stringliteral">&quot;saved_fifos&quot;</span>);</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160; </div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;  <span class="keywordflow">return</span> (result);</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;}</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160; </div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l05539"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a5ed5536c849572c51821ec199b9852ff"> 5539</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a5ed5536c849572c51821ec199b9852ff">setup_async_signals</a> ()</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;{</div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;<span class="preprocessor">#if defined (__BEOS__)</span></div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;  <a class="code" href="../../de/d62/sig_8h.html#aefdb4e4f01f2aa4133f26dbabcc8358b">set_signal_handler</a> (<a class="code" href="../../d4/dc2/Kernel_2include_2signal_8h.html#ae334395fdd2ddcad969d5988c071c289a907bcb512cd9f9dd5251127c235c7a9f">SIGHUP</a>, <a class="code" href="../../d5/dae/Userspace_2musl_2include_2signal_8h.html#acf0e499b0ac946b366b4f47a3b3e8b9e">SIG_IGN</a>); <span class="comment">/* they want csh-like behavior */</span></div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160; </div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/d8e/jobs_8c.html#a3002cbcd4a652dec2c5cef5ff3da446f">job_control</a> == 0)</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;    {</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;      <span class="comment">/* Make sure we get the original signal dispositions now so we don&#39;t</span></div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;<span class="comment">     confuse the trap builtin later if the subshell tries to use it to</span></div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;<span class="comment">     reset SIGINT/SIGQUIT.  Don&#39;t call set_signal_ignored; that sets</span></div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;<span class="comment">     the value of original_signals to SIG_IGN. Posix interpretation 751. */</span></div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#a166504ddbc13624fc0c82ae1637e3356">get_original_signal</a> (<a class="code" href="../../d4/dc2/Kernel_2include_2signal_8h.html#ae334395fdd2ddcad969d5988c071c289aa6d8f010823acc51e2d4f38da46d9cdf">SIGINT</a>);</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;      <a class="code" href="../../de/d62/sig_8h.html#aefdb4e4f01f2aa4133f26dbabcc8358b">set_signal_handler</a> (<a class="code" href="../../d4/dc2/Kernel_2include_2signal_8h.html#ae334395fdd2ddcad969d5988c071c289aa6d8f010823acc51e2d4f38da46d9cdf">SIGINT</a>, <a class="code" href="../../d5/dae/Userspace_2musl_2include_2signal_8h.html#acf0e499b0ac946b366b4f47a3b3e8b9e">SIG_IGN</a>);</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160; </div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#a166504ddbc13624fc0c82ae1637e3356">get_original_signal</a> (<a class="code" href="../../d4/dc2/Kernel_2include_2signal_8h.html#ae334395fdd2ddcad969d5988c071c289a13403cdea329ff2b8fb2fb3fd6c6d1e1">SIGQUIT</a>);</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;      <a class="code" href="../../de/d62/sig_8h.html#aefdb4e4f01f2aa4133f26dbabcc8358b">set_signal_handler</a> (<a class="code" href="../../d4/dc2/Kernel_2include_2signal_8h.html#ae334395fdd2ddcad969d5988c071c289a13403cdea329ff2b8fb2fb3fd6c6d1e1">SIGQUIT</a>, <a class="code" href="../../d5/dae/Userspace_2musl_2include_2signal_8h.html#acf0e499b0ac946b366b4f47a3b3e8b9e">SIG_IGN</a>);</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;    }</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;}</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160; </div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;<span class="comment">/* Execute a simple command that is hopefully defined in a disk file</span></div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;<span class="comment">   somewhere.</span></div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;<span class="comment">   1) fork ()</span></div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;<span class="comment">   2) connect pipes</span></div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;<span class="comment">   3) look up the command</span></div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;<span class="comment">   4) do redirections</span></div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;<span class="comment">   5) execve ()</span></div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;<span class="comment">   6) If the execve failed, see if the file has executable mode set.</span></div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;<span class="comment">   If so, and it isn&#39;t a directory, then execute its contents as</span></div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;<span class="comment">   a shell script.</span></div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;<span class="comment">   Note that the filename hashing stuff has to take place up here,</span></div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;<span class="comment">   in the parent.  This is probably why the Bourne style shells</span></div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;<span class="comment">   don&#39;t handle it, since that would require them to go through</span></div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;<span class="comment">   this gnarly hair, for no good reason.</span></div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;<span class="comment">   NOTE: callers expect this to fork or exit(). */</span></div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160; </div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;<span class="comment">/* Name of a shell function to call when a command name is not found. */</span></div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;<span class="preprocessor">#ifndef NOTFOUND_HOOK</span></div>
<div class="line"><a name="l05582"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#aa0c3290203cecf38723608bd7b028829"> 5582</a></span>&#160;<span class="preprocessor">#  define NOTFOUND_HOOK &quot;command_not_found_handle&quot;</span></div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160; </div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05586"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ac853bac06b7bf70a7fbdd252471a7feb"> 5586</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#ac853bac06b7bf70a7fbdd252471a7feb">execute_disk_command</a> (words, redirects, command_line, pipe_in, pipe_out,</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;              async, fds_to_close, cmdflags)</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *words;</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#dc/d1f/structredirect">REDIRECT</a> *redirects;</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;     <span class="keywordtype">char</span> *command_line;</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;     <span class="keywordtype">int</span> pipe_in, pipe_out, async;</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;     <span class="keyword">struct </span><a class="code" href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a> *fds_to_close;</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;     <span class="keywordtype">int</span> cmdflags;</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;{</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;  <span class="keywordtype">char</span> *pathname, *<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, **<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a>, *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;  <span class="keywordtype">int</span> nofork, stdpath, result, fork_flags;</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;  <a class="code" href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *hookf;</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;  <a class="code" href="../../d0/d09/command_8h.html#df/d75/structword__list">WORD_LIST</a> *wl;</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160; </div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;  stdpath = (cmdflags &amp; <a class="code" href="../../d0/d09/command_8h.html#ab35c5ac23f228be18acfc99fdbac9077">CMD_STDPATH</a>);   <span class="comment">/* use command -p path */</span></div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;  nofork = (cmdflags &amp; <a class="code" href="../../d0/d09/command_8h.html#ae7c225776eecb2f1a0b4de5ac1f6eff3">CMD_NO_FORK</a>);    <span class="comment">/* Don&#39;t fork, just exec, if no pipes */</span></div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;  pathname = words-&gt;<a class="code" href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word</a>-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>;</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160; </div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;  <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = 0;</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;  result = <a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>;</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;<span class="preprocessor">#if defined (RESTRICTED_SHELL)</span></div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;  <span class="keywordflow">if</span> (restricted &amp;&amp; <a class="code" href="../../d3/d88/mbschr_8c.html#acef2f11657ef6f35cc9e13ba4f6717d4">mbschr</a> (pathname, <span class="charliteral">&#39;/&#39;</span>))</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;    {</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;      <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;%s: restricted: cannot specify `/&#39; in command names&quot;</span>),</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;            pathname);</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;      result = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = <a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>;</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160; </div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;      <span class="comment">/* If we&#39;re not going to fork below, we must already be in a child</span></div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;<span class="comment">         process or a context in which it&#39;s safe to call exit(2).  */</span></div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;      <span class="keywordflow">if</span> (nofork &amp;&amp; pipe_in == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp; pipe_out == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;    <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>);</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;    <span class="keywordflow">goto</span> parent_return;</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;    }</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* RESTRICTED_SHELL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160; </div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;  <span class="comment">/* If we want to change this so `command -p&#39; (CMD_STDPATH) does not insert</span></div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;<span class="comment">     any pathname it finds into the hash table, it should read</span></div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;<span class="comment">     command = search_for_command (pathname, stdpath ? CMDSRCH_STDPATH : CMDSRCH_HASH);</span></div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a> = <a class="code" href="../../d0/da6/findcmd_8c.html#a6dde73e7143fc8fa2f1e94534a36a00d">search_for_command</a> (pathname, <a class="code" href="../../db/d19/findcmd_8h.html#a0c7efa109d1692a5fe14bcce5d9cc3de">CMDSRCH_HASH</a>|(stdpath ? <a class="code" href="../../db/d19/findcmd_8h.html#ab9f6db9a5dada215823ef980c655bece">CMDSRCH_STDPATH</a> : 0));</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;  <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160; </div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>)</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;    {</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;      <span class="comment">/* If we&#39;re optimizing out the fork (implicit `exec&#39;), decrement the</span></div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;<span class="comment">     shell level like `exec&#39; would do. Don&#39;t do this if we are already</span></div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;<span class="comment">     in a pipeline environment, assuming it&#39;s already been done. */</span></div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;      <span class="keywordflow">if</span> (nofork &amp;&amp; pipe_in == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp; pipe_out == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp; (<a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> &amp; <a class="code" href="../../d0/d09/command_8h.html#a1f4bab590838fd1ce5e0e8a4ba0c6f0b">SUBSHELL_PIPE</a>) == 0)</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;    <a class="code" href="../../d5/de8/variables_8c.html#a32ba7dd6e9a263744c6b71e8c1b80be5">adjust_shell_level</a> (-1);</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160; </div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;      <a class="code" href="../../d5/de8/variables_8c.html#abff3bc53bcf2d94b4826999c863d8701">maybe_make_export_env</a> ();</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;      <a class="code" href="../../d5/de8/variables_8c.html#a1db58ca40bd7a87c8eb709dbfda61cfc">put_command_name_into_env</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;    }</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160; </div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;  <span class="comment">/* We have to make the child before we check for the non-existence</span></div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;<span class="comment">     of COMMAND, since we want the error messages to be redirected. */</span></div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;  <span class="comment">/* If we can get away without forking and there are no pipes to deal with,</span></div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;<span class="comment">     don&#39;t bother to fork, just directly exec the command. */</span></div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;  <span class="keywordflow">if</span> (nofork &amp;&amp; pipe_in == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp; pipe_out == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;    <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> = 0;</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;    {</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;      fork_flags = async ? <a class="code" href="../../d3/d3a/jobs_8h.html#a599efb6d8d8213160548a82f20c0a573">FORK_ASYNC</a> : 0;</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;      <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> = <a class="code" href="../../df/d8e/jobs_8c.html#ab6ee1058c7a454b7e482ce8fa34ddbb7">make_child</a> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a> (command_line), fork_flags);</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;    }</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160; </div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> == 0)</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;    {</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;      <span class="keywordtype">int</span> old_interactive;</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160; </div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a84a126f6091a8deb8f85ea4b67bb5f63">reset_terminating_signals</a> (); <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;      <span class="comment">/* Cancel traps, in trap.c. */</span></div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;      <a class="code" href="../../dc/d6f/trap_8c.html#abf146dcf390dea0243465ed221b7df16">restore_original_signals</a> ();</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> &amp;= ~<a class="code" href="../../d0/d09/command_8h.html#adfa45447c15cae4d950ac8bd196087ca">SUBSHELL_IGNTRAP</a>;</div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160; </div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160; </div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;      <span class="comment">/* restore_original_signals may have undone the work done</span></div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;<span class="comment">     by make_child to ensure that SIGINT and SIGQUIT are ignored</span></div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;<span class="comment">     in asynchronous children. */</span></div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;      <span class="keywordflow">if</span> (async)</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;    {</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;      <span class="keywordflow">if</span> ((cmdflags &amp; <a class="code" href="../../d0/d09/command_8h.html#a8df5f451751609f16a376892ad22d746">CMD_STDIN_REDIR</a>) &amp;&amp;</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;        pipe_in == <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a> &amp;&amp;</div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;        (<a class="code" href="../../d1/dfa/redir_8c.html#a1e243d74a4d24d4370a6109a3c35dec9">stdin_redirects</a> (redirects) == 0))</div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8b24e1d82ae54bc17b40215cda25f31e">async_redirect_stdin</a> ();</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a5ed5536c849572c51821ec199b9852ff">setup_async_signals</a> ();</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;    }</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160; </div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;      <span class="comment">/* This functionality is now provided by close-on-exec of the</span></div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;<span class="comment">     file descriptors manipulated by redirection and piping.</span></div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;<span class="comment">     Some file descriptors still need to be closed in all children</span></div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;<span class="comment">     because of the way bash does pipes; fds_to_close is a</span></div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;<span class="comment">     bitmap of all such file descriptors. */</span></div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;      <span class="keywordflow">if</span> (fds_to_close)</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#ab3931fec983d0c379daa238a8438b8ff">close_fd_bitmap</a> (fds_to_close);</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160; </div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ac019991c9bd079990f1f720d21dabe7b">do_piping</a> (pipe_in, pipe_out);</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160; </div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;      old_interactive = <a class="code" href="../../d6/d4f/shell_8c.html#aeb39d5d8ddd4957f1b01720fa0e37e36">interactive</a>;</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;      <span class="keywordflow">if</span> (async)</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;    <a class="code" href="../../d6/d4f/shell_8c.html#aeb39d5d8ddd4957f1b01720fa0e37e36">interactive</a> = 0;</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160; </div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a> |= <a class="code" href="../../d0/d09/command_8h.html#a41bcaa6d0d3a62c211c35e54638a382f">SUBSHELL_FORK</a>;    <span class="comment">/* XXX - was just = */</span></div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160; </div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION) &amp;&amp; !defined (HAVE_DEV_FD)</span></div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;      clear_fifo_list ();   <span class="comment">/* XXX - we haven&#39;t created any FIFOs */</span></div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160; </div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;      <span class="comment">/* reset shell_pgrp to pipeline_pgrp here for word expansions performed</span></div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;<span class="comment">         by the redirections here? */</span></div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;      <span class="keywordflow">if</span> (redirects &amp;&amp; (<a class="code" href="../../d1/dfa/redir_8c.html#a52ce0ceb4aab5c01113e6ed10ef91222">do_redirections</a> (redirects, <a class="code" href="../../d1/dbf/redir_8h.html#ad236771164f9ee8cc2d118d7ad5ed812">RX_ACTIVE</a>) != 0))</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;    {</div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;      <span class="comment">/* Try to remove named pipes that may have been created as the</span></div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;<span class="comment">         result of redirections. */</span></div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;      unlink_all_fifos ();</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* PROCESS_SUBSTITUTION */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;      <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;    }</div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160; </div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION) &amp;&amp; !defined (HAVE_DEV_FD)</span></div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;      <span class="comment">/* This should only contain FIFOs created as part of redirection</span></div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;<span class="comment">     expansion. */</span></div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;      unlink_all_fifos ();</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160; </div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;      <span class="keywordflow">if</span> (async)</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;    <a class="code" href="../../d6/d4f/shell_8c.html#aeb39d5d8ddd4957f1b01720fa0e37e36">interactive</a> = old_interactive;</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160; </div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a> == 0)</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;    {</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;      hookf = <a class="code" href="../../d5/de8/variables_8c.html#a0bdef493f28c94bd031eac97c2b61a63">find_function</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#aa0c3290203cecf38723608bd7b028829">NOTFOUND_HOOK</a>);</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;      <span class="keywordflow">if</span> (hookf == 0)</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;        {</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;          <span class="comment">/* Make sure filenames are displayed using printable characters */</span></div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;          pathname = <a class="code" href="../../d1/dca/general_8c.html#a86f47e15e56f6165aa568f99fe79a1df">printable_filename</a> (pathname, 0);</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;          <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;%s: command not found&quot;</span>), pathname);</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;          <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a> (<a class="code" href="../../df/d03/shell_8h.html#a2c037626b616ec119287148e8a5ddbb5">EX_NOTFOUND</a>);   <span class="comment">/* Posix.2 says the exit status is 127 */</span></div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;        }</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160; </div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;      <span class="comment">/* We don&#39;t want to manage process groups for processes we start</span></div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;<span class="comment">         from here, so we turn off job control and don&#39;t attempt to</span></div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;<span class="comment">         manipulate the terminal&#39;s process group. */</span></div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;      <a class="code" href="../../df/d8e/jobs_8c.html#ab9244e49349e5265eef7d020233848ae">without_job_control</a> ();</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160; </div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;      <a class="code" href="../../df/d8e/jobs_8c.html#a9c3599dc5b071245445a30237eefbe9c">set_sigchld_handler</a> ();</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160; </div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;      wl = <a class="code" href="../../d4/d97/make__cmd_8c.html#aa707cc6dc36f4646bd1b0c25d3082d9c">make_word_list</a> (<a class="code" href="../../d4/d97/make__cmd_8c.html#a1bf353c818fefb707867a3142c70f21f">make_word</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#aa0c3290203cecf38723608bd7b028829">NOTFOUND_HOOK</a>), words);</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;      <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a70f9f43739b1acd7d295c15af55574af">execute_shell_function</a> (hookf, wl));</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;    }</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160; </div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;      <span class="comment">/* Execve expects the command name to be in args[0].  So we</span></div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;<span class="comment">     leave it there, in the same format that the user used to</span></div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;<span class="comment">     type it in. */</span></div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;      <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a> = <a class="code" href="../../da/d23/stringvec_8c.html#a8bf3763045513d74b1fc024f932ca0f4">strvec_from_word_list</a> (words, 0, 0, (<span class="keywordtype">int</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;      <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a0693bee68fcde1ddccb03d269b266187">shell_execve</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>, <a class="code" href="../../dd/d25/bperl_8c.html#a4ea453523fbcd79b0cfdb31ca1c4621b">export_env</a>));</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;    }</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;    {</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;parent_return:</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;      <a class="code" href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160; </div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;      <span class="comment">/* Make sure that the pipes are closed in the parent. */</span></div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8160fde58a3713edb578714611bb192b">close_pipes</a> (pipe_in, pipe_out);</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION) &amp;&amp; defined (HAVE_DEV_FD)</span></div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a> == 0)</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;        unlink_fifo_list ();</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;      <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;      <span class="keywordflow">return</span> (result);</div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;    }</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;}</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160; </div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;<span class="comment">/* CPP defines to decide whether a particular index into the #! line</span></div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;<span class="comment">   corresponds to a valid interpreter name or argument character, or</span></div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;<span class="comment">   whitespace.  The MSDOS define is to allow \r to be treated the same</span></div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;<span class="comment">   as \n. */</span></div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160; </div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;<span class="preprocessor">#if !defined (MSDOS)</span></div>
<div class="line"><a name="l05775"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a6d1cbe37a0a7b55c36778eae17531c48"> 5775</a></span>&#160;<span class="preprocessor">#  define STRINGCHAR(ind) \</span></div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;<span class="preprocessor">    (ind &lt; sample_len &amp;&amp; !whitespace (sample[ind]) &amp;&amp; sample[ind] != &#39;\n&#39;)</span></div>
<div class="line"><a name="l05777"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a28b62775289c02ab457a9407a6bf244d"> 5777</a></span>&#160;<span class="preprocessor">#  define WHITECHAR(ind) \</span></div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;<span class="preprocessor">    (ind &lt; sample_len &amp;&amp; whitespace (sample[ind]))</span></div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;<span class="preprocessor">#else   </span><span class="comment">/* MSDOS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;<span class="preprocessor">#  define STRINGCHAR(ind) \</span></div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;<span class="preprocessor">    (ind &lt; sample_len &amp;&amp; !whitespace (sample[ind]) &amp;&amp; sample[ind] != &#39;\n&#39; &amp;&amp; sample[ind] != &#39;\r&#39;)</span></div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;<span class="preprocessor">#  define WHITECHAR(ind) \</span></div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;<span class="preprocessor">    (ind &lt; sample_len &amp;&amp; whitespace (sample[ind]))</span></div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">/* MSDOS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160; </div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l05787"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a8b065c1edf88fcbfee0a98f4bd1e7a01"> 5787</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a8b065c1edf88fcbfee0a98f4bd1e7a01">getinterp</a> (sample, sample_len, endp)</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;     <span class="keywordtype">char</span> *sample;</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;     <span class="keywordtype">int</span> sample_len, *endp;</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;{</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;  <span class="keyword">register</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a51f8aaf013d643e0724e6f7eb8e47c4a">execname</a>;</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160; </div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;  <span class="comment">/* Find the name of the interpreter to exec. */</span></div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 2; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; sample_len &amp;&amp; <a class="code" href="../../d6/ddf/gen-helpfiles_8c.html#a6a8878e323ddb4bf57b7c9db293b3fd6">whitespace</a> (sample[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>]); <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++)</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;    ;</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160; </div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>; <a class="code" href="../../de/d3d/execute__cmd_8c.html#a6d1cbe37a0a7b55c36778eae17531c48">STRINGCHAR</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>); <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++)</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;    ;</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160; </div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;  <a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a51f8aaf013d643e0724e6f7eb8e47c4a">execname</a> = <a class="code" href="../../d1/d8f/stringlib_8c.html#a5e3a8603eefdb8820db8fc609f7a6a9d">substring</a> (sample, <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160; </div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;  <span class="keywordflow">if</span> (endp)</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;    *endp = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a51f8aaf013d643e0724e6f7eb8e47c4a">execname</a>;</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;}</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160; </div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;<span class="preprocessor">#if !defined (HAVE_HASH_BANG_EXEC)</span></div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;<span class="comment">/* If the operating system on which we&#39;re running does not handle</span></div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;<span class="comment">   the #! executable format, then help out.  SAMPLE is the text read</span></div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;<span class="comment">   from the file, SAMPLE_LEN characters.  COMMAND is the name of</span></div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;<span class="comment">   the script; it and ARGS, the arguments given by the user, will</span></div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;<span class="comment">   become arguments to the specified interpreter.  ENV is the environment</span></div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;<span class="comment">   to pass to the interpreter.</span></div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;<span class="comment">   The word immediately following the #! is the interpreter to execute.</span></div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;<span class="comment">   A single argument to the interpreter is allowed. */</span></div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160; </div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05821"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a50a1c19765ba15e04df6d007b92665b0"> 5821</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a50a1c19765ba15e04df6d007b92665b0">execute_shell_script</a> (sample, sample_len, <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>, <a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>)</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;     <span class="keywordtype">char</span> *sample;</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;     <span class="keywordtype">int</span> sample_len;</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;     <span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;     <span class="keywordtype">char</span> **<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a>, **<a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>;</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;{</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a51f8aaf013d643e0724e6f7eb8e47c4a">execname</a>, *firstarg;</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, size_increment, larry;</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160; </div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;  <span class="comment">/* Find the name of the interpreter to exec. */</span></div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;  <a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a51f8aaf013d643e0724e6f7eb8e47c4a">execname</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8b065c1edf88fcbfee0a98f4bd1e7a01">getinterp</a> (sample, sample_len, &amp;<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;  size_increment = 1;</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160; </div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;  <span class="comment">/* Now the argument, if any. */</span></div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;  <span class="keywordflow">for</span> (firstarg = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>; <a class="code" href="../../de/d3d/execute__cmd_8c.html#a28b62775289c02ab457a9407a6bf244d">WHITECHAR</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>); <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++)</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;    ;</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160; </div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;  <span class="comment">/* If there is more text on the line, then it is an argument for the</span></div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;<span class="comment">     interpreter. */</span></div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160; </div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a6d1cbe37a0a7b55c36778eae17531c48">STRINGCHAR</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>))  </div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;    {</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>; <a class="code" href="../../de/d3d/execute__cmd_8c.html#a6d1cbe37a0a7b55c36778eae17531c48">STRINGCHAR</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>); <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++)</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;    ;</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;      firstarg = <a class="code" href="../../d1/d8f/stringlib_8c.html#a5e3a8603eefdb8820db8fc609f7a6a9d">substring</a> ((<span class="keywordtype">char</span> *)sample, <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;      size_increment = 2;</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;    }</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160; </div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;  larry = <a class="code" href="../../da/d23/stringvec_8c.html#ac466714f61666a8f0858700c7482405b">strvec_len</a> (<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>) + size_increment;</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;  <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a> = <a class="code" href="../../da/d23/stringvec_8c.html#af21b7cbd459b016b99dd4f9c23dcb124">strvec_resize</a> (<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>, larry + 1);</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160; </div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = larry - 1; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>--)</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;    <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] = <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> - size_increment];</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160; </div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;  <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[0] = <a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a51f8aaf013d643e0724e6f7eb8e47c4a">execname</a>;</div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;  <span class="keywordflow">if</span> (firstarg)</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;    {</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;      <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[1] = firstarg;</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;      <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[2] = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;    }</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;    <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[1] = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160; </div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;  <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[larry] = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160; </div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a0693bee68fcde1ddccb03d269b266187">shell_execve</a> (<a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a51f8aaf013d643e0724e6f7eb8e47c4a">execname</a>, <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>, <a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>));</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;}</div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;<span class="preprocessor">#undef STRINGCHAR</span></div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;<span class="preprocessor">#undef WHITECHAR</span></div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160; </div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !HAVE_HASH_BANG_EXEC */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160; </div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l05874"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ae53493fb624a51ac814ac63b29e077bc"> 5874</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#ae53493fb624a51ac814ac63b29e077bc">initialize_subshell</a> ()</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;{</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;<span class="preprocessor">#if defined (ALIAS)</span></div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;  <span class="comment">/* Forget about any aliases that we knew of.  We are in a subshell. */</span></div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;  delete_all_aliases ();</div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ALIAS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160; </div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;<span class="preprocessor">#if defined (HISTORY)</span></div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;  <span class="comment">/* Forget about the history lines we have read.  This is a non-interactive</span></div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;<span class="comment">     subshell. */</span></div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;  <a class="code" href="../../da/dd8/bashhist_8h.html#a245c800288e30b34caa5045bb36070d2">history_lines_this_session</a> = 0;</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160; </div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;  <span class="comment">/* Forget about the way job control was working. We are in a subshell. */</span></div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;  <a class="code" href="../../df/d8e/jobs_8c.html#ab9244e49349e5265eef7d020233848ae">without_job_control</a> ();</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160; </div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;<span class="preprocessor">#if defined (JOB_CONTROL)</span></div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;  <a class="code" href="../../df/d8e/jobs_8c.html#a9c3599dc5b071245445a30237eefbe9c">set_sigchld_handler</a> ();</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;  <a class="code" href="../../df/d8e/jobs_8c.html#a1f9d98a5ac1e452fa40b1ca93285843a">init_job_stats</a> ();</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JOB_CONTROL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160; </div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;  <span class="comment">/* Reset the values of the shell flags and options. */</span></div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;  <a class="code" href="../../d8/d70/flags_8c.html#a2634d748763015c8cfa5c1bfee5e3406">reset_shell_flags</a> ();</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;  reset_shell_options ();</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;  reset_shopt_options ();</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160; </div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;  <span class="comment">/* Zero out builtin_env, since this could be a shell script run from a</span></div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;<span class="comment">     sourced file with a temporary environment supplied to the `source/.&#39;</span></div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;<span class="comment">     builtin.  Such variables are not supposed to be exported (empirical</span></div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;<span class="comment">     testing with sh and ksh).  Just throw it away; don&#39;t worry about a</span></div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;<span class="comment">     memory leak. */</span></div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/dca/variables_8h.html#a167d17822c6da7d98f9c9fcab7db9c3d">vc_isbltnenv</a> (<a class="code" href="../../d5/de8/variables_8c.html#a0e32ae2b68de94bc9584af75572e3a77">shell_variables</a>))</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;    <a class="code" href="../../d5/de8/variables_8c.html#a0e32ae2b68de94bc9584af75572e3a77">shell_variables</a> = <a class="code" href="../../d5/de8/variables_8c.html#a0e32ae2b68de94bc9584af75572e3a77">shell_variables</a>-&gt;<a class="code" href="../../de/dca/variables_8h.html#aec918162dabf8df65cdb881279f43277">down</a>;</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160; </div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;  <a class="code" href="../../d7/d7d/unwind__prot_8c.html#a38ec5f32e8267900c897189a08e79201">clear_unwind_protect_list</a> (0);</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;  <span class="comment">/* XXX -- are there other things we should be resetting here? */</span></div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;  <a class="code" href="../../df/d28/bash_2builtins_2common_8h.html#a1ad0f45d191404d5d10dd5988b56a0b3">parse_and_execute_level</a> = 0;      <span class="comment">/* nothing left to restore it */</span></div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160; </div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;  <span class="comment">/* We&#39;re no longer inside a shell function. */</span></div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;  <a class="code" href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#add8e674e588c6cff9adb9177e416dc09">return_catch_flag</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a952ab702247ed8378bc80f9e85e14ad6">funcnest</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8892e0542b9dc46c7b64afc9f21e9d7f">evalnest</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a47764b3fceed5c7ecb914ad54693ef92">sourcenest</a> = 0;</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160; </div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a2cb744acc87fb33a861757a23f06535f">executing_list</a> = 0;       <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160; </div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;  <span class="comment">/* If we&#39;re not interactive, close the file descriptor from which we&#39;re</span></div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;<span class="comment">     reading the current shell script. */</span></div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> == 0)</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;    <a class="code" href="../../d6/d4f/shell_8c.html#a6d7b9e420f5c24c3ba32be77071ee46f">unset_bash_input</a> (0);</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;}</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160; </div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;<span class="preprocessor">#if defined (HAVE_SETOSTYPE) &amp;&amp; defined (_POSIX_SOURCE)</span></div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;<span class="preprocessor">#  define SETOSTYPE(x)  __setostype(x)</span></div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05926"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a7865196471aa6c7ee305f87a40d4e7bc"> 5926</a></span>&#160;<span class="preprocessor">#  define SETOSTYPE(x)</span></div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160; </div>
<div class="line"><a name="l05929"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#abe17dce0ed8a1d2217878ab4e58f20ea"> 5929</a></span>&#160;<span class="preprocessor">#define HASH_BANG_BUFSIZ    128</span></div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160; </div>
<div class="line"><a name="l05931"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a8d991d95852f9c93eb16ba6f570a8b57"> 5931</a></span>&#160;<span class="preprocessor">#define READ_SAMPLE_BUF(file, buf, len) \</span></div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;<span class="preprocessor">  do \</span></div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;<span class="preprocessor">    { \</span></div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;<span class="preprocessor">      fd = open(file, O_RDONLY); \</span></div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;<span class="preprocessor">      if (fd &gt;= 0) \</span></div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;<span class="preprocessor">    { \</span></div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;<span class="preprocessor">      len = read (fd, buf, HASH_BANG_BUFSIZ); \</span></div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;<span class="preprocessor">      close (fd); \</span></div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;<span class="preprocessor">    } \</span></div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;<span class="preprocessor">      else \</span></div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;<span class="preprocessor">    len = -1; \</span></div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;<span class="preprocessor">    } \</span></div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;<span class="preprocessor">  while (0)</span></div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;      </div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;<span class="comment">/* Call execve (), handling interpreting shell scripts, and handling</span></div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;<span class="comment">   exec failures. */</span></div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l05948"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a0693bee68fcde1ddccb03d269b266187"> 5948</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a0693bee68fcde1ddccb03d269b266187">shell_execve</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>, <a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>)</div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;     <span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;     <span class="keywordtype">char</span> **<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a>, **<a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>;</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;{</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;  <span class="keywordtype">int</span> larray, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, <a class="code" href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;  <span class="keywordtype">char</span> sample[<a class="code" href="../../de/d3d/execute__cmd_8c.html#abe17dce0ed8a1d2217878ab4e58f20ea">HASH_BANG_BUFSIZ</a>];</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;  <span class="keywordtype">int</span> sample_len;</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160; </div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a7865196471aa6c7ee305f87a40d4e7bc">SETOSTYPE</a> (0);        <span class="comment">/* Some systems use for USG/POSIX semantics */</span></div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;  <a class="code" href="../../df/dc1/Userspace_2libc_2include_2unistd_8h.html#a34f1a971391de72a34ec56bb0133ce2d">execve</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>, <a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>);</div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;  <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>;            <span class="comment">/* error from execve() */</span></div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;  <a class="code" href="../../dd/d2b/quit_8h.html#a68c85871057165f09160a548f0e2246a">CHECK_TERMSIG</a>;</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a7865196471aa6c7ee305f87a40d4e7bc">SETOSTYPE</a> (1);</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160; </div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;  <span class="comment">/* If we get to this point, then start checking out the file.</span></div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;<span class="comment">     Maybe it is something we can hack ourselves. */</span></div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> != <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a4d0b1b435ec441e7d50a430b83df5832">ENOEXEC</a>)</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;    {</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;      <span class="comment">/* make sure this is set correctly for file_error/report_error */</span></div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>) ?  <a class="code" href="../../df/d03/shell_8h.html#a2c037626b616ec119287148e8a5ddbb5">EX_NOTFOUND</a> : <a class="code" href="../../df/d03/shell_8h.html#a881b045fcd4a18664d761f33edbcb9c6">EX_NOEXEC</a>; <span class="comment">/* XXX Posix.2 says that exit status is 126 */</span></div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/dca/general_8c.html#a862a9f80c5d26246cc559819191eb09d">file_isdir</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>))</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;#<span class="keywordflow">if</span> defined (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ae22c3a1e0a38f3896de238cc30d0e19b">EISDIR</a>)</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;    <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;%s: %s&quot;</span>), <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, <a class="code" href="../../df/d3a/errlist_8c.html#a558c31d07190c0a536ec2a340b1eae07">strerror</a> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ae22c3a1e0a38f3896de238cc30d0e19b">EISDIR</a>));</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;    <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;%s: is a directory&quot;</span>), <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/da6/findcmd_8c.html#aaaf5fcf5bc8ed9090ba50a8f39f79fb4">executable_file</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>) == 0)</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;    {</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;      <a class="code" href="../../da/df1/mkbuiltins_8c.html#a198eeda44640f25891d7a519ef0b215c">file_error</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;    }</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;      <span class="comment">/* errors not involving the path argument to execve. */</span></div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#aba8481985c201ff726f349d7f2d09895">E2BIG</a> || <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a6a05c923dad0c1208043e9c20a58c8e5">ENOMEM</a>)</div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;    {</div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;      <a class="code" href="../../da/df1/mkbuiltins_8c.html#a198eeda44640f25891d7a519ef0b215c">file_error</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;    }</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>)</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;    {</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;      <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;%s: cannot execute: required file not found&quot;</span>), <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;    }</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;    {</div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;      <span class="comment">/* The file has the execute bits set, but the kernel refuses to</span></div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;<span class="comment">         run it for some reason.  See why. */</span></div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;<span class="preprocessor">#if defined (HAVE_HASH_BANG_EXEC)</span></div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8d991d95852f9c93eb16ba6f570a8b57">READ_SAMPLE_BUF</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, sample, sample_len);</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;      <span class="keywordflow">if</span> (sample_len &gt; 0)</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;        sample[sample_len - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;      <span class="keywordflow">if</span> (sample_len &gt; 2 &amp;&amp; sample[0] == <span class="charliteral">&#39;#&#39;</span> &amp;&amp; sample[1] == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;        {</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;          <span class="keywordtype">char</span> *interp;</div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;          <span class="keywordtype">int</span> ilen;</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160; </div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;          interp = <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8b065c1edf88fcbfee0a98f4bd1e7a01">getinterp</a> (sample, sample_len, (<span class="keywordtype">int</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;          ilen = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a> (interp);</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;          <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;          <span class="keywordflow">if</span> (interp[ilen - 1] == <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;        {</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;          interp = <a class="code" href="../../db/d0a/tre_8h.html#a40740062faf2d95d4935112447c464ef">xrealloc</a> (interp, ilen + 2);</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;          interp[ilen - 1] = <span class="charliteral">&#39;^&#39;</span>;</div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;          interp[ilen] = <span class="charliteral">&#39;M&#39;</span>;</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;          interp[ilen + 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;        }</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;          <a class="code" href="../../db/dcc/error_8c.html#a3dc8bd9b2e1ecb245420a3dba9f5e8bd">sys_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;%s: %s: bad interpreter&quot;</span>), <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, interp ? interp : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;          <a class="code" href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a> (interp);</div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;          <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a881b045fcd4a18664d761f33edbcb9c6">EX_NOEXEC</a>);</div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;        }</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;      <a class="code" href="../../da/df1/mkbuiltins_8c.html#a198eeda44640f25891d7a519ef0b215c">file_error</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;    }</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a>);</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;    }</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160; </div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;  <span class="comment">/* This file is executable.</span></div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;<span class="comment">     If it begins with #!, then help out people with losing operating</span></div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;<span class="comment">     systems.  Otherwise, check to see if it is a binary file by seeing</span></div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;<span class="comment">     if the contents of the first line (or up to 80 characters) are in the</span></div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;<span class="comment">     ASCII set.  If it&#39;s a text file, execute the contents as shell commands,</span></div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;<span class="comment">     otherwise return 126 (EX_BINARY_FILE). */</span></div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a8d991d95852f9c93eb16ba6f570a8b57">READ_SAMPLE_BUF</a> (<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, sample, sample_len);</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160; </div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;  <span class="keywordflow">if</span> (sample_len == 0)</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160; </div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;  <span class="comment">/* Is this supposed to be an executable script?</span></div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;<span class="comment">     If so, the format of the line is &quot;#! interpreter [argument]&quot;.</span></div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;<span class="comment">     A single argument is allowed.  The BSD kernel restricts</span></div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;<span class="comment">     the length of the entire line to 32 characters (32 bytes</span></div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;<span class="comment">     being the size of the BSD exec header), but we allow up to 128</span></div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;<span class="comment">     characters. */</span></div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;  <span class="keywordflow">if</span> (sample_len &gt; 0)</div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;    {</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;<span class="preprocessor">#if !defined (HAVE_HASH_BANG_EXEC)</span></div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;      <span class="keywordflow">if</span> (sample_len &gt; 2 &amp;&amp; sample[0] == <span class="charliteral">&#39;#&#39;</span> &amp;&amp; sample[1] == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a50a1c19765ba15e04df6d007b92665b0">execute_shell_script</a> (sample, sample_len, <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>, <a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>));</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/dca/general_8c.html#a47b42362e48468ec40ec8de83105d841">check_binary_file</a> (sample, sample_len))</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;    {</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;      <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;%s: cannot execute binary file: %s&quot;</span>), <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, <a class="code" href="../../df/d3a/errlist_8c.html#a558c31d07190c0a536ec2a340b1eae07">strerror</a> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>));</div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#ac2713610fa40bc775d0c644efa3bfb47">EX_BINARY_FILE</a>);</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;    }</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;    }</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160; </div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;  <span class="comment">/* We have committed to attempting to execute the contents of this file</span></div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;<span class="comment">     as shell commands. */</span></div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160; </div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;  <a class="code" href="../../d5/def/y_8tab_8c.html#a3e2d1045f92e30c7f8e21d2c54af5d8d">reset_parser</a> ();</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#ae53493fb624a51ac814ac63b29e077bc">initialize_subshell</a> ();</div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160; </div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;  <a class="code" href="../../dc/d6f/trap_8c.html#a85203bc0e3b2380073e79a6055a3c672">set_sigint_handler</a> ();</div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160; </div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;  <span class="comment">/* Insert the name of this shell into the argument list. */</span></div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;  larray = <a class="code" href="../../da/d23/stringvec_8c.html#ac466714f61666a8f0858700c7482405b">strvec_len</a> (<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>) + 1;</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;  <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a> = <a class="code" href="../../da/d23/stringvec_8c.html#af21b7cbd459b016b99dd4f9c23dcb124">strvec_resize</a> (<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>, larray + 1);</div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160; </div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = larray - 1; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>--)</div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;    <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] = <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> - 1];</div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160; </div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;  <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[0] = <a class="code" href="../../d6/d4f/shell_8c.html#a12ca07e776396afc9a8bfee840d90d96">shell_name</a>;</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;  <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[1] = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;  <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[larray] = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160; </div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[0][0] == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;    <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[0]++;</div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160; </div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;<span class="preprocessor">#if defined (RESTRICTED_SHELL)</span></div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;  <span class="keywordflow">if</span> (restricted)</div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;    <a class="code" href="../../d8/d70/flags_8c.html#a8917b6aae06bda6070cad4f2680896b4">change_flag</a> (<span class="charliteral">&#39;r&#39;</span>, <a class="code" href="../../d9/da0/flags_8h.html#afd1e55e8491d025acb1fbc0a7e91dcdd">FLAG_OFF</a>);</div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160; </div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a0647ded5eb463a5948fdd2630e8294ff">subshell_argv</a>)</div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;    {</div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;      <span class="comment">/* Can&#39;t free subshell_argv[0]; that is shell_name. */</span></div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 1; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d6/d4f/shell_8c.html#adf5af99c79a4b90c008156a44c7245ca">subshell_argc</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++)</div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../d6/d4f/shell_8c.html#a0647ded5eb463a5948fdd2630e8294ff">subshell_argv</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>]);</div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (<a class="code" href="../../d6/d4f/shell_8c.html#a0647ded5eb463a5948fdd2630e8294ff">subshell_argv</a>);</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;    }</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160; </div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;  <a class="code" href="../../da/d05/dispose__cmd_8c.html#a009e2d6264a3beacfbccca0830142d17">dispose_command</a> (<a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a>);    <span class="comment">/* XXX */</span></div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;  <a class="code" href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a> = (<a class="code" href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160; </div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;  <a class="code" href="../../d6/d4f/shell_8c.html#adf5af99c79a4b90c008156a44c7245ca">subshell_argc</a> = larray;</div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;  <a class="code" href="../../d6/d4f/shell_8c.html#a0647ded5eb463a5948fdd2630e8294ff">subshell_argv</a> = <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a>;</div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;  <a class="code" href="../../d6/d4f/shell_8c.html#ab32b027894484fb3b2aa56a4cc5e2c8a">subshell_envp</a> = <a class="code" href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a>;</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160; </div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;  <a class="code" href="../../d6/d4f/shell_8c.html#ae6f95aee4b1dbb3c8e2476efad7dab8a">unbind_args</a> ();   <span class="comment">/* remove the positional parameters */</span></div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160; </div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION) &amp;&amp; defined (HAVE_DEV_FD)</span></div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;  clear_fifo_list ();   <span class="comment">/* pipe fds are what they are now */</span></div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160; </div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;  <a class="code" href="../../d5/de0/include_2posixjmp_8h.html#abb496f9af211ed8477d4b5fda7d7364b">sh_longjmp</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#a4eea10059ca05ea2aa89b5f7a38e4d5e">subshell_top_level</a>, 1);</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;  <span class="comment">/*NOTREACHED*/</span></div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;}</div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160; </div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l06109"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ac055e258f77a21adda573446948fd301"> 6109</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#ac055e258f77a21adda573446948fd301">execute_intern_function</a> (name, funcdef)</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#dd/d81/structword__desc">WORD_DESC</a> *name;</div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;     <a class="code" href="../../d0/d09/command_8h.html#da/d79/structfunction__def">FUNCTION_DEF</a> *funcdef;</div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;{</div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;  <a class="code" href="../../d6/d90/hush_8c.html#db/d35/structvariable">SHELL_VAR</a> *<a class="code" href="../../de/dcc/awk_8c.html#a2e8d2426582aedb61af37935c1d60c1c">var</a>;</div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160; </div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dca/general_8c.html#a2d8b1ad469d271ae155d0c8b065a1118">check_identifier</a> (name, <a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a>) == 0)</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;    {</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a> &amp;&amp; <a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> == 0)</div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;    {</div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = <a class="code" href="../../df/d03/shell_8h.html#a581055db933838f9b6bcc2cff3450345">EX_BADUSAGE</a>;</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../da/d23/bashjmp_8h.html#ad4c19ce20bb4767ed705b1e79a72a30e">ERREXIT</a>);</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;    }</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;    }</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160; </div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a> (name-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>, <a class="code" href="../../df/d03/shell_8h.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>))  <span class="comment">/* WHY? */</span></div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;    {</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;      <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/d93/subst_8c.html#adf7c6136b62b017b9ccee79d90b68804">dequote_escapes</a> (name-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>);</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;      <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a> (name-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>);</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;      name-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a> = <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;    }</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160; </div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;  <span class="comment">/* Posix interpretation 383 */</span></div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a> &amp;&amp; <a class="code" href="../../de/da3/bash_2builtins_2common_8c.html#a2e9b85c566d5a2a4469239df1e345ea8">find_special_builtin</a> (name-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>))</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;    {</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;      <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;`%s&#39;: is a special builtin&quot;</span>), name-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>);</div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;      <a class="code" href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a> = <a class="code" href="../../df/d03/shell_8h.html#a581055db933838f9b6bcc2cff3450345">EX_BADUSAGE</a>;</div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;      <a class="code" href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a> (<a class="code" href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a> ? <a class="code" href="../../da/d23/bashjmp_8h.html#adbaca35440ef5d1abf8a0084bf382b8b">DISCARD</a> : <a class="code" href="../../da/d23/bashjmp_8h.html#ad4c19ce20bb4767ed705b1e79a72a30e">ERREXIT</a>);</div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;    }</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160; </div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;  <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> = <a class="code" href="../../d5/de8/variables_8c.html#a0bdef493f28c94bd031eac97c2b61a63">find_function</a> (name-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>);</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> &amp;&amp; (<a class="code" href="../../de/dca/variables_8h.html#aa045ef001ee868166626ab099a7944c7">readonly_p</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>) || <a class="code" href="../../de/dca/variables_8h.html#ac35afb1d87d3eb932fc0e1a31e993c3e">noassign_p</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>)))</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;    {</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/dca/variables_8h.html#aa045ef001ee868166626ab099a7944c7">readonly_p</a> (<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>))</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;    <a class="code" href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;%s: readonly function&quot;</span>), <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>-&gt;name);</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a>);</div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;    }</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160; </div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;<span class="preprocessor">#if defined (DEBUGGER)</span></div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;  bind_function_def (name-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>, funcdef, 1);</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160; </div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;  <a class="code" href="../../d5/de8/variables_8c.html#a1b65c3c68ffabbf9bbb09cb5e02e0ec6">bind_function</a> (name-&gt;<a class="code" href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word</a>, funcdef-&gt;<a class="code" href="../../d0/d09/command_8h.html#a1d47a692dd8fb660368206a3218f3fe8">command</a>);</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a>);</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;}</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160; </div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;<span class="preprocessor">#if defined (INCLUDE_UNUSED)</span></div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;<span class="preprocessor">#if defined (PROCESS_SUBSTITUTION)</span></div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;close_all_files ()</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;{</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;  <span class="keyword">register</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, fd_table_size;</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160; </div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;  fd_table_size = <a class="code" href="../../d9/d9c/oslib_8c.html#ad503862ce76ce5a37ecde45502b5f2bc">getdtablesize</a> ();</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;  <span class="keywordflow">if</span> (fd_table_size &gt; 256)  <span class="comment">/* clamp to a reasonable value */</span></div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;    fd_table_size = 256;</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160; </div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 3; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; fd_table_size; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++)</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;}</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* PROCESS_SUBSTITUTION */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160; </div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l06175"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a8160fde58a3713edb578714611bb192b"> 6175</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a8160fde58a3713edb578714611bb192b">close_pipes</a> (in, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>)</div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;     <span class="keywordtype">int</span> in, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;{</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;  <span class="keywordflow">if</span> (in &gt;= 0)</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (in);</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a> &gt;= 0)</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;}</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160; </div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l06185"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#a12425181a2ee46789411dd422443406d"> 6185</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#a12425181a2ee46789411dd422443406d">dup_error</a> (oldd, newd)</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;     <span class="keywordtype">int</span> oldd, newd;</div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;{</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;  <a class="code" href="../../db/dcc/error_8c.html#a3dc8bd9b2e1ecb245420a3dba9f5e8bd">sys_error</a> (<a class="code" href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a>(<span class="stringliteral">&quot;cannot duplicate fd %d to fd %d&quot;</span>), oldd, newd);</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;}</div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160; </div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;<span class="comment">/* Redirect input and output to be from and to the specified pipes.</span></div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;<span class="comment">   NO_PIPE and REDIRECT_BOTH are handled correctly. */</span></div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l06194"></a><span class="lineno"><a class="line" href="../../de/d3d/execute__cmd_8c.html#ac019991c9bd079990f1f720d21dabe7b"> 6194</a></span>&#160;<a class="code" href="../../de/d3d/execute__cmd_8c.html#ac019991c9bd079990f1f720d21dabe7b">do_piping</a> (pipe_in, pipe_out)</div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;     <span class="keywordtype">int</span> pipe_in, pipe_out;</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;{</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;  <span class="keywordflow">if</span> (pipe_in != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;    {</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9c/oslib_8c.html#a4ce97c88892c43f0e127dd3a6dc54b96">dup2</a> (pipe_in, 0) &lt; 0)</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;    <a class="code" href="../../de/d3d/execute__cmd_8c.html#a12425181a2ee46789411dd422443406d">dup_error</a> (pipe_in, 0);</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;      <span class="keywordflow">if</span> (pipe_in &gt; 0)</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (pipe_in);</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;<span class="preprocessor">#ifdef __CYGWIN__</span></div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;      <span class="comment">/* Let stdio know the fd may have changed from text to binary mode. */</span></div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;      <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a7f86d3747887e65d7d02e4792030fad0">freopen</a> (<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;r&quot;</span>, <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#aaca70138f0cb63ddb026921afc635179">stdin</a>);</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* __CYGWIN__ */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;    }</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;  <span class="keywordflow">if</span> (pipe_out != <a class="code" href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a>)</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;    {</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;      <span class="keywordflow">if</span> (pipe_out != <a class="code" href="../../df/d03/shell_8h.html#ab6053e58e13f439d91df3e847ae7de2b">REDIRECT_BOTH</a>)</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;    {</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9c/oslib_8c.html#a4ce97c88892c43f0e127dd3a6dc54b96">dup2</a> (pipe_out, 1) &lt; 0)</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#a12425181a2ee46789411dd422443406d">dup_error</a> (pipe_out, 1);</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;      <span class="keywordflow">if</span> (pipe_out == 0 || pipe_out &gt; 1)</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a> (pipe_out);</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;    }</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;    {</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9c/oslib_8c.html#a4ce97c88892c43f0e127dd3a6dc54b96">dup2</a> (1, 2) &lt; 0)</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;        <a class="code" href="../../de/d3d/execute__cmd_8c.html#a12425181a2ee46789411dd422443406d">dup_error</a> (1, 2);</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;    }</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;<span class="preprocessor">#ifdef __CYGWIN__</span></div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;      <span class="comment">/* Let stdio know the fd may have changed from text to binary mode, and</span></div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;<span class="comment">     make sure to preserve stdout line buffering. */</span></div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;      <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a7f86d3747887e65d7d02e4792030fad0">freopen</a> (<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;w&quot;</span>, <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;      <a class="code" href="../../db/d53/apps_2base_2bash_2lib_2sh_2setlinebuf_8c.html#af18a19f959ff2a444c17758a8c18363f">sh_setlinebuf</a> (<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* __CYGWIN__ */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;    }</div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;}</div>
<div class="ttc" id="aKernel_2include_2printf_8h_html_a77dac04ed12a16543832b623c7778729"><div class="ttname"><a href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a></div><div class="ttdeci">PRINTF_VISIBILITY int sprintf(char *s, const char *format,...) ATTR_PRINTF(2</div></div>
<div class="ttc" id="aKernel_2include_2signal_8h_html_ae334395fdd2ddcad969d5988c071c289a13403cdea329ff2b8fb2fb3fd6c6d1e1"><div class="ttname"><a href="../../d4/dc2/Kernel_2include_2signal_8h.html#ae334395fdd2ddcad969d5988c071c289a13403cdea329ff2b8fb2fb3fd6c6d1e1">SIGQUIT</a></div><div class="ttdeci">@ SIGQUIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc2/Kernel_2include_2signal_8h_source.html#l00083">signal.h:83</a></div></div>
<div class="ttc" id="aKernel_2include_2signal_8h_html_ae334395fdd2ddcad969d5988c071c289a6dfd856a32bc2d1933164dc9baf28354"><div class="ttname"><a href="../../d4/dc2/Kernel_2include_2signal_8h.html#ae334395fdd2ddcad969d5988c071c289a6dfd856a32bc2d1933164dc9baf28354">SIGCHLD</a></div><div class="ttdeci">@ SIGCHLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc2/Kernel_2include_2signal_8h_source.html#l00043">signal.h:43</a></div></div>
<div class="ttc" id="aKernel_2include_2signal_8h_html_ae334395fdd2ddcad969d5988c071c289a907bcb512cd9f9dd5251127c235c7a9f"><div class="ttname"><a href="../../d4/dc2/Kernel_2include_2signal_8h.html#ae334395fdd2ddcad969d5988c071c289a907bcb512cd9f9dd5251127c235c7a9f">SIGHUP</a></div><div class="ttdeci">@ SIGHUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc2/Kernel_2include_2signal_8h_source.html#l00058">signal.h:58</a></div></div>
<div class="ttc" id="aKernel_2include_2signal_8h_html_ae334395fdd2ddcad969d5988c071c289aa6d8f010823acc51e2d4f38da46d9cdf"><div class="ttname"><a href="../../d4/dc2/Kernel_2include_2signal_8h.html#ae334395fdd2ddcad969d5988c071c289aa6d8f010823acc51e2d4f38da46d9cdf">SIGINT</a></div><div class="ttdeci">@ SIGINT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc2/Kernel_2include_2signal_8h_source.html#l00068">signal.h:68</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">types.h:37</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_ae26fa513a7dfed63221f72d93de2a021"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#ae26fa513a7dfed63221f72d93de2a021">intmax_t</a></div><div class="ttdeci">__INTMAX_TYPE__ intmax_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00188">types.h:188</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a03e689f378f643d16ea7537918528a48"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a></div><div class="ttdeci">#define ENOENT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00025">errno.h:25</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a4d0b1b435ec441e7d50a430b83df5832"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a4d0b1b435ec441e7d50a430b83df5832">ENOEXEC</a></div><div class="ttdeci">#define ENOEXEC</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00043">errno.h:43</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a6a05c923dad0c1208043e9c20a58c8e5"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a6a05c923dad0c1208043e9c20a58c8e5">ENOMEM</a></div><div class="ttdeci">#define ENOMEM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00055">errno.h:55</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_aba8481985c201ff726f349d7f2d09895"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#aba8481985c201ff726f349d7f2d09895">E2BIG</a></div><div class="ttdeci">#define E2BIG</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00040">errno.h:40</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_ae22c3a1e0a38f3896de238cc30d0e19b"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ae22c3a1e0a38f3896de238cc30d0e19b">EISDIR</a></div><div class="ttdeci">#define EISDIR</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00082">errno.h:82</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_a0c0ef221f95f64e8632451312fd18cc8"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a></div><div class="ttdeci">#define stdout</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h_source.html#l00057">stdio.h:57</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_a5ce35bd5ba5021fd3b2e951e8f497656"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a></div><div class="ttdeci">#define stderr</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h_source.html#l00058">stdio.h:58</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_a7f86d3747887e65d7d02e4792030fad0"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a7f86d3747887e65d7d02e4792030fad0">freopen</a></div><div class="ttdeci">FILE * freopen(const char *filename, const char *mode, FILE *stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00013">file.c:13</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_aaca70138f0cb63ddb026921afc635179"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#aaca70138f0cb63ddb026921afc635179">stdin</a></div><div class="ttdeci">#define stdin</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h_source.html#l00056">stdio.h:56</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_adb974f28765a31026ee6bf71d5175951"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#adb974f28765a31026ee6bf71d5175951">fflush</a></div><div class="ttdeci">int fflush(FILE *stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00085">file.c:85</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2unistd_8h_html_a34f1a971391de72a34ec56bb0133ce2d"><div class="ttname"><a href="../../df/dc1/Userspace_2libc_2include_2unistd_8h.html#a34f1a971391de72a34ec56bb0133ce2d">execve</a></div><div class="ttdeci">int execve(const char *pathname, char *const argv[], char *const envp[])</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d3f/exe_8c_source.html#l00042">exe.c:42</a></div></div>
<div class="ttc" id="aUserspace_2musl_2arch_2x86__64_2bits_2stat_8h_html_da/de7/structstat"><div class="ttname"><a href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00087">filesystem.hpp:88</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2signal_8h_html_acf0e499b0ac946b366b4f47a3b3e8b9e"><div class="ttname"><a href="../../d5/dae/Userspace_2musl_2include_2signal_8h.html#acf0e499b0ac946b366b4f47a3b3e8b9e">SIG_IGN</a></div><div class="ttdeci">#define SIG_IGN</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dae/Userspace_2musl_2include_2signal_8h_source.html#l00285">signal.h:285</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2stdio_8h_html_a917e77e365a5da28efb1963efafa8f23"><div class="ttname"><a href="../../d7/d0a/Userspace_2musl_2include_2stdio_8h.html#a917e77e365a5da28efb1963efafa8f23">clearerr</a></div><div class="ttdeci">void clearerr(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df1/clearerr_8c_source.html#l00003">clearerr.c:3</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_ae152484c890a24e4d9b4980e7b965be0"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a></div><div class="ttdeci">int close(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d22/close_8c_source.html#l00013">close.c:13</a></div></div>
<div class="ttc" id="aalias_8h_html"><div class="ttname"><a href="../../d4/d72/alias_8h.html">alias.h</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2builtins_2getopt_8c_html_a311a9c426a66d25fb3a12dc73f9791ac"><div class="ttname"><a href="../../da/d78/apps_2base_2bash_2builtins_2getopt_8c.html#a311a9c426a66d25fb3a12dc73f9791ac">sh_getopt_save_istate</a></div><div class="ttdeci">sh_getopt_state_t * sh_getopt_save_istate()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d78/apps_2base_2bash_2builtins_2getopt_8c_source.html#l00243">getopt.c:243</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2builtins_2getopt_8c_html_acc43be798b0d10f01d5fa309c1a04cd7"><div class="ttname"><a href="../../da/d78/apps_2base_2bash_2builtins_2getopt_8c.html#acc43be798b0d10f01d5fa309c1a04cd7">sh_getopt_restore_istate</a></div><div class="ttdeci">void sh_getopt_restore_istate(sh_getopt_state_t *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d78/apps_2base_2bash_2builtins_2getopt_8c_source.html#l00260">getopt.c:260</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2builtins_2getopt_8h_html"><div class="ttname"><a href="../../d7/d92/apps_2base_2bash_2builtins_2getopt_8h.html">getopt.h</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2builtins_2getopt_8h_html_a59f73d53734f7b77261e5ffaa626d514"><div class="ttname"><a href="../../d7/d92/apps_2base_2bash_2builtins_2getopt_8h.html#a59f73d53734f7b77261e5ffaa626d514">sh_getopt_state::gs_flags</a></div><div class="ttdeci">int gs_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d92/apps_2base_2bash_2builtins_2getopt_8h_source.html#l00071">getopt.h:71</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2builtins_2getopt_8h_html_d3/d40/structsh__getopt__state"><div class="ttname"><a href="../../d7/d92/apps_2base_2bash_2builtins_2getopt_8h.html#d3/d40/structsh__getopt__state">sh_getopt_state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d92/apps_2base_2bash_2builtins_2getopt_8h_source.html#l00064">getopt.h:65</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2glob_2glob_8c_html_afccfda7777ac4797a1cb790c52fe167b"><div class="ttname"><a href="../../d0/dbe/apps_2base_2bash_2lib_2glob_2glob_8c.html#afccfda7777ac4797a1cb790c52fe167b">extended_glob</a></div><div class="ttdeci">int extended_glob</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4a/pathexp_8c_source.html#l00051">pathexp.c:51</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2gettimeofday_8c_html_a2f316a4ad94a242df56b01953677015d"><div class="ttname"><a href="../../de/db3/apps_2base_2bash_2lib_2sh_2gettimeofday_8c.html#a2f316a4ad94a242df56b01953677015d">gettimeofday</a></div><div class="ttdeci">int gettimeofday(struct timeval *tv, void *tz)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db3/apps_2base_2bash_2lib_2sh_2gettimeofday_8c_source.html#l00029">gettimeofday.c:29</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2setlinebuf_8c_html_af18a19f959ff2a444c17758a8c18363f"><div class="ttname"><a href="../../db/d53/apps_2base_2bash_2lib_2sh_2setlinebuf_8c.html#af18a19f959ff2a444c17758a8c18363f">sh_setlinebuf</a></div><div class="ttdeci">int sh_setlinebuf(FILE *stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d53/apps_2base_2bash_2lib_2sh_2setlinebuf_8c_source.html#l00038">setlinebuf.c:38</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2strpbrk_8c_html_a119f23a5dcb4eb5f1c1eed3cbf5cb0ed"><div class="ttname"><a href="../../d2/dce/apps_2base_2bash_2lib_2sh_2strpbrk_8c.html#a119f23a5dcb4eb5f1c1eed3cbf5cb0ed">strpbrk</a></div><div class="ttdeci">char * strpbrk(const char *s, const char *accept)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/apps_2base_2bash_2lib_2sh_2strpbrk_8c_source.html#l00034">strpbrk.c:34</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2times_8c_html_a9c40827577895355c0e7db337d3fcbc8"><div class="ttname"><a href="../../d4/d78/apps_2base_2bash_2lib_2sh_2times_8c.html#a9c40827577895355c0e7db337d3fcbc8">times</a></div><div class="ttdeci">clock_t times(struct tms *tms)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/apps_2base_2bash_2lib_2sh_2times_8c_source.html#l00038">times.c:38</a></div></div>
<div class="ttc" id="aapps_2base_2busybox_2coreutils_2stat_8c_html_aa29b866765bdc5bdf87b7eb666d66093"><div class="ttname"><a href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a></div><div class="ttdeci">#define buf</div></div>
<div class="ttc" id="aarch_2x86__64_2bits_2user_8h_html_d8/dbc/structuser"><div class="ttname"><a href="../../dc/d9d/arch_2x86__64_2bits_2user_8h.html#d8/dbc/structuser">user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbd/arch_2arm_2bits_2user_8h_source.html#l00023">user.h:23</a></div></div>
<div class="ttc" id="aarping_8c_html_a317b24157e7f590740c6e329bfe668dc"><div class="ttname"><a href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a></div><div class="ttdeci">#define start</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/arping_8c_source.html#l00095">arping.c:95</a></div></div>
<div class="ttc" id="aarpping_8c_html_ac9562ee4ecb3b8aeebeb04656e7e57a9"><div class="ttname"><a href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a></div><div class="ttdeci">#define s</div></div>
<div class="ttc" id="aarray_8h_html_a15175f1b91d83a82de68418a6c52dd6e"><div class="ttname"><a href="../../db/d63/array_8h.html#a15175f1b91d83a82de68418a6c52dd6e">array_push</a></div><div class="ttdeci">#define array_push(a, v)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d63/array_8h_source.html#l00155">array.h:155</a></div></div>
<div class="ttc" id="aarray_8h_html_a3672e3c5b95dde98c9ed75ac7c1e6d60"><div class="ttname"><a href="../../db/d63/array_8h.html#a3672e3c5b95dde98c9ed75ac7c1e6d60">arrayind_t</a></div><div class="ttdeci">intmax_t arrayind_t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d63/array_8h_source.html#l00028">array.h:28</a></div></div>
<div class="ttc" id="aarray_8h_html_ac63895971d6e787ae2445ec37b7b8b5e"><div class="ttname"><a href="../../db/d63/array_8h.html#ac63895971d6e787ae2445ec37b7b8b5e">GET_ARRAY_FROM_VAR</a></div><div class="ttdeci">#define GET_ARRAY_FROM_VAR(n, v, a)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d63/array_8h_source.html#l00160">array.h:160</a></div></div>
<div class="ttc" id="aarray_8h_html_ad2cef1191edf0732a7616ef952537941"><div class="ttname"><a href="../../db/d63/array_8h.html#ad2cef1191edf0732a7616ef952537941">array_pop</a></div><div class="ttdeci">#define array_pop(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d63/array_8h_source.html#l00157">array.h:157</a></div></div>
<div class="ttc" id="aarray_8h_html_dc/daf/structarray"><div class="ttname"><a href="../../db/d63/array_8h.html#dc/daf/structarray">array</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d63/array_8h_source.html#l00030">array.h:30</a></div></div>
<div class="ttc" id="aarrayfunc_8h_html_af0a4b53d2cdb5645c1f5b0a452e9f2ac"><div class="ttname"><a href="../../d4/df6/arrayfunc_8h.html#af0a4b53d2cdb5645c1f5b0a452e9f2ac">VA_NOEXPAND</a></div><div class="ttdeci">#define VA_NOEXPAND</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df6/arrayfunc_8h_source.html#l00134">arrayfunc.h:134</a></div></div>
<div class="ttc" id="aash_8c_html_a1fa73ad20e7650d162437b665c5aa22b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1fa73ad20e7650d162437b665c5aa22b">eflag</a></div><div class="ttdeci">#define eflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00428">ash.c:428</a></div></div>
<div class="ttc" id="aash_8c_html_a5622588ebb578fec742903968331ed4b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a></div><div class="ttdeci">static union node * list(int nlflag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11814">ash.c:11814</a></div></div>
<div class="ttc" id="aash_8c_html_a7ebe41dbc324c417b903071139d41440"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a></div><div class="ttdeci">#define lineno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02188">ash.c:2188</a></div></div>
<div class="ttc" id="aash_8c_html_ab3f70ca7e13b3623b747dd04b660c864"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a></div><div class="ttdeci">#define nullstr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00502">ash.c:502</a></div></div>
<div class="ttc" id="aash_8c_html_adab8f6bb60fd0df10ee740984c79b9b8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adab8f6bb60fd0df10ee740984c79b9b8">patmatch</a></div><div class="ttdeci">static int patmatch(char *pattern, const char *string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08159">ash.c:8159</a></div></div>
<div class="ttc" id="aash_8c_html_d3/d8c/structjob"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3a/jobs_8h_source.html#l00120">jobs.h:120</a></div></div>
<div class="ttc" id="aash_8c_html_da/de3/structvar"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02065">ash.c:2065</a></div></div>
<div class="ttc" id="aatexit_8c_html_a2fda250c182c006e9741526a33e28747"><div class="ttname"><a href="../../d4/df7/atexit_8c.html#a2fda250c182c006e9741526a33e28747">builtin</a></div><div class="ttdeci">static struct fl builtin</div></div>
<div class="ttc" id="aawk_8c_html_a2e8d2426582aedb61af37935c1d60c1c"><div class="ttname"><a href="../../de/dcc/awk_8c.html#a2e8d2426582aedb61af37935c1d60c1c">var</a></div><div class="ttdeci">struct var_s var</div></div>
<div class="ttc" id="aawk_8c_html_a553299c54ca0f9dd61768a1f8a0e481a"><div class="ttname"><a href="../../de/dcc/awk_8c.html#a553299c54ca0f9dd61768a1f8a0e481a">func</a></div><div class="ttdeci">struct func_s func</div></div>
<div class="ttc" id="aawk_8c_html_dd/d55/structfunc__s"><div class="ttname"><a href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/awk_8c_source.html#l00140">awk.c:140</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8c_html_a2ba6c3838c386c89778f05b450a98a94"><div class="ttname"><a href="../../de/da3/bash_2builtins_2common_8c.html#a2ba6c3838c386c89778f05b450a98a94">sh_invalidid</a></div><div class="ttdeci">void sh_invalidid(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/da3/bash_2builtins_2common_8c_source.html#l00227">common.c:227</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8c_html_a2e9b85c566d5a2a4469239df1e345ea8"><div class="ttname"><a href="../../de/da3/bash_2builtins_2common_8c.html#a2e9b85c566d5a2a4469239df1e345ea8">find_special_builtin</a></div><div class="ttdeci">sh_builtin_func_t * find_special_builtin(char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/da3/bash_2builtins_2common_8c_source.html#l00937">common.c:937</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8c_html_a73c2de54d0d3e25843e274fbe390ecc5"><div class="ttname"><a href="../../de/da3/bash_2builtins_2common_8c.html#a73c2de54d0d3e25843e274fbe390ecc5">find_shell_builtin</a></div><div class="ttdeci">sh_builtin_func_t * find_shell_builtin(char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/da3/bash_2builtins_2common_8c_source.html#l00918">common.c:918</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8c_html_a7d899d070295fc2394135bd304e719d6"><div class="ttname"><a href="../../de/da3/bash_2builtins_2common_8c.html#a7d899d070295fc2394135bd304e719d6">last_shell_builtin</a></div><div class="ttdeci">sh_builtin_func_t * last_shell_builtin</div><div class="ttdef"><b>Definition:</b> <a href="../../de/da3/bash_2builtins_2common_8c_source.html#l00074">common.c:74</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8c_html_a8e6ca4e598b6ef3d0df58a81d74ee58e"><div class="ttname"><a href="../../de/da3/bash_2builtins_2common_8c.html#a8e6ca4e598b6ef3d0df58a81d74ee58e">builtin_address</a></div><div class="ttdeci">sh_builtin_func_t * builtin_address(char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/da3/bash_2builtins_2common_8c_source.html#l00927">common.c:927</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8c_html_a90f34313402c8392a46af2a5d3147d89"><div class="ttname"><a href="../../de/da3/bash_2builtins_2common_8c.html#a90f34313402c8392a46af2a5d3147d89">this_shell_builtin</a></div><div class="ttdeci">sh_builtin_func_t * this_shell_builtin</div><div class="ttdef"><b>Definition:</b> <a href="../../de/da3/bash_2builtins_2common_8c_source.html#l00075">common.c:75</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8c_html_aa036a3345e07ae426431ab5e3434b7b4"><div class="ttname"><a href="../../de/da3/bash_2builtins_2common_8c.html#aa036a3345e07ae426431ab5e3434b7b4">remember_args</a></div><div class="ttdeci">void remember_args(WORD_LIST *list, int destructive)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/da3/bash_2builtins_2common_8c_source.html#l00386">common.c:386</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8c_html_aaa2648ff66a839c5da9130e4195f0226"><div class="ttname"><a href="../../de/da3/bash_2builtins_2common_8c.html#aaa2648ff66a839c5da9130e4195f0226">builtin_address_internal</a></div><div class="ttdeci">struct builtin * builtin_address_internal(char *name, int disabled_okay)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/da3/bash_2builtins_2common_8c_source.html#l00878">common.c:878</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html">common.h</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html_a0f881be1ea6840a4382d3729450f2022"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html#a0f881be1ea6840a4382d3729450f2022">JM_STOPPED</a></div><div class="ttdeci">#define JM_STOPPED</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/bash_2builtins_2common_8h_source.html#l00071">common.h:71</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html_a1a44a9204baef285a1259d2a1f4ada44"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html#a1a44a9204baef285a1259d2a1f4ada44">continuing</a></div><div class="ttdeci">int continuing</div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html_a1a4bca0696482eb509cb1e1de862e3e3"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html#a1a4bca0696482eb509cb1e1de862e3e3">JM_SUBSTRING</a></div><div class="ttdeci">#define JM_SUBSTRING</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/bash_2builtins_2common_8h_source.html#l00069">common.h:69</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html_a1abc92fadae94b5897f4f0144da01eb9"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html#a1abc92fadae94b5897f4f0144da01eb9">sourcelevel</a></div><div class="ttdeci">int sourcelevel</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d85/evalfile_8c_source.html#l00073">evalfile.c:73</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html_a1ad0f45d191404d5d10dd5988b56a0b3"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html#a1ad0f45d191404d5d10dd5988b56a0b3">parse_and_execute_level</a></div><div class="ttdeci">int parse_and_execute_level</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da3/evalstring_8c_source.html#l00064">evalstring.c:64</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html_a3b399b89bc5c253b6f7e74c8435f60e4"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html#a3b399b89bc5c253b6f7e74c8435f60e4">expaliases_flag</a></div><div class="ttdeci">int expaliases_flag</div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html_a65c33e9e971de087b6357441523fbd99"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html#a65c33e9e971de087b6357441523fbd99">JM_FIRSTMATCH</a></div><div class="ttdeci">#define JM_FIRSTMATCH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/bash_2builtins_2common_8h_source.html#l00072">common.h:72</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html_a78229726a4a99d2732aaab4139c8f9c0"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html#a78229726a4a99d2732aaab4139c8f9c0">JM_EXACT</a></div><div class="ttdeci">#define JM_EXACT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/bash_2builtins_2common_8h_source.html#l00070">common.h:70</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html_ac6fd4af6373a4267036ffd49395a37a5"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html#ac6fd4af6373a4267036ffd49395a37a5">ISOPTION</a></div><div class="ttdeci">#define ISOPTION(s, c)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/bash_2builtins_2common_8h_source.html#l00026">common.h:26</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html_ad22de2f33ff228aab7f5e6c7fd6c17ca"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html#ad22de2f33ff228aab7f5e6c7fd6c17ca">JM_PREFIX</a></div><div class="ttdeci">#define JM_PREFIX</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/bash_2builtins_2common_8h_source.html#l00068">common.h:68</a></div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html_ada8a1eb347c01352f22deb4668f24bb6"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html#ada8a1eb347c01352f22deb4668f24bb6">loop_level</a></div><div class="ttdeci">int loop_level</div></div>
<div class="ttc" id="abash_2builtins_2common_8h_html_aed0a1963a144f67c6c0dfcce7a2ac77d"><div class="ttname"><a href="../../df/d28/bash_2builtins_2common_8h.html#aed0a1963a144f67c6c0dfcce7a2ac77d">breaking</a></div><div class="ttdeci">int breaking</div></div>
<div class="ttc" id="abash_2expr_8c_html_ab9b32ed3c0339ae19b5e1e625add9ad9"><div class="ttname"><a href="../../d4/dc4/bash_2expr_8c.html#ab9b32ed3c0339ae19b5e1e625add9ad9">evalexp</a></div><div class="ttdeci">intmax_t evalexp(char *expr, int flags, int *validp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc4/bash_2expr_8c_source.html#l00406">expr.c:406</a></div></div>
<div class="ttc" id="abash_2test_8c_html_a1910d262855b71da353ed0d07a6c7823"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a></div><div class="ttdeci">static int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00108">test.c:108</a></div></div>
<div class="ttc" id="abash_2test_8c_html_a4b1683fde3a30fb28fbd22d3d3f978ef"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#a4b1683fde3a30fb28fbd22d3d3f978ef">binary_test</a></div><div class="ttdeci">int binary_test(char *op, char *arg1, char *arg2, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00387">test.c:387</a></div></div>
<div class="ttc" id="abash_2test_8c_html_a76bd744969e6618bc64b545ee94dced7"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#a76bd744969e6618bc64b545ee94dced7">unary_test</a></div><div class="ttdeci">int unary_test(char *op, char *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00516">test.c:516</a></div></div>
<div class="ttc" id="abash_2test_8c_html_afe50dfaccb7a06efec0dcef7519e8ed7"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#afe50dfaccb7a06efec0dcef7519e8ed7">expr</a></div><div class="ttdeci">static int expr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00170">test.c:170</a></div></div>
<div class="ttc" id="abashansi_8h_html"><div class="ttname"><a href="../../d9/d82/bashansi_8h.html">bashansi.h</a></div></div>
<div class="ttc" id="abashhist_8h_html"><div class="ttname"><a href="../../da/dd8/bashhist_8h.html">bashhist.h</a></div></div>
<div class="ttc" id="abashhist_8h_html_a245c800288e30b34caa5045bb36070d2"><div class="ttname"><a href="../../da/dd8/bashhist_8h.html#a245c800288e30b34caa5045bb36070d2">history_lines_this_session</a></div><div class="ttdeci">int history_lines_this_session</div></div>
<div class="ttc" id="abashintl_8h_html"><div class="ttname"><a href="../../d7/dcd/bashintl_8h.html">bashintl.h</a></div></div>
<div class="ttc" id="abashintl_8h_html_a86a239addea586602343007a370bf8ad"><div class="ttname"><a href="../../d7/dcd/bashintl_8h.html#a86a239addea586602343007a370bf8ad">_</a></div><div class="ttdeci">#define _(msgid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcd/bashintl_8h_source.html#l00036">bashintl.h:36</a></div></div>
<div class="ttc" id="abashjmp_8h_html_a047be68a91ac230623785fa32c056bd2"><div class="ttname"><a href="../../da/d23/bashjmp_8h.html#a047be68a91ac230623785fa32c056bd2">top_level</a></div><div class="ttdeci">procenv_t top_level</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d12/sig_8c_source.html#l00079">sig.c:79</a></div></div>
<div class="ttc" id="abashjmp_8h_html_a3811bcae9e0465d58b7c35887c987221"><div class="ttname"><a href="../../da/d23/bashjmp_8h.html#a3811bcae9e0465d58b7c35887c987221">COPY_PROCENV</a></div><div class="ttdeci">#define COPY_PROCENV(old, save)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/bashjmp_8h_source.html#l00035">bashjmp.h:35</a></div></div>
<div class="ttc" id="abashjmp_8h_html_a4eea10059ca05ea2aa89b5f7a38e4d5e"><div class="ttname"><a href="../../da/d23/bashjmp_8h.html#a4eea10059ca05ea2aa89b5f7a38e4d5e">subshell_top_level</a></div><div class="ttdeci">procenv_t subshell_top_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00284">shell.c:284</a></div></div>
<div class="ttc" id="abashjmp_8h_html_a5a58733a1d8c60573228ba0dc3ddd7b3"><div class="ttname"><a href="../../da/d23/bashjmp_8h.html#a5a58733a1d8c60573228ba0dc3ddd7b3">EXITBLTIN</a></div><div class="ttdeci">#define EXITBLTIN</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/bashjmp_8h_source.html#l00045">bashjmp.h:45</a></div></div>
<div class="ttc" id="abashjmp_8h_html_a8bef93d1daf140c7adaa29304f5b8e49"><div class="ttname"><a href="../../da/d23/bashjmp_8h.html#a8bef93d1daf140c7adaa29304f5b8e49">FORCE_EOF</a></div><div class="ttdeci">#define FORCE_EOF</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/bashjmp_8h_source.html#l00040">bashjmp.h:40</a></div></div>
<div class="ttc" id="abashjmp_8h_html_aa33f61f9f10a8fc3b63f3d4c88bea71a"><div class="ttname"><a href="../../da/d23/bashjmp_8h.html#aa33f61f9f10a8fc3b63f3d4c88bea71a">EXITPROG</a></div><div class="ttdeci">#define EXITPROG</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/bashjmp_8h_source.html#l00042">bashjmp.h:42</a></div></div>
<div class="ttc" id="abashjmp_8h_html_ad4c19ce20bb4767ed705b1e79a72a30e"><div class="ttname"><a href="../../da/d23/bashjmp_8h.html#ad4c19ce20bb4767ed705b1e79a72a30e">ERREXIT</a></div><div class="ttdeci">#define ERREXIT</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/bashjmp_8h_source.html#l00043">bashjmp.h:43</a></div></div>
<div class="ttc" id="abashjmp_8h_html_adbaca35440ef5d1abf8a0084bf382b8b"><div class="ttname"><a href="../../da/d23/bashjmp_8h.html#adbaca35440ef5d1abf8a0084bf382b8b">DISCARD</a></div><div class="ttdeci">#define DISCARD</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/bashjmp_8h_source.html#l00041">bashjmp.h:41</a></div></div>
<div class="ttc" id="abashjmp_8h_html_aed4c68ec8b00e58f997182f8d7de9463"><div class="ttname"><a href="../../da/d23/bashjmp_8h.html#aed4c68ec8b00e58f997182f8d7de9463">NOT_JUMPED</a></div><div class="ttdeci">#define NOT_JUMPED</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/bashjmp_8h_source.html#l00039">bashjmp.h:39</a></div></div>
<div class="ttc" id="abashtypes_8h_html"><div class="ttname"><a href="../../d6/d21/bashtypes_8h.html">bashtypes.h</a></div></div>
<div class="ttc" id="abperl_8c_html_a4ea453523fbcd79b0cfdb31ca1c4621b"><div class="ttname"><a href="../../dd/d25/bperl_8c.html#a4ea453523fbcd79b0cfdb31ca1c4621b">export_env</a></div><div class="ttdeci">char ** export_env</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l00176">variables.c:176</a></div></div>
<div class="ttc" id="abuiltins_8h_html"><div class="ttname"><a href="../../d7/d41/builtins_8h.html">builtins.h</a></div></div>
<div class="ttc" id="abuiltins_8h_html_a60148fc090c97451ba3428934f5a83c7"><div class="ttname"><a href="../../d7/d41/builtins_8h.html#a60148fc090c97451ba3428934f5a83c7">ARRAYREF_BUILTIN</a></div><div class="ttdeci">#define ARRAYREF_BUILTIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/builtins_8h_source.html#l00048">builtins.h:48</a></div></div>
<div class="ttc" id="abuiltins_8h_html_a9f583bfe9459f1e181c58a79a0f49a8e"><div class="ttname"><a href="../../d7/d41/builtins_8h.html#a9f583bfe9459f1e181c58a79a0f49a8e">builtin::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/builtins_8h_source.html#l00056">builtins.h:56</a></div></div>
<div class="ttc" id="abuiltins_8h_html_aac5a22df46a699341bc515c63d821f2a"><div class="ttname"><a href="../../d7/d41/builtins_8h.html#aac5a22df46a699341bc515c63d821f2a">LOCALVAR_BUILTIN</a></div><div class="ttdeci">#define LOCALVAR_BUILTIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/builtins_8h_source.html#l00047">builtins.h:47</a></div></div>
<div class="ttc" id="abuiltins_8h_html_ae70f9097f113b1c52cabc5871556175f"><div class="ttname"><a href="../../d7/d41/builtins_8h.html#ae70f9097f113b1c52cabc5871556175f">ASSIGNMENT_BUILTIN</a></div><div class="ttdeci">#define ASSIGNMENT_BUILTIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/builtins_8h_source.html#l00045">builtins.h:45</a></div></div>
<div class="ttc" id="abuiltins_8h_html_d1/d47/structbuiltin"><div class="ttname"><a href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/builtins_8h_source.html#l00053">builtins.h:53</a></div></div>
<div class="ttc" id="abusybox_2coreutils_2test_8c_html_a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6"><div class="ttname"><a href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4a536162ec85fec202a0c680563f941cf6">STREQ</a></div><div class="ttdeci">@ STREQ</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9e/busybox_2coreutils_2test_8c_source.html#l00192">test.c:192</a></div></div>
<div class="ttc" id="abusybox_2coreutils_2test_8c_html_acd08a6295eccfeb30c79985f047e4be5"><div class="ttname"><a href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a></div><div class="ttdeci">#define args</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9e/busybox_2coreutils_2test_8c_source.html#l00441">test.c:441</a></div></div>
<div class="ttc" id="abusybox_2libbb_2unicode_8c_html_ab798d3f35a4453f03bb1b34662f5bf30"><div class="ttname"><a href="../../d9/dad/busybox_2libbb_2unicode_8c.html#ab798d3f35a4453f03bb1b34662f5bf30">mbstowcs</a></div><div class="ttdeci">size_t FAST_FUNC mbstowcs(wchar_t *dest, const char *src, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dad/busybox_2libbb_2unicode_8c_source.html#l00226">unicode.c:226</a></div></div>
<div class="ttc" id="acargs_8h_html_a69437b5d572dd16d6d4fdbcbd066c7a9"><div class="ttname"><a href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a></div><div class="ttdeci">unsigned int FILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d37/cargs_8h_source.html#l00038">cargs.h:38</a></div></div>
<div class="ttc" id="achartypes_8h_html"><div class="ttname"><a href="../../d4/dcb/chartypes_8h.html">chartypes.h</a></div></div>
<div class="ttc" id="achartypes_8h_html_ac3409a4a6e7e551d12696906dcf29e0e"><div class="ttname"><a href="../../d4/dcb/chartypes_8h.html#ac3409a4a6e7e551d12696906dcf29e0e">DIGIT</a></div><div class="ttdeci">#define DIGIT(c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcb/chartypes_8h_source.html#l00079">chartypes.h:79</a></div></div>
<div class="ttc" id="acommand_8h_html_a07d76d76b991c3dbabbf5b5c0e123836"><div class="ttname"><a href="../../d0/d09/command_8h.html#a07d76d76b991c3dbabbf5b5c0e123836">if_com::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00295">command.h:295</a></div></div>
<div class="ttc" id="acommand_8h_html_a0806649401c3bb4c89bb431d3f3f5a99"><div class="ttname"><a href="../../d0/d09/command_8h.html#a0806649401c3bb4c89bb431d3f3f5a99">CMD_WANT_SUBSHELL</a></div><div class="ttdeci">#define CMD_WANT_SUBSHELL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00179">command.h:179</a></div></div>
<div class="ttc" id="acommand_8h_html_a099d95cd805bc361bdfe3434fc3df1a8"><div class="ttname"><a href="../../d0/d09/command_8h.html#a099d95cd805bc361bdfe3434fc3df1a8">SUBSHELL_PAREN</a></div><div class="ttdeci">#define SUBSHELL_PAREN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00121">command.h:121</a></div></div>
<div class="ttc" id="acommand_8h_html_a0e1cff89ea608dfe940ce589122d9e94"><div class="ttname"><a href="../../d0/d09/command_8h.html#a0e1cff89ea608dfe940ce589122d9e94">W_TILDEEXP</a></div><div class="ttdeci">#define W_TILDEEXP</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00083">command.h:83</a></div></div>
<div class="ttc" id="acommand_8h_html_a177ba2ebb0aea0441c83c39643ff5181"><div class="ttname"><a href="../../d0/d09/command_8h.html#a177ba2ebb0aea0441c83c39643ff5181">CMD_INHIBIT_EXPANSION</a></div><div class="ttdeci">#define CMD_INHIBIT_EXPANSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00184">command.h:184</a></div></div>
<div class="ttc" id="acommand_8h_html_a188d6b1f7afac2ff9204793f8caeea6e"><div class="ttname"><a href="../../d0/d09/command_8h.html#a188d6b1f7afac2ff9204793f8caeea6e">CMD_TIME_PIPELINE</a></div><div class="ttdeci">#define CMD_TIME_PIPELINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00186">command.h:186</a></div></div>
<div class="ttc" id="acommand_8h_html_a1d47a692dd8fb660368206a3218f3fe8"><div class="ttname"><a href="../../d0/d09/command_8h.html#a1d47a692dd8fb660368206a3218f3fe8">function_def::command</a></div><div class="ttdeci">COMMAND * command</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00350">command.h:350</a></div></div>
<div class="ttc" id="acommand_8h_html_a1f4bab590838fd1ce5e0e8a4ba0c6f0b"><div class="ttname"><a href="../../d0/d09/command_8h.html#a1f4bab590838fd1ce5e0e8a4ba0c6f0b">SUBSHELL_PIPE</a></div><div class="ttdeci">#define SUBSHELL_PIPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00124">command.h:124</a></div></div>
<div class="ttc" id="acommand_8h_html_a20617bf930c55d6fd4de603784331545"><div class="ttname"><a href="../../d0/d09/command_8h.html#a20617bf930c55d6fd4de603784331545">coproc::c_rfd</a></div><div class="ttdeci">int c_rfd</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00373">command.h:373</a></div></div>
<div class="ttc" id="acommand_8h_html_a224481775fc2b0ae54084676a332eaf2"><div class="ttname"><a href="../../d0/d09/command_8h.html#a224481775fc2b0ae54084676a332eaf2">case_com::line</a></div><div class="ttdeci">int line</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00253">command.h:253</a></div></div>
<div class="ttc" id="acommand_8h_html_a241f08d773699e8d21de269b4644cbbd"><div class="ttname"><a href="../../d0/d09/command_8h.html#a241f08d773699e8d21de269b4644cbbd">REDIRECTEE::dest</a></div><div class="ttdeci">int dest</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00155">command.h:155</a></div></div>
<div class="ttc" id="acommand_8h_html_a268cba692dd4b85d33586df8286dcc6e"><div class="ttname"><a href="../../d0/d09/command_8h.html#a268cba692dd4b85d33586df8286dcc6e">for_com::line</a></div><div class="ttdeci">int line</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00261">command.h:261</a></div></div>
<div class="ttc" id="acommand_8h_html_a27827a9c9d9fa0c27da3192732febc34"><div class="ttname"><a href="../../d0/d09/command_8h.html#a27827a9c9d9fa0c27da3192732febc34">W_ASSIGNARG</a></div><div class="ttdeci">#define W_ASSIGNARG</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00093">command.h:93</a></div></div>
<div class="ttc" id="acommand_8h_html_a28a2dd8a917262a9eaa0c446d1b54fe0"><div class="ttname"><a href="../../d0/d09/command_8h.html#a28a2dd8a917262a9eaa0c446d1b54fe0">if_com::test</a></div><div class="ttdeci">COMMAND * test</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00296">command.h:296</a></div></div>
<div class="ttc" id="acommand_8h_html_a293321462a0aa4e566ee3d432374bd5f"><div class="ttname"><a href="../../d0/d09/command_8h.html#a293321462a0aa4e566ee3d432374bd5f">SUBSHELL_RESETTRAP</a></div><div class="ttdeci">#define SUBSHELL_RESETTRAP</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00127">command.h:127</a></div></div>
<div class="ttc" id="acommand_8h_html_a298ee7f13c0ded6032300588bc4739c6"><div class="ttname"><a href="../../d0/d09/command_8h.html#a298ee7f13c0ded6032300588bc4739c6">pattern_list::next</a></div><div class="ttdeci">struct pattern_list * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00244">command.h:244</a></div></div>
<div class="ttc" id="acommand_8h_html_a2c12afc95d8231a2627a08351903425c"><div class="ttname"><a href="../../d0/d09/command_8h.html#a2c12afc95d8231a2627a08351903425c">coproc::c_wfd</a></div><div class="ttdeci">int c_wfd</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00374">command.h:374</a></div></div>
<div class="ttc" id="acommand_8h_html_a30995e3628b99a0514ed9fdd9843e55da1a8b78fedef80651df23168d82de702f"><div class="ttname"><a href="../../d0/d09/command_8h.html#a30995e3628b99a0514ed9fdd9843e55da1a8b78fedef80651df23168d82de702f">r_close_this</a></div><div class="ttdeci">@ r_close_this</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00032">command.h:32</a></div></div>
<div class="ttc" id="acommand_8h_html_a329fad0b9806a27d1fe3568547f92180"><div class="ttname"><a href="../../d0/d09/command_8h.html#a329fad0b9806a27d1fe3568547f92180">CMD_LASTPIPE</a></div><div class="ttdeci">#define CMD_LASTPIPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00192">command.h:192</a></div></div>
<div class="ttc" id="acommand_8h_html_a34bf762bf4fa2b6f79d9ebc12302819a"><div class="ttname"><a href="../../d0/d09/command_8h.html#a34bf762bf4fa2b6f79d9ebc12302819a">coproc::c_lock</a></div><div class="ttdeci">int c_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00379">command.h:379</a></div></div>
<div class="ttc" id="acommand_8h_html_a3681da2bf1196015719c7c529a96bafe"><div class="ttname"><a href="../../d0/d09/command_8h.html#a3681da2bf1196015719c7c529a96bafe">simple_com::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00338">command.h:338</a></div></div>
<div class="ttc" id="acommand_8h_html_a3c0bb857aacc8176f88f20075e902fd6"><div class="ttname"><a href="../../d0/d09/command_8h.html#a3c0bb857aacc8176f88f20075e902fd6">coproc::c_wsave</a></div><div class="ttdeci">int c_wsave</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00376">command.h:376</a></div></div>
<div class="ttc" id="acommand_8h_html_a41bcaa6d0d3a62c211c35e54638a382f"><div class="ttname"><a href="../../d0/d09/command_8h.html#a41bcaa6d0d3a62c211c35e54638a382f">SUBSHELL_FORK</a></div><div class="ttdeci">#define SUBSHELL_FORK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00123">command.h:123</a></div></div>
<div class="ttc" id="acommand_8h_html_a434e80f6704633cfb08dab20c1d28076"><div class="ttname"><a href="../../d0/d09/command_8h.html#a434e80f6704633cfb08dab20c1d28076">pattern_list::patterns</a></div><div class="ttdeci">WORD_LIST * patterns</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00245">command.h:245</a></div></div>
<div class="ttc" id="acommand_8h_html_a4577eeffb11f0901b14c4d82852eed26"><div class="ttname"><a href="../../d0/d09/command_8h.html#a4577eeffb11f0901b14c4d82852eed26">CMD_COMMAND_BUILTIN</a></div><div class="ttdeci">#define CMD_COMMAND_BUILTIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00190">command.h:190</a></div></div>
<div class="ttc" id="acommand_8h_html_a492083d124f5c7ab21333ca4874d5ad0"><div class="ttname"><a href="../../d0/d09/command_8h.html#a492083d124f5c7ab21333ca4874d5ad0">COND_OR</a></div><div class="ttdeci">#define COND_OR</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00322">command.h:322</a></div></div>
<div class="ttc" id="acommand_8h_html_a4a6baeb58d76450ff3d235cd592bd4ec"><div class="ttname"><a href="../../d0/d09/command_8h.html#a4a6baeb58d76450ff3d235cd592bd4ec">COND_BINARY</a></div><div class="ttdeci">#define COND_BINARY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00324">command.h:324</a></div></div>
<div class="ttc" id="acommand_8h_html_a4c5fbbe2909f93d42fad2d5fda2e93a0"><div class="ttname"><a href="../../d0/d09/command_8h.html#a4c5fbbe2909f93d42fad2d5fda2e93a0">W_NOSPLIT</a></div><div class="ttdeci">#define W_NOSPLIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00080">command.h:80</a></div></div>
<div class="ttc" id="acommand_8h_html_a510ca1a742b05c210803a73b9b7719c7"><div class="ttname"><a href="../../d0/d09/command_8h.html#a510ca1a742b05c210803a73b9b7719c7">sh_coproc</a></div><div class="ttdeci">Coproc sh_coproc</div></div>
<div class="ttc" id="acommand_8h_html_a580b06894a4aec29dcbcd920f8b65bd9"><div class="ttname"><a href="../../d0/d09/command_8h.html#a580b06894a4aec29dcbcd920f8b65bd9">CMD_INVERT_RETURN</a></div><div class="ttdeci">#define CMD_INVERT_RETURN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00181">command.h:181</a></div></div>
<div class="ttc" id="acommand_8h_html_a5b082468bd78a9d4cb6447bf0702d1a3"><div class="ttname"><a href="../../d0/d09/command_8h.html#a5b082468bd78a9d4cb6447bf0702d1a3">W_NOGLOB</a></div><div class="ttdeci">#define W_NOGLOB</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00081">command.h:81</a></div></div>
<div class="ttc" id="acommand_8h_html_a672ffd2d8ac7851801ca7bf91749431c"><div class="ttname"><a href="../../d0/d09/command_8h.html#a672ffd2d8ac7851801ca7bf91749431c">COPROC_RUNNING</a></div><div class="ttdeci">#define COPROC_RUNNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00367">command.h:367</a></div></div>
<div class="ttc" id="acommand_8h_html_a67b74c35b4f3ff70a02c6172323c1ac6"><div class="ttname"><a href="../../d0/d09/command_8h.html#a67b74c35b4f3ff70a02c6172323c1ac6">CMDERR_BADTYPE</a></div><div class="ttdeci">#define CMDERR_BADTYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00393">command.h:393</a></div></div>
<div class="ttc" id="acommand_8h_html_a68bcee3c7e8750f04e632c0178dbb574"><div class="ttname"><a href="../../d0/d09/command_8h.html#a68bcee3c7e8750f04e632c0178dbb574">case_com::clauses</a></div><div class="ttdeci">PATTERN_LIST * clauses</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00255">command.h:255</a></div></div>
<div class="ttc" id="acommand_8h_html_a6a55dfa841fd7fad2ad111066150c383"><div class="ttname"><a href="../../d0/d09/command_8h.html#a6a55dfa841fd7fad2ad111066150c383">TRANSLATE_REDIRECT</a></div><div class="ttdeci">#define TRANSLATE_REDIRECT(ri)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00066">command.h:66</a></div></div>
<div class="ttc" id="acommand_8h_html_a6dfcb3d9a4a25c61c48afcae84b1618e"><div class="ttname"><a href="../../d0/d09/command_8h.html#a6dfcb3d9a4a25c61c48afcae84b1618e">W_ASSNGLOBAL</a></div><div class="ttdeci">#define W_ASSNGLOBAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00101">command.h:101</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4">command_type</a></div><div class="ttdeci">command_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00071">command.h:71</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4a231ab4a34926d8540dd6645d28e046b3"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a231ab4a34926d8540dd6645d28e046b3">cm_case</a></div><div class="ttdeci">@ cm_case</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00071">command.h:71</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4a34e63fa25a73c47ca9c1e3c4675b4cb0"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a34e63fa25a73c47ca9c1e3c4675b4cb0">cm_cond</a></div><div class="ttdeci">@ cm_cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00073">command.h:73</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4a3a10db8d17c0c9e4d5b345e51cc54f91"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a3a10db8d17c0c9e4d5b345e51cc54f91">cm_subshell</a></div><div class="ttdeci">@ cm_subshell</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00073">command.h:73</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4a41cbb56c2bbc34560ab03d87c7156846"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a41cbb56c2bbc34560ab03d87c7156846">cm_coproc</a></div><div class="ttdeci">@ cm_coproc</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00073">command.h:73</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4a45d0af40ea3834a6294f236d061dbf85"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a45d0af40ea3834a6294f236d061dbf85">cm_connection</a></div><div class="ttdeci">@ cm_connection</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00072">command.h:72</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4a6b95c578a76edef96b78363613c03424"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a6b95c578a76edef96b78363613c03424">cm_simple</a></div><div class="ttdeci">@ cm_simple</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00071">command.h:71</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4a9cda2772dfb914a28f9fd15f0827f5b9"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4a9cda2772dfb914a28f9fd15f0827f5b9">cm_arith_for</a></div><div class="ttdeci">@ cm_arith_for</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00073">command.h:73</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4aa5a171679a4afeedbf5656842c28d7d6"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4aa5a171679a4afeedbf5656842c28d7d6">cm_while</a></div><div class="ttdeci">@ cm_while</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00071">command.h:71</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4ad251e86bb9c320dd7686e4fb619864fb"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4ad251e86bb9c320dd7686e4fb619864fb">cm_for</a></div><div class="ttdeci">@ cm_for</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00071">command.h:71</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4ad3bc32e998505a5d85220f89a3946c43"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4ad3bc32e998505a5d85220f89a3946c43">cm_until</a></div><div class="ttdeci">@ cm_until</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00072">command.h:72</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4ade005cb6c786196a2c4387b06649afa6"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4ade005cb6c786196a2c4387b06649afa6">cm_select</a></div><div class="ttdeci">@ cm_select</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00071">command.h:71</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4af707d29bf49d39c31aa013337e179614"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4af707d29bf49d39c31aa013337e179614">cm_group</a></div><div class="ttdeci">@ cm_group</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00072">command.h:72</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4af738c7876da438b4b0ccd9ba3e6e37f2"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4af738c7876da438b4b0ccd9ba3e6e37f2">cm_function_def</a></div><div class="ttdeci">@ cm_function_def</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00072">command.h:72</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4afb9898b99c8da429d239cd0264af4718"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4afb9898b99c8da429d239cd0264af4718">cm_if</a></div><div class="ttdeci">@ cm_if</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00071">command.h:71</a></div></div>
<div class="ttc" id="acommand_8h_html_a71e4cb55459005154ad8360914a8e1f4afbe09c28d0b774c3f618235f135e725e"><div class="ttname"><a href="../../d0/d09/command_8h.html#a71e4cb55459005154ad8360914a8e1f4afbe09c28d0b774c3f618235f135e725e">cm_arith</a></div><div class="ttdeci">@ cm_arith</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00073">command.h:73</a></div></div>
<div class="ttc" id="acommand_8h_html_a73b79d504929eeb584d08f068a046efc"><div class="ttname"><a href="../../d0/d09/command_8h.html#a73b79d504929eeb584d08f068a046efc">word_list::next</a></div><div class="ttdeci">struct word_list * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00138">command.h:138</a></div></div>
<div class="ttc" id="acommand_8h_html_a73c5c1e3d71a7d4615708e5b6afd4e34"><div class="ttname"><a href="../../d0/d09/command_8h.html#a73c5c1e3d71a7d4615708e5b6afd4e34">case_com::word</a></div><div class="ttdeci">WORD_DESC * word</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00254">command.h:254</a></div></div>
<div class="ttc" id="acommand_8h_html_a77a5a677b045bde12c0cecb4347ec1e7"><div class="ttname"><a href="../../d0/d09/command_8h.html#a77a5a677b045bde12c0cecb4347ec1e7">INPUT_REDIRECT</a></div><div class="ttdeci">#define INPUT_REDIRECT(ri)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00054">command.h:54</a></div></div>
<div class="ttc" id="acommand_8h_html_a7c1331e9e068cc68d7202a5258a9b99f"><div class="ttname"><a href="../../d0/d09/command_8h.html#a7c1331e9e068cc68d7202a5258a9b99f">case_com::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00252">command.h:252</a></div></div>
<div class="ttc" id="acommand_8h_html_a7fe36c900b18a60a1aeffadf9ae1c01f"><div class="ttname"><a href="../../d0/d09/command_8h.html#a7fe36c900b18a60a1aeffadf9ae1c01f">word_desc::word</a></div><div class="ttdeci">char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00132">command.h:132</a></div></div>
<div class="ttc" id="acommand_8h_html_a84143f106fb0e7e4470389a550d8eff3"><div class="ttname"><a href="../../d0/d09/command_8h.html#a84143f106fb0e7e4470389a550d8eff3">CMD_AMPERSAND</a></div><div class="ttdeci">#define CMD_AMPERSAND</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00188">command.h:188</a></div></div>
<div class="ttc" id="acommand_8h_html_a852301eab3bb50b3761ee3ba989b817e"><div class="ttname"><a href="../../d0/d09/command_8h.html#a852301eab3bb50b3761ee3ba989b817e">W_CHKLOCAL</a></div><div class="ttdeci">#define W_CHKLOCAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00104">command.h:104</a></div></div>
<div class="ttc" id="acommand_8h_html_a8593f501faea91cac1d23020c5124b50"><div class="ttname"><a href="../../d0/d09/command_8h.html#a8593f501faea91cac1d23020c5124b50">COPROC_DEAD</a></div><div class="ttdeci">#define COPROC_DEAD</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00368">command.h:368</a></div></div>
<div class="ttc" id="acommand_8h_html_a8a9c45afa462969d01399d063320bd08"><div class="ttname"><a href="../../d0/d09/command_8h.html#a8a9c45afa462969d01399d063320bd08">simple_com::redirects</a></div><div class="ttdeci">REDIRECT * redirects</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00342">command.h:342</a></div></div>
<div class="ttc" id="acommand_8h_html_a8df5f451751609f16a376892ad22d746"><div class="ttname"><a href="../../d0/d09/command_8h.html#a8df5f451751609f16a376892ad22d746">CMD_STDIN_REDIR</a></div><div class="ttdeci">#define CMD_STDIN_REDIR</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00189">command.h:189</a></div></div>
<div class="ttc" id="acommand_8h_html_a8eaeeadd6e86e0a0a76144bf29a60b4d"><div class="ttname"><a href="../../d0/d09/command_8h.html#a8eaeeadd6e86e0a0a76144bf29a60b4d">while_com::action</a></div><div class="ttdeci">COMMAND * action</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00305">command.h:305</a></div></div>
<div class="ttc" id="acommand_8h_html_a8f50a2c1bfc84c589ce327839c5e4805"><div class="ttname"><a href="../../d0/d09/command_8h.html#a8f50a2c1bfc84c589ce327839c5e4805">for_com::action</a></div><div class="ttdeci">COMMAND * action</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00264">command.h:264</a></div></div>
<div class="ttc" id="acommand_8h_html_a922bbc28525403f01e0a092a90f33f0f"><div class="ttname"><a href="../../d0/d09/command_8h.html#a922bbc28525403f01e0a092a90f33f0f">COND_UNARY</a></div><div class="ttdeci">#define COND_UNARY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00323">command.h:323</a></div></div>
<div class="ttc" id="acommand_8h_html_a954d92414437178eb2545211a43291db"><div class="ttname"><a href="../../d0/d09/command_8h.html#a954d92414437178eb2545211a43291db">for_com::name</a></div><div class="ttdeci">WORD_DESC * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00262">command.h:262</a></div></div>
<div class="ttc" id="acommand_8h_html_a985b501e47aedaebc0116f4f49e9be41"><div class="ttname"><a href="../../d0/d09/command_8h.html#a985b501e47aedaebc0116f4f49e9be41">coproc::c_pid</a></div><div class="ttdeci">pid_t c_pid</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00372">command.h:372</a></div></div>
<div class="ttc" id="acommand_8h_html_a990e7acfa04422690478a375bd571ba0"><div class="ttname"><a href="../../d0/d09/command_8h.html#a990e7acfa04422690478a375bd571ba0">CASEPAT_TESTNEXT</a></div><div class="ttdeci">#define CASEPAT_TESTNEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00240">command.h:240</a></div></div>
<div class="ttc" id="acommand_8h_html_a99c7fca9ceb1707faca550b1c7835fed"><div class="ttname"><a href="../../d0/d09/command_8h.html#a99c7fca9ceb1707faca550b1c7835fed">W_ARRAYREF</a></div><div class="ttdeci">#define W_ARRAYREF</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00085">command.h:85</a></div></div>
<div class="ttc" id="acommand_8h_html_a9fb038976ae82a22c7ba1b418285e17b"><div class="ttname"><a href="../../d0/d09/command_8h.html#a9fb038976ae82a22c7ba1b418285e17b">coproc::c_rsave</a></div><div class="ttdeci">int c_rsave</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00375">command.h:375</a></div></div>
<div class="ttc" id="acommand_8h_html_aa2c9eae23dab34ddb57c048d6c2251ec"><div class="ttname"><a href="../../d0/d09/command_8h.html#aa2c9eae23dab34ddb57c048d6c2251ec">W_FORCELOCAL</a></div><div class="ttdeci">#define W_FORCELOCAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00105">command.h:105</a></div></div>
<div class="ttc" id="acommand_8h_html_aa891c8cec866e9738888f46bc26d4172"><div class="ttname"><a href="../../d0/d09/command_8h.html#aa891c8cec866e9738888f46bc26d4172">COND_EXPR</a></div><div class="ttdeci">#define COND_EXPR</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00326">command.h:326</a></div></div>
<div class="ttc" id="acommand_8h_html_aaba18b62fee2388c8159048f35233147"><div class="ttname"><a href="../../d0/d09/command_8h.html#aaba18b62fee2388c8159048f35233147">CMDERR_BADCONN</a></div><div class="ttdeci">#define CMDERR_BADCONN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00394">command.h:394</a></div></div>
<div class="ttc" id="acommand_8h_html_aace1f35eb92bd698ceedef24f46db38d"><div class="ttname"><a href="../../d0/d09/command_8h.html#aace1f35eb92bd698ceedef24f46db38d">W_ASSIGNARRAY</a></div><div class="ttdeci">#define W_ASSIGNARRAY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00099">command.h:99</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf191cb3477717d8b7479fda976063dd"><div class="ttname"><a href="../../d0/d09/command_8h.html#aaf191cb3477717d8b7479fda976063dd">word_desc::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00133">command.h:133</a></div></div>
<div class="ttc" id="acommand_8h_html_ab35c5ac23f228be18acfc99fdbac9077"><div class="ttname"><a href="../../d0/d09/command_8h.html#ab35c5ac23f228be18acfc99fdbac9077">CMD_STDPATH</a></div><div class="ttdeci">#define CMD_STDPATH</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00193">command.h:193</a></div></div>
<div class="ttc" id="acommand_8h_html_ab599af35fc2f41cb142fad1c4906d5b4"><div class="ttname"><a href="../../d0/d09/command_8h.html#ab599af35fc2f41cb142fad1c4906d5b4">W_ASSNBLTIN</a></div><div class="ttdeci">#define W_ASSNBLTIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00092">command.h:92</a></div></div>
<div class="ttc" id="acommand_8h_html_ab695c3ea48e16db8f9e7589fb56366f8"><div class="ttname"><a href="../../d0/d09/command_8h.html#ab695c3ea48e16db8f9e7589fb56366f8">while_com::test</a></div><div class="ttdeci">COMMAND * test</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00304">command.h:304</a></div></div>
<div class="ttc" id="acommand_8h_html_ab742e5285c2dc8e39fd5b6b89c68522e"><div class="ttname"><a href="../../d0/d09/command_8h.html#ab742e5285c2dc8e39fd5b6b89c68522e">coproc::c_status</a></div><div class="ttdeci">int c_status</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00378">command.h:378</a></div></div>
<div class="ttc" id="acommand_8h_html_ab7af131e28fe7685d0590ebbfff920f5"><div class="ttname"><a href="../../d0/d09/command_8h.html#ab7af131e28fe7685d0590ebbfff920f5">CMD_TIME_POSIX</a></div><div class="ttdeci">#define CMD_TIME_POSIX</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00187">command.h:187</a></div></div>
<div class="ttc" id="acommand_8h_html_abaa65a0967a7f23d937b93ddac7c7a61"><div class="ttname"><a href="../../d0/d09/command_8h.html#abaa65a0967a7f23d937b93ddac7c7a61">W_ASSIGNASSOC</a></div><div class="ttdeci">#define W_ASSIGNASSOC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00098">command.h:98</a></div></div>
<div class="ttc" id="acommand_8h_html_abae207e9054326f960ead31780ccf5ea"><div class="ttname"><a href="../../d0/d09/command_8h.html#abae207e9054326f960ead31780ccf5ea">pattern_list::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00247">command.h:247</a></div></div>
<div class="ttc" id="acommand_8h_html_abd94aff81c34160c8185303ebe67c539"><div class="ttname"><a href="../../d0/d09/command_8h.html#abd94aff81c34160c8185303ebe67c539">SUBSHELL_ASYNC</a></div><div class="ttdeci">#define SUBSHELL_ASYNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00120">command.h:120</a></div></div>
<div class="ttc" id="acommand_8h_html_ac81077f23150b67ec83919478361f017"><div class="ttname"><a href="../../d0/d09/command_8h.html#ac81077f23150b67ec83919478361f017">CMD_FORCE_SUBSHELL</a></div><div class="ttdeci">#define CMD_FORCE_SUBSHELL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00180">command.h:180</a></div></div>
<div class="ttc" id="acommand_8h_html_ac9f1b317a7c8ff4c750335c571c33a15"><div class="ttname"><a href="../../d0/d09/command_8h.html#ac9f1b317a7c8ff4c750335c571c33a15">if_com::false_case</a></div><div class="ttdeci">COMMAND * false_case</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00298">command.h:298</a></div></div>
<div class="ttc" id="acommand_8h_html_acaecc6b5540a23a9d1d411add740147a"><div class="ttname"><a href="../../d0/d09/command_8h.html#acaecc6b5540a23a9d1d411add740147a">SUBSHELL_COMSUB</a></div><div class="ttdeci">#define SUBSHELL_COMSUB</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00122">command.h:122</a></div></div>
<div class="ttc" id="acommand_8h_html_acb04d1a39efe075514c3db25081a6a29"><div class="ttname"><a href="../../d0/d09/command_8h.html#acb04d1a39efe075514c3db25081a6a29">COND_AND</a></div><div class="ttdeci">#define COND_AND</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00321">command.h:321</a></div></div>
<div class="ttc" id="acommand_8h_html_ad21801282b94695a306f3864c2bd7376"><div class="ttname"><a href="../../d0/d09/command_8h.html#ad21801282b94695a306f3864c2bd7376">function_def::source_file</a></div><div class="ttdeci">char * source_file</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00351">command.h:351</a></div></div>
<div class="ttc" id="acommand_8h_html_add9efd6ed9e84a42922fc7c6b273e3b9"><div class="ttname"><a href="../../d0/d09/command_8h.html#add9efd6ed9e84a42922fc7c6b273e3b9">for_com::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00260">command.h:260</a></div></div>
<div class="ttc" id="acommand_8h_html_adf2737085ad5882519bda0ed989f8a60"><div class="ttname"><a href="../../d0/d09/command_8h.html#adf2737085ad5882519bda0ed989f8a60">CASEPAT_FALLTHROUGH</a></div><div class="ttdeci">#define CASEPAT_FALLTHROUGH</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00239">command.h:239</a></div></div>
<div class="ttc" id="acommand_8h_html_adfa45447c15cae4d950ac8bd196087ca"><div class="ttname"><a href="../../d0/d09/command_8h.html#adfa45447c15cae4d950ac8bd196087ca">SUBSHELL_IGNTRAP</a></div><div class="ttdeci">#define SUBSHELL_IGNTRAP</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00128">command.h:128</a></div></div>
<div class="ttc" id="acommand_8h_html_ae31932a25ce2a1a616aecae649f78045"><div class="ttname"><a href="../../d0/d09/command_8h.html#ae31932a25ce2a1a616aecae649f78045">pattern_list::action</a></div><div class="ttdeci">COMMAND * action</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00246">command.h:246</a></div></div>
<div class="ttc" id="acommand_8h_html_ae691d759258b18e45dd18591e71dc141"><div class="ttname"><a href="../../d0/d09/command_8h.html#ae691d759258b18e45dd18591e71dc141">if_com::true_case</a></div><div class="ttdeci">COMMAND * true_case</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00297">command.h:297</a></div></div>
<div class="ttc" id="acommand_8h_html_ae717a8244fbbcb28ae1debd9da89a0ef"><div class="ttname"><a href="../../d0/d09/command_8h.html#ae717a8244fbbcb28ae1debd9da89a0ef">word_list::word</a></div><div class="ttdeci">WORD_DESC * word</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00139">command.h:139</a></div></div>
<div class="ttc" id="acommand_8h_html_ae7a7f329e99d6e622ca9a8daef38c155"><div class="ttname"><a href="../../d0/d09/command_8h.html#ae7a7f329e99d6e622ca9a8daef38c155">simple_com::words</a></div><div class="ttdeci">WORD_LIST * words</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00340">command.h:340</a></div></div>
<div class="ttc" id="acommand_8h_html_ae7c225776eecb2f1a0b4de5ac1f6eff3"><div class="ttname"><a href="../../d0/d09/command_8h.html#ae7c225776eecb2f1a0b4de5ac1f6eff3">CMD_NO_FORK</a></div><div class="ttdeci">#define CMD_NO_FORK</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00185">command.h:185</a></div></div>
<div class="ttc" id="acommand_8h_html_ae9bc74158b6735a789842cbba12dea60"><div class="ttname"><a href="../../d0/d09/command_8h.html#ae9bc74158b6735a789842cbba12dea60">for_com::map_list</a></div><div class="ttdeci">WORD_LIST * map_list</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00263">command.h:263</a></div></div>
<div class="ttc" id="acommand_8h_html_aeaff821980f0c3b0e991cd793a9f1ff2"><div class="ttname"><a href="../../d0/d09/command_8h.html#aeaff821980f0c3b0e991cd793a9f1ff2">W_QUOTED</a></div><div class="ttdeci">#define W_QUOTED</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00077">command.h:77</a></div></div>
<div class="ttc" id="acommand_8h_html_aeb193d7a3c699fc4688fe85b70f842f6"><div class="ttname"><a href="../../d0/d09/command_8h.html#aeb193d7a3c699fc4688fe85b70f842f6">REDIR_VARASSIGN</a></div><div class="ttdeci">#define REDIR_VARASSIGN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00039">command.h:39</a></div></div>
<div class="ttc" id="acommand_8h_html_aeee869c9eb263491c5454c3c8c6b098a"><div class="ttname"><a href="../../d0/d09/command_8h.html#aeee869c9eb263491c5454c3c8c6b098a">while_com::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00303">command.h:303</a></div></div>
<div class="ttc" id="acommand_8h_html_af2e8d0ab8ebc8b5e53c931576981e376"><div class="ttname"><a href="../../d0/d09/command_8h.html#af2e8d0ab8ebc8b5e53c931576981e376">W_ASSIGNMENT</a></div><div class="ttdeci">#define W_ASSIGNMENT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00078">command.h:78</a></div></div>
<div class="ttc" id="acommand_8h_html_af3e3f0228854b49f9a1473927086896b"><div class="ttname"><a href="../../d0/d09/command_8h.html#af3e3f0228854b49f9a1473927086896b">SUBSHELL_COPROC</a></div><div class="ttdeci">#define SUBSHELL_COPROC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00126">command.h:126</a></div></div>
<div class="ttc" id="acommand_8h_html_afb0ac3c4ec995790bf72cb0ef27854e6"><div class="ttname"><a href="../../d0/d09/command_8h.html#afb0ac3c4ec995790bf72cb0ef27854e6">coproc::c_flags</a></div><div class="ttdeci">int c_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00377">command.h:377</a></div></div>
<div class="ttc" id="acommand_8h_html_aff3dd0768a86c52f722064766eda4724"><div class="ttname"><a href="../../d0/d09/command_8h.html#aff3dd0768a86c52f722064766eda4724">CMD_NO_FUNCTIONS</a></div><div class="ttdeci">#define CMD_NO_FUNCTIONS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00183">command.h:183</a></div></div>
<div class="ttc" id="acommand_8h_html_aff6c7c0df15a92848d6ec3024515f02b"><div class="ttname"><a href="../../d0/d09/command_8h.html#aff6c7c0df15a92848d6ec3024515f02b">coproc::c_name</a></div><div class="ttdeci">char * c_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00371">command.h:371</a></div></div>
<div class="ttc" id="acommand_8h_html_affea08650ec3a3c97110c6a216a41b34"><div class="ttname"><a href="../../d0/d09/command_8h.html#affea08650ec3a3c97110c6a216a41b34">CMD_IGNORE_RETURN</a></div><div class="ttdeci">#define CMD_IGNORE_RETURN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00182">command.h:182</a></div></div>
<div class="ttc" id="acommand_8h_html_d0/dbf/structpattern__list"><div class="ttname"><a href="../../d0/d09/command_8h.html#d0/dbf/structpattern__list">pattern_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00243">command.h:243</a></div></div>
<div class="ttc" id="acommand_8h_html_d4/d1a/structfor__com"><div class="ttname"><a href="../../d0/d09/command_8h.html#d4/d1a/structfor__com">for_com</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00259">command.h:259</a></div></div>
<div class="ttc" id="acommand_8h_html_d6/d6c/structif__com"><div class="ttname"><a href="../../d0/d09/command_8h.html#d6/d6c/structif__com">if_com</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00294">command.h:294</a></div></div>
<div class="ttc" id="acommand_8h_html_d6/d7e/structcoproc"><div class="ttname"><a href="../../d0/d09/command_8h.html#d6/d7e/structcoproc">coproc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00370">command.h:370</a></div></div>
<div class="ttc" id="acommand_8h_html_d8/d32/structcond__com"><div class="ttname"><a href="../../d0/d09/command_8h.html#d8/d32/structcond__com">cond_com</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00328">command.h:328</a></div></div>
<div class="ttc" id="acommand_8h_html_da/d79/structfunction__def"><div class="ttname"><a href="../../d0/d09/command_8h.html#da/d79/structfunction__def">function_def</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00346">command.h:346</a></div></div>
<div class="ttc" id="acommand_8h_html_dc/d1f/structredirect"><div class="ttname"><a href="../../d0/d09/command_8h.html#dc/d1f/structredirect">redirect</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00161">command.h:161</a></div></div>
<div class="ttc" id="acommand_8h_html_dc/d82/structcase__com"><div class="ttname"><a href="../../d0/d09/command_8h.html#dc/d82/structcase__com">case_com</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00251">command.h:251</a></div></div>
<div class="ttc" id="acommand_8h_html_dd/d81/structword__desc"><div class="ttname"><a href="../../d0/d09/command_8h.html#dd/d81/structword__desc">word_desc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00131">command.h:131</a></div></div>
<div class="ttc" id="acommand_8h_html_dd/d8e/structsimple__com"><div class="ttname"><a href="../../d0/d09/command_8h.html#dd/d8e/structsimple__com">simple_com</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00337">command.h:337</a></div></div>
<div class="ttc" id="acommand_8h_html_de/dac/structwhile__com"><div class="ttname"><a href="../../d0/d09/command_8h.html#de/dac/structwhile__com">while_com</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00302">command.h:302</a></div></div>
<div class="ttc" id="acommand_8h_html_df/d75/structword__list"><div class="ttname"><a href="../../d0/d09/command_8h.html#df/d75/structword__list">word_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00137">command.h:137</a></div></div>
<div class="ttc" id="acompress_8c_html_a814f6dab3b0678113d97a3684282934a"><div class="ttname"><a href="../../d0/d6b/compress_8c.html#a814f6dab3b0678113d97a3684282934a">code</a></div><div class="ttdeci">#define code</div></div>
<div class="ttc" id="aconfig-top_8h_html_a2f96397cc723fb96bcc3c21505bb97e4"><div class="ttname"><a href="../../d8/d20/config-top_8h.html#a2f96397cc723fb96bcc3c21505bb97e4">EVALNEST_MAX</a></div><div class="ttdeci">#define EVALNEST_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d20/config-top_8h_source.html#l00175">config-top.h:175</a></div></div>
<div class="ttc" id="aconfig-top_8h_html_af2d241a622bd7d59c289bcbf8451a6df"><div class="ttname"><a href="../../d8/d20/config-top_8h.html#af2d241a622bd7d59c289bcbf8451a6df">SOURCENEST_MAX</a></div><div class="ttdeci">#define SOURCENEST_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d20/config-top_8h_source.html#l00179">config-top.h:179</a></div></div>
<div class="ttc" id="aconfig_8h_html"><div class="ttname"><a href="../../db/d16/config_8h.html">config.h</a></div></div>
<div class="ttc" id="aconvert_8h_html_a06688b0d2444199f657ccb56b0ce11b3"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a06688b0d2444199f657ccb56b0ce11b3">strcpy</a></div><div class="ttdeci">#define strcpy(dest, src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d82/convert_8h_source.html#l00132">convert.h:132</a></div></div>
<div class="ttc" id="aconvert_8h_html_a2032d00bcff61b1b912628210432b5c0"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a></div><div class="ttdeci">int atoi(const char *String)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d68/convert_8cpp_source.html#l00540">convert.cpp:540</a></div></div>
<div class="ttc" id="aconvert_8h_html_a7dcc610f4b04a8ee418f03a6d9256629"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a></div><div class="ttdeci">long unsigned strlen(const char s[])</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d68/convert_8cpp_source.html#l00064">convert.cpp:64</a></div></div>
<div class="ttc" id="aconvert_8h_html_a88b07011b83b06b8856027f02d55a880"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a></div><div class="ttdeci">char * strchr(const char *String, int Char)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d68/convert_8cpp_source.html#l00148">convert.cpp:148</a></div></div>
<div class="ttc" id="aconvert_8h_html_ac72cd3c233680f95fd1d168a22c912ad"><div class="ttname"><a href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a></div><div class="ttdeci">#define memset(dest, c, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d82/convert_8h_source.html#l00120">convert.h:120</a></div></div>
<div class="ttc" id="acopy__cmd_8c_html_a679eaec692763387c9c73afb6b298440"><div class="ttname"><a href="../../df/dc8/copy__cmd_8c.html#a679eaec692763387c9c73afb6b298440">copy_word_list</a></div><div class="ttdeci">WORD_LIST * copy_word_list(WORD_LIST *list)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc8/copy__cmd_8c_source.html#l00069">copy_cmd.c:69</a></div></div>
<div class="ttc" id="acopy__cmd_8c_html_a916f9421aca91f12372c68f0f1c38d56"><div class="ttname"><a href="../../df/dc8/copy__cmd_8c.html#a916f9421aca91f12372c68f0f1c38d56">copy_command</a></div><div class="ttdeci">COMMAND * copy_command(COMMAND *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc8/copy__cmd_8c_source.html#l00366">copy_cmd.c:366</a></div></div>
<div class="ttc" id="adcigettext_8c_html_a03a200320a749aaf2faa1d1719ffb4de"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#a03a200320a749aaf2faa1d1719ffb4de">alloca</a></div><div class="ttdeci">#define alloca(size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00362">dcigettext.c:362</a></div></div>
<div class="ttc" id="adcigettext_8c_html_afc953590cd5aa97b094d5efe72ceea6e"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a></div><div class="ttdeci">char * retval</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00453">dcigettext.c:453</a></div></div>
<div class="ttc" id="adecompress__gunzip_8c_html_a6c6772207c061db8f6ca77c2661f497a"><div class="ttname"><a href="../../d6/dcc/decompress__gunzip_8c.html#a6c6772207c061db8f6ca77c2661f497a">w</a></div><div class="ttdeci">#define w</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dcc/decompress__gunzip_8c_source.html#l00509">decompress_gunzip.c:509</a></div></div>
<div class="ttc" id="adispose__cmd_8c_html_a009e2d6264a3beacfbccca0830142d17"><div class="ttname"><a href="../../da/d05/dispose__cmd_8c.html#a009e2d6264a3beacfbccca0830142d17">dispose_command</a></div><div class="ttdeci">void dispose_command(COMMAND *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d05/dispose__cmd_8c_source.html#l00036">dispose_cmd.c:36</a></div></div>
<div class="ttc" id="adispose__cmd_8c_html_a37005e70ed048a2e49b0b14112101f2f"><div class="ttname"><a href="../../da/d05/dispose__cmd_8c.html#a37005e70ed048a2e49b0b14112101f2f">dispose_words</a></div><div class="ttdeci">void dispose_words(WORD_LIST *list)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d05/dispose__cmd_8c_source.html#l00264">dispose_cmd.c:264</a></div></div>
<div class="ttc" id="adispose__cmd_8c_html_a6f4d35961973569c5a1e749855477221"><div class="ttname"><a href="../../da/d05/dispose__cmd_8c.html#a6f4d35961973569c5a1e749855477221">dispose_redirects</a></div><div class="ttdeci">void dispose_redirects(REDIRECT *list)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d05/dispose__cmd_8c_source.html#l00303">dispose_cmd.c:303</a></div></div>
<div class="ttc" id="adumpkmap_8c_html_abb0829cce9dd20a40ae0d86890ae85c6"><div class="ttname"><a href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a></div><div class="ttdeci">#define flags</div></div>
<div class="ttc" id="adynlink_8c_html_a2c6efa7679f8cd9f61af96e105017560"><div class="ttname"><a href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a></div><div class="ttdeci">#define free</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/dynlink_8c_source.html#l00036">dynlink.c:36</a></div></div>
<div class="ttc" id="adynlink_8c_html_aa0246195b64447ad0ba3510f410604f4"><div class="ttname"><a href="../../d5/db0/dynlink_8c.html#aa0246195b64447ad0ba3510f410604f4">lock</a></div><div class="ttdeci">static pthread_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/dynlink_8c_source.html#l00144">dynlink.c:144</a></div></div>
<div class="ttc" id="aed_8c_html_af5d098a5d7ce46dd9363982fbd6b230d"><div class="ttname"><a href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a></div><div class="ttdeci">#define prompt</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d98/ed_8c_source.html#l00061">ed.c:61</a></div></div>
<div class="ttc" id="aerrlist_8c_html_a558c31d07190c0a536ec2a340b1eae07"><div class="ttname"><a href="../../df/d3a/errlist_8c.html#a558c31d07190c0a536ec2a340b1eae07">strerror</a></div><div class="ttdeci">char * strerror()</div></div>
<div class="ttc" id="aerror_8c_html_a18ffbfac4ece05ba6cc56c02d783a9ee"><div class="ttname"><a href="../../db/dcc/error_8c.html#a18ffbfac4ece05ba6cc56c02d783a9ee">internal_warning</a></div><div class="ttdeci">void internal_warning(char *format, va_alist) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dcc/error_8c_source.html#l00256">error.c:256</a></div></div>
<div class="ttc" id="aerror_8c_html_a3dc8bd9b2e1ecb245420a3dba9f5e8bd"><div class="ttname"><a href="../../db/dcc/error_8c.html#a3dc8bd9b2e1ecb245420a3dba9f5e8bd">sys_error</a></div><div class="ttdeci">void sys_error(char *format, va_alist) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dcc/error_8c_source.html#l00327">error.c:327</a></div></div>
<div class="ttc" id="aerror_8c_html_a49989edc86219ccae074d1d713294c44"><div class="ttname"><a href="../../db/dcc/error_8c.html#a49989edc86219ccae074d1d713294c44">internal_error</a></div><div class="ttdeci">void internal_error(char *format, va_alist) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dcc/error_8c_source.html#l00235">error.c:235</a></div></div>
<div class="ttc" id="aerror_8c_html_a4e69efbf913fafcef50983aa55cf6559"><div class="ttname"><a href="../../db/dcc/error_8c.html#a4e69efbf913fafcef50983aa55cf6559">command_error</a></div><div class="ttdeci">void command_error(char *func, int code, int e, int flags) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dcc/error_8c_source.html#l00496">error.c:496</a></div></div>
<div class="ttc" id="aerror_8c_html_ae49eda7258a16e84193cb09241e06816"><div class="ttname"><a href="../../db/dcc/error_8c.html#ae49eda7258a16e84193cb09241e06816">err_readonly</a></div><div class="ttdeci">void err_readonly(char *s) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dcc/error_8c_source.html#l00533">error.c:533</a></div></div>
<div class="ttc" id="aerror_8h_html_a1c7d66dc03b5cb6a3a6c2a79bcbf8e4d"><div class="ttname"><a href="../../da/d41/error_8h.html#a1c7d66dc03b5cb6a3a6c2a79bcbf8e4d">INTERNAL_DEBUG</a></div><div class="ttdeci">#define INTERNAL_DEBUG(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00079">error.h:79</a></div></div>
<div class="ttc" id="aevalstring_8c_html_a9a73c165d4c6fa52d787b73f0f1f5e17"><div class="ttname"><a href="../../df/da3/evalstring_8c.html#a9a73c165d4c6fa52d787b73f0f1f5e17">optimize_connection_fork</a></div><div class="ttdeci">void optimize_connection_fork(COMMAND *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da3/evalstring_8c_source.html#l00129">evalstring.c:129</a></div></div>
<div class="ttc" id="aevalstring_8c_html_abfa065b74c049e2e5397ba78a679460d"><div class="ttname"><a href="../../df/da3/evalstring_8c.html#abfa065b74c049e2e5397ba78a679460d">optimize_shell_function</a></div><div class="ttdeci">void optimize_shell_function(COMMAND *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da3/evalstring_8c_source.html#l00163">evalstring.c:163</a></div></div>
<div class="ttc" id="aevalstring_8c_html_adccbd969dab9a037f36d7744acd3b7ea"><div class="ttname"><a href="../../df/da3/evalstring_8c.html#adccbd969dab9a037f36d7744acd3b7ea">optimize_subshell_command</a></div><div class="ttdeci">void optimize_subshell_command(COMMAND *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da3/evalstring_8c_source.html#l00144">evalstring.c:144</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a005a2ab83cc8e602e9cab28b32f71295"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a005a2ab83cc8e602e9cab28b32f71295">dispose_fd_bitmap</a></div><div class="ttdeci">void dispose_fd_bitmap(struct fd_bitmap *fdbp)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00342">execute_cmd.c:342</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a0693bee68fcde1ddccb03d269b266187"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a0693bee68fcde1ddccb03d269b266187">shell_execve</a></div><div class="ttdeci">int shell_execve(char *command, char **args, char **env)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05948">execute_cmd.c:5948</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a0894ddd8e579b51a079a98fd212e389f"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a0894ddd8e579b51a079a98fd212e389f">current_fds_to_close</a></div><div class="ttdeci">struct fd_bitmap * current_fds_to_close</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00314">execute_cmd.c:314</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a094e75199b514c6b0304f951c0bbfff2"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a094e75199b514c6b0304f951c0bbfff2">execute_pipeline</a></div><div class="ttdeci">static int execute_pipeline(COMMAND *command, int asynchronous, int pipe_in, int pipe_out, struct fd_bitmap *fds_to_close)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l02496">execute_cmd.c:2496</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a1177879a8936c5acba5bb2598ff57d8c"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a1177879a8936c5acba5bb2598ff57d8c">redirection_undo_list</a></div><div class="ttdeci">REDIRECT * redirection_undo_list</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00229">execute_cmd.c:229</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a12425181a2ee46789411dd422443406d"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a12425181a2ee46789411dd422443406d">dup_error</a></div><div class="ttdeci">static void dup_error(int oldd, int newd)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l06185">execute_cmd.c:6185</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a142381c77da2e39d79b831123613a416"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a142381c77da2e39d79b831123613a416">FD_BITMAP_DEFAULT_SIZE</a></div><div class="ttdeci">#define FD_BITMAP_DEFAULT_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00316">execute_cmd.c:316</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a1615d23838a7e86caac9c44a3d9ed5c1"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a1615d23838a7e86caac9c44a3d9ed5c1">execute_function</a></div><div class="ttdeci">static int execute_function(SHELL_VAR *var, WORD_LIST *words, int flags, struct fd_bitmap *fds_to_close, int async, int subshell)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05030">execute_cmd.c:5030</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a1a89a5fd9e7cb88f06f7fe13b6481b8a"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a1a89a5fd9e7cb88f06f7fe13b6481b8a">execute_while_command</a></div><div class="ttdeci">static int execute_while_command(WHILE_COM *while_command)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l03663">execute_cmd.c:3663</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a1b78adc753a1670b054538cc406ad3b1"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a1b78adc753a1670b054538cc406ad3b1">execute_case_command</a></div><div class="ttdeci">static int execute_case_command(CASE_COM *case_command)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l03532">execute_cmd.c:3532</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a1ea07c2656f94637a84ca553f3c72d59"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a1ea07c2656f94637a84ca553f3c72d59">execute_for_command</a></div><div class="ttdeci">static int execute_for_command(FOR_COM *for_command)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l02869">execute_cmd.c:2869</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a28b62775289c02ab457a9407a6bf244d"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a28b62775289c02ab457a9407a6bf244d">WHITECHAR</a></div><div class="ttdeci">#define WHITECHAR(ind)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05777">execute_cmd.c:5777</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a2ade75d1995aafc98bc9b3cbbca58b78"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a2ade75d1995aafc98bc9b3cbbca58b78">execute_null_command</a></div><div class="ttdeci">static int execute_null_command(REDIRECT *redirects, int pipe_in, int pipe_out, int async)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l04087">execute_cmd.c:4087</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a2cb744acc87fb33a861757a23f06535f"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a2cb744acc87fb33a861757a23f06535f">executing_list</a></div><div class="ttdeci">int executing_list</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00241">execute_cmd.c:241</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a2d6a7e8dd1530d8ddc57d42d0c689391"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a2d6a7e8dd1530d8ddc57d42d0c689391">return_catch</a></div><div class="ttdeci">procenv_t return_catch</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00214">execute_cmd.c:214</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a2e248a2e5214a944f7df71f6e1389180"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a2e248a2e5214a944f7df71f6e1389180">restore_stdin</a></div><div class="ttdeci">static void restore_stdin(int s)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l02475">execute_cmd.c:2475</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a2fd63bb00d85a53a0a326a56ad4fe3dc"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a2fd63bb00d85a53a0a326a56ad4fe3dc">SET_LINE_NUMBER</a></div><div class="ttdeci">#define SET_LINE_NUMBER(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00285">execute_cmd.c:285</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a3111e1fc07a47402da20e5b3ff2e12d3"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a3111e1fc07a47402da20e5b3ff2e12d3">currently_executing_command</a></div><div class="ttdeci">static COMMAND * currently_executing_command</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00267">execute_cmd.c:267</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a37e32d88aed9de41b5764cedc30e4951"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a37e32d88aed9de41b5764cedc30e4951">PARAMS</a></div><div class="ttdeci">int close PARAMS((int))</div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a39f95ee9cfa8c6c082c06fddb31e4461"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a39f95ee9cfa8c6c082c06fddb31e4461">this_command_name</a></div><div class="ttdeci">char * this_command_name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00204">execute_cmd.c:204</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a3c800265c671320a6dae122fd649438a"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a3c800265c671320a6dae122fd649438a">subshell_level</a></div><div class="ttdeci">int subshell_level</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00253">execute_cmd.c:253</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a3df6fc556bfe592effef8170d9a4f54b"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a3df6fc556bfe592effef8170d9a4f54b">dispose_partial_redirects</a></div><div class="ttdeci">void dispose_partial_redirects()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00503">execute_cmd.c:503</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a3f8893369f0a245f96a82f8136dcf2fb"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a3f8893369f0a245f96a82f8136dcf2fb">exec_redirection_undo_list</a></div><div class="ttdeci">REDIRECT * exec_redirection_undo_list</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00234">execute_cmd.c:234</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a45e5b34044beedf4b9dbbcca9d3021e1"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a45e5b34044beedf4b9dbbcca9d3021e1">executing_builtin</a></div><div class="ttdeci">int executing_builtin</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00238">execute_cmd.c:238</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a47764b3fceed5c7ecb914ad54693ef92"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a47764b3fceed5c7ecb914ad54693ef92">sourcenest</a></div><div class="ttdeci">int sourcenest</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00307">execute_cmd.c:307</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a50a1c19765ba15e04df6d007b92665b0"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a50a1c19765ba15e04df6d007b92665b0">execute_shell_script</a></div><div class="ttdeci">static int execute_shell_script(char *sample, int sample_len, char *command, char **args, char **env)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05821">execute_cmd.c:5821</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a55109f0a4ce17f03ea7970001d89439c"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a55109f0a4ce17f03ea7970001d89439c">shell_control_structure</a></div><div class="ttdeci">static int shell_control_structure(enum command_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00431">execute_cmd.c:431</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a5719fe068e6db753bf1dbb3832cbac22"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a5719fe068e6db753bf1dbb3832cbac22">last_command_exit_signal</a></div><div class="ttdeci">int last_command_exit_signal</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00221">execute_cmd.c:221</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a57b0824f89ac7bc453201380bf956d80"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a57b0824f89ac7bc453201380bf956d80">sourcenest_max</a></div><div class="ttdeci">int sourcenest_max</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00308">execute_cmd.c:308</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a596561c3c5cb0a51e766b3b9ae86d913"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a596561c3c5cb0a51e766b3b9ae86d913">the_printed_command_except_trap</a></div><div class="ttdeci">char * the_printed_command_except_trap</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00209">execute_cmd.c:209</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a5b750f02ecdf501655a322814af736f5"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a5b750f02ecdf501655a322814af736f5">is_dirname</a></div><div class="ttdeci">static int is_dirname(char *pathname)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l04339">execute_cmd.c:4339</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a5ed5536c849572c51821ec199b9852ff"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a5ed5536c849572c51821ec199b9852ff">setup_async_signals</a></div><div class="ttdeci">void setup_async_signals()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05539">execute_cmd.c:5539</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a60b15d409ef0038a13333542e1bdc668"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a60b15d409ef0038a13333542e1bdc668">check_command_builtin</a></div><div class="ttdeci">static WORD_LIST * check_command_builtin(WORD_LIST *words, int *typep)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l04303">execute_cmd.c:4303</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a60b1ff1ecb7c0d67e4f17864c7ce6d07"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a60b1ff1ecb7c0d67e4f17864c7ce6d07">fix_assignment_words</a></div><div class="ttdeci">static void fix_assignment_words(WORD_LIST *words)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l04166">execute_cmd.c:4166</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a6536e5a29d4abdda3566dba8d589074c"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a6536e5a29d4abdda3566dba8d589074c">lastpipe_opt</a></div><div class="ttdeci">int lastpipe_opt</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00312">execute_cmd.c:312</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a656846364a94ef47095c18ab2efe9cc9"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a656846364a94ef47095c18ab2efe9cc9">execute_in_subshell</a></div><div class="ttdeci">static int execute_in_subshell(COMMAND *command, int asynchronous, int pipe_in, int pipe_out, struct fd_bitmap *fds_to_close)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l01477">execute_cmd.c:1477</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a65d53dc7e574c97d7ab5e3fb379e0ec5"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a65d53dc7e574c97d7ab5e3fb379e0ec5">the_printed_command</a></div><div class="ttdeci">char * the_printed_command</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd8/print__cmd_8c_source.html#l00109">print_cmd.c:109</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a669e55863f9f092fd1890cd55fe270a3"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a669e55863f9f092fd1890cd55fe270a3">new_fd_bitmap</a></div><div class="ttdeci">struct fd_bitmap * new_fd_bitmap(int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00322">execute_cmd.c:322</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a68213e3ab937aa4423c054f20000f89f"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a68213e3ab937aa4423c054f20000f89f">cleanup_redirects</a></div><div class="ttdeci">static void cleanup_redirects(REDIRECT *list)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00465">execute_cmd.c:465</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a6d1cbe37a0a7b55c36778eae17531c48"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a6d1cbe37a0a7b55c36778eae17531c48">STRINGCHAR</a></div><div class="ttdeci">#define STRINGCHAR(ind)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05775">execute_cmd.c:5775</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a6f498e828b8666a02fb1b4d01f520495"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a6f498e828b8666a02fb1b4d01f520495">evalnest_max</a></div><div class="ttdeci">int evalnest_max</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00305">execute_cmd.c:305</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a705dc9ca17c27f695bf2d14d5bb7689b"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a705dc9ca17c27f695bf2d14d5bb7689b">RETURN_NOT_COMMAND</a></div><div class="ttdeci">#define RETURN_NOT_COMMAND()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l04294">execute_cmd.c:4294</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a70f9f43739b1acd7d295c15af55574af"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a70f9f43739b1acd7d295c15af55574af">execute_shell_function</a></div><div class="ttdeci">int execute_shell_function(SHELL_VAR *var, WORD_LIST *words)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05290">execute_cmd.c:5290</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a722b1231a1e03bf79f41a79f04d8ac48"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a722b1231a1e03bf79f41a79f04d8ac48">execute_until_command</a></div><div class="ttdeci">static int execute_until_command(WHILE_COM *while_command)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l03671">execute_cmd.c:3671</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a7563559124a946dd934650e169c80175"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a7563559124a946dd934650e169c80175">executing_line_number</a></div><div class="ttdeci">int executing_line_number()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00368">execute_cmd.c:368</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a7865196471aa6c7ee305f87a40d4e7bc"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a7865196471aa6c7ee305f87a40d4e7bc">SETOSTYPE</a></div><div class="ttdeci">#define SETOSTYPE(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05926">execute_cmd.c:5926</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a7956dbdb6364822323c7c5c149b929a9"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a7956dbdb6364822323c7c5c149b929a9">funcnest_max</a></div><div class="ttdeci">int funcnest_max</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00302">execute_cmd.c:302</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a797afa3cbb061d676b2fbe714198933b"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a797afa3cbb061d676b2fbe714198933b">dispose_exec_redirects</a></div><div class="ttdeci">void dispose_exec_redirects()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00493">execute_cmd.c:493</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a7ba18858170ef2bb4c8d58006a5e0f2f"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a7ba18858170ef2bb4c8d58006a5e0f2f">DESCRIBE_PID</a></div><div class="ttdeci">#define DESCRIBE_PID(pid)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00558">execute_cmd.c:558</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a8160fde58a3713edb578714611bb192b"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a8160fde58a3713edb578714611bb192b">close_pipes</a></div><div class="ttdeci">static void close_pipes(int in, int out)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l06175">execute_cmd.c:6175</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a81ca66f582cef3392d096591f628284a"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a81ca66f582cef3392d096591f628284a">GET_LINE_NUMBER</a></div><div class="ttdeci">#define GET_LINE_NUMBER()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00295">execute_cmd.c:295</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a857fe5d256aa1929b79deaedcb876a3a"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a857fe5d256aa1929b79deaedcb876a3a">lastpipe_cleanup</a></div><div class="ttdeci">static void lastpipe_cleanup(int s)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l02489">execute_cmd.c:2489</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a8892e0542b9dc46c7b64afc9f21e9d7f"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a8892e0542b9dc46c7b64afc9f21e9d7f">evalnest</a></div><div class="ttdeci">int evalnest</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00304">execute_cmd.c:304</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a8ae2084fe2fa2b0677f27fd23b86a423"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a8ae2084fe2fa2b0677f27fd23b86a423">command_string_index</a></div><div class="ttdeci">int command_string_index</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd8/print__cmd_8c_source.html#l00111">print_cmd.c:111</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a8b065c1edf88fcbfee0a98f4bd1e7a01"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a8b065c1edf88fcbfee0a98f4bd1e7a01">getinterp</a></div><div class="ttdeci">static char * getinterp(char *sample, int sample_len, int *endp)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05787">execute_cmd.c:5787</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a8b24e1d82ae54bc17b40215cda25f31e"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a8b24e1d82ae54bc17b40215cda25f31e">async_redirect_stdin</a></div><div class="ttdeci">void async_redirect_stdin()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00544">execute_cmd.c:544</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a8d991d95852f9c93eb16ba6f570a8b57"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a8d991d95852f9c93eb16ba6f570a8b57">READ_SAMPLE_BUF</a></div><div class="ttdeci">#define READ_SAMPLE_BUF(file, buf, len)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05931">execute_cmd.c:5931</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a8fd93fac39713beb94eed7b21c9c7add"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a8fd93fac39713beb94eed7b21c9c7add">builtin_ignoring_errexit</a></div><div class="ttdeci">int builtin_ignoring_errexit</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00225">execute_cmd.c:225</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a921ecdc742149cd1e3f93520f8fbd371"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a921ecdc742149cd1e3f93520f8fbd371">shell_start_time</a></div><div class="ttdeci">time_t shell_start_time</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00183">shell.c:183</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a952ab702247ed8378bc80f9e85e14ad6"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a952ab702247ed8378bc80f9e85e14ad6">funcnest</a></div><div class="ttdeci">int funcnest</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00301">execute_cmd.c:301</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_a983b0107b49076599659aa750b14413e"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#a983b0107b49076599659aa750b14413e">last_command_exit_value</a></div><div class="ttdeci">volatile int last_command_exit_value</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00217">execute_cmd.c:217</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_aa0c3290203cecf38723608bd7b028829"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#aa0c3290203cecf38723608bd7b028829">NOTFOUND_HOOK</a></div><div class="ttdeci">#define NOTFOUND_HOOK</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05582">execute_cmd.c:5582</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_aa0e64220250a72b894c4015a2b11b263"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#aa0e64220250a72b894c4015a2b11b263">execute_builtin</a></div><div class="ttdeci">static int execute_builtin(sh_builtin_func_t *builtin, WORD_LIST *words, int flags, int subshell)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l04857">execute_cmd.c:4857</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_aa9143a9845e3b621d0818b1d27bee456"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#aa9143a9845e3b621d0818b1d27bee456">connection_count</a></div><div class="ttdeci">static int connection_count</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00277">execute_cmd.c:277</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_aa9b5fa951b8a300744e59741641c3aa9"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#aa9b5fa951b8a300744e59741641c3aa9">executing_command_builtin</a></div><div class="ttdeci">int executing_command_builtin</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00261">execute_cmd.c:261</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_aacb323e3f246975470615959c2d8572e"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#aacb323e3f246975470615959c2d8572e">subshell_environment</a></div><div class="ttdeci">int subshell_environment</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00250">execute_cmd.c:250</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_aad9f5b507ca60fbc973c3a72eb893f69"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#aad9f5b507ca60fbc973c3a72eb893f69">comsub_ignore_return</a></div><div class="ttdeci">int comsub_ignore_return</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00246">execute_cmd.c:246</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ab1423352d10fc4c84778b0fe96924a1f"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ab1423352d10fc4c84778b0fe96924a1f">undo_partial_redirects</a></div><div class="ttdeci">void undo_partial_redirects()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00473">execute_cmd.c:473</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ab2d3023f49ce851dcede46603b86f1c3"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ab2d3023f49ce851dcede46603b86f1c3">this_shell_function</a></div><div class="ttdeci">SHELL_VAR * this_shell_function</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00256">execute_cmd.c:256</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ab3931fec983d0c379daa238a8438b8ff"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ab3931fec983d0c379daa238a8438b8ff">close_fd_bitmap</a></div><div class="ttdeci">void close_fd_bitmap(struct fd_bitmap *fdbp)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00350">execute_cmd.c:350</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ab44ee516a50d5f65c135f861c60f2418"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ab44ee516a50d5f65c135f861c60f2418">function_line_number</a></div><div class="ttdeci">static int function_line_number</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00270">execute_cmd.c:270</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ab4f52fcbf43f98c10b0d186d0a0c6275"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ab4f52fcbf43f98c10b0d186d0a0c6275">execute_builtin_or_function</a></div><div class="ttdeci">static int execute_builtin_or_function(WORD_LIST *words, sh_builtin_func_t *builtin, SHELL_VAR *var, REDIRECT *redirects, struct fd_bitmap *fds_to_close, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05428">execute_cmd.c:5428</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ab60bb6183b48b4a619b88771cd46addb"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ab60bb6183b48b4a619b88771cd46addb">execute_subshell_builtin_or_function</a></div><div class="ttdeci">static void execute_subshell_builtin_or_function(WORD_LIST *words, REDIRECT *redirects, sh_builtin_func_t *builtin, SHELL_VAR *var, int pipe_in, int pipe_out, int async, struct fd_bitmap *fds_to_close, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05316">execute_cmd.c:5316</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ab8ab537a7847b1547b676333d29ef22a"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ab8ab537a7847b1547b676333d29ef22a">execute_simple_command</a></div><div class="ttdeci">static int execute_simple_command(SIMPLE_COM *simple_command, int pipe_in, int pipe_out, int async, struct fd_bitmap *fds_to_close)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l04355">execute_cmd.c:4355</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_abe17dce0ed8a1d2217878ab4e58f20ea"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#abe17dce0ed8a1d2217878ab4e58f20ea">HASH_BANG_BUFSIZ</a></div><div class="ttdeci">#define HASH_BANG_BUFSIZ</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05929">execute_cmd.c:5929</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_abf91aaf22393f5f948518ea7ce93b5dd"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#abf91aaf22393f5f948518ea7ce93b5dd">execute_if_command</a></div><div class="ttdeci">static int execute_if_command(IF_COM *if_command)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l03750">execute_cmd.c:3750</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_abfde83c7c9b6b0f3c316e1618323be82"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#abfde83c7c9b6b0f3c316e1618323be82">builtin_status</a></div><div class="ttdeci">static int builtin_status(int result)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l04832">execute_cmd.c:4832</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ac019991c9bd079990f1f720d21dabe7b"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ac019991c9bd079990f1f720d21dabe7b">do_piping</a></div><div class="ttdeci">static void do_piping(int pipe_in, int pipe_out)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l06194">execute_cmd.c:6194</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ac055e258f77a21adda573446948fd301"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ac055e258f77a21adda573446948fd301">execute_intern_function</a></div><div class="ttdeci">static int execute_intern_function(WORD_DESC *name, FUNCTION_DEF *funcdef)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l06109">execute_cmd.c:6109</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ac29b5ce6cbc8a6038ebb54d18eb18a50"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ac29b5ce6cbc8a6038ebb54d18eb18a50">line_number_for_err_trap</a></div><div class="ttdeci">int line_number_for_err_trap</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00281">execute_cmd.c:281</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ac5ec072930036cec70df45194de4395e"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ac5ec072930036cec70df45194de4395e">from_return_trap</a></div><div class="ttdeci">volatile int from_return_trap</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00310">execute_cmd.c:310</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ac853bac06b7bf70a7fbdd252471a7feb"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ac853bac06b7bf70a7fbdd252471a7feb">execute_disk_command</a></div><div class="ttdeci">static int execute_disk_command(WORD_LIST *words, REDIRECT *redirects, char *command_line, int pipe_in, int pipe_out, int async, struct fd_bitmap *fds_to_close, int cmdflags)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05586">execute_cmd.c:5586</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ac9d4ba2854a0597581d9988d45b26a79"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ac9d4ba2854a0597581d9988d45b26a79">execute_command_internal</a></div><div class="ttdeci">int execute_command_internal(COMMAND *command, int asynchronous, int pipe_in, int pipe_out, struct fd_bitmap *fds_to_close)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00573">execute_cmd.c:573</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_aca9257653043e30c345c3931fa66d934"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#aca9257653043e30c345c3931fa66d934">match_ignore_case</a></div><div class="ttdeci">int match_ignore_case</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00259">execute_cmd.c:259</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_acde9e3253ae6bd49b5d1f8f8d080f5d6"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#acde9e3253ae6bd49b5d1f8f8d080f5d6">showing_function_line</a></div><div class="ttdeci">static int showing_function_line</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00275">execute_cmd.c:275</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ad25b9d747d1c83b28178d77f0e76c426"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ad25b9d747d1c83b28178d77f0e76c426">special_builtin_failed</a></div><div class="ttdeci">static int special_builtin_failed</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00265">execute_cmd.c:265</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ad5b425bd47877e0e5190905814b3bba2"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ad5b425bd47877e0e5190905814b3bba2">CMD_WHILE</a></div><div class="ttdeci">#define CMD_WHILE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l03656">execute_cmd.c:3656</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="aexecute__cmd_8c_html_adbcf768dde8fc18d3e314d07adcdb537"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#adbcf768dde8fc18d3e314d07adcdb537">stdin_redir</a></div><div class="ttdeci">int stdin_redir</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00200">execute_cmd.c:200</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_add8e674e588c6cff9adb9177e416dc09"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#add8e674e588c6cff9adb9177e416dc09">return_catch_flag</a></div><div class="ttdeci">int return_catch_flag</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00212">execute_cmd.c:212</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ae45a8e69a3aecf54e8b3d0891e7d75f7"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ae45a8e69a3aecf54e8b3d0891e7d75f7">REAP</a></div><div class="ttdeci">#define REAP()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l02858">execute_cmd.c:2858</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ae53493fb624a51ac814ac63b29e077bc"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ae53493fb624a51ac814ac63b29e077bc">initialize_subshell</a></div><div class="ttdeci">static void initialize_subshell()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l05874">execute_cmd.c:5874</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ae593000921ec0a7ac666211486fbb0d3"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ae593000921ec0a7ac666211486fbb0d3">bind_lastarg</a></div><div class="ttdeci">static void bind_lastarg(char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l04071">execute_cmd.c:4071</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ae5db17c1f897283efba4c21fc23c98de"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ae5db17c1f897283efba4c21fc23c98de">execute_while_or_until</a></div><div class="ttdeci">static int execute_while_or_until(WHILE_COM *while_command, int type)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l03683">execute_cmd.c:3683</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_ae9478e49b5a775e5e2c3e3bcdd1f7ec2"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#ae9478e49b5a775e5e2c3e3bcdd1f7ec2">CMD_UNTIL</a></div><div class="ttdeci">#define CMD_UNTIL</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l03657">execute_cmd.c:3657</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_aee632ef152670f7b54750371e4a131aa"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#aee632ef152670f7b54750371e4a131aa">execute_connection</a></div><div class="ttdeci">static int execute_connection(COMMAND *command, int asynchronous, int pipe_in, int pipe_out, struct fd_bitmap *fds_to_close)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l02689">execute_cmd.c:2689</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_aefc9c88cc812820c1ae86c5fbb2ca30a"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#aefc9c88cc812820c1ae86c5fbb2ca30a">SB</a></div><div class="ttdeci">struct stat SB</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00261">execute_cmd.c:263</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_af47f95faa612f212522c5ba4f8027e49"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#af47f95faa612f212522c5ba4f8027e49">maybe_restore_getopt_state</a></div><div class="ttdeci">static void maybe_restore_getopt_state(sh_getopt_state_t *gs)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l04997">execute_cmd.c:4997</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_af79434866afb45551794bd877da9923b"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#af79434866afb45551794bd877da9923b">EXIT_CASE</a></div><div class="ttdeci">#define EXIT_CASE()</div></div>
<div class="ttc" id="aexecute__cmd_8c_html_af9618a372612bc0e669e3041908d779d"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#af9618a372612bc0e669e3041908d779d">execute_command</a></div><div class="ttdeci">int execute_command(COMMAND *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00401">execute_cmd.c:401</a></div></div>
<div class="ttc" id="aexecute__cmd_8c_html_afe3eeaca94d517df5e3f8644b5dd92c8"><div class="ttname"><a href="../../de/d3d/execute__cmd_8c.html#afe3eeaca94d517df5e3f8644b5dd92c8">return_catch_value</a></div><div class="ttdeci">int return_catch_value</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3d/execute__cmd_8c_source.html#l00213">execute_cmd.c:213</a></div></div>
<div class="ttc" id="aexecute__cmd_8h_html"><div class="ttname"><a href="../../d5/da7/execute__cmd_8h.html">execute_cmd.h</a></div></div>
<div class="ttc" id="aexpr_8h_html_dd/d8e/structexpr"><div class="ttname"><a href="../../d4/d78/expr_8h.html#dd/d8e/structexpr">expr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/expr_8h_source.html#l00043">expr.h:43</a></div></div>
<div class="ttc" id="aexterns_8h_html_a15a4a3031abdd015828bd11e8a2ab20c"><div class="ttname"><a href="../../d2/df2/externs_8h.html#a15a4a3031abdd015828bd11e8a2ab20c">timeval_to_secs</a></div><div class="ttdeci">void timeval_to_secs()</div></div>
<div class="ttc" id="aexterns_8h_html_a93cf605f8aa689490ffadf8974f8e815"><div class="ttname"><a href="../../d2/df2/externs_8h.html#a93cf605f8aa689490ffadf8974f8e815">EXP_EXPANDED</a></div><div class="ttdeci">#define EXP_EXPANDED</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/externs_8h_source.html#l00030">externs.h:30</a></div></div>
<div class="ttc" id="aexterns_8h_html_a9aa189dac6a1a21e27a476f2a83ba7ad"><div class="ttname"><a href="../../d2/df2/externs_8h.html#a9aa189dac6a1a21e27a476f2a83ba7ad">SHMAT_PWARN</a></div><div class="ttdeci">#define SHMAT_PWARN</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/externs_8h_source.html#l00333">externs.h:333</a></div></div>
<div class="ttc" id="aexterns_8h_html_a9d28e0f21f38a0cc3a8075baa12e6064"><div class="ttname"><a href="../../d2/df2/externs_8h.html#a9d28e0f21f38a0cc3a8075baa12e6064">clock_t_to_secs</a></div><div class="ttdeci">void clock_t_to_secs()</div></div>
<div class="ttc" id="aexterns_8h_html_acb422f3a872f4c1424539837c129301d"><div class="ttname"><a href="../../d2/df2/externs_8h.html#acb422f3a872f4c1424539837c129301d">SHMAT_SUBEXP</a></div><div class="ttdeci">#define SHMAT_SUBEXP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/externs_8h_source.html#l00332">externs.h:332</a></div></div>
<div class="ttc" id="aexterns_8h_html_ad5ac2162b6c5b3608c221f3513814745"><div class="ttname"><a href="../../d2/df2/externs_8h.html#ad5ac2162b6c5b3608c221f3513814745">list_length</a></div><div class="ttdeci">int list_length()</div></div>
<div class="ttc" id="afile_8h_html"><div class="ttname"><a href="../../d2/d4d/file_8h.html">file.h</a></div></div>
<div class="ttc" id="afilecntl_8h_html"><div class="ttname"><a href="../../d4/d1c/filecntl_8h.html">filecntl.h</a></div></div>
<div class="ttc" id="afilecntl_8h_html_aed5200a9d0687548035406c8a357d2d7"><div class="ttname"><a href="../../d4/d1c/filecntl_8h.html#aed5200a9d0687548035406c8a357d2d7">SET_CLOSE_ON_EXEC</a></div><div class="ttdeci">#define SET_CLOSE_ON_EXEC(fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d1c/filecntl_8h_source.html#l00033">filecntl.h:33</a></div></div>
<div class="ttc" id="afileman_8c_html_dc/d56/structCOMMAND"><div class="ttname"><a href="../../d1/d47/fileman_8c.html#dc/d56/structCOMMAND">COMMAND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d47/fileman_8c_source.html#l00086">fileman.c:86</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a7a68c9ffaac7dbcd652225dd7c06a54b"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a></div><div class="ttdeci">#define O_RDONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00060">filesystem.hpp:60</a></div></div>
<div class="ttc" id="afindcmd_8c_html_a6dde73e7143fc8fa2f1e94534a36a00d"><div class="ttname"><a href="../../d0/da6/findcmd_8c.html#a6dde73e7143fc8fa2f1e94534a36a00d">search_for_command</a></div><div class="ttdeci">char * search_for_command(char *pathname, int flags) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da6/findcmd_8c_source.html#l00336">findcmd.c:336</a></div></div>
<div class="ttc" id="afindcmd_8c_html_aaaf5fcf5bc8ed9090ba50a8f39f79fb4"><div class="ttname"><a href="../../d0/da6/findcmd_8c.html#aaaf5fcf5bc8ed9090ba50a8f39f79fb4">executable_file</a></div><div class="ttdeci">int executable_file(char *file) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da6/findcmd_8c_source.html#l00205">findcmd.c:205</a></div></div>
<div class="ttc" id="afindcmd_8h_html"><div class="ttname"><a href="../../db/d19/findcmd_8h.html">findcmd.h</a></div></div>
<div class="ttc" id="afindcmd_8h_html_a0c7efa109d1692a5fe14bcce5d9cc3de"><div class="ttname"><a href="../../db/d19/findcmd_8h.html#a0c7efa109d1692a5fe14bcce5d9cc3de">CMDSRCH_HASH</a></div><div class="ttdeci">#define CMDSRCH_HASH</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d19/findcmd_8h_source.html#l00027">findcmd.h:27</a></div></div>
<div class="ttc" id="afindcmd_8h_html_ab9f6db9a5dada215823ef980c655bece"><div class="ttname"><a href="../../db/d19/findcmd_8h.html#ab9f6db9a5dada215823ef980c655bece">CMDSRCH_STDPATH</a></div><div class="ttdeci">#define CMDSRCH_STDPATH</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d19/findcmd_8h_source.html#l00028">findcmd.h:28</a></div></div>
<div class="ttc" id="aflags_8c_html_a2634d748763015c8cfa5c1bfee5e3406"><div class="ttname"><a href="../../d8/d70/flags_8c.html#a2634d748763015c8cfa5c1bfee5e3406">reset_shell_flags</a></div><div class="ttdeci">void reset_shell_flags()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d70/flags_8c_source.html#l00342">flags.c:342</a></div></div>
<div class="ttc" id="aflags_8c_html_a28bf95cff4cdc03f5486eab4c67c9d1f"><div class="ttname"><a href="../../d8/d70/flags_8c.html#a28bf95cff4cdc03f5486eab4c67c9d1f">function_trace_mode</a></div><div class="ttdeci">int function_trace_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d70/flags_8c_source.html#l00149">flags.c:149</a></div></div>
<div class="ttc" id="aflags_8c_html_a436283e4e22f5eabe0706666ddeee5c5"><div class="ttname"><a href="../../d8/d70/flags_8c.html#a436283e4e22f5eabe0706666ddeee5c5">echo_command_at_execute</a></div><div class="ttdeci">int echo_command_at_execute</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d70/flags_8c_source.html#l00088">flags.c:88</a></div></div>
<div class="ttc" id="aflags_8c_html_a69c26da3b32bdecb041e8c2537aded95"><div class="ttname"><a href="../../d8/d70/flags_8c.html#a69c26da3b32bdecb041e8c2537aded95">read_but_dont_execute</a></div><div class="ttdeci">int read_but_dont_execute</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d70/flags_8c_source.html#l00070">flags.c:70</a></div></div>
<div class="ttc" id="aflags_8c_html_a804cc7b0a138e884ca1ff6e8b13ac8e1"><div class="ttname"><a href="../../d8/d70/flags_8c.html#a804cc7b0a138e884ca1ff6e8b13ac8e1">pipefail_opt</a></div><div class="ttdeci">int pipefail_opt</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d70/flags_8c_source.html#l00157">flags.c:157</a></div></div>
<div class="ttc" id="aflags_8c_html_a8917b6aae06bda6070cad4f2680896b4"><div class="ttname"><a href="../../d8/d70/flags_8c.html#a8917b6aae06bda6070cad4f2680896b4">change_flag</a></div><div class="ttdeci">int change_flag(int flag, int on_or_off)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d70/flags_8c_source.html#l00227">flags.c:227</a></div></div>
<div class="ttc" id="aflags_8c_html_a8a88d10677eb2ebcd5a383565bb46d86"><div class="ttname"><a href="../../d8/d70/flags_8c.html#a8a88d10677eb2ebcd5a383565bb46d86">error_trace_mode</a></div><div class="ttdeci">int error_trace_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d70/flags_8c_source.html#l00152">flags.c:152</a></div></div>
<div class="ttc" id="aflags_8c_html_ac3023292582a7e39e70495e655c8b926"><div class="ttname"><a href="../../d8/d70/flags_8c.html#ac3023292582a7e39e70495e655c8b926">exit_immediately_on_error</a></div><div class="ttdeci">int exit_immediately_on_error</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d70/flags_8c_source.html#l00057">flags.c:57</a></div></div>
<div class="ttc" id="aflags_8c_html_adbdfd61b225fd344583d0559434a6219"><div class="ttname"><a href="../../d8/d70/flags_8c.html#adbdfd61b225fd344583d0559434a6219">errexit_flag</a></div><div class="ttdeci">int errexit_flag</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d70/flags_8c_source.html#l00056">flags.c:56</a></div></div>
<div class="ttc" id="aflags_8h_html"><div class="ttname"><a href="../../d9/da0/flags_8h.html">flags.h</a></div></div>
<div class="ttc" id="aflags_8h_html_afd1e55e8491d025acb1fbc0a7e91dcdd"><div class="ttname"><a href="../../d9/da0/flags_8h.html#afd1e55e8491d025acb1fbc0a7e91dcdd">FLAG_OFF</a></div><div class="ttdeci">#define FLAG_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da0/flags_8h_source.html#l00029">flags.h:29</a></div></div>
<div class="ttc" id="afpurge_8c_html_aac0ebf7843548bef046be0fc758140a8"><div class="ttname"><a href="../../dd/dbf/fpurge_8c.html#aac0ebf7843548bef046be0fc758140a8">fpurge</a></div><div class="ttdeci">int fpurge(FILE *fp)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbf/fpurge_8c_source.html#l00124">fpurge.c:124</a></div></div>
<div class="ttc" id="afsck_8c_html_a5b2083482543865af1fe0c0f3cb7af50"><div class="ttname"><a href="../../d0/d11/fsck_8c.html#a5b2083482543865af1fe0c0f3cb7af50">ignore</a></div><div class="ttdeci">static int ignore(struct fs_info *fs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/fsck_8c_source.html#l00740">fsck.c:740</a></div></div>
<div class="ttc" id="aftpgetput_8c_html_af4d6aac98beb22d0edad8469c46b3265"><div class="ttname"><a href="../../d6/db8/ftpgetput_8c.html#af4d6aac98beb22d0edad8469c46b3265">user</a></div><div class="ttdeci">#define user</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db8/ftpgetput_8c_source.html#l00071">ftpgetput.c:71</a></div></div>
<div class="ttc" id="agen-helpfiles_8c_html_a6a8878e323ddb4bf57b7c9db293b3fd6"><div class="ttname"><a href="../../d6/ddf/gen-helpfiles_8c.html#a6a8878e323ddb4bf57b7c9db293b3fd6">whitespace</a></div><div class="ttdeci">#define whitespace(c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/ddf/gen-helpfiles_8c_source.html#l00079">gen-helpfiles.c:79</a></div></div>
<div class="ttc" id="ageneral_8c_html_a1b1369b8d59bb4f4cf2da4fedde105d2"><div class="ttname"><a href="../../d1/dca/general_8c.html#a1b1369b8d59bb4f4cf2da4fedde105d2">move_to_high_fd</a></div><div class="ttdeci">int move_to_high_fd(int fd, int check_new, int maxfd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/general_8c_source.html#l00643">general.c:643</a></div></div>
<div class="ttc" id="ageneral_8c_html_a1fc62854f5e53e63b92e72acb847d088"><div class="ttname"><a href="../../d1/dca/general_8c.html#a1fc62854f5e53e63b92e72acb847d088">valid_nameref_value</a></div><div class="ttdeci">int valid_nameref_value(char *name, int flags) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/general_8c_source.html#l00313">general.c:313</a></div></div>
<div class="ttc" id="ageneral_8c_html_a2d8b1ad469d271ae155d0c8b065a1118"><div class="ttname"><a href="../../d1/dca/general_8c.html#a2d8b1ad469d271ae155d0c8b065a1118">check_identifier</a></div><div class="ttdeci">int check_identifier(WORD_DESC *word, int check_word)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/general_8c_source.html#l00364">general.c:364</a></div></div>
<div class="ttc" id="ageneral_8c_html_a30c87e5e2b6826cae0b16c50843dc153"><div class="ttname"><a href="../../d1/dca/general_8c.html#a30c87e5e2b6826cae0b16c50843dc153">legal_identifier</a></div><div class="ttdeci">int legal_identifier(char *name) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/general_8c_source.html#l00290">general.c:290</a></div></div>
<div class="ttc" id="ageneral_8c_html_a47b42362e48468ec40ec8de83105d841"><div class="ttname"><a href="../../d1/dca/general_8c.html#a47b42362e48468ec40ec8de83105d841">check_binary_file</a></div><div class="ttdeci">int check_binary_file(char *sample, int sample_len) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/general_8c_source.html#l00681">general.c:681</a></div></div>
<div class="ttc" id="ageneral_8c_html_a5b8321688606303e1b2215d4e5bd9b97"><div class="ttname"><a href="../../d1/dca/general_8c.html#a5b8321688606303e1b2215d4e5bd9b97">default_columns</a></div><div class="ttdeci">int default_columns()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/general_8c_source.html#l01431">general.c:1431</a></div></div>
<div class="ttc" id="ageneral_8c_html_a862a9f80c5d26246cc559819191eb09d"><div class="ttname"><a href="../../d1/dca/general_8c.html#a862a9f80c5d26246cc559819191eb09d">file_isdir</a></div><div class="ttdeci">int file_isdir(char *fn) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/general_8c_source.html#l00759">general.c:759</a></div></div>
<div class="ttc" id="ageneral_8c_html_a86f47e15e56f6165aa568f99fe79a1df"><div class="ttname"><a href="../../d1/dca/general_8c.html#a86f47e15e56f6165aa568f99fe79a1df">printable_filename</a></div><div class="ttdeci">char * printable_filename(char *fn, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/general_8c_source.html#l00993">general.c:993</a></div></div>
<div class="ttc" id="ageneral_8c_html_acf578cd76e0dc1087cdc627781f06c9e"><div class="ttname"><a href="../../d1/dca/general_8c.html#acf578cd76e0dc1087cdc627781f06c9e">legal_number</a></div><div class="ttdeci">int legal_number(char *string, intmax_t *result) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/general_8c_source.html#l00249">general.c:249</a></div></div>
<div class="ttc" id="ageneral_8c_html_af0b8a3b83755241f88043a9e180a57db"><div class="ttname"><a href="../../d1/dca/general_8c.html#af0b8a3b83755241f88043a9e180a57db">sh_validfd</a></div><div class="ttdeci">int sh_validfd(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/general_8c_source.html#l00565">general.c:565</a></div></div>
<div class="ttc" id="ageneral_8c_html_af41a6ba27a2a96208603104a0a5232e0"><div class="ttname"><a href="../../d1/dca/general_8c.html#af41a6ba27a2a96208603104a0a5232e0">sh_openpipe</a></div><div class="ttdeci">int sh_openpipe(int *pv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/general_8c_source.html#l00715">general.c:715</a></div></div>
<div class="ttc" id="ageneral_8h_html_a916ffefe1fc74532d08102cca55d8e34"><div class="ttname"><a href="../../d9/d14/general_8h.html#a916ffefe1fc74532d08102cca55d8e34">STRLEN</a></div><div class="ttdeci">#define STRLEN(s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d14/general_8h_source.html#l00171">general.h:171</a></div></div>
<div class="ttc" id="ageneral_8h_html_aa7298fdb6a5082e7b9a8c84debac9993"><div class="ttname"><a href="../../d9/d14/general_8h.html#aa7298fdb6a5082e7b9a8c84debac9993">RESIZE_MALLOCED_BUFFER</a></div><div class="ttdeci">#define RESIZE_MALLOCED_BUFFER(str, cind, room, csize, sincr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d14/general_8h_source.html#l00183">general.h:183</a></div></div>
<div class="ttc" id="ageneral_8h_html_abae6b64c52f6657eb2e2079d0845749a"><div class="ttname"><a href="../../d9/d14/general_8h.html#abae6b64c52f6657eb2e2079d0845749a">INT_STRLEN_BOUND</a></div><div class="ttdeci">#define INT_STRLEN_BOUND(t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d14/general_8h_source.html#l00109">general.h:109</a></div></div>
<div class="ttc" id="ageneral_8h_html_ad499b8464a487ec244cf7ac9f389c8e3"><div class="ttname"><a href="../../d9/d14/general_8h.html#ad499b8464a487ec244cf7ac9f389c8e3">FREE</a></div><div class="ttdeci">#define FREE(s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d14/general_8h_source.html#l00172">general.h:172</a></div></div>
<div class="ttc" id="agettextP_8h_html_a68428151ad44e31b19041cdeb8972a91"><div class="ttname"><a href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a></div><div class="ttdeci">static nls_uint32 nls_uint32 i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d71/gettextP_8h_source.html#l00074">gettextP.h:74</a></div></div>
<div class="ttc" id="agetusershell_8c_html_a3efb0e1a16208deecbd84c15401f7cf8"><div class="ttname"><a href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a></div><div class="ttdeci">static FILE * f</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd9/getusershell_8c_source.html#l00009">getusershell.c:9</a></div></div>
<div class="ttc" id="aglob__loop_8c_html_ac483f6ce851c9ecd9fb835ff7551737c"><div class="ttname"><a href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a></div><div class="ttdeci">p</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/glob__loop_8c_source.html#l00031">glob_loop.c:31</a></div></div>
<div class="ttc" id="agm__loop_8c_html_ac310d9181e916ba43604099aee272c71"><div class="ttname"><a href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a></div><div class="ttdeci">int t</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dec/gm__loop_8c_source.html#l00079">gm_loop.c:79</a></div></div>
<div class="ttc" id="agzip_8c_html_a6d1197264c8235ebd5bda57ba423914e"><div class="ttname"><a href="../../d6/dd0/gzip_8c.html#a6d1197264c8235ebd5bda57ba423914e">head</a></div><div class="ttdeci">#define head</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd0/gzip_8c_source.html#l00337">gzip.c:337</a></div></div>
<div class="ttc" id="agzip_8c_html_aaa367dd6fbc252d1066a67c65b3e9bba"><div class="ttname"><a href="../../d6/dd0/gzip_8c.html#aaa367dd6fbc252d1066a67c65b3e9bba">lng</a></div><div class="ttdeci">int32_t lng</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd0/gzip_8c_source.html#l00248">gzip.c:248</a></div></div>
<div class="ttc" id="ahash-string_8h_html_a537825d894fc8d6a786f28a99ce8af2c"><div class="ttname"><a href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d72/hash-string_8h_source.html#l00045">hash-string.h:45</a></div></div>
<div class="ttc" id="ahashcmd_8h_html"><div class="ttname"><a href="../../d4/d10/hashcmd_8h.html">hashcmd.h</a></div></div>
<div class="ttc" id="ahashlib_8h_html"><div class="ttname"><a href="../../d4/d0d/hashlib_8h.html">hashlib.h</a></div></div>
<div class="ttc" id="ahashlib_8h_html_de/d65/structhash__table"><div class="ttname"><a href="../../d4/d0d/hashlib_8h.html#de/d65/structhash__table">hash_table</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d0d/hashlib_8h_source.html#l00042">hashlib.h:42</a></div></div>
<div class="ttc" id="ahdparm_8c_html_ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42"><div class="ttname"><a href="../../d2/db3/hdparm_8c.html#ab2a2e4bafac36c706cfa563198638c67a1e4d60e5b05464d07a30096747025a42">fd</a></div><div class="ttdeci">@ fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/hdparm_8c_source.html#l00352">hdparm.c:352</a></div></div>
<div class="ttc" id="ahu__stuff_8c_html_aff39d864a6594bc5f4a5e365282e00fe"><div class="ttname"><a href="../../d3/dbb/hu__stuff_8c.html#aff39d864a6594bc5f4a5e365282e00fe">tail</a></div><div class="ttdeci">static int tail</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbb/hu__stuff_8c_source.html#l00479">hu_stuff.c:479</a></div></div>
<div class="ttc" id="ahush_8c_html_a1cd70c44962eefd96c2f97444f004946"><div class="ttname"><a href="../../d6/d90/hush_8c.html#a1cd70c44962eefd96c2f97444f004946">variable::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00083">variables.h:83</a></div></div>
<div class="ttc" id="ahush_8c_html_a32a92c8a80f38048bb2ef8ac0ca2287b"><div class="ttname"><a href="../../d6/d90/hush_8c.html#a32a92c8a80f38048bb2ef8ac0ca2287b">variable::attributes</a></div><div class="ttdeci">int attributes</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00092">variables.h:92</a></div></div>
<div class="ttc" id="ahush_8c_html_a35171ddf374dcfc97662a6b3965d2ad0"><div class="ttname"><a href="../../d6/d90/hush_8c.html#a35171ddf374dcfc97662a6b3965d2ad0">command::line</a></div><div class="ttdeci">int line</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00200">command.h:200</a></div></div>
<div class="ttc" id="ahush_8c_html_a422d2931ad11d1875b0238974ad8f9dd"><div class="ttname"><a href="../../d6/d90/hush_8c.html#a422d2931ad11d1875b0238974ad8f9dd">variable::context</a></div><div class="ttdeci">int context</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00093">variables.h:93</a></div></div>
<div class="ttc" id="ahush_8c_html_a5b5efa4854e0319791e28028712fee9a"><div class="ttname"><a href="../../d6/d90/hush_8c.html#a5b5efa4854e0319791e28028712fee9a">command::redirects</a></div><div class="ttdeci">REDIRECT * redirects</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00201">command.h:201</a></div></div>
<div class="ttc" id="ahush_8c_html_a63573b8e4d6bd1efc2657355a72c032e"><div class="ttname"><a href="../../d6/d90/hush_8c.html#a63573b8e4d6bd1efc2657355a72c032e">indent</a></div><div class="ttdeci">#define indent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/hush_8c_source.html#l01258">hush.c:1258</a></div></div>
<div class="ttc" id="ahush_8c_html_aa901bebf4c7f683f6934e69ad95f2b11"><div class="ttname"><a href="../../d6/d90/hush_8c.html#aa901bebf4c7f683f6934e69ad95f2b11">command::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00199">command.h:199</a></div></div>
<div class="ttc" id="ahush_8c_html_ab8febada13998c6236d41ebd1f9b4cb1"><div class="ttname"><a href="../../d6/d90/hush_8c.html#ab8febada13998c6236d41ebd1f9b4cb1">command::value</a></div><div class="ttdeci">union command::@851 value</div></div>
<div class="ttc" id="ahush_8c_html_adc520136f05efbf94b38913f7d8b1f31"><div class="ttname"><a href="../../d6/d90/hush_8c.html#adc520136f05efbf94b38913f7d8b1f31">command::type</a></div><div class="ttdeci">enum command_type type</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00175">command.h:198</a></div></div>
<div class="ttc" id="ahush_8c_html_af6fb1d6f03bd117802f0d7191ceebbd4"><div class="ttname"><a href="../../d6/d90/hush_8c.html#af6fb1d6f03bd117802f0d7191ceebbd4">exec_builtin</a></div><div class="ttdeci">#define exec_builtin(to_free, x, argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/hush_8c_source.html#l08449">hush.c:8449</a></div></div>
<div class="ttc" id="ahush_8c_html_d8/d53/structpipe"><div class="ttname"><a href="../../d6/d90/hush_8c.html#d8/d53/structpipe">pipe</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/hush_8c_source.html#l00701">hush.c:701</a></div></div>
<div class="ttc" id="ahush_8c_html_db/d35/structvariable"><div class="ttname"><a href="../../d6/d90/hush_8c.html#db/d35/structvariable">variable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00082">variables.h:82</a></div></div>
<div class="ttc" id="ahush_8c_html_dc/d76/structcommand"><div class="ttname"><a href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00197">command.h:197</a></div></div>
<div class="ttc" id="ainclude_2ansi__stdlib_8h_html_a358d2e2397ca11ccd17553e3c40e7901"><div class="ttname"><a href="../../d9/df8/include_2ansi__stdlib_8h.html#a358d2e2397ca11ccd17553e3c40e7901">exit</a></div><div class="ttdeci">void exit()</div></div>
<div class="ttc" id="ainclude_2posixjmp_8h_html_a79529654058563578999fe05b86bb81c"><div class="ttname"><a href="../../d5/de0/include_2posixjmp_8h.html#a79529654058563578999fe05b86bb81c">setjmp_nosigs</a></div><div class="ttdeci">#define setjmp_nosigs</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de0/include_2posixjmp_8h_source.html#l00039">posixjmp.h:39</a></div></div>
<div class="ttc" id="ainclude_2posixjmp_8h_html_aa65facfb875e08a95ca9b8821d7af547"><div class="ttname"><a href="../../d5/de0/include_2posixjmp_8h.html#aa65facfb875e08a95ca9b8821d7af547">procenv_t</a></div><div class="ttdeci">#define procenv_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de0/include_2posixjmp_8h_source.html#l00037">posixjmp.h:37</a></div></div>
<div class="ttc" id="ainclude_2posixjmp_8h_html_abb496f9af211ed8477d4b5fda7d7364b"><div class="ttname"><a href="../../d5/de0/include_2posixjmp_8h.html#abb496f9af211ed8477d4b5fda7d7364b">sh_longjmp</a></div><div class="ttdeci">#define sh_longjmp(x, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de0/include_2posixjmp_8h_source.html#l00043">posixjmp.h:43</a></div></div>
<div class="ttc" id="ainclude_2sys_2resource_8h_html"><div class="ttname"><a href="../../d3/d6f/include_2sys_2resource_8h.html">resource.h</a></div></div>
<div class="ttc" id="ainclude_2sys_2resource_8h_html_a3ba721bfdd51d1326fbcb72caf74afff"><div class="ttname"><a href="../../d3/d6f/include_2sys_2resource_8h.html#a3ba721bfdd51d1326fbcb72caf74afff">getrusage</a></div><div class="ttdeci">int getrusage(int, struct rusage *)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/getrusage_8c_source.html#l00006">getrusage.c:6</a></div></div>
<div class="ttc" id="ainclude_2sys_2resource_8h_html_a76da11928becba8246c8c406314e6282"><div class="ttname"><a href="../../d3/d6f/include_2sys_2resource_8h.html#a76da11928becba8246c8c406314e6282">RUSAGE_CHILDREN</a></div><div class="ttdeci">#define RUSAGE_CHILDREN</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6f/include_2sys_2resource_8h_source.html#l00069">resource.h:69</a></div></div>
<div class="ttc" id="ainclude_2sys_2resource_8h_html_af96c310e02eee3878d8fb3af154c2ba0"><div class="ttname"><a href="../../d3/d6f/include_2sys_2resource_8h.html#af96c310e02eee3878d8fb3af154c2ba0">RUSAGE_SELF</a></div><div class="ttdeci">#define RUSAGE_SELF</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6f/include_2sys_2resource_8h_source.html#l00068">resource.h:68</a></div></div>
<div class="ttc" id="ainclude_2sys_2resource_8h_html_d6/ddd/structrusage"><div class="ttname"><a href="../../d3/d6f/include_2sys_2resource_8h.html#d6/ddd/structrusage">rusage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dd4/linux_8cpp_source.html#l00142">linux.cpp:143</a></div></div>
<div class="ttc" id="ainput_8h_html"><div class="ttname"><a href="../../de/ded/input_8h.html">input.h</a></div></div>
<div class="ttc" id="aitos_8c_html_a4458df0c815a2822d5129649049b85b9"><div class="ttname"><a href="../../df/d57/itos_8c.html#a4458df0c815a2822d5129649049b85b9">itos</a></div><div class="ttdeci">char * itos(intmax_t i)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d57/itos_8c_source.html#l00044">itos.c:44</a></div></div>
<div class="ttc" id="ajobs_8c_html_a00c2a1d6f9dcaf3f68f9f66726827b7f"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a00c2a1d6f9dcaf3f68f9f66726827b7f">append_process</a></div><div class="ttdeci">void append_process(char *name, pid_t pid, int status, int jid)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l01529">jobs.c:1529</a></div></div>
<div class="ttc" id="ajobs_8c_html_a1f9d98a5ac1e452fa40b1ca93285843a"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a1f9d98a5ac1e452fa40b1ca93285843a">init_job_stats</a></div><div class="ttdeci">void init_job_stats()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l00373">jobs.c:373</a></div></div>
<div class="ttc" id="ajobs_8c_html_a2819d9527c8d26be39bb531290f4b597"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a2819d9527c8d26be39bb531290f4b597">last_asynchronous_pid</a></div><div class="ttdeci">volatile pid_t last_asynchronous_pid</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l00216">jobs.c:216</a></div></div>
<div class="ttc" id="ajobs_8c_html_a3002cbcd4a652dec2c5cef5ff3da446f"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a3002cbcd4a652dec2c5cef5ff3da446f">job_control</a></div><div class="ttdeci">int job_control</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l00222">jobs.c:222</a></div></div>
<div class="ttc" id="ajobs_8c_html_a56a3393f655f01d7c763be6f034b57b7"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a56a3393f655f01d7c763be6f034b57b7">terminate_current_pipeline</a></div><div class="ttdeci">void terminate_current_pipeline()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l01632">jobs.c:1632</a></div></div>
<div class="ttc" id="ajobs_8c_html_a6014bc30456423f628a211bf8007fbe0"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a6014bc30456423f628a211bf8007fbe0">last_made_pid</a></div><div class="ttdeci">volatile pid_t last_made_pid</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l00213">jobs.c:213</a></div></div>
<div class="ttc" id="ajobs_8c_html_a637f8e438a0ea8c409d891cb8ccb523e"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a637f8e438a0ea8c409d891cb8ccb523e">wait_for_single_pid</a></div><div class="ttdeci">int wait_for_single_pid(pid_t pid, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l02586">jobs.c:2586</a></div></div>
<div class="ttc" id="ajobs_8c_html_a927de0d08067183bd327b538a1b77f73"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a927de0d08067183bd327b538a1b77f73">original_pgrp</a></div><div class="ttdeci">pid_t original_pgrp</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l00200">jobs.c:200</a></div></div>
<div class="ttc" id="ajobs_8c_html_a997643f3b98ece63e0acd25b30a1b93e"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a997643f3b98ece63e0acd25b30a1b93e">job_exit_status</a></div><div class="ttdeci">int job_exit_status(int job)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l02866">jobs.c:2866</a></div></div>
<div class="ttc" id="ajobs_8c_html_a9c3599dc5b071245445a30237eefbe9c"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a9c3599dc5b071245445a30237eefbe9c">set_sigchld_handler</a></div><div class="ttdeci">void set_sigchld_handler()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l05066">jobs.c:5066</a></div></div>
<div class="ttc" id="ajobs_8c_html_a9c5a796b3c5e2ddcc0ea88c494e324ea"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a9c5a796b3c5e2ddcc0ea88c494e324ea">set_jobs_list_frozen</a></div><div class="ttdeci">void set_jobs_list_frozen(int s)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l04949">jobs.c:4949</a></div></div>
<div class="ttc" id="ajobs_8c_html_aa16d61880057512c4b0d5e127d4cd6bb"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#aa16d61880057512c4b0d5e127d4cd6bb">wait_for</a></div><div class="ttdeci">int wait_for(pid_t pid, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l02899">jobs.c:2899</a></div></div>
<div class="ttc" id="ajobs_8c_html_ab6ee1058c7a454b7e482ce8fa34ddbb7"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#ab6ee1058c7a454b7e482ce8fa34ddbb7">make_child</a></div><div class="ttdeci">pid_t make_child(char *command, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l02121">jobs.c:2121</a></div></div>
<div class="ttc" id="ajobs_8c_html_ab73b81916e1b9c693ec186cb41e9f4e5"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#ab73b81916e1b9c693ec186cb41e9f4e5">already_making_children</a></div><div class="ttdeci">int already_making_children</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l00228">jobs.c:228</a></div></div>
<div class="ttc" id="ajobs_8c_html_ab9244e49349e5265eef7d020233848ae"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#ab9244e49349e5265eef7d020233848ae">without_job_control</a></div><div class="ttdeci">void without_job_control()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l04997">jobs.c:4997</a></div></div>
<div class="ttc" id="ajobs_8c_html_abf725a8b0ca073cc1140e9f1d88b0c26"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#abf725a8b0ca073cc1140e9f1d88b0c26">start_job</a></div><div class="ttdeci">int start_job(int job, int foreground)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l03541">jobs.c:3541</a></div></div>
<div class="ttc" id="ajobs_8c_html_ac04bd8c6bbeec0e7e6f542d3a8a9f09f"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#ac04bd8c6bbeec0e7e6f542d3a8a9f09f">freeze_jobs_list</a></div><div class="ttdeci">int freeze_jobs_list()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l04933">jobs.c:4933</a></div></div>
<div class="ttc" id="ajobs_8c_html_ac29c70bbf156a302776a486f60cb31e0"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#ac29c70bbf156a302776a486f60cb31e0">kill_current_pipeline</a></div><div class="ttdeci">void kill_current_pipeline()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l01680">jobs.c:1680</a></div></div>
<div class="ttc" id="ajobs_8c_html_ad569e95d0123bab22a08e7d38a3a06e1"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#ad569e95d0123bab22a08e7d38a3a06e1">stop_pipeline</a></div><div class="ttdeci">int stop_pipeline(int async, COMMAND *deferred)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l00553">jobs.c:553</a></div></div>
<div class="ttc" id="ajobs_8h_html"><div class="ttname"><a href="../../d3/d3a/jobs_8h.html">jobs.h</a></div></div>
<div class="ttc" id="ajobs_8h_html_a599efb6d8d8213160548a82f20c0a573"><div class="ttname"><a href="../../d3/d3a/jobs_8h.html#a599efb6d8d8213160548a82f20c0a573">FORK_ASYNC</a></div><div class="ttdeci">#define FORK_ASYNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3a/jobs_8h_source.html#l00204">jobs.h:204</a></div></div>
<div class="ttc" id="ajobs_8h_html_a6eba094b1ac1bc00e5883edd166bd944"><div class="ttname"><a href="../../d3/d3a/jobs_8h.html#a6eba094b1ac1bc00e5883edd166bd944">NO_JOB</a></div><div class="ttdeci">#define NO_JOB</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3a/jobs_8h_source.html#l00193">jobs.h:193</a></div></div>
<div class="ttc" id="ajobs_8h_html_ad40327c746e8ef715109d9b9257eb991"><div class="ttname"><a href="../../d3/d3a/jobs_8h.html#ad40327c746e8ef715109d9b9257eb991">NO_PID</a></div><div class="ttdeci">#define NO_PID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3a/jobs_8h_source.html#l00198">jobs.h:198</a></div></div>
<div class="ttc" id="ajobs_8h_html_add1dc6545057b7f1c7f91352536fb060"><div class="ttname"><a href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid</a></div><div class="ttdeci">pid_t getpid()</div></div>
<div class="ttc" id="ajobs_8h_html_adf1796b65bab65f7837caaea01cbdf93"><div class="ttname"><a href="../../d3/d3a/jobs_8h.html#adf1796b65bab65f7837caaea01cbdf93">INVALID_JOB</a></div><div class="ttdeci">#define INVALID_JOB(j)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3a/jobs_8h_source.html#l00102">jobs.h:102</a></div></div>
<div class="ttc" id="akernel__config_8cpp_html_a4db4281a3169b26f4f69f18f20440e5d"><div class="ttname"><a href="../../d1/d6d/kernel__config_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a></div><div class="ttdeci">EXTERNC void fprintf(FILE *stream, const char *Format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6d/kernel__config_8cpp_source.html#l00028">kernel_config.cpp:28</a></div></div>
<div class="ttc" id="algamma__r_8c_html_a65214077828087a81420f38e5305d466"><div class="ttname"><a href="../../d3/d84/lgamma__r_8c.html#a65214077828087a81420f38e5305d466">t1</a></div><div class="ttdeci">static const double t1</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d84/lgamma__r_8c_source.html#l00102">lgamma_r.c:102</a></div></div>
<div class="ttc" id="algamma__r_8c_html_aab648e54fa69accaae4a3db647cd8423"><div class="ttname"><a href="../../d3/d84/lgamma__r_8c.html#aab648e54fa69accaae4a3db647cd8423">tc</a></div><div class="ttdeci">static const double tc</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d84/lgamma__r_8c_source.html#l00097">lgamma_r.c:97</a></div></div>
<div class="ttc" id="algamma__r_8c_html_ac8b0854fa87c2202d0805a90a3b7d585"><div class="ttname"><a href="../../d3/d84/lgamma__r_8c.html#ac8b0854fa87c2202d0805a90a3b7d585">t2</a></div><div class="ttdeci">static const double t2</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d84/lgamma__r_8c_source.html#l00103">lgamma_r.c:103</a></div></div>
<div class="ttc" id="alib_2readline_2posixtime_8h_html_d1/d1b/structtimeval"><div class="ttname"><a href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dd4/linux_8cpp_source.html#l00136">linux.cpp:137</a></div></div>
<div class="ttc" id="alibbb_8h_html_a0b8e699e4dfd158acee3d6526fe671c2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a></div><div class="ttdeci">#define putc(c, stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00225">libbb.h:225</a></div></div>
<div class="ttc" id="alibbb_8h_html_a2f7ceb642982f0aab3b8cdf1e2d008ca"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a2f7ceb642982f0aab3b8cdf1e2d008ca">ferror</a></div><div class="ttdeci">#define ferror(stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00245">libbb.h:245</a></div></div>
<div class="ttc" id="alibbb_8h_html_a568f021a83b2c22e1e700d12559d660a"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a568f021a83b2c22e1e700d12559d660a">putchar</a></div><div class="ttdeci">#define putchar(c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00227">libbb.h:227</a></div></div>
<div class="ttc" id="alibbb_8h_html_ad09bf069f1dc789b35e313c3e2748329"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format</a></div><div class="ttdeci">void format(printf, 1, 2))) FAST_FUNC</div></div>
<div class="ttc" id="alinux_8cpp_html_a288e13e815d43b06e75819f8939524df"><div class="ttname"><a href="../../d1/dd4/linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a></div><div class="ttdeci">int pid_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dd4/linux_8cpp_source.html#l00125">linux.cpp:125</a></div></div>
<div class="ttc" id="alocale_8c_html_a12cc6c07091a5a05045c9faf08c257ce"><div class="ttname"><a href="../../d3/d82/locale_8c.html#a12cc6c07091a5a05045c9faf08c257ce">locale_decpoint</a></div><div class="ttdeci">int locale_decpoint()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d82/locale_8c_source.html#l00641">locale.c:641</a></div></div>
<div class="ttc" id="amail_8c_html_a6943d6e2e83995c648644bc0a4d36f53"><div class="ttname"><a href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a></div><div class="ttdeci">#define status</div></div>
<div class="ttc" id="amake__cmd_8c_html_a1bf353c818fefb707867a3142c70f21f"><div class="ttname"><a href="../../d4/d97/make__cmd_8c.html#a1bf353c818fefb707867a3142c70f21f">make_word</a></div><div class="ttdeci">WORD_DESC * make_word(char *string) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/make__cmd_8c_source.html#l00135">make_cmd.c:135</a></div></div>
<div class="ttc" id="amake__cmd_8c_html_aa707cc6dc36f4646bd1b0c25d3082d9c"><div class="ttname"><a href="../../d4/d97/make__cmd_8c.html#aa707cc6dc36f4646bd1b0c25d3082d9c">make_word_list</a></div><div class="ttdeci">WORD_LIST * make_word_list(WORD_DESC *word, WORD_LIST *wlink)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/make__cmd_8c_source.html#l00157">make_cmd.c:157</a></div></div>
<div class="ttc" id="amath_8c_html_a6409d948329459455a2e2c41b1b0b650"><div class="ttname"><a href="../../d6/da3/math_8c.html#a6409d948329459455a2e2c41b1b0b650">arith</a></div><div class="ttdeci">arith_t FAST_FUNC arith(arith_state_t *math_state, const char *expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/math_8c_source.html#l00819">math.c:819</a></div></div>
<div class="ttc" id="amb__64bit__map_8cpp_html_a7d5d79792cdea43010184ab50d14ac5a"><div class="ttname"><a href="../../d9/def/mb__64bit__map_8cpp.html#a7d5d79792cdea43010184ab50d14ac5a">if</a></div><div class="ttdeci">if(!PML4.Present)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/def/mb__64bit__map_8cpp_source.html#l00205">mb_64bit_map.cpp:205</a></div></div>
<div class="ttc" id="ambschr_8c_html_acef2f11657ef6f35cc9e13ba4f6717d4"><div class="ttname"><a href="../../d3/d88/mbschr_8c.html#acef2f11657ef6f35cc9e13ba4f6717d4">mbschr</a></div><div class="ttdeci">char * mbschr(char *s, int c) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d88/mbschr_8c_source.html#l00045">mbschr.c:45</a></div></div>
<div class="ttc" id="amconf_8c_html_a4407a60bc4387adae24cee658711f2d9"><div class="ttname"><a href="../../d0/d43/mconf_8c.html#a4407a60bc4387adae24cee658711f2d9">cols</a></div><div class="ttdeci">static int cols</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/mconf_8c_source.html#l00274">mconf.c:274</a></div></div>
<div class="ttc" id="amconf_8c_html_ae0d46a978d5cd6707411f276ad869b9c"><div class="ttname"><a href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a></div><div class="ttdeci">pid_t pid</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/mconf_8c_source.html#l00450">mconf.c:450</a></div></div>
<div class="ttc" id="amemalloc_8h_html"><div class="ttname"><a href="../../d4/de9/memalloc_8h.html">memalloc.h</a></div></div>
<div class="ttc" id="amkbuiltins_8c_html_a198eeda44640f25891d7a519ef0b215c"><div class="ttname"><a href="../../da/df1/mkbuiltins_8c.html#a198eeda44640f25891d7a519ef0b215c">file_error</a></div><div class="ttdeci">void file_error()</div></div>
<div class="ttc" id="amkbuiltins_8c_html_a38bf8b007a281c3c96504ad1d2614af4"><div class="ttname"><a href="../../da/df1/mkbuiltins_8c.html#a38bf8b007a281c3c96504ad1d2614af4">Function</a></div><div class="ttdeci">int Function()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df1/mkbuiltins_8c_source.html#l00464">mkbuiltins.c:464</a></div></div>
<div class="ttc" id="amkbuiltins_8c_html_d6/dde/structARRAY"><div class="ttname"><a href="../../da/df1/mkbuiltins_8c.html#d6/dde/structARRAY">ARRAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df1/mkbuiltins_8c_source.html#l00123">mkbuiltins.c:123</a></div></div>
<div class="ttc" id="amultiboot_8h_html_a6d813a0f2b5281b18dea3f4cda696c33"><div class="ttname"><a href="../../d1/dc0/multiboot_8h.html#a6d813a0f2b5281b18dea3f4cda696c33">size</a></div><div class="ttdeci">multiboot_uint32_t size</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc0/multiboot_8h_source.html#l00000">multiboot.h:0</a></div></div>
<div class="ttc" id="amultiboot_8h_html_a6de3a6d27a7e07942958b912d39792e6"><div class="ttname"><a href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a></div><div class="ttdeci">multiboot_uint64_t len</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc0/multiboot_8h_source.html#l00002">multiboot.h:2</a></div></div>
<div class="ttc" id="amultiboot_8h_html_a8da1a8c7127a0371eec0810a29e30f3c"><div class="ttname"><a href="../../d1/dc0/multiboot_8h.html#a8da1a8c7127a0371eec0810a29e30f3c">type</a></div><div class="ttdeci">multiboot_uint32_t type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc0/multiboot_8h_source.html#l00008">multiboot.h:8</a></div></div>
<div class="ttc" id="amusl_2arch_2aarch64_2bits_2fcntl_8h_html_abc11141031604fb22b8e3a201155cbb3"><div class="ttname"><a href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#abc11141031604fb22b8e3a201155cbb3">F_GETFD</a></div><div class="ttdeci">#define F_GETFD</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h_source.html#l00023">fcntl.h:23</a></div></div>
<div class="ttc" id="amusl_2include_2fcntl_8h_html_aa138ddaa9bbe8b8ccca32ed43e75b72c"><div class="ttname"><a href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a></div><div class="ttdeci">int open(const char *, int,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/deb/open_8c_source.html#l00005">open.c:5</a></div></div>
<div class="ttc" id="amusl_2include_2fcntl_8h_html_aa7a55dad56032ce4c5a40eab1d9c8e01"><div class="ttname"><a href="../../d2/d44/musl_2include_2fcntl_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a></div><div class="ttdeci">int fcntl(int, int,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de6/fcntl_8c_source.html#l00007">fcntl.c:7</a></div></div>
<div class="ttc" id="amusl_2src_2ctype_2wcswidth_8c_html_acab1cf5071f9ae3199a5d0feb14db3e1"><div class="ttname"><a href="../../d4/dd9/musl_2src_2ctype_2wcswidth_8c.html#acab1cf5071f9ae3199a5d0feb14db3e1">wcswidth</a></div><div class="ttdeci">int wcswidth(const wchar_t *wcs, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd9/musl_2src_2ctype_2wcswidth_8c_source.html#l00003">wcswidth.c:3</a></div></div>
<div class="ttc" id="amusl_2src_2regex_2glob_8c_html_de/d90/structmatch"><div class="ttname"><a href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d00/musl_2src_2regex_2glob_8c_source.html#l00014">glob.c:15</a></div></div>
<div class="ttc" id="anamespaceModule_html_aa56762f1e0bc7b507d773d431829e1a0"><div class="ttname"><a href="../../d9/d73/namespaceModule.html#aa56762f1e0bc7b507d773d431829e1a0">Module::void</a></div><div class="ttdeci">int void(Handle.InterruptCallback))(&amp;regs)</div></div>
<div class="ttc" id="anmeter_8c_html_ac53d11cacfe08f01ad96aefeb9b46c72"><div class="ttname"><a href="../../d4/dcd/nmeter_8c.html#ac53d11cacfe08f01ad96aefeb9b46c72">prec</a></div><div class="ttdeci">unsigned prec</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcd/nmeter_8c_source.html#l00778">nmeter.c:778</a></div></div>
<div class="ttc" id="aoslib_8c_html_a4ce97c88892c43f0e127dd3a6dc54b96"><div class="ttname"><a href="../../d9/d9c/oslib_8c.html#a4ce97c88892c43f0e127dd3a6dc54b96">dup2</a></div><div class="ttdeci">int dup2(int fd1, int fd2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9c/oslib_8c_source.html#l00088">oslib.c:88</a></div></div>
<div class="ttc" id="aoslib_8c_html_ad503862ce76ce5a37ecde45502b5f2bc"><div class="ttname"><a href="../../d9/d9c/oslib_8c.html#ad503862ce76ce5a37ecde45502b5f2bc">getdtablesize</a></div><div class="ttdeci">int getdtablesize()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9c/oslib_8c_source.html#l00146">oslib.c:146</a></div></div>
<div class="ttc" id="aparam_8h_html"><div class="ttname"><a href="../../d5/d33/param_8h.html">param.h</a></div></div>
<div class="ttc" id="aparser_8h_html"><div class="ttname"><a href="../../d5/d36/parser_8h.html">parser.h</a></div></div>
<div class="ttc" id="aparser_8h_html_a7f8a254149285ae8961a2061787c04f8"><div class="ttname"><a href="../../d5/d36/parser_8h.html#a7f8a254149285ae8961a2061787c04f8">expand_aliases</a></div><div class="ttdeci">int expand_aliases</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/def/y_8tab_8c_source.html#l00299">y.tab.c:299</a></div></div>
<div class="ttc" id="aparser_8h_html_ada7b81cc6d5bbe25b92c0162697e0f58"><div class="ttname"><a href="../../d5/d36/parser_8h.html#ada7b81cc6d5bbe25b92c0162697e0f58">line_number</a></div><div class="ttdeci">int line_number</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/def/y_8tab_8c_source.html#l04045">y.tab.c:4045</a></div></div>
<div class="ttc" id="apathexp_8c_html_a602fd211dea0e387ef7094aba84b5468"><div class="ttname"><a href="../../d7/d4a/pathexp_8c.html#a602fd211dea0e387ef7094aba84b5468">quote_string_for_globbing</a></div><div class="ttdeci">char * quote_string_for_globbing(char *pathname, int qflags) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4a/pathexp_8c_source.html#l00206">pathexp.c:206</a></div></div>
<div class="ttc" id="apathexp_8h_html"><div class="ttname"><a href="../../d0/da8/pathexp_8h.html">pathexp.h</a></div></div>
<div class="ttc" id="apathexp_8h_html_a7d6f2a3d180a54406fa58c6ca5f8f000"><div class="ttname"><a href="../../d0/da8/pathexp_8h.html#a7d6f2a3d180a54406fa58c6ca5f8f000">FNMATCH_EXTFLAG</a></div><div class="ttdeci">#define FNMATCH_EXTFLAG</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da8/pathexp_8h_source.html#l00041">pathexp.h:41</a></div></div>
<div class="ttc" id="apathexp_8h_html_ab553c4638a9992806a52f65d12cd21fc"><div class="ttname"><a href="../../d0/da8/pathexp_8h.html#ab553c4638a9992806a52f65d12cd21fc">FNMATCH_IGNCASE</a></div><div class="ttdeci">#define FNMATCH_IGNCASE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da8/pathexp_8h_source.html#l00044">pathexp.h:44</a></div></div>
<div class="ttc" id="apathexp_8h_html_adfd140cabe1a1c0af0dec63f0410f9e7"><div class="ttname"><a href="../../d0/da8/pathexp_8h.html#adfd140cabe1a1c0af0dec63f0410f9e7">QGLOB_CVTNULL</a></div><div class="ttdeci">#define QGLOB_CVTNULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da8/pathexp_8h_source.html#l00030">pathexp.h:30</a></div></div>
<div class="ttc" id="apathexp_8h_html_af043d715c5ec86336febb162c5881ef9"><div class="ttname"><a href="../../d0/da8/pathexp_8h.html#af043d715c5ec86336febb162c5881ef9">QGLOB_CTLESC</a></div><div class="ttdeci">#define QGLOB_CTLESC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da8/pathexp_8h_source.html#l00033">pathexp.h:33</a></div></div>
<div class="ttc" id="aposix__spawn_8c_html_d8/d08/structargs"><div class="ttname"><a href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d51/mq__notify_8c_source.html#l00010">mq_notify.c:10</a></div></div>
<div class="ttc" id="aprint__cmd_8c_html_a0a9c06f34030b78c51610d45ce0294ef"><div class="ttname"><a href="../../d6/dd8/print__cmd_8c.html#a0a9c06f34030b78c51610d45ce0294ef">print_simple_command</a></div><div class="ttdeci">void print_simple_command(SIMPLE_COM *simple_command)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd8/print__cmd_8c_source.html#l00989">print_cmd.c:989</a></div></div>
<div class="ttc" id="aprint__cmd_8c_html_a507df6851c3524477ab694e6268158e2"><div class="ttname"><a href="../../d6/dd8/print__cmd_8c.html#a507df6851c3524477ab694e6268158e2">print_case_command_head</a></div><div class="ttdeci">void print_case_command_head(CASE_COM *case_command)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd8/print__cmd_8c_source.html#l00734">print_cmd.c:734</a></div></div>
<div class="ttc" id="aprint__cmd_8c_html_a8ea4eefab82712152609c76e7bb91c32"><div class="ttname"><a href="../../d6/dd8/print__cmd_8c.html#a8ea4eefab82712152609c76e7bb91c32">print_for_command_head</a></div><div class="ttdeci">void print_for_command_head(FOR_COM *for_command)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd8/print__cmd_8c_source.html#l00603">print_cmd.c:603</a></div></div>
<div class="ttc" id="aprint__cmd_8c_html_a91bd8878dd80edc56dd94ac489902009"><div class="ttname"><a href="../../d6/dd8/print__cmd_8c.html#a91bd8878dd80edc56dd94ac489902009">make_command_string</a></div><div class="ttdeci">char * make_command_string(COMMAND *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd8/print__cmd_8c_source.html#l00157">print_cmd.c:157</a></div></div>
<div class="ttc" id="aprint__cmd_8c_html_ab6cd05af0fca1ca7a68b85fad289d5c0"><div class="ttname"><a href="../../d6/dd8/print__cmd_8c.html#ab6cd05af0fca1ca7a68b85fad289d5c0">xtrace_print_word_list</a></div><div class="ttdeci">void xtrace_print_word_list(WORD_LIST *list, int xtflags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd8/print__cmd_8c_source.html#l00556">print_cmd.c:556</a></div></div>
<div class="ttc" id="aprint__cmd_8c_html_ae6b7b509c40ee2a915e3f00ad2624efd"><div class="ttname"><a href="../../d6/dd8/print__cmd_8c.html#ae6b7b509c40ee2a915e3f00ad2624efd">xtrace_print_for_command_head</a></div><div class="ttdeci">void xtrace_print_for_command_head(FOR_COM *for_command)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd8/print__cmd_8c_source.html#l00611">print_cmd.c:611</a></div></div>
<div class="ttc" id="aprint__cmd_8c_html_aed710861ef27e1e3e13b9dd1413ba16f"><div class="ttname"><a href="../../d6/dd8/print__cmd_8c.html#aed710861ef27e1e3e13b9dd1413ba16f">xtrace_print_case_command_head</a></div><div class="ttdeci">void xtrace_print_case_command_head(CASE_COM *case_command)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd8/print__cmd_8c_source.html#l00741">print_cmd.c:741</a></div></div>
<div class="ttc" id="apush_8c_html_af903bd1cfd621898390238943eedfd15"><div class="ttname"><a href="../../d6/ddd/push_8c.html#af903bd1cfd621898390238943eedfd15">dollar_dollar_pid</a></div><div class="ttdeci">pid_t dollar_dollar_pid</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l00164">variables.c:164</a></div></div>
<div class="ttc" id="aquit_8h_html_a68c85871057165f09160a548f0e2246a"><div class="ttname"><a href="../../dd/d2b/quit_8h.html#a68c85871057165f09160a548f0e2246a">CHECK_TERMSIG</a></div><div class="ttdeci">#define CHECK_TERMSIG</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d2b/quit_8h_source.html#l00052">quit.h:52</a></div></div>
<div class="ttc" id="aquit_8h_html_ad24e2b54375e12474e65ebf7175988fb"><div class="ttname"><a href="../../dd/d2b/quit_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a></div><div class="ttdeci">#define QUIT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d2b/quit_8h_source.html#l00035">quit.h:35</a></div></div>
<div class="ttc" id="areadprofile_8c_html_a2f905a9c4868f5f248b12d584a78dfbd"><div class="ttname"><a href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a></div><div class="ttdeci">#define next</div></div>
<div class="ttc" id="aredir_8c_html_a1e243d74a4d24d4370a6109a3c35dec9"><div class="ttname"><a href="../../d1/dfa/redir_8c.html#a1e243d74a4d24d4370a6109a3c35dec9">stdin_redirects</a></div><div class="ttdeci">int stdin_redirects(REDIRECT *redirs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/redir_8c_source.html#l01439">redir.c:1439</a></div></div>
<div class="ttc" id="aredir_8c_html_a52ce0ceb4aab5c01113e6ed10ef91222"><div class="ttname"><a href="../../d1/dfa/redir_8c.html#a52ce0ceb4aab5c01113e6ed10ef91222">do_redirections</a></div><div class="ttdeci">int do_redirections(REDIRECT *list, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/redir_8c_source.html#l00241">redir.c:241</a></div></div>
<div class="ttc" id="aredir_8c_html_ad1987120f141fc3123fb69a0d074f837"><div class="ttname"><a href="../../d1/dfa/redir_8c.html#ad1987120f141fc3123fb69a0d074f837">rd</a></div><div class="ttdeci">static REDIRECTEE rd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/redir_8c_source.html#l00118">redir.c:118</a></div></div>
<div class="ttc" id="aredir_8h_html"><div class="ttname"><a href="../../d1/dbf/redir_8h.html">redir.h</a></div></div>
<div class="ttc" id="aredir_8h_html_a51ed68f61f8bb53c69c88f66f39b12e3"><div class="ttname"><a href="../../d1/dbf/redir_8h.html#a51ed68f61f8bb53c69c88f66f39b12e3">RX_UNDOABLE</a></div><div class="ttdeci">#define RX_UNDOABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbf/redir_8h_source.html#l00028">redir.h:28</a></div></div>
<div class="ttc" id="aredir_8h_html_ad236771164f9ee8cc2d118d7ad5ed812"><div class="ttname"><a href="../../d1/dbf/redir_8h.html#ad236771164f9ee8cc2d118d7ad5ed812">RX_ACTIVE</a></div><div class="ttdeci">#define RX_ACTIVE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbf/redir_8h_source.html#l00027">redir.h:27</a></div></div>
<div class="ttc" id="arun__parts_8c_html_a6e357f839ebe13390815f0b749845972"><div class="ttname"><a href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a></div><div class="ttdeci">#define cmd</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d6d/run__parts_8c_source.html#l00100">run_parts.c:100</a></div></div>
<div class="ttc" id="asavestring_8c_html_a7b14e5f700c119910f89f61c06f30b1a"><div class="ttname"><a href="../../dd/d76/savestring_8c.html#a7b14e5f700c119910f89f61c06f30b1a">savestring</a></div><div class="ttdeci">char * savestring(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d76/savestring_8c_source.html#l00033">savestring.c:33</a></div></div>
<div class="ttc" id="asetfiles_8c_html_a664f27beea6c9e79a7b11a701f4ae054"><div class="ttname"><a href="../../d3/d31/setfiles_8c.html#a664f27beea6c9e79a7b11a701f4ae054">match</a></div><div class="ttdeci">static int match(const char *name, struct stat *sb, char **con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/setfiles_8c_source.html#l00233">setfiles.c:233</a></div></div>
<div class="ttc" id="ashell_8c_html_a0647ded5eb463a5948fdd2630e8294ff"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#a0647ded5eb463a5948fdd2630e8294ff">subshell_argv</a></div><div class="ttdeci">char ** subshell_argv</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00286">shell.c:286</a></div></div>
<div class="ttc" id="ashell_8c_html_a12ca07e776396afc9a8bfee840d90d96"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#a12ca07e776396afc9a8bfee840d90d96">shell_name</a></div><div class="ttdeci">char * shell_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00180">shell.c:180</a></div></div>
<div class="ttc" id="ashell_8c_html_a15b0e48465dfc17e94173c63e10b57cc"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#a15b0e48465dfc17e94173c63e10b57cc">posixly_correct</a></div><div class="ttdeci">int posixly_correct</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00237">shell.c:237</a></div></div>
<div class="ttc" id="ashell_8c_html_a1f22336e1dd4c10975bf2fef179f6bce"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#a1f22336e1dd4c10975bf2fef179f6bce">login_shell</a></div><div class="ttdeci">int login_shell</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00134">shell.c:134</a></div></div>
<div class="ttc" id="ashell_8c_html_a5b87ccc35dc6811b0a5c3f065a04acb4"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#a5b87ccc35dc6811b0a5c3f065a04acb4">subshell_exit</a></div><div class="ttdeci">void subshell_exit(int s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l01059">shell.c:1059</a></div></div>
<div class="ttc" id="ashell_8c_html_a6b10c6496bb85fc66ac770978c2ef185"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#a6b10c6496bb85fc66ac770978c2ef185">executing</a></div><div class="ttdeci">int executing</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00171">shell.c:171</a></div></div>
<div class="ttc" id="ashell_8c_html_a6d7b9e420f5c24c3ba32be77071ee46f"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#a6d7b9e420f5c24c3ba32be77071ee46f">unset_bash_input</a></div><div class="ttdeci">void unset_bash_input(int check_zero)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l01767">shell.c:1767</a></div></div>
<div class="ttc" id="ashell_8c_html_a8cd407122e8280f23456b4942f4b7505"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#a8cd407122e8280f23456b4942f4b7505">sh_exit</a></div><div class="ttdeci">void sh_exit(int s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l01043">shell.c:1043</a></div></div>
<div class="ttc" id="ashell_8c_html_aa723d30e3e46b48868d602c2e489ac4d"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#aa723d30e3e46b48868d602c2e489ac4d">shellstart</a></div><div class="ttdeci">struct timeval shellstart</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00183">shell.c:184</a></div></div>
<div class="ttc" id="ashell_8c_html_ab32b027894484fb3b2aa56a4cc5e2c8a"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#ab32b027894484fb3b2aa56a4cc5e2c8a">subshell_envp</a></div><div class="ttdeci">char ** subshell_envp</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00287">shell.c:287</a></div></div>
<div class="ttc" id="ashell_8c_html_ad7014f00dbb52018fb3c69685ddd2e5e"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#ad7014f00dbb52018fb3c69685ddd2e5e">autocd</a></div><div class="ttdeci">int autocd</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00152">shell.c:152</a></div></div>
<div class="ttc" id="ashell_8c_html_adf5af99c79a4b90c008156a44c7245ca"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#adf5af99c79a4b90c008156a44c7245ca">subshell_argc</a></div><div class="ttdeci">int subshell_argc</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00285">shell.c:285</a></div></div>
<div class="ttc" id="ashell_8c_html_ae2c20c1668999fe88f089ad20436f425"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#ae2c20c1668999fe88f089ad20436f425">interactive_shell</a></div><div class="ttdeci">int interactive_shell</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00142">shell.c:142</a></div></div>
<div class="ttc" id="ashell_8c_html_ae6f95aee4b1dbb3c8e2476efad7dab8a"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#ae6f95aee4b1dbb3c8e2476efad7dab8a">unbind_args</a></div><div class="ttdeci">void unbind_args()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l01532">shell.c:1532</a></div></div>
<div class="ttc" id="ashell_8c_html_ae85600df6e3b2823d986bd95288b7237"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#ae85600df6e3b2823d986bd95288b7237">debugging_mode</a></div><div class="ttdeci">int debugging_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00219">shell.c:219</a></div></div>
<div class="ttc" id="ashell_8c_html_aeb39d5d8ddd4957f1b01720fa0e37e36"><div class="ttname"><a href="../../d6/d4f/shell_8c.html#aeb39d5d8ddd4957f1b01720fa0e37e36">interactive</a></div><div class="ttdeci">int interactive</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/shell_8c_source.html#l00139">shell.c:139</a></div></div>
<div class="ttc" id="ashell_8h_html"><div class="ttname"><a href="../../df/d03/shell_8h.html">shell.h</a></div></div>
<div class="ttc" id="ashell_8h_html_a0d0d1e6c5fceeb4c2e1bec78f879400c"><div class="ttname"><a href="../../df/d03/shell_8h.html#a0d0d1e6c5fceeb4c2e1bec78f879400c">EX_DISKFALLBACK</a></div><div class="ttdeci">#define EX_DISKFALLBACK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00075">shell.h:75</a></div></div>
<div class="ttc" id="ashell_8h_html_a24d155899d8cc037505383c1016dbd65"><div class="ttname"><a href="../../df/d03/shell_8h.html#a24d155899d8cc037505383c1016dbd65">EXECUTION_SUCCESS</a></div><div class="ttdeci">#define EXECUTION_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00053">shell.h:53</a></div></div>
<div class="ttc" id="ashell_8h_html_a28f1365151408dd4179cb4619df72025"><div class="ttname"><a href="../../df/d03/shell_8h.html#a28f1365151408dd4179cb4619df72025">fd_bitmap::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00136">shell.h:136</a></div></div>
<div class="ttc" id="ashell_8h_html_a2c037626b616ec119287148e8a5ddbb5"><div class="ttname"><a href="../../df/d03/shell_8h.html#a2c037626b616ec119287148e8a5ddbb5">EX_NOTFOUND</a></div><div class="ttdeci">#define EX_NOTFOUND</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00066">shell.h:66</a></div></div>
<div class="ttc" id="ashell_8h_html_a2d08a1807d5a362717dc434518e7c7f6"><div class="ttname"><a href="../../df/d03/shell_8h.html#a2d08a1807d5a362717dc434518e7c7f6">fd_bitmap::bitmap</a></div><div class="ttdeci">char * bitmap</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00137">shell.h:137</a></div></div>
<div class="ttc" id="ashell_8h_html_a482a130396fa6607745971d02671555b"><div class="ttname"><a href="../../df/d03/shell_8h.html#a482a130396fa6607745971d02671555b">USE_VAR</a></div><div class="ttdeci">#define USE_VAR(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00161">shell.h:161</a></div></div>
<div class="ttc" id="ashell_8h_html_a5474d60edee7e82e47b35345fa4e8ca2"><div class="ttname"><a href="../../df/d03/shell_8h.html#a5474d60edee7e82e47b35345fa4e8ca2">shell_compatibility_level</a></div><div class="ttdeci">int shell_compatibility_level</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d15/apps_2base_2bash_2version_8c_source.html#l00050">version.c:50</a></div></div>
<div class="ttc" id="ashell_8h_html_a581055db933838f9b6bcc2cff3450345"><div class="ttname"><a href="../../df/d03/shell_8h.html#a581055db933838f9b6bcc2cff3450345">EX_BADUSAGE</a></div><div class="ttdeci">#define EX_BADUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00056">shell.h:56</a></div></div>
<div class="ttc" id="ashell_8h_html_a881b045fcd4a18664d761f33edbcb9c6"><div class="ttname"><a href="../../df/d03/shell_8h.html#a881b045fcd4a18664d761f33edbcb9c6">EX_NOEXEC</a></div><div class="ttdeci">#define EX_NOEXEC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00064">shell.h:64</a></div></div>
<div class="ttc" id="ashell_8h_html_a894d864d355b691f3b4c8c8df3cad826"><div class="ttname"><a href="../../df/d03/shell_8h.html#a894d864d355b691f3b4c8c8df3cad826">EXECUTION_FAILURE</a></div><div class="ttdeci">#define EXECUTION_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00052">shell.h:52</a></div></div>
<div class="ttc" id="ashell_8h_html_a8e200998dc81522671b71d8b0734b9eb"><div class="ttname"><a href="../../df/d03/shell_8h.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a></div><div class="ttdeci">#define CTLESC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00142">shell.h:142</a></div></div>
<div class="ttc" id="ashell_8h_html_a97c266aede99c16cd2c6fec3130fc369"><div class="ttname"><a href="../../df/d03/shell_8h.html#a97c266aede99c16cd2c6fec3130fc369">NO_PIPE</a></div><div class="ttdeci">#define NO_PIPE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00046">shell.h:46</a></div></div>
<div class="ttc" id="ashell_8h_html_aab8ad1731884f4756ae845fcc0f0347b"><div class="ttname"><a href="../../df/d03/shell_8h.html#aab8ad1731884f4756ae845fcc0f0347b">EX_SHERRBASE</a></div><div class="ttdeci">#define EX_SHERRBASE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00068">shell.h:68</a></div></div>
<div class="ttc" id="ashell_8h_html_ab6053e58e13f439d91df3e847ae7de2b"><div class="ttname"><a href="../../df/d03/shell_8h.html#ab6053e58e13f439d91df3e847ae7de2b">REDIRECT_BOTH</a></div><div class="ttdeci">#define REDIRECT_BOTH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00047">shell.h:47</a></div></div>
<div class="ttc" id="ashell_8h_html_ab6a2af45abb08038bc0d3d74e4a74d5c"><div class="ttname"><a href="../../df/d03/shell_8h.html#ab6a2af45abb08038bc0d3d74e4a74d5c">EX_BADSYNTAX</a></div><div class="ttdeci">#define EX_BADSYNTAX</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00070">shell.h:70</a></div></div>
<div class="ttc" id="ashell_8h_html_abbdf9290893d2876419c13b7b28f5d4e"><div class="ttname"><a href="../../df/d03/shell_8h.html#abbdf9290893d2876419c13b7b28f5d4e">EX_USAGE</a></div><div class="ttdeci">#define EX_USAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00071">shell.h:71</a></div></div>
<div class="ttc" id="ashell_8h_html_ac2713610fa40bc775d0c644efa3bfb47"><div class="ttname"><a href="../../df/d03/shell_8h.html#ac2713610fa40bc775d0c644efa3bfb47">EX_BINARY_FILE</a></div><div class="ttdeci">#define EX_BINARY_FILE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00063">shell.h:63</a></div></div>
<div class="ttc" id="ashell_8h_html_ade2cf98ac7865060d8785d0a39fa10d1"><div class="ttname"><a href="../../df/d03/shell_8h.html#ade2cf98ac7865060d8785d0a39fa10d1">EX_REDIRFAIL</a></div><div class="ttdeci">#define EX_REDIRFAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00072">shell.h:72</a></div></div>
<div class="ttc" id="ashell_8h_html_ae076218ef389573d9638383622f87b37"><div class="ttname"><a href="../../df/d03/shell_8h.html#ae076218ef389573d9638383622f87b37">EX_EXPFAIL</a></div><div class="ttdeci">#define EX_EXPFAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00074">shell.h:74</a></div></div>
<div class="ttc" id="ashell_8h_html_af85cc1ed597680c019ea25db77353008"><div class="ttname"><a href="../../df/d03/shell_8h.html#af85cc1ed597680c019ea25db77353008">EX_BADASSIGN</a></div><div class="ttdeci">#define EX_BADASSIGN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00073">shell.h:73</a></div></div>
<div class="ttc" id="ashell_8h_html_de/dee/structfd__bitmap"><div class="ttname"><a href="../../df/d03/shell_8h.html#de/dee/structfd__bitmap">fd_bitmap</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/shell_8h_source.html#l00135">shell.h:135</a></div></div>
<div class="ttc" id="asig_8c_html_a011fc3b4395063b580099bf602135a22"><div class="ttname"><a href="../../da/d12/sig_8c.html#a011fc3b4395063b580099bf602135a22">sigprocmask</a></div><div class="ttdeci">sigprocmask(int operation, int *newset, int *oldset)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d12/sig_8c_source.html#l00762">sig.c:762</a></div></div>
<div class="ttc" id="asig_8c_html_a0c1a46c1b65caedaa01c2823433bd3a8"><div class="ttname"><a href="../../da/d12/sig_8c.html#a0c1a46c1b65caedaa01c2823433bd3a8">throw_to_top_level</a></div><div class="ttdeci">void throw_to_top_level()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d12/sig_8c_source.html#l00401">sig.c:401</a></div></div>
<div class="ttc" id="asig_8c_html_a5829694351a703580df0274633b4a087"><div class="ttname"><a href="../../da/d12/sig_8c.html#a5829694351a703580df0274633b4a087">jump_to_top_level</a></div><div class="ttdeci">void jump_to_top_level(int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d12/sig_8c_source.html#l00476">sig.c:476</a></div></div>
<div class="ttc" id="asig_8c_html_a84a126f6091a8deb8f85ea4b67bb5f63"><div class="ttname"><a href="../../da/d12/sig_8c.html#a84a126f6091a8deb8f85ea4b67bb5f63">reset_terminating_signals</a></div><div class="ttdeci">void reset_terminating_signals()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d12/sig_8c_source.html#l00342">sig.c:342</a></div></div>
<div class="ttc" id="asig_8h_html_a37750b78b7ae75fe02ad26e70f6cc845"><div class="ttname"><a href="../../de/d62/sig_8h.html#a37750b78b7ae75fe02ad26e70f6cc845">SIG_SETMASK</a></div><div class="ttdeci">#define SIG_SETMASK</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d62/sig_8h_source.html#l00059">sig.h:59</a></div></div>
<div class="ttc" id="asig_8h_html_a37d156f6ab7c2ade277f9a274314d258"><div class="ttname"><a href="../../de/d62/sig_8h.html#a37d156f6ab7c2ade277f9a274314d258">BLOCK_CHILD</a></div><div class="ttdeci">#define BLOCK_CHILD(nvar, ovar)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d62/sig_8h_source.html#l00100">sig.h:100</a></div></div>
<div class="ttc" id="asig_8h_html_aa1b2d380dc1779c219bfd7b8b65db57c"><div class="ttname"><a href="../../de/d62/sig_8h.html#aa1b2d380dc1779c219bfd7b8b65db57c">BLOCK_SIGNAL</a></div><div class="ttdeci">#define BLOCK_SIGNAL(sig, nvar, ovar)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d62/sig_8h_source.html#l00086">sig.h:86</a></div></div>
<div class="ttc" id="asig_8h_html_aa9262558d91ca8060065606f36167783"><div class="ttname"><a href="../../de/d62/sig_8h.html#aa9262558d91ca8060065606f36167783">UNBLOCK_CHILD</a></div><div class="ttdeci">#define UNBLOCK_CHILD(ovar)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d62/sig_8h_source.html#l00101">sig.h:101</a></div></div>
<div class="ttc" id="asig_8h_html_ae6ad5d81af3198ab9d90d7dac07150fc"><div class="ttname"><a href="../../de/d62/sig_8h.html#ae6ad5d81af3198ab9d90d7dac07150fc">UNBLOCK_SIGNAL</a></div><div class="ttdeci">#define UNBLOCK_SIGNAL(ovar)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d62/sig_8h_source.html#l00094">sig.h:94</a></div></div>
<div class="ttc" id="asig_8h_html_aefdb4e4f01f2aa4133f26dbabcc8358b"><div class="ttname"><a href="../../de/d62/sig_8h.html#aefdb4e4f01f2aa4133f26dbabcc8358b">set_signal_handler</a></div><div class="ttdeci">#define set_signal_handler(sig, handler)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d62/sig_8h_source.html#l00043">sig.h:43</a></div></div>
<div class="ttc" id="asigset__t_8h_html_a9140a5882f847f67b8155c759ac6aa05"><div class="ttname"><a href="../../d8/d90/sigset__t_8h.html#a9140a5882f847f67b8155c759ac6aa05">sigset_t</a></div><div class="ttdeci">unsigned long sigset_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d90/sigset__t_8h_source.html#l00004">sigset_t.h:4</a></div></div>
<div class="ttc" id="asm__loop_8c_html_aeca4af21addf3ecee5f37bd8f75d1950"><div class="ttname"><a href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a></div><div class="ttdeci">int CHAR * pattern</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd4/sm__loop_8c_source.html#l00040">sm_loop.c:40</a></div></div>
<div class="ttc" id="astart__stop__daemon_8c_html_a51f8aaf013d643e0724e6f7eb8e47c4a"><div class="ttname"><a href="../../dd/d8d/start__stop__daemon_8c.html#a51f8aaf013d643e0724e6f7eb8e47c4a">execname</a></div><div class="ttdeci">#define execname</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d8d/start__stop__daemon_8c_source.html#l00167">start_stop_daemon.c:167</a></div></div>
<div class="ttc" id="astringlib_8c_html_a5e3a8603eefdb8820db8fc609f7a6a9d"><div class="ttname"><a href="../../d1/d8f/stringlib_8c.html#a5e3a8603eefdb8820db8fc609f7a6a9d">substring</a></div><div class="ttdeci">char * substring(char *string, int start, int end) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/stringlib_8c_source.html#l00127">stringlib.c:127</a></div></div>
<div class="ttc" id="astringlib_8c_html_aa5e7893a4ac249adea1c687a3318ab61"><div class="ttname"><a href="../../d1/d8f/stringlib_8c.html#aa5e7893a4ac249adea1c687a3318ab61">xbcopy</a></div><div class="ttdeci">void xbcopy(char *s, char *d, int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/stringlib_8c_source.html#l00290">stringlib.c:290</a></div></div>
<div class="ttc" id="astringvec_8c_html_a8bf3763045513d74b1fc024f932ca0f4"><div class="ttname"><a href="../../da/d23/stringvec_8c.html#a8bf3763045513d74b1fc024f932ca0f4">strvec_from_word_list</a></div><div class="ttdeci">char ** strvec_from_word_list(WORD_LIST *list, int alloc, int starting_index, int *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/stringvec_8c_source.html#l00220">stringvec.c:220</a></div></div>
<div class="ttc" id="astringvec_8c_html_ac466714f61666a8f0858700c7482405b"><div class="ttname"><a href="../../da/d23/stringvec_8c.html#ac466714f61666a8f0858700c7482405b">strvec_len</a></div><div class="ttdeci">int strvec_len(char **array)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/stringvec_8c_source.html#l00069">stringvec.c:69</a></div></div>
<div class="ttc" id="astringvec_8c_html_af21b7cbd459b016b99dd4f9c23dcb124"><div class="ttname"><a href="../../da/d23/stringvec_8c.html#af21b7cbd459b016b99dd4f9c23dcb124">strvec_resize</a></div><div class="ttdeci">char ** strvec_resize(char **array, int nsize)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/stringvec_8c_source.html#l00052">stringvec.c:52</a></div></div>
<div class="ttc" id="astrmatch_8c_html_a09db3e314dd4403002d15654e78b32f1"><div class="ttname"><a href="../../d2/dfa/strmatch_8c.html#a09db3e314dd4403002d15654e78b32f1">strmatch</a></div><div class="ttdeci">int strmatch(char *pattern, char *string, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dfa/strmatch_8c_source.html#l00033">strmatch.c:33</a></div></div>
<div class="ttc" id="astrmatch_8h_html"><div class="ttname"><a href="../../d8/da2/strmatch_8h.html">strmatch.h</a></div></div>
<div class="ttc" id="astrmatch_8h_html_af2661230e0cfc9970d6cdbe01571e753"><div class="ttname"><a href="../../d8/da2/strmatch_8h.html#af2661230e0cfc9970d6cdbe01571e753">FNM_NOMATCH</a></div><div class="ttdeci">#define FNM_NOMATCH</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da2/strmatch_8h_source.html#l00055">strmatch.h:55</a></div></div>
<div class="ttc" id="astructop_html"><div class="ttname"><a href="../../d5/df6/structop.html">op</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dae/dc_8c_source.html#l00193">dc.c:193</a></div></div>
<div class="ttc" id="asubst_8c_html_a0e8088ce3cf7d024b3f111d3c0ef943b"><div class="ttname"><a href="../../d1/d93/subst_8c.html#a0e8088ce3cf7d024b3f111d3c0ef943b">expand_arith_string</a></div><div class="ttdeci">char * expand_arith_string(char *string, int quoted)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d93/subst_8c_source.html#l04019">subst.c:4019</a></div></div>
<div class="ttc" id="asubst_8c_html_a130210486b483534f59be0918b3e5d30"><div class="ttname"><a href="../../d1/d93/subst_8c.html#a130210486b483534f59be0918b3e5d30">expand_words_no_vars</a></div><div class="ttdeci">WORD_LIST * expand_words_no_vars(WORD_LIST *list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d93/subst_8c_source.html#l12286">subst.c:12286</a></div></div>
<div class="ttc" id="asubst_8c_html_a450ec566c0f8334a85dabc00c23e7621"><div class="ttname"><a href="../../d1/d93/subst_8c.html#a450ec566c0f8334a85dabc00c23e7621">last_command_subst_pid</a></div><div class="ttdeci">pid_t last_command_subst_pid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d93/subst_8c_source.html#l00150">subst.c:150</a></div></div>
<div class="ttc" id="asubst_8c_html_a482b1d3c9d0dd9e98ce8decab2e26f5a"><div class="ttname"><a href="../../d1/d93/subst_8c.html#a482b1d3c9d0dd9e98ce8decab2e26f5a">string_list</a></div><div class="ttdeci">char * string_list(WORD_LIST *list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d93/subst_8c_source.html#l02855">subst.c:2855</a></div></div>
<div class="ttc" id="asubst_8c_html_a7bc2d76522c909ae9e0a92cc42c45ad0"><div class="ttname"><a href="../../d1/d93/subst_8c.html#a7bc2d76522c909ae9e0a92cc42c45ad0">expand_string_unsplit_to_string</a></div><div class="ttdeci">char * expand_string_unsplit_to_string(char *string, int quoted)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d93/subst_8c_source.html#l03905">subst.c:3905</a></div></div>
<div class="ttc" id="asubst_8c_html_a97f75bd5c2334ea49a67740e60fb6225"><div class="ttname"><a href="../../d1/d93/subst_8c.html#a97f75bd5c2334ea49a67740e60fb6225">dequote_string</a></div><div class="ttdeci">char * dequote_string(char *string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d93/subst_8c_source.html#l04878">subst.c:4878</a></div></div>
<div class="ttc" id="asubst_8c_html_aa5d15dea324ad5b97d8a7b6a6c3f2fad"><div class="ttname"><a href="../../d1/d93/subst_8c.html#aa5d15dea324ad5b97d8a7b6a6c3f2fad">expand_word_leave_quoted</a></div><div class="ttdeci">WORD_LIST * expand_word_leave_quoted(WORD_DESC *word, int quoted)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d93/subst_8c_source.html#l04641">subst.c:4641</a></div></div>
<div class="ttc" id="asubst_8c_html_aa65d5caeaea1a9f10c780cb70681983c"><div class="ttname"><a href="../../d1/d93/subst_8c.html#aa65d5caeaea1a9f10c780cb70681983c">setifs</a></div><div class="ttdeci">void setifs(SHELL_VAR *v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d93/subst_8c_source.html#l12006">subst.c:12006</a></div></div>
<div class="ttc" id="asubst_8c_html_adf7c6136b62b017b9ccee79d90b68804"><div class="ttname"><a href="../../d1/d93/subst_8c.html#adf7c6136b62b017b9ccee79d90b68804">dequote_escapes</a></div><div class="ttdeci">char * dequote_escapes(char *string) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d93/subst_8c_source.html#l04760">subst.c:4760</a></div></div>
<div class="ttc" id="asubst_8c_html_af0a70d70f561d8c704b84085d43ada96"><div class="ttname"><a href="../../d1/d93/subst_8c.html#af0a70d70f561d8c704b84085d43ada96">expand_words</a></div><div class="ttdeci">WORD_LIST * expand_words(WORD_LIST *list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d93/subst_8c_source.html#l12277">subst.c:12277</a></div></div>
<div class="ttc" id="asubst_8h_html_a2c84cd503baac29b30634633e1f65e7b"><div class="ttname"><a href="../../d7/d72/subst_8h.html#a2c84cd503baac29b30634633e1f65e7b">Q_DOUBLE_QUOTES</a></div><div class="ttdeci">#define Q_DOUBLE_QUOTES</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d72/subst_8h_source.html#l00035">subst.h:35</a></div></div>
<div class="ttc" id="asubst_8h_html_a44d3ce43908d48fe708ab123b9e09f23"><div class="ttname"><a href="../../d7/d72/subst_8h.html#a44d3ce43908d48fe708ab123b9e09f23">ASS_NAMEREF</a></div><div class="ttdeci">#define ASS_NAMEREF</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d72/subst_8h_source.html#l00051">subst.h:51</a></div></div>
<div class="ttc" id="asubst_8h_html_af9d8627baf4e4dffb49a5cb6143ca289"><div class="ttname"><a href="../../d7/d72/subst_8h.html#af9d8627baf4e4dffb49a5cb6143ca289">Q_ARITH</a></div><div class="ttdeci">#define Q_ARITH</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d72/subst_8h_source.html#l00043">subst.h:43</a></div></div>
<div class="ttc" id="atest_8h_html"><div class="ttname"><a href="../../d2/ddc/test_8h.html">test.h</a></div></div>
<div class="ttc" id="atest_8h_html_a0ce17c6c13d4c05821024560ea3fef57"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0ce17c6c13d4c05821024560ea3fef57">TEST_LOCALE</a></div><div class="ttdeci">#define TEST_LOCALE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00029">test.h:29</a></div></div>
<div class="ttc" id="atest_8h_html_a4c4123012bf73dd7a751fd7797a201ff"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a4c4123012bf73dd7a751fd7797a201ff">TEST_ARITHEXP</a></div><div class="ttdeci">#define TEST_ARITHEXP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00028">test.h:28</a></div></div>
<div class="ttc" id="atest_8h_html_a79a5e11ab00b1746682b3b55be5ad363"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a79a5e11ab00b1746682b3b55be5ad363">TEST_ARRAYEXP</a></div><div class="ttdeci">#define TEST_ARRAYEXP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00030">test.h:30</a></div></div>
<div class="ttc" id="atest_8h_html_ab56d7d470b8bde019ecf430d6bbec7c3"><div class="ttname"><a href="../../d2/ddc/test_8h.html#ab56d7d470b8bde019ecf430d6bbec7c3">TEST_PATMATCH</a></div><div class="ttdeci">#define TEST_PATMATCH</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00027">test.h:27</a></div></div>
<div class="ttc" id="atgmath_8h_html_afd8bf2ee8004f952446a6df0cbec3dc4"><div class="ttname"><a href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a></div><div class="ttdeci">#define exp(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d10/tgmath_8h_source.html#l00228">tgmath.h:228</a></div></div>
<div class="ttc" id="atilde_2tilde_8h_html"><div class="ttname"><a href="../../d4/d29/tilde_2tilde_8h.html">tilde.h</a></div></div>
<div class="ttc" id="atimes_8h_html"><div class="ttname"><a href="../../d3/d15/times_8h.html">times.h</a></div></div>
<div class="ttc" id="atimes_8h_html_d8/d15/structtms"><div class="ttname"><a href="../../d3/d15/times_8h.html#d8/d15/structtms">tms</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5b/systimes_8h_source.html#l00038">systimes.h:39</a></div></div>
<div class="ttc" id="atls__aesgcm_8c_html_a1cb503ddd20ff3cf9588d2b5abd202d8"><div class="ttname"><a href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a></div><div class="ttdeci">#define l</div></div>
<div class="ttc" id="atrap_8c_html_a150676789ae5bc899d58719bc809034c"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#a150676789ae5bc899d58719bc809034c">clear_pending_traps</a></div><div class="ttdeci">void clear_pending_traps()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l00608">trap.c:608</a></div></div>
<div class="ttc" id="atrap_8c_html_a166504ddbc13624fc0c82ae1637e3356"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#a166504ddbc13624fc0c82ae1637e3356">get_original_signal</a></div><div class="ttdeci">void get_original_signal(int sig)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l00868">trap.c:868</a></div></div>
<div class="ttc" id="atrap_8c_html_a31c5025854c1099ad5d12e60f252ac88"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#a31c5025854c1099ad5d12e60f252ac88">run_return_trap</a></div><div class="ttdeci">void run_return_trap()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l01246">trap.c:1246</a></div></div>
<div class="ttc" id="atrap_8c_html_a4c3a29981c2f2eab0948f6306c295748"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#a4c3a29981c2f2eab0948f6306c295748">set_error_trap</a></div><div class="ttdeci">void set_error_trap(char *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l00716">trap.c:716</a></div></div>
<div class="ttc" id="atrap_8c_html_a5b6e77e95dce419687185edce1da8593"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#a5b6e77e95dce419687185edce1da8593">run_exit_trap</a></div><div class="ttdeci">int run_exit_trap()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l00974">trap.c:974</a></div></div>
<div class="ttc" id="atrap_8c_html_a70e4df5dce5f6815e43a0b7e28b4a3ec"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#a70e4df5dce5f6815e43a0b7e28b4a3ec">maybe_set_debug_trap</a></div><div class="ttdeci">void maybe_set_debug_trap(char *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l00709">trap.c:709</a></div></div>
<div class="ttc" id="atrap_8c_html_a85203bc0e3b2380073e79a6055a3c672"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#a85203bc0e3b2380073e79a6055a3c672">set_sigint_handler</a></div><div class="ttdeci">SigHandler * set_sigint_handler()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l00756">trap.c:756</a></div></div>
<div class="ttc" id="atrap_8c_html_a8c1f1ec015972e46c6c8eb41c2c79453"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#a8c1f1ec015972e46c6c8eb41c2c79453">maybe_set_error_trap</a></div><div class="ttdeci">void maybe_set_error_trap(char *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l00723">trap.c:723</a></div></div>
<div class="ttc" id="atrap_8c_html_a94ef9371ba9dab4c56033f7acd7077e8"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#a94ef9371ba9dab4c56033f7acd7077e8">signal_is_ignored</a></div><div class="ttdeci">int signal_is_ignored(int sig)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l01524">trap.c:1524</a></div></div>
<div class="ttc" id="atrap_8c_html_a9b6de60b5394cd9997c12ffa402bdb76"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#a9b6de60b5394cd9997c12ffa402bdb76">running_trap</a></div><div class="ttdeci">int running_trap</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l00114">trap.c:114</a></div></div>
<div class="ttc" id="atrap_8c_html_a9cb464e0fb2e6dfae6b9cd2fc41b9da0"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#a9cb464e0fb2e6dfae6b9cd2fc41b9da0">reset_signal_handlers</a></div><div class="ttdeci">void reset_signal_handlers()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l01384">trap.c:1384</a></div></div>
<div class="ttc" id="atrap_8c_html_a9e39ec891a0c6881c7786118a043db20"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#a9e39ec891a0c6881c7786118a043db20">run_trap_cleanup</a></div><div class="ttdeci">void run_trap_cleanup(int sig)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l01036">trap.c:1036</a></div></div>
<div class="ttc" id="atrap_8c_html_aa2883c7f85b16bd276c8552803b36cd4"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#aa2883c7f85b16bd276c8552803b36cd4">run_error_trap</a></div><div class="ttdeci">void run_error_trap()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l01239">trap.c:1239</a></div></div>
<div class="ttc" id="atrap_8c_html_ab3585b649c1f746ad83b78edef0a9819"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#ab3585b649c1f746ad83b78edef0a9819">signal_in_progress</a></div><div class="ttdeci">int signal_in_progress(int sig)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l01553">trap.c:1553</a></div></div>
<div class="ttc" id="atrap_8c_html_ab8bb6fd090c7225c52e20fe8356be227"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#ab8bb6fd090c7225c52e20fe8356be227">maybe_set_return_trap</a></div><div class="ttdeci">void maybe_set_return_trap(char *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l00737">trap.c:737</a></div></div>
<div class="ttc" id="atrap_8c_html_abe331a35aaca19e5cb592bb962890314"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#abe331a35aaca19e5cb592bb962890314">run_pending_traps</a></div><div class="ttdeci">void run_pending_traps()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l00297">trap.c:297</a></div></div>
<div class="ttc" id="atrap_8c_html_abf146dcf390dea0243465ed221b7df16"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#abf146dcf390dea0243465ed221b7df16">restore_original_signals</a></div><div class="ttdeci">void restore_original_signals()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l01393">trap.c:1393</a></div></div>
<div class="ttc" id="atrap_8c_html_ae555f00c5fd27a5c1ef5fee58b206f59"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#ae555f00c5fd27a5c1ef5fee58b206f59">restore_default_signal</a></div><div class="ttdeci">void restore_default_signal(int sig)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l00899">trap.c:899</a></div></div>
<div class="ttc" id="atrap_8c_html_afb3fc32343f5cb0e5fc204874ce470f1"><div class="ttname"><a href="../../dc/d6f/trap_8c.html#afb3fc32343f5cb0e5fc204874ce470f1">run_debug_trap</a></div><div class="ttdeci">int run_debug_trap()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l01183">trap.c:1183</a></div></div>
<div class="ttc" id="atrap_8h_html"><div class="ttname"><a href="../../d7/d0b/trap_8h.html">trap.h</a></div></div>
<div class="ttc" id="atrap_8h_html_a0d0b0f81241e85b47963a2ee29583ddf"><div class="ttname"><a href="../../d7/d0b/trap_8h.html#a0d0b0f81241e85b47963a2ee29583ddf">TRAP_STRING</a></div><div class="ttdeci">#define TRAP_STRING(s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0b/trap_8h_source.html#l00057">trap.h:57</a></div></div>
<div class="ttc" id="atrap_8h_html_a363dd9da1a4f1f5a403be1dd2ba7a0cc"><div class="ttname"><a href="../../d7/d0b/trap_8h.html#a363dd9da1a4f1f5a403be1dd2ba7a0cc">DEBUG_TRAP</a></div><div class="ttdeci">#define DEBUG_TRAP</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0b/trap_8h_source.html#l00040">trap.h:40</a></div></div>
<div class="ttc" id="atrap_8h_html_a4c9dac40f27e5191e6127c7eb3402ed5"><div class="ttname"><a href="../../d7/d0b/trap_8h.html#a4c9dac40f27e5191e6127c7eb3402ed5">RETURN_TRAP</a></div><div class="ttdeci">#define RETURN_TRAP</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0b/trap_8h_source.html#l00042">trap.h:42</a></div></div>
<div class="ttc" id="atrap_8h_html_a7a11532da317c426faef77179c06521b"><div class="ttname"><a href="../../d7/d0b/trap_8h.html#a7a11532da317c426faef77179c06521b">ERROR_TRAP</a></div><div class="ttdeci">#define ERROR_TRAP</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0b/trap_8h_source.html#l00041">trap.h:41</a></div></div>
<div class="ttc" id="atrap_8h_html_ace357696ec02738ea7a2c4f43c453910"><div class="ttname"><a href="../../d7/d0b/trap_8h.html#ace357696ec02738ea7a2c4f43c453910">EXIT_TRAP</a></div><div class="ttdeci">#define EXIT_TRAP</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0b/trap_8h_source.html#l00043">trap.h:43</a></div></div>
<div class="ttc" id="atre_8h_html_a2c3897f7c46ca54a2e0dd7b24a40c7cb"><div class="ttname"><a href="../../db/d0a/tre_8h.html#a2c3897f7c46ca54a2e0dd7b24a40c7cb">xfree</a></div><div class="ttdeci">#define xfree</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0a/tre_8h_source.html#l00229">tre.h:229</a></div></div>
<div class="ttc" id="atre_8h_html_a40740062faf2d95d4935112447c464ef"><div class="ttname"><a href="../../db/d0a/tre_8h.html#a40740062faf2d95d4935112447c464ef">xrealloc</a></div><div class="ttdeci">#define xrealloc</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0a/tre_8h_source.html#l00230">tre.h:230</a></div></div>
<div class="ttc" id="atre_8h_html_a6af5faec3f9662b20ffc9903f923dec0"><div class="ttname"><a href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a></div><div class="ttdeci">#define xmalloc</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0a/tre_8h_source.html#l00227">tre.h:227</a></div></div>
<div class="ttc" id="atsearch_8h_html_aa3e8aa83f864292b5a01210f4453fcc0"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#aa3e8aa83f864292b5a01210f4453fcc0">node::next</a></div><div class="ttdeci">struct node * next</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d83/insque_8c_source.html#l00004">insque.c:4</a></div></div>
<div class="ttc" id="auevent_8c_html_af973ca20f6594ad664c03daa83867128"><div class="ttname"><a href="../../d9/d4a/uevent_8c.html#af973ca20f6594ad664c03daa83867128">env</a></div><div class="ttdeci">#define env</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/uevent_8c_source.html#l00029">uevent.c:29</a></div></div>
<div class="ttc" id="aunwind__prot_8c_html_a0634c88afd6862533b1a4ea67dc6d0d8"><div class="ttname"><a href="../../d7/d7d/unwind__prot_8c.html#a0634c88afd6862533b1a4ea67dc6d0d8">begin_unwind_frame</a></div><div class="ttdeci">void begin_unwind_frame(char *tag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7d/unwind__prot_8c_source.html#l00123">unwind_prot.c:123</a></div></div>
<div class="ttc" id="aunwind__prot_8c_html_a06b424bcde098157f62db7584be13c99"><div class="ttname"><a href="../../d7/d7d/unwind__prot_8c.html#a06b424bcde098157f62db7584be13c99">unwind_protect_tag_on_stack</a></div><div class="ttdeci">int unwind_protect_tag_on_stack(char *tag) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7d/unwind__prot_8c_source.html#l00196">unwind_prot.c:196</a></div></div>
<div class="ttc" id="aunwind__prot_8c_html_a38ec5f32e8267900c897189a08e79201"><div class="ttname"><a href="../../d7/d7d/unwind__prot_8c.html#a38ec5f32e8267900c897189a08e79201">clear_unwind_protect_list</a></div><div class="ttdeci">void clear_unwind_protect_list(int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7d/unwind__prot_8c_source.html#l00176">unwind_prot.c:176</a></div></div>
<div class="ttc" id="aunwind__prot_8c_html_a4d4c2515b10c89841ca0ad9fb9577694"><div class="ttname"><a href="../../d7/d7d/unwind__prot_8c.html#a4d4c2515b10c89841ca0ad9fb9577694">add_unwind_protect</a></div><div class="ttdeci">void add_unwind_protect(Function *cleanup, char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7d/unwind__prot_8c_source.html#l00149">unwind_prot.c:149</a></div></div>
<div class="ttc" id="aunwind__prot_8c_html_a6920dbbc57b643f9a10566dd61b62a30"><div class="ttname"><a href="../../d7/d7d/unwind__prot_8c.html#a6920dbbc57b643f9a10566dd61b62a30">discard_unwind_frame</a></div><div class="ttdeci">void discard_unwind_frame(char *tag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7d/unwind__prot_8c_source.html#l00131">unwind_prot.c:131</a></div></div>
<div class="ttc" id="aunwind__prot_8c_html_a951deebec0eab9fc9b0252296b96084a"><div class="ttname"><a href="../../d7/d7d/unwind__prot_8c.html#a951deebec0eab9fc9b0252296b96084a">run_unwind_frame</a></div><div class="ttdeci">void run_unwind_frame(char *tag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7d/unwind__prot_8c_source.html#l00140">unwind_prot.c:140</a></div></div>
<div class="ttc" id="aunwind__prot_8h_html_a327f2034e54d38bf7e62a7ac9cad6c9c"><div class="ttname"><a href="../../d1/dca/unwind__prot_8h.html#a327f2034e54d38bf7e62a7ac9cad6c9c">unwind_protect_pointer</a></div><div class="ttdeci">#define unwind_protect_pointer</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/unwind__prot_8h_source.html#l00049">unwind_prot.h:49</a></div></div>
<div class="ttc" id="aunwind__prot_8h_html_a8c0f49740777f3b5944398c2a2a7d4fb"><div class="ttname"><a href="../../d1/dca/unwind__prot_8h.html#a8c0f49740777f3b5944398c2a2a7d4fb">unwind_protect_jmp_buf</a></div><div class="ttdeci">#define unwind_protect_jmp_buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/unwind__prot_8h_source.html#l00050">unwind_prot.h:50</a></div></div>
<div class="ttc" id="aunwind__prot_8h_html_ae70d75ddd15368bde55398b7897111c4"><div class="ttname"><a href="../../d1/dca/unwind__prot_8h.html#ae70d75ddd15368bde55398b7897111c4">unwind_protect_int</a></div><div class="ttdeci">#define unwind_protect_int</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dca/unwind__prot_8h_source.html#l00046">unwind_prot.h:46</a></div></div>
<div class="ttc" id="avariables_8c_html_a05dbab28287bfffae1f681dbd2ae65ab"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a05dbab28287bfffae1f681dbd2ae65ab">unbind_variable</a></div><div class="ttdeci">int unbind_variable(char *name) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l03806">variables.c:3806</a></div></div>
<div class="ttc" id="avariables_8c_html_a0bdef493f28c94bd031eac97c2b61a63"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a0bdef493f28c94bd031eac97c2b61a63">find_function</a></div><div class="ttdeci">SHELL_VAR * find_function(char *name) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l02487">variables.c:2487</a></div></div>
<div class="ttc" id="avariables_8c_html_a0e32ae2b68de94bc9584af75572e3a77"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a0e32ae2b68de94bc9584af75572e3a77">shell_variables</a></div><div class="ttdeci">VAR_CONTEXT * shell_variables</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l00122">variables.c:122</a></div></div>
<div class="ttc" id="avariables_8c_html_a124a4716ebb0ec1580888f495c517eb6"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a124a4716ebb0ec1580888f495c517eb6">init_bash_argv</a></div><div class="ttdeci">void init_bash_argv()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l05715">variables.c:5715</a></div></div>
<div class="ttc" id="avariables_8c_html_a1b65c3c68ffabbf9bbb09cb5e02e0ec6"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a1b65c3c68ffabbf9bbb09cb5e02e0ec6">bind_function</a></div><div class="ttdeci">SHELL_VAR * bind_function(char *name, COMMAND *value) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l03508">variables.c:3508</a></div></div>
<div class="ttc" id="avariables_8c_html_a1db58ca40bd7a87c8eb709dbfda61cfc"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a1db58ca40bd7a87c8eb709dbfda61cfc">put_command_name_into_env</a></div><div class="ttdeci">void put_command_name_into_env(char *command_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l05205">variables.c:5205</a></div></div>
<div class="ttc" id="avariables_8c_html_a250bc78dea0886230a2e134c73d94860"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a250bc78dea0886230a2e134c73d94860">tempenv_assign_error</a></div><div class="ttdeci">int tempenv_assign_error</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l00155">variables.c:155</a></div></div>
<div class="ttc" id="avariables_8c_html_a25bf35a75033fb9292aacc210e81a1f6"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a25bf35a75033fb9292aacc210e81a1f6">bind_variable_value</a></div><div class="ttdeci">SHELL_VAR * bind_variable_value(SHELL_VAR *var, char *value, int aflags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l03359">variables.c:3359</a></div></div>
<div class="ttc" id="avariables_8c_html_a28be30e675dc6d3ed7f0d4e7efe7cdc3"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a28be30e675dc6d3ed7f0d4e7efe7cdc3">find_variable_last_nameref</a></div><div class="ttdeci">SHELL_VAR * find_variable_last_nameref(char *name, int vflags) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l02117">variables.c:2117</a></div></div>
<div class="ttc" id="avariables_8c_html_a32ba7dd6e9a263744c6b71e8c1b80be5"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a32ba7dd6e9a263744c6b71e8c1b80be5">adjust_shell_level</a></div><div class="ttdeci">void adjust_shell_level(int change)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l00851">variables.c:851</a></div></div>
<div class="ttc" id="avariables_8c_html_a33de59230c4aca0a85f83023c6e95093"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a33de59230c4aca0a85f83023c6e95093">find_variable_nameref_for_create</a></div><div class="ttdeci">SHELL_VAR * find_variable_nameref_for_create(char *name, int flags) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l02260">variables.c:2260</a></div></div>
<div class="ttc" id="avariables_8c_html_a444bc242bac965d54ef1acd50f0e35a8"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a444bc242bac965d54ef1acd50f0e35a8">push_context</a></div><div class="ttdeci">void push_context(char *name, int is_subshell, HASH_TABLE *tempvars)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l05630">variables.c:5630</a></div></div>
<div class="ttc" id="avariables_8c_html_a49df372cd829eb64481af2cdd833b41e"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a49df372cd829eb64481af2cdd833b41e">merge_temporary_env</a></div><div class="ttdeci">void merge_temporary_env()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l04721">variables.c:4721</a></div></div>
<div class="ttc" id="avariables_8c_html_a513b24f1ec6fa6be96bf74288d604b72"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a513b24f1ec6fa6be96bf74288d604b72">stupidly_hack_special_variables</a></div><div class="ttdeci">void stupidly_hack_special_variables(char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l05926">variables.c:5926</a></div></div>
<div class="ttc" id="avariables_8c_html_a55b4378b40fe00a9a40c01ec2ead1e50"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a55b4378b40fe00a9a40c01ec2ead1e50">temporary_env</a></div><div class="ttdeci">HASH_TABLE * temporary_env</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l00151">variables.c:151</a></div></div>
<div class="ttc" id="avariables_8c_html_a5ad89fcb2c09a8f7b1efbe13d4c16e19"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a5ad89fcb2c09a8f7b1efbe13d4c16e19">push_scope</a></div><div class="ttdeci">VAR_CONTEXT * push_scope(int flags, HASH_TABLE *tmpvars)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l05473">variables.c:5473</a></div></div>
<div class="ttc" id="avariables_8c_html_a713284c5f480f3e48319c5cb6323926f"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a713284c5f480f3e48319c5cb6323926f">bind_variable</a></div><div class="ttdeci">SHELL_VAR * bind_variable(char *name, char *value, int flags) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l03256">variables.c:3256</a></div></div>
<div class="ttc" id="avariables_8c_html_a71ad74288dcf0b9ff5f6c853ba9dd44c"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a71ad74288dcf0b9ff5f6c853ba9dd44c">unbind_variable_noref</a></div><div class="ttdeci">int unbind_variable_noref(char *name) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l03834">variables.c:3834</a></div></div>
<div class="ttc" id="avariables_8c_html_a71ef1e64411b94bbcc6282bd03ff5431"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a71ef1e64411b94bbcc6282bd03ff5431">dispose_variable</a></div><div class="ttdeci">void dispose_variable(SHELL_VAR *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l03784">variables.c:3784</a></div></div>
<div class="ttc" id="avariables_8c_html_a77922b31ffead6b4a30cbeba7cb77081"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a77922b31ffead6b4a30cbeba7cb77081">push_args</a></div><div class="ttdeci">void push_args(WORD_LIST *list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l05737">variables.c:5737</a></div></div>
<div class="ttc" id="avariables_8c_html_a8c7ca3cbd0f313cfa80dfe6b61fdb610"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a8c7ca3cbd0f313cfa80dfe6b61fdb610">check_unbind_variable</a></div><div class="ttdeci">int check_unbind_variable(char *name) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l03874">variables.c:3874</a></div></div>
<div class="ttc" id="avariables_8c_html_a97e25ab9e980d739e27a8ba6584cb452"><div class="ttname"><a href="../../d5/de8/variables_8c.html#a97e25ab9e980d739e27a8ba6584cb452">find_function_def</a></div><div class="ttdeci">FUNCTION_DEF * find_function_def(char *name) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l02496">variables.c:2496</a></div></div>
<div class="ttc" id="avariables_8c_html_aa2f66045758ae44b35f9a493554860aa"><div class="ttname"><a href="../../d5/de8/variables_8c.html#aa2f66045758ae44b35f9a493554860aa">dispose_used_env_vars</a></div><div class="ttdeci">void dispose_used_env_vars()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l04706">variables.c:4706</a></div></div>
<div class="ttc" id="avariables_8c_html_aba8df3eeae83c8b121cc29a8984dfcdc"><div class="ttname"><a href="../../d5/de8/variables_8c.html#aba8df3eeae83c8b121cc29a8984dfcdc">find_variable</a></div><div class="ttdeci">SHELL_VAR * find_variable(char *name) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l02415">variables.c:2415</a></div></div>
<div class="ttc" id="avariables_8c_html_abaf2261f7f3bb68f3cd41569afc050d0"><div class="ttname"><a href="../../d5/de8/variables_8c.html#abaf2261f7f3bb68f3cd41569afc050d0">set_pipestatus_from_exit</a></div><div class="ttdeci">void set_pipestatus_from_exit(int s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l06478">variables.c:6478</a></div></div>
<div class="ttc" id="avariables_8c_html_abff3bc53bcf2d94b4826999c863d8701"><div class="ttname"><a href="../../d5/de8/variables_8c.html#abff3bc53bcf2d94b4826999c863d8701">maybe_make_export_env</a></div><div class="ttdeci">void maybe_make_export_env()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l05109">variables.c:5109</a></div></div>
<div class="ttc" id="avariables_8c_html_ac4ff79a9d4fbf31e9537e862e67c2506"><div class="ttname"><a href="../../d5/de8/variables_8c.html#ac4ff79a9d4fbf31e9537e862e67c2506">variable_context</a></div><div class="ttdeci">int variable_context</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l00138">variables.c:138</a></div></div>
<div class="ttc" id="avariables_8c_html_acaa213e334b066dd3a6d0a5fa894f4a1"><div class="ttname"><a href="../../d5/de8/variables_8c.html#acaa213e334b066dd3a6d0a5fa894f4a1">pop_context</a></div><div class="ttdeci">void pop_context()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l05644">variables.c:5644</a></div></div>
<div class="ttc" id="avariables_8c_html_acd8c077900840bb168559402a5a01c55"><div class="ttname"><a href="../../d5/de8/variables_8c.html#acd8c077900840bb168559402a5a01c55">make_funcname_visible</a></div><div class="ttdeci">void make_funcname_visible(int on_or_off)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l01870">variables.c:1870</a></div></div>
<div class="ttc" id="avariables_8c_html_ad4773a87954c85e830411739af9bf4ff"><div class="ttname"><a href="../../d5/de8/variables_8c.html#ad4773a87954c85e830411739af9bf4ff">get_string_value</a></div><div class="ttdeci">char * get_string_value(char *var_name) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l02530">variables.c:2530</a></div></div>
<div class="ttc" id="avariables_8c_html_af663cdd8588a2280bdc7941f12990f04"><div class="ttname"><a href="../../d5/de8/variables_8c.html#af663cdd8588a2280bdc7941f12990f04">pop_args</a></div><div class="ttdeci">void pop_args()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l05763">variables.c:5763</a></div></div>
<div class="ttc" id="avariables_8c_html_afedf57d70f43bfde607ad02b6365f85c"><div class="ttname"><a href="../../d5/de8/variables_8c.html#afedf57d70f43bfde607ad02b6365f85c">pop_scope</a></div><div class="ttdeci">void pop_scope(int is_special)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/variables_8c_source.html#l05516">variables.c:5516</a></div></div>
<div class="ttc" id="avariables_8h_html_a053c4fedf7c1520b173476d31f44886e"><div class="ttname"><a href="../../de/dca/variables_8h.html#a053c4fedf7c1520b173476d31f44886e">function_cell</a></div><div class="ttdeci">#define function_cell(var)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00167">variables.h:167</a></div></div>
<div class="ttc" id="avariables_8h_html_a167d17822c6da7d98f9c9fcab7db9c3d"><div class="ttname"><a href="../../de/dca/variables_8h.html#a167d17822c6da7d98f9c9fcab7db9c3d">vc_isbltnenv</a></div><div class="ttdeci">#define vc_isbltnenv(vc)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00054">variables.h:54</a></div></div>
<div class="ttc" id="avariables_8h_html_a36dc300692872a62e6c1a0c54a0b0490"><div class="ttname"><a href="../../de/dca/variables_8h.html#a36dc300692872a62e6c1a0c54a0b0490">att_exported</a></div><div class="ttdeci">#define att_exported</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00104">variables.h:104</a></div></div>
<div class="ttc" id="avariables_8h_html_a43b89ff0092985bf3e78fc705a3d25e0"><div class="ttname"><a href="../../de/dca/variables_8h.html#a43b89ff0092985bf3e78fc705a3d25e0">nameref_p</a></div><div class="ttdeci">#define nameref_p(var)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00149">variables.h:149</a></div></div>
<div class="ttc" id="avariables_8h_html_a49d3d21b5f7c3dd29eee4a62b70daea7"><div class="ttname"><a href="../../de/dca/variables_8h.html#a49d3d21b5f7c3dd29eee4a62b70daea7">VC_BLTNENV</a></div><div class="ttdeci">#define VC_BLTNENV</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00047">variables.h:47</a></div></div>
<div class="ttc" id="avariables_8h_html_a716e26d6d59095d606e0d04b4dc59afc"><div class="ttname"><a href="../../de/dca/variables_8h.html#a716e26d6d59095d606e0d04b4dc59afc">trace_p</a></div><div class="ttdeci">#define trace_p(var)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00145">variables.h:145</a></div></div>
<div class="ttc" id="avariables_8h_html_a7ce20d7bc63368069c76083a48c4f1df"><div class="ttname"><a href="../../de/dca/variables_8h.html#a7ce20d7bc63368069c76083a48c4f1df">VUNSETATTR</a></div><div class="ttdeci">#define VUNSETATTR(var, attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00194">variables.h:194</a></div></div>
<div class="ttc" id="avariables_8h_html_a967149d83c7cf0dfc245dc9e587b5b05"><div class="ttname"><a href="../../de/dca/variables_8h.html#a967149d83c7cf0dfc245dc9e587b5b05">array_p</a></div><div class="ttdeci">#define array_p(var)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00140">variables.h:140</a></div></div>
<div class="ttc" id="avariables_8h_html_aa045ef001ee868166626ab099a7944c7"><div class="ttname"><a href="../../de/dca/variables_8h.html#aa045ef001ee868166626ab099a7944c7">readonly_p</a></div><div class="ttdeci">#define readonly_p(var)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00139">variables.h:139</a></div></div>
<div class="ttc" id="avariables_8h_html_aa5fd1bcc6abd0de8169b028199a37569"><div class="ttname"><a href="../../de/dca/variables_8h.html#aa5fd1bcc6abd0de8169b028199a37569">ifsname</a></div><div class="ttdeci">#define ifsname(s)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00222">variables.h:222</a></div></div>
<div class="ttc" id="avariables_8h_html_ac35afb1d87d3eb932fc0e1a31e993c3e"><div class="ttname"><a href="../../de/dca/variables_8h.html#ac35afb1d87d3eb932fc0e1a31e993c3e">noassign_p</a></div><div class="ttdeci">#define noassign_p(var)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00153">variables.h:153</a></div></div>
<div class="ttc" id="avariables_8h_html_ad10452595c599b3281387a4d337eaad9"><div class="ttname"><a href="../../de/dca/variables_8h.html#ad10452595c599b3281387a4d337eaad9">INVALID_NAMEREF_VALUE</a></div><div class="ttdeci">#define INVALID_NAMEREF_VALUE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00231">variables.h:231</a></div></div>
<div class="ttc" id="avariables_8h_html_ad658a840ba435a20c57ea843ca2853d6"><div class="ttname"><a href="../../de/dca/variables_8h.html#ad658a840ba435a20c57ea843ca2853d6">name_cell</a></div><div class="ttdeci">#define name_cell(var)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00163">variables.h:163</a></div></div>
<div class="ttc" id="avariables_8h_html_aec918162dabf8df65cdb881279f43277"><div class="ttname"><a href="../../de/dca/variables_8h.html#aec918162dabf8df65cdb881279f43277">var_context::down</a></div><div class="ttdeci">struct var_context * down</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00039">variables.h:39</a></div></div>
<div class="ttc" id="avariables_8h_html_aee55709a40037e5f4ec6ecef8fb8fb7b"><div class="ttname"><a href="../../de/dca/variables_8h.html#aee55709a40037e5f4ec6ecef8fb8fb7b">value_cell</a></div><div class="ttdeci">#define value_cell(var)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00166">variables.h:166</a></div></div>
<div class="ttc" id="avariables_8h_html_af2165dd3251e9a8fdb44bfdeeb532b51"><div class="ttname"><a href="../../de/dca/variables_8h.html#af2165dd3251e9a8fdb44bfdeeb532b51">nameref_cell</a></div><div class="ttdeci">#define nameref_cell(var)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dca/variables_8h_source.html#l00170">variables.h:170</a></div></div>
<div class="ttc" id="avfprintf_8c_html_ad834e8db1d9c585ad9e072f5256c24b2"><div class="ttname"><a href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a></div><div class="ttdeci">static void out(FILE *f, const char *s, size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d61/vfprintf_8c_source.html#l00133">vfprintf.c:133</a></div></div>
<div class="ttc" id="avfwprintf_8c_html_d9/ddc/unionarg"><div class="ttname"><a href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d61/vfprintf_8c_source.html#l00102">vfprintf.c:103</a></div></div>
<div class="ttc" id="avi_8c_html_a709f915a8f591c9ec3208128ee246b89"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a></div><div class="ttdeci">#define rows</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00482">vi.c:482</a></div></div>
<div class="ttc" id="axz__config_8h_html_abb702d8b501669a23aa0ab3b281b9384"><div class="ttname"><a href="../../da/d5c/xz__config_8h.html#abb702d8b501669a23aa0ab3b281b9384">min</a></div><div class="ttdeci">#define min(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5c/xz__config_8h_source.html#l00037">xz_config.h:37</a></div></div>
<div class="ttc" id="ay_8tab_8c_html_a301af888f01577afa73c0a888746e02b"><div class="ttname"><a href="../../d5/def/y_8tab_8c.html#a301af888f01577afa73c0a888746e02b">AND_AND</a></div><div class="ttdeci">#define AND_AND</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/def/y_8tab_8c_source.html#l00517">y.tab.c:517</a></div></div>
<div class="ttc" id="ay_8tab_8c_html_a3e2d1045f92e30c7f8e21d2c54af5d8d"><div class="ttname"><a href="../../d5/def/y_8tab_8c.html#a3e2d1045f92e30c7f8e21d2c54af5d8d">reset_parser</a></div><div class="ttdeci">void reset_parser()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/def/y_8tab_8c_source.html#l05610">y.tab.c:5610</a></div></div>
<div class="ttc" id="ay_8tab_8c_html_a6d1ae08eabd176f09becc3e51ef3aed1"><div class="ttname"><a href="../../d5/def/y_8tab_8c.html#a6d1ae08eabd176f09becc3e51ef3aed1">OR_OR</a></div><div class="ttdeci">#define OR_OR</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/def/y_8tab_8c_source.html#l00518">y.tab.c:518</a></div></div>
<div class="ttc" id="ay_8tab_8h_html"><div class="ttname"><a href="../../d4/d0b/y_8tab_8h.html">y.tab.h</a></div></div>
<div class="ttc" id="azread_8c_html_a40264baa053bf7ccf2ef5ca345d6c06d"><div class="ttname"><a href="../../d5/da5/zread_8c.html#a40264baa053bf7ccf2ef5ca345d6c06d">signal_is_trapped</a></div><div class="ttdeci">int signal_is_trapped(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6f/trap_8c_source.html#l01503">trap.c:1503</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97d86ce2f18c7710ea326fa47777d7d7.html">Userspace</a></li><li class="navelem"><a class="el" href="../../dir_0276b9b7d706caf6f8b101518c949f15.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_825a5fc57f8484006531699dcb39fa0d.html">base</a></li><li class="navelem"><a class="el" href="../../dir_9f45f4861ea51abe6a084ff494f6b906.html">bash</a></li><li class="navelem"><a class="el" href="../../de/d3d/execute__cmd_8c.html">execute_cmd.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
