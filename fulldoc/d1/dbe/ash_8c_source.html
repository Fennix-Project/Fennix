<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fennix: Userspace/apps/base/busybox/shell/ash.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fennix
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Opeating System from scratch made in C and C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d1/dbe/ash_8c_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ash.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d1/dbe/ash_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* vi: set sw=4 ts=4: */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * ash shell port for busybox</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This code is derived from software contributed to Berkeley by</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Kenneth Almquist.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Original BSD copyright notice is retained at the end of this file.</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Copyright (c) 1989, 1991, 1993, 1994</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *      The Regents of the University of California.  All rights reserved.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * Copyright (c) 1997-2005 Herbert Xu &lt;herbert@gondor.apana.org.au&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * was re-ported from NetBSD and debianized.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Licensed under GPLv2 or later, see file LICENSE in this source tree.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//config:config SHELL_ASH</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//config:   bool #hidden option</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//config:   depends on !NOMMU</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">//config:config ASH</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//config:   bool &quot;ash (78 kb)&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//config:   depends on !NOMMU</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">//config:   select SHELL_ASH</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">//config:   help</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//config:   The most complete and most pedantically correct shell included with</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">//config:   busybox. This shell is actually a derivative of the Debian &#39;dash&#39;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//config:   shell (by Herbert Xu), which was created by porting the &#39;ash&#39; shell</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">//config:   (written by Kenneth Almquist) from NetBSD.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">//config:# ash options</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">//config:# note: Don&#39;t remove !NOMMU part in the next line; it would break</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">//config:# menuconfig&#39;s indenting.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">//config:if !NOMMU &amp;&amp; (SHELL_ASH || ASH || SH_IS_ASH || BASH_IS_ASH)</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">//config:config ASH_OPTIMIZE_FOR_SIZE</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//config:   bool &quot;Optimize for size instead of speed&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//config:config ASH_INTERNAL_GLOB</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">//config:   bool &quot;Use internal glob() implementation&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//config:   default y   # Y is bigger, but because of uclibc glob() bug, let Y be default for now</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//config:   help</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//config:   Do not use glob() function from libc, use internal implementation.</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//config:   Use this if you are getting &quot;glob.h: No such file or directory&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//config:   or similar build errors.</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//config:   Note that as of now (2017-01), uclibc and musl glob() both have bugs</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//config:   which would break ash if you select N here.</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//config:config ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//config:   bool &quot;bash-compatible extensions&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">//config:config ASH_BASH_SOURCE_CURDIR</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">//config:   bool &quot;&#39;source&#39; and &#39;.&#39; builtins search current directory after $PATH&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">//config:   default n   # do not encourage non-standard behavior</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">//config:   depends on ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">//config:   help</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">//config:   This is not compliant with standards. Avoid if possible.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">//config:config ASH_BASH_NOT_FOUND_HOOK</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">//config:   bool &quot;command_not_found_handle hook support&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">//config:   depends on ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">//config:   help</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">//config:   Enable support for the &#39;command_not_found_handle&#39; hook function,</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">//config:   from GNU bash, which allows for alternative command not found</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">//config:   handling.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">//config:config ASH_JOB_CONTROL</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">//config:   bool &quot;Job control&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">//config:config ASH_ALIAS</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">//config:   bool &quot;Alias support&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">//config:config ASH_RANDOM_SUPPORT</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">//config:   bool &quot;Pseudorandom generator and $RANDOM variable&quot;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">//config:   help</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">//config:   Enable pseudorandom generator and dynamic variable &quot;$RANDOM&quot;.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">//config:   Each read of &quot;$RANDOM&quot; will generate a new pseudorandom value.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">//config:   You can reset the generator by using a specified start value.</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">//config:   After &quot;unset RANDOM&quot; the generator will switch off and this</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">//config:   variable will no longer have special treatment.</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">//config:config ASH_EXPAND_PRMT</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">//config:   bool &quot;Expand prompt string&quot;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">//config:   help</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">//config:   $PS# may contain volatile content, such as backquote commands.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">//config:   This option recreates the prompt string from the environment</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">//config:   variable each time it is displayed.</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">//config:config ASH_IDLE_TIMEOUT</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">//config:   bool &quot;Idle timeout variable $TMOUT&quot;</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">//config:   help</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">//config:   Enable bash-like auto-logout after $TMOUT seconds of idle time.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">//config:config ASH_MAIL</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">//config:   bool &quot;Check for new mail in interactive shell&quot;</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">//config:   help</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">//config:   Enable &quot;check for new mail&quot; function:</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">//config:   if set, $MAIL file and $MAILPATH list of files</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">//config:   are checked for mtime changes, and &quot;you have mail&quot;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">//config:   message is printed if change is detected.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">//config:config ASH_ECHO</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">//config:   bool &quot;echo builtin&quot;</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">//config:config ASH_PRINTF</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">//config:   bool &quot;printf builtin&quot;</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">//config:config ASH_TEST</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">//config:   bool &quot;test builtin&quot;</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">//config:config ASH_SLEEP</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">//config:   bool &quot;sleep builtin&quot;</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">//config:config ASH_HELP</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">//config:   bool &quot;help builtin&quot;</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">//config:config ASH_GETOPTS</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">//config:   bool &quot;getopts builtin&quot;</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">//config:config ASH_CMDCMD</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">//config:   bool &quot;command builtin&quot;</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">//config:   default y</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">//config:   depends on SHELL_ASH</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">//config:   help</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">//config:   Enable support for the &#39;command&#39; builtin, which allows</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">//config:   you to run the specified command or builtin,</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">//config:   even when there is a function with the same name.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">//config:</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">//config:endif # ash options</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">//applet:IF_ASH(APPLET(ash, BB_DIR_BIN, BB_SUID_DROP))</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">//                      APPLET_ODDNAME:name  main location    suid_type     help</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">//applet:IF_SH_IS_ASH(  APPLET_ODDNAME(sh,   ash, BB_DIR_BIN, BB_SUID_DROP, ash))</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">//applet:IF_BASH_IS_ASH(APPLET_ODDNAME(bash, ash, BB_DIR_BIN, BB_SUID_DROP, ash))</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">//kbuild:lib-$(CONFIG_SHELL_ASH) += ash.o ash_ptr_hack.o shell_common.o</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">//kbuild:lib-$(CONFIG_ASH_RANDOM_SUPPORT) += random.o</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment"> * DEBUG=1 to compile in debugging (&#39;set -o debug&#39; turns on)</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"> * DEBUG=2 to compile in and turn on debugging.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"> * When debugging is on (&quot;set -o debug&quot; was executed, or DEBUG=2),</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"> * debugging info is written to ./trace, quit signal generates core dump.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad72dbcf6d0153db1b8d8a58001feed83">  177</a></span>&#160;<span class="preprocessor">#define DEBUG 0</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">/* Tweak debug output verbosity here */</span></div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a70a3f40093610e55d44ba13a7076181d">  179</a></span>&#160;<span class="preprocessor">#define DEBUG_TIME 0</span></div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1f5146c749edf8f0f7077c5d0716c935">  180</a></span>&#160;<span class="preprocessor">#define DEBUG_PID 1</span></div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abf619a7f6f54e8451fa6ed637bca94de">  181</a></span>&#160;<span class="preprocessor">#define DEBUG_SIG 1</span></div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a03e13d1c8c326475e3e4b846ba464d18">  182</a></span>&#160;<span class="preprocessor">#define DEBUG_INTONOFF 0</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a84122cc8fb20a83dda3ef92cf3286740">  184</a></span>&#160;<span class="preprocessor">#define PROFILE 0</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ade02894231d51646a553ebb7f9fff6e2">  186</a></span>&#160;<span class="preprocessor">#define JOBS ENABLE_ASH_JOB_CONTROL</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d6/d3d/fnmatch_8h.html">fnmatch.h</a>&gt;</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d3/d15/times_8h.html">sys/times.h</a>&gt;</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d5/d3d/utsname_8h.html">sys/utsname.h</a>&gt;</span> <span class="comment">/* for setting $HOSTNAME */</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d8f/busybox_8h.html">busybox.h</a>&quot;</span> <span class="comment">/* for applet_names */</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_EMBEDDED_SCRIPTS</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor"># include &quot;embedded_scripts.h&quot;</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a03995706ee72a5251158350730fd975f">  195</a></span>&#160;<span class="preprocessor"># define NUM_SCRIPTS 0</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">/* So far, all bash compat is controlled by one config option */</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">/* Separate defines document which part of code implements what */</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/* function keyword */</span></div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abc58dcef16b2e19693c15fdb2ad6e4ad">  201</a></span>&#160;<span class="preprocessor">#define    BASH_FUNCTION        ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a71036b92d501a90d23d942648194bb0c">  202</a></span>&#160;<span class="preprocessor">#define IF_BASH_FUNCTION            IF_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">/* &amp;&gt;file */</span></div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae668914abfef98fabb83c9db5f817d9f">  204</a></span>&#160;<span class="preprocessor">#define    BASH_REDIR_OUTPUT    ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a044f5a510db9c9bc10cf77e7c77de9f6">  205</a></span>&#160;<span class="preprocessor">#define IF_BASH_REDIR_OUTPUT        IF_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">/* $&#39;...&#39; */</span></div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3f96556883e57103bdfe5cfd63b0d64c">  207</a></span>&#160;<span class="preprocessor">#define    BASH_DOLLAR_SQUOTE   ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a38534c29fbfb34d1f0cfb199ee38ac20">  208</a></span>&#160;<span class="preprocessor">#define IF_BASH_DOLLAR_SQUOTE       IF_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aec7e0b683f526386b3763ef91adc4276">  209</a></span>&#160;<span class="preprocessor">#define    BASH_PATTERN_SUBST   ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a169450bd20de627b9da0dcb78f0d4abb">  210</a></span>&#160;<span class="preprocessor">#define IF_BASH_PATTERN_SUBST       IF_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aaf58c5cf9a67360bf2dec22b90087229">  211</a></span>&#160;<span class="preprocessor">#define    BASH_SUBSTR          ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae5e02005b4d5b89e194f540163e26fc0">  212</a></span>&#160;<span class="preprocessor">#define IF_BASH_SUBSTR              IF_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">/* BASH_TEST2: [[ EXPR ]]</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"> * Status of [[ support:</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"> *   &amp;&amp; and || work as they should</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"> *   = is glob match operator, not equality operator: STR = GLOB</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"> *   == same as =</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> *   =~ is regex match operator: STR =~ REGEX</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"> * TODO:</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"> * singleword+noglob expansion:</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"> *   v=&#39;a b&#39;; [[ $v = &#39;a b&#39; ]]; echo 0:$?</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"> *   [[ /bin/n* ]]; echo 0:$?</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"> * quoting needs to be considered (-f is an operator, &quot;-f&quot; and &quot;&quot;-f are not; etc)</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"> * ( ) &lt; &gt; should not have special meaning (IOW: should not require quoting)</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"> * in word = GLOB, quoting should be significant on char-by-char basis: a*cd&quot;*&quot;</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa33b3bd7044079ae0d23da3100af61b1">  227</a></span>&#160;<span class="preprocessor">#define    BASH_TEST2           (ENABLE_ASH_BASH_COMPAT * ENABLE_ASH_TEST)</span></div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0a8eae4a52a8c2b93f6804eb033d7586">  228</a></span>&#160;<span class="preprocessor">#define    BASH_SOURCE          ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a40455b85229861b79358de1ee99f3131">  229</a></span>&#160;<span class="preprocessor">#define    BASH_PIPEFAIL        ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4a20b7c3242759cad10e9f6dee2851e0">  230</a></span>&#160;<span class="preprocessor">#define    BASH_HOSTNAME_VAR    ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4c9bcb70d90edc57e2cffb72d17fcd36">  231</a></span>&#160;<span class="preprocessor">#define    BASH_EPOCH_VARS      ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afdfb0472ccc8ee8667b9703fd5e83688">  232</a></span>&#160;<span class="preprocessor">#define    BASH_SHLVL_VAR       ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a22471b5a3cff2e7069fe01bd7f59c3ee">  233</a></span>&#160;<span class="preprocessor">#define    BASH_XTRACEFD        ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a552374e17280af918fd0b121276aedb5">  234</a></span>&#160;<span class="preprocessor">#define    BASH_READ_D          ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad5f96e41fc478163ec236af37e27bb92">  235</a></span>&#160;<span class="preprocessor">#define IF_BASH_READ_D              IF_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a43f42438689bc809b391d472a5e09410">  236</a></span>&#160;<span class="preprocessor">#define    BASH_WAIT_N          ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">/* &lt;(...) and &gt;(...) */</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">#if HAVE_DEV_FD</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="preprocessor"># define    BASH_PROCESS_SUBST   ENABLE_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor"># define IF_BASH_PROCESS_SUBST       IF_ASH_BASH_COMPAT</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5efe68f2e90b70af866e1b1bcd1ad9f7">  242</a></span>&#160;<span class="preprocessor"># define    BASH_PROCESS_SUBST 0</span></div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8f73002ccbaeafd27361a583fd1ac429">  243</a></span>&#160;<span class="preprocessor"># define IF_BASH_PROCESS_SUBST(...)</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#if defined(__ANDROID_API__) &amp;&amp; __ANDROID_API__ &lt;= 24</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">/* Bionic at least up to version 24 has no glob() */</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor"># undef  ENABLE_ASH_INTERNAL_GLOB</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="preprocessor"># define ENABLE_ASH_INTERNAL_GLOB 1</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="preprocessor">#if !ENABLE_ASH_INTERNAL_GLOB &amp;&amp; defined(__UCLIBC__)</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="preprocessor"># error uClibc glob() is buggy, use ASH_INTERNAL_GLOB.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="preprocessor"># error The bug is: for &quot;$PWD&quot;</span>/&lt;pattern&gt; ash will escape e.g. dashes in &quot;$PWD&quot;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="preprocessor"># error with backslash, even ones which do not need to be: &quot;/a-b&quot;</span> -&gt; &quot;/a\-b&quot;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor"># error glob() should unbackslash them and match. uClibc does not unbackslash,</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="preprocessor"># error fails to match dirname, subsequently not expanding &lt;pattern&gt; in it.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">// Testcase:</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">// if (glob(&quot;/etc/polkit\\-1&quot;, 0, NULL, &amp;pglob)) - this returns 0 on uclibc, no bug</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">// if (glob(&quot;/etc/polkit\\-1/*&quot;, 0, NULL, &amp;pglob)) printf(&quot;uclibc bug!\n&quot;);</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="preprocessor">#if !ENABLE_ASH_INTERNAL_GLOB</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor"># include &lt;glob.h&gt;</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d90/unicode_8h.html">unicode.h</a>&quot;</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/de6/shell__common_8h.html">shell_common.h</a>&quot;</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="preprocessor"># include &quot;math.h&quot;</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acb53d55632fab5ebfafa813740b488ab">  272</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">long</span> <a class="code" href="../../d1/dbe/ash_8c.html#acb53d55632fab5ebfafa813740b488ab">arith_t</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5bbfda82d22bba3ce3e14e3cb14fdbd0">  273</a></span>&#160;<span class="preprocessor"># define ARITH_FMT &quot;%ld&quot;</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor">#if ENABLE_ASH_RANDOM_SUPPORT</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor"># include &quot;random.h&quot;</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8748d7311c6e071c6e73237f5a132692">  278</a></span>&#160;<span class="preprocessor"># define CLEAR_RANDOM_T(rnd) ((void)0)</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#include &quot;NUM_APPLETS.h&quot;</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor">#if NUM_APPLETS == 1</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">/* STANDALONE does not make sense, and won&#39;t compile */</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor"># undef CONFIG_FEATURE_SH_STANDALONE</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor"># undef ENABLE_FEATURE_SH_STANDALONE</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="preprocessor"># undef IF_FEATURE_SH_STANDALONE</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="preprocessor"># undef IF_NOT_FEATURE_SH_STANDALONE</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor"># define ENABLE_FEATURE_SH_STANDALONE 0</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor"># define IF_FEATURE_SH_STANDALONE(...)</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="preprocessor"># define IF_NOT_FEATURE_SH_STANDALONE(...) __VA_ARGS__</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="preprocessor">#ifndef F_DUPFD_CLOEXEC</span></div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af532232f0b65dc6296aedd2b60de7285">  294</a></span>&#160;<span class="preprocessor"># define F_DUPFD_CLOEXEC F_DUPFD</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="preprocessor">#ifndef O_CLOEXEC</span></div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad6d8fbe4e494b4dbe051612572d3f757">  297</a></span>&#160;<span class="preprocessor"># define O_CLOEXEC 0</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor">#ifndef PIPE_BUF</span></div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad2c1c798d36bdba42d5f4d50da5ae200">  300</a></span>&#160;<span class="preprocessor"># define PIPE_BUF 4096           </span><span class="comment">/* amount of buffering in a pipe */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor">#ifndef unlikely</span></div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6e951923c66693f5d308458676313f2e">  304</a></span>&#160;<span class="preprocessor"># define unlikely(cond) (cond)</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="preprocessor">#if !BB_MMU</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="preprocessor"># error &quot;Do not even bother, ash will not run on NOMMU machine&quot;</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">/* ============ Hash table sizes. Configurable. */</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab61cc25b08e627f25ca0b68e0586044a">  313</a></span>&#160;<span class="preprocessor">#define VTABSIZE 39</span></div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aadf05a90bb8de0029a34e8a92b0fed58">  314</a></span>&#160;<span class="preprocessor">#define ATABSIZE 39</span></div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac351e9366a3093afcc94ec800a623332">  315</a></span>&#160;<span class="preprocessor">#define CMDTABLESIZE 31         </span><span class="comment">/* should be prime */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">/* ============ Shell options */</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">/* If you add/change options hare, update --help text too */</span></div>
<div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1c0752fa32f10892c9017d7818ccc23d">  321</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> optletters_optnames[] <a class="code" href="../../d1/dbe/ash_8c.html#a1c0752fa32f10892c9017d7818ccc23d">ALIGN_PTR</a> = {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="stringliteral">&quot;e&quot;</span>   <span class="stringliteral">&quot;errexit&quot;</span>,</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="stringliteral">&quot;f&quot;</span>   <span class="stringliteral">&quot;noglob&quot;</span>,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">/* bash has &#39;-o ignoreeof&#39;, but no short synonym -I for it */</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">/* (in bash, set -I disables invisible variables (what&#39;s that?)) */</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="stringliteral">&quot;I&quot;</span>   <span class="stringliteral">&quot;ignoreeof&quot;</span>,</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">/* The below allowed this invocation:</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment"> * ash -c &#39;set -i; echo $-; sleep 5; echo $-&#39;</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"> * to be ^C-ed and get to interactive ash prompt.</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"> * bash does not support such &quot;set -i&quot;.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"> * In our code, this is denoted by empty long name:</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="stringliteral">&quot;i&quot;</span>   <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">/* (removing &quot;i&quot; altogether would remove it from &quot;$-&quot;, not good) */</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="stringliteral">&quot;m&quot;</span>   <span class="stringliteral">&quot;monitor&quot;</span>,</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="stringliteral">&quot;n&quot;</span>   <span class="stringliteral">&quot;noexec&quot;</span>,</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">/* Ditto: bash has no &quot;set -s&quot;, &quot;set -c&quot; */</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="stringliteral">&quot;s&quot;</span>   <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="stringliteral">&quot;c&quot;</span>   <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="stringliteral">&quot;x&quot;</span>   <span class="stringliteral">&quot;xtrace&quot;</span>,</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="stringliteral">&quot;v&quot;</span>   <span class="stringliteral">&quot;verbose&quot;</span>,</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="stringliteral">&quot;C&quot;</span>   <span class="stringliteral">&quot;noclobber&quot;</span>,</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="stringliteral">&quot;a&quot;</span>   <span class="stringliteral">&quot;allexport&quot;</span>,</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="stringliteral">&quot;b&quot;</span>   <span class="stringliteral">&quot;notify&quot;</span>,</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="stringliteral">&quot;u&quot;</span>   <span class="stringliteral">&quot;nounset&quot;</span>,</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="stringliteral">&quot;E&quot;</span>   <span class="stringliteral">&quot;errtrace&quot;</span>,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="stringliteral">&quot;\0&quot;</span>  <span class="stringliteral">&quot;vi&quot;</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="preprocessor">#if BASH_PIPEFAIL</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    ,<span class="stringliteral">&quot;\0&quot;</span>  <span class="stringliteral">&quot;pipefail&quot;</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    ,<span class="stringliteral">&quot;\0&quot;</span>  <span class="stringliteral">&quot;nolog&quot;</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    ,<span class="stringliteral">&quot;\0&quot;</span>  <span class="stringliteral">&quot;debug&quot;</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;};</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">//bash 4.4.23 also has these opts (with these defaults):</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">//braceexpand           on</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">//emacs                 on</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">//errtrace              off</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">//functrace             off</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">//hashall               on</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">//histexpand            off</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">//history               on</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">//interactive-comments  on</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">//keyword               off</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">//onecmd                off</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">//physical              off</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">//posix                 off</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">//privileged            off</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0b34fd79d6542a75d2fa821ed376a203">  371</a></span>&#160;<span class="preprocessor">#define optletters(n)  optletters_optnames[n][0]</span></div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afa1ad49cc4809494f4867e1108ea5ee5">  372</a></span>&#160;<span class="preprocessor">#define optnames(n)   (optletters_optnames[n] + 1)</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#add71b5aa3cf93ea594bead45162618e7a436a02069b564b58bce17331bcf4759b">  374</a></span>&#160;<span class="keyword">enum</span> { <a class="code" href="../../d1/dbe/ash_8c.html#add71b5aa3cf93ea594bead45162618e7a436a02069b564b58bce17331bcf4759b">NOPTS</a> = <a class="code" href="../../dd/d7f/applet__tables_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(optletters_optnames) };</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">/* ============ Misc data */</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a78d805e1d2aaceaa17b361717cbd46fd">  379</a></span>&#160;<span class="preprocessor">#define msg_illnum &quot;Illegal number: %s&quot;</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"> * We enclose jmp_buf in a structure so that we can declare pointers to</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment"> * jump locations.  The global variable handler contains the location to</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment"> * jump to when an exception occurs, and the global variable exception_type</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment"> * contains a code identifying the exception.  To implement nested</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment"> * exception handlers, the user should save the value of handler on entry</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment"> * to an inner scope, set handler to point to a jmploc structure for the</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment"> * inner scope, and restore handler on exit from the scope.</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  390</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> {</div>
<div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">  391</a></span>&#160;    <a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#da/db0/structjmp__buf">jmp_buf</a> <a class="code" href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">loc</a>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;};</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  394</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#db/dfa/structglobals__misc">globals_misc</a> {</div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8dcb9c83a980af40570db12cdf2abb37">  395</a></span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> <a class="code" href="../../d1/dbe/ash_8c.html#a8dcb9c83a980af40570db12cdf2abb37">exitstatus</a>;     <span class="comment">/* exit status of last command */</span></div>
<div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae171a063eefab55d56823de1cc486ec9">  396</a></span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> <a class="code" href="../../d1/dbe/ash_8c.html#ae171a063eefab55d56823de1cc486ec9">back_exitstatus</a>;<span class="comment">/* exit status of backquoted command */</span></div>
<div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a98275e0ffbf80e089f747e753e7374aa">  397</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a98275e0ffbf80e089f747e753e7374aa">job_warning</a>;   <span class="comment">/* user was warned about stopped jobs (can be 2, 1 or 0). */</span></div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae9c6987b3b94c208b2d2e2d794d183c8">  398</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#ae9c6987b3b94c208b2d2e2d794d183c8">inps4</a>;     <span class="comment">/* Prevent PS4 nesting. */</span></div>
<div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afcc4c7e97260f8285a5977e66db4c94e">  399</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#afcc4c7e97260f8285a5977e66db4c94e">savestatus</a>;         <span class="comment">/* exit status of last command outside traps */</span></div>
<div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a543160f90b2c27392cd1244f694e6b9f">  400</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a543160f90b2c27392cd1244f694e6b9f">rootpid</a>;            <span class="comment">/* pid of main shell */</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">/* shell level: 0 for the main shell, 1 for its children, and so on */</span></div>
<div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a133f288de40a9ac9223f1d346effa547">  402</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a133f288de40a9ac9223f1d346effa547">shlvl</a>;</div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a37b9de733f35f04a3cf9a1f81ab63e2a">  403</a></span>&#160;<span class="preprocessor">#define rootshell (!shlvl)</span></div>
<div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ada935f892269caa831975bfe57c5fb08">  404</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ada935f892269caa831975bfe57c5fb08">errlinno</a>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac91d63659cfe63fcc5d644528349cfb3">  406</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#ac91d63659cfe63fcc5d644528349cfb3">minusc</a>;  <span class="comment">/* argument to -c option */</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5fb4c385c5bc961b903aeb0e03e47eee">  408</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a5fb4c385c5bc961b903aeb0e03e47eee">curdir</a>; <span class="comment">// = nullstr;     /* current working directory */</span></div>
<div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aaaa09711a59bc6d629e618f4501f5eba">  409</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#aaaa09711a59bc6d629e618f4501f5eba">physdir</a>; <span class="comment">// = nullstr;    /* physical working directory */</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a352aace17bfe0a7ec35cb1ce4ec48a38">  411</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a352aace17bfe0a7ec35cb1ce4ec48a38">arg0</a>; <span class="comment">/* value of $0 */</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a165b274cbb29be88c31f61ef2c0794a7">  413</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a165b274cbb29be88c31f61ef2c0794a7">exception_handler</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af7eac746230901939b6209281e40ac1c">  415</a></span>&#160;    <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#af7eac746230901939b6209281e40ac1c">suppress_int</a>; <span class="comment">/* counter */</span></div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2ea50f9ae6dea4140c13f569c7f0091d">  416</a></span>&#160;    <span class="keyword">volatile</span> <span class="comment">/*sig_atomic_t*/</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a2ea50f9ae6dea4140c13f569c7f0091d">pending_int</a>; <span class="comment">/* 1 = got SIGINT */</span></div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad6cca044ea63e0cd72babfbe0c342ef9">  417</a></span>&#160;    <span class="keyword">volatile</span> <span class="comment">/*sig_atomic_t*/</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#ad6cca044ea63e0cd72babfbe0c342ef9">got_sigchld</a>; <span class="comment">/* 1 = got SIGCHLD */</span></div>
<div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aedfab11709c7af9c17c5dea90322c05e">  418</a></span>&#160;    <span class="keyword">volatile</span> <span class="comment">/*sig_atomic_t*/</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#aedfab11709c7af9c17c5dea90322c05e">pending_sig</a>; <span class="comment">/* last pending signal */</span></div>
<div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a314ffc878afe523c6b1d5108f0e7743b">  419</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a314ffc878afe523c6b1d5108f0e7743b">exception_type</a>; <span class="comment">/* kind of exception: */</span></div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a31ffea3c3fe40feb15712cc8bf96bef2">  420</a></span>&#160;<span class="preprocessor">#define EXINT 0         </span><span class="comment">/* SIGINT received */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ade601d2771be2d1ffb456155112dcca6">  421</a></span>&#160;<span class="preprocessor">#define EXERROR 1       </span><span class="comment">/* a generic error */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7037a9150ccc747a6fdb212ef4a6dfd7">  422</a></span>&#160;<span class="preprocessor">#define EXEND 3         </span><span class="comment">/* exit the shell */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a74a11d72ddd9ac7937d3065d4a46aad1">  423</a></span>&#160;<span class="preprocessor">#define EXEXIT 4        </span><span class="comment">/* exit the shell via exitcmd */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2bc0a7e538e0a6421f4d72f2af0862cc">  425</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d1/dbe/ash_8c.html#a2bc0a7e538e0a6421f4d72f2af0862cc">nullstr</a>[1];        <span class="comment">/* zero length string */</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5c4a1803ffa91a92515a692b4be787df">  427</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d1/dbe/ash_8c.html#a5c4a1803ffa91a92515a692b4be787df">optlist</a>[<a class="code" href="../../d1/dbe/ash_8c.html#add71b5aa3cf93ea594bead45162618e7a436a02069b564b58bce17331bcf4759b">NOPTS</a>];</div>
<div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1fa73ad20e7650d162437b665c5aa22b">  428</a></span>&#160;<span class="preprocessor">#define eflag optlist[0]</span></div>
<div class="line"><a name="l00429"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afbb561cd66b6398681da36474269617a">  429</a></span>&#160;<span class="preprocessor">#define fflag optlist[1]</span></div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aeb169d706c8ea8599d4a37add2a3935a">  430</a></span>&#160;<span class="preprocessor">#define Iflag optlist[2]</span></div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">  431</a></span>&#160;<span class="preprocessor">#define iflag optlist[3]</span></div>
<div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a39163771f358bdc0ef85126a2014d86d">  432</a></span>&#160;<span class="preprocessor">#define mflag optlist[4]</span></div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3cb27628daa22798e97bfcb8e40f2326">  433</a></span>&#160;<span class="preprocessor">#define nflag optlist[5]</span></div>
<div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6710fbf8aad91222515ef7080999b862">  434</a></span>&#160;<span class="preprocessor">#define sflag optlist[6]</span></div>
<div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7bc0f641cb9affd7ac216f4e3e2d4af7">  435</a></span>&#160;<span class="preprocessor">#define cflag optlist[7]</span></div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0492fb0e5606c5bc2ce433bb664d890f">  436</a></span>&#160;<span class="preprocessor">#define xflag optlist[8]</span></div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a087674c0a332485e0ccea9dc28cb43d9">  437</a></span>&#160;<span class="preprocessor">#define vflag optlist[9]</span></div>
<div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a121633c99627be34c130e5240aaee150">  438</a></span>&#160;<span class="preprocessor">#define Cflag optlist[10]</span></div>
<div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4ca83be443923d857d18ed4532aa7855">  439</a></span>&#160;<span class="preprocessor">#define aflag optlist[11]</span></div>
<div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a686315aea007bd4d1e26cd7ea7d37a7f">  440</a></span>&#160;<span class="preprocessor">#define bflag optlist[12]</span></div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8fa213832f0e90c9ee50c2bff0851cc7">  441</a></span>&#160;<span class="preprocessor">#define uflag optlist[13]</span></div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6dd3695c6902ed6c5bb82b513501c00c">  442</a></span>&#160;<span class="preprocessor">#define Eflag optlist[14]</span></div>
<div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a48c67a57f50ea01555d9e86540d833c6">  443</a></span>&#160;<span class="preprocessor">#define viflag optlist[15]</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor">#if BASH_PIPEFAIL</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="preprocessor"># define pipefail optlist[16]</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6f80d662eb9834ebb6ed09fbae402c21">  447</a></span>&#160;<span class="preprocessor"># define pipefail 0</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="preprocessor"># define nolog optlist[16 + BASH_PIPEFAIL]</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="preprocessor"># define debug optlist[17 + BASH_PIPEFAIL]</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">/* trap handler commands */</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">     * Sigmode records the current value of the signal handlers for the various</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">     * modes.  A value of zero means that the current handler is not known.</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">     * S_HARD_IGN indicates that the signal was ignored on entry to the shell.</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a99d3e71c4519d31ac675845bbc8cf111">  460</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d1/dbe/ash_8c.html#a99d3e71c4519d31ac675845bbc8cf111">sigmode</a>[<a class="code" href="../../dc/da4/mksignames_8c.html#ab83b88daaecc469d1edb90a527ab4a39">NSIG</a> - 1];</div>
<div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a82df78fb7744602bfe7801a950f868ee">  461</a></span>&#160;<span class="preprocessor">#define S_DFL      1            </span><span class="comment">/* default signal handling (SIG_DFL) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7ad6f8c279b66e901091cad09eb52257">  462</a></span>&#160;<span class="preprocessor">#define S_CATCH    2            </span><span class="comment">/* signal is caught */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0d728c407f0ee237838e70447747cedc">  463</a></span>&#160;<span class="preprocessor">#define S_IGN      3            </span><span class="comment">/* signal is ignored (SIG_IGN) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afe99620860ed7135d0461a0cf9931207">  464</a></span>&#160;<span class="preprocessor">#define S_HARD_IGN 4            </span><span class="comment">/* signal is ignored permanently (it was SIG_IGN on entry to shell) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">/* indicates specified signal received */</span></div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a784f8b2964c7c5e04ae6bec50e3bfd82">  467</a></span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> <a class="code" href="../../d1/dbe/ash_8c.html#a784f8b2964c7c5e04ae6bec50e3bfd82">gotsig</a>[<a class="code" href="../../dc/da4/mksignames_8c.html#ab83b88daaecc469d1edb90a527ab4a39">NSIG</a> - 1]; <span class="comment">/* offset by 1: &quot;signal&quot; 0 is meaningless */</span></div>
<div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a48db6a8781487e15e0790a1388bcc666">  468</a></span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> <a class="code" href="../../d1/dbe/ash_8c.html#a48db6a8781487e15e0790a1388bcc666">may_have_traps</a>; <span class="comment">/* 0: definitely no traps are set, 1: some traps may be set */</span></div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9eb5117c00aa1a83ee2afed68c16f8b2">  469</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a9eb5117c00aa1a83ee2afed68c16f8b2">trap</a>[<a class="code" href="../../dc/da4/mksignames_8c.html#ab83b88daaecc469d1edb90a527ab4a39">NSIG</a> + 1];</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">/* trap[0] is EXIT trap, trap[NTRAP_ERR] is ERR trap, other trap[i] are signal traps */</span></div>
<div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9f92e9f6961c915a648c04b712bb03e5">  471</a></span>&#160;<span class="preprocessor">#define NTRAP_ERR  NSIG</span></div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adf3ec511cc3180c82a5157e69f38c555">  472</a></span>&#160;<span class="preprocessor">#define NTRAP_LAST NSIG</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab9ac80075eb945c9c4c4e85a1e059287">  474</a></span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="../../d1/dbe/ash_8c.html#ab9ac80075eb945c9c4c4e85a1e059287">trap_ptr</a>;        <span class="comment">/* used only by &quot;trap hack&quot; */</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">/* Rarely referenced stuff */</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="preprocessor">#if ENABLE_ASH_RANDOM_SUPPORT</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="../../d8/d4c/apps_2base_2busybox_2shell_2random_8h.html#d1/d8d/structrandom__t">random_t</a> <a class="code" href="../../d1/dbe/ash_8c.html#a4b9a507e1ce9f2570ef7be31bfc30517">random_gen</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2d4a659a3a4878fb264a3bff1f33e91c">  480</a></span>&#160;    <a class="code" href="../../db/d9e/Linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> <a class="code" href="../../d1/dbe/ash_8c.html#a2d4a659a3a4878fb264a3bff1f33e91c">backgndpid</a>;        <span class="comment">/* pid of last background process */</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;};</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#db/dfa/structglobals__misc">globals_misc</a> *<a class="code" href="../../d7/dd7/libbb_8h.html#a89ec5ec9e0740df0a49184529997db64">BB_GLOBAL_CONST</a> <a class="code" href="../../d1/dbe/ash_8c.html#ad933a6a22f1eb5dab6f63377a94b5292">ash_ptr_to_globals_misc</a>;</div>
<div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aca8e1c26e0bd3b8af14723e65177a2f5">  483</a></span>&#160;<span class="preprocessor">#define G_misc (*ash_ptr_to_globals_misc)</span></div>
<div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">  484</a></span>&#160;<span class="preprocessor">#define exitstatus        (G_misc.exitstatus )</span></div>
<div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a85b0c2c7bb17ace3eb703124163e2c9d">  485</a></span>&#160;<span class="preprocessor">#define back_exitstatus   (G_misc.back_exitstatus )</span></div>
<div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5eb4ad560d39a0c59e3e1fe36078ec5a">  486</a></span>&#160;<span class="preprocessor">#define job_warning       (G_misc.job_warning)</span></div>
<div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6d732e09c2c92f032212a0a5e5729028">  487</a></span>&#160;<span class="preprocessor">#define inps4       (G_misc.inps4      )</span></div>
<div class="line"><a name="l00488"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">  488</a></span>&#160;<span class="preprocessor">#define savestatus  (G_misc.savestatus )</span></div>
<div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac3e2ce87919bfafa74665637d5e32f8a">  489</a></span>&#160;<span class="preprocessor">#define rootpid     (G_misc.rootpid    )</span></div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a131814c03a6cf6bd9af0079dd727ae8f">  490</a></span>&#160;<span class="preprocessor">#define shlvl       (G_misc.shlvl      )</span></div>
<div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae722c93936e1e5aae33466c078f99c71">  491</a></span>&#160;<span class="preprocessor">#define errlinno    (G_misc.errlinno   )</span></div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">  492</a></span>&#160;<span class="preprocessor">#define minusc      (G_misc.minusc     )</span></div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab2b4af4bbbe7999b7411da95037eb924">  493</a></span>&#160;<span class="preprocessor">#define curdir      (G_misc.curdir     )</span></div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa279d134a6b704c7a3f799140300c10a">  494</a></span>&#160;<span class="preprocessor">#define physdir     (G_misc.physdir    )</span></div>
<div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4d8f94d47a736d70ada8c5afbe26b248">  495</a></span>&#160;<span class="preprocessor">#define arg0        (G_misc.arg0       )</span></div>
<div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">  496</a></span>&#160;<span class="preprocessor">#define exception_handler (G_misc.exception_handler)</span></div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9feaa234caa149c15b556505f2a015db">  497</a></span>&#160;<span class="preprocessor">#define exception_type    (G_misc.exception_type   )</span></div>
<div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a20e40106fa4a2a4b1c1128b0d025cdf5">  498</a></span>&#160;<span class="preprocessor">#define suppress_int      (G_misc.suppress_int     )</span></div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af8ce82ad63add721a0e29e821b7281be">  499</a></span>&#160;<span class="preprocessor">#define pending_int       (G_misc.pending_int      )</span></div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4c23b3477c7701f7da9b088d3aeffef6">  500</a></span>&#160;<span class="preprocessor">#define got_sigchld       (G_misc.got_sigchld      )</span></div>
<div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">  501</a></span>&#160;<span class="preprocessor">#define pending_sig       (G_misc.pending_sig      )</span></div>
<div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">  502</a></span>&#160;<span class="preprocessor">#define nullstr     (G_misc.nullstr    )</span></div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">  503</a></span>&#160;<span class="preprocessor">#define optlist     (G_misc.optlist    )</span></div>
<div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5360861a12cae4ed3f5fe3b6d8cbb191">  504</a></span>&#160;<span class="preprocessor">#define sigmode     (G_misc.sigmode    )</span></div>
<div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acbc8f06298343bcc7b4aa8d98ed973d7">  505</a></span>&#160;<span class="preprocessor">#define gotsig      (G_misc.gotsig     )</span></div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aeae2161e6b322b2655fac184e8fca410">  506</a></span>&#160;<span class="preprocessor">#define may_have_traps    (G_misc.may_have_traps   )</span></div>
<div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">  507</a></span>&#160;<span class="preprocessor">#define trap        (G_misc.trap       )</span></div>
<div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a96548d5a09aa581e8c86812ffe17f518">  508</a></span>&#160;<span class="preprocessor">#define trap_ptr    (G_misc.trap_ptr   )</span></div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4b9a507e1ce9f2570ef7be31bfc30517">  509</a></span>&#160;<span class="preprocessor">#define random_gen  (G_misc.random_gen )</span></div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3defff30bf6bea060bacaa2ea9324893">  510</a></span>&#160;<span class="preprocessor">#define backgndpid  (G_misc.backgndpid )</span></div>
<div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7d9fca7857a8fff7543c845fe3d02bb2">  511</a></span>&#160;<span class="preprocessor">#define INIT_G_misc() do { \</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="preprocessor">    XZALLOC_CONST_PTR(&amp;ash_ptr_to_globals_misc, sizeof(G_misc)); \</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="preprocessor">    savestatus = -1; \</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="preprocessor">    curdir = nullstr; \</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="preprocessor">    physdir = nullstr; \</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="preprocessor">    trap_ptr = trap; \</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">/* ============ DEBUG */</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> trace_printf(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> trace_vprintf(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> va);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="preprocessor"># define TRACE(param)    trace_printf param</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="preprocessor"># define TRACEV(param)   trace_vprintf param</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="preprocessor"># define close(fd) do { \</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="preprocessor">    int dfd = (fd); \</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="preprocessor">    if (close(dfd) &lt; 0) \</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="preprocessor">        bb_error_msg(&quot;bug on %d: closing %d(0x%x)&quot;</span>, \</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            __LINE__, dfd, dfd); \</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;} while (0)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">  533</a></span>&#160;<span class="preprocessor"># define TRACE(param)</span></div>
<div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aaaab45e4577a3ba933c37f597dc8d394">  534</a></span>&#160;<span class="preprocessor"># define TRACEV(param)</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">/* ============ Utility functions */</span></div>
<div class="line"><a name="l00539"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3244f0a0f22e53ca438aaf6b56204eda">  539</a></span>&#160;<span class="preprocessor">#define is_name(c)      ((c) == &#39;_&#39; || isalpha((unsigned char)(c)))</span></div>
<div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af3ab4137bc0ae5cd20517d9a69247029">  540</a></span>&#160;<span class="preprocessor">#define is_in_name(c)   ((c) == &#39;_&#39; || isalnum((unsigned char)(c)))</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aeadab29e8f2c51cd05e57e0e1b59993c">  543</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aeadab29e8f2c51cd05e57e0e1b59993c">isdigit_str9</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordtype">int</span> maxlen = 9 + 1; <span class="comment">/* max 9 digits: 999999999 */</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">while</span> (--maxlen &amp;&amp; <a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(*<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>))</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>++;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">return</span> (*<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> == <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6dafab20e413267c59b44d2eccd94ed7">  552</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a17964ca36a1fd49a7b76eac2700d8e15">var_end</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>)</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;{</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">while</span> (*<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>++ == <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/dcc/awk_8c.html#a2e8d2426582aedb61af37935c1d60c1c">var</a>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">/* ============ Parser data */</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment"> * ash_vmsg() needs parsefile-&gt;fd, hence parsefile definition is moved up.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  566</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> {</div>
<div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8700830b5a082a144a84d547130f7424">  567</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a8700830b5a082a144a84d547130f7424">next</a>;</div>
<div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">  568</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">text</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;};</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  573</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/dc1/structstrpush">strpush</a> {</div>
<div class="line"><a name="l00574"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a924a5de9ed2a7f4ce7639fa9b716c599">  574</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/dc1/structstrpush">strpush</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a924a5de9ed2a7f4ce7639fa9b716c599">prev</a>;   <span class="comment">/* preceding string on stack */</span></div>
<div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a59cab26db0315c328b706bbd3e51398c">  575</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a59cab26db0315c328b706bbd3e51398c">prev_string</a>;</div>
<div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0a6e62194a5be0ea3b2d6e24eb6870ca">  576</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0a6e62194a5be0ea3b2d6e24eb6870ca">prev_left_in_line</a>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;       <span class="comment">/* if push was associated with an alias */</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4cbd54c13014909a340733bfe1e98b56">  580</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a4cbd54c13014909a340733bfe1e98b56">string</a>;           <span class="comment">/* remember the string since it may change */</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="comment">/* Delay freeing so we can stop nested aliases. */</span></div>
<div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a74da11b66e4136384b4381f9d1babe28">  583</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/dc1/structstrpush">strpush</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a74da11b66e4136384b4381f9d1babe28">spfree</a>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">/* Remember last two characters for pungetc. */</span></div>
<div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abf9e4da028819b9e499c925a182a026e">  586</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#abf9e4da028819b9e499c925a182a026e">lastc</a>[2];</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">/* Number of outstanding calls to pungetc. */</span></div>
<div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6ae5a99c75c2baaf5bf037bdecbbd562">  589</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a6ae5a99c75c2baaf5bf037bdecbbd562">unget</a>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;};</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment"> * The parsefile structure pointed to by the global variable parsefile</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment"> * contains information about the current file being read.</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  596</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a> {</div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad716fbc2f06aa6731e5d90dc96782308">  597</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a> *<a class="code" href="../../d1/dbe/ash_8c.html#ad716fbc2f06aa6731e5d90dc96782308">prev</a>; <span class="comment">/* preceding file on stack */</span></div>
<div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">  598</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">linno</a>;              <span class="comment">/* current line */</span></div>
<div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">  599</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a>;              <span class="comment">/* file descriptor (or -1 if string) */</span></div>
<div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">  600</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a>;       <span class="comment">/* number of chars left in this line */</span></div>
<div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad5c73cd25605aa1ec12d8b5678cec38f">  601</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad5c73cd25605aa1ec12d8b5678cec38f">left_in_buffer</a>;     <span class="comment">/* number of chars left in this buffer past the line */</span></div>
<div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">  602</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a>;    <span class="comment">/* next char in buffer */</span></div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae1b927e3da6182fb8d5ab0bd12d3b824">  603</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#ae1b927e3da6182fb8d5ab0bd12d3b824">buf</a>;              <span class="comment">/* input buffer */</span></div>
<div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7878e2b49a95d63431a01e82a7c7ba16">  604</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/dc1/structstrpush">strpush</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a426e81f112b1f0c58aaef25160fd32ca">strpush</a>; <span class="comment">/* for pushing strings at this level */</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/dc1/structstrpush">strpush</a> <a class="code" href="../../d1/dbe/ash_8c.html#a7878e2b49a95d63431a01e82a7c7ba16">basestrpush</a>; <span class="comment">/* so pushing one is fast */</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">/* Delay freeing so we can stop nested aliases. */</span></div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa0c0ae75eaaac5e6d9a7f7925da16cbb">  608</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/dc1/structstrpush">strpush</a> *<a class="code" href="../../d1/dbe/ash_8c.html#aa0c0ae75eaaac5e6d9a7f7925da16cbb">spfree</a>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="comment">/* Remember last two characters for pungetc. */</span></div>
<div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a78020bfab294dc99a8d3c39a468307eb">  611</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a78020bfab294dc99a8d3c39a468307eb">lastc</a>[2];</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="comment">/* Number of outstanding calls to pungetc. */</span></div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a92f3dd9f6440c4acbd43c0bac43cb4f5">  614</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a92f3dd9f6440c4acbd43c0bac43cb4f5">unget</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;};</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a> <a class="code" href="../../d1/dbe/ash_8c.html#a6dafab20e413267c59b44d2eccd94ed7">basepf</a>;        <span class="comment">/* top level input file */</span></div>
<div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">  618</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a> *<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a6dafab20e413267c59b44d2eccd94ed7">basepf</a>;  <span class="comment">/* current input file */</span></div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad4f846f3f19caa87ad67d24b3a77f307">  619</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#ad4f846f3f19caa87ad67d24b3a77f307">commandname</a>;              <span class="comment">/* currently executing command */</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">/* ============ Interrupts / exceptions */</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ace06db56149bfddd0498cf709c4065f1">  624</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#ace06db56149bfddd0498cf709c4065f1">exitshell</a>(<span class="keywordtype">void</span>) <a class="code" href="../../de/d03/platform_8h.html#aa1728270d73c5d1598de1fd691762eb1">NORETURN</a>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment"> * These macros allow the user to suspend the handling of interrupt signals</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"> * over a period of time.  This is similar to SIGHOLD or to sigblock, but</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment"> * much more efficient and portable.  (But hacking the kernel is so much</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment"> * more fun than worrying about efficiency and portability. :-))</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="preprocessor">#if DEBUG_INTONOFF</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="preprocessor"># define INT_OFF do { \</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="preprocessor">    TRACE((&quot;%s:%d INT_OFF(%d)\n&quot;</span>, __func__, __LINE__, suppress_int)); \</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    suppress_int++; \</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    barrier(); \</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;} while (0)</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="preprocessor"># define INT_OFF do { \</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="preprocessor">    suppress_int++; \</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="preprocessor">    barrier(); \</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment"> * Called to raise an exception.  Since C doesn&#39;t include exceptions, we</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment"> * just do a longjmp to the exception handler.  The type of exception is</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment"> * stored in the global variable &quot;exception_type&quot;.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> raise_exception(<span class="keywordtype">int</span>) <a class="code" href="../../de/d03/platform_8h.html#aa1728270d73c5d1598de1fd691762eb1">NORETURN</a>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;raise_exception(<span class="keywordtype">int</span> e)</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;{</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a>();</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9feaa234caa149c15b556505f2a015db">exception_type</a> = e;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#aaf56e20169cc5a6d5c1a968e24d04623">longjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a>-&gt;loc, 1);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;}</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="preprocessor">#define raise_exception(e) do { \</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="preprocessor">    TRACE((&quot;raising exception %d on line %d\n&quot;</span>, (e), __LINE__)); \</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    raise_exception(e); \</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;} while (0)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment"> * Called when a SIGINT is received.  (If the user specifies</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment"> * that SIGINT is to be trapped or ignored using the trap builtin, then</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment"> * this routine is not called.)  suppress_int is nonzero when interrupts</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment"> * are held using the INT_OFF macro.  (The test for iflag is just</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment"> * defensive programming.)</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a88ec84fb83193af2b6c0d13eb1a9b8d3">  676</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a88ec84fb83193af2b6c0d13eb1a9b8d3">raise_interrupt</a>(<span class="keywordtype">void</span>) <a class="code" href="../../de/d03/platform_8h.html#aa1728270d73c5d1598de1fd691762eb1">NORETURN</a>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a88ec84fb83193af2b6c0d13eb1a9b8d3">raise_interrupt</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;{</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af8ce82ad63add721a0e29e821b7281be">pending_int</a> = 0;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">/* Signal is not automatically unmasked after it is raised,</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">     * do it ourself - unmask all signals */</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#ad49994f8b56c9bd1080b2d0899cf0801">sigprocmask_allsigs</a>(SIG_UNBLOCK);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="comment">/* pending_sig = 0; - now done in signal_handler() */</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="../../d1/dbe/ash_8c.html#a37b9de733f35f04a3cf9a1f81ab63e2a">rootshell</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a>)) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="comment">/* Kill ourself with SIGINT */</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#a6fc82cd60ac4b31003cf10983a4d5cde">signal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>, <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#a27d5dc561093d6243542e6a2465bc0f8">SIG_DFL</a>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keyword">raise</span>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="comment">/* bash: ^C even on empty command line sets $? */</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a> + 128;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    raise_exception(<a class="code" href="../../d1/dbe/ash_8c.html#a31ffea3c3fe40feb15712cc8bf96bef2">EXINT</a>);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="preprocessor">#define raise_interrupt() do { \</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="preprocessor">    TRACE((&quot;raising interrupt on line %d\n&quot;</span>, __LINE__)); \</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    raise_interrupt(); \</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;} while (0)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3a8ea127d74da2b046db4c8dab3ec59e">  703</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d1/dbe/ash_8c.html#a3a8ea127d74da2b046db4c8dab3ec59e">IF_NOT_ASH_OPTIMIZE_FOR_SIZE</a>(<span class="keyword">inline</span>) <a class="code" href="../../d1/d48/namespaceDriver.html#ab729393050904fd1bdaf3625252f2e19">void</a></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;int_on(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;{</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a53290ac2df2384738b8769c76622f803">barrier</a>();</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">if</span> (--<a class="code" href="../../d1/dbe/ash_8c.html#a20e40106fa4a2a4b1c1128b0d025cdf5">suppress_int</a> == 0 &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#af8ce82ad63add721a0e29e821b7281be">pending_int</a>)</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a88ec84fb83193af2b6c0d13eb1a9b8d3">raise_interrupt</a>();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="preprocessor">#if DEBUG_INTONOFF</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="preprocessor"># define INT_ON do { \</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="preprocessor">    TRACE((&quot;%s:%d INT_ON(%d)\n&quot;</span>, __func__, __LINE__, suppress_int-1)); \</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    int_on(); \</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;} while (0)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">  716</a></span>&#160;<span class="preprocessor"># define INT_ON int_on()</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d1/dbe/ash_8c.html#a3a8ea127d74da2b046db4c8dab3ec59e">IF_NOT_ASH_OPTIMIZE_FOR_SIZE</a>(<span class="keyword">inline</span>) <a class="code" href="../../d1/d48/namespaceDriver.html#ab729393050904fd1bdaf3625252f2e19">void</a></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;force_int_on(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;{</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a53290ac2df2384738b8769c76622f803">barrier</a>();</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a20e40106fa4a2a4b1c1128b0d025cdf5">suppress_int</a> = 0;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af8ce82ad63add721a0e29e821b7281be">pending_int</a>)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a88ec84fb83193af2b6c0d13eb1a9b8d3">raise_interrupt</a>();</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;}</div>
<div class="line"><a name="l00726"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab50f7c5ee58d54d6b9a942f1e8781b85">  726</a></span>&#160;<span class="preprocessor">#define FORCE_INT_ON force_int_on()</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a18fdee34289a7124cc3f568d0e4ffc8f">  728</a></span>&#160;<span class="preprocessor">#define SAVE_INT(v) ((v) = suppress_int)</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab40d52cb237f1ea90b56d18a93e00ef9">  730</a></span>&#160;<span class="preprocessor">#define RESTORE_INT(v) do { \</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="preprocessor">    barrier(); \</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="preprocessor">    suppress_int = (v); \</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor">    if (suppress_int == 0 &amp;&amp; pending_int) \</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="preprocessor">        raise_interrupt(); \</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">/* ============ Stdout/stderr output */</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00741"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a83bc826b9d93c36da9d3a45a3fe47880">  741</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a83bc826b9d93c36da9d3a45a3fe47880">outstr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *<a class="code" href="../../d4/d78/expr_8h.html#d7/d3a/structfile">file</a>)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;{</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a02b2cea12480132c204282d07978f959">fputs</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d4/d78/expr_8h.html#d7/d3a/structfile">file</a>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8b4918e978236b595cd0683297407875">  749</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8b4918e978236b595cd0683297407875">flush_stdout_stderr</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;{</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a8f037f44db72dcde4db67b3cb5dee815">fflush_all</a>();</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">/* Was called outcslow(c,FILE*), but c was always &#39;\n&#39; */</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00758"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a14c0b1d6e8225850405db69fa1baec6f">  758</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a14c0b1d6e8225850405db69fa1baec6f">newline_and_flush</a>(<a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *dest)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;{</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;\n&#39;</span>, dest);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#adb974f28765a31026ee6bf71d5175951">fflush</a>(dest);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">  766</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, ...) <a class="code" href="../../d9/de8/stdc_8h.html#a9d373a9b65ff25b2db84c07394e1c212">__attribute__</a>((__format__(__printf__,1,2)));</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;static <span class="keywordtype">int</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(const <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;{</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#aa0628ab596c3d7e78f5e08c2d98e24da">va_start</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>, fmt);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    r = <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a60eafc0462174ced134abb3714d9c85a">vprintf</a>(fmt, <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a823b205416e9129825841b74c3bf8484">va_end</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;}</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adf33ec1779df3d9898d1b2bf98c0ae23">  781</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#adf33ec1779df3d9898d1b2bf98c0ae23">fmtstr</a>(<span class="keywordtype">char</span> *, <span class="keywordtype">size_t</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *, ...) <a class="code" href="../../d9/de8/stdc_8h.html#a9d373a9b65ff25b2db84c07394e1c212">__attribute__</a>((__format__(__printf__,3,4)));</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;static <span class="keywordtype">int</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#adf33ec1779df3d9898d1b2bf98c0ae23">fmtstr</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d4/dcd/nmeter_8c.html#a9f42c0960c4e20484468e09947a3f876">outbuf</a>, <span class="keywordtype">size_t</span> length, const <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;{</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#aa0628ab596c3d7e78f5e08c2d98e24da">va_start</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>, fmt);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    ret = <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a715af29d23f9914db8ecafd4b94a7e14">vsnprintf</a>(<a class="code" href="../../d4/dcd/nmeter_8c.html#a9f42c0960c4e20484468e09947a3f876">outbuf</a>, length, fmt, <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a823b205416e9129825841b74c3bf8484">va_end</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">return</span> ret &gt; (int)length ? length : ret;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;}</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00797"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">  797</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">out1str</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;{</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a83bc826b9d93c36da9d3a45a3fe47880">outstr</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00803"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad41387932da6f74836f39a196a96519c">  803</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ad41387932da6f74836f39a196a96519c">out2str</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;{</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a83bc826b9d93c36da9d3a45a3fe47880">outstr</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8b4918e978236b595cd0683297407875">flush_stdout_stderr</a>();</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;}</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">/* ============ Parser structures */</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">/* control characters in argument strings */</span></div>
<div class="line"><a name="l00813"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae58ea0b3529c2e955dcc46d1d4a79ce7">  813</a></span>&#160;<span class="preprocessor">#define CTL_FIRST CTLESC</span></div>
<div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">  814</a></span>&#160;<span class="preprocessor">#define CTLESC       ((unsigned char)&#39;\201&#39;)    </span><span class="comment">/* escape next character */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00815"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae1863f639f12382c610c13d53ea33c01">  815</a></span>&#160;<span class="preprocessor">#define CTLVAR       ((unsigned char)&#39;\202&#39;)    </span><span class="comment">/* variable defn */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00816"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4b4b55d19841657b0d741ce7b516aee0">  816</a></span>&#160;<span class="preprocessor">#define CTLENDVAR    ((unsigned char)&#39;\203&#39;)</span></div>
<div class="line"><a name="l00817"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">  817</a></span>&#160;<span class="preprocessor">#define CTLBACKQ     ((unsigned char)&#39;\204&#39;)</span></div>
<div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a61d50a8e339a2b23161570aa7ce7286a">  818</a></span>&#160;<span class="preprocessor">#define CTLARI       ((unsigned char)&#39;\206&#39;)    </span><span class="comment">/* arithmetic expression */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00819"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a758d18444ca0979856f52b0506de9d19">  819</a></span>&#160;<span class="preprocessor">#define CTLENDARI    ((unsigned char)&#39;\207&#39;)</span></div>
<div class="line"><a name="l00820"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">  820</a></span>&#160;<span class="preprocessor">#define CTLQUOTEMARK ((unsigned char)&#39;\210&#39;)</span></div>
<div class="line"><a name="l00821"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a68d04d2ff4675d77906c7f14273b8eae">  821</a></span>&#160;<span class="preprocessor">#define CTL_LAST CTLQUOTEMARK</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="preprocessor"># define CTLTOPROC    ((unsigned char)&#39;\211&#39;)</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="preprocessor"># define CTLFROMPROC  ((unsigned char)&#39;\212&#39;)</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="preprocessor"># undef CTL_LAST</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="preprocessor"># define CTL_LAST CTLFROMPROC</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">/* variable substitution byte (follows CTLVAR) */</span></div>
<div class="line"><a name="l00830"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9e9b4cf0195e0b55558bef9788071c10">  830</a></span>&#160;<span class="preprocessor">#define VSTYPE  0x0f            </span><span class="comment">/* type of variable substitution */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00831"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad557438155906b9dc1a3a6fee168ceb3">  831</a></span>&#160;<span class="preprocessor">#define VSNUL   0x10            </span><span class="comment">/* colon--treat the empty string as unset */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">/* values of VSTYPE field */</span></div>
<div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3c58eaf841c80ab6d8e9acdf52172d33">  834</a></span>&#160;<span class="preprocessor">#define VSNORMAL        0x1     </span><span class="comment">/* normal variable:  $var or ${var} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a34566e0b5e69a5a690d149fd7b1ee52d">  835</a></span>&#160;<span class="preprocessor">#define VSMINUS         0x2     </span><span class="comment">/* ${var-text} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00836"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac3a97935f5f86ca67b513b3ed3e576d5">  836</a></span>&#160;<span class="preprocessor">#define VSPLUS          0x3     </span><span class="comment">/* ${var+text} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00837"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abd06ab98107e417c725a24580a15b566">  837</a></span>&#160;<span class="preprocessor">#define VSQUESTION      0x4     </span><span class="comment">/* ${var?message} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00838"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aac40b5dd63c7a97a8f63ba1944f2b137">  838</a></span>&#160;<span class="preprocessor">#define VSASSIGN        0x5     </span><span class="comment">/* ${var=text} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00839"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a23306e67a1676110c786b103b6edeb14">  839</a></span>&#160;<span class="preprocessor">#define VSTRIMRIGHT     0x6     </span><span class="comment">/* ${var%pattern} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00840"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af1a10a9c8fb23b3c9ee017fd02f711bc">  840</a></span>&#160;<span class="preprocessor">#define VSTRIMRIGHTMAX  0x7     </span><span class="comment">/* ${var%%pattern} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00841"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a36bca9db2dbf431324629bdd81a36d02">  841</a></span>&#160;<span class="preprocessor">#define VSTRIMLEFT      0x8     </span><span class="comment">/* ${var#pattern} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00842"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4b789a45741aa8c9d9c995b497347e74">  842</a></span>&#160;<span class="preprocessor">#define VSTRIMLEFTMAX   0x9     </span><span class="comment">/* ${var##pattern} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a252bfb51e3aaaead48778387d4db014c">  843</a></span>&#160;<span class="preprocessor">#define VSLENGTH        0xa     </span><span class="comment">/* ${#var} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="preprocessor">#if BASH_SUBSTR</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="preprocessor">#define VSSUBSTR        0xc     </span><span class="comment">/* ${var:position:length} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="preprocessor">#if BASH_PATTERN_SUBST</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="preprocessor">#define VSREPLACE       0xd     </span><span class="comment">/* ${var/pattern/replacement} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="preprocessor">#define VSREPLACEALL    0xe     </span><span class="comment">/* ${var//pattern/replacement} */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">  852</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> dolatstr[] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ae1863f639f12382c610c13d53ea33c01">CTLVAR</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a3c58eaf841c80ab6d8e9acdf52172d33">VSNORMAL</a>, <span class="charliteral">&#39;@&#39;</span>, <span class="charliteral">&#39;=&#39;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a>, <span class="charliteral">&#39;\0&#39;</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;};</div>
<div class="line"><a name="l00855"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a363b0cecad2acb1ac0570fc8272ffcfd">  855</a></span>&#160;<span class="preprocessor">#define DOLATSTRLEN 6</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">  857</a></span>&#160;<span class="preprocessor">#define NCMD      0</span></div>
<div class="line"><a name="l00858"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6b0054e65df0932a5e1c92c4f707358b">  858</a></span>&#160;<span class="preprocessor">#define NPIPE     1</span></div>
<div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a731505e220374df4153088cb7dc7e721">  859</a></span>&#160;<span class="preprocessor">#define NREDIR    2</span></div>
<div class="line"><a name="l00860"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a17b467de2743a40a0a8fc5fc8019404d">  860</a></span>&#160;<span class="preprocessor">#define NBACKGND  3</span></div>
<div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5cd8291782169e211f7112aec1b29b7a">  861</a></span>&#160;<span class="preprocessor">#define NSUBSHELL 4</span></div>
<div class="line"><a name="l00862"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a923cb4a4043639f6d8d4108c84bb8f8f">  862</a></span>&#160;<span class="preprocessor">#define NAND      5</span></div>
<div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0dd10f6b3ad00611521e0a7ebc8c18ad">  863</a></span>&#160;<span class="preprocessor">#define NOR       6</span></div>
<div class="line"><a name="l00864"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9b85d29ae92a08c0a12c42cc7f302dfb">  864</a></span>&#160;<span class="preprocessor">#define NSEMI     7</span></div>
<div class="line"><a name="l00865"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1afe765b4510add91239ee23e5a89ba4">  865</a></span>&#160;<span class="preprocessor">#define NIF       8</span></div>
<div class="line"><a name="l00866"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a118a6b79cefa14c0e48db7329e2dc546">  866</a></span>&#160;<span class="preprocessor">#define NWHILE    9</span></div>
<div class="line"><a name="l00867"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a715c2e99d7a38041a97cebc49ef25470">  867</a></span>&#160;<span class="preprocessor">#define NUNTIL   10</span></div>
<div class="line"><a name="l00868"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae575a712af65a31deff21397dd8abe51">  868</a></span>&#160;<span class="preprocessor">#define NFOR     11</span></div>
<div class="line"><a name="l00869"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acab6d4049057ee59ea73ed5b5ca879f2">  869</a></span>&#160;<span class="preprocessor">#define NCASE    12</span></div>
<div class="line"><a name="l00870"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac9a047b5fb2d49112a93edf59e32a1bb">  870</a></span>&#160;<span class="preprocessor">#define NCLIST   13</span></div>
<div class="line"><a name="l00871"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#accf038e773bf009999c077dfac00a290">  871</a></span>&#160;<span class="preprocessor">#define NDEFUN   14</span></div>
<div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">  872</a></span>&#160;<span class="preprocessor">#define NARG     15</span></div>
<div class="line"><a name="l00873"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a658038e4a47dea3db2c5ab2a3446e02a">  873</a></span>&#160;<span class="preprocessor">#define NTO      16</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="preprocessor">#define NTO2     17</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00877"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a044ff0b816ace1617b5a80ef22042484">  877</a></span>&#160;<span class="preprocessor">#define NCLOBBER 18</span></div>
<div class="line"><a name="l00878"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aefcff7735123e7551631570d3bbb418f">  878</a></span>&#160;<span class="preprocessor">#define NFROM    19</span></div>
<div class="line"><a name="l00879"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa5fc21dad7ff6ca79ff1e9c481b33787">  879</a></span>&#160;<span class="preprocessor">#define NFROMTO  20</span></div>
<div class="line"><a name="l00880"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7e16466b836f34200e785c653b136dcf">  880</a></span>&#160;<span class="preprocessor">#define NAPPEND  21</span></div>
<div class="line"><a name="l00881"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">  881</a></span>&#160;<span class="preprocessor">#define NTOFD    22</span></div>
<div class="line"><a name="l00882"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">  882</a></span>&#160;<span class="preprocessor">#define NFROMFD  23</span></div>
<div class="line"><a name="l00883"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad0f81540b8a0b9ef1e2747fb93898460">  883</a></span>&#160;<span class="preprocessor">#define NHERE    24</span></div>
<div class="line"><a name="l00884"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adea9843b5ff4954b14afa07a09340091">  884</a></span>&#160;<span class="preprocessor">#define NXHERE   25</span></div>
<div class="line"><a name="l00885"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7313a4d2ef02154895cdd285d1466a7a">  885</a></span>&#160;<span class="preprocessor">#define NNOT     26</span></div>
<div class="line"><a name="l00886"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac9687d44d84ef0c650fa0fa1aebd7ce9">  886</a></span>&#160;<span class="preprocessor">#define N_NUMBER 27</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  890</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/da4/structncmd">ncmd</a> {</div>
<div class="line"><a name="l00891"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af02ca8fdfb2588e2023326e52fabb175">  891</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#af02ca8fdfb2588e2023326e52fabb175">type</a>; <span class="comment">/* Nxxxx */</span></div>
<div class="line"><a name="l00892"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5bd38a556472525e9e770431e031c84e">  892</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a5bd38a556472525e9e770431e031c84e">linno</a>;</div>
<div class="line"><a name="l00893"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab3ce06239b12d62b4e6613775df8e9bd">  893</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#ab3ce06239b12d62b4e6613775df8e9bd">assign</a>;</div>
<div class="line"><a name="l00894"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a88d94181fcd0342d100000e0eca76550">  894</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a88d94181fcd0342d100000e0eca76550">args</a>;</div>
<div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0c2e9d9f346aba6a98c7535855cad110">  895</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a0c2e9d9f346aba6a98c7535855cad110">redirect</a>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;};</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  898</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d4/d1f/structnpipe">npipe</a> {</div>
<div class="line"><a name="l00899"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae47993177e079482c3f9095c115dd692">  899</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#ae47993177e079482c3f9095c115dd692">type</a>;</div>
<div class="line"><a name="l00900"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4f412b3bb0f6a081ba652d0f658c67ff">  900</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a4f412b3bb0f6a081ba652d0f658c67ff">pipe_backgnd</a>;</div>
<div class="line"><a name="l00901"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1eb940f0a287a03f37044878bd9c8e3f">  901</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a1eb940f0a287a03f37044878bd9c8e3f">cmdlist</a>;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;};</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  904</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/db3/structnredir">nredir</a> {</div>
<div class="line"><a name="l00905"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4545639c6c22902c935614001f8c10a1">  905</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a4545639c6c22902c935614001f8c10a1">type</a>;</div>
<div class="line"><a name="l00906"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a65c1c983244225d7d1f492fdf891a525">  906</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a65c1c983244225d7d1f492fdf891a525">linno</a>;</div>
<div class="line"><a name="l00907"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac18960d5cf09c9b5bec0dd63d22176ab">  907</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#ac18960d5cf09c9b5bec0dd63d22176ab">n</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7c0ef147c78b5cccffd0c9889134a395">  908</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a7c0ef147c78b5cccffd0c9889134a395">redirect</a>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;};</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  911</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d7/d46/structnbinary">nbinary</a> {</div>
<div class="line"><a name="l00912"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3008a082e6f06a375f491ece6730eff0">  912</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a3008a082e6f06a375f491ece6730eff0">type</a>;</div>
<div class="line"><a name="l00913"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4651d9d29c79e62de83f5a9ece542fd3">  913</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a4651d9d29c79e62de83f5a9ece542fd3">ch1</a>;</div>
<div class="line"><a name="l00914"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aba5217713eef654a015f57d5ab61b17d">  914</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#aba5217713eef654a015f57d5ab61b17d">ch2</a>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;};</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  917</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d18/structnif">nif</a> {</div>
<div class="line"><a name="l00918"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a38dea1972149ac4c426140b1984aad9f">  918</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a38dea1972149ac4c426140b1984aad9f">type</a>;</div>
<div class="line"><a name="l00919"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5bd2cc24962f3791ce6ae81f5c560925">  919</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a5bd2cc24962f3791ce6ae81f5c560925">test</a>;</div>
<div class="line"><a name="l00920"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8ebc501ae589e6c82e13496a19eb8665">  920</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a8ebc501ae589e6c82e13496a19eb8665">ifpart</a>;</div>
<div class="line"><a name="l00921"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa7a33a7eede9229ab5e19f2a3bb1a186">  921</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#aa7a33a7eede9229ab5e19f2a3bb1a186">elsepart</a>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;};</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  924</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/df6/structnfor">nfor</a> {</div>
<div class="line"><a name="l00925"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8c6f307f646f0ab0c69f77aba11765ce">  925</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a8c6f307f646f0ab0c69f77aba11765ce">type</a>;</div>
<div class="line"><a name="l00926"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4d37c97041c600bfb28593a7056aeb87">  926</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4d37c97041c600bfb28593a7056aeb87">linno</a>;</div>
<div class="line"><a name="l00927"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a733265cb38a7276e9f95bf3f2117c2af">  927</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a733265cb38a7276e9f95bf3f2117c2af">args</a>;</div>
<div class="line"><a name="l00928"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab49f69631a624c0a0b66fcc8ec44d390">  928</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#ab49f69631a624c0a0b66fcc8ec44d390">body</a>;</div>
<div class="line"><a name="l00929"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a52a2bb424dfb6882c2845d8bfe5cd4fc">  929</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a52a2bb424dfb6882c2845d8bfe5cd4fc">var</a>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;};</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  932</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/df4/structncase">ncase</a> {</div>
<div class="line"><a name="l00933"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa405eafb6ab0b05b19e4d1021b364a44">  933</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#aa405eafb6ab0b05b19e4d1021b364a44">type</a>;</div>
<div class="line"><a name="l00934"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a88475a9af7eacfe42eaa5b9269bd7cfa">  934</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a88475a9af7eacfe42eaa5b9269bd7cfa">linno</a>;</div>
<div class="line"><a name="l00935"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a98fecd06718411eeaa1e2950160af801">  935</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a98fecd06718411eeaa1e2950160af801">expr</a>;</div>
<div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abb7b8212cde863a0f0b0ad755fa20bde">  936</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#abb7b8212cde863a0f0b0ad755fa20bde">cases</a>;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;};</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  939</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d6/dc9/structnclist">nclist</a> {</div>
<div class="line"><a name="l00940"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a911772a50bc633c72f616df8fe5d131d">  940</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a911772a50bc633c72f616df8fe5d131d">type</a>;</div>
<div class="line"><a name="l00941"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2b606e051d83d3814a3d53aad8111a21">  941</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a2b606e051d83d3814a3d53aad8111a21">next</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ada3204903f315a30983ae55160074f1a">  942</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#ada3204903f315a30983ae55160074f1a">pattern</a>;</div>
<div class="line"><a name="l00943"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a50a75a9c2bd1f65ef10bc0b0b9b17969">  943</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a50a75a9c2bd1f65ef10bc0b0b9b17969">body</a>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;};</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  946</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/dc5/structndefun">ndefun</a> {</div>
<div class="line"><a name="l00947"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1c684907a45812b2b5dad3ccfd02b93c">  947</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a1c684907a45812b2b5dad3ccfd02b93c">type</a>;</div>
<div class="line"><a name="l00948"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a981d6ae54e99c1f1d5572663e3056c3f">  948</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a981d6ae54e99c1f1d5572663e3056c3f">linno</a>;</div>
<div class="line"><a name="l00949"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a36acfd30a846545f9736c8e72b4709e7">  949</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a36acfd30a846545f9736c8e72b4709e7">text</a>;</div>
<div class="line"><a name="l00950"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1534dc21f568661ec4d44226a3fb3bb9">  950</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a1534dc21f568661ec4d44226a3fb3bb9">body</a>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;};</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  953</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a> {</div>
<div class="line"><a name="l00954"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aca1bb9189b8cb51e50557e51d3406116">  954</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#aca1bb9189b8cb51e50557e51d3406116">type</a>;</div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a48ffe2ba16597faedb406bcec66923ab">  955</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a48ffe2ba16597faedb406bcec66923ab">next</a>;</div>
<div class="line"><a name="l00956"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac79175bc530bfe0463f3dbc8560ab137">  956</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#ac79175bc530bfe0463f3dbc8560ab137">text</a>;</div>
<div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8ede5a0294f4e7178ff6f27de5073c58">  957</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a8ede5a0294f4e7178ff6f27de5073c58">backquote</a>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;};</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment">/* nfile and ndup layout must match!</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment"> * NTOFD (&gt;&amp;fdnum) uses ndup structure, but we may discover mid-flight</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment"> * that it is actually NTO2 (&gt;&amp;file), and change its type.</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00964"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  964</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/dbc/structnfile">nfile</a> {</div>
<div class="line"><a name="l00965"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afab146b0323a1b3d4e8382b781164270">  965</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#afab146b0323a1b3d4e8382b781164270">type</a>;</div>
<div class="line"><a name="l00966"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af7fccc83bf37def78dcf72add66993ea">  966</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#af7fccc83bf37def78dcf72add66993ea">next</a>;</div>
<div class="line"><a name="l00967"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4259df449db9b4e4373a1dfe851a1818">  967</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4259df449db9b4e4373a1dfe851a1818">fd</a>;</div>
<div class="line"><a name="l00968"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a317b9fec367cca19bdda36cd3ca024a8">  968</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a317b9fec367cca19bdda36cd3ca024a8">_unused_dupfd</a>;</div>
<div class="line"><a name="l00969"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a29e43c66a6c91cd4f15acf9f0f429f07">  969</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a29e43c66a6c91cd4f15acf9f0f429f07">fname</a>;</div>
<div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a57e25a1aa640aed1410db790e15a2fd0">  970</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a57e25a1aa640aed1410db790e15a2fd0">expfname</a>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;};</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  973</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d9/d9b/structndup">ndup</a> {</div>
<div class="line"><a name="l00974"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac88fbbe67392b736c5c14e315ff669b5">  974</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#ac88fbbe67392b736c5c14e315ff669b5">type</a>;</div>
<div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad23a69560e9ca437e8d66959322b12d6">  975</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#ad23a69560e9ca437e8d66959322b12d6">next</a>;</div>
<div class="line"><a name="l00976"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afb06f0cd3a3d17a978d351cd5ec6e7e5">  976</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#afb06f0cd3a3d17a978d351cd5ec6e7e5">fd</a>;</div>
<div class="line"><a name="l00977"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a856483675661a09eb2a7f2cdedaeb228">  977</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a856483675661a09eb2a7f2cdedaeb228">dupfd</a>;</div>
<div class="line"><a name="l00978"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3bda316c02decfdfac4e09f29f66b621">  978</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a3bda316c02decfdfac4e09f29f66b621">vname</a>;</div>
<div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a99a5a68b61443077a8519d0e1fc8972b">  979</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a99a5a68b61443077a8519d0e1fc8972b">_unused_expfname</a>;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;};</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  982</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/d0a/structnhere">nhere</a> {</div>
<div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a74e43f33a6f417b153f8dc673fec0d85">  983</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a74e43f33a6f417b153f8dc673fec0d85">type</a>;</div>
<div class="line"><a name="l00984"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4cadba4a080c7314729299972b407a83">  984</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a4cadba4a080c7314729299972b407a83">next</a>;</div>
<div class="line"><a name="l00985"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8a64f518f7de0811ec585324b6f246ce">  985</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8a64f518f7de0811ec585324b6f246ce">fd</a>;</div>
<div class="line"><a name="l00986"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9bf632f3297f9e5dc5327a548a839677">  986</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a9bf632f3297f9e5dc5327a548a839677">doc</a>;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;};</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">  989</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d15/structnnot">nnot</a> {</div>
<div class="line"><a name="l00990"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0651ee43be8c7693d803f27b5bd87f26">  990</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a0651ee43be8c7693d803f27b5bd87f26">type</a>;</div>
<div class="line"><a name="l00991"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac21e58e29876579d0ff31b050cc0f1b4">  991</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#ac21e58e29876579d0ff31b050cc0f1b4">com</a>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;};</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> {</div>
<div class="line"><a name="l00995"></a><span class="lineno"><a class="line" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">  995</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/da4/structncmd">ncmd</a> <a class="code" href="../../d1/dbe/ash_8c.html#d8/da4/structncmd">ncmd</a>;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d4/d1f/structnpipe">npipe</a> <a class="code" href="../../d1/dbe/ash_8c.html#d4/d1f/structnpipe">npipe</a>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/db3/structnredir">nredir</a> <a class="code" href="../../d1/dbe/ash_8c.html#d5/db3/structnredir">nredir</a>;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d7/d46/structnbinary">nbinary</a> <a class="code" href="../../d1/dbe/ash_8c.html#d7/d46/structnbinary">nbinary</a>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d18/structnif">nif</a> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d18/structnif">nif</a>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/df6/structnfor">nfor</a> <a class="code" href="../../d1/dbe/ash_8c.html#d3/df6/structnfor">nfor</a>;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/df4/structncase">ncase</a> <a class="code" href="../../d1/dbe/ash_8c.html#d8/df4/structncase">ncase</a>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d6/dc9/structnclist">nclist</a> <a class="code" href="../../d1/dbe/ash_8c.html#d6/dc9/structnclist">nclist</a>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/dc5/structndefun">ndefun</a> <a class="code" href="../../d1/dbe/ash_8c.html#d8/dc5/structndefun">ndefun</a>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/dbc/structnfile">nfile</a> <a class="code" href="../../d1/dbe/ash_8c.html#d1/dbc/structnfile">nfile</a>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d9/d9b/structndup">ndup</a> <a class="code" href="../../d1/dbe/ash_8c.html#d9/d9b/structndup">ndup</a>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/d0a/structnhere">nhere</a> <a class="code" href="../../d1/dbe/ash_8c.html#d8/d0a/structnhere">nhere</a>;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d15/structnnot">nnot</a> <a class="code" href="../../d1/dbe/ash_8c.html#df/d15/structnnot">nnot</a>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;};</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment"> * NODE_EOF is returned by parsecmd when it encounters an end of file.</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="comment"> * It must be distinct from NULL.</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af1f38b4cc0d0bffc1ad092cf5fc21506"> 1016</a></span>&#160;<span class="preprocessor">#define NODE_EOF ((union node *) -1L)</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 1018</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> {</div>
<div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1"> 1019</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810"> 1020</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">n</a>;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;};</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 1023</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/daa/structfuncnode">funcnode</a> {</div>
<div class="line"><a name="l01024"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afa936a54ba7776ba8e648c06d605d100"> 1024</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#afa936a54ba7776ba8e648c06d605d100">count</a>;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> <a class="code" href="../../d1/dbe/ash_8c.html#af48e650e6f24d30b0200951712a569ef">n</a>;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;};</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment"> * Free a parse tree.</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a25edec132977e71f2485d16e5ae84168"> 1032</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a25edec132977e71f2485d16e5ae84168">freefunc</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/daa/structfuncnode">funcnode</a> *<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a>)</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;{</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> &amp;&amp; --<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a>-&gt;count &lt; 0)</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a>);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;}</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">/* ============ Debugging output */</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160; </div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *tracefile;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;trace_printf(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;{</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> va;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d66/structdebug.html">debug</a> != 1)</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a70a3f40093610e55d44ba13a7076181d">DEBUG_TIME</a>)</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(tracefile, <span class="stringliteral">&quot;%u &quot;</span>, (<span class="keywordtype">int</span>) <a class="code" href="../../d2/d2f/Userspace_2musl_2include_2time_8h.html#aae026724f73c36340024c657f4f44dab">time</a>(<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a1f5146c749edf8f0f7077c5d0716c935">DEBUG_PID</a>)</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(tracefile, <span class="stringliteral">&quot;[%u] &quot;</span>, (<span class="keywordtype">int</span>) <a class="code" href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid</a>());</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#abf619a7f6f54e8451fa6ed637bca94de">DEBUG_SIG</a>)</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(tracefile, <span class="stringliteral">&quot;pending s:%d i:%d(supp:%d) &quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">pending_sig</a>, <a class="code" href="../../d1/dbe/ash_8c.html#af8ce82ad63add721a0e29e821b7281be">pending_int</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a20e40106fa4a2a4b1c1128b0d025cdf5">suppress_int</a>);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#aa0628ab596c3d7e78f5e08c2d98e24da">va_start</a>(va, fmt);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a238ba3ae728d117984e087d9db33cd13">vfprintf</a>(tracefile, fmt, va);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a823b205416e9129825841b74c3bf8484">va_end</a>(va);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;trace_vprintf(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> va)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;{</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d66/structdebug.html">debug</a> != 1)</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a238ba3ae728d117984e087d9db33cd13">vfprintf</a>(tracefile, fmt, va);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(tracefile, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;}</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;trace_puts(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;{</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d66/structdebug.html">debug</a> != 1)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a02b2cea12480132c204282d07978f959">fputs</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, tracefile);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;trace_puts_quoted(<span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;{</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d66/structdebug.html">debug</a> != 1)</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;&quot;&#39;</span>, tracefile);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>; *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>: <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;n&#39;</span>; <span class="keywordflow">goto</span> backslash;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\t&#39;</span>: <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;t&#39;</span>; <span class="keywordflow">goto</span> backslash;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\r&#39;</span>: <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;r&#39;</span>; <span class="keywordflow">goto</span> backslash;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\&quot;&#39;</span>: <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;\&quot;&#39;</span>; <span class="keywordflow">goto</span> backslash;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\\&#39;</span>: <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;\\&#39;</span>; <span class="keywordflow">goto</span> backslash;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>: <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;e&#39;</span>; <span class="keywordflow">goto</span> backslash;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ae1863f639f12382c610c13d53ea33c01">CTLVAR</a>: <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;v&#39;</span>; <span class="keywordflow">goto</span> backslash;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>: <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;q&#39;</span>; <span class="keywordflow">goto</span> backslash;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keywordflow">case</span> CTLTOPROC: <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;p&#39;</span>; <span class="keywordflow">goto</span> backslash;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="keywordflow">case</span> CTLFROMPROC: <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;P&#39;</span>; <span class="keywordflow">goto</span> backslash;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; backslash:</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;\\&#39;</span>, tracefile);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, tracefile);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt;= <span class="charliteral">&#39; &#39;</span> &amp;&amp; *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &lt;= <span class="charliteral">&#39;~&#39;</span>)</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, tracefile);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;\\&#39;</span>, tracefile);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>((*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt;&gt; 6) &amp; 03, tracefile);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>((*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt;&gt; 3) &amp; 07, tracefile);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &amp; 07, tracefile);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        }</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;&quot;&#39;</span>, tracefile);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;}</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;trace_puts_args(<span class="keywordtype">char</span> **<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>)</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;{</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d66/structdebug.html">debug</a> != 1)</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">if</span> (!*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>)</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        trace_puts_quoted(*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <span class="keywordflow">if</span> (!*++<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>) {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;\n&#39;</span>, tracefile);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39; &#39;</span>, tracefile);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    }</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;}</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;opentrace(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;{</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[100];</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="preprocessor">#ifdef O_APPEND</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d66/structdebug.html">debug</a> != 1) {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="keywordflow">if</span> (tracefile)</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#adb974f28765a31026ee6bf71d5175951">fflush</a>(tracefile);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <span class="comment">/* leave open because libedit might be using it */</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    }</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#a06688b0d2444199f657ccb56b0ce11b3">strcpy</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <span class="stringliteral">&quot;./trace&quot;</span>);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span> (tracefile) {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a7f86d3747887e65d7d02e4792030fad0">freopen</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <span class="stringliteral">&quot;a&quot;</span>, tracefile)) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;Can&#39;t re-open %s\n&quot;</span>, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            <a class="code" href="../../d6/d66/structdebug.html">debug</a> = 0;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        tracefile = <a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#ae2ec3b9037ed12c33f4f7327099f615c">fopen</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <span class="stringliteral">&quot;a&quot;</span>);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <span class="keywordflow">if</span> (tracefile == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;Can&#39;t open %s\n&quot;</span>, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            <a class="code" href="../../d6/d66/structdebug.html">debug</a> = 0;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="preprocessor">#ifdef O_APPEND</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a>(<a class="code" href="../../d7/d6b/fileno_8c.html#a8262871768d894c0962fa898b9680ce4">fileno</a>(tracefile), <a class="code" href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#a025fad21a889c79f02ec53abe3526c32">F_GETFL</a>);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &gt;= 0)</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a>(<a class="code" href="../../d7/d6b/fileno_8c.html#a8262871768d894c0962fa898b9680ce4">fileno</a>(tracefile), <a class="code" href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#af2939853c650561d3495ed40f68f6249">F_SETFL</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> | <a class="code" href="../../d1/d85/filesystem_8hpp.html#ae036f789407d21f07b211552d67b3214">O_APPEND</a>);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <a class="code" href="../../de/d10/musl_2src_2stdio_2setlinebuf_8c.html#a2e13e101d5a57cfccf1bab51f8768a5d">setlinebuf</a>(tracefile);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a02b2cea12480132c204282d07978f959">fputs</a>(<span class="stringliteral">&quot;\nTracing started.\n&quot;</span>, tracefile);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;}</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<a class="code" href="../../d6/d90/hush_8c.html#a63573b8e4d6bd1efc2657355a72c032e">indent</a>(<span class="keywordtype">int</span> amount, <span class="keywordtype">char</span> *pfx, <a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *fp)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;{</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; amount; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="keywordflow">if</span> (pfx &amp;&amp; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == amount - 1)</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a02b2cea12480132c204282d07978f959">fputs</a>(pfx, fp);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;\t&#39;</span>, fp);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    }</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;}</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="comment">/* little circular references here... */</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> shtree(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">int</span> ind, <span class="keywordtype">char</span> *pfx, <a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *fp);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;sharg(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>, <a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *fp)</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;{</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *bqlist;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> subtype;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>-&gt;type != <a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;&lt;node type %d&gt;\n&quot;</span>, <a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>-&gt;type);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a>();</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    bqlist = <a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>-&gt;narg.backquote;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>-&gt;narg.text; *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++) {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>:</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, fp);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ae1863f639f12382c610c13d53ea33c01">CTLVAR</a>:</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;$&#39;</span>, fp);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;{&#39;</span>, fp);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            subtype = *++<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            <span class="keywordflow">if</span> (subtype == <a class="code" href="../../d1/dbe/ash_8c.html#a252bfb51e3aaaead48778387d4db014c">VSLENGTH</a>)</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;#&#39;</span>, fp);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;            <span class="keywordflow">while</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != <span class="charliteral">&#39;=&#39;</span>) {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, fp);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            }</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            <span class="keywordflow">if</span> (subtype &amp; <a class="code" href="../../d1/dbe/ash_8c.html#ad557438155906b9dc1a3a6fee168ceb3">VSNUL</a>)</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;:&#39;</span>, fp);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160; </div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;            <span class="keywordflow">switch</span> (subtype &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9e9b4cf0195e0b55558bef9788071c10">VSTYPE</a>) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a3c58eaf841c80ab6d8e9acdf52172d33">VSNORMAL</a>:</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;}&#39;</span>, fp);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a34566e0b5e69a5a690d149fd7b1ee52d">VSMINUS</a>:</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;-&#39;</span>, fp);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac3a97935f5f86ca67b513b3ed3e576d5">VSPLUS</a>:</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;+&#39;</span>, fp);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#abd06ab98107e417c725a24580a15b566">VSQUESTION</a>:</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;?&#39;</span>, fp);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aac40b5dd63c7a97a8f63ba1944f2b137">VSASSIGN</a>:</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;=&#39;</span>, fp);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a36bca9db2dbf431324629bdd81a36d02">VSTRIMLEFT</a>:</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;#&#39;</span>, fp);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4b789a45741aa8c9d9c995b497347e74">VSTRIMLEFTMAX</a>:</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;#&#39;</span>, fp);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;#&#39;</span>, fp);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a23306e67a1676110c786b103b6edeb14">VSTRIMRIGHT</a>:</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;%&#39;</span>, fp);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#af1a10a9c8fb23b3c9ee017fd02f711bc">VSTRIMRIGHTMAX</a>:</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;%&#39;</span>, fp);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;%&#39;</span>, fp);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a252bfb51e3aaaead48778387d4db014c">VSLENGTH</a>:</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;&lt;subtype %d&gt;&quot;</span>, subtype);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;            }</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4b4b55d19841657b0d741ce7b516aee0">CTLENDVAR</a>:</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;}&#39;</span>, fp);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <span class="keywordflow">case</span> CTLTOPROC:</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;&gt;&#39;</span>, fp);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            <span class="keywordflow">goto</span> backq;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <span class="keywordflow">case</span> CTLFROMPROC:</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;&lt;&#39;</span>, fp);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            <span class="keywordflow">goto</span> backq;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>:</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;$&#39;</span>, fp);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; <a class="code" href="../../d1/dbe/ash_8c.html#a8f73002ccbaeafd27361a583fd1ac429">IF_BASH_PROCESS_SUBST</a>(backq:)</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;(&#39;</span>, fp);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            shtree(bqlist-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">n</a>, -1, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, fp);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;)&#39;</span>, fp);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, fp);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        }</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;}</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;shcmd(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *fp)</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;{</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *np;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordtype">int</span> dftfd;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <a class="code" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a> = 1;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="keywordflow">for</span> (np = <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;ncmd.args; np; np = np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a48ffe2ba16597faedb406bcec66923ab">next</a>) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a>)</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39; &#39;</span>, fp);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        sharg(np, fp);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        <a class="code" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a> = 0;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">for</span> (np = <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;ncmd.redirect; np; np = np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a0f2e446d6c6f0ba6663e8d1a52bfc44e">nfile</a>.<a class="code" href="../../d1/dbe/ash_8c.html#af7fccc83bf37def78dcf72add66993ea">next</a>) {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a>)</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39; &#39;</span>, fp);</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        dftfd = 0;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="keywordflow">switch</span> (np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a0f2e446d6c6f0ba6663e8d1a52bfc44e">nfile</a>.<a class="code" href="../../d1/dbe/ash_8c.html#afab146b0323a1b3d4e8382b781164270">type</a>) {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a658038e4a47dea3db2c5ab2a3446e02a">NTO</a>:      <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="stringliteral">&quot;&gt;&gt;&quot;</span>+1; dftfd = 1; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a044ff0b816ace1617b5a80ef22042484">NCLOBBER</a>: <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="stringliteral">&quot;&gt;|&quot;</span>; dftfd = 1; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7e16466b836f34200e785c653b136dcf">NAPPEND</a>:  <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="stringliteral">&quot;&gt;&gt;&quot;</span>; dftfd = 1; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="keywordflow">case</span> NTO2:</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">NTOFD</a>:    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="stringliteral">&quot;&gt;&amp;&quot;</span>; dftfd = 1; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aefcff7735123e7551631570d3bbb418f">NFROM</a>:    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="stringliteral">&quot;&lt;&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">NFROMFD</a>:  <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="stringliteral">&quot;&lt;&amp;&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa5fc21dad7ff6ca79ff1e9c481b33787">NFROMTO</a>:  <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="stringliteral">&quot;&lt;&gt;&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <span class="keywordflow">default</span>:       <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="stringliteral">&quot;*error*&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <span class="keywordflow">if</span> (np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a0f2e446d6c6f0ba6663e8d1a52bfc44e">nfile</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a4259df449db9b4e4373a1dfe851a1818">fd</a> != dftfd)</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(fp, <span class="stringliteral">&quot;%d&quot;</span>, np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a0f2e446d6c6f0ba6663e8d1a52bfc44e">nfile</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a4259df449db9b4e4373a1dfe851a1818">fd</a>);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a02b2cea12480132c204282d07978f959">fputs</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, fp);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <span class="keywordflow">if</span> (np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a0f2e446d6c6f0ba6663e8d1a52bfc44e">nfile</a>.<a class="code" href="../../d1/dbe/ash_8c.html#afab146b0323a1b3d4e8382b781164270">type</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">NTOFD</a> || np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a0f2e446d6c6f0ba6663e8d1a52bfc44e">nfile</a>.<a class="code" href="../../d1/dbe/ash_8c.html#afab146b0323a1b3d4e8382b781164270">type</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">NFROMFD</a>) {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(fp, <span class="stringliteral">&quot;%d&quot;</span>, np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ab10df406e71898874813b7ec63936c70">ndup</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a856483675661a09eb2a7f2cdedaeb228">dupfd</a>);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;            sharg(np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a0f2e446d6c6f0ba6663e8d1a52bfc44e">nfile</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a29e43c66a6c91cd4f15acf9f0f429f07">fname</a>, fp);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <a class="code" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a> = 0;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;}</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160; </div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;shtree(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">int</span> ind, <span class="keywordtype">char</span> *pfx, <a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *fp)</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;{</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *lp;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160; </div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <a class="code" href="../../d6/d90/hush_8c.html#a63573b8e4d6bd1efc2657355a72c032e">indent</a>(ind, pfx, fp);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160; </div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> == <a class="code" href="../../d1/dbe/ash_8c.html#af1f38b4cc0d0bffc1ad092cf5fc21506">NODE_EOF</a>) {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a02b2cea12480132c204282d07978f959">fputs</a>(<span class="stringliteral">&quot;&lt;EOF&gt;&quot;</span>, fp);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type) {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a9b85d29ae92a08c0a12c42cc7f302dfb">NSEMI</a>:</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="stringliteral">&quot;; &quot;</span>;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a9377d79f306851de141662a690fa9114">binop</a>;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a923cb4a4043639f6d8d4108c84bb8f8f">NAND</a>:</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="stringliteral">&quot; &amp;&amp; &quot;</span>;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a9377d79f306851de141662a690fa9114">binop</a>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0dd10f6b3ad00611521e0a7ebc8c18ad">NOR</a>:</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="stringliteral">&quot; || &quot;</span>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a9377d79f306851de141662a690fa9114">binop</a>:</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        shtree(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch1, ind, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, fp);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <span class="comment">/* if (ind &lt; 0) */</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a02b2cea12480132c204282d07978f959">fputs</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, fp);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        shtree(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch2, ind, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, fp);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">NCMD</a>:</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        shcmd(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, fp);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <span class="keywordflow">if</span> (ind &gt;= 0)</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;\n&#39;</span>, fp);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a6b0054e65df0932a5e1c92c4f707358b">NPIPE</a>:</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <span class="keywordflow">for</span> (lp = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;npipe.cmdlist; lp; lp = lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a>) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            shtree(lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">n</a>, 0, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, fp);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <span class="keywordflow">if</span> (lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a>)</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a02b2cea12480132c204282d07978f959">fputs</a>(<span class="stringliteral">&quot; | &quot;</span>, fp);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;npipe.pipe_backgnd)</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a02b2cea12480132c204282d07978f959">fputs</a>(<span class="stringliteral">&quot; &amp;&quot;</span>, fp);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <span class="keywordflow">if</span> (ind &gt;= 0)</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;\n&#39;</span>, fp);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(fp, <span class="stringliteral">&quot;&lt;node type %d&gt;&quot;</span>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        <span class="keywordflow">if</span> (ind &gt;= 0)</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a>(<span class="charliteral">&#39;\n&#39;</span>, fp);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    }</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;}</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;showtree(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;{</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    trace_puts(<span class="stringliteral">&quot;showtree called\n&quot;</span>);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    shtree(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, 1, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;}</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment">/* ============ Message printing */</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afe2d6e5974d7f6ec31be7bd725ee74ce"> 1398</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#afe2d6e5974d7f6ec31be7bd725ee74ce">ash_vmsg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *msg, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>)</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;{</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;%s: &quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a4d8f94d47a736d70ada8c5afbe26b248">arg0</a>);</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ad4f846f3f19caa87ad67d24b3a77f307">commandname</a>) {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a4d8f94d47a736d70ada8c5afbe26b248">arg0</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ad4f846f3f19caa87ad67d24b3a77f307">commandname</a>))</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;            <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;%s: &quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#ad4f846f3f19caa87ad67d24b3a77f307">commandname</a>);</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a> || <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a> &gt; 0)</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;line %d: &quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#ae722c93936e1e5aae33466c078f99c71">errlinno</a>);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a238ba3ae728d117984e087d9db33cd13">vfprintf</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, msg, <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a14c0b1d6e8225850405db69fa1baec6f">newline_and_flush</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;}</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment"> * Exverror is called to raise the error exception.  If the second argument</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="comment"> * is not NULL then error prints an error message using printf style</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="comment"> * formatting.  It then raises the error exception.</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a976fd5853abfd237dfb13dbe0582b045"> 1416</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a976fd5853abfd237dfb13dbe0582b045">ash_vmsg_and_raise</a>(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a>) <a class="code" href="../../de/d03/platform_8h.html#aa1728270d73c5d1598de1fd691762eb1">NORETURN</a>;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a976fd5853abfd237dfb13dbe0582b045">ash_vmsg_and_raise</a>(<span class="keywordtype">int</span> cond, <span class="keyword">const</span> <span class="keywordtype">char</span> *msg, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>)</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;{</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">if</span> (msg) {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;ash_vmsg_and_raise(%d):&quot;</span>, cond));</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aaaab45e4577a3ba933c37f597dc8d394">TRACEV</a>((msg, <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>));</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;ash_vmsg_and_raise(%d):NULL\n&quot;</span>, cond));</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afe2d6e5974d7f6ec31be7bd725ee74ce">ash_vmsg</a>(msg, <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160; </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8b4918e978236b595cd0683297407875">flush_stdout_stderr</a>();</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    raise_exception(cond);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;}</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661"> 1435</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, ...) <a class="code" href="../../de/d03/platform_8h.html#aa1728270d73c5d1598de1fd691762eb1">NORETURN</a>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;static <span class="keywordtype">void</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(const <span class="keywordtype">char</span> *msg, ...)</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;{</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = 2;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#aa0628ab596c3d7e78f5e08c2d98e24da">va_start</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>, msg);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a976fd5853abfd237dfb13dbe0582b045">ash_vmsg_and_raise</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ade601d2771be2d1ffb456155112dcca6">EXERROR</a>, msg, <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a823b205416e9129825841b74c3bf8484">va_end</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;}</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160; </div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="comment"> * &#39;fmt&#39; must be a string literal.</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d"> 1452</a></span>&#160;<span class="preprocessor">#define ash_msg_and_raise_perror(fmt, ...) ash_msg_and_raise_error(fmt &quot;: &quot;</span>STRERROR_FMT, ##__VA_ARGS__ STRERROR_ERRNO)</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; </div>
<div class="line"><a name="l01454"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6"> 1454</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code" href="../../de/d03/platform_8h.html#aa1728270d73c5d1598de1fd691762eb1">NORETURN</a>;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *msg)</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;{</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae722c93936e1e5aae33466c078f99c71">errlinno</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">linno</a>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;syntax error: %s&quot;</span>, msg);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;}</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1d3f761a16dbc32edd046d3971af79ee"> 1463</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a1d3f761a16dbc32edd046d3971af79ee">ash_msg_and_raise</a>(<span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *, ...) <a class="code" href="../../de/d03/platform_8h.html#aa1728270d73c5d1598de1fd691762eb1">NORETURN</a>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;static <span class="keywordtype">void</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a1d3f761a16dbc32edd046d3971af79ee">ash_msg_and_raise</a>(<span class="keywordtype">int</span> cond, const <span class="keywordtype">char</span> *msg, ...)</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;{</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160; </div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#aa0628ab596c3d7e78f5e08c2d98e24da">va_start</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>, msg);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a976fd5853abfd237dfb13dbe0582b045">ash_vmsg_and_raise</a>(cond, msg, <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a823b205416e9129825841b74c3bf8484">va_end</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;}</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="comment"> * error/warning routines for external builtins</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3d04906647d0af85e349744f980ac037"> 1479</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a3d04906647d0af85e349744f980ac037">ash_msg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;{</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160; </div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#aa0628ab596c3d7e78f5e08c2d98e24da">va_start</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>, fmt);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afe2d6e5974d7f6ec31be7bd725ee74ce">ash_vmsg</a>(fmt, <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a823b205416e9129825841b74c3bf8484">va_end</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;}</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160; </div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment"> * Return a string describing an error.  The returned string may be a</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment"> * pointer to a static buffer that will be overwritten on the next call.</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment"> * Action describes the operation that got the error.</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l01494"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a971bed606674f492145ee75af6557f7a"> 1494</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a971bed606674f492145ee75af6557f7a">errmsg</a>(<span class="keywordtype">int</span> e, <span class="keyword">const</span> <span class="keywordtype">char</span> *em)</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;{</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="keywordflow">if</span> (e == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a> || e == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a9262fb92f7ef662d0bdd577912a5b101">ENOTDIR</a>) {</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <span class="keywordflow">return</span> em;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    }</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d3a/errlist_8c.html#a558c31d07190c0a536ec2a340b1eae07">strerror</a>(e);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;}</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160; </div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<span class="comment">/* ============ Memory allocation */</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="comment">/* I consider these wrappers nearly useless:</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="comment"> * ok, they return you to nearest exception handler, but</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="comment"> * how much memory do you leak in the process, making</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="comment"> * memory starvation worse?</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ad66533db7ebe77ead31ba1fda6be3a58">ckrealloc</a>(<span class="keywordtype">void</span> * <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keywordtype">size_t</span> nbytes)</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;{</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d5/db0/dynlink_8c.html#a1b739878adcdb46fb5d209af7ce79628">realloc</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, nbytes);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(bb_msg_memory_exhausted);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;}</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a27cf7b0a48a767c21a2c6eb91713b243">ckmalloc</a>(<span class="keywordtype">size_t</span> nbytes)</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;{</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad66533db7ebe77ead31ba1fda6be3a58">ckrealloc</a>(<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, nbytes);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;}</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160; </div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(<span class="keywordtype">size_t</span> nbytes)</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;{</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a27cf7b0a48a767c21a2c6eb91713b243">ckmalloc</a>(nbytes), 0, nbytes);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;}</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160; </div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ae636b85e9fda111db77be3efbad1c862">ckstrdup</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;{</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d3/d82/convert_8h.html#a73d3b899fd0ce1012c7cc634f62401ed">strdup</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(bb_msg_memory_exhausted);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;}</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="comment">/* Using bbox equivalents. They exit if out of memory */</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad66533db7ebe77ead31ba1fda6be3a58"> 1542</a></span>&#160;<span class="preprocessor"># define ckrealloc xrealloc</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a27cf7b0a48a767c21a2c6eb91713b243"> 1543</a></span>&#160;<span class="preprocessor"># define ckmalloc  xmalloc</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f"> 1544</a></span>&#160;<span class="preprocessor"># define ckzalloc  xzalloc</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae636b85e9fda111db77be3efbad1c862"> 1545</a></span>&#160;<span class="preprocessor"># define ckstrdup  xstrdup</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160; </div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="comment"> * It appears that grabstackstr() will barf with such alignments</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment"> * because stalloc() will return a string allocated in a new stackblock.</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa"> 1552</a></span>&#160;<span class="preprocessor">#define SHELL_ALIGN(nbytes) (((nbytes) + SHELL_SIZE) &amp; ~SHELL_SIZE)</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <span class="comment">/* Most machines require the value returned from malloc to be aligned</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="comment">     * in some way.  The following macro will get this right</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="comment">     * on many machines.  */</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6de8ace822a6024b65ee483f98004747a8b61b188049ae7afa5f631ea05bdd87e"> 1557</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6de8ace822a6024b65ee483f98004747a8b61b188049ae7afa5f631ea05bdd87e">SHELL_SIZE</a> = <span class="keyword">sizeof</span>(<span class="keyword">union </span>{ <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>; <span class="keywordtype">char</span> *cp; <span class="keywordtype">double</span> d; }) - 1,</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="comment">/* Minimum size of a block */</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6de8ace822a6024b65ee483f98004747ae7f551f21b815f6af6c4ef5d2b0cdce0"> 1559</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6de8ace822a6024b65ee483f98004747ae7f551f21b815f6af6c4ef5d2b0cdce0">MINSIZE</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(504),</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;};</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160; </div>
<div class="line"><a name="l01562"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 1562</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d58/structstack__block">stack_block</a> {</div>
<div class="line"><a name="l01563"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a35c7e4c7399a2285b06692824c17454c"> 1563</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d58/structstack__block">stack_block</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a35c7e4c7399a2285b06692824c17454c">prev</a>;</div>
<div class="line"><a name="l01564"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac6c282b2a1c7789eda63f71fb3bc437e"> 1564</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac6c282b2a1c7789eda63f71fb3bc437e">space</a>[<a class="code" href="../../d1/dbe/ash_8c.html#a6de8ace822a6024b65ee483f98004747ae7f551f21b815f6af6c4ef5d2b0cdce0">MINSIZE</a>];</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;};</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 1567</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> {</div>
<div class="line"><a name="l01568"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a41cc9804234e874a7d3f76a4e6f72f47"> 1568</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d58/structstack__block">stack_block</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a41cc9804234e874a7d3f76a4e6f72f47">stackp</a>;</div>
<div class="line"><a name="l01569"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac68d43625d4b5a646f28556077e380b8"> 1569</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#ac68d43625d4b5a646f28556077e380b8">stacknxt</a>;</div>
<div class="line"><a name="l01570"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a22019d1f91478ef5498b1cb47a8c2c03"> 1570</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dbe/ash_8c.html#a22019d1f91478ef5498b1cb47a8c2c03">stacknleft</a>;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;};</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160; </div>
<div class="line"><a name="l01574"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 1574</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#db/df2/structglobals__memstack">globals_memstack</a> {</div>
<div class="line"><a name="l01575"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad7594bf55940ce87e563bceeee17b2c6"> 1575</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d58/structstack__block">stack_block</a> *<a class="code" href="../../d1/dbe/ash_8c.html#ad7594bf55940ce87e563bceeee17b2c6">g_stackp</a>; <span class="comment">// = &amp;stackbase;</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a97a7d14548ffd43dbdb7b209f61c725b"> 1576</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a97a7d14548ffd43dbdb7b209f61c725b">g_stacknxt</a>; <span class="comment">// = stackbase.space;</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7ad20fd6512078ad094257879f3871b3"> 1577</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a7ad20fd6512078ad094257879f3871b3">sstrend</a>; <span class="comment">// = stackbase.space + MINSIZE;</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac326e027b0ea7825a5fe7a3b3fd5b37a"> 1578</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac326e027b0ea7825a5fe7a3b3fd5b37a">g_stacknleft</a>; <span class="comment">// = MINSIZE;</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d58/structstack__block">stack_block</a> <a class="code" href="../../d1/dbe/ash_8c.html#a5148dcf77a8e551d3afe9e232c0f4dd7">stackbase</a>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;};</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#db/df2/structglobals__memstack">globals_memstack</a> *<a class="code" href="../../d7/dd7/libbb_8h.html#a89ec5ec9e0740df0a49184529997db64">BB_GLOBAL_CONST</a> <a class="code" href="../../d1/dbe/ash_8c.html#a540a4eab564025a2e4c705fd774e6366">ash_ptr_to_globals_memstack</a>;</div>
<div class="line"><a name="l01582"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad2d745d2ffe3715ed7f79173461393ef"> 1582</a></span>&#160;<span class="preprocessor">#define G_memstack (*ash_ptr_to_globals_memstack)</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225"> 1583</a></span>&#160;<span class="preprocessor">#define g_stackp     (G_memstack.g_stackp    )</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25"> 1584</a></span>&#160;<span class="preprocessor">#define g_stacknxt   (G_memstack.g_stacknxt  )</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac9327876282c1cd74318e2123168f698"> 1585</a></span>&#160;<span class="preprocessor">#define sstrend      (G_memstack.sstrend     )</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216"> 1586</a></span>&#160;<span class="preprocessor">#define g_stacknleft (G_memstack.g_stacknleft)</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5f77a155edd6a9a46c390dfe7a4117a1"> 1587</a></span>&#160;<span class="preprocessor">#define stackbase    (G_memstack.stackbase   )</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a683114bcf1e40813ad554788af1b5e1a"> 1588</a></span>&#160;<span class="preprocessor">#define INIT_G_memstack() do { \</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="preprocessor">    XZALLOC_CONST_PTR(&amp;ash_ptr_to_globals_memstack, sizeof(G_memstack)); \</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="preprocessor">    g_stackp = &amp;stackbase; \</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="preprocessor">    g_stacknxt = stackbase.space; \</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="preprocessor">    g_stacknleft = MINSIZE; \</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="preprocessor">    sstrend = stackbase.space + MINSIZE; \</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160; </div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160; </div>
<div class="line"><a name="l01597"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28"> 1597</a></span>&#160;<span class="preprocessor">#define stackblock()     ((void *)g_stacknxt)</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab2b1b9933d7ac82f58bf7dd6f5895483"> 1598</a></span>&#160;<span class="preprocessor">#define stackblocksize() g_stacknleft</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment"> * Parse trees for commands are allocated in lifo order, so we use a stack</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment"> * to make this more efficient, and also to avoid all sorts of exception</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="comment"> * handling code to handle interrupts in the middle of a parse.</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="comment"> * The size 504 was chosen because the Ultrix malloc handles that size</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="comment"> * well.</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *</div>
<div class="line"><a name="l01609"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7a1a6d8c702ae5df5dcfe038a1708158"> 1609</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a7a1a6d8c702ae5df5dcfe038a1708158">stalloc</a>(<span class="keywordtype">size_t</span> nbytes)</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;{</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordtype">size_t</span> aligned;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    aligned = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(nbytes);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">if</span> (aligned &gt; <a class="code" href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216">g_stacknleft</a>) {</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        <span class="keywordtype">size_t</span> blocksize;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d58/structstack__block">stack_block</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160; </div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        blocksize = aligned;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        <span class="keywordflow">if</span> (blocksize &lt; <a class="code" href="../../d1/dbe/ash_8c.html#a6de8ace822a6024b65ee483f98004747ae7f551f21b815f6af6c4ef5d2b0cdce0">MINSIZE</a>)</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            blocksize = <a class="code" href="../../d1/dbe/ash_8c.html#a6de8ace822a6024b65ee483f98004747ae7f551f21b815f6af6c4ef5d2b0cdce0">MINSIZE</a>;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d58/structstack__block">stack_block</a>) - <a class="code" href="../../d1/dbe/ash_8c.html#a6de8ace822a6024b65ee483f98004747ae7f551f21b815f6af6c4ef5d2b0cdce0">MINSIZE</a> + blocksize;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &lt; blocksize)</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(bb_msg_memory_exhausted);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a27cf7b0a48a767c21a2c6eb91713b243">ckmalloc</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;prev = <a class="code" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a>;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;space;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216">g_stacknleft</a> = blocksize;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ac9327876282c1cd74318e2123168f698">sstrend</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a> + blocksize;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    }</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a>;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a> += aligned;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216">g_stacknleft</a> -= aligned;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;}</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160; </div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *</div>
<div class="line"><a name="l01642"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140"> 1642</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keywordtype">size_t</span> nbytes)</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;{</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a7a1a6d8c702ae5df5dcfe038a1708158">stalloc</a>(nbytes), 0, nbytes);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;}</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6b68a742933812f9207781ad603496b9"> 1648</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a6b68a742933812f9207781ad603496b9">stunalloc</a>(<span class="keywordtype">void</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;{</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> || (<a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a> &lt; (<span class="keywordtype">char</span> *)<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) || ((<span class="keywordtype">char</span> *)p &lt; g_stackp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ac6c282b2a1c7789eda63f71fb3bc437e">space</a>)) {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#abd6ad778aba7e4737ddd9ccb3b1335ff">write</a>(<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae2fe1725bb5e9823d089c46b9ed5266e">STDERR_FILENO</a>, <span class="stringliteral">&quot;stunalloc\n&quot;</span>, 10);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a>();</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    }</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216">g_stacknleft</a> += <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;}</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160; </div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="comment"> * Like strdup but works with the ash stack.</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l01664"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8a9439fe2ef12c44f9a6ced41a4e21a0"> 1664</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8a9439fe2ef12c44f9a6ced41a4e21a0">sstrdup</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;{</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) + 1;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a7a1a6d8c702ae5df5dcfe038a1708158">stalloc</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>), <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;}</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160; </div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#aa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae248323ad6e70abe4b5380879e6434e0"> 1671</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ae248323ad6e70abe4b5380879e6434e0">grabstackblock</a>(<span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>)</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;{</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7a1a6d8c702ae5df5dcfe038a1708158">stalloc</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;}</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5c67d866850019e4c058432478c9c28f"> 1677</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a5c67d866850019e4c058432478c9c28f">pushstackmark</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> *<a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>, <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>)</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;{</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>-&gt;stackp = <a class="code" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a>;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>-&gt;stacknxt = <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>-&gt;stacknleft = <a class="code" href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216">g_stacknleft</a>;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae248323ad6e70abe4b5380879e6434e0">grabstackblock</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;}</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160; </div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac25a899a708eb1c90b1b0bafdb14b88d"> 1686</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac25a899a708eb1c90b1b0bafdb14b88d">setstackmark</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> *<a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>)</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;{</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c67d866850019e4c058432478c9c28f">pushstackmark</a>(<a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a> == <a class="code" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a>-&gt;space &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a> != &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a5f77a155edd6a9a46c390dfe7a4117a1">stackbase</a>);</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;}</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160; </div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125"> 1692</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> *<a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>)</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;{</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d58/structstack__block">stack_block</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160; </div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>-&gt;stackp)</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a> != <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>-&gt;stackp) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;prev;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a> = <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>-&gt;stacknxt;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216">g_stacknleft</a> = <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>-&gt;stacknleft;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac9327876282c1cd74318e2123168f698">sstrend</a> = <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>-&gt;stacknxt + <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>-&gt;stacknleft;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;}</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160; </div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="comment"> * When the parser reads in a string, it wants to stick the string on the</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="comment"> * stack and only adjust the stack pointer when it knows how big the</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="comment"> * string is.  Stackblock (defined in stack.h) returns a pointer to a block</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;<span class="comment"> * of space on top of the stack and stackblocklen returns the length of</span></div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;<span class="comment"> * this block.  Growstackblock will grow this space by at least one byte,</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="comment"> * possibly moving it (like realloc).  Grabstackblock actually allocates the</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;<span class="comment"> * part of the block that has been used.</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac192d49c423cba2dca972bc659a8638e"> 1721</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac192d49c423cba2dca972bc659a8638e">growstackblock</a>(<span class="keywordtype">size_t</span> <a class="code" href="../../da/d5c/xz__config_8h.html#abb702d8b501669a23aa0ab3b281b9384">min</a>)</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;{</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keywordtype">size_t</span> newlen;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160; </div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    newlen = <a class="code" href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216">g_stacknleft</a> * 2;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">if</span> (newlen &lt; <a class="code" href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216">g_stacknleft</a>)</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(bb_msg_memory_exhausted);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <a class="code" href="../../da/d5c/xz__config_8h.html#abb702d8b501669a23aa0ab3b281b9384">min</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<a class="code" href="../../da/d5c/xz__config_8h.html#abb702d8b501669a23aa0ab3b281b9384">min</a> | 128);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">if</span> (newlen &lt; <a class="code" href="../../da/d5c/xz__config_8h.html#abb702d8b501669a23aa0ab3b281b9384">min</a>)</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        newlen += <a class="code" href="../../da/d5c/xz__config_8h.html#abb702d8b501669a23aa0ab3b281b9384">min</a>;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a> == <a class="code" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a>-&gt;space &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a> != &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a5f77a155edd6a9a46c390dfe7a4117a1">stackbase</a>) {</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d58/structstack__block">stack_block</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d58/structstack__block">stack_block</a> *prevstackp;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="keywordtype">size_t</span> grosslen;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160; </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a>;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        prevstackp = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;prev;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        grosslen = newlen + <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d58/structstack__block">stack_block</a>) - <a class="code" href="../../d1/dbe/ash_8c.html#a6de8ace822a6024b65ee483f98004747ae7f551f21b815f6af6c4ef5d2b0cdce0">MINSIZE</a>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ad66533db7ebe77ead31ba1fda6be3a58">ckrealloc</a>(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>, grosslen);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;prev = prevstackp;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;space;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216">g_stacknleft</a> = newlen;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ac9327876282c1cd74318e2123168f698">sstrend</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;space + newlen;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        <span class="keywordtype">char</span> *oldspace = <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a>;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <span class="keywordtype">size_t</span> oldlen = <a class="code" href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216">g_stacknleft</a>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7a1a6d8c702ae5df5dcfe038a1708158">stalloc</a>(newlen);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160; </div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        <span class="comment">/* free the space we just allocated */</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a> = <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, oldspace, oldlen);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216">g_stacknleft</a> += newlen;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    }</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;}</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160; </div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;<span class="comment"> * The following routines are somewhat easier to use than the above.</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;<span class="comment"> * The user declares a variable of type STACKSTR, which may be declared</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="comment"> * to be a register.  The macro STARTSTACKSTR initializes things.  Then</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="comment"> * the user uses the macro STPUTC to add characters to the string.  In</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<span class="comment"> * effect, STPUTC(c, p) is the same as *p++ = c except that the stack is</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="comment"> * grown as necessary.  When the user is done, she can just leave the</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="comment"> * string there and refer to it using stackblock().  Or she can allocate</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="comment"> * the space for it using grabstackstr().  If it is necessary to allow</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;<span class="comment"> * someone else to use the stack temporarily and then continue to grow</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="comment"> * the string, the user should use grabstack to allocate the space, and</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;<span class="comment"> * then call ungrabstr(p) to return to the previous mode of operation.</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;<span class="comment"> * USTPUTC is like STPUTC except that it doesn&#39;t check for overflow.</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<span class="comment"> * CHECKSTACKSPACE can be called before USTPUTC to ensure that there</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="comment"> * is space for at least one character.</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *</div>
<div class="line"><a name="l01777"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a51cb864227836eac29a01d9981fc4fd4"> 1777</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a51cb864227836eac29a01d9981fc4fd4">growstackstr</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;{</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ab2b1b9933d7ac82f58bf7dd6f5895483">stackblocksize</a>();</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac192d49c423cba2dca972bc659a8638e">growstackblock</a>(0);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;}</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160; </div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l01785"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abf7ce6bae45c1abc22e3097c86c9ca92"> 1785</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#abf7ce6bae45c1abc22e3097c86c9ca92">growstackto</a>(<span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>)</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;{</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ab2b1b9933d7ac82f58bf7dd6f5895483">stackblocksize</a>() &lt; <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>)</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ac192d49c423cba2dca972bc659a8638e">growstackblock</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;}</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="comment"> * Called from CHECKSTRSPACE.</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l01796"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8fbe4c07cec9e449521386e9b41608c0"> 1796</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8fbe4c07cec9e449521386e9b41608c0">makestrspace</a>(<span class="keywordtype">size_t</span> newlen, <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;{</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - <a class="code" href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a>;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#abf7ce6bae45c1abc22e3097c86c9ca92">growstackto</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + newlen) + <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;}</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160; </div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l01804"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac260542db295b0a3fdd8db0fe178d06a"> 1804</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac260542db295b0a3fdd8db0fe178d06a">stnputs</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <span class="keywordtype">size_t</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;{</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8fbe4c07cec9e449521386e9b41608c0">makestrspace</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/dfd/mempcpy_8c.html#a7ac7c0f43132e3acf013e0c71a58cdc9">mempcpy</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;}</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160; </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l01812"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acd5e4eb81ce2b9efcd1d8ff5e53b6096"> 1812</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#acd5e4eb81ce2b9efcd1d8ff5e53b6096">stack_putstr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;{</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac260542db295b0a3fdd8db0fe178d06a">stnputs</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>), <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;}</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160; </div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l01818"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a582845c311f03e1deb2170fd0b605457"> 1818</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a582845c311f03e1deb2170fd0b605457">_STPUTC</a>(<span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;{</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d1/dbe/ash_8c.html#ac9327876282c1cd74318e2123168f698">sstrend</a>)</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a51cb864227836eac29a01d9981fc4fd4">growstackstr</a>();</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++ = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;}</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160; </div>
<div class="line"><a name="l01826"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a51947f73159e14e6d1deac7c491013ac"> 1826</a></span>&#160;<span class="preprocessor">#define STARTSTACKSTR(p)        ((p) = stackblock())</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf"> 1827</a></span>&#160;<span class="preprocessor">#define STPUTC(c, p)            ((p) = _STPUTC((c), (p)))</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a057466ea74f4c9b34545c2e21aedc96c"> 1828</a></span>&#160;<span class="preprocessor">#define CHECKSTRSPACE(n, p) do { \</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;<span class="preprocessor">    char *q = (p); \</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;<span class="preprocessor">    size_t l = (n); \</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="preprocessor">    size_t m = sstrend - q; \</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;<span class="preprocessor">    if (l &gt; m) \</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;<span class="preprocessor">        (p) = makestrspace(l, q); \</span></div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3"> 1835</a></span>&#160;<span class="preprocessor">#define USTPUTC(c, p)           (*(p)++ = (c))</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7ee438d23f3070392b0afa79028015f4"> 1836</a></span>&#160;<span class="preprocessor">#define STACKSTRNUL(p) do { \</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="preprocessor">    if ((p) == sstrend) \</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="preprocessor">        (p) = growstackstr(); \</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="preprocessor">    *(p) = &#39;\0&#39;; \</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a27e34243f684911d11eeea0506728d96"> 1841</a></span>&#160;<span class="preprocessor">#define STUNPUTC(p)             (--(p))</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4d858df0f076a2565f169202e64cb6d5"> 1842</a></span>&#160;<span class="preprocessor">#define STTOPC(p)               ((p)[-1])</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f"> 1843</a></span>&#160;<span class="preprocessor">#define STADJUST(amount, p)     ((p) += (amount))</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160; </div>
<div class="line"><a name="l01845"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7b5f8bbd363271d352ea79580f1f0cd4"> 1845</a></span>&#160;<span class="preprocessor">#define grabstackstr(p)         stalloc((char *)(p) - (char *)stackblock())</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a19100ad4d24884bf4608d6a1c8cc0b5a"> 1846</a></span>&#160;<span class="preprocessor">#define ungrabstackstr(s, p)    stunalloc(s)</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aed93902cb072f5ec2a7594e27b307c53"> 1847</a></span>&#160;<span class="preprocessor">#define stackstrend()           ((void *)sstrend)</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160; </div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160; </div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;<span class="comment">/* ============ String helpers */</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160; </div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="comment"> * prefix -- see if pfx is a prefix of string.</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l01856"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a230902048e5385f7f1cdd8eff9da6cf6"> 1856</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a230902048e5385f7f1cdd8eff9da6cf6">prefix</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">string</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *pfx)</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;{</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keywordflow">while</span> (*pfx) {</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        <span class="keywordflow">if</span> (*pfx++ != *<span class="keywordtype">string</span>++)</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    }</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">char</span> *) <a class="code" href="../../d6/dec/gm__loop_8c.html#aa03b39c334809f39a10a82e201e43f10">string</a>;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;}</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="comment"> * Check for a valid number.  This should be elsewhere.</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3713e5af4c4d62450b75065a23dea670"> 1869</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a3713e5af4c4d62450b75065a23dea670">is_number</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;{</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>))</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    } <span class="keywordflow">while</span> (*++<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;}</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160; </div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="comment"> * Convert a string of digits to an integer, printing an error message on</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="comment"> * failure.</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae52ce7002a05790c0eb9b44163ddf3f0"> 1883</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ae52ce7002a05790c0eb9b44163ddf3f0">number</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;{</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a3713e5af4c4d62450b75065a23dea670">is_number</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>))</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a78d805e1d2aaceaa17b361717cbd46fd">msg_illnum</a>, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;}</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160; </div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;<span class="comment"> * Produce a single quoted string suitable as input to the shell.</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;<span class="comment"> * The return string is allocated on the stack.</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l01895"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4a5dd8a899567d44c214a92c793e7420"> 1895</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a4a5dd8a899567d44c214a92c793e7420">single_quote</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;{</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160; </div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a51947f73159e14e6d1deac7c491013ac">STARTSTACKSTR</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160; </div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160; </div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../dd/d59/apps_2base_2bash_2lib_2sh_2strchrnul_8c.html#a3bfec92685b659e3b184eca81c3db7f4">strchrnul</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <span class="charliteral">&#39;\&#39;&#39;</span>) - <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        q = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8fbe4c07cec9e449521386e9b41608c0">makestrspace</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + 3, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160; </div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        *q++ = <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;        q = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/dfd/mempcpy_8c.html#a7ac7c0f43132e3acf013e0c71a58cdc9">mempcpy</a>(q, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        *q++ = <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> += <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160; </div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f">STADJUST</a>(q - <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160; </div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> != <span class="charliteral">&#39;\&#39;&#39;</span>)</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = 0;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <span class="keywordflow">do</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>++; <span class="keywordflow">while</span> (*++<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;\&#39;&#39;</span>);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160; </div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        q = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8fbe4c07cec9e449521386e9b41608c0">makestrspace</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + 3, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160; </div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        *q++ = <span class="charliteral">&#39;&quot;&#39;</span>;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        q = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/dfd/mempcpy_8c.html#a7ac7c0f43132e3acf013e0c71a58cdc9">mempcpy</a>(q, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> - <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        *q++ = <span class="charliteral">&#39;&quot;&#39;</span>;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160; </div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f">STADJUST</a>(q - <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    } <span class="keywordflow">while</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160; </div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;\0&#39;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;}</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160; </div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="comment"> * Produce a possibly single quoted string suitable as input to the shell.</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="comment"> * If quoting was done, the return string is allocated on the stack,</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="comment"> * otherwise a pointer to the original string is returned.</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l01941"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab8a4be129b79c1f38461b483e5d6f540"> 1941</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ab8a4be129b79c1f38461b483e5d6f540">maybe_single_quote</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;{</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160; </div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">while</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        <span class="comment">/* Assuming ACSII */</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        <span class="comment">/* quote ctrl_chars space !&quot;#$%&amp;&#39;()* */</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &lt; <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;            <span class="keywordflow">goto</span> need_quoting;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        <span class="comment">/* quote ;&lt;=&gt;? */</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt;= <span class="charliteral">&#39;;&#39;</span> &amp;&amp; *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &lt;= <span class="charliteral">&#39;?&#39;</span>)</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;            <span class="keywordflow">goto</span> need_quoting;</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;        <span class="comment">/* quote `[\ */</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;`&#39;</span>)</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;            <span class="keywordflow">goto</span> need_quoting;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;[&#39;</span>)</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;            <span class="keywordflow">goto</span> need_quoting;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\\&#39;</span>)</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            <span class="keywordflow">goto</span> need_quoting;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        <span class="comment">/* quote {|}~ DEL and high bytes */</span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt; <span class="charliteral">&#39;z&#39;</span>)</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;            <span class="keywordflow">goto</span> need_quoting;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        <span class="comment">/* Not quoting these: +,-./ 0-9 :@ A-Z ]^_ a-z */</span></div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        <span class="comment">/* TODO: maybe avoid quoting % */</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    }</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160; </div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160; need_quoting:</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4a5dd8a899567d44c214a92c793e7420">single_quote</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;}</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160; </div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160; </div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;<span class="comment">/* ============ nextopt */</span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160; </div>
<div class="line"><a name="l01976"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007"> 1976</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> **<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;                  <span class="comment">/* argument list for builtin commands */</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae0b6ad4393bb233245f037fe5de5626b"> 1977</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#ae0b6ad4393bb233245f037fe5de5626b">optionarg</a>;                <span class="comment">/* set by nextopt (like getopt) */</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adec920038aa8edfb24d1071c65e35053"> 1978</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#adec920038aa8edfb24d1071c65e35053">optptr</a>;                   <span class="comment">/* used by nextopt */</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160; </div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;<span class="comment"> * XXX - should get rid of. Have all builtins use getopt(3).</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;<span class="comment"> * The library getopt must have the BSD extension static variable</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;<span class="comment"> * &quot;optreset&quot;, otherwise it can&#39;t be used within the shell safely.</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;<span class="comment"> * Standard option processing (a la getopt) for builtin routines.</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;<span class="comment"> * The only argument that is passed to nextopt is the option string;</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;<span class="comment"> * the other arguments are unnecessary. It returns the character,</span></div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<span class="comment"> * or &#39;\0&#39; on end of input.</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673"> 1991</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *optstring)</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;{</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160; </div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#adec920038aa8edfb24d1071c65e35053">optptr</a>;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        <span class="comment">/* We ate entire &quot;-param&quot;, take next one */</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = *<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;            <span class="keywordflow">return</span> <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            <span class="keywordflow">return</span> <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        <span class="keywordflow">if</span> (*++<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\0&#39;</span>) <span class="comment">/* just &quot;-&quot; ? */</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;            <span class="keywordflow">return</span> <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>++;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#ae3c705adc31efb61b8a23829e028028e">LONE_DASH</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)) <span class="comment">/* &quot;--&quot; ? */</span></div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;            <span class="keywordflow">return</span> <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        <span class="comment">/* p =&gt; next &quot;-param&quot; */</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    }</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <span class="comment">/* p =&gt; some option char in the middle of a &quot;-param&quot; */</span></div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="keywordflow">for</span> (q = optstring; *q != <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;) {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        <span class="keywordflow">if</span> (*q == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;illegal option -%c&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        <span class="keywordflow">if</span> (*++q == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;            q++;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    }</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <span class="keywordflow">if</span> (*++q == <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = *<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>++;</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;no arg for -%c option&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ae0b6ad4393bb233245f037fe5de5626b">optionarg</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    }</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#adec920038aa8edfb24d1071c65e35053">optptr</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;}</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160; </div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160; </div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="comment">/* ============ Shell variables */</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160; </div>
<div class="line"><a name="l02036"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 2036</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dc/d7b/structshparam">shparam</a> {</div>
<div class="line"><a name="l02037"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#affaf64cb4e9c66b5c622874a9028d833"> 2037</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#affaf64cb4e9c66b5c622874a9028d833">nparam</a>;             <span class="comment">/* # of positional parameters (without $0) */</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a>;             <span class="comment">/* next parameter to be processed by getopts */</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <span class="keywordtype">int</span> optoff;             <span class="comment">/* used by getopts */</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad38aa75e5a7d6162bcb52e958cf5755f"> 2042</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad38aa75e5a7d6162bcb52e958cf5755f">malloced</a>; <span class="comment">/* if parameter list dynamically allocated */</span></div>
<div class="line"><a name="l02043"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a752993363898cf3069627d5c402fa991"> 2043</a></span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="../../d1/dbe/ash_8c.html#a752993363898cf3069627d5c402fa991">p</a>;               <span class="comment">/* parameter list */</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;};</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160; </div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;<span class="comment"> * Free the list of positional parameters.</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aaf63f7a250255f0ac21656149824df95"> 2050</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aaf63f7a250255f0ac21656149824df95">freeparam</a>(<span class="keyword">volatile</span> <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#dc/d7b/structshparam">shparam</a> *<a class="code" href="../../d5/db3/apps_2base_2busybox_2coreutils_2chown_8c.html#acff701cfc8fab0de8704435ba1462970">param</a>)</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;{</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/db3/apps_2base_2busybox_2coreutils_2chown_8c.html#acff701cfc8fab0de8704435ba1462970">param</a>-&gt;malloced) {</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        <span class="keywordtype">char</span> **<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>, **ap1;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = ap1 = <a class="code" href="../../d5/db3/apps_2base_2busybox_2coreutils_2chown_8c.html#acff701cfc8fab0de8704435ba1462970">param</a>-&gt;p;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        <span class="keywordflow">while</span> (*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>)</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>++);</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(ap1);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    }</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;}</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160; </div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a> getoptsreset(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160; </div>
<div class="line"><a name="l02065"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 2065</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> {</div>
<div class="line"><a name="l02066"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac53b6891f6750066d69dccd818a7f206"> 2066</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *<a class="code" href="../../d1/dbe/ash_8c.html#ac53b6891f6750066d69dccd818a7f206">next</a>;               <span class="comment">/* next entry in hash list */</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad73165e00a1746eb4c83da600b880909"> 2067</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad73165e00a1746eb4c83da600b880909">flags</a>;                      <span class="comment">/* flags are defined above */</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aaf0f2f3b09b6318344eabce9fddb0027"> 2068</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#aaf0f2f3b09b6318344eabce9fddb0027">var_text</a>;           <span class="comment">/* name=value */</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <a class="code" href="../../d1/d48/namespaceDriver.html#ab729393050904fd1bdaf3625252f2e19">void</a> (*var_func)(<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>; <span class="comment">/* function to be called when  */</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                    <span class="comment">/* the variable gets set/unset */</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;};</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160; </div>
<div class="line"><a name="l02073"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 2073</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d25/structlocalvar">localvar</a> {</div>
<div class="line"><a name="l02074"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a81883e60f2d78f6929666fd00eea9ab2"> 2074</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d25/structlocalvar">localvar</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a81883e60f2d78f6929666fd00eea9ab2">next</a>;          <span class="comment">/* next local variable in list */</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2f220ce05bde1a77bb1ec86cd9de3d1f"> 2075</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a2f220ce05bde1a77bb1ec86cd9de3d1f">vp</a>;                 <span class="comment">/* the variable that was made local */</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8284fd45ff2cf13c589888a5308bbf21"> 2076</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8284fd45ff2cf13c589888a5308bbf21">flags</a>;                      <span class="comment">/* saved flags */</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac0e04dd4dbc3d7c82ba3f4b1b66b2382"> 2077</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a701f0177878b53edc891373fba8cb558">text</a>;               <span class="comment">/* saved text */</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;};</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160; </div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;<span class="comment">/* flags */</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd"> 2081</a></span>&#160;<span class="preprocessor">#define VEXPORT         0x01    </span><span class="comment">/* variable is exported */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02082"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a738a786930f6cbcdfaf8f20ee8d1df78"> 2082</a></span>&#160;<span class="preprocessor">#define VREADONLY       0x02    </span><span class="comment">/* variable cannot be modified */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02083"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50"> 2083</a></span>&#160;<span class="preprocessor">#define VSTRFIXED       0x04    </span><span class="comment">/* variable struct is statically allocated */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02084"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578"> 2084</a></span>&#160;<span class="preprocessor">#define VTEXTFIXED      0x08    </span><span class="comment">/* text is statically allocated */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02085"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad92f7c112d0543fd9479218fae3b49a0"> 2085</a></span>&#160;<span class="preprocessor">#define VSTACK          0x10    </span><span class="comment">/* text is allocated on the stack */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02086"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea"> 2086</a></span>&#160;<span class="preprocessor">#define VUNSET          0x20    </span><span class="comment">/* the variable is not set */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02087"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af001cdacd74fe6e75ea09e767555f64e"> 2087</a></span>&#160;<span class="preprocessor">#define VNOFUNC         0x40    </span><span class="comment">/* don&#39;t call the callback function */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02088"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a76e2869375ba6e8622bb5446692a1b5e"> 2088</a></span>&#160;<span class="preprocessor">#define VNOSET          0x80    </span><span class="comment">/* do not set variable - just readonly test */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02089"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad56b206cf55eeae569a9905ff25dd509"> 2089</a></span>&#160;<span class="preprocessor">#define VNOSAVE         0x100   </span><span class="comment">/* when text is on the heap before setvareq */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="preprocessor">#if ENABLE_ASH_RANDOM_SUPPORT</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;<span class="preprocessor"># define VDYNAMIC       0x200   </span><span class="comment">/* dynamic variable */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a23c8cc52e99a9275f4fc36b75a20fab5"> 2093</a></span>&#160;<span class="preprocessor"># define VDYNAMIC       0</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160; </div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160; </div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;<span class="comment">/* Need to be before varinit_data[] */</span></div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;<span class="preprocessor">#if ENABLE_LOCALE_SUPPORT</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;change_lc_all(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;{</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> &amp;&amp; *<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;        <a class="code" href="../../d7/dcd/bashintl_8h.html#a1f59a437f49d38679f0b7a30d09bf697">setlocale</a>(<a class="code" href="../../db/d9f/locale_8h.html#a9cc5213b5dca4f8e48e64586ee444c33">LC_ALL</a>, <a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;}</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;change_lc_ctype(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;{</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> &amp;&amp; *<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        <a class="code" href="../../d7/dcd/bashintl_8h.html#a1f59a437f49d38679f0b7a30d09bf697">setlocale</a>(<a class="code" href="../../db/d9f/locale_8h.html#a07c66689961056725d7f50231d740ba9">LC_CTYPE</a>, <a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;}</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;<span class="preprocessor">#if ENABLE_ASH_MAIL</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a40e81adbf326f121071e2f78d7b8fcec">chkmail</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> changemail(<span class="keyword">const</span> <span class="keywordtype">char</span> *var_value) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a40e81adbf326f121071e2f78d7b8fcec"> 2116</a></span>&#160;<span class="preprocessor"># define chkmail()  ((void)0)</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a165aeff3ce71a41b78e357e3455c0613"> 2118</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a165aeff3ce71a41b78e357e3455c0613">changepath</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;<span class="preprocessor">#if ENABLE_ASH_RANDOM_SUPPORT</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> change_random(<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;<span class="preprocessor">#if BASH_EPOCH_VARS</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> change_seconds(<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> change_realtime(<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad73165e00a1746eb4c83da600b880909">flags</a>;</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#aaf0f2f3b09b6318344eabce9fddb0027">var_text</a>;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    <a class="code" href="../../d1/d48/namespaceDriver.html#ab729393050904fd1bdaf3625252f2e19">void</a> (*var_func)(<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;} varinit_data[] <a class="code" href="../../d1/dbe/ash_8c.html#a1c0752fa32f10892c9017d7818ccc23d">ALIGN_PTR</a> = {</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;<span class="comment">     * Note: VEXPORT would not work correctly here for NOFORK applets:</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;<span class="comment">     * some environment strings may be constant.</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>       , defifsvar   , <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>            },</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;<span class="preprocessor">#if ENABLE_ASH_MAIL</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>, <span class="stringliteral">&quot;MAIL&quot;</span>      , changemail      },</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>, <span class="stringliteral">&quot;MAILPATH&quot;</span>  , changemail      },</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>       , bb_PATH_root_path, <a class="code" href="../../d1/dbe/ash_8c.html#a165aeff3ce71a41b78e357e3455c0613">changepath</a> },</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>       , <span class="stringliteral">&quot;PS1=$ &quot;</span>    , <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>            },</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>       , <span class="stringliteral">&quot;PS2=&gt; &quot;</span>    , <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>            },</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>       , <span class="stringliteral">&quot;PS4=+ &quot;</span>    , <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>            },</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>       , defoptindvar, getoptsreset    },</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>       , <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* inited to linenovar */</span>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>       , <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* inited to funcnamevar */</span>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;<span class="preprocessor">#if ENABLE_ASH_RANDOM_SUPPORT</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a23c8cc52e99a9275f4fc36b75a20fab5">VDYNAMIC</a>, <span class="stringliteral">&quot;RANDOM&quot;</span>, change_random },</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;<span class="preprocessor">#if BASH_EPOCH_VARS</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a23c8cc52e99a9275f4fc36b75a20fab5">VDYNAMIC</a>, <span class="stringliteral">&quot;EPOCHSECONDS&quot;</span>, change_seconds },</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a23c8cc52e99a9275f4fc36b75a20fab5">VDYNAMIC</a>, <span class="stringliteral">&quot;EPOCHREALTIME&quot;</span>, change_realtime },</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;<span class="preprocessor">#if ENABLE_LOCALE_SUPPORT</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>, <span class="stringliteral">&quot;LC_ALL&quot;</span>    , change_lc_all   },</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>, <span class="stringliteral">&quot;LC_CTYPE&quot;</span>  , change_lc_ctype },</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_EDITING_SAVEHISTORY</span></div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>, <span class="stringliteral">&quot;HISTFILE&quot;</span>  , <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>            },</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;};</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160; </div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a>;</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160; </div>
<div class="line"><a name="l02168"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 2168</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d07/structglobals__var">globals_var</a> {</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dc/d7b/structshparam">shparam</a> <a class="code" href="../../d1/dbe/ash_8c.html#ac0e04dd4dbc3d7c82ba3f4b1b66b2382">shellparam</a>;      <span class="comment">/* $@ current positional parameters */</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afedbb82cd16aaf9066a06b50ff7f7601"> 2170</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a> *<a class="code" href="../../d1/dbe/ash_8c.html#afedbb82cd16aaf9066a06b50ff7f7601">redirlist</a>;</div>
<div class="line"><a name="l02171"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4cb0aac5c4a25e477d8b9a45c2638767"> 2171</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4cb0aac5c4a25e477d8b9a45c2638767">preverrout_fd</a>;   <span class="comment">/* stderr fd: usually 2, unless redirect moved it */</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1f2c2a1c98a9e1aa81a8e692abc6bacd"> 2172</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a1852eb4f2d3bd766cb75a8e037bed3d1">vartab</a>[<a class="code" href="../../d1/dbe/ash_8c.html#ab61cc25b08e627f25ca0b68e0586044a">VTABSIZE</a>];</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> <a class="code" href="../../d1/dbe/ash_8c.html#a1f2c2a1c98a9e1aa81a8e692abc6bacd">varinit</a>[<a class="code" href="../../dd/d7f/applet__tables_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(varinit_data)];</div>
<div class="line"><a name="l02174"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac4cd35c65332615341798dcdcb50c57a"> 2174</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac4cd35c65332615341798dcdcb50c57a">lineno</a>;</div>
<div class="line"><a name="l02175"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aafddba67475f33f3991adcc48379f5d4"> 2175</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d1/dbe/ash_8c.html#aafddba67475f33f3991adcc48379f5d4">linenovar</a>[<span class="keyword">sizeof</span>(<span class="stringliteral">&quot;LINENO=&quot;</span>) + <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*3];</div>
<div class="line"><a name="l02176"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afe2a1d7191e7d1650da0e80017fc0b3c"> 2176</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d1/dbe/ash_8c.html#afe2a1d7191e7d1650da0e80017fc0b3c">funcnamevar</a>[<span class="keyword">sizeof</span>(<span class="stringliteral">&quot;FUNCNAME=&quot;</span>) + 64];</div>
<div class="line"><a name="l02177"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab3afa545a71f8f309326b257109c3172"> 2177</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#ab3afa545a71f8f309326b257109c3172">funcname</a>;</div>
<div class="line"><a name="l02178"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad447e0ebf47400493c9b9423cb5bc9db"> 2178</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad447e0ebf47400493c9b9423cb5bc9db">trap_depth</a>;</div>
<div class="line"><a name="l02179"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a56e622682a74f608ee9dc21dcc46caa5"> 2179</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d1/dbe/ash_8c.html#a56e622682a74f608ee9dc21dcc46caa5">in_trap_ERR</a>; <span class="comment">/* ERR cannot recurse, no need to be a counter */</span></div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;};</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d07/structglobals__var">globals_var</a> *<a class="code" href="../../d7/dd7/libbb_8h.html#a89ec5ec9e0740df0a49184529997db64">BB_GLOBAL_CONST</a> <a class="code" href="../../d1/dbe/ash_8c.html#a06cd4dfa76fe40a43987ba1fcca831b9">ash_ptr_to_globals_var</a>;</div>
<div class="line"><a name="l02182"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af2553709e9db6adc05474502628fa440"> 2182</a></span>&#160;<span class="preprocessor">#define G_var (*ash_ptr_to_globals_var)</span></div>
<div class="line"><a name="l02183"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6"> 2183</a></span>&#160;<span class="preprocessor">#define shellparam    (G_var.shellparam   )</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;<span class="comment">//#define redirlist     (G_var.redirlist    )</span></div>
<div class="line"><a name="l02185"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2abe87c109c6ab3e823df89abcdd474d"> 2185</a></span>&#160;<span class="preprocessor">#define preverrout_fd (G_var.preverrout_fd)</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa13d15a33a1b1c719af518ff181ce8c8"> 2186</a></span>&#160;<span class="preprocessor">#define vartab        (G_var.vartab       )</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a691b3e94559981cc8b785f706178d900"> 2187</a></span>&#160;<span class="preprocessor">#define varinit       (G_var.varinit      )</span></div>
<div class="line"><a name="l02188"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440"> 2188</a></span>&#160;<span class="preprocessor">#define lineno        (G_var.lineno       )</span></div>
<div class="line"><a name="l02189"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aff11407fe92548919ad11698e94121e9"> 2189</a></span>&#160;<span class="preprocessor">#define linenovar     (G_var.linenovar    )</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af02b3d9fc120ac9d1d4afe215620b062"> 2190</a></span>&#160;<span class="preprocessor">#define funcnamevar   (G_var.funcnamevar  )</span></div>
<div class="line"><a name="l02191"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8d9279f3cd6bd36f8600440ca9e4a473"> 2191</a></span>&#160;<span class="preprocessor">#define funcname      (G_var.funcname     )</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a20992d7f055cb9f17f94f97c830e819e"> 2192</a></span>&#160;<span class="preprocessor">#define trap_depth    (G_var.trap_depth   )</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a523bfc6cc92e9329801549542bc5f7df"> 2193</a></span>&#160;<span class="preprocessor">#define in_trap_ERR   (G_var.in_trap_ERR  )</span></div>
<div class="line"><a name="l02194"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae6eb7d3f63c1427985c984b051e02103"> 2194</a></span>&#160;<span class="preprocessor">#define vifs      varinit[0]</span></div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;<span class="preprocessor">#if ENABLE_ASH_MAIL</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;<span class="preprocessor"># define vmail    varinit[1]</span></div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;<span class="preprocessor"># define vmpath   varinit[2]</span></div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab28db479c14ca5f4caedff95bba45a40"> 2199</a></span>&#160;<span class="preprocessor">#define VAR_OFFSET1 (ENABLE_ASH_MAIL*2)</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a302a54ff3b3925923a9e0b1c52acce81"> 2200</a></span>&#160;<span class="preprocessor">#define vpath     varinit[VAR_OFFSET1 + 1]</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac8fd743d8804b4f956bcfce5a0f85f23"> 2201</a></span>&#160;<span class="preprocessor">#define vps1      varinit[VAR_OFFSET1 + 2]</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adedda43469c6cbd03eb74f45d02d578b"> 2202</a></span>&#160;<span class="preprocessor">#define vps2      varinit[VAR_OFFSET1 + 3]</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0e4f7d36fb32e8c028f3ae7bba077879"> 2203</a></span>&#160;<span class="preprocessor">#define vps4      varinit[VAR_OFFSET1 + 4]</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;<span class="preprocessor"># define voptind  varinit[VAR_OFFSET1 + 5]</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2f507ddc81cdede8b561ae21a2202a85"> 2207</a></span>&#160;<span class="preprocessor">#define VAR_OFFSET2 (VAR_OFFSET1 + ENABLE_ASH_GETOPTS)</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6bab91776242ca0fb79bfb35f9684aab"> 2208</a></span>&#160;<span class="preprocessor">#define vlineno   varinit[VAR_OFFSET2 + 5]</span></div>
<div class="line"><a name="l02209"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a28b92ffb4c237898e393078aad84983c"> 2209</a></span>&#160;<span class="preprocessor">#define vfuncname varinit[VAR_OFFSET2 + 6]</span></div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;<span class="preprocessor">#if ENABLE_ASH_RANDOM_SUPPORT</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;<span class="preprocessor"># define vrandom  varinit[VAR_OFFSET2 + 7]</span></div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3c9fd0d86da29533e50a49dcd00170ca"> 2213</a></span>&#160;<span class="preprocessor">#define VAR_OFFSET3 (VAR_OFFSET2 + ENABLE_ASH_RANDOM_SUPPORT)</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="preprocessor">#if BASH_EPOCH_VARS</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;<span class="preprocessor"># define vepochs  varinit[VAR_OFFSET3 + 7]</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;<span class="preprocessor"># define vepochr  varinit[VAR_OFFSET3 + 8]</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac4e6f37323b2dd4262720581621f652b"> 2218</a></span>&#160;<span class="preprocessor">#define INIT_G_var() do { \</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;<span class="preprocessor">    unsigned i; \</span></div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;<span class="preprocessor">    XZALLOC_CONST_PTR(&amp;ash_ptr_to_globals_var, sizeof(G_var)); \</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;<span class="preprocessor">    for (i = 0; i &lt; ARRAY_SIZE(varinit_data); i++) { \</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="preprocessor">        varinit[i].flags    = varinit_data[i].flags; \</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="preprocessor">        varinit[i].var_text = varinit_data[i].var_text; \</span></div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;<span class="preprocessor">        varinit[i].var_func = varinit_data[i].var_func; \</span></div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;<span class="preprocessor">    } \</span></div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;<span class="preprocessor">    strcpy(linenovar, &quot;LINENO=&quot;</span>); \</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    vlineno.var_text = linenovar; \</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    strcpy(funcnamevar, &quot;FUNCNAME=&quot;); \</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    vfuncname.var_text = funcnamevar; \</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;} while (0)</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160; </div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;<span class="comment"> * The following macros access the values of the above variables.</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;<span class="comment"> * They have to skip over the name.  They return the null string</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;<span class="comment"> * for unset variables.</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02237"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae6710df2501efb4611fc9568466e060d"> 2237</a></span>&#160;<span class="preprocessor">#define ifsval()        (vifs.var_text + 4)</span></div>
<div class="line"><a name="l02238"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acd3e2ca36650d357e00ffca1ae1a4781"> 2238</a></span>&#160;<span class="preprocessor">#define ifsset()        ((vifs.flags &amp; VUNSET) == 0)</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;<span class="preprocessor">#if ENABLE_ASH_MAIL</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;<span class="preprocessor"># define mailval()      (vmail.var_text + 5)</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;<span class="preprocessor"># define mpathval()     (vmpath.var_text + 9)</span></div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;<span class="preprocessor"># define mpathset()     ((vmpath.flags &amp; VUNSET) == 0)</span></div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1a0f44024ffe6329c9c6cda41fd24d30"> 2244</a></span>&#160;<span class="preprocessor">#define pathval()       (vpath.var_text + 5)</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a00275e715d2e73727d0968fdfcdc8d4b"> 2245</a></span>&#160;<span class="preprocessor">#define ps1val()        (vps1.var_text + 4)</span></div>
<div class="line"><a name="l02246"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab4b97e6278cc51b3d35fa6c5d1f9c28a"> 2246</a></span>&#160;<span class="preprocessor">#define ps2val()        (vps2.var_text + 4)</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0ee843cd30e83678db64bbfafb680362"> 2247</a></span>&#160;<span class="preprocessor">#define ps4val()        (vps4.var_text + 4)</span></div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="preprocessor"># define optindval()    (voptind.var_text + 7)</span></div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160; </div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;getoptsreset(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;{</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind = 1;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a3713e5af4c4d62450b75065a23dea670">is_number</a>(<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>))</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind = <a class="code" href="../../d1/dbe/ash_8c.html#ae52ce7002a05790c0eb9b44163ddf3f0">number</a>(<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>) ?: 1;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optoff = -1;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;}</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160; </div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;<span class="comment"> * Compares two strings up to the first = or &#39;\0&#39;.  The first</span></div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<span class="comment"> * string must be terminated by &#39;=&#39;; the second may be terminated by</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;<span class="comment"> * either &#39;=&#39; or &#39;\0&#39;.</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa5510f9d07ac0f15102a163e5c0c14da"> 2269</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aa5510f9d07ac0f15102a163e5c0c14da">varcmp</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *q)</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;{</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, d;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160; </div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) == (d = *q)) {</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\0&#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;        q++;</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    }</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="keywordflow">if</span> (d == <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;        d = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> - d;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;}</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160; </div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;<span class="comment"> * Find the appropriate entry in the hash table from the name.</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> **</div>
<div class="line"><a name="l02291"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a68288c0a522225be14fbc8a2a0c116ca"> 2291</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a68288c0a522225be14fbc8a2a0c116ca">hashvar</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;{</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="keywordtype">unsigned</span> hashval;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160; </div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    hashval = ((<span class="keywordtype">unsigned</span> char) *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) &lt;&lt; 4;</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    <span class="keywordflow">while</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &amp;&amp; *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        hashval += (<span class="keywordtype">unsigned</span> char) *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="../../d1/dbe/ash_8c.html#aa13d15a33a1b1c719af518ff181ce8c8">vartab</a>[hashval % <a class="code" href="../../d1/dbe/ash_8c.html#ab61cc25b08e627f25ca0b68e0586044a">VTABSIZE</a>];</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;}</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160; </div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6255583cf141665dd6d7863e910e5656"> 2302</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a6255583cf141665dd6d7863e910e5656">vpcmp</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *a, <span class="keyword">const</span> <span class="keywordtype">void</span> *b)</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;{</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa5510f9d07ac0f15102a163e5c0c14da">varcmp</a>(*(<span class="keyword">const</span> <span class="keywordtype">char</span> **)a, *(<span class="keyword">const</span> <span class="keywordtype">char</span> **)b);</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;}</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160; </div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;<span class="comment"> * This routine initializes the builtin variables.</span></div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac51df50a60e2a664eaf61e7fa8e17ace"> 2311</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac51df50a60e2a664eaf61e7fa8e17ace">initvar</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;{</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> **vpp;</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160; </div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;<span class="comment">     * PS1 depends on uid</span></div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_EDITING &amp;&amp; ENABLE_FEATURE_EDITING_FANCY_PROMPT</span></div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac8fd743d8804b4f956bcfce5a0f85f23">vps1</a>.var_text = <span class="stringliteral">&quot;PS1=\\w \\$ &quot;</span>;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d32/dcigettext_8c.html#a33c6dca97bbc9e329d37013ac3088f66">geteuid</a>())</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ac8fd743d8804b4f956bcfce5a0f85f23">vps1</a>.var_text = <span class="stringliteral">&quot;PS1=# &quot;</span>;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a691b3e94559981cc8b785f706178d900">varinit</a>;</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> = <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> + <a class="code" href="../../dd/d7f/applet__tables_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a691b3e94559981cc8b785f706178d900">varinit</a>);</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        vpp = <a class="code" href="../../d1/dbe/ash_8c.html#a68288c0a522225be14fbc8a2a0c116ca">hashvar</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text);</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;        <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;next = *vpp;</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        *vpp = <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    } <span class="keywordflow">while</span> (++<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;}</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160; </div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> **</div>
<div class="line"><a name="l02336"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aea9aee2971fd75d7367c7d443983cbb3"> 2336</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aea9aee2971fd75d7367c7d443983cbb3">findvar</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> **vpp, <span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;{</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <span class="keywordflow">for</span> (; *vpp; vpp = &amp;(*vpp)-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ac53b6891f6750066d69dccd818a7f206">next</a>) {</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#aa5510f9d07ac0f15102a163e5c0c14da">varcmp</a>((*vpp)-&gt;var_text, name) == 0) {</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;        }</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    }</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <span class="keywordflow">return</span> vpp;</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;}</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160; </div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;<span class="comment"> * Find the value of a variable.  Returns NULL if not set.</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l02350"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20"> 2350</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;{</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *v;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160; </div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    v = *<a class="code" href="../../d1/dbe/ash_8c.html#aea9aee2971fd75d7367c7d443983cbb3">findvar</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a68288c0a522225be14fbc8a2a0c116ca">hashvar</a>(name), name);</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <span class="keywordflow">if</span> (v) {</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;<span class="preprocessor">#if ENABLE_ASH_RANDOM_SUPPORT || BASH_EPOCH_VARS</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="comment">     * Dynamic variables are implemented roughly the same way they are</span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;<span class="comment">     * in bash. Namely, they&#39;re &quot;special&quot; so long as they aren&#39;t unset.</span></div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;<span class="comment">     * As soon as they&#39;re unset, they&#39;re no longer dynamic, and dynamic</span></div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;<span class="comment">     * lookup will no longer happen at that point. -- PFM.</span></div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;        <span class="keywordflow">if</span> (v-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad73165e00a1746eb4c83da600b880909">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a23c8cc52e99a9275f4fc36b75a20fab5">VDYNAMIC</a>)</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;            v-&gt;var_func(<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;        <span class="keywordflow">if</span> (!(v-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad73165e00a1746eb4c83da600b880909">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>)) {</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;            <span class="keywordflow">if</span> (v-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaf0f2f3b09b6318344eabce9fddb0027">var_text</a> == <a class="code" href="../../d1/dbe/ash_8c.html#aff11407fe92548919ad11698e94121e9">linenovar</a>) {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#adf33ec1779df3d9898d1b2bf98c0ae23">fmtstr</a>(<a class="code" href="../../d1/dbe/ash_8c.html#aff11407fe92548919ad11698e94121e9">linenovar</a>+7, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/dbe/ash_8c.html#aff11407fe92548919ad11698e94121e9">linenovar</a>)-7, <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a>);</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;            } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;            <span class="keywordflow">if</span> (v-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaf0f2f3b09b6318344eabce9fddb0027">var_text</a> == <a class="code" href="../../d1/dbe/ash_8c.html#af02b3d9fc120ac9d1d4afe215620b062">funcnamevar</a>) {</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#acb9185987af33e12308a33f722327010">safe_strncpy</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af02b3d9fc120ac9d1d4afe215620b062">funcnamevar</a>+9, <a class="code" href="../../d1/dbe/ash_8c.html#a8d9279f3cd6bd36f8600440ca9e4a473">funcname</a> ? <a class="code" href="../../d1/dbe/ash_8c.html#a8d9279f3cd6bd36f8600440ca9e4a473">funcname</a> : <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/dbe/ash_8c.html#af02b3d9fc120ac9d1d4afe215620b062">funcnamevar</a>)-9);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;            }</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a17964ca36a1fd49a7b76eac2700d8e15">var_end</a>(v-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaf0f2f3b09b6318344eabce9fddb0027">var_text</a>);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;        }</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    }</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;}</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160; </div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;<span class="preprocessor">#if ENABLE_UNICODE_SUPPORT</span></div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#af36cd12454a274bc186175cf6def6e1f">reinit_unicode_for_ash</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;{</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <span class="comment">/* Unicode support should be activated even if LANG is set</span></div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;<span class="comment">     * _during_ shell execution, not only if it was set when</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;<span class="comment">     * shell was started. Therefore, re-check LANG every time:</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <span class="keywordflow">if</span> (ENABLE_FEATURE_CHECK_UNICODE_IN_ENV</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;     || ENABLE_UNICODE_USING_LOCALE</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    ) {</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;LC_ALL&quot;</span>);</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;LC_CTYPE&quot;</span>);</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;LANG&quot;</span>);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        <a class="code" href="../../dd/d90/unicode_8h.html#ae2516de511027c02a1364012541f2292">reinit_unicode</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    }</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;}</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02397"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af36cd12454a274bc186175cf6def6e1f"> 2397</a></span>&#160;<span class="preprocessor"># define reinit_unicode_for_ash() ((void)0)</span></div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160; </div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;<span class="comment"> * Search the environment of a builtin command.</span></div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#aa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l02404"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a64704659d7e4b4c6d2a1ce78f70687a1"> 2404</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a64704659d7e4b4c6d2a1ce78f70687a1">bltinlookup</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;{</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(name);</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;}</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160; </div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;<span class="comment"> * Same as setvar except that the variable and value are passed in</span></div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;<span class="comment"> * the first argument as name=value.  Since the first argument will</span></div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;<span class="comment"> * be actually stored in the table, it should not be a string that</span></div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;<span class="comment"> * will go away.</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;<span class="comment"> * Called with interrupts off.</span></div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *</div>
<div class="line"><a name="l02417"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad585c124f797c55d024253708395b6b2"> 2417</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ad585c124f797c55d024253708395b6b2">setvareq</a>(<span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;{</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>, **vpp;</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160; </div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    vpp = <a class="code" href="../../d1/dbe/ash_8c.html#a68288c0a522225be14fbc8a2a0c116ca">hashvar</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> |= (<a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a> &amp; (((unsigned) (1 - <a class="code" href="../../d1/dbe/ash_8c.html#a4ca83be443923d857d18ed4532aa7855">aflag</a>)) - 1));</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    vpp = <a class="code" href="../../d1/dbe/ash_8c.html#aea9aee2971fd75d7367c7d443983cbb3">findvar</a>(vpp, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> = *vpp;</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>) {</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags &amp; (<a class="code" href="../../d1/dbe/ash_8c.html#a738a786930f6cbcdfaf8f20ee8d1df78">VREADONLY</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a23c8cc52e99a9275f4fc36b75a20fab5">VDYNAMIC</a>)) == <a class="code" href="../../d1/dbe/ash_8c.html#a738a786930f6cbcdfaf8f20ee8d1df78">VREADONLY</a>) {</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160; </div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#ad56b206cf55eeae569a9905ff25dd509">VNOSAVE</a>)</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;                <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = 1;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;%.*s: is read only&quot;</span>, <a class="code" href="../../dd/d59/apps_2base_2bash_2lib_2sh_2strchrnul_8c.html#a3bfec92685b659e3b184eca81c3db7f4">strchrnul</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="charliteral">&#39;=&#39;</span>) - <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;        }</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160; </div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a76e2869375ba6e8622bb5446692a1b5e">VNOSET</a>)</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160; </div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_func &amp;&amp; !(<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#af001cdacd74fe6e75ea09e767555f64e">VNOFUNC</a>))</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;            <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_func(<a class="code" href="../../d1/dbe/ash_8c.html#a17964ca36a1fd49a7b76eac2700d8e15">var_end</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>));</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160; </div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags &amp; (<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#ad92f7c112d0543fd9479218fae3b49a0">VSTACK</a>)))</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>((<span class="keywordtype">char</span>*)<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text);</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160; </div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;        <span class="keywordflow">if</span> (((<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; (<a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a738a786930f6cbcdfaf8f20ee8d1df78">VREADONLY</a>|<a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>)) | (<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags &amp; <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>)) == <a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>) {</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;            *vpp = <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;next;</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>);</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160; out_free:</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; (<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#ad92f7c112d0543fd9479218fae3b49a0">VSTACK</a>|<a class="code" href="../../d1/dbe/ash_8c.html#ad56b206cf55eeae569a9905ff25dd509">VNOSAVE</a>)) == <a class="code" href="../../d1/dbe/ash_8c.html#ad56b206cf55eeae569a9905ff25dd509">VNOSAVE</a>)</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;        }</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160; </div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> |= <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags &amp; ~(<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#ad92f7c112d0543fd9479218fae3b49a0">VSTACK</a>|<a class="code" href="../../d1/dbe/ash_8c.html#ad56b206cf55eeae569a9905ff25dd509">VNOSAVE</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;<span class="preprocessor">#if ENABLE_ASH_RANDOM_SUPPORT || BASH_EPOCH_VARS</span></div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>)</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;            <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp;= ~<a class="code" href="../../d1/dbe/ash_8c.html#a23c8cc52e99a9275f4fc36b75a20fab5">VDYNAMIC</a>;</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;        <span class="comment">/* variable s is not found */</span></div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a76e2869375ba6e8622bb5446692a1b5e">VNOSET</a>)</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; (<a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a738a786930f6cbcdfaf8f20ee8d1df78">VREADONLY</a>|<a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>)) == <a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>)</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;            <span class="keywordflow">goto</span> out_free;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>));</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;        <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;next = *vpp;</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;        <span class="comment">/*vp-&gt;func = NULL; - ckzalloc did it */</span></div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;        *vpp = <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>;</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    }</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; (<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#ad92f7c112d0543fd9479218fae3b49a0">VSTACK</a>|<a class="code" href="../../d1/dbe/ash_8c.html#ad56b206cf55eeae569a9905ff25dd509">VNOSAVE</a>)))</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae636b85e9fda111db77be3efbad1c862">ckstrdup</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags = <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>;</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160; </div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>;</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;}</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160; </div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;<span class="comment"> * Set the value of a variable.  The flags argument is ored with the</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;<span class="comment"> * flags of the variable.  If val is NULL, the variable is unset.</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *</div>
<div class="line"><a name="l02484"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393"> 2484</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393">setvar</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;{</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <span class="keywordtype">char</span> *nameeq;</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../dc/d72/fsck__minix_8c.html#ae35b977157df01917b1e9c24cb65d288">namelen</a>;</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <span class="keywordtype">size_t</span> vallen;</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160; </div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    q = <a class="code" href="../../d7/dd7/libbb_8h.html#a427068bf1a37249b0a95ed1a4bebe70d">endofname</a>(name);</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../dd/d59/apps_2base_2bash_2lib_2sh_2strchrnul_8c.html#a3bfec92685b659e3b184eca81c3db7f4">strchrnul</a>(q, <span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <a class="code" href="../../dc/d72/fsck__minix_8c.html#ae35b977157df01917b1e9c24cb65d288">namelen</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - name;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d72/fsck__minix_8c.html#ae35b977157df01917b1e9c24cb65d288">namelen</a> || <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != q)</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;%.*s: bad variable name&quot;</span>, <a class="code" href="../../dc/d72/fsck__minix_8c.html#ae35b977157df01917b1e9c24cb65d288">namelen</a>, name);</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    vallen = 0;</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;        <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> |= <a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>;</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;        vallen = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>);</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    }</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160; </div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    nameeq = <a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(<a class="code" href="../../dc/d72/fsck__minix_8c.html#ae35b977157df01917b1e9c24cb65d288">namelen</a> + vallen + 2);</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d0/dfd/mempcpy_8c.html#a7ac7c0f43132e3acf013e0c71a58cdc9">mempcpy</a>(nameeq, name, <a class="code" href="../../dc/d72/fsck__minix_8c.html#ae35b977157df01917b1e9c24cb65d288">namelen</a>);</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>) {</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;        *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++ = <span class="charliteral">&#39;=&#39;</span>;</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;        <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>, vallen);</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    }</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ad585c124f797c55d024253708395b6b2">setvareq</a>(nameeq, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> | <a class="code" href="../../d1/dbe/ash_8c.html#ad56b206cf55eeae569a9905ff25dd509">VNOSAVE</a>);</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160; </div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>;</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;}</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160; </div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l02519"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc"> 2519</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>)</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;{</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393">setvar</a>(name, <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>, 0);</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;}</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160; </div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;<span class="comment"> * Unset the specified variable.</span></div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02528"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#affc1ad23277bd6ac90ab21c8f4501307"> 2528</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#affc1ad23277bd6ac90ab21c8f4501307">unsetvar</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;{</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393">setvar</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;}</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160; </div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;<span class="comment"> * Generate a list of variables satisfying the given conditions.</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;<span class="preprocessor">#if !ENABLE_FEATURE_SH_NOFORK</span></div>
<div class="line"><a name="l02537"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac916671880c52fa4b983f6aef788fa66"> 2537</a></span>&#160;<span class="preprocessor"># define listvars(on, off, lp, end) listvars(on, off, end)</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> **</div>
<div class="line"><a name="l02540"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a960171a839756f7c78235a51d98bad06"> 2540</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac916671880c52fa4b983f6aef788fa66">listvars</a>(<span class="keywordtype">int</span> on, <span class="keywordtype">int</span> <a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a>, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *lp, <span class="keywordtype">char</span> ***<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>)</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;{</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> **vpp;</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    <span class="keywordtype">char</span> **ep;</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="keywordtype">int</span> mask;</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160; </div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a51947f73159e14e6d1deac7c491013ac">STARTSTACKSTR</a>(ep);</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    vpp = <a class="code" href="../../d1/dbe/ash_8c.html#aa13d15a33a1b1c719af518ff181ce8c8">vartab</a>;</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    mask = on | <a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a>;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> = *vpp; <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>; <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> = <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;next) {</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags &amp; mask) == on) {</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_NOFORK</span></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;                <span class="comment">/* If variable with the same name is both</span></div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;<span class="comment">                 * exported and temporarily set for a command:</span></div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;<span class="comment">                 *  export ZVAR=5</span></div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;<span class="comment">                 *  ZVAR=6 printenv</span></div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;<span class="comment">                 * then &quot;ZVAR=6&quot; will be both in vartab and</span></div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;<span class="comment">                 * lp lists. Do not pass it twice to printenv.</span></div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;                <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *lp1 = lp;</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;                <span class="keywordflow">while</span> (lp1) {</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(lp1-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">text</a>, <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text) == 0)</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;                        <span class="keywordflow">goto</span> <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a>;</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;                    lp1 = lp1-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8700830b5a082a144a84d547130f7424">next</a>;</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;                }</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;                <span class="keywordflow">if</span> (ep == <a class="code" href="../../d1/dbe/ash_8c.html#aed93902cb072f5ec2a7594e27b307c53">stackstrend</a>())</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;                    ep = <a class="code" href="../../d1/dbe/ash_8c.html#a51cb864227836eac29a01d9981fc4fd4">growstackstr</a>();</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;                *ep++ = (<span class="keywordtype">char</span>*)<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text;</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;#<span class="keywordflow">if</span> ENABLE_FEATURE_SH_NOFORK</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160; <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a>: ;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;#endif</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;            }</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;        }</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    } <span class="keywordflow">while</span> (++vpp &lt; <a class="code" href="../../d1/dbe/ash_8c.html#aa13d15a33a1b1c719af518ff181ce8c8">vartab</a> + <a class="code" href="../../d1/dbe/ash_8c.html#ab61cc25b08e627f25ca0b68e0586044a">VTABSIZE</a>);</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160; </div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_NOFORK</span></div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <span class="keywordflow">while</span> (lp) {</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;        <span class="keywordflow">if</span> (ep == <a class="code" href="../../d1/dbe/ash_8c.html#aed93902cb072f5ec2a7594e27b307c53">stackstrend</a>())</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;            ep = <a class="code" href="../../d1/dbe/ash_8c.html#a51cb864227836eac29a01d9981fc4fd4">growstackstr</a>();</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;        *ep++ = lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">text</a>;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;        lp = lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8700830b5a082a144a84d547130f7424">next</a>;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    }</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160; </div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    <span class="keywordflow">if</span> (ep == <a class="code" href="../../d1/dbe/ash_8c.html#aed93902cb072f5ec2a7594e27b307c53">stackstrend</a>())</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;        ep = <a class="code" href="../../d1/dbe/ash_8c.html#a51cb864227836eac29a01d9981fc4fd4">growstackstr</a>();</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>)</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        *<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> = ep;</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    *ep++ = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7b5f8bbd363271d352ea79580f1f0cd4">grabstackstr</a>(ep);</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;}</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160; </div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160; </div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;<span class="comment">/* ============ Path search helper */</span></div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l02598"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#add55f727d660d08e5514f013b092516a"> 2598</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#add55f727d660d08e5514f013b092516a">legal_pathopt</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/d4f/excallback_8c.html#a0a96a7fecf1aeddf6219c3ca92bd67a3">term</a>, <span class="keywordtype">int</span> magic)</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;{</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    <span class="keywordflow">switch</span> (magic) {</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;        <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160; </div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;        <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a230902048e5385f7f1cdd8eff9da6cf6">prefix</a>(<a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a>, <span class="stringliteral">&quot;builtin&quot;</span>) ?: <a class="code" href="../../d1/dbe/ash_8c.html#a230902048e5385f7f1cdd8eff9da6cf6">prefix</a>(<a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a>, <span class="stringliteral">&quot;func&quot;</span>);</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160; </div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;        <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> += <a class="code" href="../../d5/d42/Userspace_2musl_2include_2string_8h.html#a4e8462eddc5a160451a246bc1bc22bb4">strcspn</a>(<a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a>, <a class="code" href="../../d6/d4f/excallback_8c.html#a0a96a7fecf1aeddf6219c3ca92bd67a3">term</a>);</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    }</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160; </div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> &amp;&amp; *<a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> == <span class="charliteral">&#39;%&#39;</span>)</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a>++;</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160; </div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a>;</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;}</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160; </div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;<span class="comment"> * The variable path (passed by reference) should be set to the start</span></div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;<span class="comment"> * of the path before the first call; padvance will update</span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;<span class="comment"> * this value as it proceeds.  Successive calls to padvance will return</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;<span class="comment"> * the possible path expansions in sequence.  If an option (indicated by</span></div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;<span class="comment"> * a percent sign) appears in the path entry then the global variable</span></div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;<span class="comment"> * pathopt will be set to point to it; otherwise pathopt will be set to</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;<span class="comment"> * NULL.</span></div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;<span class="comment"> * If magic is 0 then pathopt recognition will be disabled.  If magic is</span></div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;<span class="comment"> * 1 we shall recognise %builtin/%func.  Otherwise we shall accept any</span></div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;<span class="comment"> * pathopt.</span></div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a897ae134f4c871992ace29631fe5ddfa"> 2633</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a897ae134f4c871992ace29631fe5ddfa">pathopt</a>;     <span class="comment">/* set by padvance */</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160; </div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l02636"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9121da3c0523b30c6777f2fa042e482a"> 2636</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a9121da3c0523b30c6777f2fa042e482a">padvance_magic</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> **path, <span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> magic)</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;{</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/d4f/excallback_8c.html#a0a96a7fecf1aeddf6219c3ca92bd67a3">term</a> = <span class="stringliteral">&quot;%:&quot;</span>;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *lpathopt;</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    <span class="keywordtype">size_t</span> qlen;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160; </div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    <span class="keywordflow">if</span> (*path == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160; </div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    lpathopt = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = *path;</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160; </div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#add55f727d660d08e5514f013b092516a">legal_pathopt</a>(<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> + 1, <a class="code" href="../../d6/d4f/excallback_8c.html#a0a96a7fecf1aeddf6219c3ca92bd67a3">term</a>, magic))) {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;        lpathopt = <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> + 1;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;        <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;        <a class="code" href="../../d6/d4f/excallback_8c.html#a0a96a7fecf1aeddf6219c3ca92bd67a3">term</a> = <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    }</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160; </div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d5/d42/Userspace_2musl_2include_2string_8h.html#a4e8462eddc5a160451a246bc1bc22bb4">strcspn</a>(<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, <a class="code" href="../../d6/d4f/excallback_8c.html#a0a96a7fecf1aeddf6219c3ca92bd67a3">term</a>);</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> + <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160; </div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;%&#39;</span>) {</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;        <span class="keywordtype">size_t</span> extra = <a class="code" href="../../dd/d59/apps_2base_2bash_2lib_2sh_2strchrnul_8c.html#a3bfec92685b659e3b184eca81c3db7f4">strchrnul</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="charliteral">&#39;:&#39;</span>) - <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160; </div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#add55f727d660d08e5514f013b092516a">legal_pathopt</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + 1, <a class="code" href="../../d6/d4f/excallback_8c.html#a0a96a7fecf1aeddf6219c3ca92bd67a3">term</a>, magic))</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;            lpathopt = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + 1;</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;            <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> += extra;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160; </div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += extra;</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    }</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160; </div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a897ae134f4c871992ace29631fe5ddfa">pathopt</a> = lpathopt;</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    *path = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;:&#39;</span> ? <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + 1 : <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160; </div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    <span class="comment">/* &quot;2&quot; is for &#39;/&#39; and &#39;\0&#39; */</span></div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    qlen = <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(name) + 2;</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    q = <a class="code" href="../../d1/dbe/ash_8c.html#abf7ce6bae45c1abc22e3097c86c9ca92">growstackto</a>(qlen);</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160; </div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>) {</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;        q = <a class="code" href="../../d0/dfd/mempcpy_8c.html#a7ac7c0f43132e3acf013e0c71a58cdc9">mempcpy</a>(q, <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;        *q++ = <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    }</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#a06688b0d2444199f657ccb56b0ce11b3">strcpy</a>(q, name);</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160; </div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;    <span class="keywordflow">return</span> qlen;</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;}</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160; </div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l02689"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa98d7d9d1f81656de699a72b080a8286"> 2689</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aa98d7d9d1f81656de699a72b080a8286">padvance</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> **path, <span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;{</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a9121da3c0523b30c6777f2fa042e482a">padvance_magic</a>(path, name, 1);</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;}</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160; </div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160; </div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;<span class="comment">/* ============ Prompt */</span></div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160; </div>
<div class="line"><a name="l02697"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a"> 2697</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a>;                   <span class="comment">/* if set, prompt the user */</span></div>
<div class="line"><a name="l02698"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a010f966b977f7398eca0ffd8997421d1"> 2698</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a010f966b977f7398eca0ffd8997421d1">needprompt</a>;                 <span class="comment">/* true if interactive and at start of line */</span></div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160; </div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_EDITING</span></div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;<span class="keyword">static</span> line_input_t *line_input_state;</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *cmdedit_prompt;</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a9f86e04ef4965272da42f737fd798317">putprompt</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;{</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <span class="keywordflow">if</span> (ENABLE_ASH_EXPAND_PRMT) {</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>((<span class="keywordtype">char</span>*)cmdedit_prompt);</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;        cmdedit_prompt = <a class="code" href="../../d1/dbe/ash_8c.html#ae636b85e9fda111db77be3efbad1c862">ckstrdup</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    }</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    cmdedit_prompt = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;}</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02715"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9f86e04ef4965272da42f737fd798317"> 2715</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a9f86e04ef4965272da42f737fd798317">putprompt</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;{</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ad41387932da6f74836f39a196a96519c">out2str</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;}</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160; </div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;<span class="comment">/* expandstr() needs parsing machinery, so it is far away ahead... */</span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a435931295fba5edd709b9d369def7329">expandstr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *ps, <span class="keywordtype">int</span> syntax_type);</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;<span class="comment">/* Values for syntax param */</span></div>
<div class="line"><a name="l02724"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aabad2b9b4fa22108df171bbcd6384722"> 2724</a></span>&#160;<span class="preprocessor">#define BASESYNTAX 0    </span><span class="comment">/* not in quotes */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02725"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aaa6071f56fe3ef665c45682e2875e1c8"> 2725</a></span>&#160;<span class="preprocessor">#define DQSYNTAX   1    </span><span class="comment">/* in double quotes */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02726"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5679e97a6d2f4d924815b16997badb3e"> 2726</a></span>&#160;<span class="preprocessor">#define SQSYNTAX   2    </span><span class="comment">/* in single quotes */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02727"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a341ac5757fa89c680495bed4c78fde00"> 2727</a></span>&#160;<span class="preprocessor">#define ARISYNTAX  3    </span><span class="comment">/* in arithmetic */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;<span class="preprocessor">#if ENABLE_ASH_EXPAND_PRMT</span></div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;<span class="preprocessor"># define PSSYNTAX  4    </span><span class="comment">/* prompt. never passed to SIT() */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;<span class="comment">/* PSSYNTAX expansion is identical to DQSYNTAX, except keeping &#39;\$&#39; as &#39;\$&#39; */</span></div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160; </div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;<span class="comment"> * called by editline -- any expansions to the prompt should be added here.</span></div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02737"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7293b0347a906fd7957e16aac7c5243e"> 2737</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a7293b0347a906fd7957e16aac7c5243e">setprompt_if</a>(<a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../dc/de1/iplink_8c.html#aec4225eba42962b83346996c2300ae4e">do_set</a>, <span class="keywordtype">int</span> whichprompt)</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;{</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a>;</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    IF_ASH_EXPAND_PRMT(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> smark;)</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160; </div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dc/de1/iplink_8c.html#aec4225eba42962b83346996c2300ae4e">do_set</a>)</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160; </div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a010f966b977f7398eca0ffd8997421d1">needprompt</a> = 0;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160; </div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <span class="keywordflow">switch</span> (whichprompt) {</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;        <a class="code" href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a00275e715d2e73727d0968fdfcdc8d4b">ps1val</a>();</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;        <a class="code" href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ab4b97e6278cc51b3d35fa6c5d1f9c28a">ps2val</a>();</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <span class="keywordflow">default</span>:                        <span class="comment">/* 0 */</span></div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;        <a class="code" href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    }</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;<span class="preprocessor">#if ENABLE_ASH_EXPAND_PRMT</span></div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c67d866850019e4c058432478c9c28f">pushstackmark</a>(&amp;smark, <a class="code" href="../../d1/dbe/ash_8c.html#ab2b1b9933d7ac82f58bf7dd6f5895483">stackblocksize</a>());</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9f86e04ef4965272da42f737fd798317">putprompt</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a435931295fba5edd709b9d369def7329">expandstr</a>(<a class="code" href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a>, PSSYNTAX));</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9f86e04ef4965272da42f737fd798317">putprompt</a>(<a class="code" href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a>);</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;}</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160; </div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160; </div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;<span class="comment">/* ============ The cd and pwd commands */</span></div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160; </div>
<div class="line"><a name="l02769"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8b43920779ebc0505848ce0fd9a44d29"> 2769</a></span>&#160;<span class="preprocessor">#define CD_PHYSICAL 1</span></div>
<div class="line"><a name="l02770"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a02439554e31d4e3c0a24e89f726e54f2"> 2770</a></span>&#160;<span class="preprocessor">#define CD_PRINT 2</span></div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160; </div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l02773"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7423a40e802148b929e2b062f88762d9"> 2773</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a7423a40e802148b929e2b062f88762d9">cdopt</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;{</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> = 0;</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>;</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160; </div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = <span class="charliteral">&#39;L&#39;</span>;</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<span class="stringliteral">&quot;LP&quot;</span>)) != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> != <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>) {</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;            <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> ^= <a class="code" href="../../d1/dbe/ash_8c.html#a8b43920779ebc0505848ce0fd9a44d29">CD_PHYSICAL</a>;</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;            <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;        }</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    }</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160; </div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;}</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160; </div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;<span class="comment"> * Update curdir (the name of the current directory) in response to a</span></div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;<span class="comment"> * cd command.</span></div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l02794"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aaf92abb74ade45a52f02621c39b8ca6d"> 2794</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aaf92abb74ade45a52f02621c39b8ca6d">updatepwd</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>)</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;{</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    <span class="keywordtype">char</span> *<span class="keyword">new</span>;</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;    <span class="keywordtype">char</span> *cdcomppath;</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *lim;</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160; </div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    cdcomppath = <a class="code" href="../../d1/dbe/ash_8c.html#a8a9439fe2ef12c44f9a6ced41a4e21a0">sstrdup</a>(<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>);</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a51947f73159e14e6d1deac7c491013ac">STARTSTACKSTR</a>(<span class="keyword">new</span>);</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> != <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ab2b4af4bbbe7999b7411da95037eb924">curdir</a> == <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>)</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;        <span class="keyword">new</span> = <a class="code" href="../../d1/dbe/ash_8c.html#acd5e4eb81ce2b9efcd1d8ff5e53b6096">stack_putstr</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ab2b4af4bbbe7999b7411da95037eb924">curdir</a>, <span class="keyword">new</span>);</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    }</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <span class="keyword">new</span> = <a class="code" href="../../d1/dbe/ash_8c.html#a8fbe4c07cec9e449521386e9b41608c0">makestrspace</a>(<a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>) + 2, <span class="keyword">new</span>);</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    lim = (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + 1;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> != <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">new</span>[-1] != <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;/&#39;</span>, <span class="keyword">new</span>);</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">new</span> &gt; lim &amp;&amp; *lim == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;            lim++;</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;/&#39;</span>, <span class="keyword">new</span>);</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;        cdcomppath++;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>[1] == <span class="charliteral">&#39;/&#39;</span> &amp;&amp; <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>[2] != <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;/&#39;</span>, <span class="keyword">new</span>);</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;            cdcomppath++;</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;            lim++;</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;        }</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    }</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d5/db2/strtok__r_8c.html#abf7949e9b8a6fe0db9f4422eb256104e">strtok_r</a>(cdcomppath, <span class="stringliteral">&quot;/&quot;</span>, &amp;cdcomppath);</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;        <span class="keywordflow">switch</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;.&#39;</span>:</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1] == <span class="charliteral">&#39;.&#39;</span> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[2] == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;                <span class="keywordflow">while</span> (<span class="keyword">new</span> &gt; lim) {</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a27e34243f684911d11eeea0506728d96">STUNPUTC</a>(<span class="keyword">new</span>);</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;                    <span class="keywordflow">if</span> (<span class="keyword">new</span>[-1] == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;                }</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;            }</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1] == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;            <span class="comment">/* fall through */</span></div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;            <span class="keyword">new</span> = <a class="code" href="../../d1/dbe/ash_8c.html#acd5e4eb81ce2b9efcd1d8ff5e53b6096">stack_putstr</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keyword">new</span>);</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;/&#39;</span>, <span class="keyword">new</span>);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;        }</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d5/db2/strtok__r_8c.html#abf7949e9b8a6fe0db9f4422eb256104e">strtok_r</a>(<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;/&quot;</span>, &amp;cdcomppath);</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    }</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">new</span> &gt; lim)</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a27e34243f684911d11eeea0506728d96">STUNPUTC</a>(<span class="keyword">new</span>);</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    *<span class="keyword">new</span> = 0;</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;}</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160; </div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;<span class="comment"> * Find out what the current directory is. If we already know the current</span></div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;<span class="comment"> * directory, this routine returns immediately.</span></div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l02856"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad989ed2f4cd36d5903a7264eb434de30"> 2856</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ad989ed2f4cd36d5903a7264eb434de30">getpwd</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;{</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#ad4a56f6b40d7a5953d0fd8c9b192f5f2">getcwd</a>(<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0); <span class="comment">/* huh, using glibc extension? */</span></div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> ? <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> : <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;}</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160; </div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02863"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a412aa44424e0422c0e8ae7829c1526a5"> 2863</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a412aa44424e0422c0e8ae7829c1526a5">setpwd</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>, <span class="keywordtype">int</span> setold)</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;{</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    <span class="keywordtype">char</span> *oldcur, *<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>;</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160; </div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;    oldcur = <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ab2b4af4bbbe7999b7411da95037eb924">curdir</a>;</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160; </div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    <span class="keywordflow">if</span> (setold) {</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393">setvar</a>(<span class="stringliteral">&quot;OLDPWD&quot;</span>, oldcur, <a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>);</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    }</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#aa279d134a6b704c7a3f799140300c10a">physdir</a> != <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>) {</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#aa279d134a6b704c7a3f799140300c10a">physdir</a> != oldcur)</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d1/dbe/ash_8c.html#aa279d134a6b704c7a3f799140300c10a">physdir</a>);</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa279d134a6b704c7a3f799140300c10a">physdir</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>;</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    }</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <span class="keywordflow">if</span> (oldcur == <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a> || !<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>) {</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ad989ed2f4cd36d5903a7264eb434de30">getpwd</a>();</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa279d134a6b704c7a3f799140300c10a">physdir</a> = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>)</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;            <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;        <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae636b85e9fda111db77be3efbad1c862">ckstrdup</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>);</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;    <span class="keywordflow">if</span> (oldcur != <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> &amp;&amp; oldcur != <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>) {</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(oldcur);</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    }</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab2b4af4bbbe7999b7411da95037eb924">curdir</a> = <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393">setvar</a>(<span class="stringliteral">&quot;PWD&quot;</span>, <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>);</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;}</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160; </div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a272d05ac530197a45631148058364968">hashcd</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160; </div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;<span class="comment"> * Actually do the chdir.  We also call hashcd to let other routines</span></div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;<span class="comment"> * know that the current directory has changed.</span></div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l02900"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a89c72ec201709df195561d1faa9911c4"> 2900</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a89c72ec201709df195561d1faa9911c4">docd</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *dest, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;{</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160; </div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;docd(\&quot;%s\&quot;, %d) called\n&quot;</span>, dest, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>));</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160; </div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a8b43920779ebc0505848ce0fd9a44d29">CD_PHYSICAL</a>)) {</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aaf92abb74ade45a52f02621c39b8ca6d">updatepwd</a>(dest);</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>)</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;            dest = <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>;</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    }</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;    <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> = <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(dest);</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>)</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a412aa44424e0422c0e8ae7829c1526a5">setpwd</a>(<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, 1);</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a272d05ac530197a45631148058364968">hashcd</a>();</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;}</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160; </div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l02924"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6e57db81112cabc28950fa04990c4da1"> 2924</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a6e57db81112cabc28950fa04990c4da1">cdcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;{</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *dest;</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *path;</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> statb;</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160; </div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7423a40e802148b929e2b062f88762d9">cdopt</a>();</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    dest = *<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    <span class="keywordflow">if</span> (!dest)</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;        dest = <a class="code" href="../../d1/dbe/ash_8c.html#a64704659d7e4b4c6d2a1ce78f70687a1">bltinlookup</a>(<span class="stringliteral">&quot;HOME&quot;</span>);</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#ae3c705adc31efb61b8a23829e028028e">LONE_DASH</a>(dest)) {</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;        dest = <a class="code" href="../../d1/dbe/ash_8c.html#a64704659d7e4b4c6d2a1ce78f70687a1">bltinlookup</a>(<span class="stringliteral">&quot;OLDPWD&quot;</span>);</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;        <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> |= <a class="code" href="../../d1/dbe/ash_8c.html#a02439554e31d4e3c0a24e89f726e54f2">CD_PRINT</a>;</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    }</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    <span class="keywordflow">if</span> (!dest)</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;        dest = <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>;</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    <span class="keywordflow">if</span> (*dest == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;        <span class="keywordflow">goto</span> step6;</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    <span class="keywordflow">if</span> (*dest == <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = dest[1];</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160; dotdot:</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\0&#39;</span>:</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>:</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;            <span class="keywordflow">goto</span> step6;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;.&#39;</span>:</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = dest[2];</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;                <span class="keywordflow">goto</span> dotdot;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;        }</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;    }</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    <span class="keywordflow">if</span> (!*dest)</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;        dest = <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    path = <a class="code" href="../../d1/dbe/ash_8c.html#a64704659d7e4b4c6d2a1ce78f70687a1">bltinlookup</a>(<span class="stringliteral">&quot;CDPATH&quot;</span>);</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = path, (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa98d7d9d1f81656de699a72b080a8286">padvance</a>(&amp;path, dest)) &gt;= 0) {</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7a1a6d8c702ae5df5dcfe038a1708158">stalloc</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160; </div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, &amp;statb) &gt;= 0 &amp;&amp; <a class="code" href="../../d1/d85/filesystem_8hpp.html#a3746cdc5aac871e6f6504fbcbd29ef1d">S_ISDIR</a>(statb.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a>)) {</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;                <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> |= <a class="code" href="../../d1/dbe/ash_8c.html#a02439554e31d4e3c0a24e89f726e54f2">CD_PRINT</a>;</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160; <a class="code" href="../../d1/dbe/ash_8c.html#a89c72ec201709df195561d1faa9911c4">docd</a>:</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a89c72ec201709df195561d1faa9911c4">docd</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>))</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;        }</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;    }</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160; </div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160; step6:</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = dest;</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d1/dbe/ash_8c.html#a89c72ec201709df195561d1faa9911c4">docd</a>;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160; </div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160; <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>:</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a>(<span class="stringliteral">&quot;can&#39;t cd to %s&quot;</span>, dest);</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a02439554e31d4e3c0a24e89f726e54f2">CD_PRINT</a>)</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#ab2b4af4bbbe7999b7411da95037eb924">curdir</a>);</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;}</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160; </div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l02990"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0b25476817aa85cb612325a58c29bdef"> 2990</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a0b25476817aa85cb612325a58c29bdef">pwdcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;{</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>;</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ab2b4af4bbbe7999b7411da95037eb924">curdir</a>;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160; </div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;    <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7423a40e802148b929e2b062f88762d9">cdopt</a>();</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>) {</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#aa279d134a6b704c7a3f799140300c10a">physdir</a> == <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>)</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a412aa44424e0422c0e8ae7829c1526a5">setpwd</a>(<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, 0);</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;        <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa279d134a6b704c7a3f799140300c10a">physdir</a>;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    }</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>);</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;}</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160; </div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160; </div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;<span class="comment">/* ============ ... */</span></div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160; </div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160; </div>
<div class="line"><a name="l03009"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a699bcd70ab05310cf0eb6774a79cb56e"> 3009</a></span>&#160;<span class="preprocessor">#define IBUFSIZ (ENABLE_FEATURE_EDITING ? CONFIG_FEATURE_EDITING_MAX_LEN : 1024)</span></div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160; </div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;<span class="comment">/* Syntax classes */</span></div>
<div class="line"><a name="l03012"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd"> 3012</a></span>&#160;<span class="preprocessor">#define CWORD     0             </span><span class="comment">/* character is nothing special */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03013"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3c935fcd221b40e07d633c9ec486d6e8"> 3013</a></span>&#160;<span class="preprocessor">#define CNL       1             </span><span class="comment">/* newline character */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03014"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa66522395aa444ba2aa45b9e5be18dd7"> 3014</a></span>&#160;<span class="preprocessor">#define CBACK     2             </span><span class="comment">/* a backslash character */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03015"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5f38fd50bf57c08961d90dd19f5c6ed8"> 3015</a></span>&#160;<span class="preprocessor">#define CSQUOTE   3             </span><span class="comment">/* single quote */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03016"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a601fc0e11aeb25dae65e9ab78d9a6446"> 3016</a></span>&#160;<span class="preprocessor">#define CDQUOTE   4             </span><span class="comment">/* double quote */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03017"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a36a80cf394a9341022e2e7858861bbf8"> 3017</a></span>&#160;<span class="preprocessor">#define CENDQUOTE 5             </span><span class="comment">/* a terminating quote */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03018"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abdaf6a726613b7ef18ad526041e82f9f"> 3018</a></span>&#160;<span class="preprocessor">#define CBQUOTE   6             </span><span class="comment">/* backwards single quote */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03019"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af2fe42c651f99042a7514fcc15da0fb5"> 3019</a></span>&#160;<span class="preprocessor">#define CVAR      7             </span><span class="comment">/* a dollar sign */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03020"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa321730ad3c6b407af46a658fc4666ed"> 3020</a></span>&#160;<span class="preprocessor">#define CENDVAR   8             </span><span class="comment">/* a &#39;}&#39; character */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03021"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a30bec42fcda15c87fe0b235c1af87c10"> 3021</a></span>&#160;<span class="preprocessor">#define CLP       9             </span><span class="comment">/* a left paren in arithmetic */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03022"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a32928a534047f7a3cf2225aa5076d8e6"> 3022</a></span>&#160;<span class="preprocessor">#define CRP      10             </span><span class="comment">/* a right paren in arithmetic */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03023"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1557f2ba904439e646e9513264f619ba"> 3023</a></span>&#160;<span class="preprocessor">#define CENDFILE 11             </span><span class="comment">/* end of file */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03024"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0379e6a75ec57b4b16b784a609ef0b2e"> 3024</a></span>&#160;<span class="preprocessor">#define CCTL     12             </span><span class="comment">/* like CWORD, except it must be escaped */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03025"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3178469d4264994abd4fe5ed92ad4273"> 3025</a></span>&#160;<span class="preprocessor">#define CSPCL    13             </span><span class="comment">/* these terminate a word */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160; </div>
<div class="line"><a name="l03027"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2"> 3027</a></span>&#160;<span class="preprocessor">#define PEOF     256</span></div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160; </div>
<div class="line"><a name="l03029"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a93d737732389007c6899bb50acef57e3"> 3029</a></span>&#160;<span class="preprocessor">#define USE_SIT_FUNCTION ENABLE_ASH_OPTIMIZE_FOR_SIZE</span></div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160; </div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;<span class="preprocessor"># define SIT_ITEM(a,b,c,d) (a | (b &lt;&lt; 4) | (c &lt;&lt; 8) | (d &lt;&lt; 12))</span></div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03034"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38"> 3034</a></span>&#160;<span class="preprocessor"># define SIT_ITEM(a,b,c,d) (a | (b &lt;&lt; 4) | (c &lt;&lt; 8))</span></div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03036"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aacd5f4ee6c43110a2759db9226fc4e64"> 3036</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a5debae8b2a1ec20a6694c0c443ee399e">uint16_t</a> S_I_T[] <a class="code" href="../../d1/dbe/ash_8c.html#aacd5f4ee6c43110a2759db9226fc4e64">ALIGN2</a> = {</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a3178469d4264994abd4fe5ed92ad4273">CSPCL</a>   , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>    , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>  ),    <span class="comment">/* 0, &#39; &#39; */</span></div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a3c935fcd221b40e07d633c9ec486d6e8">CNL</a>     , <a class="code" href="../../d1/dbe/ash_8c.html#a3c935fcd221b40e07d633c9ec486d6e8">CNL</a>      , <a class="code" href="../../d1/dbe/ash_8c.html#a3c935fcd221b40e07d633c9ec486d6e8">CNL</a>  , <a class="code" href="../../d1/dbe/ash_8c.html#a3c935fcd221b40e07d633c9ec486d6e8">CNL</a>    ),    <span class="comment">/* 1, \n */</span></div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>   , <a class="code" href="../../d1/dbe/ash_8c.html#a0379e6a75ec57b4b16b784a609ef0b2e">CCTL</a>     , <a class="code" href="../../d1/dbe/ash_8c.html#a0379e6a75ec57b4b16b784a609ef0b2e">CCTL</a> , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>  ),    <span class="comment">/* 2, !*-/:=?[]~ */</span></div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a601fc0e11aeb25dae65e9ab78d9a6446">CDQUOTE</a> , <a class="code" href="../../d1/dbe/ash_8c.html#a36a80cf394a9341022e2e7858861bbf8">CENDQUOTE</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>  ),    <span class="comment">/* 3, &#39;&quot;&#39; */</span></div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af2fe42c651f99042a7514fcc15da0fb5">CVAR</a>    , <a class="code" href="../../d1/dbe/ash_8c.html#af2fe42c651f99042a7514fcc15da0fb5">CVAR</a>     , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>, <a class="code" href="../../d1/dbe/ash_8c.html#af2fe42c651f99042a7514fcc15da0fb5">CVAR</a>   ),    <span class="comment">/* 4, $ */</span></div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a5f38fd50bf57c08961d90dd19f5c6ed8">CSQUOTE</a> , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>    , <a class="code" href="../../d1/dbe/ash_8c.html#a36a80cf394a9341022e2e7858861bbf8">CENDQUOTE</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>),  <span class="comment">/* 5, &quot;&#39;&quot; */</span></div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a3178469d4264994abd4fe5ed92ad4273">CSPCL</a>   , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>    , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a30bec42fcda15c87fe0b235c1af87c10">CLP</a>    ),    <span class="comment">/* 6, ( */</span></div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a3178469d4264994abd4fe5ed92ad4273">CSPCL</a>   , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>    , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a32928a534047f7a3cf2225aa5076d8e6">CRP</a>    ),    <span class="comment">/* 7, ) */</span></div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#aa66522395aa444ba2aa45b9e5be18dd7">CBACK</a>   , <a class="code" href="../../d1/dbe/ash_8c.html#aa66522395aa444ba2aa45b9e5be18dd7">CBACK</a>    , <a class="code" href="../../d1/dbe/ash_8c.html#a0379e6a75ec57b4b16b784a609ef0b2e">CCTL</a> , <a class="code" href="../../d1/dbe/ash_8c.html#aa66522395aa444ba2aa45b9e5be18dd7">CBACK</a>  ),    <span class="comment">/* 8, \ */</span></div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#abdaf6a726613b7ef18ad526041e82f9f">CBQUOTE</a> , <a class="code" href="../../d1/dbe/ash_8c.html#abdaf6a726613b7ef18ad526041e82f9f">CBQUOTE</a>  , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>, <a class="code" href="../../d1/dbe/ash_8c.html#abdaf6a726613b7ef18ad526041e82f9f">CBQUOTE</a>),    <span class="comment">/* 9, ` */</span></div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#aa321730ad3c6b407af46a658fc4666ed">CENDVAR</a> , <a class="code" href="../../d1/dbe/ash_8c.html#aa321730ad3c6b407af46a658fc4666ed">CENDVAR</a>  , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>, <a class="code" href="../../d1/dbe/ash_8c.html#aa321730ad3c6b407af46a658fc4666ed">CENDVAR</a>),    <span class="comment">/* 10, } */</span></div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;<span class="preprocessor">#if !USE_SIT_FUNCTION</span></div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a1557f2ba904439e646e9513264f619ba">CENDFILE</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a1557f2ba904439e646e9513264f619ba">CENDFILE</a> , <a class="code" href="../../d1/dbe/ash_8c.html#a1557f2ba904439e646e9513264f619ba">CENDFILE</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a1557f2ba904439e646e9513264f619ba">CENDFILE</a>),<span class="comment">/* 11, PEOF */</span></div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>   , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>    , <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>  ),    <span class="comment">/* 12, 0-9A-Za-z */</span></div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a0379e6a75ec57b4b16b784a609ef0b2e">CCTL</a>    , <a class="code" href="../../d1/dbe/ash_8c.html#a0379e6a75ec57b4b16b784a609ef0b2e">CCTL</a>     , <a class="code" href="../../d1/dbe/ash_8c.html#a0379e6a75ec57b4b16b784a609ef0b2e">CCTL</a> , <a class="code" href="../../d1/dbe/ash_8c.html#a0379e6a75ec57b4b16b784a609ef0b2e">CCTL</a>   )     <span class="comment">/* 13, CTLESC ... */</span></div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;<span class="preprocessor">#undef SIT_ITEM</span></div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;};</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;<span class="comment">/* Constants below must match table above */</span></div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l03057"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a4821adcfb3fcd0280267643c151c5fa5"> 3057</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a4821adcfb3fcd0280267643c151c5fa5">CSPCL_CWORD_CWORD_CWORD</a>            , <span class="comment">/*  0 */</span></div>
<div class="line"><a name="l03058"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a715dc5ebcb5fd9396ea7fb9eefb152cb"> 3058</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a715dc5ebcb5fd9396ea7fb9eefb152cb">CNL_CNL_CNL_CNL</a>                    , <span class="comment">/*  1 */</span></div>
<div class="line"><a name="l03059"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5"> 3059</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5">CWORD_CCTL_CCTL_CWORD</a>              , <span class="comment">/*  2 */</span></div>
<div class="line"><a name="l03060"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a192bc4259531514d1963e20952c8d576"> 3060</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a192bc4259531514d1963e20952c8d576">CDQUOTE_CENDQUOTE_CWORD_CWORD</a>      , <span class="comment">/*  3 */</span></div>
<div class="line"><a name="l03061"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a7cf633fa2e8cf58a0d266c97f62a6a55"> 3061</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a7cf633fa2e8cf58a0d266c97f62a6a55">CVAR_CVAR_CWORD_CVAR</a>               , <span class="comment">/*  4 */</span></div>
<div class="line"><a name="l03062"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aae2607d06100e7b4807c1723190d5172"> 3062</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aae2607d06100e7b4807c1723190d5172">CSQUOTE_CWORD_CENDQUOTE_CWORD</a>      , <span class="comment">/*  5 */</span></div>
<div class="line"><a name="l03063"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6e7da980ae6e1e1fcaaf2fedceeb8d19"> 3063</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6e7da980ae6e1e1fcaaf2fedceeb8d19">CSPCL_CWORD_CWORD_CLP</a>              , <span class="comment">/*  6 */</span></div>
<div class="line"><a name="l03064"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a688f7908e1dc59e1e0d36749ed16b4c7"> 3064</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a688f7908e1dc59e1e0d36749ed16b4c7">CSPCL_CWORD_CWORD_CRP</a>              , <span class="comment">/*  7 */</span></div>
<div class="line"><a name="l03065"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a74881a1188108bc8589d823f853314c2"> 3065</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a74881a1188108bc8589d823f853314c2">CBACK_CBACK_CCTL_CBACK</a>             , <span class="comment">/*  8 */</span></div>
<div class="line"><a name="l03066"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a7183913f87d4381eb7a6d7228836d91c"> 3066</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a7183913f87d4381eb7a6d7228836d91c">CBQUOTE_CBQUOTE_CWORD_CBQUOTE</a>      , <span class="comment">/*  9 */</span></div>
<div class="line"><a name="l03067"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a246bf8bc3c06783f944a124d719fe594"> 3067</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a246bf8bc3c06783f944a124d719fe594">CENDVAR_CENDVAR_CWORD_CENDVAR</a>      , <span class="comment">/* 10 */</span></div>
<div class="line"><a name="l03068"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8ac2296d55884e0d271d10f84201b012aa"> 3068</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8ac2296d55884e0d271d10f84201b012aa">CENDFILE_CENDFILE_CENDFILE_CENDFILE</a>, <span class="comment">/* 11 */</span></div>
<div class="line"><a name="l03069"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e"> 3069</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>            , <span class="comment">/* 12 */</span></div>
<div class="line"><a name="l03070"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266"> 3070</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266">CCTL_CCTL_CCTL_CCTL</a>                , <span class="comment">/* 13 */</span></div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;};</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160; </div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;<span class="comment">/* c in SIT(c, syntax) must be an *unsigned char* or PEOF,</span></div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;<span class="comment"> * caller must ensure proper cast on it if c is *char_ptr!</span></div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;<span class="preprocessor">#if USE_SIT_FUNCTION</span></div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160; </div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac337c403365cfdc1027a04b9ca3b159b">SIT</a>(<span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <span class="keywordtype">int</span> <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a801e35a8df4386fb44c9678c3040afcd">syntax</a>)</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;{</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    <span class="comment">/* Used to also have &#39;/&#39; in this string: &quot;\t\n !\&quot;$&amp;&#39;()*-/:;&lt;=&gt;?[\\]`|}~&quot; */</span></div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> spec_symbls[] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = <span class="stringliteral">&quot;\t\n !\&quot;$&amp;&#39;()*-:;&lt;=&gt;?[\\]`|}~&quot;</span>;</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;<span class="comment">     * This causes &#39;/&#39; to be prepended with CTLESC in dquoted string,</span></div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;<span class="comment">     * making &quot;./file&quot;* treated incorrectly because we feed</span></div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;<span class="comment">     * &quot;.\/file*&quot; string to glob(), confusing it (see expandmeta func).</span></div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;<span class="comment">     * The &quot;homegrown&quot; glob implementation is okay with that,</span></div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;<span class="comment">     * but glibc one isn&#39;t. With &#39;/&#39; always treated as CWORD,</span></div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;<span class="comment">     * both work fine.</span></div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> syntax_index_table[] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = {</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;        0, 1, 0, 2, 3, 4, 0, 5,         <span class="comment">/* &quot;\t\n !\&quot;$&amp;&#39;&quot; */</span></div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;        6, 7, 2, 2,<span class="comment">/*2,*/</span>2, 0, 0,       <span class="comment">/* &quot;()*-/:;&lt;&quot; */</span></div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;        2, 0, 2, 2, 8, 2, 9, 0,         <span class="comment">/* &quot;=&gt;?[\\]`|&quot; */</span></div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;        10, 2                           <span class="comment">/* &quot;}~&quot; */</span></div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    };</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;    <span class="keywordtype">int</span> indx;</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160; </div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a>)</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a1557f2ba904439e646e9513264f619ba">CENDFILE</a>;</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    <span class="comment">/* Cast is purely for paranoia here,</span></div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;<span class="comment">     * just in case someone passed signed char to us */</span></div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &gt;= <a class="code" href="../../d1/dbe/ash_8c.html#ae58ea0b3529c2e955dcc46d1d4a79ce7">CTL_FIRST</a></div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;     &amp;&amp; (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &lt;= <a class="code" href="../../d1/dbe/ash_8c.html#a68d04d2ff4675d77906c7f14273b8eae">CTL_LAST</a></div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    ) {</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0379e6a75ec57b4b16b784a609ef0b2e">CCTL</a>;</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    }</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../dd/d59/apps_2base_2bash_2lib_2sh_2strchrnul_8c.html#a3bfec92685b659e3b184eca81c3db7f4">strchrnul</a>(spec_symbls, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>;</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    indx = syntax_index_table[<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> - spec_symbls];</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    <span class="keywordflow">return</span> (S_I_T[indx] &gt;&gt; (<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a801e35a8df4386fb44c9678c3040afcd">syntax</a>*4)) &amp; 0xf;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;}</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160; </div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;<span class="preprocessor">#else   </span><span class="comment">/* !USE_SIT_FUNCTION */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160; </div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> syntax_index_table[] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = {</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="comment">/* BASESYNTAX_DQSYNTAX_SQSYNTAX_ARISYNTAX */</span></div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    <span class="comment">/*   0      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    <span class="comment">/*   1      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="comment">/*   2      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <span class="comment">/*   3      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <span class="comment">/*   4      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="comment">/*   5      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    <span class="comment">/*   6      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    <span class="comment">/*   7      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <span class="comment">/*   8      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    <span class="comment">/*   9 &quot;\t&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a4821adcfb3fcd0280267643c151c5fa5">CSPCL_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    <span class="comment">/*  10 &quot;\n&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a715dc5ebcb5fd9396ea7fb9eefb152cb">CNL_CNL_CNL_CNL</a>,</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    <span class="comment">/*  11      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    <span class="comment">/*  12      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    <span class="comment">/*  13      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    <span class="comment">/*  14      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    <span class="comment">/*  15      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;    <span class="comment">/*  16      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    <span class="comment">/*  17      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    <span class="comment">/*  18      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;    <span class="comment">/*  19      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    <span class="comment">/*  20      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    <span class="comment">/*  21      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    <span class="comment">/*  22      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    <span class="comment">/*  23      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;    <span class="comment">/*  24      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    <span class="comment">/*  25      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    <span class="comment">/*  26      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;    <span class="comment">/*  27      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;    <span class="comment">/*  28      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;    <span class="comment">/*  29      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    <span class="comment">/*  30      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;    <span class="comment">/*  31      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;    <span class="comment">/*  32  &quot; &quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a4821adcfb3fcd0280267643c151c5fa5">CSPCL_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;    <span class="comment">/*  33  &quot;!&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5">CWORD_CCTL_CCTL_CWORD</a>,</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;    <span class="comment">/*  34  &quot;&quot;&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a192bc4259531514d1963e20952c8d576">CDQUOTE_CENDQUOTE_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;    <span class="comment">/*  35  &quot;#&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;    <span class="comment">/*  36  &quot;$&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a7cf633fa2e8cf58a0d266c97f62a6a55">CVAR_CVAR_CWORD_CVAR</a>,</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;    <span class="comment">/*  37  &quot;%&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    <span class="comment">/*  38  &quot;&amp;&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a4821adcfb3fcd0280267643c151c5fa5">CSPCL_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    <span class="comment">/*  39  &quot;&#39;&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aae2607d06100e7b4807c1723190d5172">CSQUOTE_CWORD_CENDQUOTE_CWORD</a>,</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    <span class="comment">/*  40  &quot;(&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6e7da980ae6e1e1fcaaf2fedceeb8d19">CSPCL_CWORD_CWORD_CLP</a>,</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    <span class="comment">/*  41  &quot;)&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a688f7908e1dc59e1e0d36749ed16b4c7">CSPCL_CWORD_CWORD_CRP</a>,</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;    <span class="comment">/*  42  &quot;*&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5">CWORD_CCTL_CCTL_CWORD</a>,</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;    <span class="comment">/*  43  &quot;+&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;    <span class="comment">/*  44  &quot;,&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;    <span class="comment">/*  45  &quot;-&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5">CWORD_CCTL_CCTL_CWORD</a>,</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    <span class="comment">/*  46  &quot;.&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;<span class="comment">/* &quot;/&quot; was CWORD_CCTL_CCTL_CWORD, see comment in SIT() function why this is changed: */</span></div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    <span class="comment">/*  47  &quot;/&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    <span class="comment">/*  48  &quot;0&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    <span class="comment">/*  49  &quot;1&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    <span class="comment">/*  50  &quot;2&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <span class="comment">/*  51  &quot;3&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    <span class="comment">/*  52  &quot;4&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    <span class="comment">/*  53  &quot;5&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    <span class="comment">/*  54  &quot;6&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;    <span class="comment">/*  55  &quot;7&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;    <span class="comment">/*  56  &quot;8&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    <span class="comment">/*  57  &quot;9&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    <span class="comment">/*  58  &quot;:&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5">CWORD_CCTL_CCTL_CWORD</a>,</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;    <span class="comment">/*  59  &quot;;&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a4821adcfb3fcd0280267643c151c5fa5">CSPCL_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    <span class="comment">/*  60  &quot;&lt;&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a4821adcfb3fcd0280267643c151c5fa5">CSPCL_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    <span class="comment">/*  61  &quot;=&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5">CWORD_CCTL_CCTL_CWORD</a>,</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    <span class="comment">/*  62  &quot;&gt;&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a4821adcfb3fcd0280267643c151c5fa5">CSPCL_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    <span class="comment">/*  63  &quot;?&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5">CWORD_CCTL_CCTL_CWORD</a>,</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;    <span class="comment">/*  64  &quot;@&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    <span class="comment">/*  65  &quot;A&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;    <span class="comment">/*  66  &quot;B&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    <span class="comment">/*  67  &quot;C&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    <span class="comment">/*  68  &quot;D&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    <span class="comment">/*  69  &quot;E&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;    <span class="comment">/*  70  &quot;F&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;    <span class="comment">/*  71  &quot;G&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;    <span class="comment">/*  72  &quot;H&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;    <span class="comment">/*  73  &quot;I&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    <span class="comment">/*  74  &quot;J&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    <span class="comment">/*  75  &quot;K&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;    <span class="comment">/*  76  &quot;L&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    <span class="comment">/*  77  &quot;M&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    <span class="comment">/*  78  &quot;N&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;    <span class="comment">/*  79  &quot;O&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;    <span class="comment">/*  80  &quot;P&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    <span class="comment">/*  81  &quot;Q&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;    <span class="comment">/*  82  &quot;R&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;    <span class="comment">/*  83  &quot;S&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;    <span class="comment">/*  84  &quot;T&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;    <span class="comment">/*  85  &quot;U&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;    <span class="comment">/*  86  &quot;V&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;    <span class="comment">/*  87  &quot;W&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;    <span class="comment">/*  88  &quot;X&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <span class="comment">/*  89  &quot;Y&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    <span class="comment">/*  90  &quot;Z&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    <span class="comment">/*  91  &quot;[&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5">CWORD_CCTL_CCTL_CWORD</a>,</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;    <span class="comment">/*  92  &quot;\&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a74881a1188108bc8589d823f853314c2">CBACK_CBACK_CCTL_CBACK</a>,</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    <span class="comment">/*  93  &quot;]&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5">CWORD_CCTL_CCTL_CWORD</a>,</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;    <span class="comment">/*  94  &quot;^&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;    <span class="comment">/*  95  &quot;_&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    <span class="comment">/*  96  &quot;`&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a7183913f87d4381eb7a6d7228836d91c">CBQUOTE_CBQUOTE_CWORD_CBQUOTE</a>,</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    <span class="comment">/*  97  &quot;a&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="comment">/*  98  &quot;b&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    <span class="comment">/*  99  &quot;c&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    <span class="comment">/* 100  &quot;d&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <span class="comment">/* 101  &quot;e&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    <span class="comment">/* 102  &quot;f&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;    <span class="comment">/* 103  &quot;g&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;    <span class="comment">/* 104  &quot;h&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;    <span class="comment">/* 105  &quot;i&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    <span class="comment">/* 106  &quot;j&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;    <span class="comment">/* 107  &quot;k&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;    <span class="comment">/* 108  &quot;l&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    <span class="comment">/* 109  &quot;m&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    <span class="comment">/* 110  &quot;n&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;    <span class="comment">/* 111  &quot;o&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;    <span class="comment">/* 112  &quot;p&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    <span class="comment">/* 113  &quot;q&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    <span class="comment">/* 114  &quot;r&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="comment">/* 115  &quot;s&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;    <span class="comment">/* 116  &quot;t&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;    <span class="comment">/* 117  &quot;u&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;    <span class="comment">/* 118  &quot;v&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    <span class="comment">/* 119  &quot;w&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;    <span class="comment">/* 120  &quot;x&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;    <span class="comment">/* 121  &quot;y&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;    <span class="comment">/* 122  &quot;z&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    <span class="comment">/* 123  &quot;{&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;    <span class="comment">/* 124  &quot;|&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a4821adcfb3fcd0280267643c151c5fa5">CSPCL_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    <span class="comment">/* 125  &quot;}&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a246bf8bc3c06783f944a124d719fe594">CENDVAR_CENDVAR_CWORD_CENDVAR</a>,</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    <span class="comment">/* 126  &quot;~&quot; */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5">CWORD_CCTL_CCTL_CWORD</a>,</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;    <span class="comment">/* 127  del */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    <span class="comment">/* 128 0x80 */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;    <span class="comment">/* 129 CTLESC       */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266">CCTL_CCTL_CCTL_CCTL</a>,</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;    <span class="comment">/* 130 CTLVAR       */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266">CCTL_CCTL_CCTL_CCTL</a>,</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    <span class="comment">/* 131 CTLENDVAR    */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266">CCTL_CCTL_CCTL_CCTL</a>,</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;    <span class="comment">/* 132 CTLBACKQ     */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266">CCTL_CCTL_CCTL_CCTL</a>,</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;    <span class="comment">/* 133 CTLQUOTE     */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266">CCTL_CCTL_CCTL_CCTL</a>,</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    <span class="comment">/* 134 CTLARI       */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266">CCTL_CCTL_CCTL_CCTL</a>,</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;    <span class="comment">/* 135 CTLENDARI    */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266">CCTL_CCTL_CCTL_CCTL</a>,</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;    <span class="comment">/* 136 CTLQUOTEMARK */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266">CCTL_CCTL_CCTL_CCTL</a>,</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;    <span class="comment">/* 137 CTLTOPROC    */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266">CCTL_CCTL_CCTL_CCTL</a>,</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    <span class="comment">/* 138 CTLFROMPROC  */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266">CCTL_CCTL_CCTL_CCTL</a>,</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;    <span class="comment">/* 137      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;    <span class="comment">/* 138      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    <span class="comment">/* 139      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;    <span class="comment">/* 140      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;    <span class="comment">/* 141      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;    <span class="comment">/* 142      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;    <span class="comment">/* 143      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;    <span class="comment">/* 144      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;    <span class="comment">/* 145      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;    <span class="comment">/* 146      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;    <span class="comment">/* 147      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;    <span class="comment">/* 148      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;    <span class="comment">/* 149      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;    <span class="comment">/* 150      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;    <span class="comment">/* 151      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;    <span class="comment">/* 152      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;    <span class="comment">/* 153      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    <span class="comment">/* 154      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;    <span class="comment">/* 155      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    <span class="comment">/* 156      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <span class="comment">/* 157      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    <span class="comment">/* 158      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    <span class="comment">/* 159      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;    <span class="comment">/* 160      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;    <span class="comment">/* 161      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;    <span class="comment">/* 162      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;    <span class="comment">/* 163      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;    <span class="comment">/* 164      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    <span class="comment">/* 165      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    <span class="comment">/* 166      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    <span class="comment">/* 167      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;    <span class="comment">/* 168      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    <span class="comment">/* 169      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;    <span class="comment">/* 170      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    <span class="comment">/* 171      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    <span class="comment">/* 172      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;    <span class="comment">/* 173      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    <span class="comment">/* 174      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    <span class="comment">/* 175      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;    <span class="comment">/* 176      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;    <span class="comment">/* 177      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;    <span class="comment">/* 178      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    <span class="comment">/* 179      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    <span class="comment">/* 180      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;    <span class="comment">/* 181      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    <span class="comment">/* 182      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;    <span class="comment">/* 183      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;    <span class="comment">/* 184      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;    <span class="comment">/* 185      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;    <span class="comment">/* 186      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;    <span class="comment">/* 187      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    <span class="comment">/* 188      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;    <span class="comment">/* 189      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    <span class="comment">/* 190      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    <span class="comment">/* 191      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;    <span class="comment">/* 192      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;    <span class="comment">/* 193      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;    <span class="comment">/* 194      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;    <span class="comment">/* 195      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;    <span class="comment">/* 196      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;    <span class="comment">/* 197      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;    <span class="comment">/* 198      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;    <span class="comment">/* 199      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;    <span class="comment">/* 200      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;    <span class="comment">/* 201      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;    <span class="comment">/* 202      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;    <span class="comment">/* 203      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    <span class="comment">/* 204      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    <span class="comment">/* 205      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    <span class="comment">/* 206      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;    <span class="comment">/* 207      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    <span class="comment">/* 208      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;    <span class="comment">/* 209      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    <span class="comment">/* 210      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    <span class="comment">/* 211      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    <span class="comment">/* 212      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    <span class="comment">/* 213      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    <span class="comment">/* 214      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    <span class="comment">/* 215      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    <span class="comment">/* 216      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;    <span class="comment">/* 217      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    <span class="comment">/* 218      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;    <span class="comment">/* 219      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;    <span class="comment">/* 220      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;    <span class="comment">/* 221      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    <span class="comment">/* 222      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;    <span class="comment">/* 223      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;    <span class="comment">/* 224      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    <span class="comment">/* 225      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    <span class="comment">/* 226      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;    <span class="comment">/* 227      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <span class="comment">/* 228      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;    <span class="comment">/* 229      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;    <span class="comment">/* 230      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    <span class="comment">/* 231      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    <span class="comment">/* 232      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;    <span class="comment">/* 233      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;    <span class="comment">/* 234      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;    <span class="comment">/* 235      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;    <span class="comment">/* 236      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;    <span class="comment">/* 237      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;    <span class="comment">/* 238      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;    <span class="comment">/* 239      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;    <span class="comment">/* 230      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;    <span class="comment">/* 241      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;    <span class="comment">/* 242      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;    <span class="comment">/* 243      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;    <span class="comment">/* 244      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    <span class="comment">/* 245      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;    <span class="comment">/* 246      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;    <span class="comment">/* 247      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;    <span class="comment">/* 248      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    <span class="comment">/* 249      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    <span class="comment">/* 250      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    <span class="comment">/* 251      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;    <span class="comment">/* 252      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;    <span class="comment">/* 253      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;    <span class="comment">/* 254      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;    <span class="comment">/* 255      */</span> <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a>,</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    <span class="comment">/* PEOF */</span>     <a class="code" href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8ac2296d55884e0d271d10f84201b012aa">CENDFILE_CENDFILE_CENDFILE_CENDFILE</a>,</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;};</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160; </div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;<span class="preprocessor">#if 1</span></div>
<div class="line"><a name="l03386"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac337c403365cfdc1027a04b9ca3b159b"> 3386</a></span>&#160;<span class="preprocessor"># define SIT(c, syntax) ((S_I_T[syntax_index_table[c]] &gt;&gt; ((syntax)*4)) &amp; 0xf)</span></div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* debug version, caught one signed char bug */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;<span class="preprocessor"># define SIT(c, syntax) \</span></div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;<span class="preprocessor">    ({ \</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;<span class="preprocessor">        if ((c) &lt; 0 || (c) &gt; (PEOF + ENABLE_ASH_ALIAS)) \</span></div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;<span class="preprocessor">            bb_error_msg_and_die(&quot;line:%d c:%d&quot;</span>, __LINE__, (c)); \</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;        if ((syntax) &lt; 0 || (syntax) &gt; (2 + ENABLE_FEATURE_SH_MATH)) \</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;            bb_error_msg_and_die(&quot;line:%d c:%d&quot;, __LINE__, (c)); \</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;        ((S_I_T[syntax_index_table[c]] &gt;&gt; ((syntax)*4)) &amp; 0xf); \</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;    })</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160; </div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">/* !USE_SIT_FUNCTION */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160; </div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160; </div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;<span class="comment">/* ============ Alias handling */</span></div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160; </div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160; </div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;<span class="preprocessor">#define ALIASINUSE 1</span></div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;<span class="preprocessor">#define ALIASDEAD  2</span></div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160; </div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> {</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *<a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>;</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d4/d72/alias_8h.html#ad60ea68bfe90ae7f819a50dcf9efb6ef">name</a>;</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>;</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    <span class="keywordtype">int</span> flag;</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;};</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160; </div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160; </div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> **atab; <span class="comment">// [ATABSIZE];</span></div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;<span class="preprocessor">#define INIT_G_alias() do { \</span></div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;<span class="preprocessor">    atab = xzalloc(ATABSIZE * sizeof(atab[0])); \</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160; </div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160; </div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> **</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;__lookupalias(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d72/alias_8h.html#ad60ea68bfe90ae7f819a50dcf9efb6ef">name</a>)</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;{</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hashval;</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> **app;</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ch;</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160; </div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d72/alias_8h.html#ad60ea68bfe90ae7f819a50dcf9efb6ef">name</a>;</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160; </div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    ch = (<span class="keywordtype">unsigned</span> char)*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    hashval = ch &lt;&lt; 4;</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    <span class="keywordflow">while</span> (ch) {</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;        hashval += ch;</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;        ch = (<span class="keywordtype">unsigned</span> char)*++<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    }</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    app = &amp;atab[hashval % <a class="code" href="../../d1/dbe/ash_8c.html#aadf05a90bb8de0029a34e8a92b0fed58">ATABSIZE</a>];</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160; </div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    <span class="keywordflow">for</span> (; *app; app = &amp;(*app)-&gt;next) {</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d4/d72/alias_8h.html#ad60ea68bfe90ae7f819a50dcf9efb6ef">name</a>, (*app)-&gt;name) == 0) {</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;        }</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    }</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160; </div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;    <span class="keywordflow">return</span> app;</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;}</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160; </div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;lookupalias(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d72/alias_8h.html#ad60ea68bfe90ae7f819a50dcf9efb6ef">name</a>, <span class="keywordtype">int</span> <a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a1d4bc184faa8b248bbbb7655c8a36917">check</a>)</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;{</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = *__lookupalias(<a class="code" href="../../d4/d72/alias_8h.html#ad60ea68bfe90ae7f819a50dcf9efb6ef">name</a>);</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160; </div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a1d4bc184faa8b248bbbb7655c8a36917">check</a> &amp;&amp; <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> &amp;&amp; (<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;flag &amp; ALIASINUSE))</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;}</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160; </div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;freealias(<span class="keyword">struct</span> <a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>)</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;{</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *<a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160; </div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;flag &amp; ALIASINUSE) {</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;        <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;flag |= ALIASDEAD;</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;    }</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160; </div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a> = <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;next;</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;name);</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;val);</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>;</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;}</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160; </div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;setalias(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d72/alias_8h.html#ad60ea68bfe90ae7f819a50dcf9efb6ef">name</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>)</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;{</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>, **app;</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160; </div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    app = __lookupalias(<a class="code" href="../../d4/d72/alias_8h.html#ad60ea68bfe90ae7f819a50dcf9efb6ef">name</a>);</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;    <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = *app;</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>) {</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;flag &amp; ALIASINUSE)) {</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;val);</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;        }</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;        <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;val = <a class="code" href="../../d1/dbe/ash_8c.html#ae636b85e9fda111db77be3efbad1c862">ckstrdup</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>);</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;        <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;flag &amp;= ~ALIASDEAD;</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;        <span class="comment">/* not found */</span></div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;        <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a>));</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;        <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;name = <a class="code" href="../../d1/dbe/ash_8c.html#ae636b85e9fda111db77be3efbad1c862">ckstrdup</a>(<a class="code" href="../../d4/d72/alias_8h.html#ad60ea68bfe90ae7f819a50dcf9efb6ef">name</a>);</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;        <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;val = <a class="code" href="../../d1/dbe/ash_8c.html#ae636b85e9fda111db77be3efbad1c862">ckstrdup</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>);</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;        <span class="comment">/*ap-&gt;flag = 0; - ckzalloc did it */</span></div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;        <span class="comment">/*ap-&gt;next = NULL;*/</span></div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;        *app = <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    }</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;}</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160; </div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;unalias(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d72/alias_8h.html#ad60ea68bfe90ae7f819a50dcf9efb6ef">name</a>)</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;{</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> **app;</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160; </div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    app = __lookupalias(<a class="code" href="../../d4/d72/alias_8h.html#ad60ea68bfe90ae7f819a50dcf9efb6ef">name</a>);</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160; </div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;    <span class="keywordflow">if</span> (*app) {</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;        *app = freealias(*app);</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;    }</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160; </div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;}</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160; </div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;rmaliases(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;{</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>, **app;</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160; </div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d1/dbe/ash_8c.html#aadf05a90bb8de0029a34e8a92b0fed58">ATABSIZE</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;        app = &amp;atab[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>];</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = *app; <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>; <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = *app) {</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;            *app = freealias(*app);</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> == *app) {</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;                app = &amp;<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;next;</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;            }</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;        }</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    }</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;}</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160; </div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;printalias(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>)</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;{</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;%s=%s\n&quot;</span>, <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;name, <a class="code" href="../../d1/dbe/ash_8c.html#a4a5dd8a899567d44c214a92c793e7420">single_quote</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;val));</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;}</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160; </div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;<span class="comment"> * TODO - sort output</span></div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;aliascmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;{</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, *v;</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160; </div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1]) {</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160; </div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d1/dbe/ash_8c.html#aadf05a90bb8de0029a34e8a92b0fed58">ATABSIZE</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = atab[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>]; <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>; <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;next) {</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;                printalias(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;            }</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;        }</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    }</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = *++<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;        v = <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>+1, <span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;        <span class="keywordflow">if</span> (v == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) { <span class="comment">/* n+1: funny ksh stuff */</span></div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;            <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = *__lookupalias(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;                <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;%s: %s not found\n&quot;</span>, <span class="stringliteral">&quot;alias&quot;</span>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;                ret = 1;</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;            } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;                printalias(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;            *v++ = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;            setalias(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, v);</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;        }</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    }</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160; </div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;}</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160; </div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;unaliascmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;{</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160; </div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<span class="stringliteral">&quot;a&quot;</span>) != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;        rmaliases();</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;    }</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; *<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>; <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>++) {</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;        <span class="keywordflow">if</span> (unalias(*<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>)) {</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;            <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;%s: %s not found\n&quot;</span>, <span class="stringliteral">&quot;unalias&quot;</span>, *<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>);</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;            <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 1;</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;        }</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;    }</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160; </div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;}</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160; </div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ASH_ALIAS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160; </div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160; </div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;<span class="comment">/* Mode argument to forkshell.  Don&#39;t change FORK_FG or FORK_BG. */</span></div>
<div class="line"><a name="l03605"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5da14b841f888931a9a10474494f9bcc"> 3605</a></span>&#160;<span class="preprocessor">#define FORK_FG    0</span></div>
<div class="line"><a name="l03606"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a40b15277a0e1a82ae1d0d5acdc6f7889"> 3606</a></span>&#160;<span class="preprocessor">#define FORK_BG    1</span></div>
<div class="line"><a name="l03607"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a84b424383676aac169bef6049c731d87"> 3607</a></span>&#160;<span class="preprocessor">#define FORK_NOJOB 2</span></div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160; </div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;<span class="comment">/* mode flags for showjob(s) */</span></div>
<div class="line"><a name="l03610"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acbf993b126972c599b3108042a7ba976"> 3610</a></span>&#160;<span class="preprocessor">#define SHOW_ONLY_PGID  0x01    </span><span class="comment">/* show only pgid (jobs -p) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03611"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acf9a2f8af4c57dc4c6f7969d05e8b617"> 3611</a></span>&#160;<span class="preprocessor">#define SHOW_PIDS       0x02    </span><span class="comment">/* show individual pids, not just one line per job */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03612"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af9869b278358d63ab443a8f3ec9edd3b"> 3612</a></span>&#160;<span class="preprocessor">#define SHOW_CHANGED    0x04    </span><span class="comment">/* only jobs whose state has changed */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03613"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af8e0c2f98d35e88ca0e26b9a00059218"> 3613</a></span>&#160;<span class="preprocessor">#define SHOW_STDERR     0x08    </span><span class="comment">/* print to stderr (else stdout) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160; </div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;<span class="comment"> * A job structure contains information about a job.  A job is either a</span></div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;<span class="comment"> * single process or a set of processes contained in a pipeline.  In the</span></div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;<span class="comment"> * latter case, pidlist will be non-NULL, and will point to a -1 terminated</span></div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;<span class="comment"> * array of pids.</span></div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> {</div>
<div class="line"><a name="l03622"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a"> 3622</a></span>&#160;    <a class="code" href="../../db/d9e/Linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a>   <a class="code" href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a">ps_pid</a>;         <span class="comment">/* process id */</span></div>
<div class="line"><a name="l03623"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83"> 3623</a></span>&#160;    <span class="keywordtype">int</span>     <a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a>;      <span class="comment">/* last process status from wait() */</span></div>
<div class="line"><a name="l03624"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8489c2df317e5734c87e572a5e9b3e08"> 3624</a></span>&#160;    <span class="keywordtype">char</span>    *<a class="code" href="../../d1/dbe/ash_8c.html#a6ce35594df9dbfbd16fee8fa3392cda3">ps_cmd</a>;        <span class="comment">/* text of command being run */</span></div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;};</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160; </div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> {</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> <a class="code" href="../../d1/dbe/ash_8c.html#a8489c2df317e5734c87e572a5e9b3e08">ps0</a>;    <span class="comment">/* status of process */</span></div>
<div class="line"><a name="l03629"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42"> 3629</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>;    <span class="comment">/* status of processes when more than one */</span></div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;    <span class="keywordtype">int</span> stopstatus;         <span class="comment">/* status of a stopped job */</span></div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03633"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247"> 3633</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a>;        <span class="comment">/* number of processes */</span></div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160; </div>
<div class="line"><a name="l03635"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adf94a5ac31065480ecdfcde97dcf37ae"> 3635</a></span>&#160;<span class="preprocessor">#define JOBRUNNING      0       </span><span class="comment">/* at least one proc running */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03636"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a997614b2b2b1f3b8d60c064b412e4bbb"> 3636</a></span>&#160;<span class="preprocessor">#define JOBSTOPPED      1       </span><span class="comment">/* all procs are stopped */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03637"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adbea944334cc7e0b5f3a416402774451"> 3637</a></span>&#160;<span class="preprocessor">#define JOBDONE         2       </span><span class="comment">/* all procs are completed */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;    <span class="keywordtype">unsigned</span></div>
<div class="line"><a name="l03639"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5f9964e051fb0d61cef9413c7c34907b"> 3639</a></span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5f9964e051fb0d61cef9413c7c34907b">state</a>: 8,</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;        sigint: 1,      <span class="comment">/* job was killed by SIGINT */</span></div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;        jobctl: 1,      <span class="comment">/* job running under job control */</span></div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03644"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3709e1422f4276fd148fa8209326f414"> 3644</a></span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a3709e1422f4276fd148fa8209326f414">waited</a>: 1,      <span class="comment">/* true if this entry has been waited for */</span></div>
<div class="line"><a name="l03645"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a64cc344105b625a76853c3a9ac4a11e3"> 3645</a></span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a64cc344105b625a76853c3a9ac4a11e3">used</a>: 1,        <span class="comment">/* true if this entry is in used */</span></div>
<div class="line"><a name="l03646"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a71a47f80b46358218663cb5b9e8243c3"> 3646</a></span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a71a47f80b46358218663cb5b9e8243c3">changed</a>: 1;     <span class="comment">/* true if status has changed */</span></div>
<div class="line"><a name="l03647"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417"> 3647</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a>;   <span class="comment">/* previous job */</span></div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;};</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160; </div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a915993c65b1d23c848d308738564f57a">makejob</a>(<span class="comment">/*union node *,*/</span> <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a2909724c5cc1419ade6041cbf8d98636">forkshell</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *, <span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7bd2f10f7aab5836959730cee26ded54">waitforjob</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *);</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160; </div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;<span class="preprocessor">#if !JOBS</span></div>
<div class="line"><a name="l03655"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae"> 3655</a></span>&#160;<span class="keyword">enum</span> { <a class="code" href="../../d1/dbe/ash_8c.html#a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae">doing_jobctl</a> = 0 };</div>
<div class="line"><a name="l03656"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a66ba7a9d81c7e47c56780aaffbd29aea"> 3656</a></span>&#160;<span class="preprocessor">#define setjobctl(on) do {} while (0)</span></div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae">doing_jobctl</a>; <span class="comment">//references:8</span></div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a66ba7a9d81c7e47c56780aaffbd29aea">setjobctl</a>(<span class="keywordtype">int</span>);</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160; </div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;<span class="comment"> * Ignore a signal.</span></div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l03666"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6e271f93b68c9908c90607fcb4ef001a"> 3666</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a6e271f93b68c9908c90607fcb4ef001a">ignoresig</a>(<span class="keywordtype">int</span> signo)</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;{</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;    <span class="comment">/* Avoid unnecessary system calls. Is it already SIG_IGNed? */</span></div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a5360861a12cae4ed3f5fe3b6d8cbb191">sigmode</a>[signo - 1] != <a class="code" href="../../d1/dbe/ash_8c.html#a0d728c407f0ee237838e70447747cedc">S_IGN</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a5360861a12cae4ed3f5fe3b6d8cbb191">sigmode</a>[signo - 1] != <a class="code" href="../../d1/dbe/ash_8c.html#afe99620860ed7135d0461a0cf9931207">S_HARD_IGN</a>) {</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;        <span class="comment">/* No, need to do it */</span></div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;        <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#a6fc82cd60ac4b31003cf10983a4d5cde">signal</a>(signo, <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#acf0e499b0ac946b366b4f47a3b3e8b9e">SIG_IGN</a>);</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    }</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5360861a12cae4ed3f5fe3b6d8cbb191">sigmode</a>[signo - 1] = <a class="code" href="../../d1/dbe/ash_8c.html#afe99620860ed7135d0461a0cf9931207">S_HARD_IGN</a>;</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;}</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160; </div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;<span class="comment"> * Only one usage site - in setsignal()</span></div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l03680"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac8e66a8857ca7f368cfc16bdbbac37d9"> 3680</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac8e66a8857ca7f368cfc16bdbbac37d9">signal_handler</a>(<span class="keywordtype">int</span> signo)</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;{</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;    <span class="keywordflow">if</span> (signo == <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a0e63521a64cc8bc2b91d36a87d32c9f8">SIGCHLD</a>) {</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4c23b3477c7701f7da9b088d3aeffef6">got_sigchld</a> = 1;</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a0e63521a64cc8bc2b91d36a87d32c9f8">SIGCHLD</a>])</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    }</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_EDITING</span></div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#adebb97edb6719239f551a4318163a71e">bb_got_signal</a> = signo; <span class="comment">/* for read_line_input: &quot;we got a signal&quot; */</span></div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#acbc8f06298343bcc7b4aa8d98ed973d7">gotsig</a>[signo - 1] = 1;</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">pending_sig</a> = signo;</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160; </div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;    <span class="keywordflow">if</span> (signo == <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a> &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>]) {</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a20e40106fa4a2a4b1c1128b0d025cdf5">suppress_int</a>) {</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">pending_sig</a> = 0;</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a88ec84fb83193af2b6c0d13eb1a9b8d3">raise_interrupt</a>(); <span class="comment">/* does not return */</span></div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;        }</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af8ce82ad63add721a0e29e821b7281be">pending_int</a> = 1;</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;    }</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;}</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160; </div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;<span class="comment"> * Set the signal handler for the specified signal.  The routine figures</span></div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;<span class="comment"> * out what it should be set to.</span></div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l03707"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833"> 3707</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<span class="keywordtype">int</span> signo)</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;{</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    <span class="keywordtype">char</span> cur_act, new_act;</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    <span class="keyword">struct </span>sigaction <a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a>;</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160; </div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;    <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[signo];</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;    new_act = <a class="code" href="../../d1/dbe/ash_8c.html#a82df78fb7744602bfe7801a950f868ee">S_DFL</a>;</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) { <span class="comment">/* trap for this sig is set */</span></div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;        new_act = <a class="code" href="../../d1/dbe/ash_8c.html#a7ad6f8c279b66e901091cad09eb52257">S_CATCH</a>;</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>[0] == <span class="charliteral">&#39;\0&#39;</span>) <span class="comment">/* trap is &quot;&quot;: ignore this sig */</span></div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;            new_act = <a class="code" href="../../d1/dbe/ash_8c.html#a0d728c407f0ee237838e70447747cedc">S_IGN</a>;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;    }</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160; </div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a37b9de733f35f04a3cf9a1f81ab63e2a">rootshell</a> &amp;&amp; new_act == <a class="code" href="../../d1/dbe/ash_8c.html#a82df78fb7744602bfe7801a950f868ee">S_DFL</a>) {</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;        <span class="keywordflow">switch</span> (signo) {</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>:</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a> || <a class="code" href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">minusc</a> || <a class="code" href="../../d1/dbe/ash_8c.html#a6710fbf8aad91222515ef7080999b862">sflag</a> == 0)</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;                new_act = <a class="code" href="../../d1/dbe/ash_8c.html#a7ad6f8c279b66e901091cad09eb52257">S_CATCH</a>;</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a62045b465be11891160d53c10861b16c">SIGQUIT</a>:</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d66/structdebug.html">debug</a>)</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;            <span class="comment">/* man bash:</span></div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;<span class="comment">             * &quot;In all cases, bash ignores SIGQUIT. Non-builtin</span></div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;<span class="comment">             * commands run by bash have signal handlers</span></div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;<span class="comment">             * set to the values inherited by the shell</span></div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;<span class="comment">             * from its parent&quot;. */</span></div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;            new_act = <a class="code" href="../../d1/dbe/ash_8c.html#a0d728c407f0ee237838e70447747cedc">S_IGN</a>;</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a682182a5e5f38fd61f4311501e9dac5d">SIGTERM</a>:</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a>)</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;                new_act = <a class="code" href="../../d1/dbe/ash_8c.html#a0d728c407f0ee237838e70447747cedc">S_IGN</a>;</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#abe65c086e01f0d286b7a785a7e3cdd1a">SIGTSTP</a>:</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a782864287613e2c5c030411fa9c5e9b1">SIGTTOU</a>:</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a39163771f358bdc0ef85126a2014d86d">mflag</a>)</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;                new_act = <a class="code" href="../../d1/dbe/ash_8c.html#a0d728c407f0ee237838e70447747cedc">S_IGN</a>;</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;        }</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    }</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;    <span class="comment">/* if !rootshell, we reset SIGQUIT to DFL,</span></div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;<span class="comment">     * whereas we have to restore it to what shell got on entry.</span></div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;<span class="comment">     * This is handled by the fact that if signal was IGNored on entry,</span></div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;<span class="comment">     * then cur_act is S_HARD_IGN and we never change its sigaction</span></div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;<span class="comment">     * (see code below).</span></div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160; </div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;    <span class="keywordflow">if</span> (signo == <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a0e63521a64cc8bc2b91d36a87d32c9f8">SIGCHLD</a>)</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;        new_act = <a class="code" href="../../d1/dbe/ash_8c.html#a7ad6f8c279b66e901091cad09eb52257">S_CATCH</a>;</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160; </div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;    <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a5360861a12cae4ed3f5fe3b6d8cbb191">sigmode</a>[signo - 1];</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;    cur_act = *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;    <span class="keywordflow">if</span> (cur_act == 0) {</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;        <span class="comment">/* current setting is not yet known */</span></div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;        <span class="keywordflow">if</span> (sigaction(signo, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a>)) {</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;            <span class="comment">/* pretend it worked; maybe we should give a warning,</span></div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;<span class="comment">             * but other shells don&#39;t. We don&#39;t alter sigmode,</span></div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;<span class="comment">             * so we retry every time.</span></div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;<span class="comment">             * btw, in Linux it never fails. --vda */</span></div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;        }</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a>.sa_handler == <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#acf0e499b0ac946b366b4f47a3b3e8b9e">SIG_IGN</a>) {</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;            cur_act = <a class="code" href="../../d1/dbe/ash_8c.html#afe99620860ed7135d0461a0cf9931207">S_HARD_IGN</a>;</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a39163771f358bdc0ef85126a2014d86d">mflag</a></div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;             &amp;&amp; (signo == <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#abe65c086e01f0d286b7a785a7e3cdd1a">SIGTSTP</a> || signo == <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a2c146e34a6b5a78dfba41cded3331181">SIGTTIN</a> || signo == <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a782864287613e2c5c030411fa9c5e9b1">SIGTTOU</a>)</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;            ) {</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;                cur_act = <a class="code" href="../../d1/dbe/ash_8c.html#a0d728c407f0ee237838e70447747cedc">S_IGN</a>;   <span class="comment">/* don&#39;t hard ignore these */</span></div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;            }</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;        }</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a>.sa_handler == <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#a27d5dc561093d6243542e6a2465bc0f8">SIG_DFL</a> &amp;&amp; new_act == <a class="code" href="../../d1/dbe/ash_8c.html#a82df78fb7744602bfe7801a950f868ee">S_DFL</a>) {</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;            <span class="comment">/* installing SIG_DFL over SIG_DFL is a no-op */</span></div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;            <span class="comment">/* saves one sigaction call in each &quot;sh -c SCRIPT&quot; invocation */</span></div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;            *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a82df78fb7744602bfe7801a950f868ee">S_DFL</a>;</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;        }</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    }</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;    <span class="keywordflow">if</span> (cur_act == <a class="code" href="../../d1/dbe/ash_8c.html#afe99620860ed7135d0461a0cf9931207">S_HARD_IGN</a> || cur_act == new_act)</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160; </div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;    *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = new_act;</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160; </div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    <a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a>.sa_handler = <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#a27d5dc561093d6243542e6a2465bc0f8">SIG_DFL</a>;</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    <span class="keywordflow">switch</span> (new_act) {</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7ad6f8c279b66e901091cad09eb52257">S_CATCH</a>:</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;        <a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a>.sa_handler = <a class="code" href="../../d1/dbe/ash_8c.html#ac8e66a8857ca7f368cfc16bdbbac37d9">signal_handler</a>;</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0d728c407f0ee237838e70447747cedc">S_IGN</a>:</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;        <a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a>.sa_handler = <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#acf0e499b0ac946b366b4f47a3b3e8b9e">SIG_IGN</a>;</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;    }</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;    <span class="comment">/* flags and mask matter only if !DFL and !IGN, but we do it</span></div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;<span class="comment">     * for all cases for more deterministic behavior:</span></div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    <a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a>.sa_flags = 0; <span class="comment">//TODO: why not SA_RESTART?</span></div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;    <a class="code" href="../../d1/d5e/sigfillset_8c.html#a88d7bbc77ea1569ee21c90db549ea023">sigfillset</a>(&amp;<a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a>.sa_mask);</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160; </div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a44635e509c1985127803624f4a0b3e64">sigaction_set</a>(signo, &amp;<a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a>);</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;}</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160; </div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;<span class="comment">/* mode flags for set_curjob */</span></div>
<div class="line"><a name="l03812"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a58b97502c0ae7c9eb21e7607578394aa"> 3812</a></span>&#160;<span class="preprocessor">#define CUR_DELETE 2</span></div>
<div class="line"><a name="l03813"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad2c8208cb98ab55e1f233e448bd2e7e7"> 3813</a></span>&#160;<span class="preprocessor">#define CUR_RUNNING 1</span></div>
<div class="line"><a name="l03814"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a14752cb99d797dbc92efea29ddeaad61"> 3814</a></span>&#160;<span class="preprocessor">#define CUR_STOPPED 0</span></div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160; </div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;<span class="comment">/* pgrp of shell on invocation */</span></div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> initialpgrp; <span class="comment">//references:2</span></div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> ttyfd = -1; <span class="comment">//5</span></div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;<span class="comment">/* array of jobs */</span></div>
<div class="line"><a name="l03822"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7724c1a420fb828d410bace56f4a74be"> 3822</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a7724c1a420fb828d410bace56f4a74be">jobtab</a>; <span class="comment">//5</span></div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;<span class="comment">/* size of array */</span></div>
<div class="line"><a name="l03824"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab1a5da6dbea94b0e209581eb17846595"> 3824</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="../../d1/dbe/ash_8c.html#ab1a5da6dbea94b0e209581eb17846595">njobs</a>; <span class="comment">//4</span></div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;<span class="comment">/* current job */</span></div>
<div class="line"><a name="l03826"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25"> 3826</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *<a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>; <span class="comment">//lots</span></div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160; </div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;<span class="comment">/* Bash has a feature: it restores termios after a successful wait for</span></div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;<span class="comment"> * a foreground job which had at least one stopped or sigkilled member.</span></div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;<span class="comment"> * The probable rationale is that SIGSTOP and SIGKILL can preclude task from</span></div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;<span class="comment"> * properly restoring tty state. Should we do this too?</span></div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;<span class="comment"> * A reproducer: ^Z an interactive python:</span></div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;<span class="comment"> * # python</span></div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;<span class="comment"> * Python 2.7.12 (...)</span></div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;<span class="comment"> * &gt;&gt;&gt; ^Z</span></div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;<span class="comment"> *  { python leaves tty in -icanon -echo state. We do survive that... }</span></div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;<span class="comment"> *  [1]+  Stopped                    python</span></div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;<span class="comment"> *  { ...however, next program (python #2) does not survive it well: }</span></div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;<span class="comment"> * # python</span></div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;<span class="comment"> * Python 2.7.12 (...)</span></div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;<span class="comment"> * &gt;&gt;&gt; Traceback (most recent call last):</span></div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;<span class="comment"> *  { above, I typed &quot;qwerty&lt;CR&gt;&quot;, but -echo state is still in effect }</span></div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;<span class="comment"> *   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span></div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;<span class="comment"> * NameError: name &#39;qwerty&#39; is not defined</span></div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;<span class="comment"> * The implementation below is modeled on bash code and seems to work.</span></div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;<span class="comment"> * However, I&#39;m not sure we should do this. For one: what if I&#39;d fg</span></div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;<span class="comment"> * the stopped python instead? It&#39;ll be confused by &quot;restored&quot; tty state.</span></div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../db/d49/arch_2powerpc64_2bits_2termios_8h.html#d6/d47/structtermios">termios</a> <a class="code" href="../../df/d8e/jobs_8c.html#ad9fe5481268cb2aed5102ece6ef18bbb">shell_tty_info</a>;</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a292fac6f88c2fb54b4701a4141db1a7d">get_tty_state</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;{</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a37b9de733f35f04a3cf9a1f81ab63e2a">rootshell</a> &amp;&amp; ttyfd &gt;= 0)</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;        <a class="code" href="../../d2/d4e/include_2termios_8h.html#aa589fa770349629dbf3a029336dd85f5">tcgetattr</a>(ttyfd, &amp;<a class="code" href="../../df/d8e/jobs_8c.html#ad9fe5481268cb2aed5102ece6ef18bbb">shell_tty_info</a>);</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;}</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;<a class="code" href="../../df/d8e/jobs_8c.html#ab9dc901cdc105f8060eafdc6301fe2de">set_tty_state</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;{</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;    <span class="comment">/* if (rootshell) - caller ensures this */</span></div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;    <span class="keywordflow">if</span> (ttyfd &gt;= 0)</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;        <a class="code" href="../../d2/d4e/include_2termios_8h.html#aaa46283af4d7f1b245c66d27c49faf44">tcsetattr</a>(ttyfd, <a class="code" href="../../d3/de9/arch_2generic_2bits_2termios_8h.html#ad147943bddb5fe0a4b5e8cebcdba1596">TCSADRAIN</a>, &amp;<a class="code" href="../../df/d8e/jobs_8c.html#ad9fe5481268cb2aed5102ece6ef18bbb">shell_tty_info</a>);</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;}</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;<a class="code" href="../../df/d8e/jobs_8c.html#a98276db28c5fb03624f84aabe134de90">job_signal_status</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp)</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;{</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *ps = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>;</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = ps[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a>;</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d23/unionwait_8h.html#a6953e62fd0dec274a397678d31c344b4">WIFSIGNALED</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>) || <a class="code" href="../../d7/d23/unionwait_8h.html#ae2b610235f988f4f3109f02a2f395727">WIFSTOPPED</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>))</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;    }</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;}</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a625b98fa8b8344c4300b568da223a328">restore_tty_if_stopped_or_signaled</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp)</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;{</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;<span class="comment">//TODO: check what happens if we come from waitforjob() in expbackq()</span></div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a37b9de733f35f04a3cf9a1f81ab63e2a">rootshell</a>) {</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../df/d8e/jobs_8c.html#a98276db28c5fb03624f84aabe134de90">job_signal_status</a>(jp);</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) <span class="comment">/* WIFSIGNALED(s) || WIFSTOPPED(s) */</span></div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;            <a class="code" href="../../df/d8e/jobs_8c.html#ab9dc901cdc105f8060eafdc6301fe2de">set_tty_state</a>();</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;    }</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;}</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03890"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a292fac6f88c2fb54b4701a4141db1a7d"> 3890</a></span>&#160;<span class="preprocessor"># define get_tty_state() ((void)0)</span></div>
<div class="line"><a name="l03891"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a625b98fa8b8344c4300b568da223a328"> 3891</a></span>&#160;<span class="preprocessor"># define restore_tty_if_stopped_or_signaled(jp) ((void)0)</span></div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160; </div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l03895"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a02201a0b8742c6d2cd984be551251f64"> 3895</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a02201a0b8742c6d2cd984be551251f64">set_curjob</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp, <span class="keywordtype">unsigned</span> mode)</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;{</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp1;</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> **jpp, **curp;</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160; </div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;    <span class="comment">/* first remove from list */</span></div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;    jpp = curp = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>;</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;        jp1 = *jpp;</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;        <span class="keywordflow">if</span> (jp1 == jp)</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;        jpp = &amp;jp1-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a>;</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;    }</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;    *jpp = jp1-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a>;</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160; </div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;    <span class="comment">/* Then re-insert in correct position */</span></div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;    jpp = curp;</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;    <span class="keywordflow">switch</span> (mode) {</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;        <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a>();</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a58b97502c0ae7c9eb21e7607578394aa">CUR_DELETE</a>:</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;        <span class="comment">/* job being deleted */</span></div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad2c8208cb98ab55e1f233e448bd2e7e7">CUR_RUNNING</a>:</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;        <span class="comment">/* newly created job or backgrounded job,</span></div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;<span class="comment">         * put after all stopped jobs.</span></div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;        <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;            jp1 = *jpp;</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;            <span class="keywordflow">if</span> (!jp1 || jp1-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a997614b2b2b1f3b8d60c064b412e4bbb">JOBSTOPPED</a>)</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;            jpp = &amp;jp1-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a>;</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;        }</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;        <span class="comment">/* FALLTHROUGH */</span></div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a14752cb99d797dbc92efea29ddeaad61">CUR_STOPPED</a>:</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;        <span class="comment">/* newly stopped job - becomes curjob */</span></div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;        jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a> = *jpp;</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;        *jpp = jp;</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;    }</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;}</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160; </div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;<span class="preprocessor">#if JOBS || DEBUG</span></div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;jobno(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp)</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;{</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;    <span class="keywordflow">return</span> jp - <a class="code" href="../../d1/dbe/ash_8c.html#a7724c1a420fb828d410bace56f4a74be">jobtab</a> + 1;</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;}</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160; </div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;<span class="comment"> * Convert a job name to a job structure.</span></div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;<span class="preprocessor">#if !JOBS</span></div>
<div class="line"><a name="l03955"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a191f5b89b3168513867a278fe81a0fbd"> 3955</a></span>&#160;<span class="preprocessor">#define getjob(name, getctl) getjob(name)</span></div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *</div>
<div class="line"><a name="l03958"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa586785b6cd7d8196abacf7c88bfdfe5"> 3958</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a191f5b89b3168513867a278fe81a0fbd">getjob</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> getctl)</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;{</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp;</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *<a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a>;</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg = <span class="stringliteral">&quot;%s: no such job&quot;</span>;</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#aaf825a665c491e6d28245b43f85b5402">num</a>;</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;    <span class="keywordtype">char</span> *(*match)(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *);</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160; </div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;    jp = <a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>;</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = name;</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;        <span class="keywordflow">goto</span> currentjob;</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160; </div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != <span class="charliteral">&#39;%&#39;</span>)</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160; </div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *++<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;        <span class="keywordflow">goto</span> currentjob;</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160; </div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1]) {</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;+&#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;%&#39;</span>) {</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160; currentjob:</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;            err_msg = <span class="stringliteral">&quot;No current job&quot;</span>;</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a1d4bc184faa8b248bbbb7655c8a36917">check</a>;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;        }</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;            <span class="keywordflow">if</span> (jp)</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;                jp = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a>;</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;            err_msg = <span class="stringliteral">&quot;No previous job&quot;</span>;</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160; <a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a1d4bc184faa8b248bbbb7655c8a36917">check</a>:</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;            <span class="keywordflow">if</span> (!jp)</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;            <span class="keywordflow">goto</span> gotit;</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;        }</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;    }</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160; </div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a3713e5af4c4d62450b75065a23dea670">is_number</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)) {</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;        <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> = <a class="code" href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> &gt; 0 &amp;&amp; <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> &lt;= <a class="code" href="../../d1/dbe/ash_8c.html#ab1a5da6dbea94b0e209581eb17846595">njobs</a>) {</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;            jp = <a class="code" href="../../d1/dbe/ash_8c.html#a7724c1a420fb828d410bace56f4a74be">jobtab</a> + <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> - 1;</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;            <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a64cc344105b625a76853c3a9ac4a11e3">used</a>)</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;                <span class="keywordflow">goto</span> gotit;</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;        }</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    }</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160; </div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    <a class="code" href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a230902048e5385f7f1cdd8eff9da6cf6">prefix</a>;</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;?&#39;</span>) {</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;        <a class="code" href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a> = <a class="code" href="../../d3/d82/convert_8h.html#a4a710d86541afc6b7dafddcdb4b1c94f">strstr</a>;</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;    }</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160; </div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;    <a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;    <span class="keywordflow">while</span> (jp) {</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d3/d31/setfiles_8c.html#a664f27beea6c9e79a7b11a701f4ae054">match</a>(jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>[0].<a class="code" href="../../d1/dbe/ash_8c.html#a6ce35594df9dbfbd16fee8fa3392cda3">ps_cmd</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)) {</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a>)</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;            <a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a> = jp;</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;            err_msg = <span class="stringliteral">&quot;%s: ambiguous&quot;</span>;</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;        }</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;        jp = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a>;</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;    }</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a>)</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;    jp = <a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a>;</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160; </div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160; gotit:</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;    err_msg = <span class="stringliteral">&quot;job %s not created under job control&quot;</span>;</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;    <span class="keywordflow">if</span> (getctl &amp;&amp; jp-&gt;jobctl == 0)</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    <span class="keywordflow">return</span> jp;</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160; <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>:</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(err_msg, name);</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;}</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160; </div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;<span class="comment"> * Mark a job structure as unused.</span></div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04042"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab91cc6b3c28df1e06d48be61159f355c"> 4042</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ab91cc6b3c28df1e06d48be61159f355c">freejob</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp)</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;{</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *ps;</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160; </div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a>, ps = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>; --<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &gt;= 0; ps++) {</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;        <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a6ce35594df9dbfbd16fee8fa3392cda3">ps_cmd</a> != <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>)</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a6ce35594df9dbfbd16fee8fa3392cda3">ps_cmd</a>);</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;    }</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;    <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a> != &amp;jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8489c2df317e5734c87e572a5e9b3e08">ps0</a>)</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>);</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;    jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a64cc344105b625a76853c3a9ac4a11e3">used</a> = 0;</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a02201a0b8742c6d2cd984be551251f64">set_curjob</a>(jp, <a class="code" href="../../d1/dbe/ash_8c.html#a58b97502c0ae7c9eb21e7607578394aa">CUR_DELETE</a>);</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;}</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160; </div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;xtcsetpgrp(<span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../db/d9e/Linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> pgrp)</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;{</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d8e/jobs_8c.html#a701bcb628c909e9932c9f53c133be6bf">tcsetpgrp</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, pgrp))</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a>(<span class="stringliteral">&quot;can&#39;t set tty process group&quot;</span>);</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;}</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160; </div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;<span class="comment"> * Turn job control on and off.</span></div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;<span class="comment"> * Note:  This code assumes that the third arg to ioctl is a character</span></div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;<span class="comment"> * pointer, which is true on Berkeley systems but not System V.  Since</span></div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;<span class="comment"> * System V doesn&#39;t have job control yet, this isn&#39;t a problem now.</span></div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;<span class="comment"> * Called with interrupts off.</span></div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a66ba7a9d81c7e47c56780aaffbd29aea">setjobctl</a>(<span class="keywordtype">int</span> on)</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;{</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;    <span class="keywordtype">int</span> pgrp;</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160; </div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    <span class="keywordflow">if</span> (on == <a class="code" href="../../d1/dbe/ash_8c.html#a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae">doing_jobctl</a> || <a class="code" href="../../d1/dbe/ash_8c.html#a37b9de733f35f04a3cf9a1f81ab63e2a">rootshell</a> == 0)</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;    <span class="keywordflow">if</span> (on) {</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d6/dd0/gzip_8c.html#af88f48c99c7c7681bfdde40d55c11a08">ofd</a>;</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;        <a class="code" href="../../d6/dd0/gzip_8c.html#af88f48c99c7c7681bfdde40d55c11a08">ofd</a> = <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(<a class="code" href="../../dd/df2/paths_8h.html#a9c4e239f8d90361c0337784e238fa6df">_PATH_TTY</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0) {</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;    <span class="comment">/* BTW, bash will try to open(ttyname(0)) if open(&quot;/dev/tty&quot;) fails.</span></div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;<span class="comment">     * That sometimes helps to acquire controlling tty.</span></div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;<span class="comment">     * Obviously, a workaround for bugs when someone</span></div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;<span class="comment">     * failed to provide a controlling tty to bash! :) */</span></div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;            <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = 2;</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;            <span class="keywordflow">while</span> (!<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ab4155ffea05dab2dafae68fd88a0517f">isatty</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>))</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;                <span class="keywordflow">if</span> (--<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0)</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;        }</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;        <span class="comment">/* fd is a tty at this point */</span></div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;        <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d1/dbe/ash_8c.html#af532232f0b65dc6296aedd2b60de7285">F_DUPFD_CLOEXEC</a>, 10);</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/dd0/gzip_8c.html#af88f48c99c7c7681bfdde40d55c11a08">ofd</a> &gt;= 0) <span class="comment">/* if it is &quot;/dev/tty&quot;, close. If 0/1/2, don&#39;t */</span></div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d6/dd0/gzip_8c.html#af88f48c99c7c7681bfdde40d55c11a08">ofd</a>);</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0)</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>; <span class="comment">/* F_DUPFD failed */</span></div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af532232f0b65dc6296aedd2b60de7285">F_DUPFD_CLOEXEC</a> == <a class="code" href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#ab93a8621587aba90181efd7d3aeea67e">F_DUPFD</a>) <span class="comment">/* if old libc (w/o F_DUPFD_CLOEXEC) */</span></div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a10d406bcbbd961accf0b4a5be8500cc2">close_on_exec_on</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;        <span class="keywordflow">while</span> (1) { <span class="comment">/* while we are in the background */</span></div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;            pgrp = <a class="code" href="../../df/d8e/jobs_8c.html#a30c3edb2b02399d64b5e8eaaf7fe40e6">tcgetpgrp</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;            <span class="keywordflow">if</span> (pgrp &lt; 0) {</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a3d04906647d0af85e349744f980ac037">ash_msg</a>(<span class="stringliteral">&quot;can&#39;t access tty; job control turned off&quot;</span>);</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a39163771f358bdc0ef85126a2014d86d">mflag</a> = on = 0;</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>;</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;            }</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;            <span class="keywordflow">if</span> (pgrp == <a class="code" href="../../d3/d3a/jobs_8h.html#a744446ac24606c182bbd911772a04ca0">getpgrp</a>())</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;            <a class="code" href="../../d8/d8d/nojobs_8c.html#ac8c6f4edd72509256c94b90c17c95092">killpg</a>(0, <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a2c146e34a6b5a78dfba41cded3331181">SIGTTIN</a>);</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;        }</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;        initialpgrp = pgrp;</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160; </div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#abe65c086e01f0d286b7a785a7e3cdd1a">SIGTSTP</a>);</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a782864287613e2c5c030411fa9c5e9b1">SIGTTOU</a>);</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a2c146e34a6b5a78dfba41cded3331181">SIGTTIN</a>);</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;        pgrp = <a class="code" href="../../d1/dbe/ash_8c.html#ac3e2ce87919bfafa74665637d5e32f8a">rootpid</a>;</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;        <a class="code" href="../../d1/dea/apps_2base_2bash_2examples_2loadables_2setpgid_8c.html#af35bd0de8c2181231698de03bbdd58ca">setpgid</a>(0, pgrp);</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;        xtcsetpgrp(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, pgrp);</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;        <span class="comment">/* turning job control off */</span></div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;        <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = ttyfd;</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;        pgrp = initialpgrp;</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;        <span class="comment">/* was xtcsetpgrp, but this can make exiting ash</span></div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;<span class="comment">         * loop forever if pty is already deleted */</span></div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;        <a class="code" href="../../df/d8e/jobs_8c.html#a701bcb628c909e9932c9f53c133be6bf">tcsetpgrp</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, pgrp);</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;        <a class="code" href="../../d1/dea/apps_2base_2bash_2examples_2loadables_2setpgid_8c.html#af35bd0de8c2181231698de03bbdd58ca">setpgid</a>(0, pgrp);</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#abe65c086e01f0d286b7a785a7e3cdd1a">SIGTSTP</a>);</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a782864287613e2c5c030411fa9c5e9b1">SIGTTOU</a>);</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a2c146e34a6b5a78dfba41cded3331181">SIGTTIN</a>);</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160; <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>:</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> &gt;= 0)</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;        <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = -1;</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    }</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;    ttyfd = <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae">doing_jobctl</a> = on;</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;}</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160; </div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;killcmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;{</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1] &amp;&amp; <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1], <span class="stringliteral">&quot;-l&quot;</span>) != 0) {</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 1;</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>][0] == <span class="charliteral">&#39;%&#39;</span>) {</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;                <span class="comment">/*</span></div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;<span class="comment">                 * &quot;kill %N&quot; - job kill</span></div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;<span class="comment">                 * Converting to pgrp / pid kill</span></div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;                <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp;</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;                <span class="keywordtype">char</span> *<a class="code" href="../../df/d84/arping_8c.html#a21e72f66ad6f15c4dcb2c8afbb57d7dd">dst</a>;</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160; </div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;                jp = <a class="code" href="../../d1/dbe/ash_8c.html#a191f5b89b3168513867a278fe81a0fbd">getjob</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>], 0);</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;                <span class="comment">/*</span></div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;<span class="comment">                 * In jobs started under job control, we signal</span></div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;<span class="comment">                 * entire process group by kill -PGRP_ID.</span></div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;<span class="comment">                 * This happens, f.e., in interactive shell.</span></div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;<span class="comment">                 *</span></div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;<span class="comment">                 * Otherwise, we signal each child via</span></div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;<span class="comment">                 * kill PID1 PID2 PID3.</span></div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;<span class="comment">                 * Testcases:</span></div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;<span class="comment">                 * sh -c &#39;sleep 1|sleep 1 &amp; kill %1&#39;</span></div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;<span class="comment">                 * sh -c &#39;true|sleep 2 &amp; sleep 1; kill %1&#39;</span></div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;<span class="comment">                 * sh -c &#39;true|sleep 1 &amp; sleep 2; kill %1&#39;</span></div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;                <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a>; <span class="comment">/* can&#39;t be 0 (I hope) */</span></div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;                <span class="keywordflow">if</span> (jp-&gt;jobctl)</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;                    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = 1;</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;                <a class="code" href="../../df/d84/arping_8c.html#a21e72f66ad6f15c4dcb2c8afbb57d7dd">dst</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a03a200320a749aaf2faa1d1719ffb4de">alloca</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*4);</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;                <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] = <a class="code" href="../../df/d84/arping_8c.html#a21e72f66ad6f15c4dcb2c8afbb57d7dd">dst</a>;</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = 0; <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> &lt; <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>; <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>++) {</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;                    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *ps = &amp;jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>[<a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>];</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;                    <span class="comment">/* Skip non-running and not-stopped members</span></div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;<span class="comment">                     * (i.e. dead members) of the job</span></div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;<span class="comment">                     */</span></div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;                    <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a> != -1 &amp;&amp; !<a class="code" href="../../d7/d23/unionwait_8h.html#ae2b610235f988f4f3109f02a2f395727">WIFSTOPPED</a>(ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a>))</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;                    <span class="comment">/*</span></div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;<span class="comment">                     * kill_main has matching code to expect</span></div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;<span class="comment">                     * leading space. Needed to not confuse</span></div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;<span class="comment">                     * negative pids with &quot;kill -SIGNAL_NO&quot; syntax</span></div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;<span class="comment">                     */</span></div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;                    <a class="code" href="../../df/d84/arping_8c.html#a21e72f66ad6f15c4dcb2c8afbb57d7dd">dst</a> += <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../df/d84/arping_8c.html#a21e72f66ad6f15c4dcb2c8afbb57d7dd">dst</a>, jp-&gt;jobctl ? <span class="stringliteral">&quot; -%u&quot;</span> : <span class="stringliteral">&quot; %u&quot;</span>, (<span class="keywordtype">int</span>)ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a">ps_pid</a>);</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;                }</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;                *<a class="code" href="../../df/d84/arping_8c.html#a21e72f66ad6f15c4dcb2c8afbb57d7dd">dst</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;            }</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;        } <span class="keywordflow">while</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[++<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>]);</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;    }</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/libbb_8h.html#ac0fb1532543612fda21fd93e91e58b65">kill_main</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;}</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160; </div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;showpipe(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp <span class="comment">/*, FILE *out*/</span>)</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;{</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *ps;</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *psend;</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160; </div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;    psend = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a> + jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a>;</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;    <span class="keywordflow">for</span> (ps = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a> + 1; ps &lt; psend; ps++)</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;        <a class="code" href="../../dc/d74/Kernel_2Core_2Memory_2HeapAllocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot; | %s&quot;</span>, ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a6ce35594df9dbfbd16fee8fa3392cda3">ps_cmd</a>);</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a14c0b1d6e8225850405db69fa1baec6f">newline_and_flush</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8b4918e978236b595cd0683297407875">flush_stdout_stderr</a>();</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;}</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160; </div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160; </div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;restartjob(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp, <span class="keywordtype">int</span> mode)</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;{</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *ps;</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;    <a class="code" href="../../db/d9e/Linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> pgid;</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160; </div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;    <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> == <a class="code" href="../../d1/dbe/ash_8c.html#adbea944334cc7e0b5f3a416402774451">JOBDONE</a>)</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;    jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> = <a class="code" href="../../d1/dbe/ash_8c.html#adf94a5ac31065480ecdfcde97dcf37ae">JOBRUNNING</a>;</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;    pgid = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>[0].<a class="code" href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a">ps_pid</a>;</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;    <span class="keywordflow">if</span> (mode == <a class="code" href="../../d1/dbe/ash_8c.html#a5da14b841f888931a9a10474494f9bcc">FORK_FG</a>) {</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a292fac6f88c2fb54b4701a4141db1a7d">get_tty_state</a>();</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;        xtcsetpgrp(ttyfd, pgid);</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;    }</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;    <a class="code" href="../../d8/d8d/nojobs_8c.html#ac8c6f4edd72509256c94b90c17c95092">killpg</a>(pgid, <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a024f43063003e753afc6cca1acd6e104">SIGCONT</a>);</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;    ps = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>;</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;    <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a>;</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d23/unionwait_8h.html#ae2b610235f988f4f3109f02a2f395727">WIFSTOPPED</a>(ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a>)) {</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;            ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a> = -1;</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;        }</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;        ps++;</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;    } <span class="keywordflow">while</span> (--<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;    <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = (mode == <a class="code" href="../../d1/dbe/ash_8c.html#a5da14b841f888931a9a10474494f9bcc">FORK_FG</a>) ? <a class="code" href="../../d1/dbe/ash_8c.html#a7bd2f10f7aab5836959730cee26ded54">waitforjob</a>(jp) : 0;</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;}</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160; </div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;fg_bgcmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;{</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp;</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;    <span class="keywordtype">int</span> mode;</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>;</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160; </div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;    mode = (**<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> == <span class="charliteral">&#39;f&#39;</span>) ? <a class="code" href="../../d1/dbe/ash_8c.html#a5da14b841f888931a9a10474494f9bcc">FORK_FG</a> : <a class="code" href="../../d1/dbe/ash_8c.html#a40b15277a0e1a82ae1d0d5acdc6f7889">FORK_BG</a>;</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>);</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;        jp = <a class="code" href="../../d1/dbe/ash_8c.html#a191f5b89b3168513867a278fe81a0fbd">getjob</a>(*<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, 1);</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;        <span class="keywordflow">if</span> (mode == <a class="code" href="../../d1/dbe/ash_8c.html#a40b15277a0e1a82ae1d0d5acdc6f7889">FORK_BG</a>) {</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a02201a0b8742c6d2cd984be551251f64">set_curjob</a>(jp, <a class="code" href="../../d1/dbe/ash_8c.html#ad2c8208cb98ab55e1f233e448bd2e7e7">CUR_RUNNING</a>);</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;            <a class="code" href="../../dc/d74/Kernel_2Core_2Memory_2HeapAllocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a>(<span class="stringliteral">&quot;[%d] &quot;</span>, jobno(jp));</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;        }</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">out1str</a>(jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>[0].<a class="code" href="../../d1/dbe/ash_8c.html#a6ce35594df9dbfbd16fee8fa3392cda3">ps_cmd</a>);</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;        showpipe(jp <span class="comment">/*, stdout*/</span>);</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = restartjob(jp, mode);</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;    } <span class="keywordflow">while</span> (*<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> &amp;&amp; *++<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>;</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;}</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160; </div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l04270"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7859a2322ee0ef8d0189fffbc39c28c7"> 4270</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a7859a2322ee0ef8d0189fffbc39c28c7">sprint_status48</a>(<span class="keywordtype">char</span> *os, <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>, <span class="keywordtype">int</span> sigonly)</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;{</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = os;</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a>;</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160; </div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d23/unionwait_8h.html#af9a4ddf9eee6c4a3bc9be070d59b7ccf">WIFEXITED</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>)) {</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d23/unionwait_8h.html#ae2b610235f988f4f3109f02a2f395727">WIFSTOPPED</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>))</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;            <a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a> = <a class="code" href="../../d7/d23/unionwait_8h.html#a2c6d84ce222454bb6387fc20d930f5b7">WSTOPSIG</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>);</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;            <a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a> = <a class="code" href="../../d7/d23/unionwait_8h.html#aeba4d421572a9d681c73c347f24ad348">WTERMSIG</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>);</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;        <span class="keywordflow">if</span> (sigonly) {</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a> == <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a> || <a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a> == <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a57e9c8c5fa13bf86bc779a9f6f408b7c">SIGPIPE</a>)</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d23/unionwait_8h.html#ae2b610235f988f4f3109f02a2f395727">WIFSTOPPED</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>))</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;        }</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;        <a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a> &amp;= 0x7f;</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../dc/d3f/platform_8c.html#af1b4f0dac9021fe09231221cf0c6d9e3">stpncpy</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="code" href="../../dc/d7a/strsignal_8c.html#ad647aebab60b282ad59755747a1a9d78">strsignal</a>(<a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a>), 32);</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d0e/musl_2include_2sys_2wait_8h.html#a73ebb4027187aeb15c97a00f51591591">WCOREDUMP</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>)) {</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#ad5eff09b2cfcc7c8e5c3662ac9ee4564">stpcpy</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <span class="stringliteral">&quot; (core dumped)&quot;</span>);</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;        }</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!sigonly) {</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;        <a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a> = <a class="code" href="../../d7/d23/unionwait_8h.html#ae0c8840076dd63d5e2367fff4f7f46f3">WEXITSTATUS</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>);</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> += <a class="code" href="../../d1/dbe/ash_8c.html#adf33ec1779df3d9898d1b2bf98c0ae23">fmtstr</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, 16, (<a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a> ? <span class="stringliteral">&quot;Done(%d)&quot;</span> : <span class="stringliteral">&quot;Done&quot;</span>), <a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a>);</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;    }</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> - os;</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;}</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160; </div>
<div class="line"><a name="l04303"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab32ce6c513b0f9a93146cbd4b173a0bf"> 4303</a></span>&#160;<span class="preprocessor">#define DOWAIT_NONBLOCK 0</span></div>
<div class="line"><a name="l04304"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0948f1c922587c2fed833ef063949236"> 4304</a></span>&#160;<span class="preprocessor">#define DOWAIT_BLOCK    1</span></div>
<div class="line"><a name="l04305"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a38d3441295de31b965e935ec40d68eba"> 4305</a></span>&#160;<span class="preprocessor">#define DOWAIT_BLOCK_OR_SIG 2</span></div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;<span class="preprocessor">#if BASH_WAIT_N</span></div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;<span class="preprocessor"># define DOWAIT_JOBSTATUS 0x10   </span><span class="comment">/* OR this to get job&#39;s exitstatus instead of pid */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160; </div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l04311"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7d5abdaafdcaa5d5e2dd866e0b4d033f"> 4311</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a7d5abdaafdcaa5d5e2dd866e0b4d033f">waitproc</a>(<span class="keywordtype">int</span> block, <span class="keywordtype">int</span> *<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>)</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;{</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;    <a class="code" href="../../d8/d90/sigset__t_8h.html#a9140a5882f847f67b8155c759ac6aa05">sigset_t</a> oldmask;</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> = block == <a class="code" href="../../d1/dbe/ash_8c.html#a0948f1c922587c2fed833ef063949236">DOWAIT_BLOCK</a> ? 0 : <a class="code" href="../../d9/dab/posixwait_8h.html#afa288d86b242c3005425a9c0f1682544">WNOHANG</a>;</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160; </div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae">doing_jobctl</a>)</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;        <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> |= <a class="code" href="../../d9/dab/posixwait_8h.html#aecac6945e3b08baa2602557c684d6bfe">WUNTRACED</a>;</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160; </div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4c23b3477c7701f7da9b088d3aeffef6">got_sigchld</a> = 0;</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;        <span class="keywordflow">do</span></div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;            <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> = <a class="code" href="../../d1/d7b/libc_2include_2sys_2wait_8h.html#a3b0bf87bfa87bef2f83452175a34bf2d">waitpid</a>(-1, <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> &lt; 0 &amp;&amp; <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a46b83d9f6c23b1b65a8cecfd775ddaed">EINTR</a>);</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160; </div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> || (<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> = -!block))</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160; </div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;        <a class="code" href="../../d1/d5e/sigfillset_8c.html#a88d7bbc77ea1569ee21c90db549ea023">sigfillset</a>(&amp;oldmask);</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#ac499c09b9f5c0b5566f96f26c4c079f9">sigprocmask2</a>(<a class="code" href="../../de/d62/sig_8h.html#a37750b78b7ae75fe02ad26e70f6cc845">SIG_SETMASK</a>, &amp;oldmask); <span class="comment">/* mask is updated */</span></div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;        <span class="keywordflow">while</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a4c23b3477c7701f7da9b088d3aeffef6">got_sigchld</a> &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">pending_sig</a>)</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;            <a class="code" href="../../dd/df2/sigsuspend_8c.html#ae5f92586ad50092a7813465eeef792c0">sigsuspend</a>(&amp;oldmask);</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;        <a class="code" href="../../da/d12/sig_8c.html#a011fc3b4395063b580099bf602135a22">sigprocmask</a>(<a class="code" href="../../de/d62/sig_8h.html#a37750b78b7ae75fe02ad26e70f6cc845">SIG_SETMASK</a>, &amp;oldmask, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;        <span class="comment">//simpler, but unsafe: a signal can set pending_sig after check, but before pause():</span></div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;        <span class="comment">//while (!got_sigchld &amp;&amp; !pending_sig)</span></div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;        <span class="comment">//  pause();</span></div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160; </div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4c23b3477c7701f7da9b088d3aeffef6">got_sigchld</a>);</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160; </div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;}</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160; </div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l04346"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a579cebaaeb96206b0fc5231f2fbf55f9"> 4346</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a579cebaaeb96206b0fc5231f2fbf55f9">waitone</a>(<span class="keywordtype">int</span> block, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *<a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>)</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;{</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp;</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *thisjob = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;<span class="preprocessor">#if BASH_WAIT_N</span></div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;    <span class="keywordtype">bool</span> want_jobexitstatus = (block &amp; DOWAIT_JOBSTATUS);</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;    block = (block &amp; ~DOWAIT_JOBSTATUS);</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160; </div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;dowait(0x%x) called\n&quot;</span>, block));</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160; </div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;    <span class="comment">/* It&#39;s wrong to call waitpid() outside of INT_OFF region:</span></div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;<span class="comment">     * signal can arrive just after syscall return and handler can</span></div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;<span class="comment">     * longjmp away, losing stop/exit notification processing.</span></div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;<span class="comment">     * Thus, for &quot;jobs&quot; builtin, and for waiting for a fg job,</span></div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;<span class="comment">     * we call waitpid() (blocking or non-blocking) inside INT_OFF.</span></div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;<span class="comment">     * However, for &quot;wait&quot; builtin it is wrong to simply call waitpid()</span></div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;<span class="comment">     * in INT_OFF region: &quot;wait&quot; needs to wait for any running job</span></div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;<span class="comment">     * to change state, but should exit on any trap too.</span></div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;<span class="comment">     * In INT_OFF region, a signal just before syscall entry can set</span></div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;<span class="comment">     * pending_sig variables, but we can&#39;t check them, and we would</span></div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;<span class="comment">     * either enter a sleeping waitpid() (BUG), or need to busy-loop.</span></div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;<span class="comment">     * Because of this, we run inside INT_OFF, but use a special routine</span></div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;<span class="comment">     * which combines waitpid() and sigsuspend().</span></div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;<span class="comment">     * This is the reason why we need to have a handler for SIGCHLD:</span></div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;<span class="comment">     * SIG_DFL handler does not wake sigsuspend().</span></div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;    <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7d5abdaafdcaa5d5e2dd866e0b4d033f">waitproc</a>(block, &amp;<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>);</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;wait returns pid %d, status=%d\n&quot;</span>, <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>));</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> &lt;= 0)</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160; </div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;    <span class="keywordflow">for</span> (jp = <a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>; jp; jp = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a>) {</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;        <span class="keywordtype">int</span> jobstate;</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *ps;</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *psend;</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;        <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> == <a class="code" href="../../d1/dbe/ash_8c.html#adbea944334cc7e0b5f3a416402774451">JOBDONE</a>)</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;        jobstate = <a class="code" href="../../d1/dbe/ash_8c.html#adbea944334cc7e0b5f3a416402774451">JOBDONE</a>;</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;        ps = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>;</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;        psend = ps + jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a>;</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;            <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a">ps_pid</a> == <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>) {</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;Job %d: changing status of proc %d &quot;</span></div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;                    <span class="stringliteral">&quot;from 0x%x to 0x%x\n&quot;</span>,</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;                    jobno(jp), <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a>, <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>));</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;                ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a> = <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;                thisjob = jp;</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;            }</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;            <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a> == -1)</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;                jobstate = <a class="code" href="../../d1/dbe/ash_8c.html#adf94a5ac31065480ecdfcde97dcf37ae">JOBRUNNING</a>;</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;            <span class="keywordflow">if</span> (jobstate == <a class="code" href="../../d1/dbe/ash_8c.html#adf94a5ac31065480ecdfcde97dcf37ae">JOBRUNNING</a>)</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d23/unionwait_8h.html#ae2b610235f988f4f3109f02a2f395727">WIFSTOPPED</a>(ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a>)) {</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;                jp-&gt;stopstatus = ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a>;</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;                jobstate = <a class="code" href="../../d1/dbe/ash_8c.html#a997614b2b2b1f3b8d60c064b412e4bbb">JOBSTOPPED</a>;</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;            }</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;        } <span class="keywordflow">while</span> (++ps &lt; psend);</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;        <span class="keywordflow">if</span> (!thisjob)</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160; </div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;        <span class="comment">/* Found the job where one of its processes changed its state.</span></div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;<span class="comment">         * Is there at least one live and running process in this job? */</span></div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;        <span class="keywordflow">if</span> (jobstate != <a class="code" href="../../d1/dbe/ash_8c.html#adf94a5ac31065480ecdfcde97dcf37ae">JOBRUNNING</a>) {</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;            <span class="comment">/* No. All live processes in the job are stopped</span></div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;<span class="comment">             * (JOBSTOPPED) or there are no live processes (JOBDONE)</span></div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;            thisjob-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a71a47f80b46358218663cb5b9e8243c3">changed</a> = 1;</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;            <span class="keywordflow">if</span> (thisjob-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> != jobstate) {</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;Job %d: changing state from %d to %d\n&quot;</span>,</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;                    jobno(thisjob), thisjob-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a>, jobstate));</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;                thisjob-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> = jobstate;</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;                <span class="keywordflow">if</span> (jobstate == <a class="code" href="../../d1/dbe/ash_8c.html#a997614b2b2b1f3b8d60c064b412e4bbb">JOBSTOPPED</a>)</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a02201a0b8742c6d2cd984be551251f64">set_curjob</a>(thisjob, <a class="code" href="../../d1/dbe/ash_8c.html#a14752cb99d797dbc92efea29ddeaad61">CUR_STOPPED</a>);</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;            }</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;        }</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    }</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;    <span class="comment">/* The process wasn&#39;t found in job list */</span></div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160; </div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;<span class="preprocessor">#if BASH_WAIT_N</span></div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;    <span class="keywordflow">if</span> (want_jobexitstatus) {</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;        <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> = -1;</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;        <span class="keywordflow">if</span> (thisjob &amp;&amp; thisjob-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> == <a class="code" href="../../d1/dbe/ash_8c.html#adbea944334cc7e0b5f3a416402774451">JOBDONE</a>)</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;            <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> = thisjob-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>[thisjob-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a> - 1].<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a>;</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;    }</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;    <span class="keywordflow">if</span> (thisjob &amp;&amp; thisjob == <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>) {</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[48 + 1];</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160; </div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7859a2322ee0ef8d0189fffbc39c28c7">sprint_status48</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>, 1);</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>) {</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>] = <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ad41387932da6f74836f39a196a96519c">out2str</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;        }</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;    }</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;}</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160; </div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l04459"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aacf83e9c84e4dbeaaae698fbb98c5b1a"> 4459</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aacf83e9c84e4dbeaaae698fbb98c5b1a">dowait</a>(<span class="keywordtype">int</span> block, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp)</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;{</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> gotchld = *(<span class="keyword">volatile</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> *)&amp;<a class="code" href="../../d1/dbe/ash_8c.html#a4c23b3477c7701f7da9b088d3aeffef6">got_sigchld</a>;</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;    <span class="keywordtype">int</span> rpid;</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160; </div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;    <span class="keywordflow">if</span> (jp &amp;&amp; jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> != <a class="code" href="../../d1/dbe/ash_8c.html#adf94a5ac31065480ecdfcde97dcf37ae">JOBRUNNING</a>)</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;        block = <a class="code" href="../../d1/dbe/ash_8c.html#ab32ce6c513b0f9a93146cbd4b173a0bf">DOWAIT_NONBLOCK</a>;</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160; </div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;    <span class="keywordflow">if</span> (block == <a class="code" href="../../d1/dbe/ash_8c.html#ab32ce6c513b0f9a93146cbd4b173a0bf">DOWAIT_NONBLOCK</a> &amp;&amp; !gotchld)</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160; </div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;    rpid = 1;</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160; </div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;        <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a579cebaaeb96206b0fc5231f2fbf55f9">waitone</a>(block, jp);</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;        rpid &amp;= !!<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160; </div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> || (jp &amp;&amp; jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> != <a class="code" href="../../d1/dbe/ash_8c.html#adf94a5ac31065480ecdfcde97dcf37ae">JOBRUNNING</a>))</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;            block = <a class="code" href="../../d1/dbe/ash_8c.html#ab32ce6c513b0f9a93146cbd4b173a0bf">DOWAIT_NONBLOCK</a>;</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> &gt;= 0);</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160; </div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;    <span class="keywordflow">return</span> rpid;</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;}</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160; </div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;showjob(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp, <span class="keywordtype">int</span> mode)</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;{</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *ps;</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *psend;</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;    <span class="keywordtype">int</span> col;</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;    <span class="keywordtype">int</span> indent_col;</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[16 + 16 + 48];</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;    <a class="code" href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a> *<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a> = (mode &amp; <a class="code" href="../../d1/dbe/ash_8c.html#af8e0c2f98d35e88ca0e26b9a00059218">SHOW_STDERR</a> ? <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a> : <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160; </div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;    ps = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>;</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160; </div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;    <span class="keywordflow">if</span> (mode &amp; <a class="code" href="../../d1/dbe/ash_8c.html#acbf993b126972c599b3108042a7ba976">SHOW_ONLY_PGID</a>) { <span class="comment">/* jobs -p */</span></div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;        <span class="comment">/* just output process (group) id of pipeline */</span></div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;        <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>, <span class="stringliteral">&quot;%d\n&quot;</span>, ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a">ps_pid</a>);</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;    }</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160; </div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;    col = <a class="code" href="../../d1/dbe/ash_8c.html#adf33ec1779df3d9898d1b2bf98c0ae23">fmtstr</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, 16, <span class="stringliteral">&quot;[%d]   &quot;</span>, jobno(jp));</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;    indent_col = col;</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160; </div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;    <span class="keywordflow">if</span> (jp == <a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>)</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[col - 3] = <span class="charliteral">&#39;+&#39;</span>;</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a> &amp;&amp; jp == <a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a>)</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[col - 3] = <span class="charliteral">&#39;-&#39;</span>;</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160; </div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;    <span class="keywordflow">if</span> (mode &amp; <a class="code" href="../../d1/dbe/ash_8c.html#acf9a2f8af4c57dc4c6f7969d05e8b617">SHOW_PIDS</a>)</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;        col += <a class="code" href="../../d1/dbe/ash_8c.html#adf33ec1779df3d9898d1b2bf98c0ae23">fmtstr</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> + col, 16, <span class="stringliteral">&quot;%d &quot;</span>, ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a">ps_pid</a>);</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160; </div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;    psend = ps + jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a>;</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160; </div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;    <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> == <a class="code" href="../../d1/dbe/ash_8c.html#adf94a5ac31065480ecdfcde97dcf37ae">JOBRUNNING</a>) {</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;        <a class="code" href="../../d3/d82/convert_8h.html#a06688b0d2444199f657ccb56b0ce11b3">strcpy</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> + col, <span class="stringliteral">&quot;Running&quot;</span>);</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;        col += <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;Running&quot;</span>) - 1;</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = psend[-1].<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a>;</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;        <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a997614b2b2b1f3b8d60c064b412e4bbb">JOBSTOPPED</a>)</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;            <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = jp-&gt;stopstatus;</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;        col += <a class="code" href="../../d1/dbe/ash_8c.html#a7859a2322ee0ef8d0189fffbc39c28c7">sprint_status48</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> + col, <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>, 0);</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;    }</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;    <span class="comment">/* By now, &quot;[JOBID]*  [maybe PID] STATUS&quot; is printed */</span></div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160; </div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;    <span class="comment">/* This loop either prints &quot;&lt;cmd1&gt; | &lt;cmd2&gt; | &lt;cmd3&gt;&quot; line</span></div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;<span class="comment">     * or prints several &quot;PID             | &lt;cmdN&gt;&quot; lines,</span></div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;<span class="comment">     * depending on SHOW_PIDS bit.</span></div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;<span class="comment">     * We do not print status of individual processes</span></div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;<span class="comment">     * between PID and &lt;cmdN&gt;. bash does it, but not very well:</span></div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;<span class="comment">     * first line shows overall job status, not process status,</span></div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;<span class="comment">     * making it impossible to know 1st process status.</span></div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;        <span class="comment">/* for each process */</span></div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;        col = 33;</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;        <span class="keywordflow">if</span> (mode &amp; <a class="code" href="../../d1/dbe/ash_8c.html#acf9a2f8af4c57dc4c6f7969d05e8b617">SHOW_PIDS</a>)</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;            col = <a class="code" href="../../d1/dbe/ash_8c.html#adf33ec1779df3d9898d1b2bf98c0ae23">fmtstr</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, 48, <span class="stringliteral">&quot;\n%*c%d &quot;</span>, indent_col, <span class="charliteral">&#39; &#39;</span>, ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a">ps_pid</a>) - 1;</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160; <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>:</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;        <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>, <span class="stringliteral">&quot;%s%*c%s%s&quot;</span>,</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;                <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>,</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;                33 - col &gt;= 0 ? 33 - col : 0, <span class="charliteral">&#39; &#39;</span>,</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;                ps == jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;| &quot;</span>,</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;                ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a6ce35594df9dbfbd16fee8fa3392cda3">ps_cmd</a></div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;        );</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;    } <span class="keywordflow">while</span> (++ps != psend);</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a14c0b1d6e8225850405db69fa1baec6f">newline_and_flush</a>(<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160; </div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;    jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a71a47f80b46358218663cb5b9e8243c3">changed</a> = 0;</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160; </div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;    <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> == <a class="code" href="../../d1/dbe/ash_8c.html#adbea944334cc7e0b5f3a416402774451">JOBDONE</a>) {</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;showjob: freeing job %d\n&quot;</span>, jobno(jp)));</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab91cc6b3c28df1e06d48be61159f355c">freejob</a>(jp);</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;    }</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;}</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160; </div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;<span class="comment"> * Print a list of jobs.  If &quot;change&quot; is nonzero, only print jobs whose</span></div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;<span class="comment"> * statuses have changed since the last call to showjobs.</span></div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;showjobs(<span class="keywordtype">int</span> mode)</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;{</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp;</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160; </div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;showjobs(0x%x) called\n&quot;</span>, mode));</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160; </div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;    <span class="comment">/* Handle all finished jobs */</span></div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aacf83e9c84e4dbeaaae698fbb98c5b1a">dowait</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ab32ce6c513b0f9a93146cbd4b173a0bf">DOWAIT_NONBLOCK</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160; </div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;    <span class="keywordflow">for</span> (jp = <a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>; jp; jp = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a>) {</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;        <span class="keywordflow">if</span> (!(mode &amp; <a class="code" href="../../d1/dbe/ash_8c.html#af9869b278358d63ab443a8f3ec9edd3b">SHOW_CHANGED</a>) || jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a71a47f80b46358218663cb5b9e8243c3">changed</a>) {</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;            showjob(jp, mode);</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;        }</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;    }</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;}</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160; </div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;jobscmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;{</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;    <span class="keywordtype">int</span> mode, m;</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160; </div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;    mode = 0;</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;    <span class="keywordflow">while</span> ((m = <a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<span class="stringliteral">&quot;lp&quot;</span>)) != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;        <span class="keywordflow">if</span> (m == <span class="charliteral">&#39;l&#39;</span>)</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;            mode |= <a class="code" href="../../d1/dbe/ash_8c.html#acf9a2f8af4c57dc4c6f7969d05e8b617">SHOW_PIDS</a>;</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;            mode |= <a class="code" href="../../d1/dbe/ash_8c.html#acbf993b126972c599b3108042a7ba976">SHOW_ONLY_PGID</a>;</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;    }</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160; </div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>) {</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;        <span class="keywordflow">do</span></div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;            showjob(<a class="code" href="../../d1/dbe/ash_8c.html#a191f5b89b3168513867a278fe81a0fbd">getjob</a>(*<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, 0), mode);</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;        <span class="keywordflow">while</span> (*++<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;        showjobs(mode);</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;    }</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160; </div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;}</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JOBS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160; </div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;<span class="comment">/* Called only on finished or stopped jobs (no members are running) */</span></div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l04609"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aad87a6daf9c118cfe14c5adc6164627b"> 4609</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aad87a6daf9c118cfe14c5adc6164627b">getstatus</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *<a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>)</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;{</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>;</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *ps;</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160; </div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;    <span class="comment">/* Fetch last member&#39;s status */</span></div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;    ps = <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a> + <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a> - 1;</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;    <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a>;</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a6f80d662eb9834ebb6ed09fbae402c21">pipefail</a>) {</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;        <span class="comment">/* &quot;set -o pipefail&quot; mode: use last _nonzero_ status */</span></div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> == 0 &amp;&amp; --ps &gt;= <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>)</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;            <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a>;</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;    }</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160; </div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../d7/d23/unionwait_8h.html#ae0c8840076dd63d5e2367fff4f7f46f3">WEXITSTATUS</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>);</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d23/unionwait_8h.html#af9a4ddf9eee6c4a3bc9be070d59b7ccf">WIFEXITED</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>)) {</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../d7/d23/unionwait_8h.html#a2c6d84ce222454bb6387fc20d930f5b7">WSTOPSIG</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>);</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d23/unionwait_8h.html#ae2b610235f988f4f3109f02a2f395727">WIFSTOPPED</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>))</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;        {</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;            <span class="comment">/* XXX: limits number of signals */</span></div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../d7/d23/unionwait_8h.html#aeba4d421572a9d681c73c347f24ad348">WTERMSIG</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>);</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> == <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>)</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>-&gt;sigint = 1;</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;        }</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> |= 128;</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;    }</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;getstatus: job %d, nproc %d, status 0x%x, retval 0x%x\n&quot;</span>,</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;        jobno(<a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>), <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a>, <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>, <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>));</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>;</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;}</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160; </div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l04646"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac8d7ff169346fcdc995ebf2991371107"> 4646</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac8d7ff169346fcdc995ebf2991371107">waitcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;{</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *<a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>;</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>;</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp;</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;<span class="preprocessor">#if BASH_WAIT_N</span></div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;    <span class="keywordtype">char</span> one = <a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<span class="stringliteral">&quot;n&quot;</span>);</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>);</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = 0;</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160; </div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0]) {</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;        <span class="comment">/* wait for all jobs / one job if -n */</span></div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;            jp = <a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>;</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;<span class="preprocessor">#if BASH_WAIT_N</span></div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;            <span class="keywordflow">if</span> (one &amp;&amp; !jp)</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;                <span class="comment">/* exitcode of &quot;wait -n&quot; with nothing to wait for is 127, not 0 */</span></div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;                <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = 127;</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;            <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;                <span class="keywordflow">if</span> (!jp) <span class="comment">/* no running procs */</span></div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;                    <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;                <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> == <a class="code" href="../../d1/dbe/ash_8c.html#adf94a5ac31065480ecdfcde97dcf37ae">JOBRUNNING</a>)</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;                jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3709e1422f4276fd148fa8209326f414">waited</a> = 1;</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;                jp = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a>;</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;            }</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;    <span class="comment">/* man bash:</span></div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;<span class="comment">     * &quot;When bash is waiting for an asynchronous command via</span></div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;<span class="comment">     * the wait builtin, the reception of a signal for which a trap</span></div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;<span class="comment">     * has been set will cause the wait builtin to return immediately</span></div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;<span class="comment">     * with an exit status greater than 128, immediately after which</span></div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;<span class="comment">     * the trap is executed.&quot;</span></div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;<span class="preprocessor">#if BASH_WAIT_N</span></div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;            <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aacf83e9c84e4dbeaaae698fbb98c5b1a">dowait</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a38d3441295de31b965e935ec40d68eba">DOWAIT_BLOCK_OR_SIG</a> | DOWAIT_JOBSTATUS, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#aacf83e9c84e4dbeaaae698fbb98c5b1a">dowait</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a38d3441295de31b965e935ec40d68eba">DOWAIT_BLOCK_OR_SIG</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;            <span class="comment">/* if child sends us a signal *and immediately exits*,</span></div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;<span class="comment">             * dowait() returns pid &gt; 0. Check this case,</span></div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;<span class="comment">             * not &quot;if (dowait() &lt; 0)&quot;!</span></div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">pending_sig</a>)</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;                <span class="keywordflow">goto</span> sigout;</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;<span class="preprocessor">#if BASH_WAIT_N</span></div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;            <span class="keywordflow">if</span> (one) {</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;                <span class="comment">/* wait -n waits for one _job_, not one _process_.</span></div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;<span class="comment">                 *  date; sleep 3 &amp; sleep 2 | sleep 1 &amp; wait -n; date</span></div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;<span class="comment">                 * should wait for 2 seconds. Not 1 or 3.</span></div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> != -1 &amp;&amp; !<a class="code" href="../../d7/d23/unionwait_8h.html#ae2b610235f988f4f3109f02a2f395727">WIFSTOPPED</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>)) {</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;                    <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../d7/d23/unionwait_8h.html#ae0c8840076dd63d5e2367fff4f7f46f3">WEXITSTATUS</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>);</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d23/unionwait_8h.html#a6953e62fd0dec274a397678d31c344b4">WIFSIGNALED</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>))</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;                        <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = 128 | <a class="code" href="../../d7/d23/unionwait_8h.html#aeba4d421572a9d681c73c347f24ad348">WTERMSIG</a>(<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>);</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;                    <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;                }</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;            }</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;        }</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;    }</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160; </div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = 127;</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;        <span class="keywordflow">if</span> (**<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> != <span class="charliteral">&#39;%&#39;</span>) {</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;            <a class="code" href="../../db/d9e/Linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae52ce7002a05790c0eb9b44163ddf3f0">number</a>(*<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;            <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>)</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;                    <span class="keywordflow">goto</span> repeat;</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>[<a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a> - 1].<a class="code" href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a">ps_pid</a> == <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>)</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> = <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a>;</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;            }</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a191f5b89b3168513867a278fe81a0fbd">getjob</a>(*<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, 0);</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;        }</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;        <span class="comment">/* loop until process terminated or stopped */</span></div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aacf83e9c84e4dbeaaae698fbb98c5b1a">dowait</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a38d3441295de31b965e935ec40d68eba">DOWAIT_BLOCK_OR_SIG</a>, <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>);</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">pending_sig</a>)</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;            <span class="keywordflow">goto</span> sigout;</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3709e1422f4276fd148fa8209326f414">waited</a> = 1;</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad87a6daf9c118cfe14c5adc6164627b">getstatus</a>(<a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a>);</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160; repeat: ;</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;    } <span class="keywordflow">while</span> (*++<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160; </div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160; ret:</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>;</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160; sigout:</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = 128 | <a class="code" href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">pending_sig</a>;</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>;</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;}</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160; </div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *</div>
<div class="line"><a name="l04744"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a55540dd0734a1144a530bb936bf01fd2"> 4744</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a55540dd0734a1144a530bb936bf01fd2">growjobtab</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;{</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a6d26a0475a6d6c897e655cdc5d8019d2">ptrdiff_t</a> <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>;</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp, *jq;</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160; </div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ab1a5da6dbea94b0e209581eb17846595">njobs</a> * <span class="keyword">sizeof</span>(*jp);</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;    jq = <a class="code" href="../../d1/dbe/ash_8c.html#a7724c1a420fb828d410bace56f4a74be">jobtab</a>;</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;    jp = <a class="code" href="../../d1/dbe/ash_8c.html#ad66533db7ebe77ead31ba1fda6be3a58">ckrealloc</a>(jq, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + 4 * <span class="keyword">sizeof</span>(*jp));</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160; </div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a> = (<span class="keywordtype">char</span> *)jp - (<span class="keywordtype">char</span> *)jq;</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>) {</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;        <span class="comment">/* Relocate pointers */</span></div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160; </div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;        jq = (<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *)((<span class="keywordtype">char</span> *)jq + <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>);</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>) {</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;            <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> -= <span class="keyword">sizeof</span>(*jp);</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;            jq--;</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;<span class="preprocessor">#define joff(p) ((struct job *)((char *)(p) + l))</span></div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;<span class="preprocessor">#define jmove(p) (p) = (void *)((char *)(p) + offset)</span></div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8d50824d0847c72fd243bf64eaeecf25">joff</a>(jp)-&gt;ps == &amp;jq-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8489c2df317e5734c87e572a5e9b3e08">ps0</a>)</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ab8e7d402305aa8ea02b0a2da38921f2d">jmove</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a8d50824d0847c72fd243bf64eaeecf25">joff</a>(jp)-&gt;ps);</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8d50824d0847c72fd243bf64eaeecf25">joff</a>(jp)-&gt;prev_job)</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ab8e7d402305aa8ea02b0a2da38921f2d">jmove</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a8d50824d0847c72fd243bf64eaeecf25">joff</a>(jp)-&gt;prev_job);</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;        }</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>)</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab8e7d402305aa8ea02b0a2da38921f2d">jmove</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>);</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;<span class="preprocessor">#undef joff</span></div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;<span class="preprocessor">#undef jmove</span></div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;    }</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160; </div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab1a5da6dbea94b0e209581eb17846595">njobs</a> += 4;</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7724c1a420fb828d410bace56f4a74be">jobtab</a> = jp;</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;    jp = (<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *)((<span class="keywordtype">char</span> *)jp + <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;    jq = jp + 3;</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;        jq-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a64cc344105b625a76853c3a9ac4a11e3">used</a> = 0;</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;    } <span class="keywordflow">while</span> (--jq &gt;= jp);</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;    <span class="keywordflow">return</span> jp;</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;}</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160; </div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;<span class="comment"> * Return a new job structure.</span></div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;<span class="comment"> * Called with interrupts off.</span></div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *</div>
<div class="line"><a name="l04791"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a915993c65b1d23c848d308738564f57a"> 4791</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a915993c65b1d23c848d308738564f57a">makejob</a>(<span class="comment">/*union node *node,*/</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a>)</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;{</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp;</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160; </div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ab1a5da6dbea94b0e209581eb17846595">njobs</a>, jp = <a class="code" href="../../d1/dbe/ash_8c.html#a7724c1a420fb828d410bace56f4a74be">jobtab</a>; ; jp++) {</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;        <span class="keywordflow">if</span> (--<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; 0) {</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;            jp = <a class="code" href="../../d1/dbe/ash_8c.html#a55540dd0734a1144a530bb936bf01fd2">growjobtab</a>();</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;        }</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;        <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a64cc344105b625a76853c3a9ac4a11e3">used</a> == 0)</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;        <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> != <a class="code" href="../../d1/dbe/ash_8c.html#adbea944334cc7e0b5f3a416402774451">JOBDONE</a> || !jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3709e1422f4276fd148fa8209326f414">waited</a>)</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae">doing_jobctl</a>)</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab91cc6b3c28df1e06d48be61159f355c">freejob</a>(jp);</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;    }</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a>(jp, 0, <span class="keyword">sizeof</span>(*jp));</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;    <span class="comment">/* jp-&gt;jobctl is a bitfield.</span></div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;<span class="comment">     * &quot;jp-&gt;jobctl |= doing_jobctl&quot; likely to give awful code */</span></div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae">doing_jobctl</a>)</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;        jp-&gt;jobctl = 1;</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;    jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>;</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a> = jp;</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;    jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a64cc344105b625a76853c3a9ac4a11e3">used</a> = 1;</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;    jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a> = &amp;jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8489c2df317e5734c87e572a5e9b3e08">ps0</a>;</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a> &gt; 1) {</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;        jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a27cf7b0a48a767c21a2c6eb91713b243">ckmalloc</a>(<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a> * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a>));</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;    }</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;makejob(%d) returns %%%d\n&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a>,</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;                jobno(jp)));</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;    <span class="keywordflow">return</span> jp;</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;}</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160; </div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;<span class="comment"> * Return a string identifying a command (to be printed by the</span></div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;<span class="comment"> * jobs command).</span></div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *cmdnextc;</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160; </div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;cmdputs(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;{</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> vstype[<a class="code" href="../../d1/dbe/ash_8c.html#a9e9b4cf0195e0b55558bef9788071c10">VSTYPE</a> + 1][3] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = {</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;        <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;}&quot;</span>, <span class="stringliteral">&quot;-&quot;</span>, <span class="stringliteral">&quot;+&quot;</span>, <span class="stringliteral">&quot;?&quot;</span>, <span class="stringliteral">&quot;=&quot;</span>,</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;        <span class="stringliteral">&quot;%&quot;</span>, <span class="stringliteral">&quot;%%&quot;</span>, <span class="stringliteral">&quot;#&quot;</span>, <span class="stringliteral">&quot;##&quot;</span></div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ae5e02005b4d5b89e194f540163e26fc0">IF_BASH_SUBSTR</a>(, <span class="stringliteral">&quot;:&quot;</span>)</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a169450bd20de627b9da0dcb78f0d4abb">IF_BASH_PATTERN_SUBST</a>(, &quot;/&quot;, &quot;<span class="comment">//&quot;)</span></div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;    };</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160; </div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;    const <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, *<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>;</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;    <span class="keywordtype">char</span> cc[2];</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;    <span class="keywordtype">char</span> *nextc;</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> subtype = 0;</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;    <span class="keywordtype">int</span> quoted = 0;</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160; </div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;    cc[1] = &#39;\0&#39;;</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;    nextc = <a class="code" href="../../d1/dbe/ash_8c.html#a8fbe4c07cec9e449521386e9b41608c0">makestrspace</a>((<a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) + 1) * 8, cmdnextc);</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac5ea133c26adb9b160cb33f3db9301f6">while</a> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++) != &#39;\0&#39;) {</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;        <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>:</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ae1863f639f12382c610c13d53ea33c01">CTLVAR</a>:</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;            subtype = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;            <span class="keywordflow">if</span> ((subtype &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9e9b4cf0195e0b55558bef9788071c10">VSTYPE</a>) == <a class="code" href="../../d1/dbe/ash_8c.html#a252bfb51e3aaaead48778387d4db014c">VSLENGTH</a>)</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;                <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <span class="stringliteral">&quot;${#&quot;</span>;</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;                <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <span class="stringliteral">&quot;${&quot;</span>;</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;            <span class="keywordflow">goto</span> dostr;</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4b4b55d19841657b0d741ce7b516aee0">CTLENDVAR</a>:</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;            <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <span class="stringliteral">&quot;\&quot;}&quot;</span>;</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;            <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> += !(quoted &amp; 1);</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;            quoted &gt;&gt;= 1;</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;            subtype = 0;</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;            <span class="keywordflow">goto</span> dostr;</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>:</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;$&#39;</span>;</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;            <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <span class="stringliteral">&quot;(...)&quot;</span>;</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;        <span class="keywordflow">case</span> CTLTOPROC:</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;&gt;&#39;</span>;</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;            <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <span class="stringliteral">&quot;(...)&quot;</span>;</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;        <span class="keywordflow">case</span> CTLFROMPROC:</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;&lt;&#39;</span>;</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;            <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <span class="stringliteral">&quot;(...)&quot;</span>;</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>:</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;            <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <span class="stringliteral">&quot;$(...)&quot;</span>;</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;            <span class="keywordflow">goto</span> dostr;</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a61d50a8e339a2b23161570aa7ce7286a">CTLARI</a>:</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;            <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <span class="stringliteral">&quot;$((&quot;</span>;</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;            <span class="keywordflow">goto</span> dostr;</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a758d18444ca0979856f52b0506de9d19">CTLENDARI</a>:</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;            <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <span class="stringliteral">&quot;))&quot;</span>;</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;            <span class="keywordflow">goto</span> dostr;</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a>:</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;            quoted ^= 1;</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;&quot;&#39;</span>;</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;=&#39;</span>:</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;            <span class="keywordflow">if</span> (subtype == 0)</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;            <span class="keywordflow">if</span> ((subtype &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9e9b4cf0195e0b55558bef9788071c10">VSTYPE</a>) != <a class="code" href="../../d1/dbe/ash_8c.html#a3c58eaf841c80ab6d8e9acdf52172d33">VSNORMAL</a>)</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;                quoted &lt;&lt;= 1;</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;            <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = vstype[subtype &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9e9b4cf0195e0b55558bef9788071c10">VSTYPE</a>];</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;            <span class="keywordflow">if</span> (subtype &amp; <a class="code" href="../../d1/dbe/ash_8c.html#ad557438155906b9dc1a3a6fee168ceb3">VSNUL</a>)</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;:&#39;</span>;</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;                <span class="keywordflow">goto</span> checkstr;</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\&#39;&#39;</span>:</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\\&#39;</span>:</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;&quot;&#39;</span>:</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;$&#39;</span>:</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;            <span class="comment">/* These can only happen inside quotes */</span></div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;            cc[0] = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;            <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = cc;</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;<span class="comment">//FIXME:</span></div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;<span class="comment">// $ true $$ &amp;</span></div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;<span class="comment">// $ &lt;cr&gt;</span></div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;<span class="comment">// [1]+  Done    true ${\$}   &lt;&lt;=== BUG: ${\$} is not a valid way to write $$ (${$} would be ok)</span></div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;\\&#39;</span>;</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;        }</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, nextc);</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160; checkstr:</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>)</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160; dostr:</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;        <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>++) != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, nextc);</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;        }</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;    } <span class="comment">/* while *p++ not NUL */</span></div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160; </div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;    <span class="keywordflow">if</span> (quoted &amp; 1) {</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;&quot;&#39;</span>, nextc);</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;    }</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;    *nextc = 0;</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;    cmdnextc = nextc;</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;}</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160; </div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;<span class="comment">/* cmdtxt() and cmdlist() call each other */</span></div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> cmdtxt(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160; </div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;cmdlist(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *np, <span class="keywordtype">int</span> sep)</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;{</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;    <span class="keywordflow">for</span> (; np; np = np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a48ffe2ba16597faedb406bcec66923ab">next</a>) {</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;        <span class="keywordflow">if</span> (!sep)</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;            cmdputs(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;        cmdtxt(np);</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;        <span class="keywordflow">if</span> (sep &amp;&amp; np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a48ffe2ba16597faedb406bcec66923ab">next</a>)</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;            cmdputs(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;    }</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;}</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160; </div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;cmdtxt(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;{</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *np;</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *lp;</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160; </div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type) {</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;        <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a>();</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a6b0054e65df0932a5e1c92c4f707358b">NPIPE</a>:</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;        lp = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;npipe.cmdlist;</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;            cmdtxt(lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">n</a>);</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;            lp = lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a>;</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;            <span class="keywordflow">if</span> (!lp)</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;            cmdputs(<span class="stringliteral">&quot; | &quot;</span>);</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;        }</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a9b85d29ae92a08c0a12c42cc7f302dfb">NSEMI</a>:</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;; &quot;</span>;</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a9377d79f306851de141662a690fa9114">binop</a>;</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a923cb4a4043639f6d8d4108c84bb8f8f">NAND</a>:</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot; &amp;&amp; &quot;</span>;</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a9377d79f306851de141662a690fa9114">binop</a>;</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0dd10f6b3ad00611521e0a7ebc8c18ad">NOR</a>:</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot; || &quot;</span>;</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160; <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a9377d79f306851de141662a690fa9114">binop</a>:</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;        cmdtxt(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch1);</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;        cmdputs(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch2;</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;        <span class="keywordflow">goto</span> donode;</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a731505e220374df4153088cb7dc7e721">NREDIR</a>:</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a17b467de2743a40a0a8fc5fc8019404d">NBACKGND</a>:</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.n;</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;        <span class="keywordflow">goto</span> donode;</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7313a4d2ef02154895cdd285d1466a7a">NNOT</a>:</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;        cmdputs(<span class="stringliteral">&quot;!&quot;</span>);</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nnot.com;</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160; donode:</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;        cmdtxt(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a1afe765b4510add91239ee23e5a89ba4">NIF</a>:</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;        cmdputs(<span class="stringliteral">&quot;if &quot;</span>);</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;        cmdtxt(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.test);</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;        cmdputs(<span class="stringliteral">&quot;; then &quot;</span>);</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.elsepart) {</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;            cmdtxt(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.ifpart);</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;            cmdputs(<span class="stringliteral">&quot;; else &quot;</span>);</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.elsepart;</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.ifpart;</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;        }</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;; fi&quot;</span>;</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;        <span class="keywordflow">goto</span> dotail;</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a5cd8291782169e211f7112aec1b29b7a">NSUBSHELL</a>:</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;        cmdputs(<span class="stringliteral">&quot;(&quot;</span>);</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.n;</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;        <span class="keywordflow">goto</span> dotail;</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a118a6b79cefa14c0e48db7329e2dc546">NWHILE</a>:</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;while &quot;</span>;</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;        <span class="keywordflow">goto</span> until;</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a715c2e99d7a38041a97cebc49ef25470">NUNTIL</a>:</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;until &quot;</span>;</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160; until:</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;        cmdputs(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;        cmdtxt(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch1);</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch2;</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;; done&quot;</span>;</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160; dodo:</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;        cmdputs(<span class="stringliteral">&quot;; do &quot;</span>);</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160; dotail:</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;        cmdtxt(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;        <span class="keywordflow">goto</span> dotail2;</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ae575a712af65a31deff21397dd8abe51">NFOR</a>:</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;        cmdputs(<span class="stringliteral">&quot;for &quot;</span>);</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;        cmdputs(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.var);</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;        cmdputs(<span class="stringliteral">&quot; in &quot;</span>);</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;        cmdlist(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.args, 1);</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.body;</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;; done&quot;</span>;</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;        <span class="keywordflow">goto</span> dodo;</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#accf038e773bf009999c077dfac00a290">NDEFUN</a>:</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;        cmdputs(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndefun.text);</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;() { ... }&quot;</span>;</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;        <span class="keywordflow">goto</span> dotail2;</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">NCMD</a>:</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;        cmdlist(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.args, 1);</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;        cmdlist(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.redirect, 0);</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>:</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.text;</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160; dotail2:</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;        cmdputs(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad0f81540b8a0b9ef1e2747fb93898460">NHERE</a>:</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#adea9843b5ff4954b14afa07a09340091">NXHERE</a>:</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;&lt;&lt;...&quot;</span>;</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;        <span class="keywordflow">goto</span> dotail2;</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#acab6d4049057ee59ea73ed5b5ca879f2">NCASE</a>:</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;        cmdputs(<span class="stringliteral">&quot;case &quot;</span>);</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;        cmdputs(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncase.expr-&gt;narg.text);</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;        cmdputs(<span class="stringliteral">&quot; in &quot;</span>);</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;        <span class="keywordflow">for</span> (np = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncase.cases; np; np = np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aaa8a68ca9d46985bd22f5ed5eab945e2">nclist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a2b606e051d83d3814a3d53aad8111a21">next</a>) {</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;            cmdtxt(np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aaa8a68ca9d46985bd22f5ed5eab945e2">nclist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ada3204903f315a30983ae55160074f1a">pattern</a>);</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;            cmdputs(<span class="stringliteral">&quot;) &quot;</span>);</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;            cmdtxt(np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aaa8a68ca9d46985bd22f5ed5eab945e2">nclist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a50a75a9c2bd1f65ef10bc0b0b9b17969">body</a>);</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;            cmdputs(<span class="stringliteral">&quot;;; &quot;</span>);</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;        }</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;esac&quot;</span>;</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;        <span class="keywordflow">goto</span> dotail2;</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a658038e4a47dea3db2c5ab2a3446e02a">NTO</a>:</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a044ff0b816ace1617b5a80ef22042484">NCLOBBER</a>:</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;&gt;|&quot;</span>;</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7e16466b836f34200e785c653b136dcf">NAPPEND</a>:</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;&gt;&gt;&quot;</span>;</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;    <span class="keywordflow">case</span> NTO2:</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">NTOFD</a>:</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;&gt;&amp;&quot;</span>;</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aefcff7735123e7551631570d3bbb418f">NFROM</a>:</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;&lt;&quot;</span>;</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">NFROMFD</a>:</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;&lt;&amp;&quot;</span>;</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa5fc21dad7ff6ca79ff1e9c481b33787">NFROMTO</a>:</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="stringliteral">&quot;&lt;&gt;&quot;</span>;</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160; <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>:</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;        cmdputs(<a class="code" href="../../d7/dd7/libbb_8h.html#abee8e38e713314dce814d218fdd4224e">utoa</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfile.fd));</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;        cmdputs(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type == <a class="code" href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">NTOFD</a> || <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type == <a class="code" href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">NFROMFD</a>) {</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndup.dupfd &gt;= 0)</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;                cmdputs(<a class="code" href="../../d7/dd7/libbb_8h.html#abee8e38e713314dce814d218fdd4224e">utoa</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndup.dupfd));</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;                cmdputs(<span class="stringliteral">&quot;-&quot;</span>);</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;        }</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfile.fname;</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;        <span class="keywordflow">goto</span> donode;</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;    }</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;}</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160; </div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;commandtext(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;{</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;    <span class="keywordtype">char</span> *name;</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160; </div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a51947f73159e14e6d1deac7c491013ac">STARTSTACKSTR</a>(cmdnextc);</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;    cmdtxt(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;    name = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;commandtext: name %p, end %p\n&quot;</span>, name, cmdnextc));</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#ae636b85e9fda111db77be3efbad1c862">ckstrdup</a>(name);</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;}</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JOBS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160; </div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;<span class="comment"> * Fork off a subshell.  If we are doing job control, give the subshell its</span></div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;<span class="comment"> * own process group.  Jp is a job structure that the job is to be added to.</span></div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;<span class="comment"> * N is the command that will be evaluated by the child.  Both jp and n may</span></div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;<span class="comment"> * be NULL.  The mode parameter can be one of the following:</span></div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;<span class="comment"> *      FORK_FG - Fork off a foreground process.</span></div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;<span class="comment"> *      FORK_BG - Fork off a background process.</span></div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;<span class="comment"> *      FORK_NOJOB - Like FORK_FG, but don&#39;t give the process its own</span></div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;<span class="comment"> *                   process group even if job control is on.</span></div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;<span class="comment"> * When job control is turned off, background processes have their standard</span></div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;<span class="comment"> * input redirected to /dev/null (except for the second and later processes</span></div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;<span class="comment"> * in a pipeline).</span></div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;<span class="comment"> * Called with interrupts off.</span></div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;<span class="comment"> * Clear traps on a fork.</span></div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l05154"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a12d4cf6f1e33f576762b7863b79e13d4"> 5154</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a12d4cf6f1e33f576762b7863b79e13d4">clear_traps</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;{</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a>;</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160; </div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>; <a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> &lt;= &amp;<a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[<a class="code" href="../../d1/dbe/ash_8c.html#adf3ec511cc3180c82a5157e69f38c555">NTRAP_LAST</a>]; <a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a>++) {</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> &amp;&amp; **<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a>) {      <span class="comment">/* trap not NULL or &quot;&quot; (SIG_IGN) */</span></div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a96548d5a09aa581e8c86812ffe17f518">trap_ptr</a> == <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>)</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;                <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(*<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a>);</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;            <span class="comment">/* else: it &quot;belongs&quot; to trap_ptr vector, don&#39;t free */</span></div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;            *<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> - <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>) != 0 &amp;&amp; (<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> - <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>) &lt; <a class="code" href="../../dc/da4/mksignames_8c.html#ab83b88daaecc469d1edb90a527ab4a39">NSIG</a>)</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> - <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>);</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;        }</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;    }</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aeae2161e6b322b2655fac184e8fca410">may_have_traps</a> = 0;</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;}</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160; </div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;<span class="comment">/* Lives far away from here, needed for forkchild */</span></div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa2d27d477de53b683b149d34d8dd3ac0">closescript</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160; </div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;<span class="comment">/* Called after fork(), in child */</span></div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;<span class="comment">/* jp and n are NULL when called by openhere() for heredoc support */</span></div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#a1b173d22e57d9395897acbd8de62d505">NOINLINE</a> <span class="keywordtype">void</span></div>
<div class="line"><a name="l05179"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a645d346ad29091a759e84b256eb56496"> 5179</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a645d346ad29091a759e84b256eb56496">forkchild</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp, <span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">int</span> mode)</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;{</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;    <span class="keywordtype">int</span> oldlvl;</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160; </div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;Child shell %d\n&quot;</span>, <a class="code" href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid</a>()));</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;    oldlvl = <a class="code" href="../../d1/dbe/ash_8c.html#a131814c03a6cf6bd9af0079dd727ae8f">shlvl</a>;</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a131814c03a6cf6bd9af0079dd727ae8f">shlvl</a>++;</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160; </div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;    <span class="comment">/* man bash: &quot;Non-builtin commands run by bash have signal handlers</span></div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;<span class="comment">     * set to the values inherited by the shell from its parent&quot;.</span></div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;<span class="comment">     * Do we do it correctly? */</span></div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160; </div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aa2d27d477de53b683b149d34d8dd3ac0">closescript</a>();</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160; </div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;    <span class="keywordflow">if</span> (mode == <a class="code" href="../../d1/dbe/ash_8c.html#a84b424383676aac169bef6049c731d87">FORK_NOJOB</a>          <span class="comment">/* is it `xxx` ? */</span></div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;     &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type == <a class="code" href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">NCMD</a>        <span class="comment">/* is it single cmd? */</span></div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;    <span class="comment">/* &amp;&amp; n-&gt;ncmd.args-&gt;type == NARG - always true? */</span></div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;     &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.args &amp;&amp; <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.args-&gt;narg.text, <span class="stringliteral">&quot;trap&quot;</span>) == 0</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;     &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.args-&gt;narg.next == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* &quot;trap&quot; with no arguments */</span></div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;    <span class="comment">/* &amp;&amp; n-&gt;ncmd.args-&gt;narg.backquote == NULL - do we need to check this? */</span></div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;    ) {</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;Trap hack\n&quot;</span>));</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;        <span class="comment">/* Awful hack for `trap` or $(trap).</span></div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;<span class="comment">         * http://www.opengroup.org/onlinepubs/009695399/utilities/trap.html</span></div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;<span class="comment">         * contains an example where &quot;trap&quot; is executed in a subshell:</span></div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;<span class="comment">         * save_traps=$(trap)</span></div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;<span class="comment">         * ...</span></div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;<span class="comment">         * eval &quot;$save_traps&quot;</span></div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;<span class="comment">         * Standard does not say that &quot;trap&quot; in subshell shall print</span></div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;<span class="comment">         * parent shell&#39;s traps. It only says that its output</span></div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;<span class="comment">         * must have suitable form, but then, in the above example</span></div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;<span class="comment">         * (which is not supposed to be normative), it implies that.</span></div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;<span class="comment">         * bash (and probably other shell) does implement it</span></div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;<span class="comment">         * (traps are reset to defaults, but &quot;trap&quot; still shows them),</span></div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;<span class="comment">         * but as a result, &quot;trap&quot; logic is hopelessly messed up:</span></div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;<span class="comment">         * # trap</span></div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;<span class="comment">         * trap -- &#39;echo Ho&#39; SIGWINCH  &lt;--- we have a handler</span></div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;<span class="comment">         * # (trap)        &lt;--- trap is in subshell - no output (correct, traps are reset)</span></div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;<span class="comment">         * # true | trap   &lt;--- trap is in subshell - no output (ditto)</span></div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;<span class="comment">         * # echo `true | trap`    &lt;--- in subshell - output (but traps are reset!)</span></div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;<span class="comment">         * trap -- &#39;echo Ho&#39; SIGWINCH</span></div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;<span class="comment">         * # echo `(trap)`         &lt;--- in subshell in subshell - output</span></div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;<span class="comment">         * trap -- &#39;echo Ho&#39; SIGWINCH</span></div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;<span class="comment">         * # echo `true | (trap)`  &lt;--- in subshell in subshell in subshell - output!</span></div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;<span class="comment">         * trap -- &#39;echo Ho&#39; SIGWINCH</span></div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;<span class="comment">         * The rules when to forget and when to not forget traps</span></div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;<span class="comment">         * get really complex and nonsensical.</span></div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;<span class="comment">         * Our solution: ONLY bare $(trap) or `trap` is special.</span></div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;        <span class="comment">/* Save trap handler strings for trap builtin to print */</span></div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a96548d5a09aa581e8c86812ffe17f518">trap_ptr</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a48fa7a14d70959378e8e0179bcd8aef5">xmemdup</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>));</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;        <span class="comment">/* Fall through into clearing traps */</span></div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;    }</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a12d4cf6f1e33f576762b7863b79e13d4">clear_traps</a>();</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;    <span class="comment">/* do job control only in root shell */</span></div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae">doing_jobctl</a> = 0;</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;    <span class="keywordflow">if</span> (mode != <a class="code" href="../../d1/dbe/ash_8c.html#a84b424383676aac169bef6049c731d87">FORK_NOJOB</a> &amp;&amp; jp-&gt;jobctl &amp;&amp; oldlvl == 0) {</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;        <a class="code" href="../../db/d9e/Linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> pgrp;</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160; </div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;        <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a> == 0)</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;            pgrp = <a class="code" href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid</a>();</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;            pgrp = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>[0].<a class="code" href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a">ps_pid</a>;</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;        <span class="comment">/* this can fail because we are doing it in the parent also */</span></div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;        <a class="code" href="../../d1/dea/apps_2base_2bash_2examples_2loadables_2setpgid_8c.html#af35bd0de8c2181231698de03bbdd58ca">setpgid</a>(0, pgrp);</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;        <span class="keywordflow">if</span> (mode == <a class="code" href="../../d1/dbe/ash_8c.html#a5da14b841f888931a9a10474494f9bcc">FORK_FG</a>)</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;            xtcsetpgrp(ttyfd, pgrp);</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#abe65c086e01f0d286b7a785a7e3cdd1a">SIGTSTP</a>);</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a782864287613e2c5c030411fa9c5e9b1">SIGTTOU</a>);</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;    <span class="keywordflow">if</span> (mode == <a class="code" href="../../d1/dbe/ash_8c.html#a40b15277a0e1a82ae1d0d5acdc6f7889">FORK_BG</a>) {</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;        <span class="comment">/* man bash: &quot;When job control is not in effect,</span></div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;<span class="comment">         * asynchronous commands ignore SIGINT and SIGQUIT&quot; */</span></div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6e271f93b68c9908c90607fcb4ef001a">ignoresig</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>);</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6e271f93b68c9908c90607fcb4ef001a">ignoresig</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a62045b465be11891160d53c10861b16c">SIGQUIT</a>);</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;        <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a> == 0) {</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(0);</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(<a class="code" href="../../d7/dd7/libbb_8h.html#a4e7c66a9217fd1d9691aba910654d2e2">bb_dev_null</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>) != 0)</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a>(<span class="stringliteral">&quot;can&#39;t open &#39;%s&#39;&quot;</span>, <a class="code" href="../../d7/dd7/libbb_8h.html#a4e7c66a9217fd1d9691aba910654d2e2">bb_dev_null</a>);</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;        }</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;    }</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;    <span class="keywordflow">if</span> (oldlvl == 0) {</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a>) { <span class="comment">/* why if iflag only? */</span></div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>);</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a682182a5e5f38fd61f4311501e9dac5d">SIGTERM</a>);</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;        }</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;        <span class="comment">/* man bash:</span></div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;<span class="comment">         * &quot;In all cases, bash ignores SIGQUIT. Non-builtin</span></div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;<span class="comment">         * commands run by bash have signal handlers</span></div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;<span class="comment">         * set to the values inherited by the shell</span></div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;<span class="comment">         * from its parent&quot;.</span></div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;<span class="comment">         * Take care of the second rule: */</span></div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a62045b465be11891160d53c10861b16c">SIGQUIT</a>);</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;    }</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type == <a class="code" href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">NCMD</a></div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;     &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.args &amp;&amp; <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.args-&gt;narg.text, <span class="stringliteral">&quot;jobs&quot;</span>) == 0</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;    ) {</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;Job hack\n&quot;</span>));</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;        <span class="comment">/* &quot;jobs&quot;: we do not want to clear job list for it,</span></div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;<span class="comment">         * instead we remove only _its_ own_ job from job list.</span></div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;<span class="comment">         * This makes &quot;jobs .... | cat&quot; more useful.</span></div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab91cc6b3c28df1e06d48be61159f355c">freejob</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>);</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;    }</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;    <span class="keywordflow">for</span> (jp = <a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>; jp; jp = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">prev_job</a>)</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab91cc6b3c28df1e06d48be61159f355c">freejob</a>(jp);</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;}</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160; </div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;<span class="comment">/* Called after fork(), in parent */</span></div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;<span class="preprocessor">#if !JOBS</span></div>
<div class="line"><a name="l05301"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acbf83fc54671f0faa1cd6facb43de875"> 5301</a></span>&#160;<span class="preprocessor">#define forkparent(jp, n, mode, pid) forkparent(jp, mode, pid)</span></div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l05304"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7baf90f28ce07c923ecc6565bcca6e95"> 5304</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#acbf83fc54671f0faa1cd6facb43de875">forkparent</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp, <span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">int</span> mode, <a class="code" href="../../db/d9e/Linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>)</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;{</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;In parent shell: child = %d\n&quot;</span>, <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>));</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;    <span class="keywordflow">if</span> (!jp) <span class="comment">/* jp is NULL when called by openhere() for heredoc support */</span></div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;    <span class="keywordflow">if</span> (mode != <a class="code" href="../../d1/dbe/ash_8c.html#a84b424383676aac169bef6049c731d87">FORK_NOJOB</a> &amp;&amp; jp-&gt;jobctl) {</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;        <span class="keywordtype">int</span> pgrp;</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160; </div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;        <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a> == 0)</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;            pgrp = <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;            pgrp = jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>[0].<a class="code" href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a">ps_pid</a>;</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;        <span class="comment">/* This can fail because we are doing it in the child also */</span></div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;        <a class="code" href="../../d1/dea/apps_2base_2bash_2examples_2loadables_2setpgid_8c.html#af35bd0de8c2181231698de03bbdd58ca">setpgid</a>(<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, pgrp);</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;    }</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;    <span class="keywordflow">if</span> (mode == <a class="code" href="../../d1/dbe/ash_8c.html#a40b15277a0e1a82ae1d0d5acdc6f7889">FORK_BG</a>) {</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a3defff30bf6bea060bacaa2ea9324893">backgndpid</a> = <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;               <span class="comment">/* set $! */</span></div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a02201a0b8742c6d2cd984be551251f64">set_curjob</a>(jp, <a class="code" href="../../d1/dbe/ash_8c.html#ad2c8208cb98ab55e1f233e448bd2e7e7">CUR_RUNNING</a>);</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;    }</div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;    <span class="keywordflow">if</span> (jp) {</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a> *ps = &amp;jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">ps</a>[jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">nprocs</a>++];</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;        ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a">ps_pid</a> = <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;        ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">ps_status</a> = -1;</div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;        ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a6ce35594df9dbfbd16fee8fa3392cda3">ps_cmd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>;</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae">doing_jobctl</a> &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;            ps-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a6ce35594df9dbfbd16fee8fa3392cda3">ps_cmd</a> = commandtext(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;    }</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;}</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160; </div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;<span class="comment">/* jp and n are NULL when called by openhere() for heredoc support */</span></div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05339"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2909724c5cc1419ade6041cbf8d98636"> 5339</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a2909724c5cc1419ade6041cbf8d98636">forkshell</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp, <span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">int</span> mode)</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;{</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160; </div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;forkshell(%%%d, %p, %d) called\n&quot;</span>, jobno(jp), <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, mode));</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;    <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> = <a class="code" href="../../d3/d3a/jobs_8h.html#a04629be7bde8f11cbf56e09e66a62dcc">fork</a>();</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> &lt; 0) {</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;Fork failed, errno=%d&quot;</span>, <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a>));</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;        <span class="keywordflow">if</span> (jp)</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab91cc6b3c28df1e06d48be61159f355c">freejob</a>(jp);</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a>(<span class="stringliteral">&quot;can&#39;t fork&quot;</span>);</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;    }</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a> == 0) {</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8748d7311c6e071c6e73237f5a132692">CLEAR_RANDOM_T</a>(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#a4b9a507e1ce9f2570ef7be31bfc30517">random_gen</a>); <span class="comment">/* or else $RANDOM repeats in child */</span></div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a645d346ad29091a759e84b256eb56496">forkchild</a>(jp, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, mode);</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#acbf83fc54671f0faa1cd6facb43de875">forkparent</a>(jp, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, mode, <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>);</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;    }</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;}</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160; </div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;<span class="comment"> * Wait for job to finish.</span></div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;<span class="comment"> * Under job control we have the problem that while a child process</span></div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;<span class="comment"> * is running interrupts generated by the user are sent to the child</span></div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;<span class="comment"> * but not to the shell.  This means that an infinite loop started by</span></div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;<span class="comment"> * an interactive user may be hard to kill.  With job control turned off,</span></div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;<span class="comment"> * an interactive user may place an interactive program inside a loop.</span></div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;<span class="comment"> * If the interactive program catches interrupts, the user doesn&#39;t want</span></div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;<span class="comment"> * these interrupts to also abort the loop.  The approach we take here</span></div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;<span class="comment"> * is to have the shell ignore interrupt signals while waiting for a</span></div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;<span class="comment"> * foreground process to terminate, and then send itself an interrupt</span></div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;<span class="comment"> * signal if the child process was terminated by an interrupt signal.</span></div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;<span class="comment"> * Unfortunately, some programs want to do a bit of cleanup and then</span></div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;<span class="comment"> * exit on interrupt; unless these processes terminate themselves by</span></div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;<span class="comment"> * sending a signal to themselves (instead of calling exit) they will</span></div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;<span class="comment"> * confuse this approach.</span></div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;<span class="comment"> * Called with interrupts off.</span></div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05381"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7bd2f10f7aab5836959730cee26ded54"> 5381</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a7bd2f10f7aab5836959730cee26ded54">waitforjob</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp)</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;{</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a>;</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160; </div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;waitforjob(%%%d) called\n&quot;</span>, jp ? jobno(jp) : 0));</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160; </div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;    <span class="comment">/* In non-interactive shells, we _can_ get</span></div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;<span class="comment">     * a keyboard signal here and be EINTRed, but we just loop</span></div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;<span class="comment">     * inside dowait(), waiting for command to complete.</span></div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;<span class="comment">     * man bash:</span></div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;<span class="comment">     * &quot;If bash is waiting for a command to complete and receives</span></div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;<span class="comment">     * a signal for which a trap has been set, the trap</span></div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;<span class="comment">     * will not be executed until the command completes.&quot;</span></div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;<span class="comment">     * Reality is that even if trap is not set, bash</span></div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;<span class="comment">     * will not act on the signal until command completes.</span></div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;<span class="comment">     * Try this. sleep5intoff.c:</span></div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;<span class="comment">     * #include &lt;signal.h&gt;</span></div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;<span class="comment">     * #include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;<span class="comment">     * int main() {</span></div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;<span class="comment">     *         sigset_t set;</span></div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;<span class="comment">     *         sigemptyset(&amp;set);</span></div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;<span class="comment">     *         sigaddset(&amp;set, SIGINT);</span></div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;<span class="comment">     *         sigaddset(&amp;set, SIGQUIT);</span></div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;<span class="comment">     *         sigprocmask(SIG_BLOCK, &amp;set, NULL);</span></div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;<span class="comment">     *         sleep(5);</span></div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;<span class="comment">     *         return 0;</span></div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;<span class="comment">     * }</span></div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;<span class="comment">     * $ bash -c &#39;./sleep5intoff; echo hi&#39;</span></div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;<span class="comment">     * ^C^C^C^C &lt;--- pressing ^C once a second</span></div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;<span class="comment">     * $ _</span></div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;<span class="comment">     * $ bash -c &#39;./sleep5intoff; echo hi&#39;</span></div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;<span class="comment">     * ^\^\^\^\hi &lt;--- pressing ^\ (SIGQUIT)</span></div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;<span class="comment">     * $ _</span></div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aacf83e9c84e4dbeaaae698fbb98c5b1a">dowait</a>(jp ? <a class="code" href="../../d1/dbe/ash_8c.html#a0948f1c922587c2fed833ef063949236">DOWAIT_BLOCK</a> : <a class="code" href="../../d1/dbe/ash_8c.html#ab32ce6c513b0f9a93146cbd4b173a0bf">DOWAIT_NONBLOCK</a>, jp);</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;    <span class="keywordflow">if</span> (!jp)</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a>;</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160; </div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;    <a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad87a6daf9c118cfe14c5adc6164627b">getstatus</a>(jp);</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;    <span class="keywordflow">if</span> (jp-&gt;jobctl) {</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;        xtcsetpgrp(ttyfd, <a class="code" href="../../d1/dbe/ash_8c.html#ac3e2ce87919bfafa74665637d5e32f8a">rootpid</a>);</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a625b98fa8b8344c4300b568da223a328">restore_tty_if_stopped_or_signaled</a>(jp);</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160; </div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;<span class="comment">         * This is truly gross.</span></div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;<span class="comment">         * If we&#39;re doing job control, then we did a TIOCSPGRP which</span></div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;<span class="comment">         * caused us (the shell) to no longer be in the controlling</span></div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;<span class="comment">         * session -- so we wouldn&#39;t have seen any ^C/SIGINT.  So, we</span></div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;<span class="comment">         * intuit from the subprocess exit status whether a SIGINT</span></div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;<span class="comment">         * occurred, and if so interrupt ourselves.  Yuck.  - mycroft</span></div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;        <span class="keywordflow">if</span> (jp-&gt;sigint) <span class="comment">/* TODO: do the same with all signals */</span></div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;            <span class="keyword">raise</span>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>); <span class="comment">/* ... by raise(jp-&gt;sig) instead? */</span></div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;    }</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;    <span class="keywordflow">if</span> (jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> == <a class="code" href="../../d1/dbe/ash_8c.html#adbea944334cc7e0b5f3a416402774451">JOBDONE</a>)</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab91cc6b3c28df1e06d48be61159f355c">freejob</a>(jp);</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a>;</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;}</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160; </div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;<span class="comment"> * return 1 if there are stopped jobs, otherwise 0</span></div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05448"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abde179a3496f1e20d57c91c873fdb808"> 5448</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#abde179a3496f1e20d57c91c873fdb808">stoppedjobs</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;{</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp;</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>;</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160; </div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = 0;</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a> || <a class="code" href="../../d1/dbe/ash_8c.html#a5eb4ad560d39a0c59e3e1fe36078ec5a">job_warning</a>)</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;    jp = <a class="code" href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a>;</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;    <span class="keywordflow">if</span> (jp &amp;&amp; jp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">state</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a997614b2b2b1f3b8d60c064b412e4bbb">JOBSTOPPED</a>) {</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad41387932da6f74836f39a196a96519c">out2str</a>(<span class="stringliteral">&quot;You have stopped jobs.\n&quot;</span>);</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5eb4ad560d39a0c59e3e1fe36078ec5a">job_warning</a> = 2;</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>++;</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;    }</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>;</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;}</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160; </div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160; </div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;<span class="comment"> * Code for dealing with input/output redirection.</span></div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160; </div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;<span class="preprocessor">#undef EMPTY</span></div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;<span class="preprocessor">#undef CLOSED</span></div>
<div class="line"><a name="l05473"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2b7cf2a3641be7b89138615764d60ba3"> 5473</a></span>&#160;<span class="preprocessor">#define EMPTY -2                </span><span class="comment">/* marks an unused slot in redirtab */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l05474"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad6664b6aa0b2ec18771fe01aefa1e760"> 5474</a></span>&#160;<span class="preprocessor">#define CLOSED -1               </span><span class="comment">/* marks a slot of previously-closed fd */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160; </div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;<span class="comment"> * Handle here documents.  Normally we fork off a process to write the</span></div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;<span class="comment"> * data to a pipe.  If the document is short, we can stuff the data in</span></div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;<span class="comment"> * the pipe without forking.</span></div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;<span class="comment">/* openhere needs this forward reference */</span></div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a21d8033795cbd57c21d4d5461347d63d">expandhere</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>);</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05484"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad51c75ea64cae440adfe60d0e33a369b"> 5484</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ad51c75ea64cae440adfe60d0e33a369b">openhere</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>)</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;{</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;    <span class="keywordtype">int</span> pip[2];</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = 0;</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160; </div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a5bbe9b13d3f147dcc5b872a5cf70e9a1">pipe</a>(pip) &lt; 0)</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a>(<span class="stringliteral">&quot;can&#39;t create pipe&quot;</span>);</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160; </div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nhere.doc-&gt;narg.text;</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;type == <a class="code" href="../../d1/dbe/ash_8c.html#adea9843b5ff4954b14afa07a09340091">NXHERE</a>) {</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a21d8033795cbd57c21d4d5461347d63d">expandhere</a>(<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nhere.doc);</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;    }</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160; </div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &lt;= <a class="code" href="../../d1/dbe/ash_8c.html#ad2c1c798d36bdba42d5f4d50da5ae200">PIPE_BUF</a>) {</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a406e6e7d1c51da582c1e82632b1f2bce">xwrite</a>(pip[1], <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;    }</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160; </div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a2909724c5cc1419ade6041cbf8d98636">forkshell</a>((<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, (<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a84b424383676aac169bef6049c731d87">FORK_NOJOB</a>) == 0) {</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;        <span class="comment">/* child */</span></div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pip[0]);</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6e271f93b68c9908c90607fcb4ef001a">ignoresig</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>);  <span class="comment">//signal(SIGINT, SIG_IGN);</span></div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6e271f93b68c9908c90607fcb4ef001a">ignoresig</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a62045b465be11891160d53c10861b16c">SIGQUIT</a>); <span class="comment">//signal(SIGQUIT, SIG_IGN);</span></div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6e271f93b68c9908c90607fcb4ef001a">ignoresig</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a136c64ec2d1306de745e39d6aee362ca">SIGHUP</a>);  <span class="comment">//signal(SIGHUP, SIG_IGN);</span></div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6e271f93b68c9908c90607fcb4ef001a">ignoresig</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#abe65c086e01f0d286b7a785a7e3cdd1a">SIGTSTP</a>); <span class="comment">//signal(SIGTSTP, SIG_IGN);</span></div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;        <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#a6fc82cd60ac4b31003cf10983a4d5cde">signal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a57e9c8c5fa13bf86bc779a9f6f408b7c">SIGPIPE</a>, <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#a27d5dc561093d6243542e6a2465bc0f8">SIG_DFL</a>);</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a406e6e7d1c51da582c1e82632b1f2bce">xwrite</a>(pip[1], <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a6a348efdbef0f748166f8a204b05ec0a">_exit_SUCCESS</a>();</div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;    }</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pip[1]);</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;    <span class="keywordflow">return</span> pip[0];</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;}</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160; </div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05522"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac6164e294c4bb16efb9a105ef47612a1"> 5522</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac6164e294c4bb16efb9a105ef47612a1">openredirect</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>)</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;{</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> sb;</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>;</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a>;</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160; </div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.type) {</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;<span class="comment">/* Can&#39;t happen, our single caller does this itself */</span></div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;<span class="comment">//  case NTOFD:</span></div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;<span class="comment">//  case NFROMFD:</span></div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;<span class="comment">//      return -1;</span></div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad0f81540b8a0b9ef1e2747fb93898460">NHERE</a>:</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#adea9843b5ff4954b14afa07a09340091">NXHERE</a>:</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad51c75ea64cae440adfe60d0e33a369b">openhere</a>(<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>);</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;    }</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160; </div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;    <span class="comment">/* For N[X]HERE, reading redir-&gt;nfile.expfname would touch beyond</span></div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;<span class="comment">     * allocated space. Do it only when we know it is safe.</span></div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;    <a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a> = <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.expfname;</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160; </div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.type) {</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;        <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a>();</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aefcff7735123e7551631570d3bbb418f">NFROM</a>:</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;        <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(<a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>);</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> &lt; 0)</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;            <span class="keywordflow">goto</span> eopen;</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa5fc21dad7ff6ca79ff1e9c481b33787">NFROMTO</a>:</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;        <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(<a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>|<a class="code" href="../../d1/d85/filesystem_8hpp.html#a1cf6b1de1fffedaa1d26b189e9a8d2cc">O_CREAT</a>, 0666);</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> &lt; 0)</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;            <span class="keywordflow">goto</span> ecreate;</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a658038e4a47dea3db2c5ab2a3446e02a">NTO</a>:</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;    <span class="keywordflow">case</span> NTO2:</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;        <span class="comment">/* Take care of noclobber mode. */</span></div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a121633c99627be34c130e5240aaee150">Cflag</a>) {</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a>(<a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>, &amp;sb) &lt; 0) {</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;                <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(<a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a11b644a8526139c4cc1850dac1271ced">O_WRONLY</a>|<a class="code" href="../../d1/d85/filesystem_8hpp.html#a1cf6b1de1fffedaa1d26b189e9a8d2cc">O_CREAT</a>|<a class="code" href="../../d1/d85/filesystem_8hpp.html#a9f5acfe79fafe14b6694447bd0e9f10b">O_EXCL</a>, 0666);</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> &lt; 0)</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;                    <span class="keywordflow">goto</span> ecreate;</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d85/filesystem_8hpp.html#aad0f32c2c182238f2ff71c83e6ab65a0">S_ISREG</a>(sb.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a>)) {</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;                <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(<a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a11b644a8526139c4cc1850dac1271ced">O_WRONLY</a>, 0666);</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> &lt; 0)</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;                    <span class="keywordflow">goto</span> ecreate;</div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#a27628bfab8ccdd0fdeed6778b25cd734">fstat</a>(<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a>, &amp;sb) &amp;&amp; <a class="code" href="../../d1/d85/filesystem_8hpp.html#aad0f32c2c182238f2ff71c83e6ab65a0">S_ISREG</a>(sb.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a>)) {</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;                    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a>);</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;                    <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> = <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a0a3bef9e5c47e42917692b5dae3b5498">EEXIST</a>;</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;                    <span class="keywordflow">goto</span> ecreate;</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;                }</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;                <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> = <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a0a3bef9e5c47e42917692b5dae3b5498">EEXIST</a>;</div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;                <span class="keywordflow">goto</span> ecreate;</div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;            }</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;        }</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;        <span class="comment">/* FALLTHROUGH */</span></div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a044ff0b816ace1617b5a80ef22042484">NCLOBBER</a>:</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;        <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(<a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a11b644a8526139c4cc1850dac1271ced">O_WRONLY</a>|<a class="code" href="../../d1/d85/filesystem_8hpp.html#a1cf6b1de1fffedaa1d26b189e9a8d2cc">O_CREAT</a>|<a class="code" href="../../d1/d85/filesystem_8hpp.html#ad1d67e453fb3031f40f8cd3403773813">O_TRUNC</a>, 0666);</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> &lt; 0)</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;            <span class="keywordflow">goto</span> ecreate;</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7e16466b836f34200e785c653b136dcf">NAPPEND</a>:</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;        <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(<a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a11b644a8526139c4cc1850dac1271ced">O_WRONLY</a>|<a class="code" href="../../d1/d85/filesystem_8hpp.html#a1cf6b1de1fffedaa1d26b189e9a8d2cc">O_CREAT</a>|<a class="code" href="../../d1/d85/filesystem_8hpp.html#ae036f789407d21f07b211552d67b3214">O_APPEND</a>, 0666);</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> &lt; 0)</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;            <span class="keywordflow">goto</span> ecreate;</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;    }</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160; </div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a>;</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160; ecreate:</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;can&#39;t create %s: %s&quot;</span>, <a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a971bed606674f492145ee75af6557f7a">errmsg</a>(<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a>, <span class="stringliteral">&quot;nonexistent directory&quot;</span>));</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160; eopen:</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;can&#39;t open %s: %s&quot;</span>, <a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a971bed606674f492145ee75af6557f7a">errmsg</a>(<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a>, <span class="stringliteral">&quot;no such file&quot;</span>));</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;}</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160; </div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;<span class="comment"> * Copy a file descriptor to be &gt;= 10. Throws exception on error.</span></div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05607"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a04e7065f1dafa4244d9aa37c0cc59a58"> 5607</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a04e7065f1dafa4244d9aa37c0cc59a58">savefd</a>(<span class="keywordtype">int</span> from)</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;{</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;    <span class="keywordtype">int</span> newfd;</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160; </div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;    newfd = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a>(from, <a class="code" href="../../d1/dbe/ash_8c.html#af532232f0b65dc6296aedd2b60de7285">F_DUPFD_CLOEXEC</a>, 10);</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;    <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> = newfd &lt; 0 ? <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> : 0;</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> != <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>) {</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>)</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a>(<span class="stringliteral">&quot;%d&quot;</span>, from);</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(from);</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af532232f0b65dc6296aedd2b60de7285">F_DUPFD_CLOEXEC</a> == <a class="code" href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#ab93a8621587aba90181efd7d3aeea67e">F_DUPFD</a>)</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a10d406bcbbd961accf0b4a5be8500cc2">close_on_exec_on</a>(newfd);</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;    }</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160; </div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;    <span class="keywordflow">return</span> newfd;</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;}</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05625"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0d60fe32daa97ee393ce5a346f96c3b9"> 5625</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a0d60fe32daa97ee393ce5a346f96c3b9">dup2_or_raise</a>(<span class="keywordtype">int</span> from, <span class="keywordtype">int</span> to)</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;{</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;    <span class="keywordtype">int</span> newfd;</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160; </div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;    newfd = (from != to) ? <a class="code" href="../../d9/d9c/oslib_8c.html#a4ce97c88892c43f0e127dd3a6dc54b96">dup2</a>(from, to) : to;</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;    <span class="keywordflow">if</span> (newfd &lt; 0) {</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;        <span class="comment">/* Happens when source fd is not open: try &quot;echo &gt;&amp;99&quot; */</span></div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a>(<span class="stringliteral">&quot;%d&quot;</span>, from);</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;    }</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;    <span class="keywordflow">return</span> newfd;</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;}</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05637"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad61e191cd972877c0f5575ffabaaa78a"> 5637</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ad61e191cd972877c0f5575ffabaaa78a">dup_CLOEXEC</a>(<span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <span class="keywordtype">int</span> avoid_fd)</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;{</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;    <span class="keywordtype">int</span> newfd;</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160; repeat:</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;    newfd = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d1/dbe/ash_8c.html#af532232f0b65dc6296aedd2b60de7285">F_DUPFD_CLOEXEC</a>, avoid_fd + 1);</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;    <span class="keywordflow">if</span> (newfd &gt;= 0) {</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af532232f0b65dc6296aedd2b60de7285">F_DUPFD_CLOEXEC</a> == <a class="code" href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#ab93a8621587aba90181efd7d3aeea67e">F_DUPFD</a>) <span class="comment">/* if old libc (w/o F_DUPFD_CLOEXEC) */</span></div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a10d406bcbbd961accf0b4a5be8500cc2">close_on_exec_on</a>(newfd);</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">/* newfd &lt; 0 */</span></div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a8368025077a0385849d6817b2007c095">EBUSY</a>)</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;            <span class="keywordflow">goto</span> repeat;</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a46b83d9f6c23b1b65a8cecfd775ddaed">EINTR</a>)</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;            <span class="keywordflow">goto</span> repeat;</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;    }</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;    <span class="keywordflow">return</span> newfd;</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;}</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05654"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8a7001b50718e5410bdadb8f07732ecc"> 5654</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8a7001b50718e5410bdadb8f07732ecc">xdup_CLOEXEC_and_close</a>(<span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <span class="keywordtype">int</span> avoid_fd)</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;{</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;    <span class="keywordtype">int</span> newfd;</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160; repeat:</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;    newfd = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d1/dbe/ash_8c.html#af532232f0b65dc6296aedd2b60de7285">F_DUPFD_CLOEXEC</a>, avoid_fd + 1);</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;    <span class="keywordflow">if</span> (newfd &lt; 0) {</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a8368025077a0385849d6817b2007c095">EBUSY</a>)</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;            <span class="keywordflow">goto</span> repeat;</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a46b83d9f6c23b1b65a8cecfd775ddaed">EINTR</a>)</div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;            <span class="keywordflow">goto</span> repeat;</div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;        <span class="comment">/* fd was not open? */</span></div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>)</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a>(<span class="stringliteral">&quot;%d&quot;</span>, newfd);</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;    }</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af532232f0b65dc6296aedd2b60de7285">F_DUPFD_CLOEXEC</a> == <a class="code" href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#ab93a8621587aba90181efd7d3aeea67e">F_DUPFD</a>)</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a10d406bcbbd961accf0b4a5be8500cc2">close_on_exec_on</a>(newfd);</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;    <span class="keywordflow">return</span> newfd;</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;}</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160; </div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;<span class="comment">/* Struct def and variable are moved down to the first usage site */</span></div>
<div class="line"><a name="l05676"></a><span class="lineno"><a class="line" href="../../d6/d90/hush_8c.html"> 5676</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d6/d90/hush_8c.html#d2/d6c/structsquirrel">squirrel</a> {</div>
<div class="line"><a name="l05677"></a><span class="lineno"><a class="line" href="../../d6/d90/hush_8c.html#a68a6fe9a6bebef00e2d95656549a9fc9"> 5677</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d90/hush_8c.html#a68a6fe9a6bebef00e2d95656549a9fc9">orig_fd</a>;</div>
<div class="line"><a name="l05678"></a><span class="lineno"><a class="line" href="../../d6/d90/hush_8c.html#a3ddfa830342505fb06ef18baded22976"> 5678</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d90/hush_8c.html#a3ddfa830342505fb06ef18baded22976">moved_to</a>;</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;};</div>
<div class="line"><a name="l05680"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 5680</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a> {</div>
<div class="line"><a name="l05681"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af41f62ae2962bc6044f208d8d4fc1e08"> 5681</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a> *<a class="code" href="../../d1/dbe/ash_8c.html#af41f62ae2962bc6044f208d8d4fc1e08">next</a>;</div>
<div class="line"><a name="l05682"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a325d05a9ae50a45416f9b32d0deb85e6"> 5682</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a325d05a9ae50a45416f9b32d0deb85e6">pair_count</a>;</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d90/hush_8c.html#d2/d6c/structsquirrel">squirrel</a> <a class="code" href="../../d1/dbe/ash_8c.html#a84ae7a505bb9355836849d1c05de51f1">two_fd</a>[];</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;};</div>
<div class="line"><a name="l05685"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0"> 5685</a></span>&#160;<span class="preprocessor">#define redirlist (G_var.redirlist)</span></div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160; </div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l05688"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afd5a04c578932621aa48c7acd81e5c4e"> 5688</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#afd5a04c578932621aa48c7acd81e5c4e">add_squirrel_closed</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a> *<a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>, <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>)</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;{</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160; </div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>)</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160; </div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].orig_fd != <a class="code" href="../../d1/dbe/ash_8c.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;        <span class="comment">/* If we collide with an already moved fd... */</span></div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> == <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].orig_fd) {</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;            <span class="comment">/* Examples:</span></div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;<span class="comment">             * &quot;echo 3&gt;FILE 3&gt;&amp;- 3&gt;FILE&quot;</span></div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;<span class="comment">             * &quot;echo 3&gt;&amp;- 3&gt;FILE&quot;</span></div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;<span class="comment">             * No need for last redirect to insert</span></div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;<span class="comment">             * another &quot;need to close 3&quot; indicator.</span></div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;redirect_fd %d: already moved or closed\n&quot;</span>, <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>));</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;        }</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;    }</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;redirect_fd %d: previous fd was closed\n&quot;</span>, <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>));</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;    <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].orig_fd = <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;    <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].moved_to = <a class="code" href="../../d1/dbe/ash_8c.html#ad6664b6aa0b2ec18771fe01aefa1e760">CLOSED</a>;</div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;}</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160; </div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05714"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae122fc4defd21d005624d66046343d11"> 5714</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ae122fc4defd21d005624d66046343d11">save_fd_on_redirect</a>(<span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <span class="keywordtype">int</span> avoid_fd, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a> *<a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>)</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;{</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, new_fd;</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160; </div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;    <span class="keywordflow">if</span> (avoid_fd &lt; 9) <span class="comment">/* the important case here is that it can be -1 */</span></div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;        avoid_fd = 9;</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160; </div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> == ttyfd) {</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;        <span class="comment">/* Testcase: &quot;ls -l /proc/$$/fd 10&gt;&amp;-&quot; should work */</span></div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;        ttyfd = <a class="code" href="../../d1/dbe/ash_8c.html#a8a7001b50718e5410bdadb8f07732ecc">xdup_CLOEXEC_and_close</a>(ttyfd, avoid_fd);</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;redirect_fd %d: matches ttyfd, moving it to %d\n&quot;</span>, <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, ttyfd));</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;        <span class="keywordflow">return</span> 1; <span class="comment">/* &quot;we closed fd&quot; */</span></div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;    }</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;    <span class="comment">/* Are we called from redirect(0)? E.g. redirect</span></div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;<span class="comment">     * in a forked child. No need to save fds,</span></div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;<span class="comment">     * we aren&#39;t going to use them anymore, ok to trash.</span></div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>)</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160; </div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;    <span class="comment">/* If this one of script&#39;s fds? */</span></div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> != 0) {</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a> *pf = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>;</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;        <span class="keywordflow">while</span> (pf) {</div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;            <span class="comment">/* We skip fd == 0 case because of the following:</span></div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;<span class="comment">             * $ ash  # running ash interactively</span></div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;<span class="comment">             * $ . ./script.sh</span></div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;<span class="comment">             * and in script.sh: &quot;exec 9&gt;&amp;0&quot;.</span></div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;<span class="comment">             * Even though top-level pf_fd _is_ 0,</span></div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;<span class="comment">             * it&#39;s still ok to use it: &quot;read&quot; builtin uses it,</span></div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;<span class="comment">             * why should we cripple &quot;exec&quot; builtin?</span></div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> == pf-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a>) {</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;                pf-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8a7001b50718e5410bdadb8f07732ecc">xdup_CLOEXEC_and_close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, avoid_fd);</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;                <span class="keywordflow">return</span> 1; <span class="comment">/* &quot;we closed fd&quot; */</span></div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;            }</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;            pf = pf-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad716fbc2f06aa6731e5d90dc96782308">prev</a>;</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;        }</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;    }</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160; </div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;    <span class="comment">/* Check whether it collides with any open fds (e.g. stdio), save fds as needed */</span></div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160; </div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;    <span class="comment">/* First: do we collide with some already moved fds? */</span></div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].orig_fd != <a class="code" href="../../d1/dbe/ash_8c.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;        <span class="comment">/* If we collide with an already moved fd... */</span></div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> == <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].moved_to) {</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;            new_fd = <a class="code" href="../../d1/dbe/ash_8c.html#ad61e191cd972877c0f5575ffabaaa78a">dup_CLOEXEC</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, avoid_fd);</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;            <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].moved_to = new_fd;</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;redirect_fd %d: already busy, moving to %d\n&quot;</span>, <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, new_fd));</div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;            <span class="keywordflow">if</span> (new_fd &lt; 0) <span class="comment">/* what? */</span></div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a94a607b4c69c9d6883ee67ee8d46aec4">xfunc_die</a>();</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;            <span class="keywordflow">return</span> 0; <span class="comment">/* &quot;we did not close fd&quot; */</span></div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;        }</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> == <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].orig_fd) {</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;            <span class="comment">/* Example: echo Hello &gt;/dev/null 1&gt;&amp;2 */</span></div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;redirect_fd %d: already moved\n&quot;</span>, <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>));</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;            <span class="keywordflow">return</span> 0; <span class="comment">/* &quot;we did not close fd&quot; */</span></div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;        }</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;    }</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160; </div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;    <span class="comment">/* If this fd is open, we move and remember it; if it&#39;s closed, new_fd = CLOSED (-1) */</span></div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;    new_fd = <a class="code" href="../../d1/dbe/ash_8c.html#ad61e191cd972877c0f5575ffabaaa78a">dup_CLOEXEC</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, avoid_fd);</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;redirect_fd %d: previous fd is moved to %d (-1 if it was closed)\n&quot;</span>, <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, new_fd));</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;    <span class="keywordflow">if</span> (new_fd &lt; 0) {</div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> != <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>)</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a94a607b4c69c9d6883ee67ee8d46aec4">xfunc_die</a>();</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;        <span class="comment">/* new_fd = CLOSED; - already is -1 */</span></div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;    }</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;    <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].moved_to = new_fd;</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;    <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].orig_fd = <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160; </div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;    <span class="comment">/* if we move stderr, let &quot;set -x&quot; code know */</span></div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a2abe87c109c6ab3e823df89abcdd474d">preverrout_fd</a>)</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a2abe87c109c6ab3e823df89abcdd474d">preverrout_fd</a> = new_fd;</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160; </div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;    <span class="keywordflow">return</span> 0; <span class="comment">/* &quot;we did not close fd&quot; */</span></div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;}</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160; </div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05795"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7beaf4b87048c8243080a02de539eef4"> 5795</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a7beaf4b87048c8243080a02de539eef4">internally_opened_fd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a> *<a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>)</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;{</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> == ttyfd)</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;    <span class="comment">/* If this one of script&#39;s fds? */</span></div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> != 0) {</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a> *pf = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>;</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;        <span class="keywordflow">while</span> (pf) {</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> == pf-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a>)</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;                <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;            pf = pf-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad716fbc2f06aa6731e5d90dc96782308">prev</a>;</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;        }</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;    }</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160; </div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>) <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;pair_count &amp;&amp; <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].orig_fd != <a class="code" href="../../d1/dbe/ash_8c.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> == <a class="code" href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].moved_to)</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;    }</div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;}</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160; </div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;<span class="comment"> * Process a list of redirection commands.  If the REDIR_PUSH flag is set,</span></div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;<span class="comment"> * old file descriptors are stashed away so that the redirection can be</span></div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;<span class="comment"> * undone by calling popredir.</span></div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;<span class="comment">/* flags passed to redirect */</span></div>
<div class="line"><a name="l05825"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a98a2edb1ca7387b7963a47bd3d33c0a3"> 5825</a></span>&#160;<span class="preprocessor">#define REDIR_PUSH    01        </span><span class="comment">/* save previous values of file descriptors */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l05827"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a86dba0628295ef2cbe51568e4a8b902a"> 5827</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a86dba0628295ef2cbe51568e4a8b902a">redirect</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;{</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a> *<a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>;</div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160; </div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>)</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160; </div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;    <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a98a2edb1ca7387b7963a47bd3d33c0a3">REDIR_PUSH</a>)</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;        <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0">redirlist</a>;</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;        <span class="keywordtype">int</span> newfd;</div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;        <span class="keywordtype">int</span> close_fd;</div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;        <span class="keywordtype">int</span> closed;</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160; </div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;        <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.fd;</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.type == <a class="code" href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">NTOFD</a> || <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.type == <a class="code" href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">NFROMFD</a>) {</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;            <span class="comment">//bb_error_msg(&quot;doing %d &gt; %d&quot;, fd, newfd);</span></div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;            newfd = <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;ndup.dupfd;</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;            close_fd = -1;</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;            newfd = <a class="code" href="../../d1/dbe/ash_8c.html#ac6164e294c4bb16efb9a105ef47612a1">openredirect</a>(<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>); <span class="comment">/* always &gt;= 0 */</span></div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> == newfd) {</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;                <span class="comment">/* open() gave us precisely the fd we wanted.</span></div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;<span class="comment">                 * This means that this fd was not busy</span></div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;<span class="comment">                 * (not opened to anywhere).</span></div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;<span class="comment">                 * Remember to close it on restore:</span></div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#afd5a04c578932621aa48c7acd81e5c4e">add_squirrel_closed</a>(<a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>, <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;            }</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;            close_fd = newfd;</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;        }</div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160; </div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> == newfd)</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160; </div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;        <span class="comment">/* if &quot;N&gt;FILE&quot;: move newfd to fd */</span></div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;        <span class="comment">/* if &quot;N&gt;&amp;M&quot;: dup newfd to fd */</span></div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;        <span class="comment">/* if &quot;N&gt;&amp;-&quot;: close fd (newfd is -1) */</span></div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160; </div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160; <a class="code" href="../../d1/dbe/ash_8c.html#a044f5a510db9c9bc10cf77e7c77de9f6">IF_BASH_REDIR_OUTPUT</a>(redirect_more:)</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160; </div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;        closed = <a class="code" href="../../d1/dbe/ash_8c.html#ae122fc4defd21d005624d66046343d11">save_fd_on_redirect</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <span class="comment">/*avoid:*/</span> newfd, <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>);</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;        <span class="keywordflow">if</span> (newfd == -1) {</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;            <span class="comment">/* &quot;N&gt;&amp;-&quot; means &quot;close me&quot; */</span></div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;            <span class="keywordflow">if</span> (!closed) {</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;                <span class="comment">/* ^^^ optimization: saving may already</span></div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;<span class="comment">                 * have closed it. If not... */</span></div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;                <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;            }</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;            <span class="comment">/* if newfd is a script fd or saved fd, simulate EBADF */</span></div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a7beaf4b87048c8243080a02de539eef4">internally_opened_fd</a>(newfd, <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>)) {</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;                <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> = <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a>;</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a>(<span class="stringliteral">&quot;%d&quot;</span>, newfd);</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;            }</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a0d60fe32daa97ee393ce5a346f96c3b9">dup2_or_raise</a>(newfd, <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;            <span class="keywordflow">if</span> (close_fd &gt;= 0) <span class="comment">/* &quot;N&gt;FILE&quot; or &quot;&gt;&amp;FILE&quot; or heredoc? */</span></div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;                <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(close_fd);</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.type == NTO2 &amp;&amp; <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> == 1) {</div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;                <span class="comment">/* &quot;&gt;&amp;FILE&quot;. we already redirected to 1, now copy 1 to 2 */</span></div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;                <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = 2;</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;                newfd = 1;</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;                close_fd = -1;</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;                <span class="keywordflow">goto</span> redirect_more;</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;            }</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;        }</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;    } <span class="keywordflow">while</span> ((<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a> = <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.next) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160; </div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;<span class="comment">//dash:#define REDIR_SAVEFD2 03        /* set preverrout */</span></div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;<span class="preprocessor">#define REDIR_SAVEFD2 0</span></div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;    <span class="comment">// dash has a bug: since REDIR_SAVEFD2=3 and REDIR_PUSH=1, this test</span></div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;    <span class="comment">// triggers for pure REDIR_PUSH too. Thus, this is done almost always,</span></div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;    <span class="comment">// not only for calls with flags containing REDIR_SAVEFD2.</span></div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;    <span class="comment">// We do this unconditionally (see save_fd_on_redirect()).</span></div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;    <span class="comment">//if ((flags &amp; REDIR_SAVEFD2) &amp;&amp; copied_fd2 &gt;= 0)</span></div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;    <span class="comment">//  preverrout_fd = copied_fd2;</span></div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;}</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160; </div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l05913"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a448831f55169c4888c8875859c82b6f9"> 5913</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a448831f55169c4888c8875859c82b6f9">redirectsafe</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;{</div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;    <span class="keyword">volatile</span> <span class="keywordtype">int</span> saveint;</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> *<span class="keyword">volatile</span> savehandler = <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a>;</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> <a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160; </div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a18fdee34289a7124cc3f568d0e4ffc8f">SAVE_INT</a>(saveint);</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;    <span class="comment">/* &quot;echo 9&gt;/dev/null; echo &gt;&amp;9; echo result: $?&quot; - result should be 1, not 2! */</span></div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;    <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> = <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#ac7cd296b63b31ab3d8cd447e40d0eedc">setjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>.<a class="code" href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">loc</a>); <span class="comment">/* was = setjmp(jmploc.loc) * 2; */</span></div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>) {</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a86dba0628295ef2cbe51568e4a8b902a">redirect</a>(<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;    }</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = savehandler;</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9feaa234caa149c15b556505f2a015db">exception_type</a> != <a class="code" href="../../d1/dbe/ash_8c.html#ade601d2771be2d1ffb456155112dcca6">EXERROR</a>)</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;        <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#aaf56e20169cc5a6d5c1a968e24d04623">longjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a>-&gt;loc, 1);</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab40d52cb237f1ea90b56d18a93e00ef9">RESTORE_INT</a>(saveint);</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;}</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160; </div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;pushfd(<span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>)</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;{</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a> *<a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>;</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160; </div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;    <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>) + <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>-&gt;two_fd[0]));</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;    <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>-&gt;pair_count = 1;</div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;    <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>-&gt;two_fd[0].orig_fd = <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;    <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>-&gt;two_fd[0].moved_to = <a class="code" href="../../d1/dbe/ash_8c.html#ad6664b6aa0b2ec18771fe01aefa1e760">CLOSED</a>;</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;    <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>-&gt;next = <a class="code" href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0">redirlist</a>;</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0">redirlist</a> = <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>;</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;}</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160; </div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a>*</div>
<div class="line"><a name="l05950"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6b5397c22cc4cdc86aca806d3d8233fb"> 5950</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a6b5397c22cc4cdc86aca806d3d8233fb">pushredir</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>)</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;{</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a> *<a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>;</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160; </div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>)</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0">redirlist</a>;</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160; </div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;    <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0;</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;        <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++;</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.type == NTO2)</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;            <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++;</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;        <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a> = <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.next;</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>);</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160; </div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;    <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>) + <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> * <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>-&gt;two_fd[0]));</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;    <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>-&gt;pair_count = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;    <span class="keywordflow">while</span> (--<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &gt;= 0)</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;        <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].orig_fd = <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>-&gt;two_fd[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].moved_to = <a class="code" href="../../d1/dbe/ash_8c.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>;</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;    <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>-&gt;next = <a class="code" href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0">redirlist</a>;</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0">redirlist</a> = <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>;</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a>-&gt;next;</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;}</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160; </div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;<span class="comment"> * Undo the effects of the last redirection.</span></div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l05981"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8c28a51cd6fa34a658d90aec943ee2a6"> 5981</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8c28a51cd6fa34a658d90aec943ee2a6">popredir</a>(<span class="keywordtype">int</span> drop)</div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;{</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a> *rp;</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160; </div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0">redirlist</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;    rp = <a class="code" href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0">redirlist</a>;</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; rp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a325d05a9ae50a45416f9b32d0deb85e6">pair_count</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = rp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a84ae7a505bb9355836849d1c05de51f1">two_fd</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].<a class="code" href="../../d6/d90/hush_8c.html#a68a6fe9a6bebef00e2d95656549a9fc9">orig_fd</a>;</div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;        <span class="keywordtype">int</span> copy = rp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a84ae7a505bb9355836849d1c05de51f1">two_fd</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].<a class="code" href="../../d6/d90/hush_8c.html#a3ddfa830342505fb06ef18baded22976">moved_to</a>;</div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;        <span class="keywordflow">if</span> (copy == <a class="code" href="../../d1/dbe/ash_8c.html#ad6664b6aa0b2ec18771fe01aefa1e760">CLOSED</a>) {</div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;            <span class="keywordflow">if</span> (!drop)</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;                <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;        }</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;        <span class="keywordflow">if</span> (copy != <a class="code" href="../../d1/dbe/ash_8c.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>) {</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;            <span class="keywordflow">if</span> (!drop) {</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;                <span class="comment">/*close(fd);*/</span></div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a0d60fe32daa97ee393ce5a346f96c3b9">dup2_or_raise</a>(copy, <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;            }</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(copy);</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;        }</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;    }</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0">redirlist</a> = rp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af41f62ae2962bc6044f208d8d4fc1e08">next</a>;</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(rp);</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;}</div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160; </div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l06012"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a343fdec5f1d8537b703fbb02d3408856"> 6012</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a343fdec5f1d8537b703fbb02d3408856">unwindredir</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a> *<a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>)</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;{</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0">redirlist</a> != <a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>)</div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8c28a51cd6fa34a658d90aec943ee2a6">popredir</a>(<span class="comment">/*drop:*/</span> 0);</div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;}</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160; </div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160; </div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;<span class="comment">/* ============ Routines to expand arguments to commands</span></div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;<span class="comment"> * We have to deal with backquotes, shell variables, and file metacharacters.</span></div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160; </div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;<span class="keyword">static</span> <a class="code" href="../../da/deb/busybox_2coreutils_2expr_8c.html#acb53d55632fab5ebfafa813740b488ab">arith_t</a></div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;ash_arith(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;{</div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;    <a class="code" href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h.html#da/d4c/structarith__state__t">arith_state_t</a> math_state;</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;    <a class="code" href="../../da/deb/busybox_2coreutils_2expr_8c.html#acb53d55632fab5ebfafa813740b488ab">arith_t</a> result;</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160; </div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;    math_state.<a class="code" href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h.html#a2168f91910cef6e85c6f2bc07083f4e9">lookupvar</a> = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>;</div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;    math_state.<a class="code" href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h.html#aa8470f4f1dea353d9e44c4e7d016e63b">setvar</a>    = <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>;</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;    <span class="comment">//math_state.endofname = endofname;</span></div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160; </div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;    result = <a class="code" href="../../d6/da3/math_8c.html#a6409d948329459455a2e2c41b1b0b650">arith</a>(&amp;math_state, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;    <span class="keywordflow">if</span> (math_state.<a class="code" href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h.html#a50e33792d62a2b783b1066331b70dd1f">errmsg</a>)</div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(math_state.<a class="code" href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h.html#a50e33792d62a2b783b1066331b70dd1f">errmsg</a>);</div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160; </div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;}</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;<span class="preprocessor">#if BASH_SUBSTR</span></div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> substr_atoi(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;{</div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;    <a class="code" href="../../da/deb/busybox_2coreutils_2expr_8c.html#acb53d55632fab5ebfafa813740b488ab">arith_t</a> <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = ash_arith(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>) &gt; <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)) {</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;        <span class="comment">/* clamp very large or very large negative nums for ${v:N:M}:</span></div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;<span class="comment">         * else &quot;${v:0:0x100000001}&quot; would work as &quot;${v:0:1}&quot;</span></div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> &gt; <a class="code" href="../../d4/df4/Kernel_2include__std_2limits_8h.html#a9ec306f36d50c7375e74f0d1c55a3a67">INT_MAX</a>)</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;            <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d4/df4/Kernel_2include__std_2limits_8h.html#a9ec306f36d50c7375e74f0d1c55a3a67">INT_MAX</a>;</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> &lt; <a class="code" href="../../d4/df4/Kernel_2include__std_2limits_8h.html#a21658776274b3d146c674318b635a334">INT_MIN</a>)</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;            <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d4/df4/Kernel_2include__std_2limits_8h.html#a21658776274b3d146c674318b635a334">INT_MIN</a>;</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;    }</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;}</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;<span class="preprocessor">#  define substr_atoi(s) number(s)</span></div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160; </div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;<span class="comment"> * expandarg flags</span></div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06068"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad93fac6975049cf96d7989ffad986cc4"> 6068</a></span>&#160;<span class="preprocessor">#define EXP_FULL        0x1     </span><span class="comment">/* perform word splitting &amp; file globbing */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06069"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda"> 6069</a></span>&#160;<span class="preprocessor">#define EXP_TILDE       0x2     </span><span class="comment">/* do normal tilde expansion */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06070"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6a659747fe58eef51d8e86d19ca4af05"> 6070</a></span>&#160;<span class="preprocessor">#define EXP_VARTILDE    0x4     </span><span class="comment">/* expand tildes in an assignment */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06071"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a65fce591627ff8afad03208e9a7e0cee"> 6071</a></span>&#160;<span class="preprocessor">#define EXP_REDIR       0x8     </span><span class="comment">/* file glob for a redirection (1 match only) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;<span class="comment">/* ^^^^^^^^^^^^^^ this is meant to support constructs such as &quot;cmd &gt;file*.txt&quot;</span></div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;<span class="comment"> * POSIX says for this case:</span></div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;<span class="comment"> *  Pathname expansion shall not be performed on the word by a</span></div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;<span class="comment"> *  non-interactive shell; an interactive shell may perform it, but shall</span></div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;<span class="comment"> *  do so only when the expansion would result in one word.</span></div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;<span class="comment"> * Currently, our code complies to the above rule by never globbing</span></div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;<span class="comment"> * redirection filenames.</span></div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;<span class="comment"> * Bash performs globbing, unless it is non-interactive and in POSIX mode.</span></div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;<span class="comment"> * (this means that on a typical Linux distro, bash almost always</span></div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;<span class="comment"> * performs globbing, and thus diverges from what we do).</span></div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06083"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a53b57e2df12643ccb283dc689a7ae384"> 6083</a></span>&#160;<span class="preprocessor">#define EXP_CASE        0x10    </span><span class="comment">/* keeps quotes around for CASE pattern */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06084"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6c8645126bcd0410fed8862130144298"> 6084</a></span>&#160;<span class="preprocessor">#define EXP_VARTILDE2   0x20    </span><span class="comment">/* expand tildes after colons only */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06085"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6511eb40f475a23fdadfc358e87c9420"> 6085</a></span>&#160;<span class="preprocessor">#define EXP_WORD        0x40    </span><span class="comment">/* expand word in parameter expansion */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06086"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46"> 6086</a></span>&#160;<span class="preprocessor">#define EXP_QUOTED      0x100   </span><span class="comment">/* expand word in double quotes */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06087"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a81b2b2c45b240c26973db8ade9c149b1"> 6087</a></span>&#160;<span class="preprocessor">#define EXP_KEEPNUL     0x200   </span><span class="comment">/* do not skip NUL characters */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06088"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3"> 6088</a></span>&#160;<span class="preprocessor">#define EXP_DISCARD     0x400   </span><span class="comment">/* discard result of expansion */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160; </div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;<span class="comment"> * rmescape() flags</span></div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06093"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa7c2abff2dba1f2498eadc1fca05db7d"> 6093</a></span>&#160;<span class="preprocessor">#define RMESCAPE_ALLOC  0x1     </span><span class="comment">/* Allocate a new string */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06094"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a97c73dc70eb458579b40916899fe6974"> 6094</a></span>&#160;<span class="preprocessor">#define RMESCAPE_GLOB   0x2     </span><span class="comment">/* Add backslashes for glob */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06095"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8ee7a5cf6352c2da56ffd7c71e4cd374"> 6095</a></span>&#160;<span class="preprocessor">#define RMESCAPE_GROW   0x8     </span><span class="comment">/* Grow strings instead of stalloc */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06096"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa3fe56f62b3738a614cc2ed250a6f5f5"> 6096</a></span>&#160;<span class="preprocessor">#define RMESCAPE_HEAP   0x10    </span><span class="comment">/* Malloc strings instead of stalloc */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160; </div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;<span class="comment">/* Add CTLESC when necessary. */</span></div>
<div class="line"><a name="l06099"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#add5a51c82ed1ebedf307a714d9ccef0f"> 6099</a></span>&#160;<span class="preprocessor">#define QUOTES_ESC     (EXP_FULL | EXP_CASE)</span></div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160; </div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;<span class="comment"> * Structure specifying which parts of the string should be searched</span></div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;<span class="comment"> * for IFS characters.</span></div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06105"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 6105</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/de9/structifsregion">ifsregion</a> {</div>
<div class="line"><a name="l06106"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5"> 6106</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/de9/structifsregion">ifsregion</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>; <span class="comment">/* next region in list */</span></div>
<div class="line"><a name="l06107"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a527f56250d2e6e49d00500f33bb3f331"> 6107</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a527f56250d2e6e49d00500f33bb3f331">begoff</a>;             <span class="comment">/* offset of start of region */</span></div>
<div class="line"><a name="l06108"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5"> 6108</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a>;             <span class="comment">/* offset of end of region */</span></div>
<div class="line"><a name="l06109"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a17d2c424ae44fd36e6dfc3e804cff964"> 6109</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a17d2c424ae44fd36e6dfc3e804cff964">nulonly</a>;            <span class="comment">/* search for nul bytes only */</span></div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;};</div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160; </div>
<div class="line"><a name="l06112"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 6112</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> {</div>
<div class="line"><a name="l06113"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf"> 6113</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>;</div>
<div class="line"><a name="l06114"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e"> 6114</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> **<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a>;</div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;};</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160; </div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;<span class="comment">/* output of current string */</span></div>
<div class="line"><a name="l06118"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf"> 6118</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>;</div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;<span class="comment">/* list of back quote expressions */</span></div>
<div class="line"><a name="l06120"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa7330854f99ccb7aadfcc87ccd020c3e"> 6120</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *<a class="code" href="../../d1/dbe/ash_8c.html#aa7330854f99ccb7aadfcc87ccd020c3e">argbackq</a>;</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;<span class="comment">/* first struct in list of ifs regions */</span></div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/de9/structifsregion">ifsregion</a> <a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>;</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;<span class="comment">/* last struct in list */</span></div>
<div class="line"><a name="l06124"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555"> 6124</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/de9/structifsregion">ifsregion</a> *<a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>;</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;<span class="comment">/* holds expanded arg list */</span></div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> <a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>;</div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160; </div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;<span class="comment"> * Break the argument string into pieces based upon IFS and add the</span></div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;<span class="comment"> * strings to the argument list.  The regions of the string to be</span></div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;<span class="comment"> * searched for IFS characters have been stored by recordregion.</span></div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l06134"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab43933e8f8343de1ae9614101e9cdbef"> 6134</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ab43933e8f8343de1ae9614101e9cdbef">ifsbreakup</a>(<span class="keywordtype">char</span> *<span class="keywordtype">string</span>, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> *<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>)</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;{</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/de9/structifsregion">ifsregion</a> *ifsp;</div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;    <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *ifs, *realifs;</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;    <span class="keywordtype">int</span> ifsspc;</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;    <span class="keywordtype">int</span> nulonly;</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160; </div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;    <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../d6/dec/gm__loop_8c.html#aa03b39c334809f39a10a82e201e43f10">string</a>;</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;        ifsspc = 0;</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;        nulonly = 0;</div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;        realifs = <a class="code" href="../../d1/dbe/ash_8c.html#acd3e2ca36650d357e00ffca1ae1a4781">ifsset</a>() ? <a class="code" href="../../d1/dbe/ash_8c.html#ae6710df2501efb4611fc9568466e060d">ifsval</a>() : <a class="code" href="../../d3/de6/shell__common_8h.html#a784a5162f09c72f5889b012596306bfb">defifs</a>;</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;        ifsp = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>;</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;            <span class="keywordtype">int</span> afternul;</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160; </div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="keywordtype">string</span> + ifsp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a527f56250d2e6e49d00500f33bb3f331">begoff</a>;</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;            afternul = nulonly;</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;            nulonly = ifsp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a17d2c424ae44fd36e6dfc3e804cff964">nulonly</a>;</div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;            ifs = nulonly ? <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a> : realifs;</div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;            ifsspc = 0;</div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;            <span class="keywordflow">while</span> (p &lt; string + ifsp-&gt;endoff) {</div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;                q = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;                <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>)</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;                    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(ifs, *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)) {</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;                    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;                }</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;                <span class="keywordflow">if</span> (!(afternul || nulonly))</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;                    ifsspc = (<a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(<a class="code" href="../../d3/de6/shell__common_8h.html#a784a5162f09c72f5889b012596306bfb">defifs</a>, *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;                <span class="comment">/* Ignore IFS whitespace at start */</span></div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;                <span class="keywordflow">if</span> (q == <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> &amp;&amp; ifsspc) {</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;                    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;                    <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;                }</div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;                *q = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;                <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>));</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;                <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;text = <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;                *<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next;</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;                <span class="keywordflow">if</span> (!nulonly) {</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;                    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt;= <span class="keywordtype">string</span> + ifsp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a>) {</div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;                        }</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;                        q = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;                        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>)</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;                            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(ifs, *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;                            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = q;</div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;                        }</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(<a class="code" href="../../d3/de6/shell__common_8h.html#a784a5162f09c72f5889b012596306bfb">defifs</a>, *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;                            <span class="keywordflow">if</span> (ifsspc) {</div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;                                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;                                ifsspc = 0;</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;                                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = q;</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;                            }</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;                        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;                            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;                    }</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;                }</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;                <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;            } <span class="comment">/* while */</span></div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;            ifsp = ifsp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>;</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;        } <span class="keywordflow">while</span> (ifsp != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;        <span class="keywordflow">if</span> (nulonly)</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d6/dae/dc_8c.html#a75eb888902f992b6613fed5e90eca946">add</a>;</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;    }</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160; </div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;    <span class="keywordflow">if</span> (!*<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>)</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160; </div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160; <a class="code" href="../../d6/dae/dc_8c.html#a75eb888902f992b6613fed5e90eca946">add</a>:</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;    <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>));</div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;    <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;text = <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;    *<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next;</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;}</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160; </div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l06224"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af9265d6c3a5373cad84b09975e7c1f92"> 6224</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#af9265d6c3a5373cad84b09975e7c1f92">ifsfree</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;{</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/de9/structifsregion">ifsregion</a> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>;</div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160; </div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160; </div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/de9/structifsregion">ifsregion</a> *ifsp;</div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;        ifsp = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;next;</div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = ifsp;</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;}</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160; </div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;<span class="keyword">static</span> <span class="keywordtype">size_t</span></div>
<div class="line"><a name="l06245"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6fa150cb80186d199c8c769730200d13"> 6245</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a6fa150cb80186d199c8c769730200d13">esclen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;{</div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;    <span class="keywordtype">size_t</span> esc = 0;</div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160; </div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt; <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> &amp;&amp; (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*--<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>) {</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;        esc++;</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;    }</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;    <span class="keywordflow">return</span> esc;</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;}</div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160; </div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;<span class="comment"> * Remove any CTLESC characters from a string.</span></div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;<span class="preprocessor">#if !BASH_PATTERN_SUBST</span></div>
<div class="line"><a name="l06259"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a80f4d118bbefdab6df40e7f843e89755"> 6259</a></span>&#160;<span class="preprocessor">#define rmescapes(str, flag, slash_position) \</span></div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;<span class="preprocessor">    rmescapes(str, flag)</span></div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l06263"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a77cda16ba17ea0e4e2217994661e36c0"> 6263</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a80f4d118bbefdab6df40e7f843e89755">rmescapes</a>(<span class="keywordtype">char</span> *<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, <span class="keywordtype">int</span> flag, <span class="keywordtype">int</span> *slash_position)</div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;{</div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> qchars[] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = {</div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a169450bd20de627b9da0dcb78f0d4abb">IF_BASH_PATTERN_SUBST</a>(<span class="charliteral">&#39;/&#39;</span>,) <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>, <a class="code" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a>, <span class="charliteral">&#39;\0&#39;</span> };</div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160; </div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, *q, *r;</div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;    <span class="keywordtype">unsigned</span> protect_against_glob;</div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;    <span class="keywordtype">unsigned</span> globbing;</div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160; </div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d2/dce/apps_2base_2bash_2lib_2sh_2strpbrk_8c.html#a119f23a5dcb4eb5f1c1eed3cbf5cb0ed">strpbrk</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, qchars <a class="code" href="../../d1/dbe/ash_8c.html#a169450bd20de627b9da0dcb78f0d4abb">IF_BASH_PATTERN_SUBST</a>(+ !slash_position));</div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>;</div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160; </div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;    q = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;    r = <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>;</div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;    <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aa7c2abff2dba1f2498eadc1fca05db7d">RMESCAPE_ALLOC</a>) {</div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>;</div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;        <span class="keywordtype">size_t</span> fulllen = <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) + 1;</div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160; </div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;        <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a8ee7a5cf6352c2da56ffd7c71e4cd374">RMESCAPE_GROW</a>) {</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;            <span class="keywordtype">int</span> strloc = <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;            r = <a class="code" href="../../d1/dbe/ash_8c.html#a8fbe4c07cec9e449521386e9b41608c0">makestrspace</a>(fulllen, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;            <span class="comment">/* p and str may be invalidated by makestrspace */</span></div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;            <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + strloc;</div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> + <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aa3fe56f62b3738a614cc2ed250a6f5f5">RMESCAPE_HEAP</a>) {</div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;            r = <a class="code" href="../../d1/dbe/ash_8c.html#a27cf7b0a48a767c21a2c6eb91713b243">ckmalloc</a>(fulllen);</div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;            r = <a class="code" href="../../d1/dbe/ash_8c.html#a7a1a6d8c702ae5df5dcfe038a1708158">stalloc</a>(fulllen);</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;        }</div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;        q = r;</div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &gt; 0) {</div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;            q = (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/dfd/mempcpy_8c.html#a7ac7c0f43132e3acf013e0c71a58cdc9">mempcpy</a>(q, <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;        }</div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;    }</div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160; </div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;    globbing = flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a97c73dc70eb458579b40916899fe6974">RMESCAPE_GLOB</a>;</div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;    protect_against_glob = globbing;</div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;    <span class="keywordflow">while</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {</div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a>) {</div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;<span class="comment">// Note: protect_against_glob only affect whether</span></div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;<span class="comment">// CTLESC,&lt;ch&gt; gets converted to &lt;ch&gt; or to &lt;ch&gt;</span></div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;            protect_against_glob = globbing;</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;        }</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\\&#39;</span>) {</div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;            <span class="comment">/* naked back slash */</span></div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;            protect_against_glob = 0;</div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;            <span class="keywordflow">goto</span> copy;</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;        }</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>) {</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;CTLESC at EOL (shouldn&#39;t happen)&quot;</span>);</div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;            <span class="keywordflow">if</span> (protect_against_glob) {</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;                <span class="comment">/*</span></div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;<span class="comment">                 * We used to trust glob() and fnmatch() to eat</span></div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;<span class="comment">                 * superfluous escapes (\z where z has no</span></div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;<span class="comment">                 * special meaning anyway). But this causes</span></div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;<span class="comment">                 * bugs such as string of one greek letter rho</span></div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;<span class="comment">                 * (unicode-encoded as two bytes &quot;cf,81&quot;)</span></div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;<span class="comment">                 * getting encoded as &quot;cf,CTLESC,81&quot;</span></div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;<span class="comment">                 * and here, converted to &quot;cf,\,81&quot; -</span></div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;<span class="comment">                 * which does not go well with some flavors</span></div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;<span class="comment">                 * of fnmatch() in unicode locales</span></div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;<span class="comment">                 * (for example, glibc &lt;= 2.22).</span></div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;<span class="comment">                 *</span></div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;<span class="comment">                 * Lets add &quot;\&quot; only on the chars which need it.</span></div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;<span class="comment">                 * Testcases for less obvious chars are shown.</span></div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;                <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;*&#39;</span></div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;                 || *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;?&#39;</span></div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;                 || *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;[&#39;</span></div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;                 || *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\\&#39;</span> <span class="comment">/* case &#39;\&#39; in \\    ) echo ok;; *) echo WRONG;; esac */</span></div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;                 || *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;]&#39;</span>  <span class="comment">/* case &#39;]&#39; in [a\]] ) echo ok;; *) echo WRONG;; esac */</span></div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;                 || *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;-&#39;</span>  <span class="comment">/* case &#39;-&#39; in [a\-c]) echo ok;; *) echo WRONG;; esac */</span></div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;                 || *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;!&#39;</span>  <span class="comment">/* case &#39;!&#39; in [\!]  ) echo ok;; *) echo WRONG;; esac */</span></div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;                <span class="comment">/* Some libc support [^negate], that&#39;s why &quot;^&quot; also needs love */</span></div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;                 || *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;^&#39;</span>  <span class="comment">/* case &#39;^&#39; in [\^]  ) echo ok;; *) echo WRONG;; esac */</span></div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;                ) {</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;                    *q++ = <span class="charliteral">&#39;\\&#39;</span>;</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;                }</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;            }</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;        }</div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;<span class="preprocessor">#if BASH_PATTERN_SUBST</span></div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (slash_position &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> + *slash_position) {</div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;            <span class="comment">/* stop handling globbing */</span></div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;            globbing = 0;</div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;            *slash_position = q - r;</div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;            slash_position = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;        }</div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;        protect_against_glob = globbing;</div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160; copy:</div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;        *q++ = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;    }</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;    *q = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;    <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a8ee7a5cf6352c2da56ffd7c71e4cd374">RMESCAPE_GROW</a>) {</div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> = r;</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f">STADJUST</a>(q - r + 1, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;    }</div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;}</div>
<div class="line"><a name="l06369"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4c3aa08951c53a80cfee2a1ef8d74775"> 6369</a></span>&#160;<span class="preprocessor">#define pmatch(a, b) !fnmatch((a), (b), 0)</span></div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160; </div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;<span class="comment"> * Prepare a pattern for a expmeta (internal glob(3)) call.</span></div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;<span class="comment"> * Returns an stalloced string.</span></div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l06377"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3cbcd79044f21d4978df44ed66c263ca"> 6377</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a3cbcd79044f21d4978df44ed66c263ca">preglob</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>, <span class="keywordtype">int</span> flag)</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;{</div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a80f4d118bbefdab6df40e7f843e89755">rmescapes</a>((<span class="keywordtype">char</span> *)<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>, flag | <a class="code" href="../../d1/dbe/ash_8c.html#a97c73dc70eb458579b40916899fe6974">RMESCAPE_GLOB</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;}</div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160; </div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;<span class="comment"> * Put a string on the stack.</span></div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;<span class="keyword">static</span> <span class="keywordtype">size_t</span></div>
<div class="line"><a name="l06386"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acc305e420f46292b0f8d7817ddd01d97"> 6386</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#acc305e420f46292b0f8d7817ddd01d97">memtodest</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;{</div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a801e35a8df4386fb44c9678c3040afcd">syntax</a> = <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a> ? <a class="code" href="../../d1/dbe/ash_8c.html#aaa6071f56fe3ef665c45682e2875e1c8">DQSYNTAX</a> : <a class="code" href="../../d1/dbe/ash_8c.html#aabad2b9b4fa22108df171bbcd6384722">BASESYNTAX</a>;</div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;    <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160; </div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>)</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160; </div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;    q = <a class="code" href="../../d1/dbe/ash_8c.html#a8fbe4c07cec9e449521386e9b41608c0">makestrspace</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> * 2, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = q;</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160; </div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#add5a51c82ed1ebedf307a714d9ccef0f">QUOTES_ESC</a>) {</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ac337c403365cfdc1027a04b9ca3b159b">SIT</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a801e35a8df4386fb44c9678c3040afcd">syntax</a>);</div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a0379e6a75ec57b4b16b784a609ef0b2e">CCTL</a></div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;                 || ((<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a>) &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> == <a class="code" href="../../d1/dbe/ash_8c.html#aa66522395aa444ba2aa45b9e5be18dd7">CBACK</a>)</div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;                ) {</div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>, q);</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;                }</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;            }</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a81b2b2c45b240c26973db8ade9c149b1">EXP_KEEPNUL</a>))</div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, q);</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;    } <span class="keywordflow">while</span> (--<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160; </div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> = q;</div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;    <span class="keywordflow">return</span> q - <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;}</div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160; </div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;<span class="keyword">static</span> <span class="keywordtype">size_t</span></div>
<div class="line"><a name="l06419"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a45daef36f05d6c778f520fadd46cf16b"> 6419</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a45daef36f05d6c778f520fadd46cf16b">strtodest</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;{</div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#acc305e420f46292b0f8d7817ddd01d97">memtodest</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;}</div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160; </div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;<span class="comment"> * Our own itoa().</span></div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;<span class="comment"> * cvtnum() is used even if math support is off (to prepare $? values and such).</span></div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l06431"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac12f0386eba3659610aebea12b999475"> 6431</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac12f0386eba3659610aebea12b999475">cvtnum</a>(<a class="code" href="../../da/deb/busybox_2coreutils_2expr_8c.html#acb53d55632fab5ebfafa813740b488ab">arith_t</a> <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;{</div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;    <span class="comment">/* 32-bit and wider ints require buffer size of bytes*3 (or less) */</span></div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;    <span class="comment">/* If narrower: worst case, 1-byte ints: need 5 bytes: &quot;-127&lt;NUL&gt;&quot; */</span></div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = (<span class="keyword">sizeof</span>(<a class="code" href="../../d1/dbe/ash_8c.html#acb53d55632fab5ebfafa813740b488ab">arith_t</a>) &gt;= 4) ? <span class="keyword">sizeof</span>(<a class="code" href="../../d1/dbe/ash_8c.html#acb53d55632fab5ebfafa813740b488ab">arith_t</a>) * 3 : <span class="keyword">sizeof</span>(<a class="code" href="../../da/deb/busybox_2coreutils_2expr_8c.html#acb53d55632fab5ebfafa813740b488ab">arith_t</a>) * 3 + 2;</div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>];</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160; </div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d1/dbe/ash_8c.html#adf33ec1779df3d9898d1b2bf98c0ae23">fmtstr</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a5bbfda82d22bba3ce3e14e3cb14fdbd0">ARITH_FMT</a>, <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a>);</div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#acc305e420f46292b0f8d7817ddd01d97">memtodest</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;}</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160; </div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;<span class="comment"> * Record the fact that we have to scan this region of the</span></div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;<span class="comment"> * string for IFS characters.</span></div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l06447"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a02ad7f0d14c09b190354197d05396c72"> 6447</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a02ad7f0d14c09b190354197d05396c72">recordregion</a>(<span class="keywordtype">int</span> <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, <span class="keywordtype">int</span> <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>, <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a17d2c424ae44fd36e6dfc3e804cff964">nulonly</a>)</div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;{</div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/de9/structifsregion">ifsregion</a> *ifsp;</div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160; </div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;        ifsp = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>;</div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;        ifsp = <a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(<span class="keyword">sizeof</span>(*ifsp));</div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;        <span class="comment">/*ifsp-&gt;next = NULL; - ckzalloc did it */</span></div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a> = ifsp;</div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;    }</div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a> = ifsp;</div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a527f56250d2e6e49d00500f33bb3f331">begoff</a> = <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>;</div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a17d2c424ae44fd36e6dfc3e804cff964">nulonly</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a17d2c424ae44fd36e6dfc3e804cff964">nulonly</a>;</div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;}</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160; </div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l06467"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acb10ee9df0af430aa5a480e3bf151363"> 6467</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#acb10ee9df0af430aa5a480e3bf151363">removerecordregions</a>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a>)</div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;{</div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160; </div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>.<a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a> &gt; <a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a>) {</div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>) {</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/de9/structifsregion">ifsregion</a> *ifsp;</div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;            ifsp = <a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>;</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>);</div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a> = ifsp;</div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;        }</div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a527f56250d2e6e49d00500f33bb3f331">begoff</a> &gt; <a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a>) {</div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>;</div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>.<a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a> = <a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a>;</div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;        }</div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;    }</div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160; </div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a>;</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a527f56250d2e6e49d00500f33bb3f331">begoff</a> &lt; <a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a>)</div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>;</div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>) {</div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/de9/structifsregion">ifsregion</a> *ifsp;</div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;        ifsp = <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>;</div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a>);</div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">next</a> = ifsp;</div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;    }</div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a> &gt; <a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a>)</div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a> = <a class="code" href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">endoff</a>;</div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;}</div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160; </div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l06506"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a16aa6d9e06bafb4431902ba7b942fb4c"> 6506</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a16aa6d9e06bafb4431902ba7b942fb4c">exptilde</a>(<span class="keywordtype">char</span> *startp, <span class="keywordtype">int</span> flag)</div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;{</div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;    <span class="keywordtype">char</span> *name;</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d9/dc9/pwd_8h.html#d6/d85/structpasswd">passwd</a> *<a class="code" href="../../d7/d06/getpwent_8c.html#a0f5d496f5ae62c9dae4068efbf3ff5b6">pw</a>;</div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *home;</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160; </div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = startp;</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;    name = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + 1;</div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160; </div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *++<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>:</div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;            <span class="keywordflow">return</span> startp;</div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a>:</div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;            <span class="keywordflow">return</span> startp;</div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;:&#39;</span>:</div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;            <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a6a659747fe58eef51d8e86d19ca4af05">EXP_VARTILDE</a>)</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="../../d1/d47/fileman_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>:</div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4b4b55d19841657b0d741ce7b516aee0">CTLENDVAR</a>:</div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d1/d47/fileman_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;        }</div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;    }</div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160; <a class="code" href="../../d1/d47/fileman_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>:</div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;    <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>)</div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;    *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;    <span class="keywordflow">if</span> (*name == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;        home = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;HOME&quot;</span>);</div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;        <a class="code" href="../../d7/d06/getpwent_8c.html#a0f5d496f5ae62c9dae4068efbf3ff5b6">pw</a> = <a class="code" href="../../d1/dd6/pwd___8h.html#afa6183bc8f20fc62f2e63821d93b8ff1">getpwnam</a>(name);</div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;        home = <a class="code" href="../../d7/d06/getpwent_8c.html#a0f5d496f5ae62c9dae4068efbf3ff5b6">pw</a> ? <a class="code" href="../../d7/d06/getpwent_8c.html#a0f5d496f5ae62c9dae4068efbf3ff5b6">pw</a>-&gt;<a class="code" href="../../d9/dc9/pwd_8h.html#afa7bb51f592e9199dc776ccc763352a7">pw_dir</a> : <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;    }</div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;    *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;    <span class="keywordflow">if</span> (!home)</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;        <span class="keywordflow">goto</span> lose;</div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a45daef36f05d6c778f520fadd46cf16b">strtodest</a>(home, flag | <a class="code" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a>);</div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160; lose:</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;    <span class="keywordflow">return</span> startp;</div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;}</div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160; </div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;<span class="comment"> * Execute a command inside back quotes.  If it&#39;s a builtin command, we</span></div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;<span class="comment"> * want to save its output in a block obtained from malloc.  Otherwise</span></div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;<span class="comment"> * we fork off a subprocess and get the output of the command via a pipe.</span></div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;<span class="comment"> * Should be called with interrupts off.</span></div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06558"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 6558</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d1f/structbackcmd">backcmd</a> {                <span class="comment">/* result of evalbackcmd */</span></div>
<div class="line"><a name="l06559"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae6e3a22651b3293e1c534463d412dca3"> 6559</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ae6e3a22651b3293e1c534463d412dca3">fd</a>;                 <span class="comment">/* file descriptor to read from */</span></div>
<div class="line"><a name="l06560"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a78effeebe8c1c9f39eb29cd22e800594"> 6560</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a78effeebe8c1c9f39eb29cd22e800594">nleft</a>;              <span class="comment">/* number of chars in buffer */</span></div>
<div class="line"><a name="l06561"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9abc308af8f1b073f8122432b166a573"> 6561</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a9abc308af8f1b073f8122432b166a573">buf</a>;              <span class="comment">/* buffer */</span></div>
<div class="line"><a name="l06562"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8d740f3c2d228c74d2ee134a9861ccec"> 6562</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a8d740f3c2d228c74d2ee134a9861ccec">jp</a>;         <span class="comment">/* job structure for command */</span></div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;};</div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160; </div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;<span class="comment">/* These forward decls are needed to use &quot;eval&quot; code for backticks handling: */</span></div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;<span class="comment">/* flags in argument to evaltree */</span></div>
<div class="line"><a name="l06567"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac2add6938920c886c263574d2948aefa"> 6567</a></span>&#160;<span class="preprocessor">#define EV_EXIT    01           </span><span class="comment">/* exit after evaluating tree */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06568"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b"> 6568</a></span>&#160;<span class="preprocessor">#define EV_TESTED  02           </span><span class="comment">/* exit status is checked; ignore -e flag */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160; </div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;<span class="comment">/* An evaltree() which is known to never return.</span></div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;<span class="comment"> * Used to use an alias:</span></div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;<span class="comment"> * static int evaltreenr(union node *, int) __attribute__((alias(&quot;evaltree&quot;),__noreturn__));</span></div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;<span class="comment"> * but clang was reported to &quot;transfer&quot; noreturn-ness to evaltree() as well.</span></div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#aa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> <a class="code" href="../../de/d03/platform_8h.html#aa1728270d73c5d1598de1fd691762eb1">NORETURN</a> <span class="keywordtype">void</span></div>
<div class="line"><a name="l06577"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aceb73f20fd610e6ea9113f52ea706c19"> 6577</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aceb73f20fd610e6ea9113f52ea706c19">evaltreenr</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;{</div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#a58820235b1f9fd1fab6f64ceb375f893">bb_unreachable</a>(<a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a>());</div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;}</div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160; </div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l06585"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1b289dd093ef7342da2ecdd2ed556dca"> 6585</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a1b289dd093ef7342da2ecdd2ed556dca">evalbackcmd</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#da/d1f/structbackcmd">backcmd</a> *result</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a8f73002ccbaeafd27361a583fd1ac429">IF_BASH_PROCESS_SUBST</a>(, <span class="keywordtype">int</span> ctl))</div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;{</div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;    <span class="keywordtype">int</span> pip[2];</div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp;</div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;    <span class="comment">/* determine end of pipe used by parent (ip) and child (ic) */</span></div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../da/d2f/ip_8h.html#d5/d5b/structip">ip</a> = (ctl == CTLTOPROC);</div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> ic = !(ctl == CTLTOPROC);</div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> ctl = <a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>;</div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../da/d2f/ip_8h.html#d5/d5b/structip">ip</a> = 0;</div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> ic = 1;</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160; </div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;    result-&gt;fd = -1;</div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;    result-&gt;buf = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;    result-&gt;nleft = 0;</div>
<div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;    result-&gt;jp = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;    }</div>
<div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160; </div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a5bbe9b13d3f147dcc5b872a5cf70e9a1">pipe</a>(pip) &lt; 0)</div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a>(<span class="stringliteral">&quot;can&#39;t create pipe&quot;</span>);</div>
<div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;    <span class="comment">/* process substitution uses NULL job/node, like openhere() */</span></div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;    jp = (ctl == <a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>) ? <a class="code" href="../../d1/dbe/ash_8c.html#a915993c65b1d23c848d308738564f57a">makejob</a>(<span class="comment">/*n,*/</span> 1) : <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a2909724c5cc1419ade6041cbf8d98636">forkshell</a>(jp, (ctl == <a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>) ? <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> : <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a84b424383676aac169bef6049c731d87">FORK_NOJOB</a>) == 0) {</div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;        <span class="comment">/* child */</span></div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab50f7c5ee58d54d6b9a942f1e8781b85">FORCE_INT_ON</a>;</div>
<div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pip[<a class="code" href="../../da/d2f/ip_8h.html#d5/d5b/structip">ip</a>]);</div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;        <span class="comment">/* ic is index of child end of pipe *and* fd to connect it to */</span></div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;        <span class="keywordflow">if</span> (pip[ic] != ic) {</div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;            <span class="comment">/*close(ic);*/</span></div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a0d60fe32daa97ee393ce5a346f96c3b9">dup2_or_raise</a>(pip[ic], ic);</div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pip[ic]);</div>
<div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;        }</div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;<span class="comment">/* TODO: eflag clearing makes the following not abort:</span></div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;<span class="comment"> *  ash -c &#39;set -e; z=$(false;echo foo); echo $z&#39;</span></div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;<span class="comment"> * which is what bash does (unless it is in POSIX mode).</span></div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;<span class="comment"> * dash deleted &quot;eflag = 0&quot; line in the commit</span></div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;<span class="comment"> *  Date: Mon, 28 Jun 2010 17:11:58 +1000</span></div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;<span class="comment"> *  [EVAL] Don&#39;t clear eflag in evalbackcmd</span></div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;<span class="comment"> * For now, preserve bash-like behavior, it seems to be somewhat more useful:</span></div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1fa73ad20e7650d162437b665c5aa22b">eflag</a> = 0;</div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af9265d6c3a5373cad84b09975e7c1f92">ifsfree</a>();</div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aceb73f20fd610e6ea9113f52ea706c19">evaltreenr</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ac2add6938920c886c263574d2948aefa">EV_EXIT</a>);</div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;        <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;    }</div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;    <span class="comment">/* parent */</span></div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;    <span class="keywordflow">if</span> (ctl != <a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>) {</div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a>(pip[<a class="code" href="../../da/d2f/ip_8h.html#d5/d5b/structip">ip</a>], <a class="code" href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#ab93a8621587aba90181efd7d3aeea67e">F_DUPFD</a>, 64);</div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> &gt; 0) {</div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pip[<a class="code" href="../../da/d2f/ip_8h.html#d5/d5b/structip">ip</a>]);</div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;            pip[<a class="code" href="../../da/d2f/ip_8h.html#d5/d5b/structip">ip</a>] = <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;        }</div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;        pushfd(pip[<a class="code" href="../../da/d2f/ip_8h.html#d5/d5b/structip">ip</a>]);</div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;    }</div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pip[ic]);</div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;    result-&gt;fd = pip[<a class="code" href="../../da/d2f/ip_8h.html#d5/d5b/structip">ip</a>];</div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;    result-&gt;jp = jp;</div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160; </div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;evalbackcmd done: fd=%d buf=0x%x nleft=%d jp=0x%x\n&quot;</span>,</div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;        result-&gt;fd, result-&gt;buf, result-&gt;nleft, result-&gt;jp));</div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;}</div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160; </div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;<span class="comment"> * Expand stuff in backwards quotes.</span></div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l06659"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a975d127f9c1f729c08266920deff61e2"> 6659</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a975d127f9c1f729c08266920deff61e2">expbackq</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="keywordtype">int</span> flag <a class="code" href="../../d1/dbe/ash_8c.html#a8f73002ccbaeafd27361a583fd1ac429">IF_BASH_PROCESS_SUBST</a>(, <span class="keywordtype">int</span> ctl))</div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;{</div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;<span class="preprocessor">#if !BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> ctl = <a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>;</div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d1f/structbackcmd">backcmd</a> in;</div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[128];</div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;    <span class="keywordtype">char</span> *dest;</div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;    <span class="keywordtype">int</span> startloc;</div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> smark;</div>
<div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160; </div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;    <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>)</div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160; </div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;    startloc = <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c67d866850019e4c058432478c9c28f">pushstackmark</a>(&amp;smark, startloc);</div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a1b289dd093ef7342da2ecdd2ed556dca">evalbackcmd</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, &amp;in <a class="code" href="../../d1/dbe/ash_8c.html#a8f73002ccbaeafd27361a583fd1ac429">IF_BASH_PROCESS_SUBST</a>(, ctl));</div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160; </div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;    <span class="keywordflow">if</span> (ctl != <a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>) {</div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../de/d03/platform_8h.html#a031e405077a475ca789f91a86b0ca9ed">DEV_FD_PREFIX</a><span class="stringliteral">&quot;%d&quot;</span>, in.<a class="code" href="../../d1/dbe/ash_8c.html#ae6e3a22651b3293e1c534463d412dca3">fd</a>);</div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a45daef36f05d6c778f520fadd46cf16b">strtodest</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../d1/dbe/ash_8c.html#aabad2b9b4fa22108df171bbcd6384722">BASESYNTAX</a>);</div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d1/d47/fileman_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;    }</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160; </div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = in.<a class="code" href="../../d1/dbe/ash_8c.html#a9abc308af8f1b073f8122432b166a573">buf</a>;</div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;    <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = in.<a class="code" href="../../d1/dbe/ash_8c.html#a78effeebe8c1c9f39eb29cd22e800594">nleft</a>;</div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 0)</div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a8c673ae088139efcc2dfab1cbadff6f5">read</a>;</div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#acc305e420f46292b0f8d7817ddd01d97">memtodest</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, flag);</div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160; <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a8c673ae088139efcc2dfab1cbadff6f5">read</a>:</div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;        <span class="keywordflow">if</span> (in.<a class="code" href="../../d1/dbe/ash_8c.html#ae6e3a22651b3293e1c534463d412dca3">fd</a> &lt; 0)</div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;        <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#ad53b4a1026ef264bd6bf4b4219f76486">nonblock_immune_read</a>(in.<a class="code" href="../../d1/dbe/ash_8c.html#ae6e3a22651b3293e1c534463d412dca3">fd</a>, <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>));</div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;expbackq: read returns %d\n&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>));</div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt;= 0)</div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;    }</div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160; </div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(in.<a class="code" href="../../d1/dbe/ash_8c.html#a9abc308af8f1b073f8122432b166a573">buf</a>);</div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;    <span class="keywordflow">if</span> (in.<a class="code" href="../../d1/dbe/ash_8c.html#ae6e3a22651b3293e1c534463d412dca3">fd</a> &gt;= 0) {</div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(in.<a class="code" href="../../d1/dbe/ash_8c.html#ae6e3a22651b3293e1c534463d412dca3">fd</a>);</div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a85b0c2c7bb17ace3eb703124163e2c9d">back_exitstatus</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7bd2f10f7aab5836959730cee26ded54">waitforjob</a>(in.<a class="code" href="../../d1/dbe/ash_8c.html#a8d740f3c2d228c74d2ee134a9861ccec">jp</a>);</div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;    }</div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160; <a class="code" href="../../d1/d47/fileman_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>:</div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160; </div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;    <span class="comment">/* Eat all trailing newlines */</span></div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;    dest = <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>;</div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;    <span class="keywordflow">for</span> (; dest &gt; ((<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + startloc) &amp;&amp; dest[-1] == <span class="charliteral">&#39;\n&#39;</span>;)</div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a27e34243f684911d11eeea0506728d96">STUNPUTC</a>(dest);</div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> = dest;</div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160; </div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;    <span class="keywordflow">if</span> (!(flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a>))</div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a02ad7f0d14c09b190354197d05396c72">recordregion</a>(startloc, dest - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>(), 0);</div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;evalbackq: size:%d:&#39;%.*s&#39;\n&quot;</span>,</div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;        (<span class="keywordtype">int</span>)((dest - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>()) - startloc),</div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;        (<span class="keywordtype">int</span>)((dest - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>()) - startloc),</div>
<div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + startloc));</div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160; </div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aa7330854f99ccb7aadfcc87ccd020c3e">argbackq</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa7330854f99ccb7aadfcc87ccd020c3e">argbackq</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a>;</div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;}</div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160; </div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;<span class="comment">/* expari needs it */</span></div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a277d3674302086c22d6a6d9f6e535fb1">argstr</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keywordtype">int</span> flag);</div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160; </div>
<div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;<span class="comment"> * Expand arithmetic expression.  Backup to start of expression,</span></div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;<span class="comment"> * evaluate, place result in (backed up) result, adjust string position.</span></div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;expari(<span class="keywordtype">char</span> *<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, <span class="keywordtype">int</span> flag)</div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;{</div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> sm;</div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;    <span class="keywordtype">int</span> begoff;</div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;    <span class="keywordtype">int</span> endoff;</div>
<div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;    <a class="code" href="../../da/deb/busybox_2coreutils_2expr_8c.html#acb53d55632fab5ebfafa813740b488ab">arith_t</a> result;</div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160; </div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;    begoff = <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> - <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a277d3674302086c22d6a6d9f6e535fb1">argstr</a>(<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>);</div>
<div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160; </div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;    <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>)</div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160; </div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;    <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;    endoff = <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> - <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;    <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> += begoff;</div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f">STADJUST</a>(<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> - <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160; </div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#acb10ee9df0af430aa5a480e3bf151363">removerecordregions</a>(begoff);</div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160; </div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;    <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#add5a51c82ed1ebedf307a714d9ccef0f">QUOTES_ESC</a>)</div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a80f4d118bbefdab6df40e7f843e89755">rmescapes</a>(<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, 0, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160; </div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c67d866850019e4c058432478c9c28f">pushstackmark</a>(&amp;sm, endoff);</div>
<div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;    result = ash_arith(<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>);</div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a>(&amp;sm);</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160; </div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ac12f0386eba3659610aebea12b999475">cvtnum</a>(result, flag);</div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160; </div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;    <span class="keywordflow">if</span> (!(flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a>))</div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a02ad7f0d14c09b190354197d05396c72">recordregion</a>(begoff, begoff + <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, 0);</div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160; </div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;}</div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160; </div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;<span class="comment">/* argstr needs it */</span></div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a07a309f34c2a1c91e1200006f744009d">evalvar</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160; </div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;<span class="comment"> * Perform variable and command substitution.  If EXP_FULL is set, output CTLESC</span></div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;<span class="comment"> * characters to allow for further processing.  Otherwise treat</span></div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;<span class="comment"> * $@ like $* since no splitting will be performed.</span></div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l06786"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a277d3674302086c22d6a6d9f6e535fb1"> 6786</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a277d3674302086c22d6a6d9f6e535fb1">argstr</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keywordtype">int</span> flag)</div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;{</div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> spclchars[] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = {</div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;        <span class="charliteral">&#39;=&#39;</span>,</div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;        <span class="charliteral">&#39;:&#39;</span>,</div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a>,</div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4b4b55d19841657b0d741ce7b516aee0">CTLENDVAR</a>,</div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>,</div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ae1863f639f12382c610c13d53ea33c01">CTLVAR</a>,</div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>,</div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;        CTLTOPROC,</div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;        CTLFROMPROC,</div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a61d50a8e339a2b23161570aa7ce7286a">CTLARI</a>,</div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a758d18444ca0979856f52b0506de9d19">CTLENDARI</a>,</div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;        <span class="charliteral">&#39;\0&#39;</span></div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;    };</div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *reject = spclchars;</div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;    <span class="keywordtype">int</span> breakall = (flag &amp; (<a class="code" href="../../d1/dbe/ash_8c.html#a6511eb40f475a23fdadfc358e87c9420">EXP_WORD</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a>)) == <a class="code" href="../../d1/dbe/ash_8c.html#a6511eb40f475a23fdadfc358e87c9420">EXP_WORD</a>;</div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;    <span class="keywordtype">int</span> inquotes;</div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;    <span class="keywordtype">size_t</span> length;</div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;    <span class="keywordtype">int</span> startloc;</div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160; </div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;    reject += !!(flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a6c8645126bcd0410fed8862130144298">EXP_VARTILDE2</a>);</div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;    reject += flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a6a659747fe58eef51d8e86d19ca4af05">EXP_VARTILDE</a> ? 0 : 2;</div>
<div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;    inquotes = 0;</div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;    length = 0;</div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;    <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a>) {</div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;        flag &amp;= ~<a class="code" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a>;</div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160; tilde:</div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;~&#39;</span>)</div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a16aa6d9e06bafb4431902ba7b942fb4c">exptilde</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, flag);</div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;    }</div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160; <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>:</div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;    startloc = <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>;</div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160; </div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;        length += <a class="code" href="../../d5/d42/Userspace_2musl_2include_2string_8h.html#a4e8462eddc5a160451a246bc1bc22bb4">strcspn</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + length, reject);</div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> = 0;</div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[length];</div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &amp; 0x80)</div>
<div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;         IF_FEATURE_SH_MATH(|| <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a758d18444ca0979856f52b0506de9d19">CTLENDARI</a>)</div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;         || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a4b4b55d19841657b0d741ce7b516aee0">CTLENDVAR</a></div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;        ) {</div>
<div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;<span class="comment">             * c == &#39;=&#39; || c == &#39;:&#39; || c == &#39;\0&#39; ||</span></div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;<span class="comment">             * c == CTLENDARI || c == CTLENDVAR</span></div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;            length++;</div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;            <span class="comment">/* c == &#39;\0&#39; || c == CTLENDARI || c == CTLENDVAR */</span></div>
<div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> = !!((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> - 1) &amp; 0x80);</div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;        }</div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;        <span class="keywordflow">if</span> (length &gt; 0 &amp;&amp; !(flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>)) {</div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;            <span class="keywordtype">int</span> newloc;</div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;            <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160; </div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;            q = <a class="code" href="../../d1/dbe/ash_8c.html#ac260542db295b0a3fdd8db0fe178d06a">stnputs</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, length, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;            q[-1] &amp;= <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1;</div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> = q - (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a6511eb40f475a23fdadfc358e87c9420">EXP_WORD</a> ? <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> : 0);</div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;            newloc = q - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() - <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>;</div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;            <span class="keywordflow">if</span> (breakall &amp;&amp; !inquotes &amp;&amp; newloc &gt; startloc) {</div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a02ad7f0d14c09b190354197d05396c72">recordregion</a>(startloc, newloc, 0);</div>
<div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;            }</div>
<div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;            startloc = newloc;</div>
<div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;        }</div>
<div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += length + 1;</div>
<div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;        length = 0;</div>
<div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160; </div>
<div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>)</div>
<div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160; </div>
<div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {</div>
<div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;=&#39;</span>:</div>
<div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;            flag |= <a class="code" href="../../d1/dbe/ash_8c.html#a6c8645126bcd0410fed8862130144298">EXP_VARTILDE2</a>;</div>
<div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;            reject++;</div>
<div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;            <span class="comment">/* fall through */</span></div>
<div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;:&#39;</span>:</div>
<div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;<span class="comment">             * sort of a hack - expand tildes in variable</span></div>
<div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;<span class="comment">             * assignments (after the first &#39;=&#39; and after &#39;:&#39;s).</span></div>
<div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;            <span class="keywordflow">if</span> (*--<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;~&#39;</span>) {</div>
<div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;                <span class="keywordflow">goto</span> tilde;</div>
<div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;            }</div>
<div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a>:</div>
<div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;            <span class="comment">/* &quot;$@&quot; syntax adherence hack */</span></div>
<div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;            <span class="keywordflow">if</span> (!inquotes &amp;&amp; !<a class="code" href="../../d3/d82/convert_8h.html#ac376fcece8fcc2d0f8b1cf3de18b10df">memcmp</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, dolatstr + 1, <a class="code" href="../../d1/dbe/ash_8c.html#a363b0cecad2acb1ac0570fc8272ffcfd">DOLATSTRLEN</a> - 1)) {</div>
<div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a07a309f34c2a1c91e1200006f744009d">evalvar</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + 1, flag | <a class="code" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a>) + 1;</div>
<div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;            }</div>
<div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;            inquotes ^= <a class="code" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a>;</div>
<div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160; addquote:</div>
<div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;            <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#add5a51c82ed1ebedf307a714d9ccef0f">QUOTES_ESC</a>) {</div>
<div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>--;</div>
<div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;                length++;</div>
<div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;                startloc++;</div>
<div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;            }</div>
<div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>:</div>
<div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;            startloc++;</div>
<div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;            length++;</div>
<div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;            <span class="keywordflow">goto</span> addquote;</div>
<div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ae1863f639f12382c610c13d53ea33c01">CTLVAR</a>:</div>
<div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;argstr: evalvar(&#39;%s&#39;)\n&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>));</div>
<div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a07a309f34c2a1c91e1200006f744009d">evalvar</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, flag | inquotes);</div>
<div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;argstr: evalvar:&#39;%s&#39;\n&quot;</span>, (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>()));</div>
<div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;        <span class="keywordflow">case</span> CTLTOPROC:</div>
<div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;        <span class="keywordflow">case</span> CTLFROMPROC:</div>
<div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>:</div>
<div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a975d127f9c1f729c08266920deff61e2">expbackq</a>(<a class="code" href="../../d1/dbe/ash_8c.html#aa7330854f99ccb7aadfcc87ccd020c3e">argbackq</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">n</a>, flag | inquotes <a class="code" href="../../d1/dbe/ash_8c.html#a8f73002ccbaeafd27361a583fd1ac429">IF_BASH_PROCESS_SUBST</a>(, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>));</div>
<div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a61d50a8e339a2b23161570aa7ce7286a">CTLARI</a>:</div>
<div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = expari(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, flag | inquotes);</div>
<div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;        }</div>
<div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;    }</div>
<div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - 1;</div>
<div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;}</div>
<div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160; </div>
<div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l06917"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5cb12086d38c862ddf6bcc7f4b5796b8"> 6917</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a5cb12086d38c862ddf6bcc7f4b5796b8">scanleft</a>(<span class="keywordtype">char</span> *startp, <span class="keywordtype">char</span> *rmesc, <span class="keywordtype">char</span> *rmescend <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>,</div>
<div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>, <span class="keywordtype">int</span> quotes, <span class="keywordtype">int</span> zero)</div>
<div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;{</div>
<div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;    <span class="keywordtype">char</span> *loc, *loc2;</div>
<div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160; </div>
<div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;    loc = startp;</div>
<div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;    loc2 = rmesc;</div>
<div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d3/d31/setfiles_8c.html#a664f27beea6c9e79a7b11a701f4ae054">match</a>;</div>
<div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = loc2;</div>
<div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160; </div>
<div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *loc2;</div>
<div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;        <span class="keywordflow">if</span> (zero) {</div>
<div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;            *loc2 = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = rmesc;</div>
<div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;        }</div>
<div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;        <a class="code" href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c3aa08951c53a80cfee2a1ef8d74775">pmatch</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160; </div>
<div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;        *loc2 = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a>)</div>
<div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;            <span class="keywordflow">return</span> loc;</div>
<div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;        <span class="keywordflow">if</span> (quotes &amp;&amp; (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*loc == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>)</div>
<div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;            loc++;</div>
<div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;        loc++;</div>
<div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;        loc2++;</div>
<div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;}</div>
<div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160; </div>
<div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l06948"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4cbbc5976934727164a94401a98f26c9"> 6948</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a4cbbc5976934727164a94401a98f26c9">scanright</a>(<span class="keywordtype">char</span> *startp, <span class="keywordtype">char</span> *rmesc, <span class="keywordtype">char</span> *rmescend,</div>
<div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>, <span class="keywordtype">int</span> quotes, <span class="keywordtype">int</span> match_at_start)</div>
<div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;{</div>
<div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;<span class="preprocessor">#if !ENABLE_ASH_OPTIMIZE_FOR_SIZE</span></div>
<div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;    <span class="keywordtype">int</span> try2optimize = match_at_start;</div>
<div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;    <span class="keywordtype">int</span> esc = 0;</div>
<div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;    <span class="keywordtype">char</span> *loc;</div>
<div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;    <span class="keywordtype">char</span> *loc2;</div>
<div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160; </div>
<div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;    <span class="comment">/* If we called by &quot;${v/pattern/repl}&quot; or &quot;${v//pattern/repl}&quot;:</span></div>
<div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;<span class="comment">     * startp=&quot;escaped_value_of_v&quot; rmesc=&quot;raw_value_of_v&quot;</span></div>
<div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;<span class="comment">     * rmescend=&quot;&quot;(ptr to NUL in rmesc) pattern=&quot;pattern&quot; quotes=match_at_start=1</span></div>
<div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;<span class="comment">     * Logic:</span></div>
<div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;<span class="comment">     * loc starts at NUL at the end of startp, loc2 starts at the end of rmesc,</span></div>
<div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;<span class="comment">     * and on each iteration they go back two/one char until they reach the beginning.</span></div>
<div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;<span class="comment">     * We try to match &quot;raw_value_of_v&quot;, &quot;raw_value_of_&quot;, &quot;raw_value_of&quot; etc.</span></div>
<div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;<span class="comment">     * If one of these matches, return pointer past last matched char in startp.</span></div>
<div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;    <span class="comment">/* TODO: document in what other circumstances we are called. */</span></div>
<div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160; </div>
<div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;    <span class="keywordflow">for</span> (loc = <a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a> - 1, loc2 = rmescend; loc &gt;= startp; loc2--) {</div>
<div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d3/d31/setfiles_8c.html#a664f27beea6c9e79a7b11a701f4ae054">match</a>;</div>
<div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *loc2;</div>
<div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = loc2;</div>
<div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;        <span class="keywordflow">if</span> (match_at_start) {</div>
<div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;            *loc2 = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = rmesc;</div>
<div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;        }</div>
<div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;        <a class="code" href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c3aa08951c53a80cfee2a1ef8d74775">pmatch</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;        <span class="comment">//bb_error_msg(&quot;pmatch(pattern:&#39;%s&#39;,s:&#39;%s&#39;):%d&quot;, pattern, s, match);</span></div>
<div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;        *loc2 = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a>)</div>
<div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;            <span class="keywordflow">return</span> loc;</div>
<div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;<span class="preprocessor">#if !ENABLE_ASH_OPTIMIZE_FOR_SIZE</span></div>
<div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;        <span class="keywordflow">if</span> (try2optimize) {</div>
<div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;            <span class="comment">/* Maybe we can optimize this:</span></div>
<div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;<span class="comment">             * if pattern ends with unescaped *, we can avoid checking</span></div>
<div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;<span class="comment">             * shorter strings: if &quot;foo*&quot; doesn&#39;t match &quot;raw_value_of_v&quot;,</span></div>
<div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;<span class="comment">             * it won&#39;t match truncated &quot;raw_value_of_&quot; strings too.</span></div>
<div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;            <span class="keywordtype">unsigned</span> plen = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>);</div>
<div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;            <span class="comment">/* Does it end with &quot;*&quot;? */</span></div>
<div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;            <span class="keywordflow">if</span> (plen != 0 &amp;&amp; <a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>[--plen] == <span class="charliteral">&#39;*&#39;</span>) {</div>
<div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;                <span class="comment">/* &quot;xxxx*&quot; is not escaped */</span></div>
<div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;                <span class="comment">/* &quot;xxx\*&quot; is escaped */</span></div>
<div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;                <span class="comment">/* &quot;xx\\*&quot; is not escaped */</span></div>
<div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;                <span class="comment">/* &quot;x\\\*&quot; is escaped */</span></div>
<div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;                <span class="keywordtype">int</span> slashes = 0;</div>
<div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;                <span class="keywordflow">while</span> (plen != 0 &amp;&amp; <a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>[--plen] == <span class="charliteral">&#39;\\&#39;</span>)</div>
<div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;                    slashes++;</div>
<div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;                <span class="keywordflow">if</span> (!(slashes &amp; 1))</div>
<div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;                    <span class="keywordflow">break</span>; <span class="comment">/* ends with unescaped &quot;*&quot; */</span></div>
<div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;            }</div>
<div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;            try2optimize = 0;</div>
<div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;        }</div>
<div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;        loc--;</div>
<div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;        <span class="keywordflow">if</span> (quotes) {</div>
<div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;            <span class="keywordflow">if</span> (--esc &lt; 0) {</div>
<div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;                esc = <a class="code" href="../../d1/dbe/ash_8c.html#a6fa150cb80186d199c8c769730200d13">esclen</a>(startp, loc);</div>
<div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;            }</div>
<div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;            <span class="keywordflow">if</span> (esc % 2) {</div>
<div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;                esc--;</div>
<div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;                loc--;</div>
<div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;            }</div>
<div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;        }</div>
<div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;    }</div>
<div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;}</div>
<div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160; </div>
<div class="line"><a name="l07019"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8b7aba05c056e2fa2955ba3f3302d07e"> 7019</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8b7aba05c056e2fa2955ba3f3302d07e">varunset</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>) <a class="code" href="../../de/d03/platform_8h.html#aa1728270d73c5d1598de1fd691762eb1">NORETURN</a>;</div>
<div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8b7aba05c056e2fa2955ba3f3302d07e">varunset</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *umsg, <span class="keywordtype">int</span> varflags)</div>
<div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;{</div>
<div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *msg;</div>
<div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/dbb/hu__stuff_8c.html#aff39d864a6594bc5f4a5e365282e00fe">tail</a>;</div>
<div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160; </div>
<div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;    <a class="code" href="../../d3/dbb/hu__stuff_8c.html#aff39d864a6594bc5f4a5e365282e00fe">tail</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>;</div>
<div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;    msg = <span class="stringliteral">&quot;parameter not set&quot;</span>;</div>
<div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;    <span class="keywordflow">if</span> (umsg) {</div>
<div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a4b4b55d19841657b0d741ce7b516aee0">CTLENDVAR</a>) {</div>
<div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;            <span class="keywordflow">if</span> (varflags &amp; <a class="code" href="../../d1/dbe/ash_8c.html#ad557438155906b9dc1a3a6fee168ceb3">VSNUL</a>)</div>
<div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;                <a class="code" href="../../d3/dbb/hu__stuff_8c.html#aff39d864a6594bc5f4a5e365282e00fe">tail</a> = <span class="stringliteral">&quot; or null&quot;</span>;</div>
<div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;            msg = umsg;</div>
<div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;        }</div>
<div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;    }</div>
<div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af9265d6c3a5373cad84b09975e7c1f92">ifsfree</a>();</div>
<div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;%.*s: %s%s&quot;</span>, (<span class="keywordtype">int</span>)(<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> - 1), <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, msg, <a class="code" href="../../d3/dbb/hu__stuff_8c.html#aff39d864a6594bc5f4a5e365282e00fe">tail</a>);</div>
<div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;}</div>
<div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160; </div>
<div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l07041"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af8c26955d672a1c8831a939a493fc6cb"> 7041</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#af8c26955d672a1c8831a939a493fc6cb">subevalvar</a>(<span class="keywordtype">char</span> *<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, <span class="keywordtype">char</span> *<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, <span class="keywordtype">int</span> strloc,</div>
<div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;        <span class="keywordtype">int</span> startloc, <span class="keywordtype">int</span> varflags, <span class="keywordtype">int</span> flag)</div>
<div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;{</div>
<div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;    <span class="keywordtype">int</span> subtype = varflags &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9e9b4cf0195e0b55558bef9788071c10">VSTYPE</a>;</div>
<div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;    <span class="keywordtype">int</span> quotes = flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#add5a51c82ed1ebedf307a714d9ccef0f">QUOTES_ESC</a>;</div>
<div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;    <span class="keywordtype">char</span> *startp;</div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;    <span class="keywordtype">char</span> *loc;</div>
<div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;    <span class="keywordtype">char</span> *rmesc, *rmescend;</div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;    <span class="keywordtype">long</span> amount;</div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;    <span class="keywordtype">int</span> resetloc;</div>
<div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;    <span class="keywordtype">int</span> argstr_flags;</div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a169450bd20de627b9da0dcb78f0d4abb">IF_BASH_PATTERN_SUBST</a>(<span class="keywordtype">int</span> workloc;)</div>
<div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a169450bd20de627b9da0dcb78f0d4abb">IF_BASH_PATTERN_SUBST</a>(<span class="keywordtype">int</span> slash_pos;)</div>
<div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a169450bd20de627b9da0dcb78f0d4abb">IF_BASH_PATTERN_SUBST</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a>;)</div>
<div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;    <span class="keywordtype">int</span> zero;</div>
<div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;    <span class="keywordtype">char</span> *(*scan)(<span class="keywordtype">char</span>*, <span class="keywordtype">char</span>*, <span class="keywordtype">char</span>*, <span class="keywordtype">char</span>*, int, int);</div>
<div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160; </div>
<div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;    <span class="comment">//bb_error_msg(&quot;subevalvar(start:&#39;%s&#39;,str:&#39;%s&#39;,strloc:%d,startloc:%d,varflags:%x,quotes:%d)&quot;,</span></div>
<div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;    <span class="comment">//      start, str, strloc, startloc, varflags, quotes);</span></div>
<div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160; </div>
<div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;<span class="preprocessor">#if BASH_PATTERN_SUBST</span></div>
<div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160;    <span class="comment">/* For &quot;${v/pattern/repl}&quot;, we must find the delimiter _before_</span></div>
<div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;<span class="comment">     * argstr() call expands possible variable references in pattern:</span></div>
<div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;<span class="comment">     * think about &quot;v=a; a=a/; echo ${v/$a/r}&quot; case.</span></div>
<div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;    <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;    <span class="keywordflow">if</span> (subtype == VSREPLACE || subtype == VSREPLACEALL) {</div>
<div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;        <span class="comment">/* Find &#39;/&#39; and replace with NUL */</span></div>
<div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160;        <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> = <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160;        <span class="comment">/* The pattern can&#39;t be empty.</span></div>
<div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;<span class="comment">         * IOW: if the first char after &quot;${v//&quot; is a slash,</span></div>
<div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;<span class="comment">         * it does not terminate the pattern - it&#39;s the first char of the pattern:</span></div>
<div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160;<span class="comment">         *  v=/dev/ram; echo ${v////-}  prints -dev-ram (pattern is &quot;/&quot;)</span></div>
<div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;<span class="comment">         *  v=/dev/ram; echo ${v///r/-} prints /dev-am  (pattern is &quot;/r&quot;)</span></div>
<div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;            <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a>++;</div>
<div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;                <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;            }</div>
<div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> == <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160;                *<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;            }</div>
<div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;            <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a4b4b55d19841657b0d741ce7b516aee0">CTLENDVAR</a>) { <span class="comment">/* ${v/pattern} (no trailing /, no repl) */</span></div>
<div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;                <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;            }</div>
<div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160;            <span class="comment">/* Handle escaped slashes, e.g. &quot;${v/\//_}&quot; (they are CTLESC&#39;ed by this point) */</span></div>
<div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;            <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a> &amp;&amp; <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a>[1])</div>
<div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;                <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a>++;</div>
<div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160;            <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a>++;</div>
<div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;        }</div>
<div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;    }</div>
<div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;    argstr_flags = (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>) | <a class="code" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a>;</div>
<div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a></div>
<div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;#<span class="keywordflow">if</span> <a class="code" href="../../d1/dbe/ash_8c.html#aaf58c5cf9a67360bf2dec22b90087229">BASH_SUBSTR</a></div>
<div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;     &amp;&amp; subtype != VSSUBSTR</div>
<div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;#endif</div>
<div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;    ) {</div>
<div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160;        <span class="comment">/* EXP_CASE keeps CTLESC&#39;s */</span></div>
<div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;        argstr_flags |= <a class="code" href="../../d1/dbe/ash_8c.html#a53b57e2df12643ccb283dc689a7ae384">EXP_CASE</a>;</div>
<div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;    }</div>
<div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a277d3674302086c22d6a6d9f6e535fb1">argstr</a>(<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, argstr_flags);</div>
<div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160; </div>
<div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;    <span class="comment">//bb_error_msg(&quot;str0:&#39;%s&#39;&quot;, (char *)stackblock() + strloc);</span></div>
<div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;<span class="preprocessor">#if BASH_PATTERN_SUBST</span></div>
<div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;    slash_pos = -1;</div>
<div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a>) {</div>
<div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160;        slash_pos = <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> - ((<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + strloc);</div>
<div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;        <span class="keywordflow">if</span> (!(flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>))</div>
<div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(<span class="charliteral">&#39;/&#39;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;        <span class="comment">//bb_error_msg(&quot;repl+1:&#39;%s&#39;&quot;, repl + 1);</span></div>
<div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a277d3674302086c22d6a6d9f6e535fb1">argstr</a>(<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> + 1, (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>) | <a class="code" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a>); <span class="comment">/* EXP_TILDE: echo &quot;${v/x/~}&quot; expands ~ ! */</span></div>
<div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160;        *<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> = <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;    }</div>
<div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;    <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>)</div>
<div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160; </div>
<div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;    startp = (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + startloc;</div>
<div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160;    <span class="comment">//bb_error_msg(&quot;str1:&#39;%s&#39;&quot;, (char *)stackblock() + strloc);</span></div>
<div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160; </div>
<div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;    <span class="keywordflow">switch</span> (subtype) {</div>
<div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aac40b5dd63c7a97a8f63ba1944f2b137">VSASSIGN</a>:</div>
<div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, startp);</div>
<div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160; </div>
<div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;        loc = startp;</div>
<div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160; </div>
<div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#abd06ab98107e417c725a24580a15b566">VSQUESTION</a>:</div>
<div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8b7aba05c056e2fa2955ba3f3302d07e">varunset</a>(<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, startp, varflags);</div>
<div class="line"><a name="l07137"></a><span class="lineno"> 7137</span>&#160;        <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160; </div>
<div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160;<span class="preprocessor">#if BASH_SUBSTR</span></div>
<div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160;    <span class="keywordflow">case</span> VSSUBSTR: {</div>
<div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, orig_len;</div>
<div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a>;</div>
<div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;        <span class="keywordtype">char</span> *vstr;</div>
<div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160; </div>
<div class="line"><a name="l07145"></a><span class="lineno"> 7145</span>&#160;        loc = vstr = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + strloc;</div>
<div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160; </div>
<div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;        <span class="comment">/* Read POS in ${var:POS:LEN} */</span></div>
<div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;        <a class="code" href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a> = <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(loc, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a>) *<a class="code" href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160;        <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> = substr_atoi(loc);</div>
<div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a>) *<a class="code" href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a> = <span class="charliteral">&#39;:&#39;</span>;</div>
<div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160; </div>
<div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;        <span class="comment">/* Read LEN in ${var:POS:LEN} */</span></div>
<div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = vstr - startp - 1;</div>
<div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;        <span class="comment">/* *loc != &#39;\0&#39;, guaranteed by parser */</span></div>
<div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;        <span class="keywordflow">if</span> (quotes) {</div>
<div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160;            <span class="keywordtype">char</span> *ptr;</div>
<div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;            <span class="comment">/* Adjust the length by the number of escapes */</span></div>
<div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160;            <span class="keywordflow">for</span> (ptr = startp; ptr &lt; (vstr - 1); ptr++) {</div>
<div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160;                <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*ptr == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>) {</div>
<div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;                    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>--;</div>
<div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160;                    ptr++;</div>
<div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160;                }</div>
<div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;            }</div>
<div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;        }</div>
<div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;        orig_len = <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;        <span class="keywordflow">if</span> (*loc++ == <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;            <span class="comment">/* ${var::LEN} */</span></div>
<div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160;            <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = substr_atoi(loc);</div>
<div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;            <span class="comment">/* Skip POS in ${var:POS:LEN} */</span></div>
<div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;            <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = orig_len;</div>
<div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;            <span class="keywordflow">while</span> (*loc &amp;&amp; *loc != <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;                loc++;</div>
<div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160;            <span class="keywordflow">if</span> (*loc++ == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;                <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = substr_atoi(loc);</div>
<div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;        }</div>
<div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> &lt; 0) {</div>
<div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;            <span class="comment">/* ${VAR:$((-n)):l} starts n chars from the end */</span></div>
<div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;            <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> = orig_len + <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a>;</div>
<div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160;        }</div>
<div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)<a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> &gt;= orig_len) {</div>
<div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160;            <span class="comment">/* apart from obvious ${VAR:999999:l},</span></div>
<div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;<span class="comment">             * covers ${VAR:$((-9999999)):l} - result is &quot;&quot;</span></div>
<div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;<span class="comment">             * (bash compat)</span></div>
<div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;            <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> = 0;</div>
<div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;            <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = 0;</div>
<div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;        }</div>
<div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &lt; 0) {</div>
<div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160;            <span class="comment">/* ${VAR:N:-M} sets LEN to strlen()-M */</span></div>
<div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;            <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = (orig_len - <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a>) + <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;        }</div>
<div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &gt; (orig_len - <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a>))</div>
<div class="line"><a name="l07195"></a><span class="lineno"> 7195</span>&#160;            <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = orig_len - <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a>;</div>
<div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160; </div>
<div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;        <span class="keywordflow">if</span> (!quotes) {</div>
<div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160;            <span class="comment">/* want: loc = mempcpy(startp, startp + pos, len)</span></div>
<div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160;<span class="comment">             * but it does not allow overlapping arguments */</span></div>
<div class="line"><a name="l07200"></a><span class="lineno"> 7200</span>&#160;            loc = startp;</div>
<div class="line"><a name="l07201"></a><span class="lineno"> 7201</span>&#160;            <span class="keywordflow">while</span> (--<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &gt;= 0) {</div>
<div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;                *loc = loc[<a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a>];</div>
<div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;                loc++;</div>
<div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160;            }</div>
<div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;            <span class="keywordflow">for</span> (vstr = startp; <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> != 0; <a class="code" href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a>--) {</div>
<div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;                <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*vstr == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>)</div>
<div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;                    vstr++;</div>
<div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;                vstr++;</div>
<div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160;            }</div>
<div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160;            <span class="keywordflow">for</span> (loc = startp; <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> != 0; <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>--) {</div>
<div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;                <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*vstr == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>)</div>
<div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160;                    *loc++ = *vstr++;</div>
<div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;                *loc++ = *vstr++;</div>
<div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;            }</div>
<div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;        }</div>
<div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;        *loc = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;    }</div>
<div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* BASH_SUBSTR */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160;    }</div>
<div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160; </div>
<div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160;    resetloc = <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160; </div>
<div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160;<span class="preprocessor">#if BASH_PATTERN_SUBST</span></div>
<div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160;    <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160; </div>
<div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160;    <span class="comment">/* We&#39;ll comeback here if we grow the stack while handling</span></div>
<div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160;<span class="comment">     * a VSREPLACE or VSREPLACEALL, since our pointers into the</span></div>
<div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;<span class="comment">     * stack will need rebasing, and we&#39;ll need to remove our work</span></div>
<div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;<span class="comment">     * areas each time</span></div>
<div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160; <a class="code" href="../../d4/d49/vi_8c.html#af8c7a32b62c2d0375a34ec94ce25d68b">restart</a>:</div>
<div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160; </div>
<div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;    amount = <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> - ((<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + resetloc);</div>
<div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f">STADJUST</a>(-amount, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;    startp = (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + startloc;</div>
<div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160; </div>
<div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160;    rmesc = startp;</div>
<div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;    rmescend = (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + strloc;</div>
<div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;    <span class="comment">//bb_error_msg(&quot;str7:&#39;%s&#39;&quot;, rmescend);</span></div>
<div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160;    <span class="keywordflow">if</span> (quotes) {</div>
<div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;<span class="comment">//TODO: how to handle slash_pos here if string changes (shortens?)</span></div>
<div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160;        rmesc = <a class="code" href="../../d1/dbe/ash_8c.html#a80f4d118bbefdab6df40e7f843e89755">rmescapes</a>(startp, <a class="code" href="../../d1/dbe/ash_8c.html#aa7c2abff2dba1f2498eadc1fca05db7d">RMESCAPE_ALLOC</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a8ee7a5cf6352c2da56ffd7c71e4cd374">RMESCAPE_GROW</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160;        <span class="keywordflow">if</span> (rmesc != startp) {</div>
<div class="line"><a name="l07247"></a><span class="lineno"> 7247</span>&#160;            rmescend = <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>;</div>
<div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;            startp = (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + startloc;</div>
<div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160;        }</div>
<div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;    }</div>
<div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;    rmescend--;</div>
<div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;    <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + strloc;</div>
<div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;<span class="comment">     * Example: v=&#39;a\bc&#39;; echo ${v/\\b/_\\_\z_}</span></div>
<div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160;<span class="comment">     * The result is a_\_z_c (not a\_\_z_c)!</span></div>
<div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;<span class="comment">     * The search pattern and replace string treat backslashes differently!</span></div>
<div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160;<span class="comment">     * &quot;&amp;slash_pos&quot; causes rmescapes() to work differently on the pattern</span></div>
<div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160;<span class="comment">     * and string.  It&#39;s only used on the first call.</span></div>
<div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;    <span class="comment">//bb_error_msg(&quot;str8:&#39;%s&#39; slash_pos:%d&quot;, str, slash_pos);</span></div>
<div class="line"><a name="l07262"></a><span class="lineno"> 7262</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a80f4d118bbefdab6df40e7f843e89755">rmescapes</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a97c73dc70eb458579b40916899fe6974">RMESCAPE_GLOB</a>,</div>
<div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160;        <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> ? <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> : (slash_pos &lt; 0 ? <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> : &amp;slash_pos)</div>
<div class="line"><a name="l07264"></a><span class="lineno"> 7264</span>&#160;    );</div>
<div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160; </div>
<div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;<span class="preprocessor">#if BASH_PATTERN_SUBST</span></div>
<div class="line"><a name="l07267"></a><span class="lineno"> 7267</span>&#160;    workloc = <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;    <span class="keywordflow">if</span> (subtype == VSREPLACE || subtype == VSREPLACEALL) {</div>
<div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160;        <span class="keywordtype">size_t</span> no_meta_len, first_escaped;</div>
<div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>, *<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>;</div>
<div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160; </div>
<div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a>) {</div>
<div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;            <span class="comment">//bb_error_msg(&quot;str9:&#39;%s&#39; slash_pos:%d&quot;, str, slash_pos);</span></div>
<div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;            <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>;</div>
<div class="line"><a name="l07276"></a><span class="lineno"> 7276</span>&#160;            <span class="keywordflow">if</span> (slash_pos &gt;= 0) {</div>
<div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160;                <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> = <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> + slash_pos;</div>
<div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160;                *<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a>++ = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;            }</div>
<div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160;        }</div>
<div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;        <span class="comment">//bb_error_msg(&quot;str:&#39;%s&#39; repl:&#39;%s&#39;&quot;, str, repl);</span></div>
<div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160; </div>
<div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160;        <span class="comment">/* If there&#39;s no pattern to match, return the expansion unmolested */</span></div>
<div class="line"><a name="l07284"></a><span class="lineno"> 7284</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>[0] == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;            <span class="keywordflow">goto</span> out1;</div>
<div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160; </div>
<div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160;        first_escaped = (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>[0] == <span class="charliteral">&#39;\\&#39;</span> &amp;&amp; <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>[1]);</div>
<div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160;        <span class="comment">/* &quot;first_escaped&quot; trick allows to treat e.g. &quot;\*no_glob_chars&quot;</span></div>
<div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;<span class="comment">         * as literal too (as it is semi-common, and easy to accomodate</span></div>
<div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160;<span class="comment">         * by just using str + 1).</span></div>
<div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;        no_meta_len = <a class="code" href="../../d2/dce/apps_2base_2bash_2lib_2sh_2strpbrk_8c.html#a119f23a5dcb4eb5f1c1eed3cbf5cb0ed">strpbrk</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> + first_escaped * 2, <span class="stringliteral">&quot;*?[\\&quot;</span>) ? 0 : <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>);</div>
<div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = 0;</div>
<div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;        <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> = startp;</div>
<div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> = <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> - 1;</div>
<div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> &lt;= <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>) {</div>
<div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160; try_to_match:</div>
<div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;            <span class="keywordflow">if</span> (no_meta_len == 0) {</div>
<div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;                <span class="comment">/* pattern has meta chars, have to glob */</span></div>
<div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;                loc = <a class="code" href="../../d1/dbe/ash_8c.html#a4cbbc5976934727164a94401a98f26c9">scanright</a>(<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>, rmesc, rmescend, <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, quotes, <span class="comment">/*match_at_start:*/</span> 1);</div>
<div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160;                <span class="comment">/* Testcase for very slow replace (performs about 22k replaces):</span></div>
<div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;<span class="comment">                 * x=::::::::::::::::::::::</span></div>
<div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160;<span class="comment">                 * x=$x$x;x=$x$x;x=$x$x;x=$x$x;x=$x$x;x=$x$x;x=$x$x;x=$x$x;x=$x$x;x=$x$x;echo ${#x}</span></div>
<div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160;<span class="comment">                 * echo &quot;${x//:/|}&quot;</span></div>
<div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;<span class="comment">                 * To test &quot;first_escaped&quot; logic, replace : with *.</span></div>
<div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d3/d82/convert_8h.html#a9afae77e412a26e6c01e26b89d5c2b47">strncmp</a>(rmesc, <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> + first_escaped, no_meta_len - first_escaped) != 0)</div>
<div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160;                    <span class="keywordflow">goto</span> no_match;</div>
<div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160;                loc = <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>;</div>
<div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160;                <span class="keywordflow">if</span> (!quotes) {</div>
<div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;                    loc += no_meta_len - first_escaped;</div>
<div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;                    <span class="keywordtype">size_t</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = no_meta_len - first_escaped;</div>
<div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;                    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;                        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*loc == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>)</div>
<div class="line"><a name="l07317"></a><span class="lineno"> 7317</span>&#160;                            loc++;</div>
<div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160;                        loc++;</div>
<div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;                    } <span class="keywordflow">while</span> (--<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> != 0);</div>
<div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;                }</div>
<div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;            }</div>
<div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160;            <span class="comment">//bb_error_msg(&quot;scanright(&#39;%s&#39;):&#39;%s&#39;&quot;, str, loc);</span></div>
<div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;            <span class="keywordflow">if</span> (!loc) {</div>
<div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160;                <span class="keywordtype">char</span> *restart_detect;</div>
<div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160; no_match:</div>
<div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160;                <span class="comment">/* No match, advance */</span></div>
<div class="line"><a name="l07327"></a><span class="lineno"> 7327</span>&#160;                restart_detect = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160; skip_matching:</div>
<div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> &gt;= <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>)</div>
<div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(*<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() != restart_detect)</div>
<div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="../../d4/d49/vi_8c.html#af8c7a32b62c2d0375a34ec94ce25d68b">restart</a>;</div>
<div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;                <span class="keywordflow">if</span> (quotes &amp;&amp; (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>) {</div>
<div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;                    <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>++;</div>
<div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160;                    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>++;</div>
<div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(*<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() != restart_detect)</div>
<div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;                        <span class="keywordflow">goto</span> <a class="code" href="../../d4/d49/vi_8c.html#af8c7a32b62c2d0375a34ec94ce25d68b">restart</a>;</div>
<div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;                }</div>
<div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;                <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>++;</div>
<div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;                <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>++;</div>
<div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;                rmesc++;</div>
<div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;                <span class="comment">/* continue; - prone to quadratic behavior, smarter code: */</span></div>
<div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>[0] == <span class="charliteral">&#39;*&#39;</span>) {</div>
<div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;                    <span class="comment">/* Pattern is &quot;*foo&quot;. If &quot;*foo&quot; does not match &quot;long_string&quot;,</span></div>
<div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;<span class="comment">                     * it would never match &quot;ong_string&quot; etc, no point in trying.</span></div>
<div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;<span class="comment">                     */</span></div>
<div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160;                    <span class="keywordflow">goto</span> skip_matching;</div>
<div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160;                }</div>
<div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;                <span class="keywordflow">goto</span> try_to_match;</div>
<div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;            }</div>
<div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160; </div>
<div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160;            <span class="keywordflow">if</span> (subtype == VSREPLACEALL) {</div>
<div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;                <span class="keywordflow">while</span> (<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> &lt; loc) {</div>
<div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;                    <span class="keywordflow">if</span> (quotes &amp;&amp; (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>)</div>
<div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;                        <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>++;</div>
<div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160;                    <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>++;</div>
<div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;                    rmesc++;</div>
<div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160;                }</div>
<div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;                <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> = loc;</div>
<div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;            }</div>
<div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160; </div>
<div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;            <span class="comment">/* The STPUTC invocations above may resize and move the</span></div>
<div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;<span class="comment">             * stack via realloc(3). Since repl is a pointer into the</span></div>
<div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;<span class="comment">             * stack, we need to reconstruct it relative to stackblock().</span></div>
<div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160;            <span class="keywordflow">if</span> (slash_pos &gt;= 0)</div>
<div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;                <a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + strloc + slash_pos + 1;</div>
<div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160; </div>
<div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160;            <span class="comment">//bb_error_msg(&quot;repl:&#39;%s&#39;&quot;, repl);</span></div>
<div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;            <span class="keywordflow">for</span> (loc = (<span class="keywordtype">char</span>*)<a class="code" href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a>; *loc; loc++) {</div>
<div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;                <span class="keywordtype">char</span> *restart_detect = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;                <span class="keywordflow">if</span> (quotes &amp;&amp; *loc == <span class="charliteral">&#39;\\&#39;</span>) {</div>
<div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;                    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>++;</div>
<div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;                }</div>
<div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(*loc, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() != restart_detect)</div>
<div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="../../d4/d49/vi_8c.html#af8c7a32b62c2d0375a34ec94ce25d68b">restart</a>;</div>
<div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;                <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>++;</div>
<div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;            }</div>
<div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160; </div>
<div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160;            <span class="keywordflow">if</span> (subtype == VSREPLACE) {</div>
<div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;                <span class="comment">//bb_error_msg(&quot;tail:&#39;%s&#39;, quotes:%x&quot;, idx, quotes);</span></div>
<div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160;                <span class="keywordflow">while</span> (*<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>) {</div>
<div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;                    <span class="keywordtype">char</span> *restart_detect = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(*<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() != restart_detect)</div>
<div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;                        <span class="keywordflow">goto</span> <a class="code" href="../../d4/d49/vi_8c.html#af8c7a32b62c2d0375a34ec94ce25d68b">restart</a>;</div>
<div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;                    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>++;</div>
<div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160;                    <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>++;</div>
<div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160;                }</div>
<div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;            }</div>
<div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;        }</div>
<div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160; </div>
<div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160;        <span class="comment">/* We&#39;ve put the replaced text into a buffer at workloc, now</span></div>
<div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160;<span class="comment">         * move it to the right place and adjust the stack.</span></div>
<div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(<span class="charliteral">&#39;\0&#39;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;        startp = (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + startloc;</div>
<div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;        <a class="code" href="../../d3/d82/convert_8h.html#ade3705de59d35b8a437f71a8beff883c">memmove</a>(startp, (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + workloc, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + 1);</div>
<div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;        <span class="comment">//bb_error_msg(&quot;startp:&#39;%s&#39;&quot;, startp);</span></div>
<div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;        loc = startp + <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160;    }</div>
<div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* BASH_PATTERN_SUBST */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160; </div>
<div class="line"><a name="l07411"></a><span class="lineno"> 7411</span>&#160;    subtype -= <a class="code" href="../../d1/dbe/ash_8c.html#a23306e67a1676110c786b103b6edeb14">VSTRIMRIGHT</a>;</div>
<div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l07413"></a><span class="lineno"> 7413</span>&#160;    <span class="keywordflow">if</span> (subtype &lt; 0 || subtype &gt; 7)</div>
<div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160;        <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a>();</div>
<div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160;    <span class="comment">/* zero = (subtype == VSTRIMLEFT || subtype == VSTRIMLEFTMAX) */</span></div>
<div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160;    zero = subtype &gt;&gt; 1;</div>
<div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;    <span class="comment">/* VSTRIMLEFT/VSTRIMRIGHTMAX -&gt; scanleft */</span></div>
<div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160;    scan = (subtype &amp; 1) ^ zero ? <a class="code" href="../../d1/dbe/ash_8c.html#a5cb12086d38c862ddf6bcc7f4b5796b8">scanleft</a> : <a class="code" href="../../d1/dbe/ash_8c.html#a4cbbc5976934727164a94401a98f26c9">scanright</a>;</div>
<div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160; </div>
<div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160;    loc = scan(startp, rmesc, rmescend, <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, quotes, zero);</div>
<div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;    <span class="keywordflow">if</span> (loc) {</div>
<div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;        <span class="keywordflow">if</span> (zero) {</div>
<div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160;            <a class="code" href="../../d3/d82/convert_8h.html#ade3705de59d35b8a437f71a8beff883c">memmove</a>(startp, loc, <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> - loc);</div>
<div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;            loc = startp + (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> - loc) - 1;</div>
<div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;        }</div>
<div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;        *loc = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;        loc = <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> - 1;</div>
<div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160; </div>
<div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160;    amount = loc - <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>;</div>
<div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f">STADJUST</a>(amount, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;<span class="preprocessor">#if BASH_PATTERN_SUBST</span></div>
<div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160; out1:</div>
<div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160;    <span class="comment">/* Remove any recorded regions beyond start of variable */</span></div>
<div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#acb10ee9df0af430aa5a480e3bf151363">removerecordregions</a>(startloc);</div>
<div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160; </div>
<div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;}</div>
<div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160; </div>
<div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160;<span class="comment"> * Add the value of a specialized variable to the stack string.</span></div>
<div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;<span class="comment"> * name parameter (examples):</span></div>
<div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;<span class="comment"> * ash -c &#39;echo $1&#39;      name:&#39;1=&#39;</span></div>
<div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;<span class="comment"> * ash -c &#39;echo $qwe&#39;    name:&#39;qwe=&#39;</span></div>
<div class="line"><a name="l07448"></a><span class="lineno"> 7448</span>&#160;<span class="comment"> * ash -c &#39;echo $$&#39;      name:&#39;$=&#39;</span></div>
<div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160;<span class="comment"> * ash -c &#39;echo ${$}&#39;    name:&#39;$=&#39;</span></div>
<div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;<span class="comment"> * ash -c &#39;echo ${$##q}&#39; name:&#39;$=q&#39;</span></div>
<div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;<span class="comment"> * ash -c &#39;echo ${#$}&#39;   name:&#39;$=&#39;</span></div>
<div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160;<span class="comment"> * note: examples with bad shell syntax:</span></div>
<div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;<span class="comment"> * ash -c &#39;echo ${#$1}&#39;  name:&#39;$=1&#39;</span></div>
<div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;<span class="comment"> * ash -c &#39;echo ${#1#}&#39;  name:&#39;1=#&#39;</span></div>
<div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#a1b173d22e57d9395897acbd8de62d505">NOINLINE</a> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af10f4c58d91a6fa30ccc8a19d0ecbf48">ssize_t</a></div>
<div class="line"><a name="l07457"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1eaea1ff84a1ecb0485a6e42ad4558b6"> 7457</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a1eaea1ff84a1ecb0485a6e42ad4558b6">varvalue</a>(<span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> varflags, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>, <span class="keywordtype">int</span> quoted)</div>
<div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;{</div>
<div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#aaf825a665c491e6d28245b43f85b5402">num</a>;</div>
<div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af10f4c58d91a6fa30ccc8a19d0ecbf48">ssize_t</a> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = 0;</div>
<div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;    <span class="keywordtype">int</span> sep;</div>
<div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160;    <span class="keywordtype">int</span> subtype = varflags &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9e9b4cf0195e0b55558bef9788071c10">VSTYPE</a>;</div>
<div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160;    <span class="keywordtype">int</span> discard = (subtype == <a class="code" href="../../d1/dbe/ash_8c.html#ac3a97935f5f86ca67b513b3ed3e576d5">VSPLUS</a> || subtype == <a class="code" href="../../d1/dbe/ash_8c.html#a252bfb51e3aaaead48778387d4db014c">VSLENGTH</a>) | (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>);</div>
<div class="line"><a name="l07466"></a><span class="lineno"> 7466</span>&#160; </div>
<div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;    <span class="keywordflow">if</span> (!subtype) {</div>
<div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160;        <span class="keywordflow">if</span> (discard)</div>
<div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160; </div>
<div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af9265d6c3a5373cad84b09975e7c1f92">ifsfree</a>();</div>
<div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(<span class="stringliteral">&quot;bad substitution&quot;</span>);</div>
<div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;    }</div>
<div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160; </div>
<div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160;    <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> |= <a class="code" href="../../d1/dbe/ash_8c.html#a81b2b2c45b240c26973db8ade9c149b1">EXP_KEEPNUL</a>;</div>
<div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;    <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp;= discard ? ~<a class="code" href="../../d1/dbe/ash_8c.html#add5a51c82ed1ebedf307a714d9ccef0f">QUOTES_ESC</a> : ~0;</div>
<div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;    sep = (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#ad93fac6975049cf96d7989ffad986cc4">EXP_FULL</a>) &lt;&lt; <a class="code" href="../../d4/df4/Kernel_2include__std_2limits_8h.html#a308d9dd2c0028ddb184b455bbd7865de">CHAR_BIT</a>;</div>
<div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160; </div>
<div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;    <span class="keywordflow">switch</span> (*name) {</div>
<div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;$&#39;</span>:</div>
<div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;        <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ac3e2ce87919bfafa74665637d5e32f8a">rootpid</a>;</div>
<div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;        <span class="keywordflow">goto</span> numvar;</div>
<div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;?&#39;</span>:</div>
<div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160;        <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a>;</div>
<div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;        <span class="keywordflow">goto</span> numvar;</div>
<div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;#&#39;</span>:</div>
<div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;        <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.nparam;</div>
<div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;        <span class="keywordflow">goto</span> numvar;</div>
<div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;!&#39;</span>:</div>
<div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;        <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3defff30bf6bea060bacaa2ea9324893">backgndpid</a>;</div>
<div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> == 0)</div>
<div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160; numvar:</div>
<div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ac12f0386eba3659610aebea12b999475">cvtnum</a>(<a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;        <span class="keywordflow">goto</span> check_1char_name;</div>
<div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;-&#39;</span>:</div>
<div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8fbe4c07cec9e449521386e9b41608c0">makestrspace</a>(<a class="code" href="../../d1/dbe/ash_8c.html#add71b5aa3cf93ea594bead45162618e7a436a02069b564b58bce17331bcf4759b">NOPTS</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d1/dbe/ash_8c.html#add71b5aa3cf93ea594bead45162618e7a436a02069b564b58bce17331bcf4759b">NOPTS</a> - 1; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &gt;= 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>--) {</div>
<div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a0b34fd79d6542a75d2fa821ed376a203">optletters</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>)) {</div>
<div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a0b34fd79d6542a75d2fa821ed376a203">optletters</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>), <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160;                <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>++;</div>
<div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;            }</div>
<div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;        }</div>
<div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160; check_1char_name:</div>
<div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160;        <span class="comment">/* handles cases similar to ${#$1} */</span></div>
<div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;        <span class="keywordflow">if</span> (name[2] != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(<span class="stringliteral">&quot;bad substitution&quot;</span>);</div>
<div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;@&#39;</span>:</div>
<div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160;        <span class="keywordflow">if</span> (quoted &amp;&amp; sep)</div>
<div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d5/db3/apps_2base_2busybox_2coreutils_2chown_8c.html#acff701cfc8fab0de8704435ba1462970">param</a>;</div>
<div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;        <span class="comment">/* fall through */</span></div>
<div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;*&#39;</span>: {</div>
<div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;        <span class="keywordtype">char</span> **<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;        <span class="keywordtype">char</span> sepc;</div>
<div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160; </div>
<div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160;        <span class="comment">/* We will set c to 0 or ~0 depending on whether</span></div>
<div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;<span class="comment">         * we&#39;re doing field splitting.  We won&#39;t do field</span></div>
<div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;<span class="comment">         * splitting if either we&#39;re quoted or sep is zero.</span></div>
<div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160;<span class="comment">         * Instead of testing (quoted || !sep) the following</span></div>
<div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;<span class="comment">         * trick optimises away any branches by using the</span></div>
<div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;<span class="comment">         * fact that EXP_QUOTED (which is the only bit that</span></div>
<div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;<span class="comment">         * can be set in quoted) is the same as EXP_FULL &lt;&lt;</span></div>
<div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160;<span class="comment">         * CHAR_BIT (which is the only bit that can be set</span></div>
<div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;<span class="comment">         * in sep).</span></div>
<div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;<span class="preprocessor">#if EXP_QUOTED &gt;&gt; CHAR_BIT != EXP_FULL</span></div>
<div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;<span class="preprocessor">#error The following two lines expect EXP_QUOTED == EXP_FULL &lt;&lt; CHAR_BIT</span></div>
<div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = !((quoted | ~sep) &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a>) - 1;</div>
<div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160;        sep &amp;= ~quoted;</div>
<div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;        sep |= <a class="code" href="../../d1/dbe/ash_8c.html#acd3e2ca36650d357e00ffca1ae1a4781">ifsset</a>() ? (<span class="keywordtype">unsigned</span> char)(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#ae6710df2501efb4611fc9568466e060d">ifsval</a>()[0]) : <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160; <a class="code" href="../../d5/db3/apps_2base_2busybox_2coreutils_2chown_8c.html#acff701cfc8fab0de8704435ba1462970">param</a>:</div>
<div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;        sepc = sep;</div>
<div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;        <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.p;</div>
<div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>)</div>
<div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;        <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>++) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160;            <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> += <a class="code" href="../../d1/dbe/ash_8c.html#a45daef36f05d6c778f520fadd46cf16b">strtodest</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160; </div>
<div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> &amp;&amp; sep) {</div>
<div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;                <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>++;</div>
<div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#acc305e420f46292b0f8d7817ddd01d97">memtodest</a>(&amp;sepc, 1, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160;            }</div>
<div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;        }</div>
<div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160;    } <span class="comment">/* case &#39;*&#39; */</span></div>
<div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>:</div>
<div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>:</div>
<div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>:</div>
<div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>:</div>
<div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>:</div>
<div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;5&#39;</span>:</div>
<div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;6&#39;</span>:</div>
<div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;7&#39;</span>:</div>
<div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;8&#39;</span>:</div>
<div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;9&#39;</span>:</div>
<div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;        <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> = <a class="code" href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a>(name); <span class="comment">/* number(name) fails on ${N#str} etc */</span></div>
<div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num &lt; 0 || num &gt;</a> <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.nparam)</div>
<div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> ? <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.p[<a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> - 1] : <a class="code" href="../../d1/dbe/ash_8c.html#a4d8f94d47a736d70ada8c5afbe26b248">arg0</a>;</div>
<div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div>
<div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;        <span class="comment">/* NB: name has form &quot;VAR=...&quot; */</span></div>
<div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(name);</div>
<div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160; <a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>:</div>
<div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160; </div>
<div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a45daef36f05d6c778f520fadd46cf16b">strtodest</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160;<span class="preprocessor">#if ENABLE_UNICODE_SUPPORT</span></div>
<div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;        <span class="keywordflow">if</span> (subtype == <a class="code" href="../../d1/dbe/ash_8c.html#a252bfb51e3aaaead48778387d4db014c">VSLENGTH</a> &amp;&amp; <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &gt; 0) {</div>
<div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#af36cd12454a274bc186175cf6def6e1f">reinit_unicode_for_ash</a>();</div>
<div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/dad/busybox_2libbb_2unicode_8c.html#ae78a55c0917b659346cb649faf2ba97e">unicode_status</a> == <a class="code" href="../../dd/d90/unicode_8h.html#aa8926c0886bec1199b1a99fa2523d455a9bb6ba752343b75838ca9d9eb88b8c05">UNICODE_ON</a>) {</div>
<div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f">STADJUST</a>(-<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;                discard = 0;</div>
<div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;                <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d9/dad/busybox_2libbb_2unicode_8c.html#a3956874ad716c82074e4d5a513dbe0c3">unicode_strlen</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;            }</div>
<div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;        }</div>
<div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;    }</div>
<div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160; </div>
<div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;    <span class="keywordflow">if</span> (discard)</div>
<div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f">STADJUST</a>(-<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160; </div>
<div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160;}</div>
<div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160; </div>
<div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;<span class="comment"> * Expand a variable, and return a pointer to the next character in the</span></div>
<div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160;<span class="comment"> * input string.</span></div>
<div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l07599"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a07a309f34c2a1c91e1200006f744009d"> 7599</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a07a309f34c2a1c91e1200006f744009d">evalvar</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keywordtype">int</span> flag)</div>
<div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;{</div>
<div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;    <span class="keywordtype">char</span> varflags;</div>
<div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;    <span class="keywordtype">char</span> subtype;</div>
<div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../de/dcc/awk_8c.html#a2e8d2426582aedb61af37935c1d60c1c">var</a>;</div>
<div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;    <span class="keywordtype">int</span> patloc;</div>
<div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;    <span class="keywordtype">int</span> startloc;</div>
<div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#af10f4c58d91a6fa30ccc8a19d0ecbf48">ssize_t</a> varlen;</div>
<div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;    <span class="keywordtype">int</span> discard;</div>
<div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;    <span class="keywordtype">int</span> quoted;</div>
<div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160; </div>
<div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;    varflags = (<span class="keywordtype">unsigned</span> char) *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;    subtype = varflags &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9e9b4cf0195e0b55558bef9788071c10">VSTYPE</a>;</div>
<div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160; </div>
<div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160;    quoted = flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a>;</div>
<div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;    startloc = <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="charliteral">&#39;=&#39;</span>) + 1; <span class="comment">//TODO: use var_end(p)?</span></div>
<div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160; </div>
<div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160; again:</div>
<div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;    varlen = <a class="code" href="../../d1/dbe/ash_8c.html#a1eaea1ff84a1ecb0485a6e42ad4558b6">varvalue</a>(<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, varflags, flag, quoted);</div>
<div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160;    <span class="keywordflow">if</span> (varflags &amp; <a class="code" href="../../d1/dbe/ash_8c.html#ad557438155906b9dc1a3a6fee168ceb3">VSNUL</a>)</div>
<div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;        varlen--;</div>
<div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160; </div>
<div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160;    discard = varlen &lt; 0 ? <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a> : 0;</div>
<div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160; </div>
<div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;    <span class="keywordflow">switch</span> (subtype) {</div>
<div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac3a97935f5f86ca67b513b3ed3e576d5">VSPLUS</a>:</div>
<div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;        discard ^= <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>;</div>
<div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;        <span class="comment">/* fall through */</span></div>
<div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a34566e0b5e69a5a690d149fd7b1ee52d">VSMINUS</a>:</div>
<div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a277d3674302086c22d6a6d9f6e535fb1">argstr</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, flag | <a class="code" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a6511eb40f475a23fdadfc358e87c9420">EXP_WORD</a> | (discard ^ <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>));</div>
<div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;        <span class="keywordflow">goto</span> record;</div>
<div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160; </div>
<div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aac40b5dd63c7a97a8f63ba1944f2b137">VSASSIGN</a>:</div>
<div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#abd06ab98107e417c725a24580a15b566">VSQUESTION</a>:</div>
<div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af8c26955d672a1c8831a939a493fc6cb">subevalvar</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, 0, startloc, varflags,</div>
<div class="line"><a name="l07637"></a><span class="lineno"> 7637</span>&#160;            (flag &amp; ~<a class="code" href="../../d1/dbe/ash_8c.html#add5a51c82ed1ebedf307a714d9ccef0f">QUOTES_ESC</a>) | (discard ^ <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>));</div>
<div class="line"><a name="l07638"></a><span class="lineno"> 7638</span>&#160; </div>
<div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;        <span class="keywordflow">if</span> ((flag | ~discard) &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>)</div>
<div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160;            <span class="keywordflow">goto</span> record;</div>
<div class="line"><a name="l07641"></a><span class="lineno"> 7641</span>&#160; </div>
<div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;        varflags &amp;= ~<a class="code" href="../../d1/dbe/ash_8c.html#ad557438155906b9dc1a3a6fee168ceb3">VSNUL</a>;</div>
<div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;        subtype = <a class="code" href="../../d1/dbe/ash_8c.html#a3c58eaf841c80ab6d8e9acdf52172d33">VSNORMAL</a>;</div>
<div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;        <span class="keywordflow">goto</span> again;</div>
<div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160;    }</div>
<div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160; </div>
<div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;    <span class="keywordflow">if</span> ((discard &amp; ~flag) &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a8fa213832f0e90c9ee50c2bff0851cc7">uflag</a>)</div>
<div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8b7aba05c056e2fa2955ba3f3302d07e">varunset</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a>, 0, 0);</div>
<div class="line"><a name="l07649"></a><span class="lineno"> 7649</span>&#160; </div>
<div class="line"><a name="l07650"></a><span class="lineno"> 7650</span>&#160;    <span class="keywordflow">if</span> (subtype == <a class="code" href="../../d1/dbe/ash_8c.html#a252bfb51e3aaaead48778387d4db014c">VSLENGTH</a>) {</div>
<div class="line"><a name="l07651"></a><span class="lineno"> 7651</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l07652"></a><span class="lineno"> 7652</span>&#160;        <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>)</div>
<div class="line"><a name="l07653"></a><span class="lineno"> 7653</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07654"></a><span class="lineno"> 7654</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ac12f0386eba3659610aebea12b999475">cvtnum</a>(varlen &gt; 0 ? varlen : 0, flag);</div>
<div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160;        <span class="keywordflow">goto</span> really_record;</div>
<div class="line"><a name="l07656"></a><span class="lineno"> 7656</span>&#160;    }</div>
<div class="line"><a name="l07657"></a><span class="lineno"> 7657</span>&#160; </div>
<div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;    <span class="keywordflow">if</span> (subtype == <a class="code" href="../../d1/dbe/ash_8c.html#a3c58eaf841c80ab6d8e9acdf52172d33">VSNORMAL</a>)</div>
<div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;        <span class="keywordflow">goto</span> record;</div>
<div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160; </div>
<div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160;    <span class="keywordflow">switch</span> (subtype) {</div>
<div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a36bca9db2dbf431324629bdd81a36d02">VSTRIMLEFT</a>:</div>
<div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4b789a45741aa8c9d9c995b497347e74">VSTRIMLEFTMAX</a>:</div>
<div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a23306e67a1676110c786b103b6edeb14">VSTRIMRIGHT</a>:</div>
<div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#af1a10a9c8fb23b3c9ee017fd02f711bc">VSTRIMRIGHTMAX</a>:</div>
<div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160;<span class="preprocessor">#if BASH_SUBSTR</span></div>
<div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160;    <span class="keywordflow">case</span> VSSUBSTR:</div>
<div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160;<span class="preprocessor">#if BASH_PATTERN_SUBST</span></div>
<div class="line"><a name="l07671"></a><span class="lineno"> 7671</span>&#160;    <span class="keywordflow">case</span> VSREPLACE:</div>
<div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160;    <span class="keywordflow">case</span> VSREPLACEALL:</div>
<div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07675"></a><span class="lineno"> 7675</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160;        <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a>();</div>
<div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;    }</div>
<div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160; </div>
<div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;    flag |= discard;</div>
<div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160;    <span class="keywordflow">if</span> (!(flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>)) {</div>
<div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160;<span class="comment">         * Terminate the string and start recording the pattern</span></div>
<div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;<span class="comment">         * right after it</span></div>
<div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l07686"></a><span class="lineno"> 7686</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(<span class="charliteral">&#39;\0&#39;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;    }</div>
<div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160; </div>
<div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;    patloc = <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af8c26955d672a1c8831a939a493fc6cb">subevalvar</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, patloc, startloc, varflags, flag);</div>
<div class="line"><a name="l07691"></a><span class="lineno"> 7691</span>&#160; </div>
<div class="line"><a name="l07692"></a><span class="lineno"> 7692</span>&#160; record:</div>
<div class="line"><a name="l07693"></a><span class="lineno"> 7693</span>&#160;    <span class="keywordflow">if</span> ((flag | discard) &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a>)</div>
<div class="line"><a name="l07694"></a><span class="lineno"> 7694</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07695"></a><span class="lineno"> 7695</span>&#160; </div>
<div class="line"><a name="l07696"></a><span class="lineno"> 7696</span>&#160; really_record:</div>
<div class="line"><a name="l07697"></a><span class="lineno"> 7697</span>&#160;    <span class="keywordflow">if</span> (quoted) {</div>
<div class="line"><a name="l07698"></a><span class="lineno"> 7698</span>&#160;        quoted = *<a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> == <span class="charliteral">&#39;@&#39;</span> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.nparam;</div>
<div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160;        <span class="keywordflow">if</span> (!quoted)</div>
<div class="line"><a name="l07700"></a><span class="lineno"> 7700</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160;    }</div>
<div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a02ad7f0d14c09b190354197d05396c72">recordregion</a>(startloc, <a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>(), quoted);</div>
<div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160;}</div>
<div class="line"><a name="l07705"></a><span class="lineno"> 7705</span>&#160; </div>
<div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160;<span class="comment"> * Add a file name to the list.</span></div>
<div class="line"><a name="l07708"></a><span class="lineno"> 7708</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l07710"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1af6e16c9bae6e74cae1483aa0827b58"> 7710</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a1af6e16c9bae6e74cae1483aa0827b58">addfname</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160;{</div>
<div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160; </div>
<div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;    <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>));</div>
<div class="line"><a name="l07715"></a><span class="lineno"> 7715</span>&#160;    <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;text = <a class="code" href="../../d1/dbe/ash_8c.html#a8a9439fe2ef12c44f9a6ced41a4e21a0">sstrdup</a>(name);</div>
<div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160;    *<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l07717"></a><span class="lineno"> 7717</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next;</div>
<div class="line"><a name="l07718"></a><span class="lineno"> 7718</span>&#160;}</div>
<div class="line"><a name="l07719"></a><span class="lineno"> 7719</span>&#160; </div>
<div class="line"><a name="l07720"></a><span class="lineno"> 7720</span>&#160;<span class="comment">/* Avoid glob() (and thus, stat() et al) for words like &quot;echo&quot; */</span></div>
<div class="line"><a name="l07721"></a><span class="lineno"> 7721</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l07722"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a03a9af86fd8e5d88072d38a51144654d"> 7722</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a03a9af86fd8e5d88072d38a51144654d">hasmeta</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l07723"></a><span class="lineno"> 7723</span>&#160;{</div>
<div class="line"><a name="l07724"></a><span class="lineno"> 7724</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> chars[] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = {</div>
<div class="line"><a name="l07725"></a><span class="lineno"> 7725</span>&#160;        <span class="charliteral">&#39;*&#39;</span>, <span class="charliteral">&#39;?&#39;</span>, <span class="charliteral">&#39;[&#39;</span>, <span class="charliteral">&#39;\\&#39;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>, 0</div>
<div class="line"><a name="l07726"></a><span class="lineno"> 7726</span>&#160;    };</div>
<div class="line"><a name="l07727"></a><span class="lineno"> 7727</span>&#160; </div>
<div class="line"><a name="l07728"></a><span class="lineno"> 7728</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l07729"></a><span class="lineno"> 7729</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d2/dce/apps_2base_2bash_2lib_2sh_2strpbrk_8c.html#a119f23a5dcb4eb5f1c1eed3cbf5cb0ed">strpbrk</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, chars);</div>
<div class="line"><a name="l07730"></a><span class="lineno"> 7730</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l07731"></a><span class="lineno"> 7731</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07732"></a><span class="lineno"> 7732</span>&#160;        <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {</div>
<div class="line"><a name="l07733"></a><span class="lineno"> 7733</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a>:</div>
<div class="line"><a name="l07734"></a><span class="lineno"> 7734</span>&#160;            <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l07735"></a><span class="lineno"> 7735</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l07736"></a><span class="lineno"> 7736</span>&#160;                <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a>)</div>
<div class="line"><a name="l07737"></a><span class="lineno"> 7737</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07738"></a><span class="lineno"> 7738</span>&#160;                <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>)</div>
<div class="line"><a name="l07739"></a><span class="lineno"> 7739</span>&#160;                    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l07740"></a><span class="lineno"> 7740</span>&#160;                <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\0&#39;</span>) <span class="comment">/* huh? */</span></div>
<div class="line"><a name="l07741"></a><span class="lineno"> 7741</span>&#160;                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l07742"></a><span class="lineno"> 7742</span>&#160;            }</div>
<div class="line"><a name="l07743"></a><span class="lineno"> 7743</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07744"></a><span class="lineno"> 7744</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\\&#39;</span>:</div>
<div class="line"><a name="l07745"></a><span class="lineno"> 7745</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>:</div>
<div class="line"><a name="l07746"></a><span class="lineno"> 7746</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l07747"></a><span class="lineno"> 7747</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l07748"></a><span class="lineno"> 7748</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l07749"></a><span class="lineno"> 7749</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07750"></a><span class="lineno"> 7750</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;[&#39;</span>:</div>
<div class="line"><a name="l07751"></a><span class="lineno"> 7751</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + 1, <span class="charliteral">&#39;]&#39;</span>)) {</div>
<div class="line"><a name="l07752"></a><span class="lineno"> 7752</span>&#160;                <span class="comment">/* It&#39;s not a properly closed [] pattern,</span></div>
<div class="line"><a name="l07753"></a><span class="lineno"> 7753</span>&#160;<span class="comment">                 * but other metas may follow. Continue checking.</span></div>
<div class="line"><a name="l07754"></a><span class="lineno"> 7754</span>&#160;<span class="comment">                 * my[file* _is_ globbed by bash</span></div>
<div class="line"><a name="l07755"></a><span class="lineno"> 7755</span>&#160;<span class="comment">                 * and matches filenames like &quot;my[file1&quot;.</span></div>
<div class="line"><a name="l07756"></a><span class="lineno"> 7756</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l07757"></a><span class="lineno"> 7757</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07758"></a><span class="lineno"> 7758</span>&#160;            }</div>
<div class="line"><a name="l07759"></a><span class="lineno"> 7759</span>&#160;            <span class="comment">/* fallthrough */</span></div>
<div class="line"><a name="l07760"></a><span class="lineno"> 7760</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07761"></a><span class="lineno"> 7761</span>&#160;        <span class="comment">/* case &#39;*&#39;: */</span></div>
<div class="line"><a name="l07762"></a><span class="lineno"> 7762</span>&#160;        <span class="comment">/* case &#39;?&#39;: */</span></div>
<div class="line"><a name="l07763"></a><span class="lineno"> 7763</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l07764"></a><span class="lineno"> 7764</span>&#160;        }</div>
<div class="line"><a name="l07765"></a><span class="lineno"> 7765</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l07766"></a><span class="lineno"> 7766</span>&#160;    }</div>
<div class="line"><a name="l07767"></a><span class="lineno"> 7767</span>&#160; </div>
<div class="line"><a name="l07768"></a><span class="lineno"> 7768</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l07769"></a><span class="lineno"> 7769</span>&#160;}</div>
<div class="line"><a name="l07770"></a><span class="lineno"> 7770</span>&#160; </div>
<div class="line"><a name="l07771"></a><span class="lineno"> 7771</span>&#160;<span class="comment">/* If we want to use glob() from libc... */</span></div>
<div class="line"><a name="l07772"></a><span class="lineno"> 7772</span>&#160;<span class="preprocessor">#if !ENABLE_ASH_INTERNAL_GLOB</span></div>
<div class="line"><a name="l07773"></a><span class="lineno"> 7773</span>&#160; </div>
<div class="line"><a name="l07774"></a><span class="lineno"> 7774</span>&#160;<span class="comment">/* Add the result of glob() to the list */</span></div>
<div class="line"><a name="l07775"></a><span class="lineno"> 7775</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l07776"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab7dbfe8cde484bdf161196dfc439d71c"> 7776</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ab7dbfe8cde484bdf161196dfc439d71c">addglob</a>(<span class="keyword">const</span> <a class="code" href="../../df/dc1/musl_2include_2glob_8h.html#d6/d23/structglob__t">glob_t</a> *pglob)</div>
<div class="line"><a name="l07777"></a><span class="lineno"> 7777</span>&#160;{</div>
<div class="line"><a name="l07778"></a><span class="lineno"> 7778</span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = pglob-&gt;<a class="code" href="../../df/dc1/musl_2include_2glob_8h.html#abd9ba3e5bd7a4767af2cd3dd98a2a64f">gl_pathv</a>;</div>
<div class="line"><a name="l07779"></a><span class="lineno"> 7779</span>&#160; </div>
<div class="line"><a name="l07780"></a><span class="lineno"> 7780</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l07781"></a><span class="lineno"> 7781</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1af6e16c9bae6e74cae1483aa0827b58">addfname</a>(*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l07782"></a><span class="lineno"> 7782</span>&#160;    } <span class="keywordflow">while</span> (*++<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l07783"></a><span class="lineno"> 7783</span>&#160;}</div>
<div class="line"><a name="l07784"></a><span class="lineno"> 7784</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l07785"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adb3a59631381aedad5f27d1b889f05e1"> 7785</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#adb3a59631381aedad5f27d1b889f05e1">expandmeta</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> <span class="comment">/*, int flag*/</span>)</div>
<div class="line"><a name="l07786"></a><span class="lineno"> 7786</span>&#160;{</div>
<div class="line"><a name="l07787"></a><span class="lineno"> 7787</span>&#160;    <span class="comment">/* TODO - EXP_REDIR */</span></div>
<div class="line"><a name="l07788"></a><span class="lineno"> 7788</span>&#160; </div>
<div class="line"><a name="l07789"></a><span class="lineno"> 7789</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>) {</div>
<div class="line"><a name="l07790"></a><span class="lineno"> 7790</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07791"></a><span class="lineno"> 7791</span>&#160;        <a class="code" href="../../df/dc1/musl_2include_2glob_8h.html#d6/d23/structglob__t">glob_t</a> pglob;</div>
<div class="line"><a name="l07792"></a><span class="lineno"> 7792</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l07793"></a><span class="lineno"> 7793</span>&#160; </div>
<div class="line"><a name="l07794"></a><span class="lineno"> 7794</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#afbb561cd66b6398681da36474269617a">fflag</a>)</div>
<div class="line"><a name="l07795"></a><span class="lineno"> 7795</span>&#160;            <span class="keywordflow">goto</span> nometa;</div>
<div class="line"><a name="l07796"></a><span class="lineno"> 7796</span>&#160; </div>
<div class="line"><a name="l07797"></a><span class="lineno"> 7797</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a03a9af86fd8e5d88072d38a51144654d">hasmeta</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>-&gt;text))</div>
<div class="line"><a name="l07798"></a><span class="lineno"> 7798</span>&#160;            <span class="keywordflow">goto</span> nometa;</div>
<div class="line"><a name="l07799"></a><span class="lineno"> 7799</span>&#160; </div>
<div class="line"><a name="l07800"></a><span class="lineno"> 7800</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l07801"></a><span class="lineno"> 7801</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3cbcd79044f21d4978df44ed66c263ca">preglob</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>-&gt;text, <a class="code" href="../../d1/dbe/ash_8c.html#aa7c2abff2dba1f2498eadc1fca05db7d">RMESCAPE_ALLOC</a> | <a class="code" href="../../d1/dbe/ash_8c.html#aa3fe56f62b3738a614cc2ed250a6f5f5">RMESCAPE_HEAP</a>);</div>
<div class="line"><a name="l07802"></a><span class="lineno"> 7802</span>&#160;<span class="comment">// GLOB_NOMAGIC (GNU): if no *?[ chars in pattern, return it even if no match</span></div>
<div class="line"><a name="l07803"></a><span class="lineno"> 7803</span>&#160;<span class="comment">// GLOB_NOCHECK: if no match, return unchanged pattern (sans \* escapes?)</span></div>
<div class="line"><a name="l07804"></a><span class="lineno"> 7804</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07805"></a><span class="lineno"> 7805</span>&#160;<span class="comment">// glibc 2.24.90 glob(GLOB_NOMAGIC) does not remove backslashes used for escaping:</span></div>
<div class="line"><a name="l07806"></a><span class="lineno"> 7806</span>&#160;<span class="comment">// if you pass it &quot;file\?&quot;, it returns &quot;file\?&quot;, not &quot;file?&quot;, if no match.</span></div>
<div class="line"><a name="l07807"></a><span class="lineno"> 7807</span>&#160;<span class="comment">// Which means you need to unescape the string, right? Not so fast:</span></div>
<div class="line"><a name="l07808"></a><span class="lineno"> 7808</span>&#160;<span class="comment">// if there _is_ a file named &quot;file\?&quot; (with backslash), it is returned</span></div>
<div class="line"><a name="l07809"></a><span class="lineno"> 7809</span>&#160;<span class="comment">// as &quot;file\?&quot; too (whichever pattern you used to find it, say, &quot;file*&quot;).</span></div>
<div class="line"><a name="l07810"></a><span class="lineno"> 7810</span>&#160;<span class="comment">// You DON&#39;T KNOW by looking at the result whether you need to unescape it.</span></div>
<div class="line"><a name="l07811"></a><span class="lineno"> 7811</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07812"></a><span class="lineno"> 7812</span>&#160;<span class="comment">// Worse, globbing of &quot;file\?&quot; in a directory with two files, &quot;file?&quot; and &quot;file\?&quot;,</span></div>
<div class="line"><a name="l07813"></a><span class="lineno"> 7813</span>&#160;<span class="comment">// returns &quot;file\?&quot; - which is WRONG: &quot;file\?&quot; pattern matches &quot;file?&quot; file.</span></div>
<div class="line"><a name="l07814"></a><span class="lineno"> 7814</span>&#160;<span class="comment">// Without GLOB_NOMAGIC, this works correctly (&quot;file?&quot; is returned as a match).</span></div>
<div class="line"><a name="l07815"></a><span class="lineno"> 7815</span>&#160;<span class="comment">// With GLOB_NOMAGIC | GLOB_NOCHECK, this also works correctly.</span></div>
<div class="line"><a name="l07816"></a><span class="lineno"> 7816</span>&#160;<span class="comment">//      i = glob(p, GLOB_NOMAGIC | GLOB_NOCHECK, NULL, &amp;pglob);</span></div>
<div class="line"><a name="l07817"></a><span class="lineno"> 7817</span>&#160;<span class="comment">//      i = glob(p, GLOB_NOMAGIC, NULL, &amp;pglob);</span></div>
<div class="line"><a name="l07818"></a><span class="lineno"> 7818</span>&#160;        <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../df/dc1/musl_2include_2glob_8h.html#ad44dea1f5a1fe6b65f989873605492d1">glob</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, 0, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;pglob);</div>
<div class="line"><a name="l07819"></a><span class="lineno"> 7819</span>&#160;        <span class="comment">//bb_error_msg(&quot;glob(&#39;%s&#39;):%d &#39;%s&#39;...&quot;, p, i, pglob.gl_pathv ? pglob.gl_pathv[0] : &quot;-&quot;);</span></div>
<div class="line"><a name="l07820"></a><span class="lineno"> 7820</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>-&gt;text)</div>
<div class="line"><a name="l07821"></a><span class="lineno"> 7821</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l07822"></a><span class="lineno"> 7822</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) {</div>
<div class="line"><a name="l07823"></a><span class="lineno"> 7823</span>&#160;        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l07824"></a><span class="lineno"> 7824</span>&#160;<span class="preprocessor">#if 0 </span><span class="comment">// glibc 2.24.90 bug? Patterns like &quot;*/file&quot;, when match, don&#39;t set GLOB_MAGCHAR</span></div>
<div class="line"><a name="l07825"></a><span class="lineno"> 7825</span>&#160;            <span class="comment">/* GLOB_MAGCHAR is set if *?[ chars were seen (GNU) */</span></div>
<div class="line"><a name="l07826"></a><span class="lineno"> 7826</span>&#160;            <span class="keywordflow">if</span> (!(pglob.gl_flags &amp; GLOB_MAGCHAR))</div>
<div class="line"><a name="l07827"></a><span class="lineno"> 7827</span>&#160;                <span class="keywordflow">goto</span> nometa2;</div>
<div class="line"><a name="l07828"></a><span class="lineno"> 7828</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07829"></a><span class="lineno"> 7829</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab7dbfe8cde484bdf161196dfc439d71c">addglob</a>(&amp;pglob);</div>
<div class="line"><a name="l07830"></a><span class="lineno"> 7830</span>&#160;            <a class="code" href="../../df/dc1/musl_2include_2glob_8h.html#a6ae33d17ffd323f7cd4e2775d77f47c3">globfree</a>(&amp;pglob);</div>
<div class="line"><a name="l07831"></a><span class="lineno"> 7831</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l07832"></a><span class="lineno"> 7832</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07833"></a><span class="lineno"> 7833</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/dc1/musl_2include_2glob_8h.html#aed760cf90fd4398067cdb679ebe60312">GLOB_NOMATCH</a>:</div>
<div class="line"><a name="l07834"></a><span class="lineno"> 7834</span>&#160; <span class="comment">//nometa2:</span></div>
<div class="line"><a name="l07835"></a><span class="lineno"> 7835</span>&#160;            <a class="code" href="../../df/dc1/musl_2include_2glob_8h.html#a6ae33d17ffd323f7cd4e2775d77f47c3">globfree</a>(&amp;pglob);</div>
<div class="line"><a name="l07836"></a><span class="lineno"> 7836</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l07837"></a><span class="lineno"> 7837</span>&#160; nometa:</div>
<div class="line"><a name="l07838"></a><span class="lineno"> 7838</span>&#160;            *<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>;</div>
<div class="line"><a name="l07839"></a><span class="lineno"> 7839</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a80f4d118bbefdab6df40e7f843e89755">rmescapes</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>-&gt;text, 0, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l07840"></a><span class="lineno"> 7840</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>-&gt;next;</div>
<div class="line"><a name="l07841"></a><span class="lineno"> 7841</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07842"></a><span class="lineno"> 7842</span>&#160;        <span class="keywordflow">default</span>:    <span class="comment">/* GLOB_NOSPACE */</span></div>
<div class="line"><a name="l07843"></a><span class="lineno"> 7843</span>&#160;            <a class="code" href="../../df/dc1/musl_2include_2glob_8h.html#a6ae33d17ffd323f7cd4e2775d77f47c3">globfree</a>(&amp;pglob);</div>
<div class="line"><a name="l07844"></a><span class="lineno"> 7844</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l07845"></a><span class="lineno"> 7845</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(bb_msg_memory_exhausted);</div>
<div class="line"><a name="l07846"></a><span class="lineno"> 7846</span>&#160;        }</div>
<div class="line"><a name="l07847"></a><span class="lineno"> 7847</span>&#160;        <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>-&gt;next;</div>
<div class="line"><a name="l07848"></a><span class="lineno"> 7848</span>&#160;    }</div>
<div class="line"><a name="l07849"></a><span class="lineno"> 7849</span>&#160;}</div>
<div class="line"><a name="l07850"></a><span class="lineno"> 7850</span>&#160; </div>
<div class="line"><a name="l07851"></a><span class="lineno"> 7851</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l07852"></a><span class="lineno"> 7852</span>&#160;<span class="comment">/* ENABLE_ASH_INTERNAL_GLOB: Homegrown globbing code. (dash also has both, uses homegrown one.) */</span></div>
<div class="line"><a name="l07853"></a><span class="lineno"> 7853</span>&#160; </div>
<div class="line"><a name="l07854"></a><span class="lineno"> 7854</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l07855"></a><span class="lineno"> 7855</span>&#160;<span class="comment"> * Do metacharacter (i.e. *, ?, [...]) expansion.</span></div>
<div class="line"><a name="l07856"></a><span class="lineno"> 7856</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l07857"></a><span class="lineno"> 7857</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>exp_t {</div>
<div class="line"><a name="l07858"></a><span class="lineno"> 7858</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>;</div>
<div class="line"><a name="l07859"></a><span class="lineno"> 7859</span>&#160;    <span class="keywordtype">unsigned</span> dir_max;</div>
<div class="line"><a name="l07860"></a><span class="lineno"> 7860</span>&#160;} exp_t;</div>
<div class="line"><a name="l07861"></a><span class="lineno"> 7861</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l07862"></a><span class="lineno"> 7862</span>&#160;expmeta(exp_t *<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>, <span class="keywordtype">char</span> *name, <span class="keywordtype">unsigned</span> name_len, <span class="keywordtype">unsigned</span> expdir_len)</div>
<div class="line"><a name="l07863"></a><span class="lineno"> 7863</span>&#160;{</div>
<div class="line"><a name="l07864"></a><span class="lineno"> 7864</span>&#160;<span class="preprocessor">#define expdir exp-&gt;dir</span></div>
<div class="line"><a name="l07865"></a><span class="lineno"> 7865</span>&#160;<span class="preprocessor">#define expdir_max exp-&gt;dir_max</span></div>
<div class="line"><a name="l07866"></a><span class="lineno"> 7866</span>&#160;    <span class="keywordtype">char</span> *enddir = expdir + expdir_len;</div>
<div class="line"><a name="l07867"></a><span class="lineno"> 7867</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07868"></a><span class="lineno"> 7868</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *cp;</div>
<div class="line"><a name="l07869"></a><span class="lineno"> 7869</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l07870"></a><span class="lineno"> 7870</span>&#160;    <span class="keywordtype">char</span> *endname;</div>
<div class="line"><a name="l07871"></a><span class="lineno"> 7871</span>&#160;    <span class="keywordtype">int</span> metaflag;</div>
<div class="line"><a name="l07872"></a><span class="lineno"> 7872</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> statb;</div>
<div class="line"><a name="l07873"></a><span class="lineno"> 7873</span>&#160;    <a class="code" href="../../d5/d70/ndir_8h.html#dd/dfe/structDIR">DIR</a> *dirp;</div>
<div class="line"><a name="l07874"></a><span class="lineno"> 7874</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#d5/de2/structdirent">dirent</a> *dp;</div>
<div class="line"><a name="l07875"></a><span class="lineno"> 7875</span>&#160;    <span class="keywordtype">int</span> atend;</div>
<div class="line"><a name="l07876"></a><span class="lineno"> 7876</span>&#160;    <span class="keywordtype">int</span> matchdot;</div>
<div class="line"><a name="l07877"></a><span class="lineno"> 7877</span>&#160;    <span class="keywordtype">int</span> esc;</div>
<div class="line"><a name="l07878"></a><span class="lineno"> 7878</span>&#160; </div>
<div class="line"><a name="l07879"></a><span class="lineno"> 7879</span>&#160;    metaflag = 0;</div>
<div class="line"><a name="l07880"></a><span class="lineno"> 7880</span>&#160;    <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = name;</div>
<div class="line"><a name="l07881"></a><span class="lineno"> 7881</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = name; esc = 0, *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += esc + 1) {</div>
<div class="line"><a name="l07882"></a><span class="lineno"> 7882</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;*&#39;</span> || *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;?&#39;</span>)</div>
<div class="line"><a name="l07883"></a><span class="lineno"> 7883</span>&#160;            metaflag = 1;</div>
<div class="line"><a name="l07884"></a><span class="lineno"> 7884</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;[&#39;</span>) {</div>
<div class="line"><a name="l07885"></a><span class="lineno"> 7885</span>&#160;            <span class="keywordtype">char</span> *q = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + 1;</div>
<div class="line"><a name="l07886"></a><span class="lineno"> 7886</span>&#160;            <span class="keywordflow">if</span> (*q == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><a name="l07887"></a><span class="lineno"> 7887</span>&#160;                q++;</div>
<div class="line"><a name="l07888"></a><span class="lineno"> 7888</span>&#160;            <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l07889"></a><span class="lineno"> 7889</span>&#160;                <span class="keywordflow">if</span> (*q == <span class="charliteral">&#39;\\&#39;</span>)</div>
<div class="line"><a name="l07890"></a><span class="lineno"> 7890</span>&#160;                    q++;</div>
<div class="line"><a name="l07891"></a><span class="lineno"> 7891</span>&#160;                <span class="keywordflow">if</span> (*q == <span class="charliteral">&#39;/&#39;</span> || *q == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l07892"></a><span class="lineno"> 7892</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07893"></a><span class="lineno"> 7893</span>&#160;                <span class="keywordflow">if</span> (*++q == <span class="charliteral">&#39;]&#39;</span>) {</div>
<div class="line"><a name="l07894"></a><span class="lineno"> 7894</span>&#160;                    metaflag = 1;</div>
<div class="line"><a name="l07895"></a><span class="lineno"> 7895</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07896"></a><span class="lineno"> 7896</span>&#160;                }</div>
<div class="line"><a name="l07897"></a><span class="lineno"> 7897</span>&#160;            }</div>
<div class="line"><a name="l07898"></a><span class="lineno"> 7898</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07899"></a><span class="lineno"> 7899</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\\&#39;</span> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1])</div>
<div class="line"><a name="l07900"></a><span class="lineno"> 7900</span>&#160;                esc++;</div>
<div class="line"><a name="l07901"></a><span class="lineno"> 7901</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[esc] == <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l07902"></a><span class="lineno"> 7902</span>&#160;                <span class="keywordflow">if</span> (metaflag)</div>
<div class="line"><a name="l07903"></a><span class="lineno"> 7903</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07904"></a><span class="lineno"> 7904</span>&#160;                <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + esc + 1;</div>
<div class="line"><a name="l07905"></a><span class="lineno"> 7905</span>&#160;            }</div>
<div class="line"><a name="l07906"></a><span class="lineno"> 7906</span>&#160;        }</div>
<div class="line"><a name="l07907"></a><span class="lineno"> 7907</span>&#160;    }</div>
<div class="line"><a name="l07908"></a><span class="lineno"> 7908</span>&#160;    <span class="keywordflow">if</span> (metaflag == 0) {    <span class="comment">/* we&#39;ve reached the end of the file name */</span></div>
<div class="line"><a name="l07909"></a><span class="lineno"> 7909</span>&#160;        <span class="keywordflow">if</span> (!expdir_len)</div>
<div class="line"><a name="l07910"></a><span class="lineno"> 7910</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07911"></a><span class="lineno"> 7911</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = name;</div>
<div class="line"><a name="l07912"></a><span class="lineno"> 7912</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l07913"></a><span class="lineno"> 7913</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\\&#39;</span> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1])</div>
<div class="line"><a name="l07914"></a><span class="lineno"> 7914</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l07915"></a><span class="lineno"> 7915</span>&#160;            *enddir++ = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07916"></a><span class="lineno"> 7916</span>&#160;        } <span class="keywordflow">while</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++);</div>
<div class="line"><a name="l07917"></a><span class="lineno"> 7917</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c.html#ae730c85752284268b39560df693cb207">lstat</a>(expdir, &amp;statb) == 0)</div>
<div class="line"><a name="l07918"></a><span class="lineno"> 7918</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a1af6e16c9bae6e74cae1483aa0827b58">addfname</a>(expdir);</div>
<div class="line"><a name="l07919"></a><span class="lineno"> 7919</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07920"></a><span class="lineno"> 7920</span>&#160;    }</div>
<div class="line"><a name="l07921"></a><span class="lineno"> 7921</span>&#160;    endname = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l07922"></a><span class="lineno"> 7922</span>&#160;    <span class="keywordflow">if</span> (name &lt; <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>) {</div>
<div class="line"><a name="l07923"></a><span class="lineno"> 7923</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = name;</div>
<div class="line"><a name="l07924"></a><span class="lineno"> 7924</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l07925"></a><span class="lineno"> 7925</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\\&#39;</span> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1])</div>
<div class="line"><a name="l07926"></a><span class="lineno"> 7926</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l07927"></a><span class="lineno"> 7927</span>&#160;            *enddir++ = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l07928"></a><span class="lineno"> 7928</span>&#160;        } <span class="keywordflow">while</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &lt; <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>);</div>
<div class="line"><a name="l07929"></a><span class="lineno"> 7929</span>&#160;    }</div>
<div class="line"><a name="l07930"></a><span class="lineno"> 7930</span>&#160;    *enddir = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l07931"></a><span class="lineno"> 7931</span>&#160;    cp = expdir;</div>
<div class="line"><a name="l07932"></a><span class="lineno"> 7932</span>&#160;    expdir_len = enddir - cp;</div>
<div class="line"><a name="l07933"></a><span class="lineno"> 7933</span>&#160;    <span class="keywordflow">if</span> (!expdir_len)</div>
<div class="line"><a name="l07934"></a><span class="lineno"> 7934</span>&#160;        cp = <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a name="l07935"></a><span class="lineno"> 7935</span>&#160;    dirp = <a class="code" href="../../d5/d70/ndir_8h.html#a3a5031d0d62880cd74a956187d87876c">opendir</a>(cp);</div>
<div class="line"><a name="l07936"></a><span class="lineno"> 7936</span>&#160;    <span class="keywordflow">if</span> (dirp == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l07937"></a><span class="lineno"> 7937</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07938"></a><span class="lineno"> 7938</span>&#160;    <span class="keywordflow">if</span> (*endname == 0) {</div>
<div class="line"><a name="l07939"></a><span class="lineno"> 7939</span>&#160;        atend = 1;</div>
<div class="line"><a name="l07940"></a><span class="lineno"> 7940</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07941"></a><span class="lineno"> 7941</span>&#160;        atend = 0;</div>
<div class="line"><a name="l07942"></a><span class="lineno"> 7942</span>&#160;        *endname = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l07943"></a><span class="lineno"> 7943</span>&#160;        endname += esc + 1;</div>
<div class="line"><a name="l07944"></a><span class="lineno"> 7944</span>&#160;    }</div>
<div class="line"><a name="l07945"></a><span class="lineno"> 7945</span>&#160;    name_len -= endname - name;</div>
<div class="line"><a name="l07946"></a><span class="lineno"> 7946</span>&#160;    matchdot = 0;</div>
<div class="line"><a name="l07947"></a><span class="lineno"> 7947</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l07948"></a><span class="lineno"> 7948</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\\&#39;</span>)</div>
<div class="line"><a name="l07949"></a><span class="lineno"> 7949</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l07950"></a><span class="lineno"> 7950</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><a name="l07951"></a><span class="lineno"> 7951</span>&#160;        matchdot++;</div>
<div class="line"><a name="l07952"></a><span class="lineno"> 7952</span>&#160;    <span class="keywordflow">while</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#af8ce82ad63add721a0e29e821b7281be">pending_int</a> &amp;&amp; (dp = <a class="code" href="../../d5/d70/ndir_8h.html#a465842e71bfbc792d360b2c763786a03">readdir</a>(dirp)) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l07953"></a><span class="lineno"> 7953</span>&#160;        <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#ae52d525c8057131d7f1155fe7039910d">d_name</a>[0] == <span class="charliteral">&#39;.&#39;</span> &amp;&amp; !matchdot)</div>
<div class="line"><a name="l07954"></a><span class="lineno"> 7954</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l07955"></a><span class="lineno"> 7955</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4c3aa08951c53a80cfee2a1ef8d74775">pmatch</a>(<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, dp-&gt;<a class="code" href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#ae52d525c8057131d7f1155fe7039910d">d_name</a>)) {</div>
<div class="line"><a name="l07956"></a><span class="lineno"> 7956</span>&#160;            <span class="keywordflow">if</span> (atend) {</div>
<div class="line"><a name="l07957"></a><span class="lineno"> 7957</span>&#160;                <a class="code" href="../../d3/d82/convert_8h.html#a06688b0d2444199f657ccb56b0ce11b3">strcpy</a>(enddir, dp-&gt;<a class="code" href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#ae52d525c8057131d7f1155fe7039910d">d_name</a>);</div>
<div class="line"><a name="l07958"></a><span class="lineno"> 7958</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a1af6e16c9bae6e74cae1483aa0827b58">addfname</a>(expdir);</div>
<div class="line"><a name="l07959"></a><span class="lineno"> 7959</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l07960"></a><span class="lineno"> 7960</span>&#160;                <span class="keywordtype">unsigned</span> <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>;</div>
<div class="line"><a name="l07961"></a><span class="lineno"> 7961</span>&#160;                <span class="keywordtype">unsigned</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l07962"></a><span class="lineno"> 7962</span>&#160; </div>
<div class="line"><a name="l07963"></a><span class="lineno"> 7963</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#ad5eff09b2cfcc7c8e5c3662ac9ee4564">stpcpy</a>(enddir, dp-&gt;<a class="code" href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#ae52d525c8057131d7f1155fe7039910d">d_name</a>);</div>
<div class="line"><a name="l07964"></a><span class="lineno"> 7964</span>&#160;                *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l07965"></a><span class="lineno"> 7965</span>&#160; </div>
<div class="line"><a name="l07966"></a><span class="lineno"> 7966</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - expdir + 1;</div>
<div class="line"><a name="l07967"></a><span class="lineno"> 7967</span>&#160;                <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a> + name_len + <a class="code" href="../../d0/daa/maxpath_8h.html#ac64541bdd81c961304b9babef1402640">NAME_MAX</a>;</div>
<div class="line"><a name="l07968"></a><span class="lineno"> 7968</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &gt; expdir_max) {</div>
<div class="line"><a name="l07969"></a><span class="lineno"> 7969</span>&#160;                    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> += <a class="code" href="../../d1/d85/filesystem_8hpp.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>;</div>
<div class="line"><a name="l07970"></a><span class="lineno"> 7970</span>&#160;                    expdir = <a class="code" href="../../d1/dbe/ash_8c.html#ad66533db7ebe77ead31ba1fda6be3a58">ckrealloc</a>(expdir, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l07971"></a><span class="lineno"> 7971</span>&#160;                    expdir_max = <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l07972"></a><span class="lineno"> 7972</span>&#160;                }</div>
<div class="line"><a name="l07973"></a><span class="lineno"> 7973</span>&#160; </div>
<div class="line"><a name="l07974"></a><span class="lineno"> 7974</span>&#160;                expmeta(<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>, endname, name_len, <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>);</div>
<div class="line"><a name="l07975"></a><span class="lineno"> 7975</span>&#160;                enddir = expdir + expdir_len;</div>
<div class="line"><a name="l07976"></a><span class="lineno"> 7976</span>&#160;            }</div>
<div class="line"><a name="l07977"></a><span class="lineno"> 7977</span>&#160;        }</div>
<div class="line"><a name="l07978"></a><span class="lineno"> 7978</span>&#160;    }</div>
<div class="line"><a name="l07979"></a><span class="lineno"> 7979</span>&#160;    <a class="code" href="../../d5/d70/ndir_8h.html#a7f1547bdd6ef6a5deb4cf679772b8302">closedir</a>(dirp);</div>
<div class="line"><a name="l07980"></a><span class="lineno"> 7980</span>&#160;    <span class="keywordflow">if</span> (!atend)</div>
<div class="line"><a name="l07981"></a><span class="lineno"> 7981</span>&#160;        endname[-esc - 1] = esc ? <span class="charliteral">&#39;\\&#39;</span> : <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l07982"></a><span class="lineno"> 7982</span>&#160;<span class="preprocessor">#undef expdir</span></div>
<div class="line"><a name="l07983"></a><span class="lineno"> 7983</span>&#160;<span class="preprocessor">#undef expdir_max</span></div>
<div class="line"><a name="l07984"></a><span class="lineno"> 7984</span>&#160;}</div>
<div class="line"><a name="l07985"></a><span class="lineno"> 7985</span>&#160; </div>
<div class="line"><a name="l07986"></a><span class="lineno"> 7986</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *</div>
<div class="line"><a name="l07987"></a><span class="lineno"> 7987</span>&#160;msort(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>, <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>)</div>
<div class="line"><a name="l07988"></a><span class="lineno"> 7988</span>&#160;{</div>
<div class="line"><a name="l07989"></a><span class="lineno"> 7989</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, *q = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l07990"></a><span class="lineno"> 7990</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> **lpp;</div>
<div class="line"><a name="l07991"></a><span class="lineno"> 7991</span>&#160;    <span class="keywordtype">int</span> half;</div>
<div class="line"><a name="l07992"></a><span class="lineno"> 7992</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l07993"></a><span class="lineno"> 7993</span>&#160; </div>
<div class="line"><a name="l07994"></a><span class="lineno"> 7994</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &lt;= 1)</div>
<div class="line"><a name="l07995"></a><span class="lineno"> 7995</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>;</div>
<div class="line"><a name="l07996"></a><span class="lineno"> 7996</span>&#160;    half = <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &gt;&gt; 1;</div>
<div class="line"><a name="l07997"></a><span class="lineno"> 7997</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>;</div>
<div class="line"><a name="l07998"></a><span class="lineno"> 7998</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = half; --<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> &gt;= 0;) {</div>
<div class="line"><a name="l07999"></a><span class="lineno"> 7999</span>&#160;        q = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l08000"></a><span class="lineno"> 8000</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;next;</div>
<div class="line"><a name="l08001"></a><span class="lineno"> 8001</span>&#160;    }</div>
<div class="line"><a name="l08002"></a><span class="lineno"> 8002</span>&#160;    q-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8700830b5a082a144a84d547130f7424">next</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;                 <span class="comment">/* terminate first half of list */</span></div>
<div class="line"><a name="l08003"></a><span class="lineno"> 8003</span>&#160;    q = msort(<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>, half);          <span class="comment">/* sort first half of list */</span></div>
<div class="line"><a name="l08004"></a><span class="lineno"> 8004</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = msort(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> - half);               <span class="comment">/* sort second half */</span></div>
<div class="line"><a name="l08005"></a><span class="lineno"> 8005</span>&#160;    lpp = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>;</div>
<div class="line"><a name="l08006"></a><span class="lineno"> 8006</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l08007"></a><span class="lineno"> 8007</span>&#160;<span class="preprocessor">#if ENABLE_LOCALE_SUPPORT</span></div>
<div class="line"><a name="l08008"></a><span class="lineno"> 8008</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d42/Userspace_2musl_2include_2string_8h.html#a475622e0ad1d42f098afa1c08af954ad">strcoll</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;text, q-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">text</a>) &lt; 0)</div>
<div class="line"><a name="l08009"></a><span class="lineno"> 8009</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l08010"></a><span class="lineno"> 8010</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;text, q-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">text</a>) &lt; 0)</div>
<div class="line"><a name="l08011"></a><span class="lineno"> 8011</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08012"></a><span class="lineno"> 8012</span>&#160;                        {</div>
<div class="line"><a name="l08013"></a><span class="lineno"> 8013</span>&#160;            *lpp = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l08014"></a><span class="lineno"> 8014</span>&#160;            lpp = &amp;<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;next;</div>
<div class="line"><a name="l08015"></a><span class="lineno"> 8015</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = *lpp;</div>
<div class="line"><a name="l08016"></a><span class="lineno"> 8016</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l08017"></a><span class="lineno"> 8017</span>&#160;                *lpp = q;</div>
<div class="line"><a name="l08018"></a><span class="lineno"> 8018</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08019"></a><span class="lineno"> 8019</span>&#160;            }</div>
<div class="line"><a name="l08020"></a><span class="lineno"> 8020</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08021"></a><span class="lineno"> 8021</span>&#160;            *lpp = q;</div>
<div class="line"><a name="l08022"></a><span class="lineno"> 8022</span>&#160;            lpp = &amp;q-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8700830b5a082a144a84d547130f7424">next</a>;</div>
<div class="line"><a name="l08023"></a><span class="lineno"> 8023</span>&#160;            q = *lpp;</div>
<div class="line"><a name="l08024"></a><span class="lineno"> 8024</span>&#160;            <span class="keywordflow">if</span> (q == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l08025"></a><span class="lineno"> 8025</span>&#160;                *lpp = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l08026"></a><span class="lineno"> 8026</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08027"></a><span class="lineno"> 8027</span>&#160;            }</div>
<div class="line"><a name="l08028"></a><span class="lineno"> 8028</span>&#160;        }</div>
<div class="line"><a name="l08029"></a><span class="lineno"> 8029</span>&#160;    }</div>
<div class="line"><a name="l08030"></a><span class="lineno"> 8030</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>;</div>
<div class="line"><a name="l08031"></a><span class="lineno"> 8031</span>&#160;}</div>
<div class="line"><a name="l08032"></a><span class="lineno"> 8032</span>&#160; </div>
<div class="line"><a name="l08033"></a><span class="lineno"> 8033</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08034"></a><span class="lineno"> 8034</span>&#160;<span class="comment"> * Sort the results of file name expansion.  It calculates the number of</span></div>
<div class="line"><a name="l08035"></a><span class="lineno"> 8035</span>&#160;<span class="comment"> * strings to sort and then calls msort (short for merge sort) to do the</span></div>
<div class="line"><a name="l08036"></a><span class="lineno"> 8036</span>&#160;<span class="comment"> * work.</span></div>
<div class="line"><a name="l08037"></a><span class="lineno"> 8037</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08038"></a><span class="lineno"> 8038</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *</div>
<div class="line"><a name="l08039"></a><span class="lineno"> 8039</span>&#160;expsort(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>)</div>
<div class="line"><a name="l08040"></a><span class="lineno"> 8040</span>&#160;{</div>
<div class="line"><a name="l08041"></a><span class="lineno"> 8041</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l08042"></a><span class="lineno"> 8042</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l08043"></a><span class="lineno"> 8043</span>&#160; </div>
<div class="line"><a name="l08044"></a><span class="lineno"> 8044</span>&#160;    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = 0;</div>
<div class="line"><a name="l08045"></a><span class="lineno"> 8045</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>; <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>; <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next)</div>
<div class="line"><a name="l08046"></a><span class="lineno"> 8046</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>++;</div>
<div class="line"><a name="l08047"></a><span class="lineno"> 8047</span>&#160;    <span class="keywordflow">return</span> msort(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l08048"></a><span class="lineno"> 8048</span>&#160;}</div>
<div class="line"><a name="l08049"></a><span class="lineno"> 8049</span>&#160; </div>
<div class="line"><a name="l08050"></a><span class="lineno"> 8050</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l08051"></a><span class="lineno"> 8051</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#adb3a59631381aedad5f27d1b889f05e1">expandmeta</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> <span class="comment">/*, int flag*/</span>)</div>
<div class="line"><a name="l08052"></a><span class="lineno"> 8052</span>&#160;{</div>
<div class="line"><a name="l08053"></a><span class="lineno"> 8053</span>&#160;    <span class="comment">/* TODO - EXP_REDIR */</span></div>
<div class="line"><a name="l08054"></a><span class="lineno"> 8054</span>&#160; </div>
<div class="line"><a name="l08055"></a><span class="lineno"> 8055</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>) {</div>
<div class="line"><a name="l08056"></a><span class="lineno"> 8056</span>&#160;        exp_t <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>;</div>
<div class="line"><a name="l08057"></a><span class="lineno"> 8057</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> **savelastp;</div>
<div class="line"><a name="l08058"></a><span class="lineno"> 8058</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l08059"></a><span class="lineno"> 8059</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l08060"></a><span class="lineno"> 8060</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l08061"></a><span class="lineno"> 8061</span>&#160; </div>
<div class="line"><a name="l08062"></a><span class="lineno"> 8062</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#afbb561cd66b6398681da36474269617a">fflag</a>)</div>
<div class="line"><a name="l08063"></a><span class="lineno"> 8063</span>&#160;            <span class="keywordflow">goto</span> nometa;</div>
<div class="line"><a name="l08064"></a><span class="lineno"> 8064</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a03a9af86fd8e5d88072d38a51144654d">hasmeta</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>-&gt;text))</div>
<div class="line"><a name="l08065"></a><span class="lineno"> 8065</span>&#160;            <span class="keywordflow">goto</span> nometa;</div>
<div class="line"><a name="l08066"></a><span class="lineno"> 8066</span>&#160;        savelastp = <a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a>;</div>
<div class="line"><a name="l08067"></a><span class="lineno"> 8067</span>&#160; </div>
<div class="line"><a name="l08068"></a><span class="lineno"> 8068</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l08069"></a><span class="lineno"> 8069</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3cbcd79044f21d4978df44ed66c263ca">preglob</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>-&gt;text, <a class="code" href="../../d1/dbe/ash_8c.html#aa7c2abff2dba1f2498eadc1fca05db7d">RMESCAPE_ALLOC</a> | <a class="code" href="../../d1/dbe/ash_8c.html#aa3fe56f62b3738a614cc2ed250a6f5f5">RMESCAPE_HEAP</a>);</div>
<div class="line"><a name="l08070"></a><span class="lineno"> 8070</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l08071"></a><span class="lineno"> 8071</span>&#160;        <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>.dir_max = <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> + <a class="code" href="../../d1/d85/filesystem_8hpp.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>;</div>
<div class="line"><a name="l08072"></a><span class="lineno"> 8072</span>&#160;        <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>.dir = <a class="code" href="../../d1/dbe/ash_8c.html#a27cf7b0a48a767c21a2c6eb91713b243">ckmalloc</a>(<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>.dir_max);</div>
<div class="line"><a name="l08073"></a><span class="lineno"> 8073</span>&#160; </div>
<div class="line"><a name="l08074"></a><span class="lineno"> 8074</span>&#160;        expmeta(&amp;<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>, 0);</div>
<div class="line"><a name="l08075"></a><span class="lineno"> 8075</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>.dir);</div>
<div class="line"><a name="l08076"></a><span class="lineno"> 8076</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>-&gt;text)</div>
<div class="line"><a name="l08077"></a><span class="lineno"> 8077</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l08078"></a><span class="lineno"> 8078</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l08079"></a><span class="lineno"> 8079</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> == savelastp) {</div>
<div class="line"><a name="l08080"></a><span class="lineno"> 8080</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l08081"></a><span class="lineno"> 8081</span>&#160;<span class="comment">             * no matches</span></div>
<div class="line"><a name="l08082"></a><span class="lineno"> 8082</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l08083"></a><span class="lineno"> 8083</span>&#160; nometa:</div>
<div class="line"><a name="l08084"></a><span class="lineno"> 8084</span>&#160;            *<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>;</div>
<div class="line"><a name="l08085"></a><span class="lineno"> 8085</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a80f4d118bbefdab6df40e7f843e89755">rmescapes</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>-&gt;text, 0, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l08086"></a><span class="lineno"> 8086</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>-&gt;next;</div>
<div class="line"><a name="l08087"></a><span class="lineno"> 8087</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08088"></a><span class="lineno"> 8088</span>&#160;            *<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l08089"></a><span class="lineno"> 8089</span>&#160;            *savelastp = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = expsort(*savelastp);</div>
<div class="line"><a name="l08090"></a><span class="lineno"> 8090</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l08091"></a><span class="lineno"> 8091</span>&#160;                <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next;</div>
<div class="line"><a name="l08092"></a><span class="lineno"> 8092</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next;</div>
<div class="line"><a name="l08093"></a><span class="lineno"> 8093</span>&#160;        }</div>
<div class="line"><a name="l08094"></a><span class="lineno"> 8094</span>&#160;        <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>-&gt;next;</div>
<div class="line"><a name="l08095"></a><span class="lineno"> 8095</span>&#160;    }</div>
<div class="line"><a name="l08096"></a><span class="lineno"> 8096</span>&#160;}</div>
<div class="line"><a name="l08097"></a><span class="lineno"> 8097</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ENABLE_ASH_INTERNAL_GLOB */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l08098"></a><span class="lineno"> 8098</span>&#160; </div>
<div class="line"><a name="l08099"></a><span class="lineno"> 8099</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08100"></a><span class="lineno"> 8100</span>&#160;<span class="comment"> * Perform variable substitution and command substitution on an argument,</span></div>
<div class="line"><a name="l08101"></a><span class="lineno"> 8101</span>&#160;<span class="comment"> * placing the resulting list of arguments in arglist.  If EXP_FULL is true,</span></div>
<div class="line"><a name="l08102"></a><span class="lineno"> 8102</span>&#160;<span class="comment"> * perform splitting and file name expansion.  When arglist is NULL, perform</span></div>
<div class="line"><a name="l08103"></a><span class="lineno"> 8103</span>&#160;<span class="comment"> * here document expansion.</span></div>
<div class="line"><a name="l08104"></a><span class="lineno"> 8104</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08105"></a><span class="lineno"> 8105</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l08106"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4d5949e5678787310373e25f4ce1c935"> 8106</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a4d5949e5678787310373e25f4ce1c935">expandarg</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> *<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>, <span class="keywordtype">int</span> flag)</div>
<div class="line"><a name="l08107"></a><span class="lineno"> 8107</span>&#160;{</div>
<div class="line"><a name="l08108"></a><span class="lineno"> 8108</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l08109"></a><span class="lineno"> 8109</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l08110"></a><span class="lineno"> 8110</span>&#160; </div>
<div class="line"><a name="l08111"></a><span class="lineno"> 8111</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aa7330854f99ccb7aadfcc87ccd020c3e">argbackq</a> = <a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>-&gt;narg.backquote;</div>
<div class="line"><a name="l08112"></a><span class="lineno"> 8112</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a51947f73159e14e6d1deac7c491013ac">STARTSTACKSTR</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l08113"></a><span class="lineno"> 8113</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;expandarg: argstr(&#39;%s&#39;,flags:%x)\n&quot;</span>, <a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>-&gt;narg.text, flag));</div>
<div class="line"><a name="l08114"></a><span class="lineno"> 8114</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a277d3674302086c22d6a6d9f6e535fb1">argstr</a>(<a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>-&gt;narg.text, flag);</div>
<div class="line"><a name="l08115"></a><span class="lineno"> 8115</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l08116"></a><span class="lineno"> 8116</span>&#160;        <span class="comment">/* here document expanded */</span></div>
<div class="line"><a name="l08117"></a><span class="lineno"> 8117</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l08118"></a><span class="lineno"> 8118</span>&#160;    }</div>
<div class="line"><a name="l08119"></a><span class="lineno"> 8119</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7b5f8bbd363271d352ea79580f1f0cd4">grabstackstr</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l08120"></a><span class="lineno"> 8120</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;expandarg: p:&#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>));</div>
<div class="line"><a name="l08121"></a><span class="lineno"> 8121</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>;</div>
<div class="line"><a name="l08122"></a><span class="lineno"> 8122</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l08123"></a><span class="lineno"> 8123</span>&#160;<span class="comment">     * TODO - EXP_REDIR</span></div>
<div class="line"><a name="l08124"></a><span class="lineno"> 8124</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l08125"></a><span class="lineno"> 8125</span>&#160;    <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../d1/dbe/ash_8c.html#ad93fac6975049cf96d7989ffad986cc4">EXP_FULL</a>) {</div>
<div class="line"><a name="l08126"></a><span class="lineno"> 8126</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab43933e8f8343de1ae9614101e9cdbef">ifsbreakup</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>);</div>
<div class="line"><a name="l08127"></a><span class="lineno"> 8127</span>&#160;        *<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l08128"></a><span class="lineno"> 8128</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>;</div>
<div class="line"><a name="l08129"></a><span class="lineno"> 8129</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#adb3a59631381aedad5f27d1b889f05e1">expandmeta</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a> <span class="comment">/*, flag*/</span>);</div>
<div class="line"><a name="l08130"></a><span class="lineno"> 8130</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08131"></a><span class="lineno"> 8131</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>));</div>
<div class="line"><a name="l08132"></a><span class="lineno"> 8132</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;text = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l08133"></a><span class="lineno"> 8133</span>&#160;        *<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l08134"></a><span class="lineno"> 8134</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next;</div>
<div class="line"><a name="l08135"></a><span class="lineno"> 8135</span>&#160;    }</div>
<div class="line"><a name="l08136"></a><span class="lineno"> 8136</span>&#160;    *<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l08137"></a><span class="lineno"> 8137</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>) {</div>
<div class="line"><a name="l08138"></a><span class="lineno"> 8138</span>&#160;        *<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>;</div>
<div class="line"><a name="l08139"></a><span class="lineno"> 8139</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a>;</div>
<div class="line"><a name="l08140"></a><span class="lineno"> 8140</span>&#160;    }</div>
<div class="line"><a name="l08141"></a><span class="lineno"> 8141</span>&#160; </div>
<div class="line"><a name="l08142"></a><span class="lineno"> 8142</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l08143"></a><span class="lineno"> 8143</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af9265d6c3a5373cad84b09975e7c1f92">ifsfree</a>();</div>
<div class="line"><a name="l08144"></a><span class="lineno"> 8144</span>&#160;}</div>
<div class="line"><a name="l08145"></a><span class="lineno"> 8145</span>&#160; </div>
<div class="line"><a name="l08146"></a><span class="lineno"> 8146</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08147"></a><span class="lineno"> 8147</span>&#160;<span class="comment"> * Expand shell variables and backquotes inside a here document.</span></div>
<div class="line"><a name="l08148"></a><span class="lineno"> 8148</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08149"></a><span class="lineno"> 8149</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l08150"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a21d8033795cbd57c21d4d5461347d63d"> 8150</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a21d8033795cbd57c21d4d5461347d63d">expandhere</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>)</div>
<div class="line"><a name="l08151"></a><span class="lineno"> 8151</span>&#160;{</div>
<div class="line"><a name="l08152"></a><span class="lineno"> 8152</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a4d5949e5678787310373e25f4ce1c935">expandarg</a>(<a class="code" href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a>, (<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a>);</div>
<div class="line"><a name="l08153"></a><span class="lineno"> 8153</span>&#160;}</div>
<div class="line"><a name="l08154"></a><span class="lineno"> 8154</span>&#160; </div>
<div class="line"><a name="l08155"></a><span class="lineno"> 8155</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08156"></a><span class="lineno"> 8156</span>&#160;<span class="comment"> * Returns true if the pattern matches the string.</span></div>
<div class="line"><a name="l08157"></a><span class="lineno"> 8157</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08158"></a><span class="lineno"> 8158</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l08159"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adab8f6bb60fd0df10ee740984c79b9b8"> 8159</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#adab8f6bb60fd0df10ee740984c79b9b8">patmatch</a>(<span class="keywordtype">char</span> *<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">string</span>)</div>
<div class="line"><a name="l08160"></a><span class="lineno"> 8160</span>&#160;{</div>
<div class="line"><a name="l08161"></a><span class="lineno"> 8161</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3cbcd79044f21d4978df44ed66c263ca">preglob</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>, 0);</div>
<div class="line"><a name="l08162"></a><span class="lineno"> 8162</span>&#160;    <span class="keywordtype">int</span> r = <a class="code" href="../../d1/dbe/ash_8c.html#a4c3aa08951c53a80cfee2a1ef8d74775">pmatch</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l08163"></a><span class="lineno"> 8163</span>&#160;    <span class="comment">//bb_error_msg(&quot;!fnmatch(pattern:&#39;%s&#39;,str:&#39;%s&#39;,0):%d&quot;, p, string, r);</span></div>
<div class="line"><a name="l08164"></a><span class="lineno"> 8164</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l08165"></a><span class="lineno"> 8165</span>&#160;}</div>
<div class="line"><a name="l08166"></a><span class="lineno"> 8166</span>&#160; </div>
<div class="line"><a name="l08167"></a><span class="lineno"> 8167</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08168"></a><span class="lineno"> 8168</span>&#160;<span class="comment"> * See if a pattern matches in a case statement.</span></div>
<div class="line"><a name="l08169"></a><span class="lineno"> 8169</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08170"></a><span class="lineno"> 8170</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l08171"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abab303a7905f076e7b00d3336df570b8"> 8171</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#abab303a7905f076e7b00d3336df570b8">casematch</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>, <span class="keywordtype">char</span> *<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>)</div>
<div class="line"><a name="l08172"></a><span class="lineno"> 8172</span>&#160;{</div>
<div class="line"><a name="l08173"></a><span class="lineno"> 8173</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> smark;</div>
<div class="line"><a name="l08174"></a><span class="lineno"> 8174</span>&#160;    <span class="keywordtype">int</span> result;</div>
<div class="line"><a name="l08175"></a><span class="lineno"> 8175</span>&#160; </div>
<div class="line"><a name="l08176"></a><span class="lineno"> 8176</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac25a899a708eb1c90b1b0bafdb14b88d">setstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l08177"></a><span class="lineno"> 8177</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aa7330854f99ccb7aadfcc87ccd020c3e">argbackq</a> = <a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>-&gt;narg.backquote;</div>
<div class="line"><a name="l08178"></a><span class="lineno"> 8178</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a51947f73159e14e6d1deac7c491013ac">STARTSTACKSTR</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a>);</div>
<div class="line"><a name="l08179"></a><span class="lineno"> 8179</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a277d3674302086c22d6a6d9f6e535fb1">argstr</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a>-&gt;narg.text, <a class="code" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a53b57e2df12643ccb283dc689a7ae384">EXP_CASE</a>);</div>
<div class="line"><a name="l08180"></a><span class="lineno"> 8180</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af9265d6c3a5373cad84b09975e7c1f92">ifsfree</a>();</div>
<div class="line"><a name="l08181"></a><span class="lineno"> 8181</span>&#160;    result = <a class="code" href="../../d1/dbe/ash_8c.html#adab8f6bb60fd0df10ee740984c79b9b8">patmatch</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>(), <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>);</div>
<div class="line"><a name="l08182"></a><span class="lineno"> 8182</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l08183"></a><span class="lineno"> 8183</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l08184"></a><span class="lineno"> 8184</span>&#160;}</div>
<div class="line"><a name="l08185"></a><span class="lineno"> 8185</span>&#160; </div>
<div class="line"><a name="l08186"></a><span class="lineno"> 8186</span>&#160; </div>
<div class="line"><a name="l08187"></a><span class="lineno"> 8187</span>&#160;<span class="comment">/* ============ find_command */</span></div>
<div class="line"><a name="l08188"></a><span class="lineno"> 8188</span>&#160; </div>
<div class="line"><a name="l08189"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 8189</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d6/d85/structbuiltincmd">builtincmd</a> {</div>
<div class="line"><a name="l08190"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec"> 8190</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>;</div>
<div class="line"><a name="l08191"></a><span class="lineno"> 8191</span>&#160;    int (*<a class="code" href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a>)(int, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l08192"></a><span class="lineno"> 8192</span>&#160;    <span class="comment">/* unsigned flags; */</span></div>
<div class="line"><a name="l08193"></a><span class="lineno"> 8193</span>&#160;};</div>
<div class="line"><a name="l08194"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0c4e6e2470921fbf54525dd1644ad0f9"> 8194</a></span>&#160;<span class="preprocessor">#define IS_BUILTIN_SPECIAL(b) ((b)-&gt;name[0] &amp; 1)</span></div>
<div class="line"><a name="l08195"></a><span class="lineno"> 8195</span>&#160;<span class="comment">/* &quot;regular&quot; builtins always take precedence over commands,</span></div>
<div class="line"><a name="l08196"></a><span class="lineno"> 8196</span>&#160;<span class="comment"> * regardless of PATH=....%builtin... position */</span></div>
<div class="line"><a name="l08197"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab23db490601100500b00b74f9738fc01"> 8197</a></span>&#160;<span class="preprocessor">#define IS_BUILTIN_REGULAR(b) ((b)-&gt;name[0] &amp; 2)</span></div>
<div class="line"><a name="l08198"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6e69eaa9499dee2defb7a0fad0bc3f66"> 8198</a></span>&#160;<span class="preprocessor">#define IS_BUILTIN_ASSIGN(b)  ((b)-&gt;name[0] &amp; 4)</span></div>
<div class="line"><a name="l08199"></a><span class="lineno"> 8199</span>&#160; </div>
<div class="line"><a name="l08200"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 8200</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a> {</div>
<div class="line"><a name="l08201"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0f4ca960e4fe1b8e9d75f91d292b97f5"> 8201</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a0f4ca960e4fe1b8e9d75f91d292b97f5">cmdtype</a>;       <span class="comment">/* CMDxxx */</span></div>
<div class="line"><a name="l08202"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 8202</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d1/dbe/ash_8c.html#d8/dd8/unioncmdentry_1_1param">param</a> {</div>
<div class="line"><a name="l08203"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8fa09cb60109c2f208fbee71ffbccde4"> 8203</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8fa09cb60109c2f208fbee71ffbccde4">index</a>;</div>
<div class="line"><a name="l08204"></a><span class="lineno"> 8204</span>&#160;        <span class="comment">/* index &gt;= 0 for commands without path (slashes) */</span></div>
<div class="line"><a name="l08205"></a><span class="lineno"> 8205</span>&#160;        <span class="comment">/* (TODO: what exactly does the value mean? PATH position?) */</span></div>
<div class="line"><a name="l08206"></a><span class="lineno"> 8206</span>&#160;        <span class="comment">/* index == -1 for commands with slashes */</span></div>
<div class="line"><a name="l08207"></a><span class="lineno"> 8207</span>&#160;        <span class="comment">/* index == (-2 - applet_no) for NOFORK applets */</span></div>
<div class="line"><a name="l08208"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac7a553a0c84498df205ce31d16c1e311"> 8208</a></span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d6/d85/structbuiltincmd">builtincmd</a> *<a class="code" href="../../d1/dbe/ash_8c.html#ac7a553a0c84498df205ce31d16c1e311">cmd</a>;</div>
<div class="line"><a name="l08209"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adf9fde5f0ec4351508b7db0572b090d1"> 8209</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/daa/structfuncnode">funcnode</a> *<a class="code" href="../../d1/dbe/ash_8c.html#adf9fde5f0ec4351508b7db0572b090d1">func</a>;</div>
<div class="line"><a name="l08210"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e"> 8210</a></span>&#160;    } <a class="code" href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e">u</a>;</div>
<div class="line"><a name="l08211"></a><span class="lineno"> 8211</span>&#160;};</div>
<div class="line"><a name="l08212"></a><span class="lineno"> 8212</span>&#160;<span class="comment">/* values of cmdtype */</span></div>
<div class="line"><a name="l08213"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a14e3440a799eb1e36008a8a828fdeab9"> 8213</a></span>&#160;<span class="preprocessor">#define CMDUNKNOWN      -1      </span><span class="comment">/* no entry in table for command */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l08214"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a165ed7154d30466f3491f4e6cb1034c9"> 8214</a></span>&#160;<span class="preprocessor">#define CMDNORMAL       0       </span><span class="comment">/* command is an executable program */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l08215"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a967d3b0cdfb3be875229c443ca49de02"> 8215</a></span>&#160;<span class="preprocessor">#define CMDFUNCTION     1       </span><span class="comment">/* command is a shell function */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l08216"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e"> 8216</a></span>&#160;<span class="preprocessor">#define CMDBUILTIN      2       </span><span class="comment">/* command is a shell builtin */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l08217"></a><span class="lineno"> 8217</span>&#160; </div>
<div class="line"><a name="l08218"></a><span class="lineno"> 8218</span>&#160;<span class="comment">/* action to find_command() */</span></div>
<div class="line"><a name="l08219"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a06a22680ac104187b1b8e9fd9e790ac1"> 8219</a></span>&#160;<span class="preprocessor">#define DO_ERR          0x01    </span><span class="comment">/* prints errors */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l08220"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2452bc617f7c74a60852b74578fe2957"> 8220</a></span>&#160;<span class="preprocessor">#define DO_ABS          0x02    </span><span class="comment">/* checks absolute paths */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l08221"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af6ef3779dc4dffc2aaedf8bf82dc5bb2"> 8221</a></span>&#160;<span class="preprocessor">#define DO_NOFUNC       0x04    </span><span class="comment">/* don&#39;t return shell functions, for command */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l08222"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aca0208c47e1120b732794d983169012a"> 8222</a></span>&#160;<span class="preprocessor">#define DO_ALTPATH      0x08    </span><span class="comment">/* using alternate path */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l08223"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3da9bf738c7a02904703b3c1a81f0f77"> 8223</a></span>&#160;<span class="preprocessor">#define DO_REGBLTIN     0x10    </span><span class="comment">/* regular built-ins and functions only */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l08224"></a><span class="lineno"> 8224</span>&#160; </div>
<div class="line"><a name="l08225"></a><span class="lineno"> 8225</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa23d345708cf24e69c6cc4533ff0e8f9">find_command</a>(<span class="keywordtype">char</span> *, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a> *, <span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *);</div>
<div class="line"><a name="l08226"></a><span class="lineno"> 8226</span>&#160; </div>
<div class="line"><a name="l08227"></a><span class="lineno"> 8227</span>&#160; </div>
<div class="line"><a name="l08228"></a><span class="lineno"> 8228</span>&#160;<span class="comment">/* ============ Hashing commands */</span></div>
<div class="line"><a name="l08229"></a><span class="lineno"> 8229</span>&#160; </div>
<div class="line"><a name="l08230"></a><span class="lineno"> 8230</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08231"></a><span class="lineno"> 8231</span>&#160;<span class="comment"> * When commands are first encountered, they are entered in a hash table.</span></div>
<div class="line"><a name="l08232"></a><span class="lineno"> 8232</span>&#160;<span class="comment"> * This ensures that a full path search will not have to be done for them</span></div>
<div class="line"><a name="l08233"></a><span class="lineno"> 8233</span>&#160;<span class="comment"> * on each invocation.</span></div>
<div class="line"><a name="l08234"></a><span class="lineno"> 8234</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l08235"></a><span class="lineno"> 8235</span>&#160;<span class="comment"> * We should investigate converting to a linear search, even though that</span></div>
<div class="line"><a name="l08236"></a><span class="lineno"> 8236</span>&#160;<span class="comment"> * would make the command name &quot;hash&quot; a misnomer.</span></div>
<div class="line"><a name="l08237"></a><span class="lineno"> 8237</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08238"></a><span class="lineno"> 8238</span>&#160; </div>
<div class="line"><a name="l08239"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 8239</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> {</div>
<div class="line"><a name="l08240"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a809b7b8164dad582c1db2e9eb8c071fd"> 8240</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a809b7b8164dad582c1db2e9eb8c071fd">next</a>;  <span class="comment">/* next entry in hash chain */</span></div>
<div class="line"><a name="l08241"></a><span class="lineno"> 8241</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a> <a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>;      <span class="comment">/* definition of builtin function */</span></div>
<div class="line"><a name="l08242"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979"> 8242</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a>;       <span class="comment">/* CMDxxx */</span></div>
<div class="line"><a name="l08243"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acf2b4cbd4c9d86f72ac3d2414af81759"> 8243</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d1/dbe/ash_8c.html#acf2b4cbd4c9d86f72ac3d2414af81759">rehash</a>;            <span class="comment">/* if set, cd done since entry created */</span></div>
<div class="line"><a name="l08244"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acc47d8a5e25efeeceea454753cba8eac"> 8244</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d1/dbe/ash_8c.html#acc47d8a5e25efeeceea454753cba8eac">cmdname</a>[1];        <span class="comment">/* name of command */</span></div>
<div class="line"><a name="l08245"></a><span class="lineno"> 8245</span>&#160;};</div>
<div class="line"><a name="l08246"></a><span class="lineno"> 8246</span>&#160; </div>
<div class="line"><a name="l08247"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aad35313bc27e01baa69a467d00eb5e6a"> 8247</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> **<a class="code" href="../../d1/dbe/ash_8c.html#aad35313bc27e01baa69a467d00eb5e6a">cmdtable</a>;</div>
<div class="line"><a name="l08248"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a223a12e9f0da364c686c1c0e6046ccca"> 8248</a></span>&#160;<span class="preprocessor">#define INIT_G_cmdtable() do { \</span></div>
<div class="line"><a name="l08249"></a><span class="lineno"> 8249</span>&#160;<span class="preprocessor">    cmdtable = xzalloc(CMDTABLESIZE * sizeof(cmdtable[0])); \</span></div>
<div class="line"><a name="l08250"></a><span class="lineno"> 8250</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l08251"></a><span class="lineno"> 8251</span>&#160; </div>
<div class="line"><a name="l08252"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab7acafbde27f5fb99fff729b6da8b85c"> 8252</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ab7acafbde27f5fb99fff729b6da8b85c">builtinloc</a> = -1;     <span class="comment">/* index in path of %builtin, or -1 */</span></div>
<div class="line"><a name="l08253"></a><span class="lineno"> 8253</span>&#160; </div>
<div class="line"><a name="l08254"></a><span class="lineno"> 8254</span>&#160; </div>
<div class="line"><a name="l08255"></a><span class="lineno"> 8255</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l08256"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4133ec69ddca3dbd47ba892d5c6fa43b"> 8256</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a4133ec69ddca3dbd47ba892d5c6fa43b">tryexec</a>(IF_FEATURE_SH_STANDALONE(<span class="keywordtype">int</span> applet_no,) <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="keywordtype">char</span> **envp)</div>
<div class="line"><a name="l08257"></a><span class="lineno"> 8257</span>&#160;{</div>
<div class="line"><a name="l08258"></a><span class="lineno"> 8258</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_STANDALONE</span></div>
<div class="line"><a name="l08259"></a><span class="lineno"> 8259</span>&#160;    <span class="keywordflow">if</span> (applet_no &gt;= 0) {</div>
<div class="line"><a name="l08260"></a><span class="lineno"> 8260</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d8f/busybox_8h.html#ab5dcfad9f4c51c225e5c3c579d498039">APPLET_IS_NOEXEC</a>(applet_no)) {</div>
<div class="line"><a name="l08261"></a><span class="lineno"> 8261</span>&#160;            <a class="code" href="../../db/da1/clearenv_8c.html#a60abb3e1fd6a331e91966624c774920e">clearenv</a>();</div>
<div class="line"><a name="l08262"></a><span class="lineno"> 8262</span>&#160;            <span class="keywordflow">while</span> (*envp)</div>
<div class="line"><a name="l08263"></a><span class="lineno"> 8263</span>&#160;                <a class="code" href="../../df/def/putenv_8c.html#a8a382cc6123c7cf09a144e28fdfe5bc1">putenv</a>(*envp++);</div>
<div class="line"><a name="l08264"></a><span class="lineno"> 8264</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8c28a51cd6fa34a658d90aec943ee2a6">popredir</a>(<span class="comment">/*drop:*/</span> 1);</div>
<div class="line"><a name="l08265"></a><span class="lineno"> 8265</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#adae9c0880ef4b6c635af9441eb3dcfbc">run_noexec_applet_and_exit</a>(applet_no, <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l08266"></a><span class="lineno"> 8266</span>&#160;        }</div>
<div class="line"><a name="l08267"></a><span class="lineno"> 8267</span>&#160;        <span class="comment">/* re-exec ourselves with the new arguments */</span></div>
<div class="line"><a name="l08268"></a><span class="lineno"> 8268</span>&#160;        <a class="code" href="../../df/dc1/Userspace_2libc_2include_2unistd_8h.html#a34f1a971391de72a34ec56bb0133ce2d">execve</a>(bb_busybox_exec_path, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, envp);</div>
<div class="line"><a name="l08269"></a><span class="lineno"> 8269</span>&#160;        <span class="comment">/* If they called chroot or otherwise made the binary no longer</span></div>
<div class="line"><a name="l08270"></a><span class="lineno"> 8270</span>&#160;<span class="comment">         * executable, fall through */</span></div>
<div class="line"><a name="l08271"></a><span class="lineno"> 8271</span>&#160;    }</div>
<div class="line"><a name="l08272"></a><span class="lineno"> 8272</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08273"></a><span class="lineno"> 8273</span>&#160; </div>
<div class="line"><a name="l08274"></a><span class="lineno"> 8274</span>&#160; repeat:</div>
<div class="line"><a name="l08275"></a><span class="lineno"> 8275</span>&#160;<span class="preprocessor">#ifdef SYSV</span></div>
<div class="line"><a name="l08276"></a><span class="lineno"> 8276</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l08277"></a><span class="lineno"> 8277</span>&#160;        <a class="code" href="../../df/dc1/Userspace_2libc_2include_2unistd_8h.html#a34f1a971391de72a34ec56bb0133ce2d">execve</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, envp);</div>
<div class="line"><a name="l08278"></a><span class="lineno"> 8278</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a46b83d9f6c23b1b65a8cecfd775ddaed">EINTR</a>);</div>
<div class="line"><a name="l08279"></a><span class="lineno"> 8279</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l08280"></a><span class="lineno"> 8280</span>&#160;    <a class="code" href="../../df/dc1/Userspace_2libc_2include_2unistd_8h.html#a34f1a971391de72a34ec56bb0133ce2d">execve</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, envp);</div>
<div class="line"><a name="l08281"></a><span class="lineno"> 8281</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08282"></a><span class="lineno"> 8282</span>&#160; </div>
<div class="line"><a name="l08283"></a><span class="lineno"> 8283</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> != bb_busybox_exec_path &amp;&amp; <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a4d0b1b435ec441e7d50a430b83df5832">ENOEXEC</a>) {</div>
<div class="line"><a name="l08284"></a><span class="lineno"> 8284</span>&#160;        <span class="comment">/* Run &quot;cmd&quot; as a shell script:</span></div>
<div class="line"><a name="l08285"></a><span class="lineno"> 8285</span>&#160;<span class="comment">         * http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html</span></div>
<div class="line"><a name="l08286"></a><span class="lineno"> 8286</span>&#160;<span class="comment">         * &quot;If the execve() function fails with ENOEXEC, the shell</span></div>
<div class="line"><a name="l08287"></a><span class="lineno"> 8287</span>&#160;<span class="comment">         * shall execute a command equivalent to having a shell invoked</span></div>
<div class="line"><a name="l08288"></a><span class="lineno"> 8288</span>&#160;<span class="comment">         * with the command name as its first operand,</span></div>
<div class="line"><a name="l08289"></a><span class="lineno"> 8289</span>&#160;<span class="comment">         * with any remaining arguments passed to the new shell&quot;</span></div>
<div class="line"><a name="l08290"></a><span class="lineno"> 8290</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l08291"></a><span class="lineno"> 8291</span>&#160;<span class="comment">         * That is, do not use $SHELL, user&#39;s shell, or /bin/sh;</span></div>
<div class="line"><a name="l08292"></a><span class="lineno"> 8292</span>&#160;<span class="comment">         * just call ourselves.</span></div>
<div class="line"><a name="l08293"></a><span class="lineno"> 8293</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l08294"></a><span class="lineno"> 8294</span>&#160;<span class="comment">         * Note that bash reads ~80 chars of the file, and if it sees</span></div>
<div class="line"><a name="l08295"></a><span class="lineno"> 8295</span>&#160;<span class="comment">         * a zero byte before it sees newline, it doesn&#39;t try to</span></div>
<div class="line"><a name="l08296"></a><span class="lineno"> 8296</span>&#160;<span class="comment">         * interpret it, but fails with &quot;cannot execute binary file&quot;</span></div>
<div class="line"><a name="l08297"></a><span class="lineno"> 8297</span>&#160;<span class="comment">         * message and exit code 126. For one, this prevents attempts</span></div>
<div class="line"><a name="l08298"></a><span class="lineno"> 8298</span>&#160;<span class="comment">         * to interpret foreign ELF binaries as shell scripts.</span></div>
<div class="line"><a name="l08299"></a><span class="lineno"> 8299</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l08300"></a><span class="lineno"> 8300</span>&#160;        <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0] = (<span class="keywordtype">char</span>*) <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>;</div>
<div class="line"><a name="l08301"></a><span class="lineno"> 8301</span>&#160;        <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> = bb_busybox_exec_path;</div>
<div class="line"><a name="l08302"></a><span class="lineno"> 8302</span>&#160;        <span class="comment">/* NB: this is only possible because all callers of shellexec()</span></div>
<div class="line"><a name="l08303"></a><span class="lineno"> 8303</span>&#160;<span class="comment">         * ensure that the argv[-1] slot exists!</span></div>
<div class="line"><a name="l08304"></a><span class="lineno"> 8304</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l08305"></a><span class="lineno"> 8305</span>&#160;        <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>--;</div>
<div class="line"><a name="l08306"></a><span class="lineno"> 8306</span>&#160;        <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0] = (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;ash&quot;</span>;</div>
<div class="line"><a name="l08307"></a><span class="lineno"> 8307</span>&#160;        <span class="keywordflow">goto</span> repeat;</div>
<div class="line"><a name="l08308"></a><span class="lineno"> 8308</span>&#160;    }</div>
<div class="line"><a name="l08309"></a><span class="lineno"> 8309</span>&#160;}</div>
<div class="line"><a name="l08310"></a><span class="lineno"> 8310</span>&#160; </div>
<div class="line"><a name="l08311"></a><span class="lineno"> 8311</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08312"></a><span class="lineno"> 8312</span>&#160;<span class="comment"> * Exec a program.  Never returns.  If you change this routine, you may</span></div>
<div class="line"><a name="l08313"></a><span class="lineno"> 8313</span>&#160;<span class="comment"> * have to change the find_command routine as well.</span></div>
<div class="line"><a name="l08314"></a><span class="lineno"> 8314</span>&#160;<span class="comment"> * argv[-1] must exist and be writable! See tryexec() for why.</span></div>
<div class="line"><a name="l08315"></a><span class="lineno"> 8315</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08316"></a><span class="lineno"> 8316</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a2d2ea4bca9799d131118b6942822266b">shellexec</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d2/d2a/finfo_8c.html#acc6113e98e7cd24d9dcfa520749a5d3f">prog</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>) <a class="code" href="../../de/d03/platform_8h.html#aa1728270d73c5d1598de1fd691762eb1">NORETURN</a>;</div>
<div class="line"><a name="l08317"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2d2ea4bca9799d131118b6942822266b"> 8317</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a2d2ea4bca9799d131118b6942822266b">shellexec</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d2/d2a/finfo_8c.html#acc6113e98e7cd24d9dcfa520749a5d3f">prog</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>)</div>
<div class="line"><a name="l08318"></a><span class="lineno"> 8318</span>&#160;{</div>
<div class="line"><a name="l08319"></a><span class="lineno"> 8319</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a72640e2782214980b146a98d83765c82">cmdname</a>;</div>
<div class="line"><a name="l08320"></a><span class="lineno"> 8320</span>&#160;    <span class="keywordtype">int</span> e;</div>
<div class="line"><a name="l08321"></a><span class="lineno"> 8321</span>&#160;    <span class="keywordtype">char</span> **envp;</div>
<div class="line"><a name="l08322"></a><span class="lineno"> 8322</span>&#160;    <span class="keywordtype">int</span> exerrno;</div>
<div class="line"><a name="l08323"></a><span class="lineno"> 8323</span>&#160;    <span class="keywordtype">int</span> applet_no = -1; <span class="comment">/* used only by FEATURE_SH_STANDALONE */</span></div>
<div class="line"><a name="l08324"></a><span class="lineno"> 8324</span>&#160; </div>
<div class="line"><a name="l08325"></a><span class="lineno"> 8325</span>&#160;    envp = <a class="code" href="../../d1/dbe/ash_8c.html#ac916671880c52fa4b983f6aef788fa66">listvars</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>, <span class="comment">/*strlist:*/</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="comment">/*end:*/</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l08326"></a><span class="lineno"> 8326</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(<a class="code" href="../../d2/d2a/finfo_8c.html#acc6113e98e7cd24d9dcfa520749a5d3f">prog</a>, <span class="charliteral">&#39;/&#39;</span>) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div>
<div class="line"><a name="l08327"></a><span class="lineno"> 8327</span>&#160;#<span class="keywordflow">if</span> ENABLE_FEATURE_SH_STANDALONE</div>
<div class="line"><a name="l08328"></a><span class="lineno"> 8328</span>&#160;     || (applet_no = <a class="code" href="../../d7/dd7/libbb_8h.html#af46900e10a7a4add55921df952a3309b">find_applet_by_name</a>(<a class="code" href="../../d2/d2a/finfo_8c.html#acc6113e98e7cd24d9dcfa520749a5d3f">prog</a>)) &gt;= 0</div>
<div class="line"><a name="l08329"></a><span class="lineno"> 8329</span>&#160;#endif</div>
<div class="line"><a name="l08330"></a><span class="lineno"> 8330</span>&#160;    ) {</div>
<div class="line"><a name="l08331"></a><span class="lineno"> 8331</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4133ec69ddca3dbd47ba892d5c6fa43b">tryexec</a>(IF_FEATURE_SH_STANDALONE(applet_no,) <a class="code" href="../../d2/d2a/finfo_8c.html#acc6113e98e7cd24d9dcfa520749a5d3f">prog</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, envp);</div>
<div class="line"><a name="l08332"></a><span class="lineno"> 8332</span>&#160;        <span class="keywordflow">if</span> (applet_no &gt;= 0) {</div>
<div class="line"><a name="l08333"></a><span class="lineno"> 8333</span>&#160;            <span class="comment">/* We tried execing ourself, but it didn&#39;t work.</span></div>
<div class="line"><a name="l08334"></a><span class="lineno"> 8334</span>&#160;<span class="comment">             * Maybe /proc/self/exe doesn&#39;t exist?</span></div>
<div class="line"><a name="l08335"></a><span class="lineno"> 8335</span>&#160;<span class="comment">             * Try $PATH search.</span></div>
<div class="line"><a name="l08336"></a><span class="lineno"> 8336</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l08337"></a><span class="lineno"> 8337</span>&#160;            <span class="keywordflow">goto</span> try_PATH;</div>
<div class="line"><a name="l08338"></a><span class="lineno"> 8338</span>&#160;        }</div>
<div class="line"><a name="l08339"></a><span class="lineno"> 8339</span>&#160;        e = <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a>;</div>
<div class="line"><a name="l08340"></a><span class="lineno"> 8340</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08341"></a><span class="lineno"> 8341</span>&#160; try_PATH:</div>
<div class="line"><a name="l08342"></a><span class="lineno"> 8342</span>&#160;        e = <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>;</div>
<div class="line"><a name="l08343"></a><span class="lineno"> 8343</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#aa98d7d9d1f81656de699a72b080a8286">padvance</a>(&amp;path, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0]) &gt;= 0) {</div>
<div class="line"><a name="l08344"></a><span class="lineno"> 8344</span>&#160;            <a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a72640e2782214980b146a98d83765c82">cmdname</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l08345"></a><span class="lineno"> 8345</span>&#160;            <span class="keywordflow">if</span> (--<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> &lt; 0 &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a897ae134f4c871992ace29631fe5ddfa">pathopt</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l08346"></a><span class="lineno"> 8346</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a4133ec69ddca3dbd47ba892d5c6fa43b">tryexec</a>(IF_FEATURE_SH_STANDALONE(-1,) <a class="code" href="../../dd/d8d/start__stop__daemon_8c.html#a72640e2782214980b146a98d83765c82">cmdname</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, envp);</div>
<div class="line"><a name="l08347"></a><span class="lineno"> 8347</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> != <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a> &amp;&amp; <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> != <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a9262fb92f7ef662d0bdd577912a5b101">ENOTDIR</a>)</div>
<div class="line"><a name="l08348"></a><span class="lineno"> 8348</span>&#160;                    e = <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a>;</div>
<div class="line"><a name="l08349"></a><span class="lineno"> 8349</span>&#160;            }</div>
<div class="line"><a name="l08350"></a><span class="lineno"> 8350</span>&#160;        }</div>
<div class="line"><a name="l08351"></a><span class="lineno"> 8351</span>&#160;    }</div>
<div class="line"><a name="l08352"></a><span class="lineno"> 8352</span>&#160; </div>
<div class="line"><a name="l08353"></a><span class="lineno"> 8353</span>&#160;    <span class="comment">/* Map to POSIX errors */</span></div>
<div class="line"><a name="l08354"></a><span class="lineno"> 8354</span>&#160;    <span class="keywordflow">switch</span> (e) {</div>
<div class="line"><a name="l08355"></a><span class="lineno"> 8355</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08356"></a><span class="lineno"> 8356</span>&#160;        exerrno = 126;</div>
<div class="line"><a name="l08357"></a><span class="lineno"> 8357</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08358"></a><span class="lineno"> 8358</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a2f78c246352d2bf2f19dc5d43da2f0c9">ELOOP</a>:</div>
<div class="line"><a name="l08359"></a><span class="lineno"> 8359</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a41d5ab3a8a05f9c5eab536c9cfba305b">ENAMETOOLONG</a>:</div>
<div class="line"><a name="l08360"></a><span class="lineno"> 8360</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>:</div>
<div class="line"><a name="l08361"></a><span class="lineno"> 8361</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a9262fb92f7ef662d0bdd577912a5b101">ENOTDIR</a>:</div>
<div class="line"><a name="l08362"></a><span class="lineno"> 8362</span>&#160;        exerrno = 127;</div>
<div class="line"><a name="l08363"></a><span class="lineno"> 8363</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08364"></a><span class="lineno"> 8364</span>&#160;    }</div>
<div class="line"><a name="l08365"></a><span class="lineno"> 8365</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = exerrno;</div>
<div class="line"><a name="l08366"></a><span class="lineno"> 8366</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;shellexec failed for %s, errno %d, suppress_int %d\n&quot;</span>,</div>
<div class="line"><a name="l08367"></a><span class="lineno"> 8367</span>&#160;        <a class="code" href="../../d2/d2a/finfo_8c.html#acc6113e98e7cd24d9dcfa520749a5d3f">prog</a>, e, <a class="code" href="../../d1/dbe/ash_8c.html#a20e40106fa4a2a4b1c1128b0d025cdf5">suppress_int</a>));</div>
<div class="line"><a name="l08368"></a><span class="lineno"> 8368</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a1d3f761a16dbc32edd046d3971af79ee">ash_msg_and_raise</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a7037a9150ccc747a6fdb212ef4a6dfd7">EXEND</a>, <span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code" href="../../d2/d2a/finfo_8c.html#acc6113e98e7cd24d9dcfa520749a5d3f">prog</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a971bed606674f492145ee75af6557f7a">errmsg</a>(e, <span class="stringliteral">&quot;not found&quot;</span>));</div>
<div class="line"><a name="l08369"></a><span class="lineno"> 8369</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l08370"></a><span class="lineno"> 8370</span>&#160;}</div>
<div class="line"><a name="l08371"></a><span class="lineno"> 8371</span>&#160; </div>
<div class="line"><a name="l08372"></a><span class="lineno"> 8372</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l08373"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab4929b1270e8d692b510b31586b11858"> 8373</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ab4929b1270e8d692b510b31586b11858">printentry</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> *cmdp)</div>
<div class="line"><a name="l08374"></a><span class="lineno"> 8374</span>&#160;{</div>
<div class="line"><a name="l08375"></a><span class="lineno"> 8375</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>;</div>
<div class="line"><a name="l08376"></a><span class="lineno"> 8376</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *path;</div>
<div class="line"><a name="l08377"></a><span class="lineno"> 8377</span>&#160;    <span class="keywordtype">char</span> *name;</div>
<div class="line"><a name="l08378"></a><span class="lineno"> 8378</span>&#160; </div>
<div class="line"><a name="l08379"></a><span class="lineno"> 8379</span>&#160;    <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> = cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>.index;</div>
<div class="line"><a name="l08380"></a><span class="lineno"> 8380</span>&#160;    path = <a class="code" href="../../d1/dbe/ash_8c.html#a1a0f44024ffe6329c9c6cda41fd24d30">pathval</a>();</div>
<div class="line"><a name="l08381"></a><span class="lineno"> 8381</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l08382"></a><span class="lineno"> 8382</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa98d7d9d1f81656de699a72b080a8286">padvance</a>(&amp;path, cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acc47d8a5e25efeeceea454753cba8eac">cmdname</a>);</div>
<div class="line"><a name="l08383"></a><span class="lineno"> 8383</span>&#160;    } <span class="keywordflow">while</span> (--<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> &gt;= 0);</div>
<div class="line"><a name="l08384"></a><span class="lineno"> 8384</span>&#160;    name = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l08385"></a><span class="lineno"> 8385</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;%s%s\n&quot;</span>, name, (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acf2b4cbd4c9d86f72ac3d2414af81759">rehash</a> ? <span class="stringliteral">&quot;*&quot;</span> : <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>));</div>
<div class="line"><a name="l08386"></a><span class="lineno"> 8386</span>&#160;}</div>
<div class="line"><a name="l08387"></a><span class="lineno"> 8387</span>&#160; </div>
<div class="line"><a name="l08388"></a><span class="lineno"> 8388</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08389"></a><span class="lineno"> 8389</span>&#160;<span class="comment"> * Clear out command entries.</span></div>
<div class="line"><a name="l08390"></a><span class="lineno"> 8390</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08391"></a><span class="lineno"> 8391</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l08392"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a02151de15e0a7dbf32c755b470829c39"> 8392</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a02151de15e0a7dbf32c755b470829c39">clearcmdentry</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l08393"></a><span class="lineno"> 8393</span>&#160;{</div>
<div class="line"><a name="l08394"></a><span class="lineno"> 8394</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> **tblp;</div>
<div class="line"><a name="l08395"></a><span class="lineno"> 8395</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> **pp;</div>
<div class="line"><a name="l08396"></a><span class="lineno"> 8396</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> *cmdp;</div>
<div class="line"><a name="l08397"></a><span class="lineno"> 8397</span>&#160; </div>
<div class="line"><a name="l08398"></a><span class="lineno"> 8398</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l08399"></a><span class="lineno"> 8399</span>&#160;    <span class="keywordflow">for</span> (tblp = <a class="code" href="../../d1/dbe/ash_8c.html#aad35313bc27e01baa69a467d00eb5e6a">cmdtable</a>; tblp &lt; &amp;<a class="code" href="../../d1/dbe/ash_8c.html#aad35313bc27e01baa69a467d00eb5e6a">cmdtable</a>[<a class="code" href="../../d1/dbe/ash_8c.html#ac351e9366a3093afcc94ec800a623332">CMDTABLESIZE</a>]; tblp++) {</div>
<div class="line"><a name="l08400"></a><span class="lineno"> 8400</span>&#160;        pp = tblp;</div>
<div class="line"><a name="l08401"></a><span class="lineno"> 8401</span>&#160;        <span class="keywordflow">while</span> ((cmdp = *pp) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l08402"></a><span class="lineno"> 8402</span>&#160;            <span class="keywordflow">if</span> (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a165ed7154d30466f3491f4e6cb1034c9">CMDNORMAL</a></div>
<div class="line"><a name="l08403"></a><span class="lineno"> 8403</span>&#160;             || (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a></div>
<div class="line"><a name="l08404"></a><span class="lineno"> 8404</span>&#160;                &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#ab23db490601100500b00b74f9738fc01">IS_BUILTIN_REGULAR</a>(cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>.cmd)</div>
<div class="line"><a name="l08405"></a><span class="lineno"> 8405</span>&#160;                &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#ab7acafbde27f5fb99fff729b6da8b85c">builtinloc</a> &gt; 0</div>
<div class="line"><a name="l08406"></a><span class="lineno"> 8406</span>&#160;                )</div>
<div class="line"><a name="l08407"></a><span class="lineno"> 8407</span>&#160;            ) {</div>
<div class="line"><a name="l08408"></a><span class="lineno"> 8408</span>&#160;                *pp = cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a809b7b8164dad582c1db2e9eb8c071fd">next</a>;</div>
<div class="line"><a name="l08409"></a><span class="lineno"> 8409</span>&#160;                <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(cmdp);</div>
<div class="line"><a name="l08410"></a><span class="lineno"> 8410</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08411"></a><span class="lineno"> 8411</span>&#160;                pp = &amp;cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a809b7b8164dad582c1db2e9eb8c071fd">next</a>;</div>
<div class="line"><a name="l08412"></a><span class="lineno"> 8412</span>&#160;            }</div>
<div class="line"><a name="l08413"></a><span class="lineno"> 8413</span>&#160;        }</div>
<div class="line"><a name="l08414"></a><span class="lineno"> 8414</span>&#160;    }</div>
<div class="line"><a name="l08415"></a><span class="lineno"> 8415</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l08416"></a><span class="lineno"> 8416</span>&#160;}</div>
<div class="line"><a name="l08417"></a><span class="lineno"> 8417</span>&#160; </div>
<div class="line"><a name="l08418"></a><span class="lineno"> 8418</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08419"></a><span class="lineno"> 8419</span>&#160;<span class="comment"> * Locate a command in the command hash table.  If &quot;add&quot; is nonzero,</span></div>
<div class="line"><a name="l08420"></a><span class="lineno"> 8420</span>&#160;<span class="comment"> * add the command to the table if it is not already present.  The</span></div>
<div class="line"><a name="l08421"></a><span class="lineno"> 8421</span>&#160;<span class="comment"> * variable &quot;lastcmdentry&quot; is set to point to the address of the link</span></div>
<div class="line"><a name="l08422"></a><span class="lineno"> 8422</span>&#160;<span class="comment"> * pointing to the entry, so that delete_cmd_entry can delete the</span></div>
<div class="line"><a name="l08423"></a><span class="lineno"> 8423</span>&#160;<span class="comment"> * entry.</span></div>
<div class="line"><a name="l08424"></a><span class="lineno"> 8424</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l08425"></a><span class="lineno"> 8425</span>&#160;<span class="comment"> * Interrupts must be off if called with add != 0.</span></div>
<div class="line"><a name="l08426"></a><span class="lineno"> 8426</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08427"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0f6314b26ae354747dcf6a62cda25639"> 8427</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> **<a class="code" href="../../d1/dbe/ash_8c.html#a0f6314b26ae354747dcf6a62cda25639">lastcmdentry</a>;</div>
<div class="line"><a name="l08428"></a><span class="lineno"> 8428</span>&#160; </div>
<div class="line"><a name="l08429"></a><span class="lineno"> 8429</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> *</div>
<div class="line"><a name="l08430"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a68ada27b5db4d8a8be684f54bc3ed21f"> 8430</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a68ada27b5db4d8a8be684f54bc3ed21f">cmdlookup</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> <a class="code" href="../../d6/dae/dc_8c.html#a75eb888902f992b6613fed5e90eca946">add</a>)</div>
<div class="line"><a name="l08431"></a><span class="lineno"> 8431</span>&#160;{</div>
<div class="line"><a name="l08432"></a><span class="lineno"> 8432</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hashval;</div>
<div class="line"><a name="l08433"></a><span class="lineno"> 8433</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l08434"></a><span class="lineno"> 8434</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> *cmdp;</div>
<div class="line"><a name="l08435"></a><span class="lineno"> 8435</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> **pp;</div>
<div class="line"><a name="l08436"></a><span class="lineno"> 8436</span>&#160; </div>
<div class="line"><a name="l08437"></a><span class="lineno"> 8437</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = name;</div>
<div class="line"><a name="l08438"></a><span class="lineno"> 8438</span>&#160;    hashval = (<span class="keywordtype">unsigned</span> char)*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &lt;&lt; 4;</div>
<div class="line"><a name="l08439"></a><span class="lineno"> 8439</span>&#160;    <span class="keywordflow">while</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l08440"></a><span class="lineno"> 8440</span>&#160;        hashval += (<span class="keywordtype">unsigned</span> char)*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l08441"></a><span class="lineno"> 8441</span>&#160;    hashval &amp;= 0x7FFF;</div>
<div class="line"><a name="l08442"></a><span class="lineno"> 8442</span>&#160;    pp = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#aad35313bc27e01baa69a467d00eb5e6a">cmdtable</a>[hashval % <a class="code" href="../../d1/dbe/ash_8c.html#ac351e9366a3093afcc94ec800a623332">CMDTABLESIZE</a>];</div>
<div class="line"><a name="l08443"></a><span class="lineno"> 8443</span>&#160;    <span class="keywordflow">for</span> (cmdp = *pp; cmdp; cmdp = cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a809b7b8164dad582c1db2e9eb8c071fd">next</a>) {</div>
<div class="line"><a name="l08444"></a><span class="lineno"> 8444</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acc47d8a5e25efeeceea454753cba8eac">cmdname</a>, name) == 0)</div>
<div class="line"><a name="l08445"></a><span class="lineno"> 8445</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08446"></a><span class="lineno"> 8446</span>&#160;        pp = &amp;cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a809b7b8164dad582c1db2e9eb8c071fd">next</a>;</div>
<div class="line"><a name="l08447"></a><span class="lineno"> 8447</span>&#160;    }</div>
<div class="line"><a name="l08448"></a><span class="lineno"> 8448</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dae/dc_8c.html#a75eb888902f992b6613fed5e90eca946">add</a> &amp;&amp; cmdp == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l08449"></a><span class="lineno"> 8449</span>&#160;        cmdp = *pp = <a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a>)</div>
<div class="line"><a name="l08450"></a><span class="lineno"> 8450</span>&#160;                + <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(name)</div>
<div class="line"><a name="l08451"></a><span class="lineno"> 8451</span>&#160;                <span class="comment">/* + 1 - already done because</span></div>
<div class="line"><a name="l08452"></a><span class="lineno"> 8452</span>&#160;<span class="comment">                 * tblentry::cmdname is char[1] */</span>);</div>
<div class="line"><a name="l08453"></a><span class="lineno"> 8453</span>&#160;        <span class="comment">/*cmdp-&gt;next = NULL; - ckzalloc did it */</span></div>
<div class="line"><a name="l08454"></a><span class="lineno"> 8454</span>&#160;        cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a14e3440a799eb1e36008a8a828fdeab9">CMDUNKNOWN</a>;</div>
<div class="line"><a name="l08455"></a><span class="lineno"> 8455</span>&#160;        <a class="code" href="../../d3/d82/convert_8h.html#a06688b0d2444199f657ccb56b0ce11b3">strcpy</a>(cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acc47d8a5e25efeeceea454753cba8eac">cmdname</a>, name);</div>
<div class="line"><a name="l08456"></a><span class="lineno"> 8456</span>&#160;    }</div>
<div class="line"><a name="l08457"></a><span class="lineno"> 8457</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a0f6314b26ae354747dcf6a62cda25639">lastcmdentry</a> = pp;</div>
<div class="line"><a name="l08458"></a><span class="lineno"> 8458</span>&#160;    <span class="keywordflow">return</span> cmdp;</div>
<div class="line"><a name="l08459"></a><span class="lineno"> 8459</span>&#160;}</div>
<div class="line"><a name="l08460"></a><span class="lineno"> 8460</span>&#160; </div>
<div class="line"><a name="l08461"></a><span class="lineno"> 8461</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08462"></a><span class="lineno"> 8462</span>&#160;<span class="comment"> * Delete the command entry returned on the last lookup.</span></div>
<div class="line"><a name="l08463"></a><span class="lineno"> 8463</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08464"></a><span class="lineno"> 8464</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l08465"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a77b90abe431d3d7de827fe9e6daf8252"> 8465</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a77b90abe431d3d7de827fe9e6daf8252">delete_cmd_entry</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l08466"></a><span class="lineno"> 8466</span>&#160;{</div>
<div class="line"><a name="l08467"></a><span class="lineno"> 8467</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> *cmdp;</div>
<div class="line"><a name="l08468"></a><span class="lineno"> 8468</span>&#160; </div>
<div class="line"><a name="l08469"></a><span class="lineno"> 8469</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l08470"></a><span class="lineno"> 8470</span>&#160;    cmdp = *<a class="code" href="../../d1/dbe/ash_8c.html#a0f6314b26ae354747dcf6a62cda25639">lastcmdentry</a>;</div>
<div class="line"><a name="l08471"></a><span class="lineno"> 8471</span>&#160;    *<a class="code" href="../../d1/dbe/ash_8c.html#a0f6314b26ae354747dcf6a62cda25639">lastcmdentry</a> = cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a809b7b8164dad582c1db2e9eb8c071fd">next</a>;</div>
<div class="line"><a name="l08472"></a><span class="lineno"> 8472</span>&#160;    <span class="keywordflow">if</span> (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a967d3b0cdfb3be875229c443ca49de02">CMDFUNCTION</a>)</div>
<div class="line"><a name="l08473"></a><span class="lineno"> 8473</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a25edec132977e71f2485d16e5ae84168">freefunc</a>(cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>.func);</div>
<div class="line"><a name="l08474"></a><span class="lineno"> 8474</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(cmdp);</div>
<div class="line"><a name="l08475"></a><span class="lineno"> 8475</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l08476"></a><span class="lineno"> 8476</span>&#160;}</div>
<div class="line"><a name="l08477"></a><span class="lineno"> 8477</span>&#160; </div>
<div class="line"><a name="l08478"></a><span class="lineno"> 8478</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08479"></a><span class="lineno"> 8479</span>&#160;<span class="comment"> * Add a new command entry, replacing any existing command entry for</span></div>
<div class="line"><a name="l08480"></a><span class="lineno"> 8480</span>&#160;<span class="comment"> * the same name - except special builtins.</span></div>
<div class="line"><a name="l08481"></a><span class="lineno"> 8481</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08482"></a><span class="lineno"> 8482</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l08483"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a394b1333a7038b592cca7b2cc9c16e07"> 8483</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a394b1333a7038b592cca7b2cc9c16e07">addcmdentry</a>(<span class="keywordtype">char</span> *name, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a> *<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>)</div>
<div class="line"><a name="l08484"></a><span class="lineno"> 8484</span>&#160;{</div>
<div class="line"><a name="l08485"></a><span class="lineno"> 8485</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> *cmdp;</div>
<div class="line"><a name="l08486"></a><span class="lineno"> 8486</span>&#160; </div>
<div class="line"><a name="l08487"></a><span class="lineno"> 8487</span>&#160;    cmdp = <a class="code" href="../../d1/dbe/ash_8c.html#a68ada27b5db4d8a8be684f54bc3ed21f">cmdlookup</a>(name, 1);</div>
<div class="line"><a name="l08488"></a><span class="lineno"> 8488</span>&#160;    <span class="keywordflow">if</span> (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a967d3b0cdfb3be875229c443ca49de02">CMDFUNCTION</a>) {</div>
<div class="line"><a name="l08489"></a><span class="lineno"> 8489</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a25edec132977e71f2485d16e5ae84168">freefunc</a>(cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>.func);</div>
<div class="line"><a name="l08490"></a><span class="lineno"> 8490</span>&#160;    }</div>
<div class="line"><a name="l08491"></a><span class="lineno"> 8491</span>&#160;    cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> = <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;cmdtype;</div>
<div class="line"><a name="l08492"></a><span class="lineno"> 8492</span>&#160;    cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a> = <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u;</div>
<div class="line"><a name="l08493"></a><span class="lineno"> 8493</span>&#160;    cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acf2b4cbd4c9d86f72ac3d2414af81759">rehash</a> = 0;</div>
<div class="line"><a name="l08494"></a><span class="lineno"> 8494</span>&#160;}</div>
<div class="line"><a name="l08495"></a><span class="lineno"> 8495</span>&#160; </div>
<div class="line"><a name="l08496"></a><span class="lineno"> 8496</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l08497"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2490ca362c42ce166505f4527ef0f5c1"> 8497</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a2490ca362c42ce166505f4527ef0f5c1">hashcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l08498"></a><span class="lineno"> 8498</span>&#160;{</div>
<div class="line"><a name="l08499"></a><span class="lineno"> 8499</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> **pp;</div>
<div class="line"><a name="l08500"></a><span class="lineno"> 8500</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> *cmdp;</div>
<div class="line"><a name="l08501"></a><span class="lineno"> 8501</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l08502"></a><span class="lineno"> 8502</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a> <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>;</div>
<div class="line"><a name="l08503"></a><span class="lineno"> 8503</span>&#160;    <span class="keywordtype">char</span> *name;</div>
<div class="line"><a name="l08504"></a><span class="lineno"> 8504</span>&#160; </div>
<div class="line"><a name="l08505"></a><span class="lineno"> 8505</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<span class="stringliteral">&quot;r&quot;</span>) != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l08506"></a><span class="lineno"> 8506</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a02151de15e0a7dbf32c755b470829c39">clearcmdentry</a>();</div>
<div class="line"><a name="l08507"></a><span class="lineno"> 8507</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l08508"></a><span class="lineno"> 8508</span>&#160;    }</div>
<div class="line"><a name="l08509"></a><span class="lineno"> 8509</span>&#160; </div>
<div class="line"><a name="l08510"></a><span class="lineno"> 8510</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l08511"></a><span class="lineno"> 8511</span>&#160;        <span class="keywordflow">for</span> (pp = <a class="code" href="../../d1/dbe/ash_8c.html#aad35313bc27e01baa69a467d00eb5e6a">cmdtable</a>; pp &lt; &amp;<a class="code" href="../../d1/dbe/ash_8c.html#aad35313bc27e01baa69a467d00eb5e6a">cmdtable</a>[<a class="code" href="../../d1/dbe/ash_8c.html#ac351e9366a3093afcc94ec800a623332">CMDTABLESIZE</a>]; pp++) {</div>
<div class="line"><a name="l08512"></a><span class="lineno"> 8512</span>&#160;            <span class="keywordflow">for</span> (cmdp = *pp; cmdp; cmdp = cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a809b7b8164dad582c1db2e9eb8c071fd">next</a>) {</div>
<div class="line"><a name="l08513"></a><span class="lineno"> 8513</span>&#160;                <span class="keywordflow">if</span> (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a165ed7154d30466f3491f4e6cb1034c9">CMDNORMAL</a>)</div>
<div class="line"><a name="l08514"></a><span class="lineno"> 8514</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#ab4929b1270e8d692b510b31586b11858">printentry</a>(cmdp);</div>
<div class="line"><a name="l08515"></a><span class="lineno"> 8515</span>&#160;            }</div>
<div class="line"><a name="l08516"></a><span class="lineno"> 8516</span>&#160;        }</div>
<div class="line"><a name="l08517"></a><span class="lineno"> 8517</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l08518"></a><span class="lineno"> 8518</span>&#160;    }</div>
<div class="line"><a name="l08519"></a><span class="lineno"> 8519</span>&#160; </div>
<div class="line"><a name="l08520"></a><span class="lineno"> 8520</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = 0;</div>
<div class="line"><a name="l08521"></a><span class="lineno"> 8521</span>&#160;    <span class="keywordflow">while</span> ((name = *<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l08522"></a><span class="lineno"> 8522</span>&#160;        cmdp = <a class="code" href="../../d1/dbe/ash_8c.html#a68ada27b5db4d8a8be684f54bc3ed21f">cmdlookup</a>(name, 0);</div>
<div class="line"><a name="l08523"></a><span class="lineno"> 8523</span>&#160;        <span class="keywordflow">if</span> (cmdp != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div>
<div class="line"><a name="l08524"></a><span class="lineno"> 8524</span>&#160;         &amp;&amp; (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a165ed7154d30466f3491f4e6cb1034c9">CMDNORMAL</a></div>
<div class="line"><a name="l08525"></a><span class="lineno"> 8525</span>&#160;            || (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a></div>
<div class="line"><a name="l08526"></a><span class="lineno"> 8526</span>&#160;            &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#ab23db490601100500b00b74f9738fc01">IS_BUILTIN_REGULAR</a>(cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>.cmd)</div>
<div class="line"><a name="l08527"></a><span class="lineno"> 8527</span>&#160;            &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#ab7acafbde27f5fb99fff729b6da8b85c">builtinloc</a> &gt; 0</div>
<div class="line"><a name="l08528"></a><span class="lineno"> 8528</span>&#160;            )</div>
<div class="line"><a name="l08529"></a><span class="lineno"> 8529</span>&#160;            )</div>
<div class="line"><a name="l08530"></a><span class="lineno"> 8530</span>&#160;        ) {</div>
<div class="line"><a name="l08531"></a><span class="lineno"> 8531</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a77b90abe431d3d7de827fe9e6daf8252">delete_cmd_entry</a>();</div>
<div class="line"><a name="l08532"></a><span class="lineno"> 8532</span>&#160;        }</div>
<div class="line"><a name="l08533"></a><span class="lineno"> 8533</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa23d345708cf24e69c6cc4533ff0e8f9">find_command</a>(name, &amp;<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a06a22680ac104187b1b8e9fd9e790ac1">DO_ERR</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a1a0f44024ffe6329c9c6cda41fd24d30">pathval</a>());</div>
<div class="line"><a name="l08534"></a><span class="lineno"> 8534</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>.cmdtype == <a class="code" href="../../d1/dbe/ash_8c.html#a14e3440a799eb1e36008a8a828fdeab9">CMDUNKNOWN</a>)</div>
<div class="line"><a name="l08535"></a><span class="lineno"> 8535</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = 1;</div>
<div class="line"><a name="l08536"></a><span class="lineno"> 8536</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>++;</div>
<div class="line"><a name="l08537"></a><span class="lineno"> 8537</span>&#160;    }</div>
<div class="line"><a name="l08538"></a><span class="lineno"> 8538</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l08539"></a><span class="lineno"> 8539</span>&#160;}</div>
<div class="line"><a name="l08540"></a><span class="lineno"> 8540</span>&#160; </div>
<div class="line"><a name="l08541"></a><span class="lineno"> 8541</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08542"></a><span class="lineno"> 8542</span>&#160;<span class="comment"> * Called when a cd is done.  Marks all commands so the next time they</span></div>
<div class="line"><a name="l08543"></a><span class="lineno"> 8543</span>&#160;<span class="comment"> * are executed they will be rehashed.</span></div>
<div class="line"><a name="l08544"></a><span class="lineno"> 8544</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08545"></a><span class="lineno"> 8545</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l08546"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a272d05ac530197a45631148058364968"> 8546</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a272d05ac530197a45631148058364968">hashcd</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l08547"></a><span class="lineno"> 8547</span>&#160;{</div>
<div class="line"><a name="l08548"></a><span class="lineno"> 8548</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> **pp;</div>
<div class="line"><a name="l08549"></a><span class="lineno"> 8549</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> *cmdp;</div>
<div class="line"><a name="l08550"></a><span class="lineno"> 8550</span>&#160; </div>
<div class="line"><a name="l08551"></a><span class="lineno"> 8551</span>&#160;    <span class="keywordflow">for</span> (pp = <a class="code" href="../../d1/dbe/ash_8c.html#aad35313bc27e01baa69a467d00eb5e6a">cmdtable</a>; pp &lt; &amp;<a class="code" href="../../d1/dbe/ash_8c.html#aad35313bc27e01baa69a467d00eb5e6a">cmdtable</a>[<a class="code" href="../../d1/dbe/ash_8c.html#ac351e9366a3093afcc94ec800a623332">CMDTABLESIZE</a>]; pp++) {</div>
<div class="line"><a name="l08552"></a><span class="lineno"> 8552</span>&#160;        <span class="keywordflow">for</span> (cmdp = *pp; cmdp; cmdp = cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a809b7b8164dad582c1db2e9eb8c071fd">next</a>) {</div>
<div class="line"><a name="l08553"></a><span class="lineno"> 8553</span>&#160;            <span class="keywordflow">if</span> (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a165ed7154d30466f3491f4e6cb1034c9">CMDNORMAL</a></div>
<div class="line"><a name="l08554"></a><span class="lineno"> 8554</span>&#160;             || (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a></div>
<div class="line"><a name="l08555"></a><span class="lineno"> 8555</span>&#160;                 &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#ab23db490601100500b00b74f9738fc01">IS_BUILTIN_REGULAR</a>(cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>.cmd)</div>
<div class="line"><a name="l08556"></a><span class="lineno"> 8556</span>&#160;                 &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#ab7acafbde27f5fb99fff729b6da8b85c">builtinloc</a> &gt; 0)</div>
<div class="line"><a name="l08557"></a><span class="lineno"> 8557</span>&#160;            ) {</div>
<div class="line"><a name="l08558"></a><span class="lineno"> 8558</span>&#160;                cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acf2b4cbd4c9d86f72ac3d2414af81759">rehash</a> = 1;</div>
<div class="line"><a name="l08559"></a><span class="lineno"> 8559</span>&#160;            }</div>
<div class="line"><a name="l08560"></a><span class="lineno"> 8560</span>&#160;        }</div>
<div class="line"><a name="l08561"></a><span class="lineno"> 8561</span>&#160;    }</div>
<div class="line"><a name="l08562"></a><span class="lineno"> 8562</span>&#160;}</div>
<div class="line"><a name="l08563"></a><span class="lineno"> 8563</span>&#160; </div>
<div class="line"><a name="l08564"></a><span class="lineno"> 8564</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08565"></a><span class="lineno"> 8565</span>&#160;<span class="comment"> * Fix command hash table when PATH changed.</span></div>
<div class="line"><a name="l08566"></a><span class="lineno"> 8566</span>&#160;<span class="comment"> * Called before PATH is changed.  The argument is the new value of PATH;</span></div>
<div class="line"><a name="l08567"></a><span class="lineno"> 8567</span>&#160;<span class="comment"> * pathval() still returns the old value at this point.</span></div>
<div class="line"><a name="l08568"></a><span class="lineno"> 8568</span>&#160;<span class="comment"> * Called with interrupts off.</span></div>
<div class="line"><a name="l08569"></a><span class="lineno"> 8569</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08570"></a><span class="lineno"> 8570</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l08571"></a><span class="lineno"> 8571</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a165aeff3ce71a41b78e357e3455c0613">changepath</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *newval)</div>
<div class="line"><a name="l08572"></a><span class="lineno"> 8572</span>&#160;{</div>
<div class="line"><a name="l08573"></a><span class="lineno"> 8573</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">new</span>;</div>
<div class="line"><a name="l08574"></a><span class="lineno"> 8574</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>;</div>
<div class="line"><a name="l08575"></a><span class="lineno"> 8575</span>&#160;    <span class="keywordtype">int</span> bltin;</div>
<div class="line"><a name="l08576"></a><span class="lineno"> 8576</span>&#160; </div>
<div class="line"><a name="l08577"></a><span class="lineno"> 8577</span>&#160;    <span class="keyword">new</span> = newval;</div>
<div class="line"><a name="l08578"></a><span class="lineno"> 8578</span>&#160;    <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> = 0;</div>
<div class="line"><a name="l08579"></a><span class="lineno"> 8579</span>&#160;    bltin = -1;</div>
<div class="line"><a name="l08580"></a><span class="lineno"> 8580</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l08581"></a><span class="lineno"> 8581</span>&#160;        <span class="keywordflow">if</span> (*<span class="keyword">new</span> == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a230902048e5385f7f1cdd8eff9da6cf6">prefix</a>(<span class="keyword">new</span> + 1, <span class="stringliteral">&quot;builtin&quot;</span>)) {</div>
<div class="line"><a name="l08582"></a><span class="lineno"> 8582</span>&#160;            bltin = <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>;</div>
<div class="line"><a name="l08583"></a><span class="lineno"> 8583</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08584"></a><span class="lineno"> 8584</span>&#160;        }</div>
<div class="line"><a name="l08585"></a><span class="lineno"> 8585</span>&#160;        <span class="keyword">new</span> = <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(<span class="keyword">new</span>, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l08586"></a><span class="lineno"> 8586</span>&#160;        <span class="keywordflow">if</span> (!<span class="keyword">new</span>)</div>
<div class="line"><a name="l08587"></a><span class="lineno"> 8587</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08588"></a><span class="lineno"> 8588</span>&#160;        <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>++;</div>
<div class="line"><a name="l08589"></a><span class="lineno"> 8589</span>&#160;        <span class="keyword">new</span>++;</div>
<div class="line"><a name="l08590"></a><span class="lineno"> 8590</span>&#160;    }</div>
<div class="line"><a name="l08591"></a><span class="lineno"> 8591</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab7acafbde27f5fb99fff729b6da8b85c">builtinloc</a> = bltin;</div>
<div class="line"><a name="l08592"></a><span class="lineno"> 8592</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a02151de15e0a7dbf32c755b470829c39">clearcmdentry</a>();</div>
<div class="line"><a name="l08593"></a><span class="lineno"> 8593</span>&#160;}</div>
<div class="line"><a name="l08594"></a><span class="lineno"> 8594</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l08595"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da97170420678b0672ad01fcdef5b3b042"> 8595</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da97170420678b0672ad01fcdef5b3b042">TEOF</a>,</div>
<div class="line"><a name="l08596"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9c265fee2fb017a2bb60009f14fbe4f5"> 8596</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9c265fee2fb017a2bb60009f14fbe4f5">TNL</a>,</div>
<div class="line"><a name="l08597"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da7300b41797271233ec46764dc5983b8f"> 8597</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da7300b41797271233ec46764dc5983b8f">TREDIR</a>,</div>
<div class="line"><a name="l08598"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2"> 8598</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a>,</div>
<div class="line"><a name="l08599"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da2b483d6d5c6d950ba6db81a369a1ec78"> 8599</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da2b483d6d5c6d950ba6db81a369a1ec78">TSEMI</a>,</div>
<div class="line"><a name="l08600"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dae717a5a56d7677f7a2fe53be12c22124"> 8600</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dae717a5a56d7677f7a2fe53be12c22124">TBACKGND</a>,</div>
<div class="line"><a name="l08601"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac83acf67a25689b50ade68bb2c59391f"> 8601</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac83acf67a25689b50ade68bb2c59391f">TAND</a>,</div>
<div class="line"><a name="l08602"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dada27aaee300d100894b7052b2063d6dd"> 8602</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dada27aaee300d100894b7052b2063d6dd">TOR</a>,</div>
<div class="line"><a name="l08603"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da5093e34df6d582f2fc69070de1af0cfd"> 8603</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da5093e34df6d582f2fc69070de1af0cfd">TPIPE</a>,</div>
<div class="line"><a name="l08604"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac71b97e296bc873da6a08ed2840c8bde"> 8604</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac71b97e296bc873da6a08ed2840c8bde">TLP</a>,</div>
<div class="line"><a name="l08605"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f"> 8605</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f">TRP</a>,</div>
<div class="line"><a name="l08606"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da371e7256e2b2f57ebbe61ec0a0efe1b3"> 8606</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da371e7256e2b2f57ebbe61ec0a0efe1b3">TENDCASE</a>,</div>
<div class="line"><a name="l08607"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daf1d214b71bd509632a03a4377f153df4"> 8607</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daf1d214b71bd509632a03a4377f153df4">TENDBQUOTE</a>,</div>
<div class="line"><a name="l08608"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daecc032ac8d73ded1632db71be06e61a9"> 8608</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daecc032ac8d73ded1632db71be06e61a9">TNOT</a>,</div>
<div class="line"><a name="l08609"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da6e85ebba0763046aa5db2a073ea608f3"> 8609</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da6e85ebba0763046aa5db2a073ea608f3">TCASE</a>,</div>
<div class="line"><a name="l08610"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daffa6274fc4e000cda2676e65c4912321"> 8610</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daffa6274fc4e000cda2676e65c4912321">TDO</a>,</div>
<div class="line"><a name="l08611"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9a6801dc7200377f2f407e292a6f4e2c"> 8611</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9a6801dc7200377f2f407e292a6f4e2c">TDONE</a>,</div>
<div class="line"><a name="l08612"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dab2fe2733a71d9df8437916925e5bce8a"> 8612</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dab2fe2733a71d9df8437916925e5bce8a">TELIF</a>,</div>
<div class="line"><a name="l08613"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daecbe57c1accc3f854289da5b2859df35"> 8613</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daecbe57c1accc3f854289da5b2859df35">TELSE</a>,</div>
<div class="line"><a name="l08614"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da04d411adb03cd9fa66f72bbf12d0fd67"> 8614</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da04d411adb03cd9fa66f72bbf12d0fd67">TESAC</a>,</div>
<div class="line"><a name="l08615"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da312b4482eefc9ca83cb84fa08c49b4d0"> 8615</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da312b4482eefc9ca83cb84fa08c49b4d0">TFI</a>,</div>
<div class="line"><a name="l08616"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daae1cac6fabc93853164889cdc0d77b1a"> 8616</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daae1cac6fabc93853164889cdc0d77b1a">TFOR</a>,</div>
<div class="line"><a name="l08617"></a><span class="lineno"> 8617</span>&#160;<span class="preprocessor">#if BASH_FUNCTION</span></div>
<div class="line"><a name="l08618"></a><span class="lineno"> 8618</span>&#160;    TFUNCTION,</div>
<div class="line"><a name="l08619"></a><span class="lineno"> 8619</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08620"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daf6049a2c76faf4a885590098b3c6f5d7"> 8620</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daf6049a2c76faf4a885590098b3c6f5d7">TIF</a>,</div>
<div class="line"><a name="l08621"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da8363475f10539bd37b8406cbbac1f141"> 8621</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da8363475f10539bd37b8406cbbac1f141">TIN</a>,</div>
<div class="line"><a name="l08622"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daa26f5a72db54188cb29dc7b4ba952b87"> 8622</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daa26f5a72db54188cb29dc7b4ba952b87">TTHEN</a>,</div>
<div class="line"><a name="l08623"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da23c62ec7e2f13f4a9443adef926b8f0f"> 8623</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da23c62ec7e2f13f4a9443adef926b8f0f">TUNTIL</a>,</div>
<div class="line"><a name="l08624"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daaf9a72d2b433486eb715922b4c98b19b"> 8624</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daaf9a72d2b433486eb715922b4c98b19b">TWHILE</a>,</div>
<div class="line"><a name="l08625"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da4e367400a39e6f610d890329bfda7d2b"> 8625</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da4e367400a39e6f610d890329bfda7d2b">TBEGIN</a>,</div>
<div class="line"><a name="l08626"></a><span class="lineno"> 8626</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dab4bc1ce34893a5a1c80598894a352798">TEND</a></div>
<div class="line"><a name="l08627"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dab4bc1ce34893a5a1c80598894a352798"> 8627</a></span>&#160;};</div>
<div class="line"><a name="l08628"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3cbc03228926482a253db2b3a74ac94a"> 8628</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a3cbc03228926482a253db2b3a74ac94a">token_id_t</a>;</div>
<div class="line"><a name="l08629"></a><span class="lineno"> 8629</span>&#160; </div>
<div class="line"><a name="l08630"></a><span class="lineno"> 8630</span>&#160;<span class="comment">/* Nth bit indicates if token marks the end of a list */</span></div>
<div class="line"><a name="l08631"></a><span class="lineno"> 8631</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l08632"></a><span class="lineno"> 8632</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9712204ccd47a43411b450680bd1cf03aa92cc83bd3ca515948f5b810bf21c707">tokendlist</a> = 0</div>
<div class="line"><a name="l08633"></a><span class="lineno"> 8633</span>&#160;    <span class="comment">/*  0 */</span> | (1u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da97170420678b0672ad01fcdef5b3b042">TEOF</a>)</div>
<div class="line"><a name="l08634"></a><span class="lineno"> 8634</span>&#160;    <span class="comment">/*  1 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9c265fee2fb017a2bb60009f14fbe4f5">TNL</a>)</div>
<div class="line"><a name="l08635"></a><span class="lineno"> 8635</span>&#160;    <span class="comment">/*  2 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da7300b41797271233ec46764dc5983b8f">TREDIR</a>)</div>
<div class="line"><a name="l08636"></a><span class="lineno"> 8636</span>&#160;    <span class="comment">/*  3 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a>)</div>
<div class="line"><a name="l08637"></a><span class="lineno"> 8637</span>&#160;    <span class="comment">/*  4 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da2b483d6d5c6d950ba6db81a369a1ec78">TSEMI</a>)</div>
<div class="line"><a name="l08638"></a><span class="lineno"> 8638</span>&#160;    <span class="comment">/*  5 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dae717a5a56d7677f7a2fe53be12c22124">TBACKGND</a>)</div>
<div class="line"><a name="l08639"></a><span class="lineno"> 8639</span>&#160;    <span class="comment">/*  6 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac83acf67a25689b50ade68bb2c59391f">TAND</a>)</div>
<div class="line"><a name="l08640"></a><span class="lineno"> 8640</span>&#160;    <span class="comment">/*  7 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dada27aaee300d100894b7052b2063d6dd">TOR</a>)</div>
<div class="line"><a name="l08641"></a><span class="lineno"> 8641</span>&#160;    <span class="comment">/*  8 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da5093e34df6d582f2fc69070de1af0cfd">TPIPE</a>)</div>
<div class="line"><a name="l08642"></a><span class="lineno"> 8642</span>&#160;    <span class="comment">/*  9 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac71b97e296bc873da6a08ed2840c8bde">TLP</a>)</div>
<div class="line"><a name="l08643"></a><span class="lineno"> 8643</span>&#160;    <span class="comment">/* 10 */</span> | (1u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f">TRP</a>)</div>
<div class="line"><a name="l08644"></a><span class="lineno"> 8644</span>&#160;    <span class="comment">/* 11 */</span> | (1u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da371e7256e2b2f57ebbe61ec0a0efe1b3">TENDCASE</a>)</div>
<div class="line"><a name="l08645"></a><span class="lineno"> 8645</span>&#160;    <span class="comment">/* 12 */</span> | (1u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daf1d214b71bd509632a03a4377f153df4">TENDBQUOTE</a>)</div>
<div class="line"><a name="l08646"></a><span class="lineno"> 8646</span>&#160;    <span class="comment">/* 13 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daecc032ac8d73ded1632db71be06e61a9">TNOT</a>)</div>
<div class="line"><a name="l08647"></a><span class="lineno"> 8647</span>&#160;    <span class="comment">/* 14 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da6e85ebba0763046aa5db2a073ea608f3">TCASE</a>)</div>
<div class="line"><a name="l08648"></a><span class="lineno"> 8648</span>&#160;    <span class="comment">/* 15 */</span> | (1u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daffa6274fc4e000cda2676e65c4912321">TDO</a>)</div>
<div class="line"><a name="l08649"></a><span class="lineno"> 8649</span>&#160;    <span class="comment">/* 16 */</span> | (1u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9a6801dc7200377f2f407e292a6f4e2c">TDONE</a>)</div>
<div class="line"><a name="l08650"></a><span class="lineno"> 8650</span>&#160;    <span class="comment">/* 17 */</span> | (1u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dab2fe2733a71d9df8437916925e5bce8a">TELIF</a>)</div>
<div class="line"><a name="l08651"></a><span class="lineno"> 8651</span>&#160;    <span class="comment">/* 18 */</span> | (1u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daecbe57c1accc3f854289da5b2859df35">TELSE</a>)</div>
<div class="line"><a name="l08652"></a><span class="lineno"> 8652</span>&#160;    <span class="comment">/* 19 */</span> | (1u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da04d411adb03cd9fa66f72bbf12d0fd67">TESAC</a>)</div>
<div class="line"><a name="l08653"></a><span class="lineno"> 8653</span>&#160;    <span class="comment">/* 20 */</span> | (1u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da312b4482eefc9ca83cb84fa08c49b4d0">TFI</a>)</div>
<div class="line"><a name="l08654"></a><span class="lineno"> 8654</span>&#160;    <span class="comment">/* 21 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daae1cac6fabc93853164889cdc0d77b1a">TFOR</a>)</div>
<div class="line"><a name="l08655"></a><span class="lineno"> 8655</span>&#160;<span class="preprocessor">#if BASH_FUNCTION</span></div>
<div class="line"><a name="l08656"></a><span class="lineno"> 8656</span>&#160;    <span class="comment">/* 22 */</span> | (0u &lt;&lt; TFUNCTION)</div>
<div class="line"><a name="l08657"></a><span class="lineno"> 8657</span>&#160;#endif</div>
<div class="line"><a name="l08658"></a><span class="lineno"> 8658</span>&#160;    <span class="comment">/* 23 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daf6049a2c76faf4a885590098b3c6f5d7">TIF</a>)</div>
<div class="line"><a name="l08659"></a><span class="lineno"> 8659</span>&#160;    <span class="comment">/* 24 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da8363475f10539bd37b8406cbbac1f141">TIN</a>)</div>
<div class="line"><a name="l08660"></a><span class="lineno"> 8660</span>&#160;    <span class="comment">/* 25 */</span> | (1u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daa26f5a72db54188cb29dc7b4ba952b87">TTHEN</a>)</div>
<div class="line"><a name="l08661"></a><span class="lineno"> 8661</span>&#160;    <span class="comment">/* 26 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da23c62ec7e2f13f4a9443adef926b8f0f">TUNTIL</a>)</div>
<div class="line"><a name="l08662"></a><span class="lineno"> 8662</span>&#160;    <span class="comment">/* 27 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daaf9a72d2b433486eb715922b4c98b19b">TWHILE</a>)</div>
<div class="line"><a name="l08663"></a><span class="lineno"> 8663</span>&#160;    <span class="comment">/* 28 */</span> | (0u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da4e367400a39e6f610d890329bfda7d2b">TBEGIN</a>)</div>
<div class="line"><a name="l08664"></a><span class="lineno"> 8664</span>&#160;    <span class="comment">/* 29 */</span> | (1u &lt;&lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dab4bc1ce34893a5a1c80598894a352798">TEND</a>)</div>
<div class="line"><a name="l08665"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9712204ccd47a43411b450680bd1cf03aa92cc83bd3ca515948f5b810bf21c707"> 8665</a></span>&#160;    , <span class="comment">/* thus far 29 bits used */</span></div>
<div class="line"><a name="l08666"></a><span class="lineno"> 8666</span>&#160;};</div>
<div class="line"><a name="l08667"></a><span class="lineno"> 8667</span>&#160; </div>
<div class="line"><a name="l08668"></a><span class="lineno"> 8668</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> tokname_array[] <a class="code" href="../../d1/dbe/ash_8c.html#a1c0752fa32f10892c9017d7818ccc23d">ALIGN_PTR</a> = {</div>
<div class="line"><a name="l08669"></a><span class="lineno"> 8669</span>&#160;    <span class="stringliteral">&quot;end of file&quot;</span>,</div>
<div class="line"><a name="l08670"></a><span class="lineno"> 8670</span>&#160;    <span class="stringliteral">&quot;newline&quot;</span>,</div>
<div class="line"><a name="l08671"></a><span class="lineno"> 8671</span>&#160;    <span class="stringliteral">&quot;redirection&quot;</span>,</div>
<div class="line"><a name="l08672"></a><span class="lineno"> 8672</span>&#160;    <span class="stringliteral">&quot;word&quot;</span>,</div>
<div class="line"><a name="l08673"></a><span class="lineno"> 8673</span>&#160;    <span class="stringliteral">&quot;;&quot;</span>,</div>
<div class="line"><a name="l08674"></a><span class="lineno"> 8674</span>&#160;    <span class="stringliteral">&quot;&amp;&quot;</span>,</div>
<div class="line"><a name="l08675"></a><span class="lineno"> 8675</span>&#160;    <span class="stringliteral">&quot;&amp;&amp;&quot;</span>,</div>
<div class="line"><a name="l08676"></a><span class="lineno"> 8676</span>&#160;    <span class="stringliteral">&quot;||&quot;</span>,</div>
<div class="line"><a name="l08677"></a><span class="lineno"> 8677</span>&#160;    <span class="stringliteral">&quot;|&quot;</span>,</div>
<div class="line"><a name="l08678"></a><span class="lineno"> 8678</span>&#160;    <span class="stringliteral">&quot;(&quot;</span>,</div>
<div class="line"><a name="l08679"></a><span class="lineno"> 8679</span>&#160;    <span class="stringliteral">&quot;)&quot;</span>,</div>
<div class="line"><a name="l08680"></a><span class="lineno"> 8680</span>&#160;    <span class="stringliteral">&quot;;;&quot;</span>,</div>
<div class="line"><a name="l08681"></a><span class="lineno"> 8681</span>&#160;    <span class="stringliteral">&quot;`&quot;</span>,</div>
<div class="line"><a name="l08682"></a><span class="lineno"> 8682</span>&#160;<span class="preprocessor">#define KWDOFFSET 13</span></div>
<div class="line"><a name="l08683"></a><span class="lineno"> 8683</span>&#160;    <span class="comment">/* the following are keywords */</span></div>
<div class="line"><a name="l08684"></a><span class="lineno"> 8684</span>&#160;    <span class="stringliteral">&quot;!&quot;</span>,</div>
<div class="line"><a name="l08685"></a><span class="lineno"> 8685</span>&#160;    <span class="stringliteral">&quot;case&quot;</span>,</div>
<div class="line"><a name="l08686"></a><span class="lineno"> 8686</span>&#160;    <span class="stringliteral">&quot;do&quot;</span>,</div>
<div class="line"><a name="l08687"></a><span class="lineno"> 8687</span>&#160;    <span class="stringliteral">&quot;done&quot;</span>,</div>
<div class="line"><a name="l08688"></a><span class="lineno"> 8688</span>&#160;    <span class="stringliteral">&quot;elif&quot;</span>,</div>
<div class="line"><a name="l08689"></a><span class="lineno"> 8689</span>&#160;    <span class="stringliteral">&quot;else&quot;</span>,</div>
<div class="line"><a name="l08690"></a><span class="lineno"> 8690</span>&#160;    <span class="stringliteral">&quot;esac&quot;</span>,</div>
<div class="line"><a name="l08691"></a><span class="lineno"> 8691</span>&#160;    <span class="stringliteral">&quot;fi&quot;</span>,</div>
<div class="line"><a name="l08692"></a><span class="lineno"> 8692</span>&#160;    <span class="stringliteral">&quot;for&quot;</span>,</div>
<div class="line"><a name="l08693"></a><span class="lineno"> 8693</span>&#160;<span class="preprocessor">#if BASH_FUNCTION</span></div>
<div class="line"><a name="l08694"></a><span class="lineno"> 8694</span>&#160;    <span class="stringliteral">&quot;function&quot;</span>,</div>
<div class="line"><a name="l08695"></a><span class="lineno"> 8695</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08696"></a><span class="lineno"> 8696</span>&#160;    <span class="stringliteral">&quot;if&quot;</span>,</div>
<div class="line"><a name="l08697"></a><span class="lineno"> 8697</span>&#160;    <span class="stringliteral">&quot;in&quot;</span>,</div>
<div class="line"><a name="l08698"></a><span class="lineno"> 8698</span>&#160;    <span class="stringliteral">&quot;then&quot;</span>,</div>
<div class="line"><a name="l08699"></a><span class="lineno"> 8699</span>&#160;    <span class="stringliteral">&quot;until&quot;</span>,</div>
<div class="line"><a name="l08700"></a><span class="lineno"> 8700</span>&#160;    <span class="stringliteral">&quot;while&quot;</span>,</div>
<div class="line"><a name="l08701"></a><span class="lineno"> 8701</span>&#160;    <span class="stringliteral">&quot;{&quot;</span>,</div>
<div class="line"><a name="l08702"></a><span class="lineno"> 8702</span>&#160;    <span class="stringliteral">&quot;}&quot;</span>,</div>
<div class="line"><a name="l08703"></a><span class="lineno"> 8703</span>&#160;};</div>
<div class="line"><a name="l08704"></a><span class="lineno"> 8704</span>&#160; </div>
<div class="line"><a name="l08705"></a><span class="lineno"> 8705</span>&#160;<span class="comment">/* Wrapper around strcmp for qsort/bsearch/... */</span></div>
<div class="line"><a name="l08706"></a><span class="lineno"> 8706</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l08707"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9f2a049920ce82d53090a36392259fa4"> 8707</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a9f2a049920ce82d53090a36392259fa4">pstrcmp</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *a, <span class="keyword">const</span> <span class="keywordtype">void</span> *b)</div>
<div class="line"><a name="l08708"></a><span class="lineno"> 8708</span>&#160;{</div>
<div class="line"><a name="l08709"></a><span class="lineno"> 8709</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>((<span class="keywordtype">char</span>*)a, *(<span class="keywordtype">char</span>**)b);</div>
<div class="line"><a name="l08710"></a><span class="lineno"> 8710</span>&#160;}</div>
<div class="line"><a name="l08711"></a><span class="lineno"> 8711</span>&#160; </div>
<div class="line"><a name="l08712"></a><span class="lineno"> 8712</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> *</div>
<div class="line"><a name="l08713"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a319d06dfb0e179e02276d71fca6792ce"> 8713</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a319d06dfb0e179e02276d71fca6792ce">findkwd</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l08714"></a><span class="lineno"> 8714</span>&#160;{</div>
<div class="line"><a name="l08715"></a><span class="lineno"> 8715</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d7a/Userspace_2musl_2include_2stdlib_8h.html#a49a76993c8406bc5a389dfabb8089bd1">bsearch</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, tokname_array + <a class="code" href="../../d1/dbe/ash_8c.html#ac7dca3b754f2d355798603e0d0ea16aa">KWDOFFSET</a>,</div>
<div class="line"><a name="l08716"></a><span class="lineno"> 8716</span>&#160;            <a class="code" href="../../dd/d7f/applet__tables_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(tokname_array) - <a class="code" href="../../d1/dbe/ash_8c.html#ac7dca3b754f2d355798603e0d0ea16aa">KWDOFFSET</a>,</div>
<div class="line"><a name="l08717"></a><span class="lineno"> 8717</span>&#160;            <span class="keyword">sizeof</span>(tokname_array[0]), <a class="code" href="../../d1/dbe/ash_8c.html#a9f2a049920ce82d53090a36392259fa4">pstrcmp</a>);</div>
<div class="line"><a name="l08718"></a><span class="lineno"> 8718</span>&#160;}</div>
<div class="line"><a name="l08719"></a><span class="lineno"> 8719</span>&#160; </div>
<div class="line"><a name="l08720"></a><span class="lineno"> 8720</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l08721"></a><span class="lineno"> 8721</span>&#160;<span class="comment"> * Locate and print what a word is...</span></div>
<div class="line"><a name="l08722"></a><span class="lineno"> 8722</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l08723"></a><span class="lineno"> 8723</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l08724"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab526ca1a47a7c21ca2ccd4dc19cae798"> 8724</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ab526ca1a47a7c21ca2ccd4dc19cae798">describe_command</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> describe_command_verbose)</div>
<div class="line"><a name="l08725"></a><span class="lineno"> 8725</span>&#160;{</div>
<div class="line"><a name="l08726"></a><span class="lineno"> 8726</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a> <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>;</div>
<div class="line"><a name="l08727"></a><span class="lineno"> 8727</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l08728"></a><span class="lineno"> 8728</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l08729"></a><span class="lineno"> 8729</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08730"></a><span class="lineno"> 8730</span>&#160; </div>
<div class="line"><a name="l08731"></a><span class="lineno"> 8731</span>&#160;    path = path ? path : <a class="code" href="../../d1/dbe/ash_8c.html#a1a0f44024ffe6329c9c6cda41fd24d30">pathval</a>();</div>
<div class="line"><a name="l08732"></a><span class="lineno"> 8732</span>&#160; </div>
<div class="line"><a name="l08733"></a><span class="lineno"> 8733</span>&#160;    <span class="keywordflow">if</span> (describe_command_verbose) {</div>
<div class="line"><a name="l08734"></a><span class="lineno"> 8734</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">out1str</a>(<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l08735"></a><span class="lineno"> 8735</span>&#160;    }</div>
<div class="line"><a name="l08736"></a><span class="lineno"> 8736</span>&#160; </div>
<div class="line"><a name="l08737"></a><span class="lineno"> 8737</span>&#160;    <span class="comment">/* First look at the keywords */</span></div>
<div class="line"><a name="l08738"></a><span class="lineno"> 8738</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a319d06dfb0e179e02276d71fca6792ce">findkwd</a>(<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>)) {</div>
<div class="line"><a name="l08739"></a><span class="lineno"> 8739</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">out1str</a>(describe_command_verbose ? <span class="stringliteral">&quot; is a shell keyword&quot;</span> : <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l08740"></a><span class="lineno"> 8740</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l08741"></a><span class="lineno"> 8741</span>&#160;    }</div>
<div class="line"><a name="l08742"></a><span class="lineno"> 8742</span>&#160; </div>
<div class="line"><a name="l08743"></a><span class="lineno"> 8743</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l08744"></a><span class="lineno"> 8744</span>&#160;    <span class="comment">/* Then look at the aliases */</span></div>
<div class="line"><a name="l08745"></a><span class="lineno"> 8745</span>&#160;    <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = lookupalias(<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, 0);</div>
<div class="line"><a name="l08746"></a><span class="lineno"> 8746</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l08747"></a><span class="lineno"> 8747</span>&#160;        <span class="keywordflow">if</span> (!describe_command_verbose) {</div>
<div class="line"><a name="l08748"></a><span class="lineno"> 8748</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">out1str</a>(<span class="stringliteral">&quot;alias &quot;</span>);</div>
<div class="line"><a name="l08749"></a><span class="lineno"> 8749</span>&#160;            printalias(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l08750"></a><span class="lineno"> 8750</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l08751"></a><span class="lineno"> 8751</span>&#160;        }</div>
<div class="line"><a name="l08752"></a><span class="lineno"> 8752</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot; is an alias for %s&quot;</span>, <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;val);</div>
<div class="line"><a name="l08753"></a><span class="lineno"> 8753</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l08754"></a><span class="lineno"> 8754</span>&#160;    }</div>
<div class="line"><a name="l08755"></a><span class="lineno"> 8755</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08756"></a><span class="lineno"> 8756</span>&#160;    <span class="comment">/* Brute force */</span></div>
<div class="line"><a name="l08757"></a><span class="lineno"> 8757</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aa23d345708cf24e69c6cc4533ff0e8f9">find_command</a>(<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>, &amp;<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a2452bc617f7c74a60852b74578fe2957">DO_ABS</a>, path);</div>
<div class="line"><a name="l08758"></a><span class="lineno"> 8758</span>&#160; </div>
<div class="line"><a name="l08759"></a><span class="lineno"> 8759</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>.cmdtype) {</div>
<div class="line"><a name="l08760"></a><span class="lineno"> 8760</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a165ed7154d30466f3491f4e6cb1034c9">CMDNORMAL</a>: {</div>
<div class="line"><a name="l08761"></a><span class="lineno"> 8761</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>.u.index;</div>
<div class="line"><a name="l08762"></a><span class="lineno"> 8762</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l08763"></a><span class="lineno"> 8763</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> &lt; 0) {</div>
<div class="line"><a name="l08764"></a><span class="lineno"> 8764</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>;</div>
<div class="line"><a name="l08765"></a><span class="lineno"> 8765</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08766"></a><span class="lineno"> 8766</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l08767"></a><span class="lineno"> 8767</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#aa98d7d9d1f81656de699a72b080a8286">padvance</a>(&amp;path, <a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l08768"></a><span class="lineno"> 8768</span>&#160;            } <span class="keywordflow">while</span> (--<a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> &gt;= 0);</div>
<div class="line"><a name="l08769"></a><span class="lineno"> 8769</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l08770"></a><span class="lineno"> 8770</span>&#160;        }</div>
<div class="line"><a name="l08771"></a><span class="lineno"> 8771</span>&#160;        <span class="keywordflow">if</span> (describe_command_verbose) {</div>
<div class="line"><a name="l08772"></a><span class="lineno"> 8772</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot; is %s&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l08773"></a><span class="lineno"> 8773</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08774"></a><span class="lineno"> 8774</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">out1str</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l08775"></a><span class="lineno"> 8775</span>&#160;        }</div>
<div class="line"><a name="l08776"></a><span class="lineno"> 8776</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08777"></a><span class="lineno"> 8777</span>&#160;    }</div>
<div class="line"><a name="l08778"></a><span class="lineno"> 8778</span>&#160; </div>
<div class="line"><a name="l08779"></a><span class="lineno"> 8779</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a967d3b0cdfb3be875229c443ca49de02">CMDFUNCTION</a>:</div>
<div class="line"><a name="l08780"></a><span class="lineno"> 8780</span>&#160;        <span class="keywordflow">if</span> (describe_command_verbose) {</div>
<div class="line"><a name="l08781"></a><span class="lineno"> 8781</span>&#160;            <span class="comment">/*out1str(&quot; is a shell function&quot;);*/</span></div>
<div class="line"><a name="l08782"></a><span class="lineno"> 8782</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">out1str</a>(<span class="stringliteral">&quot; is a function&quot;</span>); <span class="comment">/* bash says this */</span></div>
<div class="line"><a name="l08783"></a><span class="lineno"> 8783</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08784"></a><span class="lineno"> 8784</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">out1str</a>(<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l08785"></a><span class="lineno"> 8785</span>&#160;        }</div>
<div class="line"><a name="l08786"></a><span class="lineno"> 8786</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08787"></a><span class="lineno"> 8787</span>&#160; </div>
<div class="line"><a name="l08788"></a><span class="lineno"> 8788</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a>:</div>
<div class="line"><a name="l08789"></a><span class="lineno"> 8789</span>&#160;        <span class="keywordflow">if</span> (describe_command_verbose) {</div>
<div class="line"><a name="l08790"></a><span class="lineno"> 8790</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot; is a %sshell builtin&quot;</span>,</div>
<div class="line"><a name="l08791"></a><span class="lineno"> 8791</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a0c4e6e2470921fbf54525dd1644ad0f9">IS_BUILTIN_SPECIAL</a>(<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>.u.cmd) ?</div>
<div class="line"><a name="l08792"></a><span class="lineno"> 8792</span>&#160;                    <span class="stringliteral">&quot;special &quot;</span> : <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a></div>
<div class="line"><a name="l08793"></a><span class="lineno"> 8793</span>&#160;            );</div>
<div class="line"><a name="l08794"></a><span class="lineno"> 8794</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l08795"></a><span class="lineno"> 8795</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">out1str</a>(<a class="code" href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a>);</div>
<div class="line"><a name="l08796"></a><span class="lineno"> 8796</span>&#160;        }</div>
<div class="line"><a name="l08797"></a><span class="lineno"> 8797</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08798"></a><span class="lineno"> 8798</span>&#160; </div>
<div class="line"><a name="l08799"></a><span class="lineno"> 8799</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08800"></a><span class="lineno"> 8800</span>&#160;        <span class="keywordflow">if</span> (describe_command_verbose) {</div>
<div class="line"><a name="l08801"></a><span class="lineno"> 8801</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">out1str</a>(<span class="stringliteral">&quot;: not found\n&quot;</span>);</div>
<div class="line"><a name="l08802"></a><span class="lineno"> 8802</span>&#160;        }</div>
<div class="line"><a name="l08803"></a><span class="lineno"> 8803</span>&#160;        <span class="keywordflow">return</span> 127;</div>
<div class="line"><a name="l08804"></a><span class="lineno"> 8804</span>&#160;    }</div>
<div class="line"><a name="l08805"></a><span class="lineno"> 8805</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l08806"></a><span class="lineno"> 8806</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">out1str</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l08807"></a><span class="lineno"> 8807</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l08808"></a><span class="lineno"> 8808</span>&#160;}</div>
<div class="line"><a name="l08809"></a><span class="lineno"> 8809</span>&#160; </div>
<div class="line"><a name="l08810"></a><span class="lineno"> 8810</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l08811"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a78d2cb92d65e163178b2d98ba088cff7"> 8811</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a78d2cb92d65e163178b2d98ba088cff7">typecmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l08812"></a><span class="lineno"> 8812</span>&#160;{</div>
<div class="line"><a name="l08813"></a><span class="lineno"> 8813</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 1;</div>
<div class="line"><a name="l08814"></a><span class="lineno"> 8814</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> = 0;</div>
<div class="line"><a name="l08815"></a><span class="lineno"> 8815</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/de7/httpd_8c.html#afe0534ca994b08a0ec5edf614aa48e9c">verbose</a> = 1;</div>
<div class="line"><a name="l08816"></a><span class="lineno"> 8816</span>&#160; </div>
<div class="line"><a name="l08817"></a><span class="lineno"> 8817</span>&#160;    <span class="comment">/* type -p ... ? (we don&#39;t bother checking for &#39;p&#39;) */</span></div>
<div class="line"><a name="l08818"></a><span class="lineno"> 8818</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1] &amp;&amp; <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1][0] == <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l08819"></a><span class="lineno"> 8819</span>&#160;        <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++;</div>
<div class="line"><a name="l08820"></a><span class="lineno"> 8820</span>&#160;        <a class="code" href="../../d1/de7/httpd_8c.html#afe0534ca994b08a0ec5edf614aa48e9c">verbose</a> = 0;</div>
<div class="line"><a name="l08821"></a><span class="lineno"> 8821</span>&#160;    }</div>
<div class="line"><a name="l08822"></a><span class="lineno"> 8822</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>]) {</div>
<div class="line"><a name="l08823"></a><span class="lineno"> 8823</span>&#160;        <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> |= <a class="code" href="../../d1/dbe/ash_8c.html#ab526ca1a47a7c21ca2ccd4dc19cae798">describe_command</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++], <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/de7/httpd_8c.html#afe0534ca994b08a0ec5edf614aa48e9c">verbose</a>);</div>
<div class="line"><a name="l08824"></a><span class="lineno"> 8824</span>&#160;    }</div>
<div class="line"><a name="l08825"></a><span class="lineno"> 8825</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l08826"></a><span class="lineno"> 8826</span>&#160;}</div>
<div class="line"><a name="l08827"></a><span class="lineno"> 8827</span>&#160; </div>
<div class="line"><a name="l08828"></a><span class="lineno"> 8828</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *</div>
<div class="line"><a name="l08829"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a26e717afbeac9c5e02a973f069576e62"> 8829</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a26e717afbeac9c5e02a973f069576e62">fill_arglist</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> *<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>, <span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> **argpp)</div>
<div class="line"><a name="l08830"></a><span class="lineno"> 8830</span>&#160;{</div>
<div class="line"><a name="l08831"></a><span class="lineno"> 8831</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> **lastp = <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a>;</div>
<div class="line"><a name="l08832"></a><span class="lineno"> 8832</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *argp;</div>
<div class="line"><a name="l08833"></a><span class="lineno"> 8833</span>&#160; </div>
<div class="line"><a name="l08834"></a><span class="lineno"> 8834</span>&#160;    <span class="keywordflow">while</span> ((argp = *argpp) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l08835"></a><span class="lineno"> 8835</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4d5949e5678787310373e25f4ce1c935">expandarg</a>(argp, <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ad93fac6975049cf96d7989ffad986cc4">EXP_FULL</a> | <a class="code" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a>);</div>
<div class="line"><a name="l08836"></a><span class="lineno"> 8836</span>&#160;        *argpp = argp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a48ffe2ba16597faedb406bcec66923ab">next</a>;</div>
<div class="line"><a name="l08837"></a><span class="lineno"> 8837</span>&#160;        <span class="keywordflow">if</span> (*lastp)</div>
<div class="line"><a name="l08838"></a><span class="lineno"> 8838</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08839"></a><span class="lineno"> 8839</span>&#160;    }</div>
<div class="line"><a name="l08840"></a><span class="lineno"> 8840</span>&#160; </div>
<div class="line"><a name="l08841"></a><span class="lineno"> 8841</span>&#160;    <span class="keywordflow">return</span> *lastp;</div>
<div class="line"><a name="l08842"></a><span class="lineno"> 8842</span>&#160;}</div>
<div class="line"><a name="l08843"></a><span class="lineno"> 8843</span>&#160; </div>
<div class="line"><a name="l08844"></a><span class="lineno"> 8844</span>&#160;<span class="preprocessor">#if ENABLE_ASH_CMDCMD</span></div>
<div class="line"><a name="l08845"></a><span class="lineno"> 8845</span>&#160;<span class="comment">/* Is it &quot;command [-p] PROG ARGS&quot; bltin, no other opts? Return ptr to &quot;PROG&quot; if yes */</span></div>
<div class="line"><a name="l08846"></a><span class="lineno"> 8846</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l08847"></a><span class="lineno"> 8847</span>&#160;parse_command_args(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> *<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>, <span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> **argpp, <span class="keyword">const</span> <span class="keywordtype">char</span> **path)</div>
<div class="line"><a name="l08848"></a><span class="lineno"> 8848</span>&#160;{</div>
<div class="line"><a name="l08849"></a><span class="lineno"> 8849</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>;</div>
<div class="line"><a name="l08850"></a><span class="lineno"> 8850</span>&#160;    <span class="keywordtype">char</span> *cp, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l08851"></a><span class="lineno"> 8851</span>&#160; </div>
<div class="line"><a name="l08852"></a><span class="lineno"> 8852</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l08853"></a><span class="lineno"> 8853</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next ? <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next : <a class="code" href="../../d1/dbe/ash_8c.html#a26e717afbeac9c5e02a973f069576e62">fill_arglist</a>(<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>, argpp);</div>
<div class="line"><a name="l08854"></a><span class="lineno"> 8854</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>)</div>
<div class="line"><a name="l08855"></a><span class="lineno"> 8855</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l08856"></a><span class="lineno"> 8856</span>&#160;        cp = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;text;</div>
<div class="line"><a name="l08857"></a><span class="lineno"> 8857</span>&#160;        <span class="keywordflow">if</span> (*cp++ != <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l08858"></a><span class="lineno"> 8858</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08859"></a><span class="lineno"> 8859</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *cp++;</div>
<div class="line"><a name="l08860"></a><span class="lineno"> 8860</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)</div>
<div class="line"><a name="l08861"></a><span class="lineno"> 8861</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08862"></a><span class="lineno"> 8862</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;-&#39;</span> &amp;&amp; !*cp) {</div>
<div class="line"><a name="l08863"></a><span class="lineno"> 8863</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#a26e717afbeac9c5e02a973f069576e62">fill_arglist</a>(<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>, argpp))</div>
<div class="line"><a name="l08864"></a><span class="lineno"> 8864</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l08865"></a><span class="lineno"> 8865</span>&#160;            <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next;</div>
<div class="line"><a name="l08866"></a><span class="lineno"> 8866</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08867"></a><span class="lineno"> 8867</span>&#160;        }</div>
<div class="line"><a name="l08868"></a><span class="lineno"> 8868</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l08869"></a><span class="lineno"> 8869</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {</div>
<div class="line"><a name="l08870"></a><span class="lineno"> 8870</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line"><a name="l08871"></a><span class="lineno"> 8871</span>&#160;                *path = <a class="code" href="../../d7/dd7/libbb_8h.html#ad8abad30153469959152fb2e11105502">bb_default_path</a>;</div>
<div class="line"><a name="l08872"></a><span class="lineno"> 8872</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08873"></a><span class="lineno"> 8873</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l08874"></a><span class="lineno"> 8874</span>&#160;                <span class="comment">/* run &#39;typecmd&#39; for other options */</span></div>
<div class="line"><a name="l08875"></a><span class="lineno"> 8875</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l08876"></a><span class="lineno"> 8876</span>&#160;            }</div>
<div class="line"><a name="l08877"></a><span class="lineno"> 8877</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *cp++;</div>
<div class="line"><a name="l08878"></a><span class="lineno"> 8878</span>&#160;        } <span class="keywordflow">while</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l08879"></a><span class="lineno"> 8879</span>&#160;    }</div>
<div class="line"><a name="l08880"></a><span class="lineno"> 8880</span>&#160; </div>
<div class="line"><a name="l08881"></a><span class="lineno"> 8881</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l08882"></a><span class="lineno"> 8882</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#af6ef3779dc4dffc2aaedf8bf82dc5bb2">DO_NOFUNC</a>;</div>
<div class="line"><a name="l08883"></a><span class="lineno"> 8883</span>&#160;}</div>
<div class="line"><a name="l08884"></a><span class="lineno"> 8884</span>&#160; </div>
<div class="line"><a name="l08885"></a><span class="lineno"> 8885</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l08886"></a><span class="lineno"> 8886</span>&#160;commandcmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l08887"></a><span class="lineno"> 8887</span>&#160;{</div>
<div class="line"><a name="l08888"></a><span class="lineno"> 8888</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>;</div>
<div class="line"><a name="l08889"></a><span class="lineno"> 8889</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l08890"></a><span class="lineno"> 8890</span>&#160;    <span class="keyword">enum</span> {</div>
<div class="line"><a name="l08891"></a><span class="lineno"> 8891</span>&#160;        VERIFY_BRIEF = 1,</div>
<div class="line"><a name="l08892"></a><span class="lineno"> 8892</span>&#160;        VERIFY_VERBOSE = 2,</div>
<div class="line"><a name="l08893"></a><span class="lineno"> 8893</span>&#160;    } <a class="code" href="../../dd/d81/strtoimax_8c.html#a2b7c0b217d9ec9df7042018b3eeb5e40">verify</a> = 0;</div>
<div class="line"><a name="l08894"></a><span class="lineno"> 8894</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *path = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l08895"></a><span class="lineno"> 8895</span>&#160; </div>
<div class="line"><a name="l08896"></a><span class="lineno"> 8896</span>&#160;    <span class="comment">/* &quot;command [-p] PROG ARGS&quot; (that is, without -V or -v)</span></div>
<div class="line"><a name="l08897"></a><span class="lineno"> 8897</span>&#160;<span class="comment">     * never reaches this function.</span></div>
<div class="line"><a name="l08898"></a><span class="lineno"> 8898</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l08899"></a><span class="lineno"> 8899</span>&#160; </div>
<div class="line"><a name="l08900"></a><span class="lineno"> 8900</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<span class="stringliteral">&quot;pvV&quot;</span>)) != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l08901"></a><span class="lineno"> 8901</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;V&#39;</span>)</div>
<div class="line"><a name="l08902"></a><span class="lineno"> 8902</span>&#160;            <a class="code" href="../../dd/d81/strtoimax_8c.html#a2b7c0b217d9ec9df7042018b3eeb5e40">verify</a> |= VERIFY_VERBOSE;</div>
<div class="line"><a name="l08903"></a><span class="lineno"> 8903</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;v&#39;</span>)</div>
<div class="line"><a name="l08904"></a><span class="lineno"> 8904</span>&#160;            <span class="comment">/*verify |= VERIFY_BRIEF*/</span>;</div>
<div class="line"><a name="l08905"></a><span class="lineno"> 8905</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l08906"></a><span class="lineno"> 8906</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;p&#39;</span>)</div>
<div class="line"><a name="l08907"></a><span class="lineno"> 8907</span>&#160;            <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a>();</div>
<div class="line"><a name="l08908"></a><span class="lineno"> 8908</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08909"></a><span class="lineno"> 8909</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l08910"></a><span class="lineno"> 8910</span>&#160;            path = <a class="code" href="../../d7/dd7/libbb_8h.html#ad8abad30153469959152fb2e11105502">bb_default_path</a>;</div>
<div class="line"><a name="l08911"></a><span class="lineno"> 8911</span>&#160; </div>
<div class="line"><a name="l08912"></a><span class="lineno"> 8912</span>&#160;    <span class="comment">/* Mimic bash: just &quot;command -v&quot; doesn&#39;t complain, it&#39;s a nop */</span></div>
<div class="line"><a name="l08913"></a><span class="lineno"> 8913</span>&#160;    <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> = *<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l08914"></a><span class="lineno"> 8914</span>&#160;    <span class="keywordflow">if</span> (<span class="comment">/*verify &amp;&amp; */</span> <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>)</div>
<div class="line"><a name="l08915"></a><span class="lineno"> 8915</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#ab526ca1a47a7c21ca2ccd4dc19cae798">describe_command</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, path, <a class="code" href="../../dd/d81/strtoimax_8c.html#a2b7c0b217d9ec9df7042018b3eeb5e40">verify</a> <span class="comment">/* - VERIFY_BRIEF*/</span>);</div>
<div class="line"><a name="l08916"></a><span class="lineno"> 8916</span>&#160; </div>
<div class="line"><a name="l08917"></a><span class="lineno"> 8917</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l08918"></a><span class="lineno"> 8918</span>&#160;}</div>
<div class="line"><a name="l08919"></a><span class="lineno"> 8919</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08920"></a><span class="lineno"> 8920</span>&#160; </div>
<div class="line"><a name="l08921"></a><span class="lineno"> 8921</span>&#160; </div>
<div class="line"><a name="l08922"></a><span class="lineno"> 8922</span>&#160;<span class="comment">/*static int funcblocksize;     // size of structures in function */</span></div>
<div class="line"><a name="l08923"></a><span class="lineno"> 8923</span>&#160;<span class="comment">/*static int funcstringsize;    // size of strings in node */</span></div>
<div class="line"><a name="l08924"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a93bb1ed8afa1f95bebbcf34cf243079f"> 8924</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a93bb1ed8afa1f95bebbcf34cf243079f">funcblock</a>;         <span class="comment">/* block to allocate function from */</span></div>
<div class="line"><a name="l08925"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6902e65246386365d0671a727892a871"> 8925</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a6902e65246386365d0671a727892a871">funcstring_end</a>;    <span class="comment">/* end of block to allocate strings from */</span></div>
<div class="line"><a name="l08926"></a><span class="lineno"> 8926</span>&#160; </div>
<div class="line"><a name="l08927"></a><span class="lineno"> 8927</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> nodesize[<a class="code" href="../../d1/dbe/ash_8c.html#ac9687d44d84ef0c650fa0fa1aebd7ce9">N_NUMBER</a>] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = {</div>
<div class="line"><a name="l08928"></a><span class="lineno"> 8928</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">NCMD</a>     ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d8/da4/structncmd">ncmd</a>)),</div>
<div class="line"><a name="l08929"></a><span class="lineno"> 8929</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a6b0054e65df0932a5e1c92c4f707358b">NPIPE</a>    ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d4/d1f/structnpipe">npipe</a>)),</div>
<div class="line"><a name="l08930"></a><span class="lineno"> 8930</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a731505e220374df4153088cb7dc7e721">NREDIR</a>   ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d5/db3/structnredir">nredir</a>)),</div>
<div class="line"><a name="l08931"></a><span class="lineno"> 8931</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a17b467de2743a40a0a8fc5fc8019404d">NBACKGND</a> ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d5/db3/structnredir">nredir</a>)),</div>
<div class="line"><a name="l08932"></a><span class="lineno"> 8932</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a5cd8291782169e211f7112aec1b29b7a">NSUBSHELL</a>] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d5/db3/structnredir">nredir</a>)),</div>
<div class="line"><a name="l08933"></a><span class="lineno"> 8933</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a923cb4a4043639f6d8d4108c84bb8f8f">NAND</a>     ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d7/d46/structnbinary">nbinary</a>)),</div>
<div class="line"><a name="l08934"></a><span class="lineno"> 8934</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a0dd10f6b3ad00611521e0a7ebc8c18ad">NOR</a>      ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d7/d46/structnbinary">nbinary</a>)),</div>
<div class="line"><a name="l08935"></a><span class="lineno"> 8935</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a9b85d29ae92a08c0a12c42cc7f302dfb">NSEMI</a>    ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d7/d46/structnbinary">nbinary</a>)),</div>
<div class="line"><a name="l08936"></a><span class="lineno"> 8936</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a1afe765b4510add91239ee23e5a89ba4">NIF</a>      ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d18/structnif">nif</a>)),</div>
<div class="line"><a name="l08937"></a><span class="lineno"> 8937</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a118a6b79cefa14c0e48db7329e2dc546">NWHILE</a>   ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d7/d46/structnbinary">nbinary</a>)),</div>
<div class="line"><a name="l08938"></a><span class="lineno"> 8938</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a715c2e99d7a38041a97cebc49ef25470">NUNTIL</a>   ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d7/d46/structnbinary">nbinary</a>)),</div>
<div class="line"><a name="l08939"></a><span class="lineno"> 8939</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#ae575a712af65a31deff21397dd8abe51">NFOR</a>     ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/df6/structnfor">nfor</a>)),</div>
<div class="line"><a name="l08940"></a><span class="lineno"> 8940</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#acab6d4049057ee59ea73ed5b5ca879f2">NCASE</a>    ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d8/df4/structncase">ncase</a>)),</div>
<div class="line"><a name="l08941"></a><span class="lineno"> 8941</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#ac9a047b5fb2d49112a93edf59e32a1bb">NCLIST</a>   ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d6/dc9/structnclist">nclist</a>)),</div>
<div class="line"><a name="l08942"></a><span class="lineno"> 8942</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#accf038e773bf009999c077dfac00a290">NDEFUN</a>   ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a>)),</div>
<div class="line"><a name="l08943"></a><span class="lineno"> 8943</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>     ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a>)),</div>
<div class="line"><a name="l08944"></a><span class="lineno"> 8944</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a658038e4a47dea3db2c5ab2a3446e02a">NTO</a>      ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/dbc/structnfile">nfile</a>)),</div>
<div class="line"><a name="l08945"></a><span class="lineno"> 8945</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l08946"></a><span class="lineno"> 8946</span>&#160;    [NTO2     ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/dbc/structnfile">nfile</a>)),</div>
<div class="line"><a name="l08947"></a><span class="lineno"> 8947</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08948"></a><span class="lineno"> 8948</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a044ff0b816ace1617b5a80ef22042484">NCLOBBER</a> ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/dbc/structnfile">nfile</a>)),</div>
<div class="line"><a name="l08949"></a><span class="lineno"> 8949</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#aefcff7735123e7551631570d3bbb418f">NFROM</a>    ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/dbc/structnfile">nfile</a>)),</div>
<div class="line"><a name="l08950"></a><span class="lineno"> 8950</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#aa5fc21dad7ff6ca79ff1e9c481b33787">NFROMTO</a>  ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/dbc/structnfile">nfile</a>)),</div>
<div class="line"><a name="l08951"></a><span class="lineno"> 8951</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a7e16466b836f34200e785c653b136dcf">NAPPEND</a>  ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/dbc/structnfile">nfile</a>)),</div>
<div class="line"><a name="l08952"></a><span class="lineno"> 8952</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">NTOFD</a>    ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d9/d9b/structndup">ndup</a>)),</div>
<div class="line"><a name="l08953"></a><span class="lineno"> 8953</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">NFROMFD</a>  ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d9/d9b/structndup">ndup</a>)),</div>
<div class="line"><a name="l08954"></a><span class="lineno"> 8954</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#ad0f81540b8a0b9ef1e2747fb93898460">NHERE</a>    ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d8/d0a/structnhere">nhere</a>)),</div>
<div class="line"><a name="l08955"></a><span class="lineno"> 8955</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#adea9843b5ff4954b14afa07a09340091">NXHERE</a>   ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d8/d0a/structnhere">nhere</a>)),</div>
<div class="line"><a name="l08956"></a><span class="lineno"> 8956</span>&#160;    [<a class="code" href="../../d1/dbe/ash_8c.html#a7313a4d2ef02154895cdd285d1466a7a">NNOT</a>     ] = <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/d15/structnnot">nnot</a>)),</div>
<div class="line"><a name="l08957"></a><span class="lineno"> 8957</span>&#160;};</div>
<div class="line"><a name="l08958"></a><span class="lineno"> 8958</span>&#160; </div>
<div class="line"><a name="l08959"></a><span class="lineno"> 8959</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(<span class="keywordtype">int</span> funcblocksize, <span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l08960"></a><span class="lineno"> 8960</span>&#160; </div>
<div class="line"><a name="l08961"></a><span class="lineno"> 8961</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l08962"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6b303ccf2079a8da3e1bf8c9449034c4"> 8962</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a6b303ccf2079a8da3e1bf8c9449034c4">sizenodelist</a>(<span class="keywordtype">int</span> funcblocksize, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *lp)</div>
<div class="line"><a name="l08963"></a><span class="lineno"> 8963</span>&#160;{</div>
<div class="line"><a name="l08964"></a><span class="lineno"> 8964</span>&#160;    <span class="keywordflow">while</span> (lp) {</div>
<div class="line"><a name="l08965"></a><span class="lineno"> 8965</span>&#160;        funcblocksize += <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a>));</div>
<div class="line"><a name="l08966"></a><span class="lineno"> 8966</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">n</a>);</div>
<div class="line"><a name="l08967"></a><span class="lineno"> 8967</span>&#160;        lp = lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a>;</div>
<div class="line"><a name="l08968"></a><span class="lineno"> 8968</span>&#160;    }</div>
<div class="line"><a name="l08969"></a><span class="lineno"> 8969</span>&#160;    <span class="keywordflow">return</span> funcblocksize;</div>
<div class="line"><a name="l08970"></a><span class="lineno"> 8970</span>&#160;}</div>
<div class="line"><a name="l08971"></a><span class="lineno"> 8971</span>&#160; </div>
<div class="line"><a name="l08972"></a><span class="lineno"> 8972</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l08973"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5"> 8973</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(<span class="keywordtype">int</span> funcblocksize, <span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l08974"></a><span class="lineno"> 8974</span>&#160;{</div>
<div class="line"><a name="l08975"></a><span class="lineno"> 8975</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l08976"></a><span class="lineno"> 8976</span>&#160;        <span class="keywordflow">return</span> funcblocksize;</div>
<div class="line"><a name="l08977"></a><span class="lineno"> 8977</span>&#160;    funcblocksize += nodesize[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type];</div>
<div class="line"><a name="l08978"></a><span class="lineno"> 8978</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type) {</div>
<div class="line"><a name="l08979"></a><span class="lineno"> 8979</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">NCMD</a>:</div>
<div class="line"><a name="l08980"></a><span class="lineno"> 8980</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.redirect);</div>
<div class="line"><a name="l08981"></a><span class="lineno"> 8981</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.args);</div>
<div class="line"><a name="l08982"></a><span class="lineno"> 8982</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.assign);</div>
<div class="line"><a name="l08983"></a><span class="lineno"> 8983</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08984"></a><span class="lineno"> 8984</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a6b0054e65df0932a5e1c92c4f707358b">NPIPE</a>:</div>
<div class="line"><a name="l08985"></a><span class="lineno"> 8985</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#a6b303ccf2079a8da3e1bf8c9449034c4">sizenodelist</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;npipe.cmdlist);</div>
<div class="line"><a name="l08986"></a><span class="lineno"> 8986</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08987"></a><span class="lineno"> 8987</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a731505e220374df4153088cb7dc7e721">NREDIR</a>:</div>
<div class="line"><a name="l08988"></a><span class="lineno"> 8988</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a17b467de2743a40a0a8fc5fc8019404d">NBACKGND</a>:</div>
<div class="line"><a name="l08989"></a><span class="lineno"> 8989</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a5cd8291782169e211f7112aec1b29b7a">NSUBSHELL</a>:</div>
<div class="line"><a name="l08990"></a><span class="lineno"> 8990</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.redirect);</div>
<div class="line"><a name="l08991"></a><span class="lineno"> 8991</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.n);</div>
<div class="line"><a name="l08992"></a><span class="lineno"> 8992</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l08993"></a><span class="lineno"> 8993</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a923cb4a4043639f6d8d4108c84bb8f8f">NAND</a>:</div>
<div class="line"><a name="l08994"></a><span class="lineno"> 8994</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0dd10f6b3ad00611521e0a7ebc8c18ad">NOR</a>:</div>
<div class="line"><a name="l08995"></a><span class="lineno"> 8995</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a9b85d29ae92a08c0a12c42cc7f302dfb">NSEMI</a>:</div>
<div class="line"><a name="l08996"></a><span class="lineno"> 8996</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a118a6b79cefa14c0e48db7329e2dc546">NWHILE</a>:</div>
<div class="line"><a name="l08997"></a><span class="lineno"> 8997</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a715c2e99d7a38041a97cebc49ef25470">NUNTIL</a>:</div>
<div class="line"><a name="l08998"></a><span class="lineno"> 8998</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch2);</div>
<div class="line"><a name="l08999"></a><span class="lineno"> 8999</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch1);</div>
<div class="line"><a name="l09000"></a><span class="lineno"> 9000</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09001"></a><span class="lineno"> 9001</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a1afe765b4510add91239ee23e5a89ba4">NIF</a>:</div>
<div class="line"><a name="l09002"></a><span class="lineno"> 9002</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.elsepart);</div>
<div class="line"><a name="l09003"></a><span class="lineno"> 9003</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.ifpart);</div>
<div class="line"><a name="l09004"></a><span class="lineno"> 9004</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.test);</div>
<div class="line"><a name="l09005"></a><span class="lineno"> 9005</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09006"></a><span class="lineno"> 9006</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ae575a712af65a31deff21397dd8abe51">NFOR</a>:</div>
<div class="line"><a name="l09007"></a><span class="lineno"> 9007</span>&#160;        funcblocksize += <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.var) + 1); <span class="comment">/* was funcstringsize += ... */</span></div>
<div class="line"><a name="l09008"></a><span class="lineno"> 9008</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.body);</div>
<div class="line"><a name="l09009"></a><span class="lineno"> 9009</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.args);</div>
<div class="line"><a name="l09010"></a><span class="lineno"> 9010</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09011"></a><span class="lineno"> 9011</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#acab6d4049057ee59ea73ed5b5ca879f2">NCASE</a>:</div>
<div class="line"><a name="l09012"></a><span class="lineno"> 9012</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncase.cases);</div>
<div class="line"><a name="l09013"></a><span class="lineno"> 9013</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncase.expr);</div>
<div class="line"><a name="l09014"></a><span class="lineno"> 9014</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09015"></a><span class="lineno"> 9015</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac9a047b5fb2d49112a93edf59e32a1bb">NCLIST</a>:</div>
<div class="line"><a name="l09016"></a><span class="lineno"> 9016</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nclist.body);</div>
<div class="line"><a name="l09017"></a><span class="lineno"> 9017</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nclist.pattern);</div>
<div class="line"><a name="l09018"></a><span class="lineno"> 9018</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nclist.next);</div>
<div class="line"><a name="l09019"></a><span class="lineno"> 9019</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09020"></a><span class="lineno"> 9020</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#accf038e773bf009999c077dfac00a290">NDEFUN</a>:</div>
<div class="line"><a name="l09021"></a><span class="lineno"> 9021</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndefun.body);</div>
<div class="line"><a name="l09022"></a><span class="lineno"> 9022</span>&#160;        funcblocksize += <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndefun.text) + 1);</div>
<div class="line"><a name="l09023"></a><span class="lineno"> 9023</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09024"></a><span class="lineno"> 9024</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>:</div>
<div class="line"><a name="l09025"></a><span class="lineno"> 9025</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#a6b303ccf2079a8da3e1bf8c9449034c4">sizenodelist</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.backquote);</div>
<div class="line"><a name="l09026"></a><span class="lineno"> 9026</span>&#160;        funcblocksize += <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.text) + 1); <span class="comment">/* was funcstringsize += ... */</span></div>
<div class="line"><a name="l09027"></a><span class="lineno"> 9027</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.next);</div>
<div class="line"><a name="l09028"></a><span class="lineno"> 9028</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09029"></a><span class="lineno"> 9029</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a658038e4a47dea3db2c5ab2a3446e02a">NTO</a>:</div>
<div class="line"><a name="l09030"></a><span class="lineno"> 9030</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l09031"></a><span class="lineno"> 9031</span>&#160;    <span class="keywordflow">case</span> NTO2:</div>
<div class="line"><a name="l09032"></a><span class="lineno"> 9032</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09033"></a><span class="lineno"> 9033</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a044ff0b816ace1617b5a80ef22042484">NCLOBBER</a>:</div>
<div class="line"><a name="l09034"></a><span class="lineno"> 9034</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aefcff7735123e7551631570d3bbb418f">NFROM</a>:</div>
<div class="line"><a name="l09035"></a><span class="lineno"> 9035</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa5fc21dad7ff6ca79ff1e9c481b33787">NFROMTO</a>:</div>
<div class="line"><a name="l09036"></a><span class="lineno"> 9036</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7e16466b836f34200e785c653b136dcf">NAPPEND</a>:</div>
<div class="line"><a name="l09037"></a><span class="lineno"> 9037</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfile.fname);</div>
<div class="line"><a name="l09038"></a><span class="lineno"> 9038</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfile.next);</div>
<div class="line"><a name="l09039"></a><span class="lineno"> 9039</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09040"></a><span class="lineno"> 9040</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">NTOFD</a>:</div>
<div class="line"><a name="l09041"></a><span class="lineno"> 9041</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">NFROMFD</a>:</div>
<div class="line"><a name="l09042"></a><span class="lineno"> 9042</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndup.vname);</div>
<div class="line"><a name="l09043"></a><span class="lineno"> 9043</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndup.next);</div>
<div class="line"><a name="l09044"></a><span class="lineno"> 9044</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09045"></a><span class="lineno"> 9045</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad0f81540b8a0b9ef1e2747fb93898460">NHERE</a>:</div>
<div class="line"><a name="l09046"></a><span class="lineno"> 9046</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#adea9843b5ff4954b14afa07a09340091">NXHERE</a>:</div>
<div class="line"><a name="l09047"></a><span class="lineno"> 9047</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nhere.doc);</div>
<div class="line"><a name="l09048"></a><span class="lineno"> 9048</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nhere.next);</div>
<div class="line"><a name="l09049"></a><span class="lineno"> 9049</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09050"></a><span class="lineno"> 9050</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7313a4d2ef02154895cdd285d1466a7a">NNOT</a>:</div>
<div class="line"><a name="l09051"></a><span class="lineno"> 9051</span>&#160;        funcblocksize = <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(funcblocksize, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nnot.com);</div>
<div class="line"><a name="l09052"></a><span class="lineno"> 9052</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09053"></a><span class="lineno"> 9053</span>&#160;    };</div>
<div class="line"><a name="l09054"></a><span class="lineno"> 9054</span>&#160;    <span class="keywordflow">return</span> funcblocksize;</div>
<div class="line"><a name="l09055"></a><span class="lineno"> 9055</span>&#160;}</div>
<div class="line"><a name="l09056"></a><span class="lineno"> 9056</span>&#160; </div>
<div class="line"><a name="l09057"></a><span class="lineno"> 9057</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l09058"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a02124bd09e672d18bc38681968f9e770"> 9058</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a02124bd09e672d18bc38681968f9e770">nodeckstrdup</a>(<span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l09059"></a><span class="lineno"> 9059</span>&#160;{</div>
<div class="line"><a name="l09060"></a><span class="lineno"> 9060</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6902e65246386365d0671a727892a871">funcstring_end</a> -= <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) + 1);</div>
<div class="line"><a name="l09061"></a><span class="lineno"> 9061</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d3/d82/convert_8h.html#a06688b0d2444199f657ccb56b0ce11b3">strcpy</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a6902e65246386365d0671a727892a871">funcstring_end</a>, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l09062"></a><span class="lineno"> 9062</span>&#160;}</div>
<div class="line"><a name="l09063"></a><span class="lineno"> 9063</span>&#160; </div>
<div class="line"><a name="l09064"></a><span class="lineno"> 9064</span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *);</div>
<div class="line"><a name="l09065"></a><span class="lineno"> 9065</span>&#160; </div>
<div class="line"><a name="l09066"></a><span class="lineno"> 9066</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *</div>
<div class="line"><a name="l09067"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adadb681d1e29b689faaa9db80d6ab122"> 9067</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#adadb681d1e29b689faaa9db80d6ab122">copynodelist</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *lp)</div>
<div class="line"><a name="l09068"></a><span class="lineno"> 9068</span>&#160;{</div>
<div class="line"><a name="l09069"></a><span class="lineno"> 9069</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l09070"></a><span class="lineno"> 9070</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> **lpp;</div>
<div class="line"><a name="l09071"></a><span class="lineno"> 9071</span>&#160; </div>
<div class="line"><a name="l09072"></a><span class="lineno"> 9072</span>&#160;    lpp = &amp;<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l09073"></a><span class="lineno"> 9073</span>&#160;    <span class="keywordflow">while</span> (lp) {</div>
<div class="line"><a name="l09074"></a><span class="lineno"> 9074</span>&#160;        *lpp = <a class="code" href="../../d1/dbe/ash_8c.html#a93bb1ed8afa1f95bebbcf34cf243079f">funcblock</a>;</div>
<div class="line"><a name="l09075"></a><span class="lineno"> 9075</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a93bb1ed8afa1f95bebbcf34cf243079f">funcblock</a> = (<span class="keywordtype">char</span> *) <a class="code" href="../../d1/dbe/ash_8c.html#a93bb1ed8afa1f95bebbcf34cf243079f">funcblock</a> + <a class="code" href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a>));</div>
<div class="line"><a name="l09076"></a><span class="lineno"> 9076</span>&#160;        (*lpp)-&gt;n = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">n</a>);</div>
<div class="line"><a name="l09077"></a><span class="lineno"> 9077</span>&#160;        lp = lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a>;</div>
<div class="line"><a name="l09078"></a><span class="lineno"> 9078</span>&#160;        lpp = &amp;(*lpp)-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a>;</div>
<div class="line"><a name="l09079"></a><span class="lineno"> 9079</span>&#160;    }</div>
<div class="line"><a name="l09080"></a><span class="lineno"> 9080</span>&#160;    *lpp = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l09081"></a><span class="lineno"> 9081</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l09082"></a><span class="lineno"> 9082</span>&#160;}</div>
<div class="line"><a name="l09083"></a><span class="lineno"> 9083</span>&#160; </div>
<div class="line"><a name="l09084"></a><span class="lineno"> 9084</span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *</div>
<div class="line"><a name="l09085"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c"> 9085</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l09086"></a><span class="lineno"> 9086</span>&#160;{</div>
<div class="line"><a name="l09087"></a><span class="lineno"> 9087</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<span class="keyword">new</span>;</div>
<div class="line"><a name="l09088"></a><span class="lineno"> 9088</span>&#160; </div>
<div class="line"><a name="l09089"></a><span class="lineno"> 9089</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l09090"></a><span class="lineno"> 9090</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l09091"></a><span class="lineno"> 9091</span>&#160;    <span class="keyword">new</span> = <a class="code" href="../../d1/dbe/ash_8c.html#a93bb1ed8afa1f95bebbcf34cf243079f">funcblock</a>;</div>
<div class="line"><a name="l09092"></a><span class="lineno"> 9092</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a93bb1ed8afa1f95bebbcf34cf243079f">funcblock</a> = (<span class="keywordtype">char</span> *) <a class="code" href="../../d1/dbe/ash_8c.html#a93bb1ed8afa1f95bebbcf34cf243079f">funcblock</a> + nodesize[<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type];</div>
<div class="line"><a name="l09093"></a><span class="lineno"> 9093</span>&#160; </div>
<div class="line"><a name="l09094"></a><span class="lineno"> 9094</span>&#160;    <a class="code" href="../../d6/dec/gm__loop_8c.html#a0c69486e80dbaad02c69f1caebb5064d">switch</a> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type) {</div>
<div class="line"><a name="l09095"></a><span class="lineno"> 9095</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">NCMD</a>:</div>
<div class="line"><a name="l09096"></a><span class="lineno"> 9096</span>&#160;        <span class="keyword">new</span>-&gt;ncmd.redirect = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.redirect);</div>
<div class="line"><a name="l09097"></a><span class="lineno"> 9097</span>&#160;        <span class="keyword">new</span>-&gt;ncmd.args = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.args);</div>
<div class="line"><a name="l09098"></a><span class="lineno"> 9098</span>&#160;        <span class="keyword">new</span>-&gt;ncmd.assign = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.assign);</div>
<div class="line"><a name="l09099"></a><span class="lineno"> 9099</span>&#160;        <span class="keyword">new</span>-&gt;ncmd.linno = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.linno;</div>
<div class="line"><a name="l09100"></a><span class="lineno"> 9100</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09101"></a><span class="lineno"> 9101</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a6b0054e65df0932a5e1c92c4f707358b">NPIPE</a>:</div>
<div class="line"><a name="l09102"></a><span class="lineno"> 9102</span>&#160;        <span class="keyword">new</span>-&gt;npipe.cmdlist = <a class="code" href="../../d1/dbe/ash_8c.html#adadb681d1e29b689faaa9db80d6ab122">copynodelist</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;npipe.cmdlist);</div>
<div class="line"><a name="l09103"></a><span class="lineno"> 9103</span>&#160;        <span class="keyword">new</span>-&gt;npipe.pipe_backgnd = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;npipe.pipe_backgnd;</div>
<div class="line"><a name="l09104"></a><span class="lineno"> 9104</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09105"></a><span class="lineno"> 9105</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a731505e220374df4153088cb7dc7e721">NREDIR</a>:</div>
<div class="line"><a name="l09106"></a><span class="lineno"> 9106</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a17b467de2743a40a0a8fc5fc8019404d">NBACKGND</a>:</div>
<div class="line"><a name="l09107"></a><span class="lineno"> 9107</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a5cd8291782169e211f7112aec1b29b7a">NSUBSHELL</a>:</div>
<div class="line"><a name="l09108"></a><span class="lineno"> 9108</span>&#160;        <span class="keyword">new</span>-&gt;nredir.redirect = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.redirect);</div>
<div class="line"><a name="l09109"></a><span class="lineno"> 9109</span>&#160;        <span class="keyword">new</span>-&gt;nredir.n = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.n);</div>
<div class="line"><a name="l09110"></a><span class="lineno"> 9110</span>&#160;        <span class="keyword">new</span>-&gt;nredir.linno = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.linno;</div>
<div class="line"><a name="l09111"></a><span class="lineno"> 9111</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09112"></a><span class="lineno"> 9112</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a923cb4a4043639f6d8d4108c84bb8f8f">NAND</a>:</div>
<div class="line"><a name="l09113"></a><span class="lineno"> 9113</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0dd10f6b3ad00611521e0a7ebc8c18ad">NOR</a>:</div>
<div class="line"><a name="l09114"></a><span class="lineno"> 9114</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a9b85d29ae92a08c0a12c42cc7f302dfb">NSEMI</a>:</div>
<div class="line"><a name="l09115"></a><span class="lineno"> 9115</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a118a6b79cefa14c0e48db7329e2dc546">NWHILE</a>:</div>
<div class="line"><a name="l09116"></a><span class="lineno"> 9116</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a715c2e99d7a38041a97cebc49ef25470">NUNTIL</a>:</div>
<div class="line"><a name="l09117"></a><span class="lineno"> 9117</span>&#160;        <span class="keyword">new</span>-&gt;nbinary.ch2 = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch2);</div>
<div class="line"><a name="l09118"></a><span class="lineno"> 9118</span>&#160;        <span class="keyword">new</span>-&gt;nbinary.ch1 = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch1);</div>
<div class="line"><a name="l09119"></a><span class="lineno"> 9119</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09120"></a><span class="lineno"> 9120</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a1afe765b4510add91239ee23e5a89ba4">NIF</a>:</div>
<div class="line"><a name="l09121"></a><span class="lineno"> 9121</span>&#160;        <span class="keyword">new</span>-&gt;nif.elsepart = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.elsepart);</div>
<div class="line"><a name="l09122"></a><span class="lineno"> 9122</span>&#160;        <span class="keyword">new</span>-&gt;nif.ifpart = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.ifpart);</div>
<div class="line"><a name="l09123"></a><span class="lineno"> 9123</span>&#160;        <span class="keyword">new</span>-&gt;nif.test = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.test);</div>
<div class="line"><a name="l09124"></a><span class="lineno"> 9124</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09125"></a><span class="lineno"> 9125</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ae575a712af65a31deff21397dd8abe51">NFOR</a>:</div>
<div class="line"><a name="l09126"></a><span class="lineno"> 9126</span>&#160;        <span class="keyword">new</span>-&gt;nfor.var = <a class="code" href="../../d1/dbe/ash_8c.html#a02124bd09e672d18bc38681968f9e770">nodeckstrdup</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.var);</div>
<div class="line"><a name="l09127"></a><span class="lineno"> 9127</span>&#160;        <span class="keyword">new</span>-&gt;nfor.body = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.body);</div>
<div class="line"><a name="l09128"></a><span class="lineno"> 9128</span>&#160;        <span class="keyword">new</span>-&gt;nfor.args = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.args);</div>
<div class="line"><a name="l09129"></a><span class="lineno"> 9129</span>&#160;        <span class="keyword">new</span>-&gt;nfor.linno = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.linno;</div>
<div class="line"><a name="l09130"></a><span class="lineno"> 9130</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09131"></a><span class="lineno"> 9131</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#acab6d4049057ee59ea73ed5b5ca879f2">NCASE</a>:</div>
<div class="line"><a name="l09132"></a><span class="lineno"> 9132</span>&#160;        <span class="keyword">new</span>-&gt;ncase.cases = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncase.cases);</div>
<div class="line"><a name="l09133"></a><span class="lineno"> 9133</span>&#160;        <span class="keyword">new</span>-&gt;ncase.expr = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncase.expr);</div>
<div class="line"><a name="l09134"></a><span class="lineno"> 9134</span>&#160;        <span class="keyword">new</span>-&gt;ncase.linno = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncase.linno;</div>
<div class="line"><a name="l09135"></a><span class="lineno"> 9135</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09136"></a><span class="lineno"> 9136</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac9a047b5fb2d49112a93edf59e32a1bb">NCLIST</a>:</div>
<div class="line"><a name="l09137"></a><span class="lineno"> 9137</span>&#160;        <span class="keyword">new</span>-&gt;nclist.body = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nclist.body);</div>
<div class="line"><a name="l09138"></a><span class="lineno"> 9138</span>&#160;        <span class="keyword">new</span>-&gt;nclist.pattern = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nclist.pattern);</div>
<div class="line"><a name="l09139"></a><span class="lineno"> 9139</span>&#160;        <span class="keyword">new</span>-&gt;nclist.next = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nclist.next);</div>
<div class="line"><a name="l09140"></a><span class="lineno"> 9140</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09141"></a><span class="lineno"> 9141</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#accf038e773bf009999c077dfac00a290">NDEFUN</a>:</div>
<div class="line"><a name="l09142"></a><span class="lineno"> 9142</span>&#160;        <span class="keyword">new</span>-&gt;ndefun.body = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndefun.body);</div>
<div class="line"><a name="l09143"></a><span class="lineno"> 9143</span>&#160;        <span class="keyword">new</span>-&gt;ndefun.text = <a class="code" href="../../d1/dbe/ash_8c.html#a02124bd09e672d18bc38681968f9e770">nodeckstrdup</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndefun.text);</div>
<div class="line"><a name="l09144"></a><span class="lineno"> 9144</span>&#160;        <span class="keyword">new</span>-&gt;ndefun.linno = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndefun.linno;</div>
<div class="line"><a name="l09145"></a><span class="lineno"> 9145</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09146"></a><span class="lineno"> 9146</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>:</div>
<div class="line"><a name="l09147"></a><span class="lineno"> 9147</span>&#160;        <span class="keyword">new</span>-&gt;narg.backquote = <a class="code" href="../../d1/dbe/ash_8c.html#adadb681d1e29b689faaa9db80d6ab122">copynodelist</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.backquote);</div>
<div class="line"><a name="l09148"></a><span class="lineno"> 9148</span>&#160;        <span class="keyword">new</span>-&gt;narg.text = <a class="code" href="../../d1/dbe/ash_8c.html#a02124bd09e672d18bc38681968f9e770">nodeckstrdup</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.text);</div>
<div class="line"><a name="l09149"></a><span class="lineno"> 9149</span>&#160;        <span class="keyword">new</span>-&gt;narg.next = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.next);</div>
<div class="line"><a name="l09150"></a><span class="lineno"> 9150</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09151"></a><span class="lineno"> 9151</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a658038e4a47dea3db2c5ab2a3446e02a">NTO</a>:</div>
<div class="line"><a name="l09152"></a><span class="lineno"> 9152</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l09153"></a><span class="lineno"> 9153</span>&#160;    <span class="keywordflow">case</span> NTO2:</div>
<div class="line"><a name="l09154"></a><span class="lineno"> 9154</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09155"></a><span class="lineno"> 9155</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a044ff0b816ace1617b5a80ef22042484">NCLOBBER</a>:</div>
<div class="line"><a name="l09156"></a><span class="lineno"> 9156</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aefcff7735123e7551631570d3bbb418f">NFROM</a>:</div>
<div class="line"><a name="l09157"></a><span class="lineno"> 9157</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa5fc21dad7ff6ca79ff1e9c481b33787">NFROMTO</a>:</div>
<div class="line"><a name="l09158"></a><span class="lineno"> 9158</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7e16466b836f34200e785c653b136dcf">NAPPEND</a>:</div>
<div class="line"><a name="l09159"></a><span class="lineno"> 9159</span>&#160;        <span class="keyword">new</span>-&gt;nfile.fname = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfile.fname);</div>
<div class="line"><a name="l09160"></a><span class="lineno"> 9160</span>&#160;        <span class="keyword">new</span>-&gt;nfile.fd = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfile.fd;</div>
<div class="line"><a name="l09161"></a><span class="lineno"> 9161</span>&#160;        <span class="keyword">new</span>-&gt;nfile.next = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfile.next);</div>
<div class="line"><a name="l09162"></a><span class="lineno"> 9162</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09163"></a><span class="lineno"> 9163</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">NTOFD</a>:</div>
<div class="line"><a name="l09164"></a><span class="lineno"> 9164</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">NFROMFD</a>:</div>
<div class="line"><a name="l09165"></a><span class="lineno"> 9165</span>&#160;        <span class="keyword">new</span>-&gt;ndup.vname = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndup.vname);</div>
<div class="line"><a name="l09166"></a><span class="lineno"> 9166</span>&#160;        <span class="keyword">new</span>-&gt;ndup.dupfd = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndup.dupfd;</div>
<div class="line"><a name="l09167"></a><span class="lineno"> 9167</span>&#160;        <span class="keyword">new</span>-&gt;ndup.fd = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndup.fd;</div>
<div class="line"><a name="l09168"></a><span class="lineno"> 9168</span>&#160;        <span class="keyword">new</span>-&gt;ndup.next = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndup.next);</div>
<div class="line"><a name="l09169"></a><span class="lineno"> 9169</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09170"></a><span class="lineno"> 9170</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad0f81540b8a0b9ef1e2747fb93898460">NHERE</a>:</div>
<div class="line"><a name="l09171"></a><span class="lineno"> 9171</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#adea9843b5ff4954b14afa07a09340091">NXHERE</a>:</div>
<div class="line"><a name="l09172"></a><span class="lineno"> 9172</span>&#160;        <span class="keyword">new</span>-&gt;nhere.doc = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nhere.doc);</div>
<div class="line"><a name="l09173"></a><span class="lineno"> 9173</span>&#160;        <span class="keyword">new</span>-&gt;nhere.fd = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nhere.fd;</div>
<div class="line"><a name="l09174"></a><span class="lineno"> 9174</span>&#160;        <span class="keyword">new</span>-&gt;nhere.next = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nhere.next);</div>
<div class="line"><a name="l09175"></a><span class="lineno"> 9175</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09176"></a><span class="lineno"> 9176</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7313a4d2ef02154895cdd285d1466a7a">NNOT</a>:</div>
<div class="line"><a name="l09177"></a><span class="lineno"> 9177</span>&#160;        <span class="keyword">new</span>-&gt;nnot.com = <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nnot.com);</div>
<div class="line"><a name="l09178"></a><span class="lineno"> 9178</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09179"></a><span class="lineno"> 9179</span>&#160;    };</div>
<div class="line"><a name="l09180"></a><span class="lineno"> 9180</span>&#160;    <span class="keyword">new</span>-&gt;type = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type;</div>
<div class="line"><a name="l09181"></a><span class="lineno"> 9181</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span>;</div>
<div class="line"><a name="l09182"></a><span class="lineno"> 9182</span>&#160;}</div>
<div class="line"><a name="l09183"></a><span class="lineno"> 9183</span>&#160; </div>
<div class="line"><a name="l09184"></a><span class="lineno"> 9184</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l09185"></a><span class="lineno"> 9185</span>&#160;<span class="comment"> * Make a copy of a parse tree.</span></div>
<div class="line"><a name="l09186"></a><span class="lineno"> 9186</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l09187"></a><span class="lineno"> 9187</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/daa/structfuncnode">funcnode</a> *</div>
<div class="line"><a name="l09188"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af335cd3a3b482fe283251c36e943fd58"> 9188</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#af335cd3a3b482fe283251c36e943fd58">copyfunc</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l09189"></a><span class="lineno"> 9189</span>&#160;{</div>
<div class="line"><a name="l09190"></a><span class="lineno"> 9190</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/daa/structfuncnode">funcnode</a> *<a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a>;</div>
<div class="line"><a name="l09191"></a><span class="lineno"> 9191</span>&#160;    <span class="keywordtype">size_t</span> blocksize;</div>
<div class="line"><a name="l09192"></a><span class="lineno"> 9192</span>&#160; </div>
<div class="line"><a name="l09193"></a><span class="lineno"> 9193</span>&#160;    <span class="comment">/*funcstringsize = 0;*/</span></div>
<div class="line"><a name="l09194"></a><span class="lineno"> 9194</span>&#160;    blocksize = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#afd049f7ad59dbe455f460807475c2841">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/daa/structfuncnode">funcnode</a>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>) + <a class="code" href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a>(0, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l09195"></a><span class="lineno"> 9195</span>&#160;    <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(blocksize <span class="comment">/* + funcstringsize */</span>);</div>
<div class="line"><a name="l09196"></a><span class="lineno"> 9196</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a93bb1ed8afa1f95bebbcf34cf243079f">funcblock</a> = (<span class="keywordtype">char</span> *) <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> + <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#afd049f7ad59dbe455f460807475c2841">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/daa/structfuncnode">funcnode</a>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l09197"></a><span class="lineno"> 9197</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6902e65246386365d0671a727892a871">funcstring_end</a> = (<span class="keywordtype">char</span> *) <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a> + blocksize;</div>
<div class="line"><a name="l09198"></a><span class="lineno"> 9198</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l09199"></a><span class="lineno"> 9199</span>&#160;    <span class="comment">/* f-&gt;count = 0; - ckzalloc did it */</span></div>
<div class="line"><a name="l09200"></a><span class="lineno"> 9200</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a>;</div>
<div class="line"><a name="l09201"></a><span class="lineno"> 9201</span>&#160;}</div>
<div class="line"><a name="l09202"></a><span class="lineno"> 9202</span>&#160; </div>
<div class="line"><a name="l09203"></a><span class="lineno"> 9203</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l09204"></a><span class="lineno"> 9204</span>&#160;<span class="comment"> * Define a shell function.</span></div>
<div class="line"><a name="l09205"></a><span class="lineno"> 9205</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l09206"></a><span class="lineno"> 9206</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l09207"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9d7f4b29806bbec78ad182ef64b7f614"> 9207</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a9d7f4b29806bbec78ad182ef64b7f614">defun</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>)</div>
<div class="line"><a name="l09208"></a><span class="lineno"> 9208</span>&#160;{</div>
<div class="line"><a name="l09209"></a><span class="lineno"> 9209</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a> <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>;</div>
<div class="line"><a name="l09210"></a><span class="lineno"> 9210</span>&#160; </div>
<div class="line"><a name="l09211"></a><span class="lineno"> 9211</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l09212"></a><span class="lineno"> 9212</span>&#160;    <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>.cmdtype = <a class="code" href="../../d1/dbe/ash_8c.html#a967d3b0cdfb3be875229c443ca49de02">CMDFUNCTION</a>;</div>
<div class="line"><a name="l09213"></a><span class="lineno"> 9213</span>&#160;    <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>.u.func = <a class="code" href="../../d1/dbe/ash_8c.html#af335cd3a3b482fe283251c36e943fd58">copyfunc</a>(<a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>);</div>
<div class="line"><a name="l09214"></a><span class="lineno"> 9214</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a394b1333a7038b592cca7b2cc9c16e07">addcmdentry</a>(<a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>-&gt;ndefun.text, &amp;<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>);</div>
<div class="line"><a name="l09215"></a><span class="lineno"> 9215</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l09216"></a><span class="lineno"> 9216</span>&#160;}</div>
<div class="line"><a name="l09217"></a><span class="lineno"> 9217</span>&#160; </div>
<div class="line"><a name="l09218"></a><span class="lineno"> 9218</span>&#160;<span class="comment">/* Reasons for skipping commands (see comment on breakcmd routine) */</span></div>
<div class="line"><a name="l09219"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0ad3ce0bc63ada4d01f10ec4ecaac256"> 9219</a></span>&#160;<span class="preprocessor">#define SKIPBREAK      (1 &lt;&lt; 0)</span></div>
<div class="line"><a name="l09220"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a688364e9feae647c3bf5fb32ba868661"> 9220</a></span>&#160;<span class="preprocessor">#define SKIPCONT       (1 &lt;&lt; 1)</span></div>
<div class="line"><a name="l09221"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acbcb73299ee8abbd13ae00cb596546e0"> 9221</a></span>&#160;<span class="preprocessor">#define SKIPFUNC       (1 &lt;&lt; 2)</span></div>
<div class="line"><a name="l09222"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aadb3db0d739f2d387e4aad4e9b91c0d0"> 9222</a></span>&#160;<span class="preprocessor">#define SKIPFUNCDEF    (1 &lt;&lt; 3)</span></div>
<div class="line"><a name="l09223"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8"> 9223</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a>;       <span class="comment">/* set to SKIPxxx if we are skipping commands */</span></div>
<div class="line"><a name="l09224"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a61ca2a401534c4ce8055c85c8615105a"> 9224</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a61ca2a401534c4ce8055c85c8615105a">skipcount</a>;           <span class="comment">/* number of levels to skip */</span></div>
<div class="line"><a name="l09225"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac4d0dde83d370ec10ab8149710a3b611"> 9225</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac4d0dde83d370ec10ab8149710a3b611">loopnest</a>;            <span class="comment">/* current loop nesting level */</span></div>
<div class="line"><a name="l09226"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6a73003a9a50b94b6cde86c8b7842106"> 9226</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a6a73003a9a50b94b6cde86c8b7842106">funcline</a>;            <span class="comment">/* starting line number of current function, or 0 if not in a function */</span></div>
<div class="line"><a name="l09227"></a><span class="lineno"> 9227</span>&#160; </div>
<div class="line"><a name="l09228"></a><span class="lineno"> 9228</span>&#160;<span class="comment">/* Forward decl way out to parsing code - dotrap needs it */</span></div>
<div class="line"><a name="l09229"></a><span class="lineno"> 9229</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0bc7661d56fd1d874a1ec963d80dcf3a">evalstring</a>(<span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l09230"></a><span class="lineno"> 9230</span>&#160; </div>
<div class="line"><a name="l09231"></a><span class="lineno"> 9231</span>&#160;<span class="comment">/* Called to execute a trap.</span></div>
<div class="line"><a name="l09232"></a><span class="lineno"> 9232</span>&#160;<span class="comment"> * Single callsite - at the end of evaltree().</span></div>
<div class="line"><a name="l09233"></a><span class="lineno"> 9233</span>&#160;<span class="comment"> * If we return non-zero, evaltree raises EXEXIT exception.</span></div>
<div class="line"><a name="l09234"></a><span class="lineno"> 9234</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l09235"></a><span class="lineno"> 9235</span>&#160;<span class="comment"> * Perhaps we should avoid entering new trap handlers</span></div>
<div class="line"><a name="l09236"></a><span class="lineno"> 9236</span>&#160;<span class="comment"> * while we are executing a trap handler. [is it a TODO?]</span></div>
<div class="line"><a name="l09237"></a><span class="lineno"> 9237</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l09238"></a><span class="lineno"> 9238</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l09239"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4908ed260e5f01895ec89b6a2bcdc5f6"> 9239</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a4908ed260e5f01895ec89b6a2bcdc5f6">dotrap</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l09240"></a><span class="lineno"> 9240</span>&#160;{</div>
<div class="line"><a name="l09241"></a><span class="lineno"> 9241</span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *<a class="code" href="../../de/d72/hash-string_8h.html#a73c18c59a39b18382081ec00bb456d43">g</a>;</div>
<div class="line"><a name="l09242"></a><span class="lineno"> 9242</span>&#160;    <span class="keywordtype">int</span> sig;</div>
<div class="line"><a name="l09243"></a><span class="lineno"> 9243</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>, last_status;</div>
<div class="line"><a name="l09244"></a><span class="lineno"> 9244</span>&#160; </div>
<div class="line"><a name="l09245"></a><span class="lineno"> 9245</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">pending_sig</a>)</div>
<div class="line"><a name="l09246"></a><span class="lineno"> 9246</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09247"></a><span class="lineno"> 9247</span>&#160; </div>
<div class="line"><a name="l09248"></a><span class="lineno"> 9248</span>&#160;    <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">savestatus</a>;</div>
<div class="line"><a name="l09249"></a><span class="lineno"> 9249</span>&#160;    last_status = <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l09250"></a><span class="lineno"> 9250</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> &lt; 0) {</div>
<div class="line"><a name="l09251"></a><span class="lineno"> 9251</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a>;</div>
<div class="line"><a name="l09252"></a><span class="lineno"> 9252</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">savestatus</a> = <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l09253"></a><span class="lineno"> 9253</span>&#160;    }</div>
<div class="line"><a name="l09254"></a><span class="lineno"> 9254</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">pending_sig</a> = 0;</div>
<div class="line"><a name="l09255"></a><span class="lineno"> 9255</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a53290ac2df2384738b8769c76622f803">barrier</a>();</div>
<div class="line"><a name="l09256"></a><span class="lineno"> 9256</span>&#160; </div>
<div class="line"><a name="l09257"></a><span class="lineno"> 9257</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;dotrap entered\n&quot;</span>));</div>
<div class="line"><a name="l09258"></a><span class="lineno"> 9258</span>&#160;    <span class="keywordflow">for</span> (sig = 1, <a class="code" href="../../de/d72/hash-string_8h.html#a73c18c59a39b18382081ec00bb456d43">g</a> = <a class="code" href="../../d1/dbe/ash_8c.html#acbc8f06298343bcc7b4aa8d98ed973d7">gotsig</a>; sig &lt; <a class="code" href="../../dc/da4/mksignames_8c.html#ab83b88daaecc469d1edb90a527ab4a39">NSIG</a>; sig++, <a class="code" href="../../de/d72/hash-string_8h.html#a73c18c59a39b18382081ec00bb456d43">g</a>++) {</div>
<div class="line"><a name="l09259"></a><span class="lineno"> 9259</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l09260"></a><span class="lineno"> 9260</span>&#160; </div>
<div class="line"><a name="l09261"></a><span class="lineno"> 9261</span>&#160;        <span class="keywordflow">if</span> (!*<a class="code" href="../../de/d72/hash-string_8h.html#a73c18c59a39b18382081ec00bb456d43">g</a>)</div>
<div class="line"><a name="l09262"></a><span class="lineno"> 9262</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09263"></a><span class="lineno"> 9263</span>&#160; </div>
<div class="line"><a name="l09264"></a><span class="lineno"> 9264</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a>) {</div>
<div class="line"><a name="l09265"></a><span class="lineno"> 9265</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">pending_sig</a> = sig;</div>
<div class="line"><a name="l09266"></a><span class="lineno"> 9266</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09267"></a><span class="lineno"> 9267</span>&#160;        }</div>
<div class="line"><a name="l09268"></a><span class="lineno"> 9268</span>&#160; </div>
<div class="line"><a name="l09269"></a><span class="lineno"> 9269</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[sig];</div>
<div class="line"><a name="l09270"></a><span class="lineno"> 9270</span>&#160;        <span class="comment">/* non-trapped SIGINT is handled separately by raise_interrupt,</span></div>
<div class="line"><a name="l09271"></a><span class="lineno"> 9271</span>&#160;<span class="comment">         * don&#39;t upset it by resetting gotsig[SIGINT-1] */</span></div>
<div class="line"><a name="l09272"></a><span class="lineno"> 9272</span>&#160;        <span class="keywordflow">if</span> (sig == <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a> &amp;&amp; !<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l09273"></a><span class="lineno"> 9273</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09274"></a><span class="lineno"> 9274</span>&#160; </div>
<div class="line"><a name="l09275"></a><span class="lineno"> 9275</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;sig %d is active, will run handler &#39;%s&#39;\n&quot;</span>, sig, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>));</div>
<div class="line"><a name="l09276"></a><span class="lineno"> 9276</span>&#160;        *<a class="code" href="../../de/d72/hash-string_8h.html#a73c18c59a39b18382081ec00bb456d43">g</a> = 0;</div>
<div class="line"><a name="l09277"></a><span class="lineno"> 9277</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l09278"></a><span class="lineno"> 9278</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09279"></a><span class="lineno"> 9279</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a20992d7f055cb9f17f94f97c830e819e">trap_depth</a>++;</div>
<div class="line"><a name="l09280"></a><span class="lineno"> 9280</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a0bc7661d56fd1d874a1ec963d80dcf3a">evalstring</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, 0);</div>
<div class="line"><a name="l09281"></a><span class="lineno"> 9281</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a20992d7f055cb9f17f94f97c830e819e">trap_depth</a>--;</div>
<div class="line"><a name="l09282"></a><span class="lineno"> 9282</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a> != <a class="code" href="../../d1/dbe/ash_8c.html#acbcb73299ee8abbd13ae00cb596546e0">SKIPFUNC</a>)</div>
<div class="line"><a name="l09283"></a><span class="lineno"> 9283</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l09284"></a><span class="lineno"> 9284</span>&#160;    }</div>
<div class="line"><a name="l09285"></a><span class="lineno"> 9285</span>&#160; </div>
<div class="line"><a name="l09286"></a><span class="lineno"> 9286</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">savestatus</a> = last_status;</div>
<div class="line"><a name="l09287"></a><span class="lineno"> 9287</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;dotrap returns\n&quot;</span>));</div>
<div class="line"><a name="l09288"></a><span class="lineno"> 9288</span>&#160;}</div>
<div class="line"><a name="l09289"></a><span class="lineno"> 9289</span>&#160; </div>
<div class="line"><a name="l09290"></a><span class="lineno"> 9290</span>&#160;<span class="comment">/* forward declarations - evaluation is fairly recursive business... */</span></div>
<div class="line"><a name="l09291"></a><span class="lineno"> 9291</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a2f0c533acfa1c69c9427d90b6b9cbd6f">evalloop</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l09292"></a><span class="lineno"> 9292</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a598c9f08fce2b849c8c961cdc639e80d">evalfor</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l09293"></a><span class="lineno"> 9293</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0d3ffc71e54c36cc5872b071f063a6ec">evalcase</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l09294"></a><span class="lineno"> 9294</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ab545392cb1ba2c57a59f8b129b7ed40a">evalsubshell</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l09295"></a><span class="lineno"> 9295</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#ad9594e91f229c2940b2c442cce0f9b68">expredir</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *);</div>
<div class="line"><a name="l09296"></a><span class="lineno"> 9296</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a47e8278e5700bfd67a294fd2decea1bf">evalpipe</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l09297"></a><span class="lineno"> 9297</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a08deef048520e0c745b9a0586754ff8c">evalcommand</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l09298"></a><span class="lineno"> 9298</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a24b7735727515db60f17593bcbb1f881">evalbltin</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d6/d85/structbuiltincmd">builtincmd</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">char</span> **, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l09299"></a><span class="lineno"> 9299</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a1ebf7a92f573caf13f3bfc4176c3aba1">prehash</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *);</div>
<div class="line"><a name="l09300"></a><span class="lineno"> 9300</span>&#160; </div>
<div class="line"><a name="l09301"></a><span class="lineno"> 9301</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l09302"></a><span class="lineno"> 9302</span>&#160;<span class="comment"> * Evaluate a parse tree.  The value is left in the global variable</span></div>
<div class="line"><a name="l09303"></a><span class="lineno"> 9303</span>&#160;<span class="comment"> * exitstatus.</span></div>
<div class="line"><a name="l09304"></a><span class="lineno"> 9304</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l09305"></a><span class="lineno"> 9305</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l09306"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a"> 9306</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l09307"></a><span class="lineno"> 9307</span>&#160;{</div>
<div class="line"><a name="l09308"></a><span class="lineno"> 9308</span>&#160;    <span class="keywordtype">int</span> checkexit = 0;</div>
<div class="line"><a name="l09309"></a><span class="lineno"> 9309</span>&#160;    int (*evalfn)(<span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *, int);</div>
<div class="line"><a name="l09310"></a><span class="lineno"> 9310</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> smark;</div>
<div class="line"><a name="l09311"></a><span class="lineno"> 9311</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = 0;</div>
<div class="line"><a name="l09312"></a><span class="lineno"> 9312</span>&#160; </div>
<div class="line"><a name="l09313"></a><span class="lineno"> 9313</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac25a899a708eb1c90b1b0bafdb14b88d">setstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l09314"></a><span class="lineno"> 9314</span>&#160; </div>
<div class="line"><a name="l09315"></a><span class="lineno"> 9315</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a3cb27628daa22798e97bfcb8e40f2326">nflag</a>)</div>
<div class="line"><a name="l09316"></a><span class="lineno"> 9316</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l09317"></a><span class="lineno"> 9317</span>&#160; </div>
<div class="line"><a name="l09318"></a><span class="lineno"> 9318</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l09319"></a><span class="lineno"> 9319</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;evaltree(NULL) called\n&quot;</span>));</div>
<div class="line"><a name="l09320"></a><span class="lineno"> 9320</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l09321"></a><span class="lineno"> 9321</span>&#160;    }</div>
<div class="line"><a name="l09322"></a><span class="lineno"> 9322</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;evaltree(%p: %d, %d) called\n&quot;</span>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>));</div>
<div class="line"><a name="l09323"></a><span class="lineno"> 9323</span>&#160; </div>
<div class="line"><a name="l09324"></a><span class="lineno"> 9324</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a4908ed260e5f01895ec89b6a2bcdc5f6">dotrap</a>();</div>
<div class="line"><a name="l09325"></a><span class="lineno"> 9325</span>&#160; </div>
<div class="line"><a name="l09326"></a><span class="lineno"> 9326</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type) {</div>
<div class="line"><a name="l09327"></a><span class="lineno"> 9327</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l09328"></a><span class="lineno"> 9328</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l09329"></a><span class="lineno"> 9329</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;Node type = %d\n&quot;</span>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type);</div>
<div class="line"><a name="l09330"></a><span class="lineno"> 9330</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a8f037f44db72dcde4db67b3cb5dee815">fflush_all</a>();</div>
<div class="line"><a name="l09331"></a><span class="lineno"> 9331</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09332"></a><span class="lineno"> 9332</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09333"></a><span class="lineno"> 9333</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7313a4d2ef02154895cdd285d1466a7a">NNOT</a>:</div>
<div class="line"><a name="l09334"></a><span class="lineno"> 9334</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = !<a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nnot.com, <a class="code" href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b">EV_TESTED</a>);</div>
<div class="line"><a name="l09335"></a><span class="lineno"> 9335</span>&#160;        <span class="keywordflow">goto</span> setstatus;</div>
<div class="line"><a name="l09336"></a><span class="lineno"> 9336</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a731505e220374df4153088cb7dc7e721">NREDIR</a>:</div>
<div class="line"><a name="l09337"></a><span class="lineno"> 9337</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ae722c93936e1e5aae33466c078f99c71">errlinno</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.linno;</div>
<div class="line"><a name="l09338"></a><span class="lineno"> 9338</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad9594e91f229c2940b2c442cce0f9b68">expredir</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.redirect);</div>
<div class="line"><a name="l09339"></a><span class="lineno"> 9339</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6b5397c22cc4cdc86aca806d3d8233fb">pushredir</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.redirect);</div>
<div class="line"><a name="l09340"></a><span class="lineno"> 9340</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a448831f55169c4888c8875859c82b6f9">redirectsafe</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.redirect, <a class="code" href="../../d1/dbe/ash_8c.html#a98a2edb1ca7387b7963a47bd3d33c0a3">REDIR_PUSH</a>);</div>
<div class="line"><a name="l09341"></a><span class="lineno"> 9341</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>) {</div>
<div class="line"><a name="l09342"></a><span class="lineno"> 9342</span>&#160;            <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.n, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b">EV_TESTED</a>);</div>
<div class="line"><a name="l09343"></a><span class="lineno"> 9343</span>&#160;        }</div>
<div class="line"><a name="l09344"></a><span class="lineno"> 9344</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.redirect)</div>
<div class="line"><a name="l09345"></a><span class="lineno"> 9345</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8c28a51cd6fa34a658d90aec943ee2a6">popredir</a>(<span class="comment">/*drop:*/</span> 0);</div>
<div class="line"><a name="l09346"></a><span class="lineno"> 9346</span>&#160;        <span class="keywordflow">goto</span> setstatus;</div>
<div class="line"><a name="l09347"></a><span class="lineno"> 9347</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">NCMD</a>:</div>
<div class="line"><a name="l09348"></a><span class="lineno"> 9348</span>&#160;        evalfn = <a class="code" href="../../d1/dbe/ash_8c.html#a08deef048520e0c745b9a0586754ff8c">evalcommand</a>;</div>
<div class="line"><a name="l09349"></a><span class="lineno"> 9349</span>&#160; checkexit:</div>
<div class="line"><a name="l09350"></a><span class="lineno"> 9350</span>&#160;        checkexit = ~<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b">EV_TESTED</a>;</div>
<div class="line"><a name="l09351"></a><span class="lineno"> 9351</span>&#160;        <span class="keywordflow">goto</span> calleval;</div>
<div class="line"><a name="l09352"></a><span class="lineno"> 9352</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#ae575a712af65a31deff21397dd8abe51">NFOR</a>:</div>
<div class="line"><a name="l09353"></a><span class="lineno"> 9353</span>&#160;        evalfn = <a class="code" href="../../d1/dbe/ash_8c.html#a598c9f08fce2b849c8c961cdc639e80d">evalfor</a>;</div>
<div class="line"><a name="l09354"></a><span class="lineno"> 9354</span>&#160;        <span class="keywordflow">goto</span> calleval;</div>
<div class="line"><a name="l09355"></a><span class="lineno"> 9355</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a118a6b79cefa14c0e48db7329e2dc546">NWHILE</a>:</div>
<div class="line"><a name="l09356"></a><span class="lineno"> 9356</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a715c2e99d7a38041a97cebc49ef25470">NUNTIL</a>:</div>
<div class="line"><a name="l09357"></a><span class="lineno"> 9357</span>&#160;        evalfn = <a class="code" href="../../d1/dbe/ash_8c.html#a2f0c533acfa1c69c9427d90b6b9cbd6f">evalloop</a>;</div>
<div class="line"><a name="l09358"></a><span class="lineno"> 9358</span>&#160;        <span class="keywordflow">goto</span> calleval;</div>
<div class="line"><a name="l09359"></a><span class="lineno"> 9359</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a5cd8291782169e211f7112aec1b29b7a">NSUBSHELL</a>:</div>
<div class="line"><a name="l09360"></a><span class="lineno"> 9360</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a17b467de2743a40a0a8fc5fc8019404d">NBACKGND</a>:</div>
<div class="line"><a name="l09361"></a><span class="lineno"> 9361</span>&#160;        evalfn = <a class="code" href="../../d1/dbe/ash_8c.html#ab545392cb1ba2c57a59f8b129b7ed40a">evalsubshell</a>;</div>
<div class="line"><a name="l09362"></a><span class="lineno"> 9362</span>&#160;        <span class="keywordflow">goto</span> checkexit;</div>
<div class="line"><a name="l09363"></a><span class="lineno"> 9363</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a6b0054e65df0932a5e1c92c4f707358b">NPIPE</a>:</div>
<div class="line"><a name="l09364"></a><span class="lineno"> 9364</span>&#160;        evalfn = <a class="code" href="../../d1/dbe/ash_8c.html#a47e8278e5700bfd67a294fd2decea1bf">evalpipe</a>;</div>
<div class="line"><a name="l09365"></a><span class="lineno"> 9365</span>&#160;        <span class="keywordflow">goto</span> checkexit;</div>
<div class="line"><a name="l09366"></a><span class="lineno"> 9366</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#acab6d4049057ee59ea73ed5b5ca879f2">NCASE</a>:</div>
<div class="line"><a name="l09367"></a><span class="lineno"> 9367</span>&#160;        evalfn = <a class="code" href="../../d1/dbe/ash_8c.html#a0d3ffc71e54c36cc5872b071f063a6ec">evalcase</a>;</div>
<div class="line"><a name="l09368"></a><span class="lineno"> 9368</span>&#160;        <span class="keywordflow">goto</span> calleval;</div>
<div class="line"><a name="l09369"></a><span class="lineno"> 9369</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a923cb4a4043639f6d8d4108c84bb8f8f">NAND</a>:</div>
<div class="line"><a name="l09370"></a><span class="lineno"> 9370</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0dd10f6b3ad00611521e0a7ebc8c18ad">NOR</a>:</div>
<div class="line"><a name="l09371"></a><span class="lineno"> 9371</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a9b85d29ae92a08c0a12c42cc7f302dfb">NSEMI</a>: {</div>
<div class="line"><a name="l09372"></a><span class="lineno"> 9372</span>&#160;<span class="preprocessor">#if NAND + 1 != NOR</span></div>
<div class="line"><a name="l09373"></a><span class="lineno"> 9373</span>&#160;<span class="preprocessor">#error NAND + 1 != NOR</span></div>
<div class="line"><a name="l09374"></a><span class="lineno"> 9374</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09375"></a><span class="lineno"> 9375</span>&#160;<span class="preprocessor">#if NOR + 1 != NSEMI</span></div>
<div class="line"><a name="l09376"></a><span class="lineno"> 9376</span>&#160;<span class="preprocessor">#error NOR + 1 != NSEMI</span></div>
<div class="line"><a name="l09377"></a><span class="lineno"> 9377</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09378"></a><span class="lineno"> 9378</span>&#160;        <span class="keywordtype">unsigned</span> is_or = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type - <a class="code" href="../../d1/dbe/ash_8c.html#a923cb4a4043639f6d8d4108c84bb8f8f">NAND</a>;</div>
<div class="line"><a name="l09379"></a><span class="lineno"> 9379</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(</div>
<div class="line"><a name="l09380"></a><span class="lineno"> 9380</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch1,</div>
<div class="line"><a name="l09381"></a><span class="lineno"> 9381</span>&#160;            (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> | ((is_or &gt;&gt; 1) - 1)) &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b">EV_TESTED</a></div>
<div class="line"><a name="l09382"></a><span class="lineno"> 9382</span>&#160;        );</div>
<div class="line"><a name="l09383"></a><span class="lineno"> 9383</span>&#160;        <span class="keywordflow">if</span> ((!<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>) == is_or || <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a>)</div>
<div class="line"><a name="l09384"></a><span class="lineno"> 9384</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09385"></a><span class="lineno"> 9385</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch2;</div>
<div class="line"><a name="l09386"></a><span class="lineno"> 9386</span>&#160; evaln:</div>
<div class="line"><a name="l09387"></a><span class="lineno"> 9387</span>&#160;        evalfn = <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>;</div>
<div class="line"><a name="l09388"></a><span class="lineno"> 9388</span>&#160; calleval:</div>
<div class="line"><a name="l09389"></a><span class="lineno"> 9389</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = evalfn(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l09390"></a><span class="lineno"> 9390</span>&#160;        <span class="keywordflow">goto</span> setstatus;</div>
<div class="line"><a name="l09391"></a><span class="lineno"> 9391</span>&#160;    }</div>
<div class="line"><a name="l09392"></a><span class="lineno"> 9392</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a1afe765b4510add91239ee23e5a89ba4">NIF</a>:</div>
<div class="line"><a name="l09393"></a><span class="lineno"> 9393</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.test, <a class="code" href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b">EV_TESTED</a>);</div>
<div class="line"><a name="l09394"></a><span class="lineno"> 9394</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a>)</div>
<div class="line"><a name="l09395"></a><span class="lineno"> 9395</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09396"></a><span class="lineno"> 9396</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>) {</div>
<div class="line"><a name="l09397"></a><span class="lineno"> 9397</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.ifpart;</div>
<div class="line"><a name="l09398"></a><span class="lineno"> 9398</span>&#160;            <span class="keywordflow">goto</span> evaln;</div>
<div class="line"><a name="l09399"></a><span class="lineno"> 9399</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.elsepart) {</div>
<div class="line"><a name="l09400"></a><span class="lineno"> 9400</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nif.elsepart;</div>
<div class="line"><a name="l09401"></a><span class="lineno"> 9401</span>&#160;            <span class="keywordflow">goto</span> evaln;</div>
<div class="line"><a name="l09402"></a><span class="lineno"> 9402</span>&#160;        }</div>
<div class="line"><a name="l09403"></a><span class="lineno"> 9403</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = 0;</div>
<div class="line"><a name="l09404"></a><span class="lineno"> 9404</span>&#160;        <span class="keywordflow">goto</span> setstatus;</div>
<div class="line"><a name="l09405"></a><span class="lineno"> 9405</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#accf038e773bf009999c077dfac00a290">NDEFUN</a>:</div>
<div class="line"><a name="l09406"></a><span class="lineno"> 9406</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a9d7f4b29806bbec78ad182ef64b7f614">defun</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l09407"></a><span class="lineno"> 9407</span>&#160;        <span class="comment">/* Not necessary. To test it:</span></div>
<div class="line"><a name="l09408"></a><span class="lineno"> 9408</span>&#160;<span class="comment">         * &quot;false; f() { qwerty; }; echo $?&quot; should print 0.</span></div>
<div class="line"><a name="l09409"></a><span class="lineno"> 9409</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l09410"></a><span class="lineno"> 9410</span>&#160;        <span class="comment">/* status = 0; */</span></div>
<div class="line"><a name="l09411"></a><span class="lineno"> 9411</span>&#160; setstatus:</div>
<div class="line"><a name="l09412"></a><span class="lineno"> 9412</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l09413"></a><span class="lineno"> 9413</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09414"></a><span class="lineno"> 9414</span>&#160;    }</div>
<div class="line"><a name="l09415"></a><span class="lineno"> 9415</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l09416"></a><span class="lineno"> 9416</span>&#160;    <span class="comment">/* Order of checks below is important:</span></div>
<div class="line"><a name="l09417"></a><span class="lineno"> 9417</span>&#160;<span class="comment">     * signal handlers trigger before exit caused by &quot;set -e&quot;.</span></div>
<div class="line"><a name="l09418"></a><span class="lineno"> 9418</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l09419"></a><span class="lineno"> 9419</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a4908ed260e5f01895ec89b6a2bcdc5f6">dotrap</a>();</div>
<div class="line"><a name="l09420"></a><span class="lineno"> 9420</span>&#160; </div>
<div class="line"><a name="l09421"></a><span class="lineno"> 9421</span>&#160;    <span class="keywordflow">if</span> (checkexit &amp;&amp; <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>) {</div>
<div class="line"><a name="l09422"></a><span class="lineno"> 9422</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[<a class="code" href="../../d1/dbe/ash_8c.html#a9f92e9f6961c915a648c04b712bb03e5">NTRAP_ERR</a>] &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#a523bfc6cc92e9329801549542bc5f7df">in_trap_ERR</a>) {</div>
<div class="line"><a name="l09423"></a><span class="lineno"> 9423</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l09424"></a><span class="lineno"> 9424</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> *<span class="keyword">volatile</span> savehandler = <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a>;</div>
<div class="line"><a name="l09425"></a><span class="lineno"> 9425</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> <a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l09426"></a><span class="lineno"> 9426</span>&#160; </div>
<div class="line"><a name="l09427"></a><span class="lineno"> 9427</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a523bfc6cc92e9329801549542bc5f7df">in_trap_ERR</a> = 1;</div>
<div class="line"><a name="l09428"></a><span class="lineno"> 9428</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a20992d7f055cb9f17f94f97c830e819e">trap_depth</a>++;</div>
<div class="line"><a name="l09429"></a><span class="lineno"> 9429</span>&#160;            <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> = <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#ac7cd296b63b31ab3d8cd447e40d0eedc">setjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>.<a class="code" href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">loc</a>);</div>
<div class="line"><a name="l09430"></a><span class="lineno"> 9430</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>) {</div>
<div class="line"><a name="l09431"></a><span class="lineno"> 9431</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l09432"></a><span class="lineno"> 9432</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">savestatus</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a>;</div>
<div class="line"><a name="l09433"></a><span class="lineno"> 9433</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a0bc7661d56fd1d874a1ec963d80dcf3a">evalstring</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[<a class="code" href="../../d1/dbe/ash_8c.html#a9f92e9f6961c915a648c04b712bb03e5">NTRAP_ERR</a>], 0);</div>
<div class="line"><a name="l09434"></a><span class="lineno"> 9434</span>&#160;            }</div>
<div class="line"><a name="l09435"></a><span class="lineno"> 9435</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a20992d7f055cb9f17f94f97c830e819e">trap_depth</a>--;</div>
<div class="line"><a name="l09436"></a><span class="lineno"> 9436</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a523bfc6cc92e9329801549542bc5f7df">in_trap_ERR</a> = 0;</div>
<div class="line"><a name="l09437"></a><span class="lineno"> 9437</span>&#160; </div>
<div class="line"><a name="l09438"></a><span class="lineno"> 9438</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = savehandler;</div>
<div class="line"><a name="l09439"></a><span class="lineno"> 9439</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9feaa234caa149c15b556505f2a015db">exception_type</a> != <a class="code" href="../../d1/dbe/ash_8c.html#ade601d2771be2d1ffb456155112dcca6">EXERROR</a>)</div>
<div class="line"><a name="l09440"></a><span class="lineno"> 9440</span>&#160;                <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#aaf56e20169cc5a6d5c1a968e24d04623">longjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a>-&gt;loc, 1);</div>
<div class="line"><a name="l09441"></a><span class="lineno"> 9441</span>&#160; </div>
<div class="line"><a name="l09442"></a><span class="lineno"> 9442</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">savestatus</a>;</div>
<div class="line"><a name="l09443"></a><span class="lineno"> 9443</span>&#160;        }</div>
<div class="line"><a name="l09444"></a><span class="lineno"> 9444</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a1fa73ad20e7650d162437b665c5aa22b">eflag</a>)</div>
<div class="line"><a name="l09445"></a><span class="lineno"> 9445</span>&#160;            <span class="keywordflow">goto</span> exexit;</div>
<div class="line"><a name="l09446"></a><span class="lineno"> 9446</span>&#160;    }</div>
<div class="line"><a name="l09447"></a><span class="lineno"> 9447</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#ac2add6938920c886c263574d2948aefa">EV_EXIT</a>) {</div>
<div class="line"><a name="l09448"></a><span class="lineno"> 9448</span>&#160; exexit:</div>
<div class="line"><a name="l09449"></a><span class="lineno"> 9449</span>&#160;        raise_exception(<a class="code" href="../../d1/dbe/ash_8c.html#a7037a9150ccc747a6fdb212ef4a6dfd7">EXEND</a>);</div>
<div class="line"><a name="l09450"></a><span class="lineno"> 9450</span>&#160;    }</div>
<div class="line"><a name="l09451"></a><span class="lineno"> 9451</span>&#160; </div>
<div class="line"><a name="l09452"></a><span class="lineno"> 9452</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l09453"></a><span class="lineno"> 9453</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;leaving evaltree (no interrupts)\n&quot;</span>));</div>
<div class="line"><a name="l09454"></a><span class="lineno"> 9454</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a>;</div>
<div class="line"><a name="l09455"></a><span class="lineno"> 9455</span>&#160;}</div>
<div class="line"><a name="l09456"></a><span class="lineno"> 9456</span>&#160; </div>
<div class="line"><a name="l09457"></a><span class="lineno"> 9457</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l09458"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8b7d2aab3d87dc63c642b63961ca97f3"> 9458</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8b7d2aab3d87dc63c642b63961ca97f3">skiploop</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l09459"></a><span class="lineno"> 9459</span>&#160;{</div>
<div class="line"><a name="l09460"></a><span class="lineno"> 9460</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a>;</div>
<div class="line"><a name="l09461"></a><span class="lineno"> 9461</span>&#160; </div>
<div class="line"><a name="l09462"></a><span class="lineno"> 9462</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a>) {</div>
<div class="line"><a name="l09463"></a><span class="lineno"> 9463</span>&#160;    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l09464"></a><span class="lineno"> 9464</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09465"></a><span class="lineno"> 9465</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0ad3ce0bc63ada4d01f10ec4ecaac256">SKIPBREAK</a>:</div>
<div class="line"><a name="l09466"></a><span class="lineno"> 9466</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a688364e9feae647c3bf5fb32ba868661">SKIPCONT</a>:</div>
<div class="line"><a name="l09467"></a><span class="lineno"> 9467</span>&#160;        <span class="keywordflow">if</span> (--<a class="code" href="../../d1/dbe/ash_8c.html#a61ca2a401534c4ce8055c85c8615105a">skipcount</a> &lt;= 0) {</div>
<div class="line"><a name="l09468"></a><span class="lineno"> 9468</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a> = 0;</div>
<div class="line"><a name="l09469"></a><span class="lineno"> 9469</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09470"></a><span class="lineno"> 9470</span>&#160;        }</div>
<div class="line"><a name="l09471"></a><span class="lineno"> 9471</span>&#160;        <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a0ad3ce0bc63ada4d01f10ec4ecaac256">SKIPBREAK</a>;</div>
<div class="line"><a name="l09472"></a><span class="lineno"> 9472</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09473"></a><span class="lineno"> 9473</span>&#160;    }</div>
<div class="line"><a name="l09474"></a><span class="lineno"> 9474</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a>;</div>
<div class="line"><a name="l09475"></a><span class="lineno"> 9475</span>&#160;}</div>
<div class="line"><a name="l09476"></a><span class="lineno"> 9476</span>&#160; </div>
<div class="line"><a name="l09477"></a><span class="lineno"> 9477</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l09478"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2f0c533acfa1c69c9427d90b6b9cbd6f"> 9478</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a2f0c533acfa1c69c9427d90b6b9cbd6f">evalloop</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l09479"></a><span class="lineno"> 9479</span>&#160;{</div>
<div class="line"><a name="l09480"></a><span class="lineno"> 9480</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a>;</div>
<div class="line"><a name="l09481"></a><span class="lineno"> 9481</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l09482"></a><span class="lineno"> 9482</span>&#160; </div>
<div class="line"><a name="l09483"></a><span class="lineno"> 9483</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac4d0dde83d370ec10ab8149710a3b611">loopnest</a>++;</div>
<div class="line"><a name="l09484"></a><span class="lineno"> 9484</span>&#160;    <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = 0;</div>
<div class="line"><a name="l09485"></a><span class="lineno"> 9485</span>&#160;    <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp;= <a class="code" href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b">EV_TESTED</a>;</div>
<div class="line"><a name="l09486"></a><span class="lineno"> 9486</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l09487"></a><span class="lineno"> 9487</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l09488"></a><span class="lineno"> 9488</span>&#160; </div>
<div class="line"><a name="l09489"></a><span class="lineno"> 9489</span>&#160;        <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch1, <a class="code" href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b">EV_TESTED</a>);</div>
<div class="line"><a name="l09490"></a><span class="lineno"> 9490</span>&#160;        <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8b7d2aab3d87dc63c642b63961ca97f3">skiploop</a>();</div>
<div class="line"><a name="l09491"></a><span class="lineno"> 9491</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a> == <a class="code" href="../../d1/dbe/ash_8c.html#acbcb73299ee8abbd13ae00cb596546e0">SKIPFUNC</a>)</div>
<div class="line"><a name="l09492"></a><span class="lineno"> 9492</span>&#160;            <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l09493"></a><span class="lineno"> 9493</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a>)</div>
<div class="line"><a name="l09494"></a><span class="lineno"> 9494</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09495"></a><span class="lineno"> 9495</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type != <a class="code" href="../../d1/dbe/ash_8c.html#a118a6b79cefa14c0e48db7329e2dc546">NWHILE</a>)</div>
<div class="line"><a name="l09496"></a><span class="lineno"> 9496</span>&#160;            <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = !<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l09497"></a><span class="lineno"> 9497</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> != 0)</div>
<div class="line"><a name="l09498"></a><span class="lineno"> 9498</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09499"></a><span class="lineno"> 9499</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nbinary.ch2, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l09500"></a><span class="lineno"> 9500</span>&#160;        <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8b7d2aab3d87dc63c642b63961ca97f3">skiploop</a>();</div>
<div class="line"><a name="l09501"></a><span class="lineno"> 9501</span>&#160;    } <span class="keywordflow">while</span> (!(<a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a> &amp; ~<a class="code" href="../../d1/dbe/ash_8c.html#a688364e9feae647c3bf5fb32ba868661">SKIPCONT</a>));</div>
<div class="line"><a name="l09502"></a><span class="lineno"> 9502</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac4d0dde83d370ec10ab8149710a3b611">loopnest</a>--;</div>
<div class="line"><a name="l09503"></a><span class="lineno"> 9503</span>&#160; </div>
<div class="line"><a name="l09504"></a><span class="lineno"> 9504</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l09505"></a><span class="lineno"> 9505</span>&#160;}</div>
<div class="line"><a name="l09506"></a><span class="lineno"> 9506</span>&#160; </div>
<div class="line"><a name="l09507"></a><span class="lineno"> 9507</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l09508"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a598c9f08fce2b849c8c961cdc639e80d"> 9508</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a598c9f08fce2b849c8c961cdc639e80d">evalfor</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l09509"></a><span class="lineno"> 9509</span>&#160;{</div>
<div class="line"><a name="l09510"></a><span class="lineno"> 9510</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>;</div>
<div class="line"><a name="l09511"></a><span class="lineno"> 9511</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *argp;</div>
<div class="line"><a name="l09512"></a><span class="lineno"> 9512</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l09513"></a><span class="lineno"> 9513</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = 0;</div>
<div class="line"><a name="l09514"></a><span class="lineno"> 9514</span>&#160; </div>
<div class="line"><a name="l09515"></a><span class="lineno"> 9515</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae722c93936e1e5aae33466c078f99c71">errlinno</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncase.linno;</div>
<div class="line"><a name="l09516"></a><span class="lineno"> 9516</span>&#160; </div>
<div class="line"><a name="l09517"></a><span class="lineno"> 9517</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l09518"></a><span class="lineno"> 9518</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>;</div>
<div class="line"><a name="l09519"></a><span class="lineno"> 9519</span>&#160;    <span class="keywordflow">for</span> (argp = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.args; argp; argp = argp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a48ffe2ba16597faedb406bcec66923ab">next</a>) {</div>
<div class="line"><a name="l09520"></a><span class="lineno"> 9520</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4d5949e5678787310373e25f4ce1c935">expandarg</a>(argp, &amp;<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ad93fac6975049cf96d7989ffad986cc4">EXP_FULL</a> | <a class="code" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a>);</div>
<div class="line"><a name="l09521"></a><span class="lineno"> 9521</span>&#160;    }</div>
<div class="line"><a name="l09522"></a><span class="lineno"> 9522</span>&#160;    *<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l09523"></a><span class="lineno"> 9523</span>&#160; </div>
<div class="line"><a name="l09524"></a><span class="lineno"> 9524</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac4d0dde83d370ec10ab8149710a3b611">loopnest</a>++;</div>
<div class="line"><a name="l09525"></a><span class="lineno"> 9525</span>&#160;    <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp;= <a class="code" href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b">EV_TESTED</a>;</div>
<div class="line"><a name="l09526"></a><span class="lineno"> 9526</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>; <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>; <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next) {</div>
<div class="line"><a name="l09527"></a><span class="lineno"> 9527</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.var, <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;text);</div>
<div class="line"><a name="l09528"></a><span class="lineno"> 9528</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfor.body, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l09529"></a><span class="lineno"> 9529</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8b7d2aab3d87dc63c642b63961ca97f3">skiploop</a>() &amp; ~<a class="code" href="../../d1/dbe/ash_8c.html#a688364e9feae647c3bf5fb32ba868661">SKIPCONT</a>)</div>
<div class="line"><a name="l09530"></a><span class="lineno"> 9530</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09531"></a><span class="lineno"> 9531</span>&#160;    }</div>
<div class="line"><a name="l09532"></a><span class="lineno"> 9532</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac4d0dde83d370ec10ab8149710a3b611">loopnest</a>--;</div>
<div class="line"><a name="l09533"></a><span class="lineno"> 9533</span>&#160; </div>
<div class="line"><a name="l09534"></a><span class="lineno"> 9534</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l09535"></a><span class="lineno"> 9535</span>&#160;}</div>
<div class="line"><a name="l09536"></a><span class="lineno"> 9536</span>&#160; </div>
<div class="line"><a name="l09537"></a><span class="lineno"> 9537</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l09538"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0d3ffc71e54c36cc5872b071f063a6ec"> 9538</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a0d3ffc71e54c36cc5872b071f063a6ec">evalcase</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l09539"></a><span class="lineno"> 9539</span>&#160;{</div>
<div class="line"><a name="l09540"></a><span class="lineno"> 9540</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *cp;</div>
<div class="line"><a name="l09541"></a><span class="lineno"> 9541</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *patp;</div>
<div class="line"><a name="l09542"></a><span class="lineno"> 9542</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>;</div>
<div class="line"><a name="l09543"></a><span class="lineno"> 9543</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = 0;</div>
<div class="line"><a name="l09544"></a><span class="lineno"> 9544</span>&#160; </div>
<div class="line"><a name="l09545"></a><span class="lineno"> 9545</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae722c93936e1e5aae33466c078f99c71">errlinno</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncase.linno;</div>
<div class="line"><a name="l09546"></a><span class="lineno"> 9546</span>&#160; </div>
<div class="line"><a name="l09547"></a><span class="lineno"> 9547</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l09548"></a><span class="lineno"> 9548</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>;</div>
<div class="line"><a name="l09549"></a><span class="lineno"> 9549</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a4d5949e5678787310373e25f4ce1c935">expandarg</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncase.expr, &amp;<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>, <a class="code" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a>);</div>
<div class="line"><a name="l09550"></a><span class="lineno"> 9550</span>&#160;    <span class="keywordflow">for</span> (cp = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncase.cases; cp &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a> == 0; cp = cp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aaa8a68ca9d46985bd22f5ed5eab945e2">nclist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a2b606e051d83d3814a3d53aad8111a21">next</a>) {</div>
<div class="line"><a name="l09551"></a><span class="lineno"> 9551</span>&#160;        <span class="keywordflow">for</span> (patp = cp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aaa8a68ca9d46985bd22f5ed5eab945e2">nclist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ada3204903f315a30983ae55160074f1a">pattern</a>; patp; patp = patp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a48ffe2ba16597faedb406bcec66923ab">next</a>) {</div>
<div class="line"><a name="l09552"></a><span class="lineno"> 9552</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#abab303a7905f076e7b00d3336df570b8">casematch</a>(patp, <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">text</a>)) {</div>
<div class="line"><a name="l09553"></a><span class="lineno"> 9553</span>&#160;                <span class="comment">/* Ensure body is non-empty as otherwise</span></div>
<div class="line"><a name="l09554"></a><span class="lineno"> 9554</span>&#160;<span class="comment">                 * EV_EXIT may prevent us from setting the</span></div>
<div class="line"><a name="l09555"></a><span class="lineno"> 9555</span>&#160;<span class="comment">                 * exit status.</span></div>
<div class="line"><a name="l09556"></a><span class="lineno"> 9556</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l09557"></a><span class="lineno"> 9557</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a> == 0 &amp;&amp; cp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aaa8a68ca9d46985bd22f5ed5eab945e2">nclist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a50a75a9c2bd1f65ef10bc0b0b9b17969">body</a>) {</div>
<div class="line"><a name="l09558"></a><span class="lineno"> 9558</span>&#160;                    <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(cp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aaa8a68ca9d46985bd22f5ed5eab945e2">nclist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a50a75a9c2bd1f65ef10bc0b0b9b17969">body</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l09559"></a><span class="lineno"> 9559</span>&#160;                }</div>
<div class="line"><a name="l09560"></a><span class="lineno"> 9560</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l09561"></a><span class="lineno"> 9561</span>&#160;            }</div>
<div class="line"><a name="l09562"></a><span class="lineno"> 9562</span>&#160;        }</div>
<div class="line"><a name="l09563"></a><span class="lineno"> 9563</span>&#160;    }</div>
<div class="line"><a name="l09564"></a><span class="lineno"> 9564</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l09565"></a><span class="lineno"> 9565</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l09566"></a><span class="lineno"> 9566</span>&#160;}</div>
<div class="line"><a name="l09567"></a><span class="lineno"> 9567</span>&#160; </div>
<div class="line"><a name="l09568"></a><span class="lineno"> 9568</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l09569"></a><span class="lineno"> 9569</span>&#160;<span class="comment"> * Kick off a subshell to evaluate a tree.</span></div>
<div class="line"><a name="l09570"></a><span class="lineno"> 9570</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l09571"></a><span class="lineno"> 9571</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l09572"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab545392cb1ba2c57a59f8b129b7ed40a"> 9572</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ab545392cb1ba2c57a59f8b129b7ed40a">evalsubshell</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l09573"></a><span class="lineno"> 9573</span>&#160;{</div>
<div class="line"><a name="l09574"></a><span class="lineno"> 9574</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp;</div>
<div class="line"><a name="l09575"></a><span class="lineno"> 9575</span>&#160;    <span class="keywordtype">int</span> backgnd = (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type == <a class="code" href="../../d1/dbe/ash_8c.html#a17b467de2743a40a0a8fc5fc8019404d">NBACKGND</a>); <span class="comment">/* FORK_BG(1) if yes, else FORK_FG(0) */</span></div>
<div class="line"><a name="l09576"></a><span class="lineno"> 9576</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l09577"></a><span class="lineno"> 9577</span>&#160; </div>
<div class="line"><a name="l09578"></a><span class="lineno"> 9578</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae722c93936e1e5aae33466c078f99c71">errlinno</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.linno;</div>
<div class="line"><a name="l09579"></a><span class="lineno"> 9579</span>&#160; </div>
<div class="line"><a name="l09580"></a><span class="lineno"> 9580</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ad9594e91f229c2940b2c442cce0f9b68">expredir</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.redirect);</div>
<div class="line"><a name="l09581"></a><span class="lineno"> 9581</span>&#160;    <span class="keywordflow">if</span> (!backgnd &amp;&amp; (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#ac2add6938920c886c263574d2948aefa">EV_EXIT</a>) &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#aeae2161e6b322b2655fac184e8fca410">may_have_traps</a>)</div>
<div class="line"><a name="l09582"></a><span class="lineno"> 9582</span>&#160;        <span class="keywordflow">goto</span> nofork;</div>
<div class="line"><a name="l09583"></a><span class="lineno"> 9583</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l09584"></a><span class="lineno"> 9584</span>&#160;    <span class="keywordflow">if</span> (backgnd == <a class="code" href="../../d1/dbe/ash_8c.html#a5da14b841f888931a9a10474494f9bcc">FORK_FG</a>)</div>
<div class="line"><a name="l09585"></a><span class="lineno"> 9585</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a292fac6f88c2fb54b4701a4141db1a7d">get_tty_state</a>();</div>
<div class="line"><a name="l09586"></a><span class="lineno"> 9586</span>&#160;    jp = <a class="code" href="../../d1/dbe/ash_8c.html#a915993c65b1d23c848d308738564f57a">makejob</a>(<span class="comment">/*n,*/</span> 1);</div>
<div class="line"><a name="l09587"></a><span class="lineno"> 9587</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a2909724c5cc1419ade6041cbf8d98636">forkshell</a>(jp, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, backgnd) == 0) {</div>
<div class="line"><a name="l09588"></a><span class="lineno"> 9588</span>&#160;        <span class="comment">/* child */</span></div>
<div class="line"><a name="l09589"></a><span class="lineno"> 9589</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l09590"></a><span class="lineno"> 9590</span>&#160;        <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> |= <a class="code" href="../../d1/dbe/ash_8c.html#ac2add6938920c886c263574d2948aefa">EV_EXIT</a>;</div>
<div class="line"><a name="l09591"></a><span class="lineno"> 9591</span>&#160;        <span class="keywordflow">if</span> (backgnd)</div>
<div class="line"><a name="l09592"></a><span class="lineno"> 9592</span>&#160;            <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp;= ~<a class="code" href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b">EV_TESTED</a>;</div>
<div class="line"><a name="l09593"></a><span class="lineno"> 9593</span>&#160; nofork:</div>
<div class="line"><a name="l09594"></a><span class="lineno"> 9594</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a86dba0628295ef2cbe51568e4a8b902a">redirect</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.redirect, 0);</div>
<div class="line"><a name="l09595"></a><span class="lineno"> 9595</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aceb73f20fd610e6ea9113f52ea706c19">evaltreenr</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nredir.n, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l09596"></a><span class="lineno"> 9596</span>&#160;        <span class="comment">/* never returns */</span></div>
<div class="line"><a name="l09597"></a><span class="lineno"> 9597</span>&#160;    }</div>
<div class="line"><a name="l09598"></a><span class="lineno"> 9598</span>&#160;    <span class="comment">/* parent */</span></div>
<div class="line"><a name="l09599"></a><span class="lineno"> 9599</span>&#160;    <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = 0;</div>
<div class="line"><a name="l09600"></a><span class="lineno"> 9600</span>&#160;    <span class="keywordflow">if</span> (backgnd == <a class="code" href="../../d1/dbe/ash_8c.html#a5da14b841f888931a9a10474494f9bcc">FORK_FG</a>)</div>
<div class="line"><a name="l09601"></a><span class="lineno"> 9601</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7bd2f10f7aab5836959730cee26ded54">waitforjob</a>(jp);</div>
<div class="line"><a name="l09602"></a><span class="lineno"> 9602</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l09603"></a><span class="lineno"> 9603</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l09604"></a><span class="lineno"> 9604</span>&#160;}</div>
<div class="line"><a name="l09605"></a><span class="lineno"> 9605</span>&#160; </div>
<div class="line"><a name="l09606"></a><span class="lineno"> 9606</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l09607"></a><span class="lineno"> 9607</span>&#160;<span class="comment"> * Compute the names of the files in a redirection list.</span></div>
<div class="line"><a name="l09608"></a><span class="lineno"> 9608</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l09609"></a><span class="lineno"> 9609</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#ab9bb06335d4f953f1eda4a8eca765219">fixredir</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l09610"></a><span class="lineno"> 9610</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l09611"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad9594e91f229c2940b2c442cce0f9b68"> 9611</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ad9594e91f229c2940b2c442cce0f9b68">expredir</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l09612"></a><span class="lineno"> 9612</span>&#160;{</div>
<div class="line"><a name="l09613"></a><span class="lineno"> 9613</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l09614"></a><span class="lineno"> 9614</span>&#160; </div>
<div class="line"><a name="l09615"></a><span class="lineno"> 9615</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>; <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>; <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a> = <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.next) {</div>
<div class="line"><a name="l09616"></a><span class="lineno"> 9616</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> fn;</div>
<div class="line"><a name="l09617"></a><span class="lineno"> 9617</span>&#160; </div>
<div class="line"><a name="l09618"></a><span class="lineno"> 9618</span>&#160;        fn.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l09619"></a><span class="lineno"> 9619</span>&#160;        fn.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;fn.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>;</div>
<div class="line"><a name="l09620"></a><span class="lineno"> 9620</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;type) {</div>
<div class="line"><a name="l09621"></a><span class="lineno"> 9621</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa5fc21dad7ff6ca79ff1e9c481b33787">NFROMTO</a>:</div>
<div class="line"><a name="l09622"></a><span class="lineno"> 9622</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aefcff7735123e7551631570d3bbb418f">NFROM</a>:</div>
<div class="line"><a name="l09623"></a><span class="lineno"> 9623</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a658038e4a47dea3db2c5ab2a3446e02a">NTO</a>:</div>
<div class="line"><a name="l09624"></a><span class="lineno"> 9624</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l09625"></a><span class="lineno"> 9625</span>&#160;        <span class="keywordflow">case</span> NTO2:</div>
<div class="line"><a name="l09626"></a><span class="lineno"> 9626</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09627"></a><span class="lineno"> 9627</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a044ff0b816ace1617b5a80ef22042484">NCLOBBER</a>:</div>
<div class="line"><a name="l09628"></a><span class="lineno"> 9628</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7e16466b836f34200e785c653b136dcf">NAPPEND</a>:</div>
<div class="line"><a name="l09629"></a><span class="lineno"> 9629</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a4d5949e5678787310373e25f4ce1c935">expandarg</a>(<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.fname, &amp;fn, <a class="code" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a65fce591627ff8afad03208e9a7e0cee">EXP_REDIR</a>);</div>
<div class="line"><a name="l09630"></a><span class="lineno"> 9630</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;expredir expanded to &#39;%s&#39;\n&quot;</span>, fn.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">text</a>));</div>
<div class="line"><a name="l09631"></a><span class="lineno"> 9631</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l09632"></a><span class="lineno"> 9632</span>&#160; store_expfname:</div>
<div class="line"><a name="l09633"></a><span class="lineno"> 9633</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09634"></a><span class="lineno"> 9634</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l09635"></a><span class="lineno"> 9635</span>&#160;<span class="comment">// By the design of stack allocator, the loop of this kind:</span></div>
<div class="line"><a name="l09636"></a><span class="lineno"> 9636</span>&#160;<span class="comment">//  while true; do while true; do break; done &lt;/dev/null; done</span></div>
<div class="line"><a name="l09637"></a><span class="lineno"> 9637</span>&#160;<span class="comment">// will look like a memory leak: ash plans to free expfname&#39;s</span></div>
<div class="line"><a name="l09638"></a><span class="lineno"> 9638</span>&#160;<span class="comment">// of &quot;/dev/null&quot; as soon as it finishes running the loop</span></div>
<div class="line"><a name="l09639"></a><span class="lineno"> 9639</span>&#160;<span class="comment">// (in this case, never).</span></div>
<div class="line"><a name="l09640"></a><span class="lineno"> 9640</span>&#160;<span class="comment">// This &quot;fix&quot; is wrong:</span></div>
<div class="line"><a name="l09641"></a><span class="lineno"> 9641</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.expfname)</div>
<div class="line"><a name="l09642"></a><span class="lineno"> 9642</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a6b68a742933812f9207781ad603496b9">stunalloc</a>(<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.expfname);</div>
<div class="line"><a name="l09643"></a><span class="lineno"> 9643</span>&#160;<span class="comment">// It results in corrupted state of stacked allocations.</span></div>
<div class="line"><a name="l09644"></a><span class="lineno"> 9644</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09645"></a><span class="lineno"> 9645</span>&#160;            <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.expfname = fn.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">text</a>;</div>
<div class="line"><a name="l09646"></a><span class="lineno"> 9646</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09647"></a><span class="lineno"> 9647</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">NFROMFD</a>:</div>
<div class="line"><a name="l09648"></a><span class="lineno"> 9648</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">NTOFD</a>: <span class="comment">/* &gt;&amp; */</span></div>
<div class="line"><a name="l09649"></a><span class="lineno"> 9649</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;ndup.vname) {</div>
<div class="line"><a name="l09650"></a><span class="lineno"> 9650</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a4d5949e5678787310373e25f4ce1c935">expandarg</a>(<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;ndup.vname, &amp;fn, <a class="code" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a65fce591627ff8afad03208e9a7e0cee">EXP_REDIR</a>);</div>
<div class="line"><a name="l09651"></a><span class="lineno"> 9651</span>&#160;                <span class="keywordflow">if</span> (fn.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l09652"></a><span class="lineno"> 9652</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;redir error&quot;</span>);</div>
<div class="line"><a name="l09653"></a><span class="lineno"> 9653</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l09654"></a><span class="lineno"> 9654</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#aeadab29e8f2c51cd05e57e0e1b59993c">isdigit_str9</a>(fn.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">text</a>)) {</div>
<div class="line"><a name="l09655"></a><span class="lineno"> 9655</span>&#160;                    <span class="comment">/* &gt;&amp;file, not &gt;&amp;fd */</span></div>
<div class="line"><a name="l09656"></a><span class="lineno"> 9656</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;nfile.fd != 1) <span class="comment">/* 123&gt;&amp;file - BAD */</span></div>
<div class="line"><a name="l09657"></a><span class="lineno"> 9657</span>&#160;                        <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;redir error&quot;</span>);</div>
<div class="line"><a name="l09658"></a><span class="lineno"> 9658</span>&#160;                    <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>-&gt;type = NTO2;</div>
<div class="line"><a name="l09659"></a><span class="lineno"> 9659</span>&#160;                    <span class="keywordflow">goto</span> store_expfname;</div>
<div class="line"><a name="l09660"></a><span class="lineno"> 9660</span>&#160;                }</div>
<div class="line"><a name="l09661"></a><span class="lineno"> 9661</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09662"></a><span class="lineno"> 9662</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ab9bb06335d4f953f1eda4a8eca765219">fixredir</a>(<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>, fn.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">text</a>, 1);</div>
<div class="line"><a name="l09663"></a><span class="lineno"> 9663</span>&#160;            }</div>
<div class="line"><a name="l09664"></a><span class="lineno"> 9664</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l09665"></a><span class="lineno"> 9665</span>&#160;        }</div>
<div class="line"><a name="l09666"></a><span class="lineno"> 9666</span>&#160;    }</div>
<div class="line"><a name="l09667"></a><span class="lineno"> 9667</span>&#160;}</div>
<div class="line"><a name="l09668"></a><span class="lineno"> 9668</span>&#160; </div>
<div class="line"><a name="l09669"></a><span class="lineno"> 9669</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l09670"></a><span class="lineno"> 9670</span>&#160;<span class="comment"> * Evaluate a pipeline.  All the processes in the pipeline are children</span></div>
<div class="line"><a name="l09671"></a><span class="lineno"> 9671</span>&#160;<span class="comment"> * of the process creating the pipeline.  (This differs from some versions</span></div>
<div class="line"><a name="l09672"></a><span class="lineno"> 9672</span>&#160;<span class="comment"> * of the shell, which make the last process in a pipeline the parent</span></div>
<div class="line"><a name="l09673"></a><span class="lineno"> 9673</span>&#160;<span class="comment"> * of all the rest.)</span></div>
<div class="line"><a name="l09674"></a><span class="lineno"> 9674</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l09675"></a><span class="lineno"> 9675</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l09676"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a47e8278e5700bfd67a294fd2decea1bf"> 9676</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a47e8278e5700bfd67a294fd2decea1bf">evalpipe</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l09677"></a><span class="lineno"> 9677</span>&#160;{</div>
<div class="line"><a name="l09678"></a><span class="lineno"> 9678</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp;</div>
<div class="line"><a name="l09679"></a><span class="lineno"> 9679</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *lp;</div>
<div class="line"><a name="l09680"></a><span class="lineno"> 9680</span>&#160;    <span class="keywordtype">int</span> pipelen;</div>
<div class="line"><a name="l09681"></a><span class="lineno"> 9681</span>&#160;    <span class="keywordtype">int</span> prevfd;</div>
<div class="line"><a name="l09682"></a><span class="lineno"> 9682</span>&#160;    <span class="keywordtype">int</span> pip[2];</div>
<div class="line"><a name="l09683"></a><span class="lineno"> 9683</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = 0;</div>
<div class="line"><a name="l09684"></a><span class="lineno"> 9684</span>&#160; </div>
<div class="line"><a name="l09685"></a><span class="lineno"> 9685</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;evalpipe(0x%lx) called\n&quot;</span>, (<span class="keywordtype">long</span>)<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>));</div>
<div class="line"><a name="l09686"></a><span class="lineno"> 9686</span>&#160;    pipelen = 0;</div>
<div class="line"><a name="l09687"></a><span class="lineno"> 9687</span>&#160;    <span class="keywordflow">for</span> (lp = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;npipe.cmdlist; lp; lp = lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a>)</div>
<div class="line"><a name="l09688"></a><span class="lineno"> 9688</span>&#160;        pipelen++;</div>
<div class="line"><a name="l09689"></a><span class="lineno"> 9689</span>&#160;    <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> |= <a class="code" href="../../d1/dbe/ash_8c.html#ac2add6938920c886c263574d2948aefa">EV_EXIT</a>;</div>
<div class="line"><a name="l09690"></a><span class="lineno"> 9690</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l09691"></a><span class="lineno"> 9691</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;npipe.pipe_backgnd == 0)</div>
<div class="line"><a name="l09692"></a><span class="lineno"> 9692</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a292fac6f88c2fb54b4701a4141db1a7d">get_tty_state</a>();</div>
<div class="line"><a name="l09693"></a><span class="lineno"> 9693</span>&#160;    jp = <a class="code" href="../../d1/dbe/ash_8c.html#a915993c65b1d23c848d308738564f57a">makejob</a>(<span class="comment">/*n,*/</span> pipelen);</div>
<div class="line"><a name="l09694"></a><span class="lineno"> 9694</span>&#160;    prevfd = -1;</div>
<div class="line"><a name="l09695"></a><span class="lineno"> 9695</span>&#160;    <span class="keywordflow">for</span> (lp = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;npipe.cmdlist; lp; lp = lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a>) {</div>
<div class="line"><a name="l09696"></a><span class="lineno"> 9696</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1ebf7a92f573caf13f3bfc4176c3aba1">prehash</a>(lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">n</a>);</div>
<div class="line"><a name="l09697"></a><span class="lineno"> 9697</span>&#160;        pip[1] = -1;</div>
<div class="line"><a name="l09698"></a><span class="lineno"> 9698</span>&#160;        <span class="keywordflow">if</span> (lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a>) {</div>
<div class="line"><a name="l09699"></a><span class="lineno"> 9699</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a5bbe9b13d3f147dcc5b872a5cf70e9a1">pipe</a>(pip) &lt; 0) {</div>
<div class="line"><a name="l09700"></a><span class="lineno"> 9700</span>&#160;                <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(prevfd);</div>
<div class="line"><a name="l09701"></a><span class="lineno"> 9701</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a>(<span class="stringliteral">&quot;can&#39;t create pipe&quot;</span>);</div>
<div class="line"><a name="l09702"></a><span class="lineno"> 9702</span>&#160;            }</div>
<div class="line"><a name="l09703"></a><span class="lineno"> 9703</span>&#160;        }</div>
<div class="line"><a name="l09704"></a><span class="lineno"> 9704</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a2909724c5cc1419ade6041cbf8d98636">forkshell</a>(jp, lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">n</a>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;npipe.pipe_backgnd) == 0) {</div>
<div class="line"><a name="l09705"></a><span class="lineno"> 9705</span>&#160;            <span class="comment">/* child */</span></div>
<div class="line"><a name="l09706"></a><span class="lineno"> 9706</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l09707"></a><span class="lineno"> 9707</span>&#160;            <span class="keywordflow">if</span> (pip[1] &gt;= 0) {</div>
<div class="line"><a name="l09708"></a><span class="lineno"> 9708</span>&#160;                <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pip[0]);</div>
<div class="line"><a name="l09709"></a><span class="lineno"> 9709</span>&#160;            }</div>
<div class="line"><a name="l09710"></a><span class="lineno"> 9710</span>&#160;            <span class="keywordflow">if</span> (prevfd &gt; 0) {</div>
<div class="line"><a name="l09711"></a><span class="lineno"> 9711</span>&#160;                <a class="code" href="../../d9/d9c/oslib_8c.html#a4ce97c88892c43f0e127dd3a6dc54b96">dup2</a>(prevfd, 0);</div>
<div class="line"><a name="l09712"></a><span class="lineno"> 9712</span>&#160;                <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(prevfd);</div>
<div class="line"><a name="l09713"></a><span class="lineno"> 9713</span>&#160;            }</div>
<div class="line"><a name="l09714"></a><span class="lineno"> 9714</span>&#160;            <span class="keywordflow">if</span> (pip[1] &gt; 1) {</div>
<div class="line"><a name="l09715"></a><span class="lineno"> 9715</span>&#160;                <a class="code" href="../../d9/d9c/oslib_8c.html#a4ce97c88892c43f0e127dd3a6dc54b96">dup2</a>(pip[1], 1);</div>
<div class="line"><a name="l09716"></a><span class="lineno"> 9716</span>&#160;                <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pip[1]);</div>
<div class="line"><a name="l09717"></a><span class="lineno"> 9717</span>&#160;            }</div>
<div class="line"><a name="l09718"></a><span class="lineno"> 9718</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#aceb73f20fd610e6ea9113f52ea706c19">evaltreenr</a>(lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">n</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l09719"></a><span class="lineno"> 9719</span>&#160;            <span class="comment">/* never returns */</span></div>
<div class="line"><a name="l09720"></a><span class="lineno"> 9720</span>&#160;        }</div>
<div class="line"><a name="l09721"></a><span class="lineno"> 9721</span>&#160;        <span class="comment">/* parent */</span></div>
<div class="line"><a name="l09722"></a><span class="lineno"> 9722</span>&#160;        <span class="keywordflow">if</span> (prevfd &gt;= 0)</div>
<div class="line"><a name="l09723"></a><span class="lineno"> 9723</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(prevfd);</div>
<div class="line"><a name="l09724"></a><span class="lineno"> 9724</span>&#160;        prevfd = pip[0];</div>
<div class="line"><a name="l09725"></a><span class="lineno"> 9725</span>&#160;        <span class="comment">/* Don&#39;t want to trigger debugging */</span></div>
<div class="line"><a name="l09726"></a><span class="lineno"> 9726</span>&#160;        <span class="keywordflow">if</span> (pip[1] != -1)</div>
<div class="line"><a name="l09727"></a><span class="lineno"> 9727</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pip[1]);</div>
<div class="line"><a name="l09728"></a><span class="lineno"> 9728</span>&#160;    }</div>
<div class="line"><a name="l09729"></a><span class="lineno"> 9729</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;npipe.pipe_backgnd == 0) {</div>
<div class="line"><a name="l09730"></a><span class="lineno"> 9730</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7bd2f10f7aab5836959730cee26ded54">waitforjob</a>(jp);</div>
<div class="line"><a name="l09731"></a><span class="lineno"> 9731</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;evalpipe:  job done exit status %d\n&quot;</span>, <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>));</div>
<div class="line"><a name="l09732"></a><span class="lineno"> 9732</span>&#160;    }</div>
<div class="line"><a name="l09733"></a><span class="lineno"> 9733</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l09734"></a><span class="lineno"> 9734</span>&#160; </div>
<div class="line"><a name="l09735"></a><span class="lineno"> 9735</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l09736"></a><span class="lineno"> 9736</span>&#160;}</div>
<div class="line"><a name="l09737"></a><span class="lineno"> 9737</span>&#160; </div>
<div class="line"><a name="l09738"></a><span class="lineno"> 9738</span>&#160;<span class="comment">/* setinteractive needs this forward reference */</span></div>
<div class="line"><a name="l09739"></a><span class="lineno"> 9739</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_TAB_COMPLETION</span></div>
<div class="line"><a name="l09740"></a><span class="lineno"> 9740</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *get_builtin_name(<span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l09741"></a><span class="lineno"> 9741</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09742"></a><span class="lineno"> 9742</span>&#160; </div>
<div class="line"><a name="l09743"></a><span class="lineno"> 9743</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l09744"></a><span class="lineno"> 9744</span>&#160;<span class="comment"> * Controls whether the shell is interactive or not.</span></div>
<div class="line"><a name="l09745"></a><span class="lineno"> 9745</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l09746"></a><span class="lineno"> 9746</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l09747"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a61424117a2928fce3ab68550483fbcea"> 9747</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a61424117a2928fce3ab68550483fbcea">setinteractive</a>(<span class="keywordtype">int</span> on)</div>
<div class="line"><a name="l09748"></a><span class="lineno"> 9748</span>&#160;{</div>
<div class="line"><a name="l09749"></a><span class="lineno"> 9749</span>&#160;    <span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> is_interactive;</div>
<div class="line"><a name="l09750"></a><span class="lineno"> 9750</span>&#160; </div>
<div class="line"><a name="l09751"></a><span class="lineno"> 9751</span>&#160;    <span class="keywordflow">if</span> (++on == is_interactive)</div>
<div class="line"><a name="l09752"></a><span class="lineno"> 9752</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09753"></a><span class="lineno"> 9753</span>&#160;    is_interactive = on;</div>
<div class="line"><a name="l09754"></a><span class="lineno"> 9754</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>);</div>
<div class="line"><a name="l09755"></a><span class="lineno"> 9755</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a62045b465be11891160d53c10861b16c">SIGQUIT</a>);</div>
<div class="line"><a name="l09756"></a><span class="lineno"> 9756</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a682182a5e5f38fd61f4311501e9dac5d">SIGTERM</a>);</div>
<div class="line"><a name="l09757"></a><span class="lineno"> 9757</span>&#160;    <span class="keywordflow">if</span> (is_interactive &gt; 1) {</div>
<div class="line"><a name="l09758"></a><span class="lineno"> 9758</span>&#160;<span class="preprocessor">#if !ENABLE_FEATURE_SH_EXTRA_QUIET</span></div>
<div class="line"><a name="l09759"></a><span class="lineno"> 9759</span>&#160;        <span class="comment">/* Looks like they want an interactive shell */</span></div>
<div class="line"><a name="l09760"></a><span class="lineno"> 9760</span>&#160;        <span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> did_banner;</div>
<div class="line"><a name="l09761"></a><span class="lineno"> 9761</span>&#160; </div>
<div class="line"><a name="l09762"></a><span class="lineno"> 9762</span>&#160;        <span class="keywordflow">if</span> (!did_banner) {</div>
<div class="line"><a name="l09763"></a><span class="lineno"> 9763</span>&#160;            <span class="comment">/* note: ash and hush share this string */</span></div>
<div class="line"><a name="l09764"></a><span class="lineno"> 9764</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;\n\n%s %s\n&quot;</span></div>
<div class="line"><a name="l09765"></a><span class="lineno"> 9765</span>&#160;                IF_ASH_HELP(<span class="stringliteral">&quot;Enter &#39;help&#39; for a list of built-in commands.\n&quot;</span>)</div>
<div class="line"><a name="l09766"></a><span class="lineno"> 9766</span>&#160;                <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l09767"></a><span class="lineno"> 9767</span>&#160;                bb_banner,</div>
<div class="line"><a name="l09768"></a><span class="lineno"> 9768</span>&#160;                <span class="stringliteral">&quot;built-in shell (ash)&quot;</span></div>
<div class="line"><a name="l09769"></a><span class="lineno"> 9769</span>&#160;            );</div>
<div class="line"><a name="l09770"></a><span class="lineno"> 9770</span>&#160;            did_banner = 1;</div>
<div class="line"><a name="l09771"></a><span class="lineno"> 9771</span>&#160;        }</div>
<div class="line"><a name="l09772"></a><span class="lineno"> 9772</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09773"></a><span class="lineno"> 9773</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_EDITING</span></div>
<div class="line"><a name="l09774"></a><span class="lineno"> 9774</span>&#160;        <span class="keywordflow">if</span> (!line_input_state) {</div>
<div class="line"><a name="l09775"></a><span class="lineno"> 9775</span>&#160;            line_input_state = new_line_input_t(FOR_SHELL | WITH_PATH_LOOKUP);</div>
<div class="line"><a name="l09776"></a><span class="lineno"> 9776</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_TAB_COMPLETION</span></div>
<div class="line"><a name="l09777"></a><span class="lineno"> 9777</span>&#160;            line_input_state-&gt;get_exe_name = get_builtin_name;</div>
<div class="line"><a name="l09778"></a><span class="lineno"> 9778</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l09779"></a><span class="lineno"> 9779</span>&#160;<span class="preprocessor"># if EDITING_HAS_sh_get_var</span></div>
<div class="line"><a name="l09780"></a><span class="lineno"> 9780</span>&#160;            line_input_state-&gt;sh_get_var = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>;</div>
<div class="line"><a name="l09781"></a><span class="lineno"> 9781</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l09782"></a><span class="lineno"> 9782</span>&#160;        }</div>
<div class="line"><a name="l09783"></a><span class="lineno"> 9783</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09784"></a><span class="lineno"> 9784</span>&#160;    }</div>
<div class="line"><a name="l09785"></a><span class="lineno"> 9785</span>&#160;}</div>
<div class="line"><a name="l09786"></a><span class="lineno"> 9786</span>&#160; </div>
<div class="line"><a name="l09787"></a><span class="lineno"> 9787</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l09788"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8be6f6bcc7c0b48114ca32fa3c0e467b"> 9788</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8be6f6bcc7c0b48114ca32fa3c0e467b">optschanged</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l09789"></a><span class="lineno"> 9789</span>&#160;{</div>
<div class="line"><a name="l09790"></a><span class="lineno"> 9790</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l09791"></a><span class="lineno"> 9791</span>&#160;    opentrace();</div>
<div class="line"><a name="l09792"></a><span class="lineno"> 9792</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09793"></a><span class="lineno"> 9793</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a61424117a2928fce3ab68550483fbcea">setinteractive</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a>);</div>
<div class="line"><a name="l09794"></a><span class="lineno"> 9794</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a66ba7a9d81c7e47c56780aaffbd29aea">setjobctl</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a39163771f358bdc0ef85126a2014d86d">mflag</a>);</div>
<div class="line"><a name="l09795"></a><span class="lineno"> 9795</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_EDITING_VI</span></div>
<div class="line"><a name="l09796"></a><span class="lineno"> 9796</span>&#160;    <span class="keywordflow">if</span> (line_input_state) {</div>
<div class="line"><a name="l09797"></a><span class="lineno"> 9797</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a48c67a57f50ea01555d9e86540d833c6">viflag</a>)</div>
<div class="line"><a name="l09798"></a><span class="lineno"> 9798</span>&#160;            line_input_state-&gt;flags |= <a class="code" href="../../dc/dbe/rlconf_8h.html#a09946416f97c38266159c647ddacefb9">VI_MODE</a>;</div>
<div class="line"><a name="l09799"></a><span class="lineno"> 9799</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l09800"></a><span class="lineno"> 9800</span>&#160;            line_input_state-&gt;flags &amp;= ~<a class="code" href="../../dc/dbe/rlconf_8h.html#a09946416f97c38266159c647ddacefb9">VI_MODE</a>;</div>
<div class="line"><a name="l09801"></a><span class="lineno"> 9801</span>&#160;    }</div>
<div class="line"><a name="l09802"></a><span class="lineno"> 9802</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l09803"></a><span class="lineno"> 9803</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a48c67a57f50ea01555d9e86540d833c6">viflag</a> = 0; <span class="comment">/* forcibly keep the option off */</span></div>
<div class="line"><a name="l09804"></a><span class="lineno"> 9804</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09805"></a><span class="lineno"> 9805</span>&#160;}</div>
<div class="line"><a name="l09806"></a><span class="lineno"> 9806</span>&#160; </div>
<div class="line"><a name="l09807"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html"> 9807</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/dac/structlocalvar__list">localvar_list</a> {</div>
<div class="line"><a name="l09808"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acbe4b2416377efb35db81b82e902098e"> 9808</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/dac/structlocalvar__list">localvar_list</a> *<a class="code" href="../../d1/dbe/ash_8c.html#acbe4b2416377efb35db81b82e902098e">next</a>;</div>
<div class="line"><a name="l09809"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a636df6ab6a7674f64203a3b3f7f657c7"> 9809</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d25/structlocalvar">localvar</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a636df6ab6a7674f64203a3b3f7f657c7">lv</a>;</div>
<div class="line"><a name="l09810"></a><span class="lineno"> 9810</span>&#160;};</div>
<div class="line"><a name="l09811"></a><span class="lineno"> 9811</span>&#160; </div>
<div class="line"><a name="l09812"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af50fa8c9e19e13a35fec130fc6883faf"> 9812</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/dac/structlocalvar__list">localvar_list</a> *<a class="code" href="../../d1/dbe/ash_8c.html#af50fa8c9e19e13a35fec130fc6883faf">localvar_stack</a>;</div>
<div class="line"><a name="l09813"></a><span class="lineno"> 9813</span>&#160; </div>
<div class="line"><a name="l09814"></a><span class="lineno"> 9814</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l09815"></a><span class="lineno"> 9815</span>&#160;<span class="comment"> * Called after a function returns.</span></div>
<div class="line"><a name="l09816"></a><span class="lineno"> 9816</span>&#160;<span class="comment"> * Interrupts must be off.</span></div>
<div class="line"><a name="l09817"></a><span class="lineno"> 9817</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l09818"></a><span class="lineno"> 9818</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l09819"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac12dfae82adbb17a3775bba8bc46a391"> 9819</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac12dfae82adbb17a3775bba8bc46a391">poplocalvars</a>(<span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#af00fdbe0edb384d1bea5deec647d60c7">keep</a>)</div>
<div class="line"><a name="l09820"></a><span class="lineno"> 9820</span>&#160;{</div>
<div class="line"><a name="l09821"></a><span class="lineno"> 9821</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/dac/structlocalvar__list">localvar_list</a> *ll;</div>
<div class="line"><a name="l09822"></a><span class="lineno"> 9822</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d25/structlocalvar">localvar</a> *lvp, *<a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>;</div>
<div class="line"><a name="l09823"></a><span class="lineno"> 9823</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>;</div>
<div class="line"><a name="l09824"></a><span class="lineno"> 9824</span>&#160; </div>
<div class="line"><a name="l09825"></a><span class="lineno"> 9825</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l09826"></a><span class="lineno"> 9826</span>&#160;    ll = <a class="code" href="../../d1/dbe/ash_8c.html#af50fa8c9e19e13a35fec130fc6883faf">localvar_stack</a>;</div>
<div class="line"><a name="l09827"></a><span class="lineno"> 9827</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af50fa8c9e19e13a35fec130fc6883faf">localvar_stack</a> = ll-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acbe4b2416377efb35db81b82e902098e">next</a>;</div>
<div class="line"><a name="l09828"></a><span class="lineno"> 9828</span>&#160; </div>
<div class="line"><a name="l09829"></a><span class="lineno"> 9829</span>&#160;    <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a> = ll-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a636df6ab6a7674f64203a3b3f7f657c7">lv</a>;</div>
<div class="line"><a name="l09830"></a><span class="lineno"> 9830</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(ll);</div>
<div class="line"><a name="l09831"></a><span class="lineno"> 9831</span>&#160; </div>
<div class="line"><a name="l09832"></a><span class="lineno"> 9832</span>&#160;    <span class="keywordflow">while</span> ((lvp = <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l09833"></a><span class="lineno"> 9833</span>&#160;        <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a> = lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a81883e60f2d78f6929666fd00eea9ab2">next</a>;</div>
<div class="line"><a name="l09834"></a><span class="lineno"> 9834</span>&#160;        <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> = lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2f220ce05bde1a77bb1ec86cd9de3d1f">vp</a>;</div>
<div class="line"><a name="l09835"></a><span class="lineno"> 9835</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;poplocalvar %s\n&quot;</span>, <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> ? <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text : <span class="stringliteral">&quot;-&quot;</span>));</div>
<div class="line"><a name="l09836"></a><span class="lineno"> 9836</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#af00fdbe0edb384d1bea5deec647d60c7">keep</a>) {</div>
<div class="line"><a name="l09837"></a><span class="lineno"> 9837</span>&#160;            <span class="keywordtype">int</span> bits = <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>;</div>
<div class="line"><a name="l09838"></a><span class="lineno"> 9838</span>&#160; </div>
<div class="line"><a name="l09839"></a><span class="lineno"> 9839</span>&#160;            <span class="keywordflow">if</span> (lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8284fd45ff2cf13c589888a5308bbf21">flags</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>) {</div>
<div class="line"><a name="l09840"></a><span class="lineno"> 9840</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text == lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a701f0177878b53edc891373fba8cb558">text</a>)</div>
<div class="line"><a name="l09841"></a><span class="lineno"> 9841</span>&#160;                    bits |= <a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>;</div>
<div class="line"><a name="l09842"></a><span class="lineno"> 9842</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8284fd45ff2cf13c589888a5308bbf21">flags</a> &amp; (<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#ad92f7c112d0543fd9479218fae3b49a0">VSTACK</a>)))</div>
<div class="line"><a name="l09843"></a><span class="lineno"> 9843</span>&#160;                    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>((<span class="keywordtype">char</span>*)lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a701f0177878b53edc891373fba8cb558">text</a>);</div>
<div class="line"><a name="l09844"></a><span class="lineno"> 9844</span>&#160;            }</div>
<div class="line"><a name="l09845"></a><span class="lineno"> 9845</span>&#160; </div>
<div class="line"><a name="l09846"></a><span class="lineno"> 9846</span>&#160;            <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags &amp;= ~bits;</div>
<div class="line"><a name="l09847"></a><span class="lineno"> 9847</span>&#160;            <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags |= (lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8284fd45ff2cf13c589888a5308bbf21">flags</a> &amp; bits);</div>
<div class="line"><a name="l09848"></a><span class="lineno"> 9848</span>&#160; </div>
<div class="line"><a name="l09849"></a><span class="lineno"> 9849</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags &amp;</div>
<div class="line"><a name="l09850"></a><span class="lineno"> 9850</span>&#160;                 (<a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a738a786930f6cbcdfaf8f20ee8d1df78">VREADONLY</a>|<a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>)) == <a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>)</div>
<div class="line"><a name="l09851"></a><span class="lineno"> 9851</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#affc1ad23277bd6ac90ab21c8f4501307">unsetvar</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text);</div>
<div class="line"><a name="l09852"></a><span class="lineno"> 9852</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {    <span class="comment">/* $- saved */</span></div>
<div class="line"><a name="l09853"></a><span class="lineno"> 9853</span>&#160;            <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a>, lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a701f0177878b53edc891373fba8cb558">text</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a>));</div>
<div class="line"><a name="l09854"></a><span class="lineno"> 9854</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>((<span class="keywordtype">char</span>*)lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a701f0177878b53edc891373fba8cb558">text</a>);</div>
<div class="line"><a name="l09855"></a><span class="lineno"> 9855</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8be6f6bcc7c0b48114ca32fa3c0e467b">optschanged</a>();</div>
<div class="line"><a name="l09856"></a><span class="lineno"> 9856</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8284fd45ff2cf13c589888a5308bbf21">flags</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>) {</div>
<div class="line"><a name="l09857"></a><span class="lineno"> 9857</span>&#160;            <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags &amp;= ~(<a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a738a786930f6cbcdfaf8f20ee8d1df78">VREADONLY</a>);</div>
<div class="line"><a name="l09858"></a><span class="lineno"> 9858</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#affc1ad23277bd6ac90ab21c8f4501307">unsetvar</a>(<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text);</div>
<div class="line"><a name="l09859"></a><span class="lineno"> 9859</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l09860"></a><span class="lineno"> 9860</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_func)</div>
<div class="line"><a name="l09861"></a><span class="lineno"> 9861</span>&#160;                <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_func(<a class="code" href="../../d1/dbe/ash_8c.html#a17964ca36a1fd49a7b76eac2700d8e15">var_end</a>(lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a701f0177878b53edc891373fba8cb558">text</a>));</div>
<div class="line"><a name="l09862"></a><span class="lineno"> 9862</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags &amp; (<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#ad92f7c112d0543fd9479218fae3b49a0">VSTACK</a>)) == 0)</div>
<div class="line"><a name="l09863"></a><span class="lineno"> 9863</span>&#160;                <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>((<span class="keywordtype">char</span>*)<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text);</div>
<div class="line"><a name="l09864"></a><span class="lineno"> 9864</span>&#160;            <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags = lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8284fd45ff2cf13c589888a5308bbf21">flags</a>;</div>
<div class="line"><a name="l09865"></a><span class="lineno"> 9865</span>&#160;            <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text = lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a701f0177878b53edc891373fba8cb558">text</a>;</div>
<div class="line"><a name="l09866"></a><span class="lineno"> 9866</span>&#160;        }</div>
<div class="line"><a name="l09867"></a><span class="lineno"> 9867</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(lvp);</div>
<div class="line"><a name="l09868"></a><span class="lineno"> 9868</span>&#160;    }</div>
<div class="line"><a name="l09869"></a><span class="lineno"> 9869</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l09870"></a><span class="lineno"> 9870</span>&#160;}</div>
<div class="line"><a name="l09871"></a><span class="lineno"> 9871</span>&#160; </div>
<div class="line"><a name="l09872"></a><span class="lineno"> 9872</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l09873"></a><span class="lineno"> 9873</span>&#160;<span class="comment"> * Create a new localvar environment.</span></div>
<div class="line"><a name="l09874"></a><span class="lineno"> 9874</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l09875"></a><span class="lineno"> 9875</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/dac/structlocalvar__list">localvar_list</a> *</div>
<div class="line"><a name="l09876"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a114300b60e92ab3b9e3707f61278fe9d"> 9876</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a114300b60e92ab3b9e3707f61278fe9d">pushlocalvars</a>(<span class="keywordtype">int</span> <a class="code" href="../../d6/dae/dc_8c.html#a35e27a416e5c3aca93017b6212878377">push</a>)</div>
<div class="line"><a name="l09877"></a><span class="lineno"> 9877</span>&#160;{</div>
<div class="line"><a name="l09878"></a><span class="lineno"> 9878</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/dac/structlocalvar__list">localvar_list</a> *ll;</div>
<div class="line"><a name="l09879"></a><span class="lineno"> 9879</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/dac/structlocalvar__list">localvar_list</a> *<a class="code" href="../../d2/d78/p__spec_8h.html#a61be60bd0fc3c2a1b8637d2bee8ea317a3961740aa293a50c701d278225f7050a">top</a>;</div>
<div class="line"><a name="l09880"></a><span class="lineno"> 9880</span>&#160; </div>
<div class="line"><a name="l09881"></a><span class="lineno"> 9881</span>&#160;    <a class="code" href="../../d2/d78/p__spec_8h.html#a61be60bd0fc3c2a1b8637d2bee8ea317a3961740aa293a50c701d278225f7050a">top</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af50fa8c9e19e13a35fec130fc6883faf">localvar_stack</a>;</div>
<div class="line"><a name="l09882"></a><span class="lineno"> 9882</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/dae/dc_8c.html#a35e27a416e5c3aca93017b6212878377">push</a>)</div>
<div class="line"><a name="l09883"></a><span class="lineno"> 9883</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l09884"></a><span class="lineno"> 9884</span>&#160; </div>
<div class="line"><a name="l09885"></a><span class="lineno"> 9885</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l09886"></a><span class="lineno"> 9886</span>&#160;    ll = <a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(<span class="keyword">sizeof</span>(*ll));</div>
<div class="line"><a name="l09887"></a><span class="lineno"> 9887</span>&#160;    <span class="comment">/*ll-&gt;lv = NULL; - zalloc did it */</span></div>
<div class="line"><a name="l09888"></a><span class="lineno"> 9888</span>&#160;    ll-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acbe4b2416377efb35db81b82e902098e">next</a> = <a class="code" href="../../d2/d78/p__spec_8h.html#a61be60bd0fc3c2a1b8637d2bee8ea317a3961740aa293a50c701d278225f7050a">top</a>;</div>
<div class="line"><a name="l09889"></a><span class="lineno"> 9889</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af50fa8c9e19e13a35fec130fc6883faf">localvar_stack</a> = ll;</div>
<div class="line"><a name="l09890"></a><span class="lineno"> 9890</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l09891"></a><span class="lineno"> 9891</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l09892"></a><span class="lineno"> 9892</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/d78/p__spec_8h.html#a61be60bd0fc3c2a1b8637d2bee8ea317a3961740aa293a50c701d278225f7050a">top</a>;</div>
<div class="line"><a name="l09893"></a><span class="lineno"> 9893</span>&#160;}</div>
<div class="line"><a name="l09894"></a><span class="lineno"> 9894</span>&#160; </div>
<div class="line"><a name="l09895"></a><span class="lineno"> 9895</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l09896"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad4e5bf54695044926d7a370d09812a86"> 9896</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ad4e5bf54695044926d7a370d09812a86">unwindlocalvars</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/dac/structlocalvar__list">localvar_list</a> *<a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>)</div>
<div class="line"><a name="l09897"></a><span class="lineno"> 9897</span>&#160;{</div>
<div class="line"><a name="l09898"></a><span class="lineno"> 9898</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af50fa8c9e19e13a35fec130fc6883faf">localvar_stack</a> != <a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>)</div>
<div class="line"><a name="l09899"></a><span class="lineno"> 9899</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ac12dfae82adbb17a3775bba8bc46a391">poplocalvars</a>(0);</div>
<div class="line"><a name="l09900"></a><span class="lineno"> 9900</span>&#160;}</div>
<div class="line"><a name="l09901"></a><span class="lineno"> 9901</span>&#160; </div>
<div class="line"><a name="l09902"></a><span class="lineno"> 9902</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l09903"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4dea1c72117f8b8bec756e93fd3a90a3"> 9903</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a4dea1c72117f8b8bec756e93fd3a90a3">evalfun</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/daa/structfuncnode">funcnode</a> *<a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>, <span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l09904"></a><span class="lineno"> 9904</span>&#160;{</div>
<div class="line"><a name="l09905"></a><span class="lineno"> 9905</span>&#160;    <span class="keyword">volatile</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dc/d7b/structshparam">shparam</a> saveparam;</div>
<div class="line"><a name="l09906"></a><span class="lineno"> 9906</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> *<span class="keyword">volatile</span> savehandler;</div>
<div class="line"><a name="l09907"></a><span class="lineno"> 9907</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> <a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l09908"></a><span class="lineno"> 9908</span>&#160;    <span class="keywordtype">int</span> e;</div>
<div class="line"><a name="l09909"></a><span class="lineno"> 9909</span>&#160;    <span class="keywordtype">int</span> savelineno;</div>
<div class="line"><a name="l09910"></a><span class="lineno"> 9910</span>&#160;    <span class="keywordtype">int</span> savefuncline;</div>
<div class="line"><a name="l09911"></a><span class="lineno"> 9911</span>&#160;    <span class="keywordtype">char</span> *savefuncname;</div>
<div class="line"><a name="l09912"></a><span class="lineno"> 9912</span>&#160;    <span class="keywordtype">char</span> *savetrap = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l09913"></a><span class="lineno"> 9913</span>&#160; </div>
<div class="line"><a name="l09914"></a><span class="lineno"> 9914</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a6dd3695c6902ed6c5bb82b513501c00c">Eflag</a>) {</div>
<div class="line"><a name="l09915"></a><span class="lineno"> 9915</span>&#160;        savetrap = <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[<a class="code" href="../../d1/dbe/ash_8c.html#a9f92e9f6961c915a648c04b712bb03e5">NTRAP_ERR</a>];</div>
<div class="line"><a name="l09916"></a><span class="lineno"> 9916</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[<a class="code" href="../../d1/dbe/ash_8c.html#a9f92e9f6961c915a648c04b712bb03e5">NTRAP_ERR</a>] = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l09917"></a><span class="lineno"> 9917</span>&#160;    }</div>
<div class="line"><a name="l09918"></a><span class="lineno"> 9918</span>&#160;    savelineno = <a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a>;</div>
<div class="line"><a name="l09919"></a><span class="lineno"> 9919</span>&#160;    saveparam = <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>;</div>
<div class="line"><a name="l09920"></a><span class="lineno"> 9920</span>&#160;    savefuncline = <a class="code" href="../../d1/dbe/ash_8c.html#a6a73003a9a50b94b6cde86c8b7842106">funcline</a>;</div>
<div class="line"><a name="l09921"></a><span class="lineno"> 9921</span>&#160;    savefuncname = <a class="code" href="../../d1/dbe/ash_8c.html#a8d9279f3cd6bd36f8600440ca9e4a473">funcname</a>;</div>
<div class="line"><a name="l09922"></a><span class="lineno"> 9922</span>&#160;    savehandler = <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a>;</div>
<div class="line"><a name="l09923"></a><span class="lineno"> 9923</span>&#160;    e = <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#ac7cd296b63b31ab3d8cd447e40d0eedc">setjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>.<a class="code" href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">loc</a>);</div>
<div class="line"><a name="l09924"></a><span class="lineno"> 9924</span>&#160;    <span class="keywordflow">if</span> (e) {</div>
<div class="line"><a name="l09925"></a><span class="lineno"> 9925</span>&#160;        <span class="keywordflow">goto</span> funcdone;</div>
<div class="line"><a name="l09926"></a><span class="lineno"> 9926</span>&#160;    }</div>
<div class="line"><a name="l09927"></a><span class="lineno"> 9927</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l09928"></a><span class="lineno"> 9928</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l09929"></a><span class="lineno"> 9929</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.malloced = 0;</div>
<div class="line"><a name="l09930"></a><span class="lineno"> 9930</span>&#160;    <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>-&gt;count++;</div>
<div class="line"><a name="l09931"></a><span class="lineno"> 9931</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8d9279f3cd6bd36f8600440ca9e4a473">funcname</a> = <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>-&gt;n.ndefun.text;</div>
<div class="line"><a name="l09932"></a><span class="lineno"> 9932</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6a73003a9a50b94b6cde86c8b7842106">funcline</a> = <a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>-&gt;n.ndefun.linno;</div>
<div class="line"><a name="l09933"></a><span class="lineno"> 9933</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l09934"></a><span class="lineno"> 9934</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.nparam = <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> - 1;</div>
<div class="line"><a name="l09935"></a><span class="lineno"> 9935</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.p = <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> + 1;</div>
<div class="line"><a name="l09936"></a><span class="lineno"> 9936</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l09937"></a><span class="lineno"> 9937</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind = 1;</div>
<div class="line"><a name="l09938"></a><span class="lineno"> 9938</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optoff = -1;</div>
<div class="line"><a name="l09939"></a><span class="lineno"> 9939</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09940"></a><span class="lineno"> 9940</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(<a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>-&gt;n.ndefun.<a class="code" href="../../de/dcc/awk_8c.html#aedbf5106655fdabdf6c75d6b0e126baf">body</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b">EV_TESTED</a>);</div>
<div class="line"><a name="l09941"></a><span class="lineno"> 9941</span>&#160; funcdone:</div>
<div class="line"><a name="l09942"></a><span class="lineno"> 9942</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l09943"></a><span class="lineno"> 9943</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8d9279f3cd6bd36f8600440ca9e4a473">funcname</a> = savefuncname;</div>
<div class="line"><a name="l09944"></a><span class="lineno"> 9944</span>&#160;    <span class="keywordflow">if</span> (savetrap) {</div>
<div class="line"><a name="l09945"></a><span class="lineno"> 9945</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[<a class="code" href="../../d1/dbe/ash_8c.html#a9f92e9f6961c915a648c04b712bb03e5">NTRAP_ERR</a>])</div>
<div class="line"><a name="l09946"></a><span class="lineno"> 9946</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[<a class="code" href="../../d1/dbe/ash_8c.html#a9f92e9f6961c915a648c04b712bb03e5">NTRAP_ERR</a>] = savetrap;</div>
<div class="line"><a name="l09947"></a><span class="lineno"> 9947</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l09948"></a><span class="lineno"> 9948</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(savetrap);</div>
<div class="line"><a name="l09949"></a><span class="lineno"> 9949</span>&#160;    }</div>
<div class="line"><a name="l09950"></a><span class="lineno"> 9950</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6a73003a9a50b94b6cde86c8b7842106">funcline</a> = savefuncline;</div>
<div class="line"><a name="l09951"></a><span class="lineno"> 9951</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a> = savelineno;</div>
<div class="line"><a name="l09952"></a><span class="lineno"> 9952</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a25edec132977e71f2485d16e5ae84168">freefunc</a>(<a class="code" href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func</a>);</div>
<div class="line"><a name="l09953"></a><span class="lineno"> 9953</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aaf63f7a250255f0ac21656149824df95">freeparam</a>(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>);</div>
<div class="line"><a name="l09954"></a><span class="lineno"> 9954</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a> = saveparam;</div>
<div class="line"><a name="l09955"></a><span class="lineno"> 9955</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = savehandler;</div>
<div class="line"><a name="l09956"></a><span class="lineno"> 9956</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l09957"></a><span class="lineno"> 9957</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a> &amp;= ~(<a class="code" href="../../d1/dbe/ash_8c.html#acbcb73299ee8abbd13ae00cb596546e0">SKIPFUNC</a> | <a class="code" href="../../d1/dbe/ash_8c.html#aadb3db0d739f2d387e4aad4e9b91c0d0">SKIPFUNCDEF</a>);</div>
<div class="line"><a name="l09958"></a><span class="lineno"> 9958</span>&#160;    <span class="keywordflow">return</span> e;</div>
<div class="line"><a name="l09959"></a><span class="lineno"> 9959</span>&#160;}</div>
<div class="line"><a name="l09960"></a><span class="lineno"> 9960</span>&#160; </div>
<div class="line"><a name="l09961"></a><span class="lineno"> 9961</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l09962"></a><span class="lineno"> 9962</span>&#160;<span class="comment"> * Make a variable a local variable.  When a variable is made local, it&#39;s</span></div>
<div class="line"><a name="l09963"></a><span class="lineno"> 9963</span>&#160;<span class="comment"> * value and flags are saved in a localvar structure.  The saved values</span></div>
<div class="line"><a name="l09964"></a><span class="lineno"> 9964</span>&#160;<span class="comment"> * will be restored when the shell function returns.  We handle the name</span></div>
<div class="line"><a name="l09965"></a><span class="lineno"> 9965</span>&#160;<span class="comment"> * &quot;-&quot; as a special case: it makes changes to &quot;set +-options&quot; local</span></div>
<div class="line"><a name="l09966"></a><span class="lineno"> 9966</span>&#160;<span class="comment"> * (options will be restored on return from the function).</span></div>
<div class="line"><a name="l09967"></a><span class="lineno"> 9967</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l09968"></a><span class="lineno"> 9968</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l09969"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a04648c6665c64cc239aeddcf3e1b03e2"> 9969</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a04648c6665c64cc239aeddcf3e1b03e2">mklocal</a>(<span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l09970"></a><span class="lineno"> 9970</span>&#160;{</div>
<div class="line"><a name="l09971"></a><span class="lineno"> 9971</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d25/structlocalvar">localvar</a> *lvp;</div>
<div class="line"><a name="l09972"></a><span class="lineno"> 9972</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> **vpp;</div>
<div class="line"><a name="l09973"></a><span class="lineno"> 9973</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>;</div>
<div class="line"><a name="l09974"></a><span class="lineno"> 9974</span>&#160;    <span class="keywordtype">char</span> *eq = <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(name, <span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l09975"></a><span class="lineno"> 9975</span>&#160; </div>
<div class="line"><a name="l09976"></a><span class="lineno"> 9976</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l09977"></a><span class="lineno"> 9977</span>&#160;    <span class="comment">/* Cater for duplicate &quot;local&quot;. Examples:</span></div>
<div class="line"><a name="l09978"></a><span class="lineno"> 9978</span>&#160;<span class="comment">     * x=0; f() { local x=1; echo $x; local x; echo $x; }; f; echo $x</span></div>
<div class="line"><a name="l09979"></a><span class="lineno"> 9979</span>&#160;<span class="comment">     * x=0; f() { local x=1; echo $x; local x=2; echo $x; }; f; echo $x</span></div>
<div class="line"><a name="l09980"></a><span class="lineno"> 9980</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l09981"></a><span class="lineno"> 9981</span>&#160;    lvp = <a class="code" href="../../d1/dbe/ash_8c.html#af50fa8c9e19e13a35fec130fc6883faf">localvar_stack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a636df6ab6a7674f64203a3b3f7f657c7">lv</a>;</div>
<div class="line"><a name="l09982"></a><span class="lineno"> 9982</span>&#160;    <span class="keywordflow">while</span> (lvp) {</div>
<div class="line"><a name="l09983"></a><span class="lineno"> 9983</span>&#160;        <span class="keywordflow">if</span> (lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2f220ce05bde1a77bb1ec86cd9de3d1f">vp</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#aa5510f9d07ac0f15102a163e5c0c14da">varcmp</a>(lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2f220ce05bde1a77bb1ec86cd9de3d1f">vp</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaf0f2f3b09b6318344eabce9fddb0027">var_text</a>, name) == 0) {</div>
<div class="line"><a name="l09984"></a><span class="lineno"> 9984</span>&#160;            <span class="keywordflow">if</span> (eq)</div>
<div class="line"><a name="l09985"></a><span class="lineno"> 9985</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ad585c124f797c55d024253708395b6b2">setvareq</a>(name, 0);</div>
<div class="line"><a name="l09986"></a><span class="lineno"> 9986</span>&#160;            <span class="comment">/* else:</span></div>
<div class="line"><a name="l09987"></a><span class="lineno"> 9987</span>&#160;<span class="comment">             * it&#39;s a duplicate &quot;local VAR&quot; declaration, do nothing</span></div>
<div class="line"><a name="l09988"></a><span class="lineno"> 9988</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l09989"></a><span class="lineno"> 9989</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l09990"></a><span class="lineno"> 9990</span>&#160;        }</div>
<div class="line"><a name="l09991"></a><span class="lineno"> 9991</span>&#160;        lvp = lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a81883e60f2d78f6929666fd00eea9ab2">next</a>;</div>
<div class="line"><a name="l09992"></a><span class="lineno"> 9992</span>&#160;    }</div>
<div class="line"><a name="l09993"></a><span class="lineno"> 9993</span>&#160; </div>
<div class="line"><a name="l09994"></a><span class="lineno"> 9994</span>&#160;    lvp = <a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(<span class="keyword">sizeof</span>(*lvp));</div>
<div class="line"><a name="l09995"></a><span class="lineno"> 9995</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#ae3c705adc31efb61b8a23829e028028e">LONE_DASH</a>(name)) {</div>
<div class="line"><a name="l09996"></a><span class="lineno"> 9996</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l09997"></a><span class="lineno"> 9997</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a27cf7b0a48a767c21a2c6eb91713b243">ckmalloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a>));</div>
<div class="line"><a name="l09998"></a><span class="lineno"> 9998</span>&#160;        lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a701f0177878b53edc891373fba8cb558">text</a> = <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a>));</div>
<div class="line"><a name="l09999"></a><span class="lineno"> 9999</span>&#160;        <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l10000"></a><span class="lineno">10000</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10001"></a><span class="lineno">10001</span>&#160;        vpp = <a class="code" href="../../d1/dbe/ash_8c.html#a68288c0a522225be14fbc8a2a0c116ca">hashvar</a>(name);</div>
<div class="line"><a name="l10002"></a><span class="lineno">10002</span>&#160;        <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> = *<a class="code" href="../../d1/dbe/ash_8c.html#aea9aee2971fd75d7367c7d443983cbb3">findvar</a>(vpp, name);</div>
<div class="line"><a name="l10003"></a><span class="lineno">10003</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l10004"></a><span class="lineno">10004</span>&#160;            <span class="comment">/* variable did not exist yet */</span></div>
<div class="line"><a name="l10005"></a><span class="lineno">10005</span>&#160;            <span class="keywordflow">if</span> (eq)</div>
<div class="line"><a name="l10006"></a><span class="lineno">10006</span>&#160;                <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ad585c124f797c55d024253708395b6b2">setvareq</a>(name, <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a> | <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l10007"></a><span class="lineno">10007</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l10008"></a><span class="lineno">10008</span>&#160;                <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393">setvar</a>(name, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a> | <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l10009"></a><span class="lineno">10009</span>&#160;            lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8284fd45ff2cf13c589888a5308bbf21">flags</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>;</div>
<div class="line"><a name="l10010"></a><span class="lineno">10010</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10011"></a><span class="lineno">10011</span>&#160;            lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a701f0177878b53edc891373fba8cb558">text</a> = <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;var_text;</div>
<div class="line"><a name="l10012"></a><span class="lineno">10012</span>&#160;            lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8284fd45ff2cf13c589888a5308bbf21">flags</a> = <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags;</div>
<div class="line"><a name="l10013"></a><span class="lineno">10013</span>&#160;            <span class="comment">/* make sure neither &quot;struct var&quot; nor string gets freed</span></div>
<div class="line"><a name="l10014"></a><span class="lineno">10014</span>&#160;<span class="comment">             * during (un)setting:</span></div>
<div class="line"><a name="l10015"></a><span class="lineno">10015</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l10016"></a><span class="lineno">10016</span>&#160;            <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags |= <a class="code" href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>;</div>
<div class="line"><a name="l10017"></a><span class="lineno">10017</span>&#160;            <span class="keywordflow">if</span> (eq)</div>
<div class="line"><a name="l10018"></a><span class="lineno">10018</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ad585c124f797c55d024253708395b6b2">setvareq</a>(name, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l10019"></a><span class="lineno">10019</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l10020"></a><span class="lineno">10020</span>&#160;                <span class="comment">/* &quot;local VAR&quot; unsets VAR: */</span></div>
<div class="line"><a name="l10021"></a><span class="lineno">10021</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#affc1ad23277bd6ac90ab21c8f4501307">unsetvar</a>(name);</div>
<div class="line"><a name="l10022"></a><span class="lineno">10022</span>&#160;        }</div>
<div class="line"><a name="l10023"></a><span class="lineno">10023</span>&#160;    }</div>
<div class="line"><a name="l10024"></a><span class="lineno">10024</span>&#160;    lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2f220ce05bde1a77bb1ec86cd9de3d1f">vp</a> = <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>;</div>
<div class="line"><a name="l10025"></a><span class="lineno">10025</span>&#160;    lvp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a81883e60f2d78f6929666fd00eea9ab2">next</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af50fa8c9e19e13a35fec130fc6883faf">localvar_stack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a636df6ab6a7674f64203a3b3f7f657c7">lv</a>;</div>
<div class="line"><a name="l10026"></a><span class="lineno">10026</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af50fa8c9e19e13a35fec130fc6883faf">localvar_stack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a636df6ab6a7674f64203a3b3f7f657c7">lv</a> = lvp;</div>
<div class="line"><a name="l10027"></a><span class="lineno">10027</span>&#160; ret:</div>
<div class="line"><a name="l10028"></a><span class="lineno">10028</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l10029"></a><span class="lineno">10029</span>&#160;}</div>
<div class="line"><a name="l10030"></a><span class="lineno">10030</span>&#160; </div>
<div class="line"><a name="l10031"></a><span class="lineno">10031</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l10032"></a><span class="lineno">10032</span>&#160;<span class="comment"> * The &quot;local&quot; command.</span></div>
<div class="line"><a name="l10033"></a><span class="lineno">10033</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l10034"></a><span class="lineno">10034</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l10035"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8cddc53f30f45af7622e7c86dea69d98">10035</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8cddc53f30f45af7622e7c86dea69d98">localcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l10036"></a><span class="lineno">10036</span>&#160;{</div>
<div class="line"><a name="l10037"></a><span class="lineno">10037</span>&#160;    <span class="keywordtype">char</span> *name;</div>
<div class="line"><a name="l10038"></a><span class="lineno">10038</span>&#160; </div>
<div class="line"><a name="l10039"></a><span class="lineno">10039</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#af50fa8c9e19e13a35fec130fc6883faf">localvar_stack</a>)</div>
<div class="line"><a name="l10040"></a><span class="lineno">10040</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;not in a function&quot;</span>);</div>
<div class="line"><a name="l10041"></a><span class="lineno">10041</span>&#160; </div>
<div class="line"><a name="l10042"></a><span class="lineno">10042</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l10043"></a><span class="lineno">10043</span>&#160;    <span class="keywordflow">while</span> ((name = *<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>++) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l10044"></a><span class="lineno">10044</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a04648c6665c64cc239aeddcf3e1b03e2">mklocal</a>(name, 0);</div>
<div class="line"><a name="l10045"></a><span class="lineno">10045</span>&#160;    }</div>
<div class="line"><a name="l10046"></a><span class="lineno">10046</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l10047"></a><span class="lineno">10047</span>&#160;}</div>
<div class="line"><a name="l10048"></a><span class="lineno">10048</span>&#160; </div>
<div class="line"><a name="l10049"></a><span class="lineno">10049</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l10050"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a465752d4373fafedc10b585d2e469352">10050</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a465752d4373fafedc10b585d2e469352">falsecmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l10051"></a><span class="lineno">10051</span>&#160;{</div>
<div class="line"><a name="l10052"></a><span class="lineno">10052</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l10053"></a><span class="lineno">10053</span>&#160;}</div>
<div class="line"><a name="l10054"></a><span class="lineno">10054</span>&#160; </div>
<div class="line"><a name="l10055"></a><span class="lineno">10055</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l10056"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a20cb2da173c63e7ebf073b582ea0aaa3">10056</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a20cb2da173c63e7ebf073b582ea0aaa3">truecmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l10057"></a><span class="lineno">10057</span>&#160;{</div>
<div class="line"><a name="l10058"></a><span class="lineno">10058</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l10059"></a><span class="lineno">10059</span>&#160;}</div>
<div class="line"><a name="l10060"></a><span class="lineno">10060</span>&#160; </div>
<div class="line"><a name="l10061"></a><span class="lineno">10061</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l10062"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9c9fef7b74fcae9dd30e209768ac216d">10062</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a9c9fef7b74fcae9dd30e209768ac216d">execcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l10063"></a><span class="lineno">10063</span>&#160;{</div>
<div class="line"><a name="l10064"></a><span class="lineno">10064</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae0b6ad4393bb233245f037fe5de5626b">optionarg</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l10065"></a><span class="lineno">10065</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<span class="stringliteral">&quot;a:&quot;</span>) != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l10066"></a><span class="lineno">10066</span>&#160;        <span class="comment">/* nextopt() sets optionarg to &quot;-a ARGV0&quot; */</span>;</div>
<div class="line"><a name="l10067"></a><span class="lineno">10067</span>&#160; </div>
<div class="line"><a name="l10068"></a><span class="lineno">10068</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l10069"></a><span class="lineno">10069</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0]) {</div>
<div class="line"><a name="l10070"></a><span class="lineno">10070</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../d2/d2a/finfo_8c.html#acc6113e98e7cd24d9dcfa520749a5d3f">prog</a>;</div>
<div class="line"><a name="l10071"></a><span class="lineno">10071</span>&#160; </div>
<div class="line"><a name="l10072"></a><span class="lineno">10072</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a> = 0;              <span class="comment">/* exit on error */</span></div>
<div class="line"><a name="l10073"></a><span class="lineno">10073</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a39163771f358bdc0ef85126a2014d86d">mflag</a> = 0;</div>
<div class="line"><a name="l10074"></a><span class="lineno">10074</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8be6f6bcc7c0b48114ca32fa3c0e467b">optschanged</a>();</div>
<div class="line"><a name="l10075"></a><span class="lineno">10075</span>&#160;        <span class="comment">/* We should set up signals for &quot;exec CMD&quot;</span></div>
<div class="line"><a name="l10076"></a><span class="lineno">10076</span>&#160;<span class="comment">         * the same way as for &quot;CMD&quot; without &quot;exec&quot;.</span></div>
<div class="line"><a name="l10077"></a><span class="lineno">10077</span>&#160;<span class="comment">         * But optschanged-&gt;setinteractive-&gt;setsignal</span></div>
<div class="line"><a name="l10078"></a><span class="lineno">10078</span>&#160;<span class="comment">         * still thought we are a root shell. Therefore, for example,</span></div>
<div class="line"><a name="l10079"></a><span class="lineno">10079</span>&#160;<span class="comment">         * SIGQUIT is still set to IGN. Fix it:</span></div>
<div class="line"><a name="l10080"></a><span class="lineno">10080</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l10081"></a><span class="lineno">10081</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a131814c03a6cf6bd9af0079dd727ae8f">shlvl</a>++;</div>
<div class="line"><a name="l10082"></a><span class="lineno">10082</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a62045b465be11891160d53c10861b16c">SIGQUIT</a>);</div>
<div class="line"><a name="l10083"></a><span class="lineno">10083</span>&#160;        <span class="comment">/*setsignal(SIGTERM); - unnecessary because of iflag=0 */</span></div>
<div class="line"><a name="l10084"></a><span class="lineno">10084</span>&#160;        <span class="comment">/*setsignal(SIGTSTP); - unnecessary because of mflag=0 */</span></div>
<div class="line"><a name="l10085"></a><span class="lineno">10085</span>&#160;        <span class="comment">/*setsignal(SIGTTOU); - unnecessary because of mflag=0 */</span></div>
<div class="line"><a name="l10086"></a><span class="lineno">10086</span>&#160; </div>
<div class="line"><a name="l10087"></a><span class="lineno">10087</span>&#160;        <a class="code" href="../../d2/d2a/finfo_8c.html#acc6113e98e7cd24d9dcfa520749a5d3f">prog</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0];</div>
<div class="line"><a name="l10088"></a><span class="lineno">10088</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ae0b6ad4393bb233245f037fe5de5626b">optionarg</a>)</div>
<div class="line"><a name="l10089"></a><span class="lineno">10089</span>&#160;            <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0] = <a class="code" href="../../d1/dbe/ash_8c.html#ae0b6ad4393bb233245f037fe5de5626b">optionarg</a>;</div>
<div class="line"><a name="l10090"></a><span class="lineno">10090</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a2d2ea4bca9799d131118b6942822266b">shellexec</a>(<a class="code" href="../../d2/d2a/finfo_8c.html#acc6113e98e7cd24d9dcfa520749a5d3f">prog</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a1a0f44024ffe6329c9c6cda41fd24d30">pathval</a>(), 0);</div>
<div class="line"><a name="l10091"></a><span class="lineno">10091</span>&#160;        <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l10092"></a><span class="lineno">10092</span>&#160;    }</div>
<div class="line"><a name="l10093"></a><span class="lineno">10093</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l10094"></a><span class="lineno">10094</span>&#160;}</div>
<div class="line"><a name="l10095"></a><span class="lineno">10095</span>&#160; </div>
<div class="line"><a name="l10096"></a><span class="lineno">10096</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l10097"></a><span class="lineno">10097</span>&#160;<span class="comment"> * The return command.</span></div>
<div class="line"><a name="l10098"></a><span class="lineno">10098</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l10099"></a><span class="lineno">10099</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l10100"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afeb00f189184e3e8a43c99bc278e53d1">10100</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#afeb00f189184e3e8a43c99bc278e53d1">returncmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l10101"></a><span class="lineno">10101</span>&#160;{</div>
<div class="line"><a name="l10102"></a><span class="lineno">10102</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a>;</div>
<div class="line"><a name="l10103"></a><span class="lineno">10103</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l10104"></a><span class="lineno">10104</span>&#160; </div>
<div class="line"><a name="l10105"></a><span class="lineno">10105</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l10106"></a><span class="lineno">10106</span>&#160;<span class="comment">     * If called outside a function, do what ksh does;</span></div>
<div class="line"><a name="l10107"></a><span class="lineno">10107</span>&#160;<span class="comment">     * skip the rest of the file.</span></div>
<div class="line"><a name="l10108"></a><span class="lineno">10108</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l10109"></a><span class="lineno">10109</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1]) {</div>
<div class="line"><a name="l10110"></a><span class="lineno">10110</span>&#160;        <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a> = <a class="code" href="../../d1/dbe/ash_8c.html#acbcb73299ee8abbd13ae00cb596546e0">SKIPFUNC</a>;</div>
<div class="line"><a name="l10111"></a><span class="lineno">10111</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae52ce7002a05790c0eb9b44163ddf3f0">number</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1]);</div>
<div class="line"><a name="l10112"></a><span class="lineno">10112</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10113"></a><span class="lineno">10113</span>&#160;        <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aadb3db0d739f2d387e4aad4e9b91c0d0">SKIPFUNCDEF</a>;</div>
<div class="line"><a name="l10114"></a><span class="lineno">10114</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a>;</div>
<div class="line"><a name="l10115"></a><span class="lineno">10115</span>&#160;    }</div>
<div class="line"><a name="l10116"></a><span class="lineno">10116</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a> = <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a>;</div>
<div class="line"><a name="l10117"></a><span class="lineno">10117</span>&#160; </div>
<div class="line"><a name="l10118"></a><span class="lineno">10118</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l10119"></a><span class="lineno">10119</span>&#160;}</div>
<div class="line"><a name="l10120"></a><span class="lineno">10120</span>&#160; </div>
<div class="line"><a name="l10121"></a><span class="lineno">10121</span>&#160;<span class="comment">/* Forward declarations for builtintab[] */</span></div>
<div class="line"><a name="l10122"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a201baf44a060ba0b00e145a73d0572a8">10122</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a201baf44a060ba0b00e145a73d0572a8">breakcmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10123"></a><span class="lineno">10123</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a35bc68e499612bdb64aa63909575d5ce">dotcmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10124"></a><span class="lineno">10124</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0f026e10c3becb51cf84ac858cda803e">evalcmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **, <span class="keywordtype">int</span>) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10125"></a><span class="lineno">10125</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4c2f587864d9f4fdb200ad894c7a6f4f">exitcmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10126"></a><span class="lineno">10126</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a16cf6b5060a408f419474fa2026029c9">exportcmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10127"></a><span class="lineno">10127</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l10128"></a><span class="lineno">10128</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> getoptscmd(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10129"></a><span class="lineno">10129</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10130"></a><span class="lineno">10130</span>&#160;<span class="preprocessor">#if ENABLE_ASH_HELP</span></div>
<div class="line"><a name="l10131"></a><span class="lineno">10131</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> helpcmd(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10132"></a><span class="lineno">10132</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10133"></a><span class="lineno">10133</span>&#160;<span class="preprocessor">#if MAX_HISTORY</span></div>
<div class="line"><a name="l10134"></a><span class="lineno">10134</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> historycmd(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10135"></a><span class="lineno">10135</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10136"></a><span class="lineno">10136</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l10137"></a><span class="lineno">10137</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> letcmd(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10138"></a><span class="lineno">10138</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10139"></a><span class="lineno">10139</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7b65457df68cce7e22542ee9b220b283">readcmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10140"></a><span class="lineno">10140</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa4aea9fbb60a019774cc36e0fad66751">setcmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10141"></a><span class="lineno">10141</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8dd823babff5901e06145c1d7ca28301">shiftcmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10142"></a><span class="lineno">10142</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac46efcb1c6434a7041104a6077400e9f">timescmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10143"></a><span class="lineno">10143</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a198fa801419ee8c4ae27b1434b7e7aff">trapcmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10144"></a><span class="lineno">10144</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8bc35a58154cb7cd938bcc152893c68f">umaskcmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10145"></a><span class="lineno">10145</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ada4eae9bac11f48b16aaaeafb282be2b">unsetcmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10146"></a><span class="lineno">10146</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac55e5ac415d351c4ff6606d8fb7c23fe">ulimitcmd</a>(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> **) <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>;</div>
<div class="line"><a name="l10147"></a><span class="lineno">10147</span>&#160; </div>
<div class="line"><a name="l10148"></a><span class="lineno">10148</span>&#160;<span class="preprocessor">#define BUILTIN_NOSPEC          &quot;0&quot;</span></div>
<div class="line"><a name="l10149"></a><span class="lineno">10149</span>&#160;<span class="preprocessor">#define BUILTIN_SPECIAL         &quot;1&quot;</span></div>
<div class="line"><a name="l10150"></a><span class="lineno">10150</span>&#160;<span class="preprocessor">#define BUILTIN_REGULAR         &quot;2&quot;</span></div>
<div class="line"><a name="l10151"></a><span class="lineno">10151</span>&#160;<span class="preprocessor">#define BUILTIN_SPEC_REG        &quot;3&quot;</span></div>
<div class="line"><a name="l10152"></a><span class="lineno">10152</span>&#160;<span class="preprocessor">#define BUILTIN_ASSIGN          &quot;4&quot;</span></div>
<div class="line"><a name="l10153"></a><span class="lineno">10153</span>&#160;<span class="preprocessor">#define BUILTIN_SPEC_ASSG       &quot;5&quot;</span></div>
<div class="line"><a name="l10154"></a><span class="lineno">10154</span>&#160;<span class="preprocessor">#define BUILTIN_REG_ASSG        &quot;6&quot;</span></div>
<div class="line"><a name="l10155"></a><span class="lineno">10155</span>&#160;<span class="preprocessor">#define BUILTIN_SPEC_REG_ASSG   &quot;7&quot;</span></div>
<div class="line"><a name="l10156"></a><span class="lineno">10156</span>&#160; </div>
<div class="line"><a name="l10157"></a><span class="lineno">10157</span>&#160;<span class="comment">/* Stubs for calling non-FAST_FUNC&#39;s */</span></div>
<div class="line"><a name="l10158"></a><span class="lineno">10158</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ECHO</span></div>
<div class="line"><a name="l10159"></a><span class="lineno">10159</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a> echocmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)   { <span class="keywordflow">return</span> <a class="code" href="../../d7/d33/busybox_2coreutils_2echo_8c.html#af09b6237a4ac954c881ae3a1b8c3b222">echo_main</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>); }</div>
<div class="line"><a name="l10160"></a><span class="lineno">10160</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10161"></a><span class="lineno">10161</span>&#160;<span class="preprocessor">#if ENABLE_ASH_PRINTF</span></div>
<div class="line"><a name="l10162"></a><span class="lineno">10162</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a> printfcmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>) { <span class="keywordflow">return</span> <a class="code" href="../../d4/d53/Userspace_2apps_2base_2busybox_2coreutils_2printf_8c.html#a6d0e1a4ee3f5bb60b2cca20db6513e49">printf_main</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>); }</div>
<div class="line"><a name="l10163"></a><span class="lineno">10163</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10164"></a><span class="lineno">10164</span>&#160;<span class="preprocessor">#if ENABLE_ASH_TEST || BASH_TEST2</span></div>
<div class="line"><a name="l10165"></a><span class="lineno">10165</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a> testcmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)   { <span class="keywordflow">return</span> <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a864743be868901a372abae742cab5e89">test_main</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>); }</div>
<div class="line"><a name="l10166"></a><span class="lineno">10166</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10167"></a><span class="lineno">10167</span>&#160;<span class="preprocessor">#if ENABLE_ASH_SLEEP</span></div>
<div class="line"><a name="l10168"></a><span class="lineno">10168</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a> sleepcmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)  { <span class="keywordflow">return</span> <a class="code" href="../../d5/d21/apps_2base_2busybox_2coreutils_2sleep_8c.html#a2e881fc71b755df3b2bf2802858a3012">sleep_main</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>); }</div>
<div class="line"><a name="l10169"></a><span class="lineno">10169</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10170"></a><span class="lineno">10170</span>&#160; </div>
<div class="line"><a name="l10171"></a><span class="lineno">10171</span>&#160;<span class="comment">/* Keep these in proper order since it is searched via bsearch() */</span></div>
<div class="line"><a name="l10172"></a><span class="lineno">10172</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d6/d85/structbuiltincmd">builtincmd</a> builtintab[] = {</div>
<div class="line"><a name="l10173"></a><span class="lineno">10173</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;.&quot;</span>       , <a class="code" href="../../d1/dbe/ash_8c.html#a35bc68e499612bdb64aa63909575d5ce">dotcmd</a>     },</div>
<div class="line"><a name="l10174"></a><span class="lineno">10174</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;:&quot;</span>       , <a class="code" href="../../d1/dbe/ash_8c.html#a20cb2da173c63e7ebf073b582ea0aaa3">truecmd</a>    },</div>
<div class="line"><a name="l10175"></a><span class="lineno">10175</span>&#160;<span class="preprocessor">#if ENABLE_ASH_TEST</span></div>
<div class="line"><a name="l10176"></a><span class="lineno">10176</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;[&quot;</span>       , testcmd    },</div>
<div class="line"><a name="l10177"></a><span class="lineno">10177</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10178"></a><span class="lineno">10178</span>&#160;<span class="preprocessor">#if BASH_TEST2</span></div>
<div class="line"><a name="l10179"></a><span class="lineno">10179</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;[[&quot;</span>      , testcmd    },</div>
<div class="line"><a name="l10180"></a><span class="lineno">10180</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10181"></a><span class="lineno">10181</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l10182"></a><span class="lineno">10182</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a6510d5372ebec7dae40a15c8ae60892f">BUILTIN_REG_ASSG</a>      <span class="stringliteral">&quot;alias&quot;</span>   , aliascmd   },</div>
<div class="line"><a name="l10183"></a><span class="lineno">10183</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10184"></a><span class="lineno">10184</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l10185"></a><span class="lineno">10185</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;bg&quot;</span>      , fg_bgcmd   },</div>
<div class="line"><a name="l10186"></a><span class="lineno">10186</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10187"></a><span class="lineno">10187</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;break&quot;</span>   , <a class="code" href="../../d1/dbe/ash_8c.html#a201baf44a060ba0b00e145a73d0572a8">breakcmd</a>   },</div>
<div class="line"><a name="l10188"></a><span class="lineno">10188</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;cd&quot;</span>      , <a class="code" href="../../d1/dbe/ash_8c.html#a6e57db81112cabc28950fa04990c4da1">cdcmd</a>      },</div>
<div class="line"><a name="l10189"></a><span class="lineno">10189</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aab35c93b01f8d2c8f6dfc9f4a6df67cc">BUILTIN_NOSPEC</a>        <span class="stringliteral">&quot;chdir&quot;</span>   , <a class="code" href="../../d1/dbe/ash_8c.html#a6e57db81112cabc28950fa04990c4da1">cdcmd</a>      },</div>
<div class="line"><a name="l10190"></a><span class="lineno">10190</span>&#160;<span class="preprocessor">#if ENABLE_ASH_CMDCMD</span></div>
<div class="line"><a name="l10191"></a><span class="lineno">10191</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;command&quot;</span> , commandcmd },</div>
<div class="line"><a name="l10192"></a><span class="lineno">10192</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10193"></a><span class="lineno">10193</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;continue&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a201baf44a060ba0b00e145a73d0572a8">breakcmd</a>   },</div>
<div class="line"><a name="l10194"></a><span class="lineno">10194</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ECHO</span></div>
<div class="line"><a name="l10195"></a><span class="lineno">10195</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;echo&quot;</span>    , echocmd    },</div>
<div class="line"><a name="l10196"></a><span class="lineno">10196</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10197"></a><span class="lineno">10197</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;eval&quot;</span>    , <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>       }, <span class="comment">/*evalcmd() has a differing prototype*/</span></div>
<div class="line"><a name="l10198"></a><span class="lineno">10198</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;exec&quot;</span>    , <a class="code" href="../../d1/dbe/ash_8c.html#a9c9fef7b74fcae9dd30e209768ac216d">execcmd</a>    },</div>
<div class="line"><a name="l10199"></a><span class="lineno">10199</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;exit&quot;</span>    , <a class="code" href="../../d1/dbe/ash_8c.html#a4c2f587864d9f4fdb200ad894c7a6f4f">exitcmd</a>    },</div>
<div class="line"><a name="l10200"></a><span class="lineno">10200</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a59de60befd59e187927562b28f9a37b9">BUILTIN_SPEC_REG_ASSG</a> <span class="stringliteral">&quot;export&quot;</span>  , <a class="code" href="../../d1/dbe/ash_8c.html#a16cf6b5060a408f419474fa2026029c9">exportcmd</a>  },</div>
<div class="line"><a name="l10201"></a><span class="lineno">10201</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;false&quot;</span>   , <a class="code" href="../../d1/dbe/ash_8c.html#a465752d4373fafedc10b585d2e469352">falsecmd</a>   },</div>
<div class="line"><a name="l10202"></a><span class="lineno">10202</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l10203"></a><span class="lineno">10203</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;fg&quot;</span>      , fg_bgcmd   },</div>
<div class="line"><a name="l10204"></a><span class="lineno">10204</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10205"></a><span class="lineno">10205</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l10206"></a><span class="lineno">10206</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;getopts&quot;</span> , getoptscmd },</div>
<div class="line"><a name="l10207"></a><span class="lineno">10207</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10208"></a><span class="lineno">10208</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;hash&quot;</span>    , <a class="code" href="../../d1/dbe/ash_8c.html#a2490ca362c42ce166505f4527ef0f5c1">hashcmd</a>    },</div>
<div class="line"><a name="l10209"></a><span class="lineno">10209</span>&#160;<span class="preprocessor">#if ENABLE_ASH_HELP</span></div>
<div class="line"><a name="l10210"></a><span class="lineno">10210</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aab35c93b01f8d2c8f6dfc9f4a6df67cc">BUILTIN_NOSPEC</a>        <span class="stringliteral">&quot;help&quot;</span>    , helpcmd    },</div>
<div class="line"><a name="l10211"></a><span class="lineno">10211</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10212"></a><span class="lineno">10212</span>&#160;<span class="preprocessor">#if MAX_HISTORY</span></div>
<div class="line"><a name="l10213"></a><span class="lineno">10213</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aab35c93b01f8d2c8f6dfc9f4a6df67cc">BUILTIN_NOSPEC</a>        <span class="stringliteral">&quot;history&quot;</span> , historycmd },</div>
<div class="line"><a name="l10214"></a><span class="lineno">10214</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10215"></a><span class="lineno">10215</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l10216"></a><span class="lineno">10216</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;jobs&quot;</span>    , jobscmd    },</div>
<div class="line"><a name="l10217"></a><span class="lineno">10217</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;kill&quot;</span>    , killcmd    },</div>
<div class="line"><a name="l10218"></a><span class="lineno">10218</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10219"></a><span class="lineno">10219</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l10220"></a><span class="lineno">10220</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aab35c93b01f8d2c8f6dfc9f4a6df67cc">BUILTIN_NOSPEC</a>        <span class="stringliteral">&quot;let&quot;</span>     , letcmd     },</div>
<div class="line"><a name="l10221"></a><span class="lineno">10221</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10222"></a><span class="lineno">10222</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a59de60befd59e187927562b28f9a37b9">BUILTIN_SPEC_REG_ASSG</a> <span class="stringliteral">&quot;local&quot;</span>   , <a class="code" href="../../d1/dbe/ash_8c.html#a8cddc53f30f45af7622e7c86dea69d98">localcmd</a>   },</div>
<div class="line"><a name="l10223"></a><span class="lineno">10223</span>&#160;<span class="preprocessor">#if ENABLE_ASH_PRINTF</span></div>
<div class="line"><a name="l10224"></a><span class="lineno">10224</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;printf&quot;</span>  , printfcmd  },</div>
<div class="line"><a name="l10225"></a><span class="lineno">10225</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10226"></a><span class="lineno">10226</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;pwd&quot;</span>     , <a class="code" href="../../d1/dbe/ash_8c.html#a0b25476817aa85cb612325a58c29bdef">pwdcmd</a>     },</div>
<div class="line"><a name="l10227"></a><span class="lineno">10227</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;read&quot;</span>    , <a class="code" href="../../d1/dbe/ash_8c.html#a7b65457df68cce7e22542ee9b220b283">readcmd</a>    },</div>
<div class="line"><a name="l10228"></a><span class="lineno">10228</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a59de60befd59e187927562b28f9a37b9">BUILTIN_SPEC_REG_ASSG</a> <span class="stringliteral">&quot;readonly&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a16cf6b5060a408f419474fa2026029c9">exportcmd</a>  },</div>
<div class="line"><a name="l10229"></a><span class="lineno">10229</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;return&quot;</span>  , <a class="code" href="../../d1/dbe/ash_8c.html#afeb00f189184e3e8a43c99bc278e53d1">returncmd</a>  },</div>
<div class="line"><a name="l10230"></a><span class="lineno">10230</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;set&quot;</span>     , <a class="code" href="../../d1/dbe/ash_8c.html#aa4aea9fbb60a019774cc36e0fad66751">setcmd</a>     },</div>
<div class="line"><a name="l10231"></a><span class="lineno">10231</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;shift&quot;</span>   , <a class="code" href="../../d1/dbe/ash_8c.html#a8dd823babff5901e06145c1d7ca28301">shiftcmd</a>   },</div>
<div class="line"><a name="l10232"></a><span class="lineno">10232</span>&#160;<span class="preprocessor">#if ENABLE_ASH_SLEEP</span></div>
<div class="line"><a name="l10233"></a><span class="lineno">10233</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;sleep&quot;</span>   , sleepcmd   },</div>
<div class="line"><a name="l10234"></a><span class="lineno">10234</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10235"></a><span class="lineno">10235</span>&#160;<span class="preprocessor">#if BASH_SOURCE</span></div>
<div class="line"><a name="l10236"></a><span class="lineno">10236</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;source&quot;</span>  , <a class="code" href="../../d1/dbe/ash_8c.html#a35bc68e499612bdb64aa63909575d5ce">dotcmd</a>     },</div>
<div class="line"><a name="l10237"></a><span class="lineno">10237</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10238"></a><span class="lineno">10238</span>&#160;<span class="preprocessor">#if ENABLE_ASH_TEST</span></div>
<div class="line"><a name="l10239"></a><span class="lineno">10239</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;test&quot;</span>    , testcmd    },</div>
<div class="line"><a name="l10240"></a><span class="lineno">10240</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10241"></a><span class="lineno">10241</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;times&quot;</span>   , <a class="code" href="../../d1/dbe/ash_8c.html#ac46efcb1c6434a7041104a6077400e9f">timescmd</a>   },</div>
<div class="line"><a name="l10242"></a><span class="lineno">10242</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;trap&quot;</span>    , <a class="code" href="../../d1/dbe/ash_8c.html#a198fa801419ee8c4ae27b1434b7e7aff">trapcmd</a>    },</div>
<div class="line"><a name="l10243"></a><span class="lineno">10243</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;true&quot;</span>    , <a class="code" href="../../d1/dbe/ash_8c.html#a20cb2da173c63e7ebf073b582ea0aaa3">truecmd</a>    },</div>
<div class="line"><a name="l10244"></a><span class="lineno">10244</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;type&quot;</span>    , <a class="code" href="../../d1/dbe/ash_8c.html#a78d2cb92d65e163178b2d98ba088cff7">typecmd</a>    },</div>
<div class="line"><a name="l10245"></a><span class="lineno">10245</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;ulimit&quot;</span>  , <a class="code" href="../../d1/dbe/ash_8c.html#ac55e5ac415d351c4ff6606d8fb7c23fe">ulimitcmd</a>  },</div>
<div class="line"><a name="l10246"></a><span class="lineno">10246</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;umask&quot;</span>   , <a class="code" href="../../d1/dbe/ash_8c.html#a8bc35a58154cb7cd938bcc152893c68f">umaskcmd</a>   },</div>
<div class="line"><a name="l10247"></a><span class="lineno">10247</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l10248"></a><span class="lineno">10248</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;unalias&quot;</span> , unaliascmd },</div>
<div class="line"><a name="l10249"></a><span class="lineno">10249</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10250"></a><span class="lineno">10250</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a>      <span class="stringliteral">&quot;unset&quot;</span>   , <a class="code" href="../../d1/dbe/ash_8c.html#ada4eae9bac11f48b16aaaeafb282be2b">unsetcmd</a>   },</div>
<div class="line"><a name="l10251"></a><span class="lineno">10251</span>&#160;    { <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a>       <span class="stringliteral">&quot;wait&quot;</span>    , <a class="code" href="../../d1/dbe/ash_8c.html#ac8d7ff169346fcdc995ebf2991371107">waitcmd</a>    },</div>
<div class="line"><a name="l10252"></a><span class="lineno">10252</span>&#160;};</div>
<div class="line"><a name="l10253"></a><span class="lineno">10253</span>&#160; </div>
<div class="line"><a name="l10254"></a><span class="lineno">10254</span>&#160;<span class="comment">/* Should match the above table! */</span></div>
<div class="line"><a name="l10255"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3e8c4aebb9db9eeb679cf02f2a552145">10255</a></span>&#160;<span class="preprocessor">#define COMMANDCMD (builtintab + \</span></div>
<div class="line"><a name="l10256"></a><span class="lineno">10256</span>&#160;<span class="preprocessor">    </span><span class="comment">/* . : */</span><span class="preprocessor">   2 + \</span></div>
<div class="line"><a name="l10257"></a><span class="lineno">10257</span>&#160;<span class="preprocessor">    </span><span class="comment">/* [ */</span><span class="preprocessor">     1 * ENABLE_ASH_TEST + \</span></div>
<div class="line"><a name="l10258"></a><span class="lineno">10258</span>&#160;<span class="preprocessor">    </span><span class="comment">/* [[ */</span><span class="preprocessor">    1 * BASH_TEST2 + \</span></div>
<div class="line"><a name="l10259"></a><span class="lineno">10259</span>&#160;<span class="preprocessor">    </span><span class="comment">/* alias */</span><span class="preprocessor"> 1 * ENABLE_ASH_ALIAS + \</span></div>
<div class="line"><a name="l10260"></a><span class="lineno">10260</span>&#160;<span class="preprocessor">    </span><span class="comment">/* bg */</span><span class="preprocessor">    1 * ENABLE_ASH_JOB_CONTROL + \</span></div>
<div class="line"><a name="l10261"></a><span class="lineno">10261</span>&#160;<span class="preprocessor">    </span><span class="comment">/* break cd cddir  */</span><span class="preprocessor">   3)</span></div>
<div class="line"><a name="l10262"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a34609c6c3e5bcbc446a6926fb53fd3bd">10262</a></span>&#160;<span class="preprocessor">#define EVALCMD (COMMANDCMD + \</span></div>
<div class="line"><a name="l10263"></a><span class="lineno">10263</span>&#160;<span class="preprocessor">    </span><span class="comment">/* command */</span><span class="preprocessor">   1 * ENABLE_ASH_CMDCMD + \</span></div>
<div class="line"><a name="l10264"></a><span class="lineno">10264</span>&#160;<span class="preprocessor">    </span><span class="comment">/* continue */</span><span class="preprocessor">  1 + \</span></div>
<div class="line"><a name="l10265"></a><span class="lineno">10265</span>&#160;<span class="preprocessor">    </span><span class="comment">/* echo */</span><span class="preprocessor">  1 * ENABLE_ASH_ECHO + \</span></div>
<div class="line"><a name="l10266"></a><span class="lineno">10266</span>&#160;<span class="preprocessor">    0)</span></div>
<div class="line"><a name="l10267"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab38d9a91814ca72cd5ed3d4ba1305a00">10267</a></span>&#160;<span class="preprocessor">#define EXECCMD (EVALCMD + \</span></div>
<div class="line"><a name="l10268"></a><span class="lineno">10268</span>&#160;<span class="preprocessor">    </span><span class="comment">/* eval */</span><span class="preprocessor">  1)</span></div>
<div class="line"><a name="l10269"></a><span class="lineno">10269</span>&#160; </div>
<div class="line"><a name="l10270"></a><span class="lineno">10270</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l10271"></a><span class="lineno">10271</span>&#160;<span class="comment"> * Search the table of builtin commands.</span></div>
<div class="line"><a name="l10272"></a><span class="lineno">10272</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l10273"></a><span class="lineno">10273</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l10274"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9e8bc96a174b117a721d1d7f61bd77ba">10274</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a9e8bc96a174b117a721d1d7f61bd77ba">pstrcmp1</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *a, <span class="keyword">const</span> <span class="keywordtype">void</span> *b)</div>
<div class="line"><a name="l10275"></a><span class="lineno">10275</span>&#160;{</div>
<div class="line"><a name="l10276"></a><span class="lineno">10276</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>((<span class="keywordtype">char</span>*)a, *(<span class="keywordtype">char</span>**)b + 1);</div>
<div class="line"><a name="l10277"></a><span class="lineno">10277</span>&#160;}</div>
<div class="line"><a name="l10278"></a><span class="lineno">10278</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d6/d85/structbuiltincmd">builtincmd</a> *</div>
<div class="line"><a name="l10279"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4ce675a4e223cdc1e9eba4484275ef40">10279</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a4ce675a4e223cdc1e9eba4484275ef40">find_builtin</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>)</div>
<div class="line"><a name="l10280"></a><span class="lineno">10280</span>&#160;{</div>
<div class="line"><a name="l10281"></a><span class="lineno">10281</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d6/d85/structbuiltincmd">builtincmd</a> *<a class="code" href="../../d6/d23/wi__stuff_8c.html#add9c8a7eca9ed0c51c315ff7a4daf06f">bp</a>;</div>
<div class="line"><a name="l10282"></a><span class="lineno">10282</span>&#160; </div>
<div class="line"><a name="l10283"></a><span class="lineno">10283</span>&#160;    <a class="code" href="../../d6/d23/wi__stuff_8c.html#add9c8a7eca9ed0c51c315ff7a4daf06f">bp</a> = <a class="code" href="../../d1/d7a/Userspace_2musl_2include_2stdlib_8h.html#a49a76993c8406bc5a389dfabb8089bd1">bsearch</a>(</div>
<div class="line"><a name="l10284"></a><span class="lineno">10284</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>, builtintab, <a class="code" href="../../dd/d7f/applet__tables_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(builtintab), <span class="keyword">sizeof</span>(builtintab[0]),</div>
<div class="line"><a name="l10285"></a><span class="lineno">10285</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a9e8bc96a174b117a721d1d7f61bd77ba">pstrcmp1</a></div>
<div class="line"><a name="l10286"></a><span class="lineno">10286</span>&#160;    );</div>
<div class="line"><a name="l10287"></a><span class="lineno">10287</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#add9c8a7eca9ed0c51c315ff7a4daf06f">bp</a>;</div>
<div class="line"><a name="l10288"></a><span class="lineno">10288</span>&#160;}</div>
<div class="line"><a name="l10289"></a><span class="lineno">10289</span>&#160; </div>
<div class="line"><a name="l10290"></a><span class="lineno">10290</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_TAB_COMPLETION</span></div>
<div class="line"><a name="l10291"></a><span class="lineno">10291</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l10292"></a><span class="lineno">10292</span>&#160;get_builtin_name(<span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>)</div>
<div class="line"><a name="l10293"></a><span class="lineno">10293</span>&#160;{</div>
<div class="line"><a name="l10294"></a><span class="lineno">10294</span>&#160;    <span class="keywordflow">return</span> <span class="comment">/*i &gt;= 0 &amp;&amp;*/</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../dd/d7f/applet__tables_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(builtintab) ? builtintab[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a> + 1 : <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l10295"></a><span class="lineno">10295</span>&#160;}</div>
<div class="line"><a name="l10296"></a><span class="lineno">10296</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10297"></a><span class="lineno">10297</span>&#160; </div>
<div class="line"><a name="l10298"></a><span class="lineno">10298</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l10299"></a><span class="lineno">10299</span>&#160;<span class="comment"> * Execute a simple command.</span></div>
<div class="line"><a name="l10300"></a><span class="lineno">10300</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l10301"></a><span class="lineno">10301</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a2b008c5d9ff0b559e1ce662dba222d65">unwindfiles</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a> *<a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>);</div>
<div class="line"><a name="l10302"></a><span class="lineno">10302</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l10303"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7edf4b5bebe2fc78aaea7372429dd54a">10303</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a7edf4b5bebe2fc78aaea7372429dd54a">isassignment</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l10304"></a><span class="lineno">10304</span>&#160;{</div>
<div class="line"><a name="l10305"></a><span class="lineno">10305</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *q = <a class="code" href="../../d7/dd7/libbb_8h.html#a427068bf1a37249b0a95ed1a4bebe70d">endofname</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l10306"></a><span class="lineno">10306</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == q)</div>
<div class="line"><a name="l10307"></a><span class="lineno">10307</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l10308"></a><span class="lineno">10308</span>&#160;    <span class="keywordflow">return</span> *q == <span class="charliteral">&#39;=&#39;</span>;</div>
<div class="line"><a name="l10309"></a><span class="lineno">10309</span>&#160;}</div>
<div class="line"><a name="l10310"></a><span class="lineno">10310</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l10311"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a809e2e2e7d98d5be08fd3f92374b6ce0">10311</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a809e2e2e7d98d5be08fd3f92374b6ce0">bltincmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l10312"></a><span class="lineno">10312</span>&#160;{</div>
<div class="line"><a name="l10313"></a><span class="lineno">10313</span>&#160;    <span class="comment">/* Preserve exitstatus of a previous possible redirection</span></div>
<div class="line"><a name="l10314"></a><span class="lineno">10314</span>&#160;<span class="comment">     * as POSIX mandates */</span></div>
<div class="line"><a name="l10315"></a><span class="lineno">10315</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a85b0c2c7bb17ace3eb703124163e2c9d">back_exitstatus</a>;</div>
<div class="line"><a name="l10316"></a><span class="lineno">10316</span>&#160;}</div>
<div class="line"><a name="l10317"></a><span class="lineno">10317</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l10318"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a08deef048520e0c745b9a0586754ff8c">10318</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a08deef048520e0c745b9a0586754ff8c">evalcommand</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l10319"></a><span class="lineno">10319</span>&#160;{</div>
<div class="line"><a name="l10320"></a><span class="lineno">10320</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d6/d85/structbuiltincmd">builtincmd</a> null_bltin = {</div>
<div class="line"><a name="l10321"></a><span class="lineno">10321</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a> <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a809e2e2e7d98d5be08fd3f92374b6ce0">bltincmd</a></div>
<div class="line"><a name="l10322"></a><span class="lineno">10322</span>&#160;    };</div>
<div class="line"><a name="l10323"></a><span class="lineno">10323</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/dac/structlocalvar__list">localvar_list</a> *localvar_stop;</div>
<div class="line"><a name="l10324"></a><span class="lineno">10324</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a> *file_stop;</div>
<div class="line"><a name="l10325"></a><span class="lineno">10325</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a> *redir_stop;</div>
<div class="line"><a name="l10326"></a><span class="lineno">10326</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *argp;</div>
<div class="line"><a name="l10327"></a><span class="lineno">10327</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>;</div>
<div class="line"><a name="l10328"></a><span class="lineno">10328</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a> varlist;</div>
<div class="line"><a name="l10329"></a><span class="lineno">10329</span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>;</div>
<div class="line"><a name="l10330"></a><span class="lineno">10330</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>;</div>
<div class="line"><a name="l10331"></a><span class="lineno">10331</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *osp;</div>
<div class="line"><a name="l10332"></a><span class="lineno">10332</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l10333"></a><span class="lineno">10333</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a> <a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>;</div>
<div class="line"><a name="l10334"></a><span class="lineno">10334</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a> *jp;</div>
<div class="line"><a name="l10335"></a><span class="lineno">10335</span>&#160;    <span class="keywordtype">char</span> *lastarg;</div>
<div class="line"><a name="l10336"></a><span class="lineno">10336</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *path;</div>
<div class="line"><a name="l10337"></a><span class="lineno">10337</span>&#160;    <span class="keywordtype">int</span> spclbltin;</div>
<div class="line"><a name="l10338"></a><span class="lineno">10338</span>&#160;    <span class="keywordtype">int</span> cmd_flag;</div>
<div class="line"><a name="l10339"></a><span class="lineno">10339</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l10340"></a><span class="lineno">10340</span>&#160;    <span class="keywordtype">char</span> **nargv;</div>
<div class="line"><a name="l10341"></a><span class="lineno">10341</span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> cmd_is_exec;</div>
<div class="line"><a name="l10342"></a><span class="lineno">10342</span>&#160;    <span class="keywordtype">int</span> vflags;</div>
<div class="line"><a name="l10343"></a><span class="lineno">10343</span>&#160;    <span class="keywordtype">int</span> vlocal;</div>
<div class="line"><a name="l10344"></a><span class="lineno">10344</span>&#160; </div>
<div class="line"><a name="l10345"></a><span class="lineno">10345</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae722c93936e1e5aae33466c078f99c71">errlinno</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a> = <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;ncmd.linno;</div>
<div class="line"><a name="l10346"></a><span class="lineno">10346</span>&#160; </div>
<div class="line"><a name="l10347"></a><span class="lineno">10347</span>&#160;    <span class="comment">/* First expand the arguments. */</span></div>
<div class="line"><a name="l10348"></a><span class="lineno">10348</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;evalcommand(0x%lx, %d) called\n&quot;</span>, (<span class="keywordtype">long</span>)<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>));</div>
<div class="line"><a name="l10349"></a><span class="lineno">10349</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l10350"></a><span class="lineno">10350</span>&#160;    redir_stop = <a class="code" href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0">redirlist</a>;</div>
<div class="line"><a name="l10351"></a><span class="lineno">10351</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10352"></a><span class="lineno">10352</span>&#160;    file_stop = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>;</div>
<div class="line"><a name="l10353"></a><span class="lineno">10353</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a85b0c2c7bb17ace3eb703124163e2c9d">back_exitstatus</a> = 0;</div>
<div class="line"><a name="l10354"></a><span class="lineno">10354</span>&#160; </div>
<div class="line"><a name="l10355"></a><span class="lineno">10355</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a0f4ca960e4fe1b8e9d75f91d292b97f5">cmdtype</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a>;</div>
<div class="line"><a name="l10356"></a><span class="lineno">10356</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e">u</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac7a553a0c84498df205ce31d16c1e311">cmd</a> = &amp;null_bltin;</div>
<div class="line"><a name="l10357"></a><span class="lineno">10357</span>&#160;    varlist.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;varlist.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>;</div>
<div class="line"><a name="l10358"></a><span class="lineno">10358</span>&#160;    *varlist.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l10359"></a><span class="lineno">10359</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>;</div>
<div class="line"><a name="l10360"></a><span class="lineno">10360</span>&#160;    *<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l10361"></a><span class="lineno">10361</span>&#160; </div>
<div class="line"><a name="l10362"></a><span class="lineno">10362</span>&#160;    cmd_flag = 0;</div>
<div class="line"><a name="l10363"></a><span class="lineno">10363</span>&#160;    cmd_is_exec = 0;</div>
<div class="line"><a name="l10364"></a><span class="lineno">10364</span>&#160;    spclbltin = -1;</div>
<div class="line"><a name="l10365"></a><span class="lineno">10365</span>&#160;    vflags = 0;</div>
<div class="line"><a name="l10366"></a><span class="lineno">10366</span>&#160;    vlocal = 0;</div>
<div class="line"><a name="l10367"></a><span class="lineno">10367</span>&#160;    path = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l10368"></a><span class="lineno">10368</span>&#160; </div>
<div class="line"><a name="l10369"></a><span class="lineno">10369</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> = 0;</div>
<div class="line"><a name="l10370"></a><span class="lineno">10370</span>&#160;    argp = <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;ncmd.args;</div>
<div class="line"><a name="l10371"></a><span class="lineno">10371</span>&#160;    osp = <a class="code" href="../../d1/dbe/ash_8c.html#a26e717afbeac9c5e02a973f069576e62">fill_arglist</a>(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>, &amp;argp);</div>
<div class="line"><a name="l10372"></a><span class="lineno">10372</span>&#160;    <span class="keywordflow">if</span> (osp) {</div>
<div class="line"><a name="l10373"></a><span class="lineno">10373</span>&#160;        <span class="keywordtype">int</span> pseudovarflag = 0;</div>
<div class="line"><a name="l10374"></a><span class="lineno">10374</span>&#160; </div>
<div class="line"><a name="l10375"></a><span class="lineno">10375</span>&#160;        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l10376"></a><span class="lineno">10376</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#aa23d345708cf24e69c6cc4533ff0e8f9">find_command</a>(<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">text</a>, &amp;<a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>,</div>
<div class="line"><a name="l10377"></a><span class="lineno">10377</span>&#160;                    cmd_flag | <a class="code" href="../../d1/dbe/ash_8c.html#a3da9bf738c7a02904703b3c1a81f0f77">DO_REGBLTIN</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a1a0f44024ffe6329c9c6cda41fd24d30">pathval</a>());</div>
<div class="line"><a name="l10378"></a><span class="lineno">10378</span>&#160; </div>
<div class="line"><a name="l10379"></a><span class="lineno">10379</span>&#160;            vlocal++;</div>
<div class="line"><a name="l10380"></a><span class="lineno">10380</span>&#160; </div>
<div class="line"><a name="l10381"></a><span class="lineno">10381</span>&#160;            <span class="comment">/* implement bltin and command here */</span></div>
<div class="line"><a name="l10382"></a><span class="lineno">10382</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a0f4ca960e4fe1b8e9d75f91d292b97f5">cmdtype</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a>)</div>
<div class="line"><a name="l10383"></a><span class="lineno">10383</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10384"></a><span class="lineno">10384</span>&#160; </div>
<div class="line"><a name="l10385"></a><span class="lineno">10385</span>&#160;            pseudovarflag = <a class="code" href="../../d1/dbe/ash_8c.html#a6e69eaa9499dee2defb7a0fad0bc3f66">IS_BUILTIN_ASSIGN</a>(<a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e">u</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac7a553a0c84498df205ce31d16c1e311">cmd</a>);</div>
<div class="line"><a name="l10386"></a><span class="lineno">10386</span>&#160;            <span class="keywordflow">if</span> (spclbltin &lt; 0) {</div>
<div class="line"><a name="l10387"></a><span class="lineno">10387</span>&#160;                spclbltin = <a class="code" href="../../d1/dbe/ash_8c.html#a0c4e6e2470921fbf54525dd1644ad0f9">IS_BUILTIN_SPECIAL</a>(<a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e">u</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac7a553a0c84498df205ce31d16c1e311">cmd</a>);</div>
<div class="line"><a name="l10388"></a><span class="lineno">10388</span>&#160;                vlocal = !spclbltin;</div>
<div class="line"><a name="l10389"></a><span class="lineno">10389</span>&#160;            }</div>
<div class="line"><a name="l10390"></a><span class="lineno">10390</span>&#160;            cmd_is_exec = <a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e">u</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac7a553a0c84498df205ce31d16c1e311">cmd</a> == <a class="code" href="../../d1/dbe/ash_8c.html#ab38d9a91814ca72cd5ed3d4ba1305a00">EXECCMD</a>;</div>
<div class="line"><a name="l10391"></a><span class="lineno">10391</span>&#160;<span class="preprocessor">#if ENABLE_ASH_CMDCMD</span></div>
<div class="line"><a name="l10392"></a><span class="lineno">10392</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e">u</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac7a553a0c84498df205ce31d16c1e311">cmd</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a3e8c4aebb9db9eeb679cf02f2a552145">COMMANDCMD</a>)</div>
<div class="line"><a name="l10393"></a><span class="lineno">10393</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10394"></a><span class="lineno">10394</span>&#160; </div>
<div class="line"><a name="l10395"></a><span class="lineno">10395</span>&#160;            cmd_flag = parse_command_args(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>, &amp;argp, &amp;path);</div>
<div class="line"><a name="l10396"></a><span class="lineno">10396</span>&#160;            <span class="keywordflow">if</span> (!cmd_flag)</div>
<div class="line"><a name="l10397"></a><span class="lineno">10397</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10398"></a><span class="lineno">10398</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10399"></a><span class="lineno">10399</span>&#160;        }</div>
<div class="line"><a name="l10400"></a><span class="lineno">10400</span>&#160; </div>
<div class="line"><a name="l10401"></a><span class="lineno">10401</span>&#160;        <span class="keywordflow">for</span> (; argp; argp = argp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a48ffe2ba16597faedb406bcec66923ab">next</a>)</div>
<div class="line"><a name="l10402"></a><span class="lineno">10402</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a4d5949e5678787310373e25f4ce1c935">expandarg</a>(argp, &amp;<a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>,</div>
<div class="line"><a name="l10403"></a><span class="lineno">10403</span>&#160;                    pseudovarflag &amp;&amp;</div>
<div class="line"><a name="l10404"></a><span class="lineno">10404</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a7edf4b5bebe2fc78aaea7372429dd54a">isassignment</a>(argp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac79175bc530bfe0463f3dbc8560ab137">text</a>) ?</div>
<div class="line"><a name="l10405"></a><span class="lineno">10405</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a6a659747fe58eef51d8e86d19ca4af05">EXP_VARTILDE</a> : <a class="code" href="../../d1/dbe/ash_8c.html#ad93fac6975049cf96d7989ffad986cc4">EXP_FULL</a> | <a class="code" href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a>);</div>
<div class="line"><a name="l10406"></a><span class="lineno">10406</span>&#160; </div>
<div class="line"><a name="l10407"></a><span class="lineno">10407</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>; <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>; <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next)</div>
<div class="line"><a name="l10408"></a><span class="lineno">10408</span>&#160;            <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>++;</div>
<div class="line"><a name="l10409"></a><span class="lineno">10409</span>&#160; </div>
<div class="line"><a name="l10410"></a><span class="lineno">10410</span>&#160;        <span class="keywordflow">if</span> (cmd_is_exec &amp;&amp; <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> &gt; 1)</div>
<div class="line"><a name="l10411"></a><span class="lineno">10411</span>&#160;            vflags = <a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>;</div>
<div class="line"><a name="l10412"></a><span class="lineno">10412</span>&#160;    }</div>
<div class="line"><a name="l10413"></a><span class="lineno">10413</span>&#160; </div>
<div class="line"><a name="l10414"></a><span class="lineno">10414</span>&#160;    localvar_stop = <a class="code" href="../../d1/dbe/ash_8c.html#a114300b60e92ab3b9e3707f61278fe9d">pushlocalvars</a>(vlocal);</div>
<div class="line"><a name="l10415"></a><span class="lineno">10415</span>&#160; </div>
<div class="line"><a name="l10416"></a><span class="lineno">10416</span>&#160;    <span class="comment">/* Reserve one extra spot at the front for shellexec. */</span></div>
<div class="line"><a name="l10417"></a><span class="lineno">10417</span>&#160;    nargv = <a class="code" href="../../d1/dbe/ash_8c.html#a7a1a6d8c702ae5df5dcfe038a1708158">stalloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *) * (<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> + 2));</div>
<div class="line"><a name="l10418"></a><span class="lineno">10418</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> = ++nargv;</div>
<div class="line"><a name="l10419"></a><span class="lineno">10419</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>; <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>; <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next) {</div>
<div class="line"><a name="l10420"></a><span class="lineno">10420</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;evalcommand arg: %s\n&quot;</span>, <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;text));</div>
<div class="line"><a name="l10421"></a><span class="lineno">10421</span>&#160;        *nargv++ = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;text;</div>
<div class="line"><a name="l10422"></a><span class="lineno">10422</span>&#160;    }</div>
<div class="line"><a name="l10423"></a><span class="lineno">10423</span>&#160;    *nargv = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l10424"></a><span class="lineno">10424</span>&#160; </div>
<div class="line"><a name="l10425"></a><span class="lineno">10425</span>&#160;    lastarg = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l10426"></a><span class="lineno">10426</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a6a73003a9a50b94b6cde86c8b7842106">funcline</a> == 0 &amp;&amp; <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> &gt; 0)</div>
<div class="line"><a name="l10427"></a><span class="lineno">10427</span>&#160;        lastarg = nargv[-1];</div>
<div class="line"><a name="l10428"></a><span class="lineno">10428</span>&#160; </div>
<div class="line"><a name="l10429"></a><span class="lineno">10429</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ad9594e91f229c2940b2c442cce0f9b68">expredir</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;ncmd.redirect);</div>
<div class="line"><a name="l10430"></a><span class="lineno">10430</span>&#160;<span class="preprocessor">#if !BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l10431"></a><span class="lineno">10431</span>&#160;    redir_stop = <a class="code" href="../../d1/dbe/ash_8c.html#a6b5397c22cc4cdc86aca806d3d8233fb">pushredir</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;ncmd.redirect);</div>
<div class="line"><a name="l10432"></a><span class="lineno">10432</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l10433"></a><span class="lineno">10433</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6b5397c22cc4cdc86aca806d3d8233fb">pushredir</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;ncmd.redirect);</div>
<div class="line"><a name="l10434"></a><span class="lineno">10434</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10435"></a><span class="lineno">10435</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a2abe87c109c6ab3e823df89abcdd474d">preverrout_fd</a> = 2;</div>
<div class="line"><a name="l10436"></a><span class="lineno">10436</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a22471b5a3cff2e7069fe01bd7f59c3ee">BASH_XTRACEFD</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a0492fb0e5606c5bc2ce433bb664d890f">xflag</a>) {</div>
<div class="line"><a name="l10437"></a><span class="lineno">10437</span>&#160;        <span class="comment">/* NB: bash closes fd == $BASH_XTRACEFD when it is changed.</span></div>
<div class="line"><a name="l10438"></a><span class="lineno">10438</span>&#160;<span class="comment">         * we do not emulate this. We only use its value.</span></div>
<div class="line"><a name="l10439"></a><span class="lineno">10439</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l10440"></a><span class="lineno">10440</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *xtracefd = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;BASH_XTRACEFD&quot;</span>);</div>
<div class="line"><a name="l10441"></a><span class="lineno">10441</span>&#160;        <span class="keywordflow">if</span> (xtracefd &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a3713e5af4c4d62450b75065a23dea670">is_number</a>(xtracefd))</div>
<div class="line"><a name="l10442"></a><span class="lineno">10442</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a2abe87c109c6ab3e823df89abcdd474d">preverrout_fd</a> = <a class="code" href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a>(xtracefd);</div>
<div class="line"><a name="l10443"></a><span class="lineno">10443</span>&#160; </div>
<div class="line"><a name="l10444"></a><span class="lineno">10444</span>&#160;    }</div>
<div class="line"><a name="l10445"></a><span class="lineno">10445</span>&#160;    <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a448831f55169c4888c8875859c82b6f9">redirectsafe</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;ncmd.redirect, <a class="code" href="../../d1/dbe/ash_8c.html#a98a2edb1ca7387b7963a47bd3d33c0a3">REDIR_PUSH</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a113f17f9cd9a2267c3098fc33de951f3">REDIR_SAVEFD2</a>);</div>
<div class="line"><a name="l10446"></a><span class="lineno">10446</span>&#160; </div>
<div class="line"><a name="l10447"></a><span class="lineno">10447</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>) {</div>
<div class="line"><a name="l10448"></a><span class="lineno">10448</span>&#160; bail:</div>
<div class="line"><a name="l10449"></a><span class="lineno">10449</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l10450"></a><span class="lineno">10450</span>&#160; </div>
<div class="line"><a name="l10451"></a><span class="lineno">10451</span>&#160;        <span class="comment">/* We have a redirection error. */</span></div>
<div class="line"><a name="l10452"></a><span class="lineno">10452</span>&#160;        <span class="keywordflow">if</span> (spclbltin &gt; 0)</div>
<div class="line"><a name="l10453"></a><span class="lineno">10453</span>&#160;            raise_exception(<a class="code" href="../../d1/dbe/ash_8c.html#ade601d2771be2d1ffb456155112dcca6">EXERROR</a>);</div>
<div class="line"><a name="l10454"></a><span class="lineno">10454</span>&#160; </div>
<div class="line"><a name="l10455"></a><span class="lineno">10455</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l10456"></a><span class="lineno">10456</span>&#160;    }</div>
<div class="line"><a name="l10457"></a><span class="lineno">10457</span>&#160; </div>
<div class="line"><a name="l10458"></a><span class="lineno">10458</span>&#160;    <span class="keywordflow">for</span> (argp = <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;ncmd.assign; argp; argp = argp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a48ffe2ba16597faedb406bcec66923ab">next</a>) {</div>
<div class="line"><a name="l10459"></a><span class="lineno">10459</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a> **spp;</div>
<div class="line"><a name="l10460"></a><span class="lineno">10460</span>&#160; </div>
<div class="line"><a name="l10461"></a><span class="lineno">10461</span>&#160;        spp = varlist.<a class="code" href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">lastp</a>;</div>
<div class="line"><a name="l10462"></a><span class="lineno">10462</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4d5949e5678787310373e25f4ce1c935">expandarg</a>(argp, &amp;varlist, <a class="code" href="../../d1/dbe/ash_8c.html#a6a659747fe58eef51d8e86d19ca4af05">EXP_VARTILDE</a>);</div>
<div class="line"><a name="l10463"></a><span class="lineno">10463</span>&#160; </div>
<div class="line"><a name="l10464"></a><span class="lineno">10464</span>&#160;        <span class="keywordflow">if</span> (vlocal)</div>
<div class="line"><a name="l10465"></a><span class="lineno">10465</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a04648c6665c64cc239aeddcf3e1b03e2">mklocal</a>((*spp)-&gt;text, <a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>);</div>
<div class="line"><a name="l10466"></a><span class="lineno">10466</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l10467"></a><span class="lineno">10467</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ad585c124f797c55d024253708395b6b2">setvareq</a>((*spp)-&gt;text, vflags);</div>
<div class="line"><a name="l10468"></a><span class="lineno">10468</span>&#160;    }</div>
<div class="line"><a name="l10469"></a><span class="lineno">10469</span>&#160; </div>
<div class="line"><a name="l10470"></a><span class="lineno">10470</span>&#160;    <span class="comment">/* Print the command if xflag is set. */</span></div>
<div class="line"><a name="l10471"></a><span class="lineno">10471</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a0492fb0e5606c5bc2ce433bb664d890f">xflag</a> &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#a6d732e09c2c92f032212a0a5e5729028">inps4</a>) {</div>
<div class="line"><a name="l10472"></a><span class="lineno">10472</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *pfx = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l10473"></a><span class="lineno">10473</span>&#160; </div>
<div class="line"><a name="l10474"></a><span class="lineno">10474</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6d732e09c2c92f032212a0a5e5729028">inps4</a> = 1;</div>
<div class="line"><a name="l10475"></a><span class="lineno">10475</span>&#160;        <a class="code" href="../../de/d03/platform_8h.html#ae3c75c78b327ce2fb4a176530e9fc2a2">fdprintf</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a2abe87c109c6ab3e823df89abcdd474d">preverrout_fd</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a435931295fba5edd709b9d369def7329">expandstr</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a0ee843cd30e83678db64bbfafb680362">ps4val</a>(), <a class="code" href="../../d1/dbe/ash_8c.html#aaa6071f56fe3ef665c45682e2875e1c8">DQSYNTAX</a>));</div>
<div class="line"><a name="l10476"></a><span class="lineno">10476</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6d732e09c2c92f032212a0a5e5729028">inps4</a> = 0;</div>
<div class="line"><a name="l10477"></a><span class="lineno">10477</span>&#160; </div>
<div class="line"><a name="l10478"></a><span class="lineno">10478</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = varlist.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>;</div>
<div class="line"><a name="l10479"></a><span class="lineno">10479</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>) {</div>
<div class="line"><a name="l10480"></a><span class="lineno">10480</span>&#160;            <span class="keywordtype">char</span> *varval = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;text;</div>
<div class="line"><a name="l10481"></a><span class="lineno">10481</span>&#160;            <span class="keywordtype">char</span> *eq = <a class="code" href="../../dd/d59/apps_2base_2bash_2lib_2sh_2strchrnul_8c.html#a3bfec92685b659e3b184eca81c3db7f4">strchrnul</a>(varval, <span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l10482"></a><span class="lineno">10482</span>&#160;            <span class="keywordflow">if</span> (*eq)</div>
<div class="line"><a name="l10483"></a><span class="lineno">10483</span>&#160;                eq++;</div>
<div class="line"><a name="l10484"></a><span class="lineno">10484</span>&#160;            <a class="code" href="../../de/d03/platform_8h.html#ae3c75c78b327ce2fb4a176530e9fc2a2">fdprintf</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a2abe87c109c6ab3e823df89abcdd474d">preverrout_fd</a>, <span class="stringliteral">&quot;%s%.*s%s&quot;</span>,</div>
<div class="line"><a name="l10485"></a><span class="lineno">10485</span>&#160;                pfx,</div>
<div class="line"><a name="l10486"></a><span class="lineno">10486</span>&#160;                (<span class="keywordtype">int</span>)(eq - varval), varval,</div>
<div class="line"><a name="l10487"></a><span class="lineno">10487</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ab8a4be129b79c1f38461b483e5d6f540">maybe_single_quote</a>(eq)</div>
<div class="line"><a name="l10488"></a><span class="lineno">10488</span>&#160;            );</div>
<div class="line"><a name="l10489"></a><span class="lineno">10489</span>&#160;            <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next;</div>
<div class="line"><a name="l10490"></a><span class="lineno">10490</span>&#160;            pfx = <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l10491"></a><span class="lineno">10491</span>&#160;        }</div>
<div class="line"><a name="l10492"></a><span class="lineno">10492</span>&#160; </div>
<div class="line"><a name="l10493"></a><span class="lineno">10493</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>;</div>
<div class="line"><a name="l10494"></a><span class="lineno">10494</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>) {</div>
<div class="line"><a name="l10495"></a><span class="lineno">10495</span>&#160;            <a class="code" href="../../de/d03/platform_8h.html#ae3c75c78b327ce2fb4a176530e9fc2a2">fdprintf</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a2abe87c109c6ab3e823df89abcdd474d">preverrout_fd</a>, <span class="stringliteral">&quot;%s%s&quot;</span>,</div>
<div class="line"><a name="l10496"></a><span class="lineno">10496</span>&#160;                pfx,</div>
<div class="line"><a name="l10497"></a><span class="lineno">10497</span>&#160;                <span class="comment">/* always quote if matches reserved word: */</span></div>
<div class="line"><a name="l10498"></a><span class="lineno">10498</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a319d06dfb0e179e02276d71fca6792ce">findkwd</a>(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;text)</div>
<div class="line"><a name="l10499"></a><span class="lineno">10499</span>&#160;                ? <a class="code" href="../../d1/dbe/ash_8c.html#a4a5dd8a899567d44c214a92c793e7420">single_quote</a>(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;text)</div>
<div class="line"><a name="l10500"></a><span class="lineno">10500</span>&#160;                : <a class="code" href="../../d1/dbe/ash_8c.html#ab8a4be129b79c1f38461b483e5d6f540">maybe_single_quote</a>(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;text)</div>
<div class="line"><a name="l10501"></a><span class="lineno">10501</span>&#160;            );</div>
<div class="line"><a name="l10502"></a><span class="lineno">10502</span>&#160;            <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;next;</div>
<div class="line"><a name="l10503"></a><span class="lineno">10503</span>&#160;            pfx = <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l10504"></a><span class="lineno">10504</span>&#160;        }</div>
<div class="line"><a name="l10505"></a><span class="lineno">10505</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#ad132052ee46a5de0e2cbcf6f3e40e49e">safe_write</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a2abe87c109c6ab3e823df89abcdd474d">preverrout_fd</a>, <span class="stringliteral">&quot;\n&quot;</span>, 1);</div>
<div class="line"><a name="l10506"></a><span class="lineno">10506</span>&#160;    }</div>
<div class="line"><a name="l10507"></a><span class="lineno">10507</span>&#160; </div>
<div class="line"><a name="l10508"></a><span class="lineno">10508</span>&#160;    <span class="comment">/* Now locate the command. */</span></div>
<div class="line"><a name="l10509"></a><span class="lineno">10509</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a0f4ca960e4fe1b8e9d75f91d292b97f5">cmdtype</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a></div>
<div class="line"><a name="l10510"></a><span class="lineno">10510</span>&#160;     || !(<a class="code" href="../../d1/dbe/ash_8c.html#ab23db490601100500b00b74f9738fc01">IS_BUILTIN_REGULAR</a>(<a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e">u</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac7a553a0c84498df205ce31d16c1e311">cmd</a>))</div>
<div class="line"><a name="l10511"></a><span class="lineno">10511</span>&#160;    ) {</div>
<div class="line"><a name="l10512"></a><span class="lineno">10512</span>&#160;        path = path ? path : <a class="code" href="../../d1/dbe/ash_8c.html#a1a0f44024ffe6329c9c6cda41fd24d30">pathval</a>();</div>
<div class="line"><a name="l10513"></a><span class="lineno">10513</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa23d345708cf24e69c6cc4533ff0e8f9">find_command</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0], &amp;<a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>, cmd_flag | <a class="code" href="../../d1/dbe/ash_8c.html#a06a22680ac104187b1b8e9fd9e790ac1">DO_ERR</a>, path);</div>
<div class="line"><a name="l10514"></a><span class="lineno">10514</span>&#160;    }</div>
<div class="line"><a name="l10515"></a><span class="lineno">10515</span>&#160; </div>
<div class="line"><a name="l10516"></a><span class="lineno">10516</span>&#160;    jp = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l10517"></a><span class="lineno">10517</span>&#160; </div>
<div class="line"><a name="l10518"></a><span class="lineno">10518</span>&#160;    <span class="comment">/* Execute the command. */</span></div>
<div class="line"><a name="l10519"></a><span class="lineno">10519</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a0f4ca960e4fe1b8e9d75f91d292b97f5">cmdtype</a>) {</div>
<div class="line"><a name="l10520"></a><span class="lineno">10520</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a14e3440a799eb1e36008a8a828fdeab9">CMDUNKNOWN</a>:</div>
<div class="line"><a name="l10521"></a><span class="lineno">10521</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = 127;</div>
<div class="line"><a name="l10522"></a><span class="lineno">10522</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8b4918e978236b595cd0683297407875">flush_stdout_stderr</a>();</div>
<div class="line"><a name="l10523"></a><span class="lineno">10523</span>&#160;        <span class="keywordflow">goto</span> bail;</div>
<div class="line"><a name="l10524"></a><span class="lineno">10524</span>&#160; </div>
<div class="line"><a name="l10525"></a><span class="lineno">10525</span>&#160;    <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l10526"></a><span class="lineno">10526</span>&#160; </div>
<div class="line"><a name="l10527"></a><span class="lineno">10527</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_STANDALONE \</span></div>
<div class="line"><a name="l10528"></a><span class="lineno">10528</span>&#160;<span class="preprocessor"> &amp;&amp; ENABLE_FEATURE_SH_NOFORK \</span></div>
<div class="line"><a name="l10529"></a><span class="lineno">10529</span>&#160;<span class="preprocessor"> &amp;&amp; NUM_APPLETS &gt; 1</span></div>
<div class="line"><a name="l10530"></a><span class="lineno">10530</span>&#160;<span class="comment">/* (1) BUG: if variables are set, we need to fork, or save/restore them</span></div>
<div class="line"><a name="l10531"></a><span class="lineno">10531</span>&#160;<span class="comment"> *     around run_nofork_applet() call.</span></div>
<div class="line"><a name="l10532"></a><span class="lineno">10532</span>&#160;<span class="comment"> * (2) Should this check also be done in forkshell()?</span></div>
<div class="line"><a name="l10533"></a><span class="lineno">10533</span>&#160;<span class="comment"> *     (perhaps it should, so that &quot;VAR=VAL nofork&quot; at least avoids exec...)</span></div>
<div class="line"><a name="l10534"></a><span class="lineno">10534</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l10535"></a><span class="lineno">10535</span>&#160;        <span class="comment">/* find_command() encodes applet_no as (-2 - applet_no) */</span></div>
<div class="line"><a name="l10536"></a><span class="lineno">10536</span>&#160;        <span class="keywordtype">int</span> applet_no = (- <a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e">u</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8fa09cb60109c2f208fbee71ffbccde4">index</a> - 2);</div>
<div class="line"><a name="l10537"></a><span class="lineno">10537</span>&#160;        <span class="keywordflow">if</span> (applet_no &gt;= 0 &amp;&amp; <a class="code" href="../../d0/d8f/busybox_8h.html#afd23ee64850e64b45b158dc2e9e5b2ff">APPLET_IS_NOFORK</a>(applet_no)) {</div>
<div class="line"><a name="l10538"></a><span class="lineno">10538</span>&#160;            <span class="keywordtype">char</span> **sv_environ;</div>
<div class="line"><a name="l10539"></a><span class="lineno">10539</span>&#160; </div>
<div class="line"><a name="l10540"></a><span class="lineno">10540</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l10541"></a><span class="lineno">10541</span>&#160;            sv_environ = <a class="code" href="../../dc/de7/bash_2support_2printenv_8c.html#aa006daaf11f1e2e45a6ababaf463212b">environ</a>;</div>
<div class="line"><a name="l10542"></a><span class="lineno">10542</span>&#160;            <a class="code" href="../../dc/de7/bash_2support_2printenv_8c.html#aa006daaf11f1e2e45a6ababaf463212b">environ</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ac916671880c52fa4b983f6aef788fa66">listvars</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>, varlist.<a class="code" href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">list</a>, <span class="comment">/*end:*/</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l10543"></a><span class="lineno">10543</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l10544"></a><span class="lineno">10544</span>&#160;<span class="comment">             * Run &lt;applet&gt;_main().</span></div>
<div class="line"><a name="l10545"></a><span class="lineno">10545</span>&#160;<span class="comment">             * Signals (^C) can&#39;t interrupt here.</span></div>
<div class="line"><a name="l10546"></a><span class="lineno">10546</span>&#160;<span class="comment">             * Otherwise we can mangle stdio or malloc internal state.</span></div>
<div class="line"><a name="l10547"></a><span class="lineno">10547</span>&#160;<span class="comment">             * This makes applets which can run for a long time</span></div>
<div class="line"><a name="l10548"></a><span class="lineno">10548</span>&#160;<span class="comment">             * and/or wait for user input ineligible for NOFORK:</span></div>
<div class="line"><a name="l10549"></a><span class="lineno">10549</span>&#160;<span class="comment">             * for example, &quot;yes&quot; or &quot;rm&quot; (rm -i waits for input).</span></div>
<div class="line"><a name="l10550"></a><span class="lineno">10550</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l10551"></a><span class="lineno">10551</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a9744543d77c55ee34a4d600507794d00">run_nofork_applet</a>(applet_no, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l10552"></a><span class="lineno">10552</span>&#160;            <a class="code" href="../../dc/de7/bash_2support_2printenv_8c.html#aa006daaf11f1e2e45a6ababaf463212b">environ</a> = sv_environ;</div>
<div class="line"><a name="l10553"></a><span class="lineno">10553</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l10554"></a><span class="lineno">10554</span>&#160;<span class="comment">             * Try enabling NOFORK for &quot;yes&quot; applet.</span></div>
<div class="line"><a name="l10555"></a><span class="lineno">10555</span>&#160;<span class="comment">             * ^C _will_ stop it (write returns EINTR),</span></div>
<div class="line"><a name="l10556"></a><span class="lineno">10556</span>&#160;<span class="comment">             * but this causes stdout FILE to be stuck</span></div>
<div class="line"><a name="l10557"></a><span class="lineno">10557</span>&#160;<span class="comment">             * and needing clearerr(). What if other applets</span></div>
<div class="line"><a name="l10558"></a><span class="lineno">10558</span>&#160;<span class="comment">             * also can get EINTRs? Do we need to switch</span></div>
<div class="line"><a name="l10559"></a><span class="lineno">10559</span>&#160;<span class="comment">             * our signals to SA_RESTART?</span></div>
<div class="line"><a name="l10560"></a><span class="lineno">10560</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l10561"></a><span class="lineno">10561</span>&#160;            <span class="comment">/*clearerr(stdout);*/</span></div>
<div class="line"><a name="l10562"></a><span class="lineno">10562</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l10563"></a><span class="lineno">10563</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10564"></a><span class="lineno">10564</span>&#160;        }</div>
<div class="line"><a name="l10565"></a><span class="lineno">10565</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10566"></a><span class="lineno">10566</span>&#160;        <span class="comment">/* Can we avoid forking? For example, very last command</span></div>
<div class="line"><a name="l10567"></a><span class="lineno">10567</span>&#160;<span class="comment">         * in a script or a subshell does not need forking,</span></div>
<div class="line"><a name="l10568"></a><span class="lineno">10568</span>&#160;<span class="comment">         * we can just exec it.</span></div>
<div class="line"><a name="l10569"></a><span class="lineno">10569</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l10570"></a><span class="lineno">10570</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#ac2add6938920c886c263574d2948aefa">EV_EXIT</a>) || <a class="code" href="../../d1/dbe/ash_8c.html#aeae2161e6b322b2655fac184e8fca410">may_have_traps</a>) {</div>
<div class="line"><a name="l10571"></a><span class="lineno">10571</span>&#160;            <span class="comment">/* No, forking off a child is necessary */</span></div>
<div class="line"><a name="l10572"></a><span class="lineno">10572</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l10573"></a><span class="lineno">10573</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a292fac6f88c2fb54b4701a4141db1a7d">get_tty_state</a>();</div>
<div class="line"><a name="l10574"></a><span class="lineno">10574</span>&#160;            jp = <a class="code" href="../../d1/dbe/ash_8c.html#a915993c65b1d23c848d308738564f57a">makejob</a>(<span class="comment">/*cmd,*/</span> 1);</div>
<div class="line"><a name="l10575"></a><span class="lineno">10575</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a2909724c5cc1419ade6041cbf8d98636">forkshell</a>(jp, <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a5da14b841f888931a9a10474494f9bcc">FORK_FG</a>) != 0) {</div>
<div class="line"><a name="l10576"></a><span class="lineno">10576</span>&#160;                <span class="comment">/* parent */</span></div>
<div class="line"><a name="l10577"></a><span class="lineno">10577</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10578"></a><span class="lineno">10578</span>&#160;            }</div>
<div class="line"><a name="l10579"></a><span class="lineno">10579</span>&#160;            <span class="comment">/* child */</span></div>
<div class="line"><a name="l10580"></a><span class="lineno">10580</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab50f7c5ee58d54d6b9a942f1e8781b85">FORCE_INT_ON</a>;</div>
<div class="line"><a name="l10581"></a><span class="lineno">10581</span>&#160;            <span class="comment">/* fall through to exec&#39;ing external program */</span></div>
<div class="line"><a name="l10582"></a><span class="lineno">10582</span>&#160;        }</div>
<div class="line"><a name="l10583"></a><span class="lineno">10583</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a2d2ea4bca9799d131118b6942822266b">shellexec</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0], <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, path, <a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e">u</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8fa09cb60109c2f208fbee71ffbccde4">index</a>);</div>
<div class="line"><a name="l10584"></a><span class="lineno">10584</span>&#160;        <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l10585"></a><span class="lineno">10585</span>&#160;    } <span class="comment">/* default */</span></div>
<div class="line"><a name="l10586"></a><span class="lineno">10586</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a>:</div>
<div class="line"><a name="l10587"></a><span class="lineno">10587</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a24b7735727515db60f17593bcbb1f881">evalbltin</a>(<a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e">u</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac7a553a0c84498df205ce31d16c1e311">cmd</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l10588"></a><span class="lineno">10588</span>&#160;         &amp;&amp; !(<a class="code" href="../../d1/dbe/ash_8c.html#a9feaa234caa149c15b556505f2a015db">exception_type</a> == <a class="code" href="../../d1/dbe/ash_8c.html#ade601d2771be2d1ffb456155112dcca6">EXERROR</a> &amp;&amp; spclbltin &lt;= 0)</div>
<div class="line"><a name="l10589"></a><span class="lineno">10589</span>&#160;        ) {</div>
<div class="line"><a name="l10590"></a><span class="lineno">10590</span>&#160; <span class="keyword">raise</span>:</div>
<div class="line"><a name="l10591"></a><span class="lineno">10591</span>&#160;            <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#aaf56e20169cc5a6d5c1a968e24d04623">longjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a>-&gt;loc, 1);</div>
<div class="line"><a name="l10592"></a><span class="lineno">10592</span>&#160;        }</div>
<div class="line"><a name="l10593"></a><span class="lineno">10593</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10594"></a><span class="lineno">10594</span>&#160; </div>
<div class="line"><a name="l10595"></a><span class="lineno">10595</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a967d3b0cdfb3be875229c443ca49de02">CMDFUNCTION</a>:</div>
<div class="line"><a name="l10596"></a><span class="lineno">10596</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4dea1c72117f8b8bec756e93fd3a90a3">evalfun</a>(<a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a>.<a class="code" href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e">u</a>.<a class="code" href="../../d1/dbe/ash_8c.html#adf9fde5f0ec4351508b7db0572b090d1">func</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>))</div>
<div class="line"><a name="l10597"></a><span class="lineno">10597</span>&#160;            <span class="keywordflow">goto</span> <span class="keyword">raise</span>;</div>
<div class="line"><a name="l10598"></a><span class="lineno">10598</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10599"></a><span class="lineno">10599</span>&#160;    } <span class="comment">/* switch */</span></div>
<div class="line"><a name="l10600"></a><span class="lineno">10600</span>&#160; </div>
<div class="line"><a name="l10601"></a><span class="lineno">10601</span>&#160;    <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7bd2f10f7aab5836959730cee26ded54">waitforjob</a>(jp);</div>
<div class="line"><a name="l10602"></a><span class="lineno">10602</span>&#160;    <span class="keywordflow">if</span> (jp)</div>
<div class="line"><a name="l10603"></a><span class="lineno">10603</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;forked child exited with %d\n&quot;</span>, <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>));</div>
<div class="line"><a name="l10604"></a><span class="lineno">10604</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab50f7c5ee58d54d6b9a942f1e8781b85">FORCE_INT_ON</a>;</div>
<div class="line"><a name="l10605"></a><span class="lineno">10605</span>&#160; </div>
<div class="line"><a name="l10606"></a><span class="lineno">10606</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l10607"></a><span class="lineno">10607</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;ncmd.redirect)</div>
<div class="line"><a name="l10608"></a><span class="lineno">10608</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8c28a51cd6fa34a658d90aec943ee2a6">popredir</a>(<span class="comment">/*drop:*/</span> cmd_is_exec);</div>
<div class="line"><a name="l10609"></a><span class="lineno">10609</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a343fdec5f1d8537b703fbb02d3408856">unwindredir</a>(redir_stop);</div>
<div class="line"><a name="l10610"></a><span class="lineno">10610</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a2b008c5d9ff0b559e1ce662dba222d65">unwindfiles</a>(file_stop);</div>
<div class="line"><a name="l10611"></a><span class="lineno">10611</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ad4e5bf54695044926d7a370d09812a86">unwindlocalvars</a>(localvar_stop);</div>
<div class="line"><a name="l10612"></a><span class="lineno">10612</span>&#160;    <span class="keywordflow">if</span> (lastarg) {</div>
<div class="line"><a name="l10613"></a><span class="lineno">10613</span>&#160;        <span class="comment">/* dsl: I think this is intended to be used to support</span></div>
<div class="line"><a name="l10614"></a><span class="lineno">10614</span>&#160;<span class="comment">         * &#39;_&#39; in &#39;vi&#39; command mode during line editing...</span></div>
<div class="line"><a name="l10615"></a><span class="lineno">10615</span>&#160;<span class="comment">         * However I implemented that within libedit itself.</span></div>
<div class="line"><a name="l10616"></a><span class="lineno">10616</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l10617"></a><span class="lineno">10617</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>(<span class="stringliteral">&quot;_&quot;</span>, lastarg);</div>
<div class="line"><a name="l10618"></a><span class="lineno">10618</span>&#160;    }</div>
<div class="line"><a name="l10619"></a><span class="lineno">10619</span>&#160; </div>
<div class="line"><a name="l10620"></a><span class="lineno">10620</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l10621"></a><span class="lineno">10621</span>&#160;}</div>
<div class="line"><a name="l10622"></a><span class="lineno">10622</span>&#160; </div>
<div class="line"><a name="l10623"></a><span class="lineno">10623</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l10624"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a24b7735727515db60f17593bcbb1f881">10624</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a24b7735727515db60f17593bcbb1f881">evalbltin</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d6/d85/structbuiltincmd">builtincmd</a> *<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l10625"></a><span class="lineno">10625</span>&#160;{</div>
<div class="line"><a name="l10626"></a><span class="lineno">10626</span>&#160;    <span class="keywordtype">char</span> *<span class="keyword">volatile</span> savecmdname;</div>
<div class="line"><a name="l10627"></a><span class="lineno">10627</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> *<span class="keyword">volatile</span> savehandler;</div>
<div class="line"><a name="l10628"></a><span class="lineno">10628</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> <a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l10629"></a><span class="lineno">10629</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l10630"></a><span class="lineno">10630</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l10631"></a><span class="lineno">10631</span>&#160; </div>
<div class="line"><a name="l10632"></a><span class="lineno">10632</span>&#160;    savecmdname = <a class="code" href="../../d1/dbe/ash_8c.html#ad4f846f3f19caa87ad67d24b3a77f307">commandname</a>;</div>
<div class="line"><a name="l10633"></a><span class="lineno">10633</span>&#160;    savehandler = <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a>;</div>
<div class="line"><a name="l10634"></a><span class="lineno">10634</span>&#160;    <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#ac7cd296b63b31ab3d8cd447e40d0eedc">setjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>.<a class="code" href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">loc</a>);</div>
<div class="line"><a name="l10635"></a><span class="lineno">10635</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>)</div>
<div class="line"><a name="l10636"></a><span class="lineno">10636</span>&#160;        <span class="keywordflow">goto</span> cmddone;</div>
<div class="line"><a name="l10637"></a><span class="lineno">10637</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l10638"></a><span class="lineno">10638</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ad4f846f3f19caa87ad67d24b3a77f307">commandname</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0];</div>
<div class="line"><a name="l10639"></a><span class="lineno">10639</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> + 1;</div>
<div class="line"><a name="l10640"></a><span class="lineno">10640</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#adec920038aa8edfb24d1071c65e35053">optptr</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;                  <span class="comment">/* initialize nextopt */</span></div>
<div class="line"><a name="l10641"></a><span class="lineno">10641</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a34609c6c3e5bcbc446a6926fb53fd3bd">EVALCMD</a>)</div>
<div class="line"><a name="l10642"></a><span class="lineno">10642</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a0f026e10c3becb51cf84ac858cda803e">evalcmd</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>);</div>
<div class="line"><a name="l10643"></a><span class="lineno">10643</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l10644"></a><span class="lineno">10644</span>&#160;        <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = (*<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>-&gt;builtin)(<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l10645"></a><span class="lineno">10645</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8b4918e978236b595cd0683297407875">flush_stdout_stderr</a>();</div>
<div class="line"><a name="l10646"></a><span class="lineno">10646</span>&#160;    <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> |= <a class="code" href="../../d7/dd7/libbb_8h.html#a2f7ceb642982f0aab3b8cdf1e2d008ca">ferror</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l10647"></a><span class="lineno">10647</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l10648"></a><span class="lineno">10648</span>&#160; cmddone:</div>
<div class="line"><a name="l10649"></a><span class="lineno">10649</span>&#160;    <a class="code" href="../../d7/d0a/Userspace_2musl_2include_2stdio_8h.html#a917e77e365a5da28efb1963efafa8f23">clearerr</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l10650"></a><span class="lineno">10650</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ad4f846f3f19caa87ad67d24b3a77f307">commandname</a> = savecmdname;</div>
<div class="line"><a name="l10651"></a><span class="lineno">10651</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = savehandler;</div>
<div class="line"><a name="l10652"></a><span class="lineno">10652</span>&#160; </div>
<div class="line"><a name="l10653"></a><span class="lineno">10653</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l10654"></a><span class="lineno">10654</span>&#160;}</div>
<div class="line"><a name="l10655"></a><span class="lineno">10655</span>&#160; </div>
<div class="line"><a name="l10656"></a><span class="lineno">10656</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l10657"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acd293df6311db7d84b2d77970ce2633b">10657</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#acd293df6311db7d84b2d77970ce2633b">goodname</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l10658"></a><span class="lineno">10658</span>&#160;{</div>
<div class="line"><a name="l10659"></a><span class="lineno">10659</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a427068bf1a37249b0a95ed1a4bebe70d">endofname</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)[0] == <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l10660"></a><span class="lineno">10660</span>&#160;}</div>
<div class="line"><a name="l10661"></a><span class="lineno">10661</span>&#160; </div>
<div class="line"><a name="l10662"></a><span class="lineno">10662</span>&#160; </div>
<div class="line"><a name="l10663"></a><span class="lineno">10663</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l10664"></a><span class="lineno">10664</span>&#160;<span class="comment"> * Search for a command.  This is called before we fork so that the</span></div>
<div class="line"><a name="l10665"></a><span class="lineno">10665</span>&#160;<span class="comment"> * location of the command will be available in the parent as well as</span></div>
<div class="line"><a name="l10666"></a><span class="lineno">10666</span>&#160;<span class="comment"> * the child.  The check for &quot;goodname&quot; is an overly conservative</span></div>
<div class="line"><a name="l10667"></a><span class="lineno">10667</span>&#160;<span class="comment"> * check that the name will not be subject to expansion.</span></div>
<div class="line"><a name="l10668"></a><span class="lineno">10668</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l10669"></a><span class="lineno">10669</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l10670"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1ebf7a92f573caf13f3bfc4176c3aba1">10670</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a1ebf7a92f573caf13f3bfc4176c3aba1">prehash</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l10671"></a><span class="lineno">10671</span>&#160;{</div>
<div class="line"><a name="l10672"></a><span class="lineno">10672</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a> <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>;</div>
<div class="line"><a name="l10673"></a><span class="lineno">10673</span>&#160; </div>
<div class="line"><a name="l10674"></a><span class="lineno">10674</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type == <a class="code" href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">NCMD</a> &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.args &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#acd293df6311db7d84b2d77970ce2633b">goodname</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.args-&gt;narg.text))</div>
<div class="line"><a name="l10675"></a><span class="lineno">10675</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa23d345708cf24e69c6cc4533ff0e8f9">find_command</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.args-&gt;narg.text, &amp;<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>, 0, <a class="code" href="../../d1/dbe/ash_8c.html#a1a0f44024ffe6329c9c6cda41fd24d30">pathval</a>());</div>
<div class="line"><a name="l10676"></a><span class="lineno">10676</span>&#160;}</div>
<div class="line"><a name="l10677"></a><span class="lineno">10677</span>&#160; </div>
<div class="line"><a name="l10678"></a><span class="lineno">10678</span>&#160; </div>
<div class="line"><a name="l10679"></a><span class="lineno">10679</span>&#160;<span class="comment">/* ============ Builtin commands</span></div>
<div class="line"><a name="l10680"></a><span class="lineno">10680</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l10681"></a><span class="lineno">10681</span>&#160;<span class="comment"> * Builtin commands whose functions are closely tied to evaluation</span></div>
<div class="line"><a name="l10682"></a><span class="lineno">10682</span>&#160;<span class="comment"> * are implemented here.</span></div>
<div class="line"><a name="l10683"></a><span class="lineno">10683</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l10684"></a><span class="lineno">10684</span>&#160; </div>
<div class="line"><a name="l10685"></a><span class="lineno">10685</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l10686"></a><span class="lineno">10686</span>&#160;<span class="comment"> * Handle break and continue commands.  Break, continue, and return are</span></div>
<div class="line"><a name="l10687"></a><span class="lineno">10687</span>&#160;<span class="comment"> * all handled by setting the evalskip flag.  The evaluation routines</span></div>
<div class="line"><a name="l10688"></a><span class="lineno">10688</span>&#160;<span class="comment"> * above all check this flag, and if it is set they start skipping</span></div>
<div class="line"><a name="l10689"></a><span class="lineno">10689</span>&#160;<span class="comment"> * commands rather than executing them.  The variable skipcount is</span></div>
<div class="line"><a name="l10690"></a><span class="lineno">10690</span>&#160;<span class="comment"> * the number of loops to break/continue, or the number of function</span></div>
<div class="line"><a name="l10691"></a><span class="lineno">10691</span>&#160;<span class="comment"> * levels to return.  (The latter is always 1.)  It should probably</span></div>
<div class="line"><a name="l10692"></a><span class="lineno">10692</span>&#160;<span class="comment"> * be an error to break out of more loops than exist, but it isn&#39;t</span></div>
<div class="line"><a name="l10693"></a><span class="lineno">10693</span>&#160;<span class="comment"> * in the standard shell so we don&#39;t make it one here.</span></div>
<div class="line"><a name="l10694"></a><span class="lineno">10694</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l10695"></a><span class="lineno">10695</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l10696"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afb4f4dcaa99fac45b5107404a0ec1c82">10696</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a201baf44a060ba0b00e145a73d0572a8">breakcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l10697"></a><span class="lineno">10697</span>&#160;{</div>
<div class="line"><a name="l10698"></a><span class="lineno">10698</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1] ? <a class="code" href="../../d1/dbe/ash_8c.html#ae52ce7002a05790c0eb9b44163ddf3f0">number</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1]) : 1;</div>
<div class="line"><a name="l10699"></a><span class="lineno">10699</span>&#160; </div>
<div class="line"><a name="l10700"></a><span class="lineno">10700</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> &lt;= 0)</div>
<div class="line"><a name="l10701"></a><span class="lineno">10701</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a78d805e1d2aaceaa17b361717cbd46fd">msg_illnum</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1]);</div>
<div class="line"><a name="l10702"></a><span class="lineno">10702</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> &gt; <a class="code" href="../../d1/dbe/ash_8c.html#ac4d0dde83d370ec10ab8149710a3b611">loopnest</a>)</div>
<div class="line"><a name="l10703"></a><span class="lineno">10703</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ac4d0dde83d370ec10ab8149710a3b611">loopnest</a>;</div>
<div class="line"><a name="l10704"></a><span class="lineno">10704</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> &gt; 0) {</div>
<div class="line"><a name="l10705"></a><span class="lineno">10705</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a> = (**<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> == <span class="charliteral">&#39;c&#39;</span>) ? <a class="code" href="../../d1/dbe/ash_8c.html#a688364e9feae647c3bf5fb32ba868661">SKIPCONT</a> : <a class="code" href="../../d1/dbe/ash_8c.html#a0ad3ce0bc63ada4d01f10ec4ecaac256">SKIPBREAK</a>;</div>
<div class="line"><a name="l10706"></a><span class="lineno">10706</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a61ca2a401534c4ce8055c85c8615105a">skipcount</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l10707"></a><span class="lineno">10707</span>&#160;    }</div>
<div class="line"><a name="l10708"></a><span class="lineno">10708</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l10709"></a><span class="lineno">10709</span>&#160;}</div>
<div class="line"><a name="l10710"></a><span class="lineno">10710</span>&#160; </div>
<div class="line"><a name="l10711"></a><span class="lineno">10711</span>&#160; </div>
<div class="line"><a name="l10712"></a><span class="lineno">10712</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l10713"></a><span class="lineno">10713</span>&#160;<span class="comment"> * This implements the input routines used by the parser.</span></div>
<div class="line"><a name="l10714"></a><span class="lineno">10714</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l10715"></a><span class="lineno">10715</span>&#160; </div>
<div class="line"><a name="l10716"></a><span class="lineno">10716</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l10717"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a054c7815afdeb13143a83e92525cbd25a8044562dad2c1168d3b50b34ba09ef3d">10717</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a054c7815afdeb13143a83e92525cbd25a8044562dad2c1168d3b50b34ba09ef3d">INPUT_PUSH_FILE</a> = 1,</div>
<div class="line"><a name="l10718"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a054c7815afdeb13143a83e92525cbd25ac3737a4d9baa3b6578a95a1e3c19e321">10718</a></span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a054c7815afdeb13143a83e92525cbd25ac3737a4d9baa3b6578a95a1e3c19e321">INPUT_NOFILE_OK</a> = 2,</div>
<div class="line"><a name="l10719"></a><span class="lineno">10719</span>&#160;};</div>
<div class="line"><a name="l10720"></a><span class="lineno">10720</span>&#160; </div>
<div class="line"><a name="l10721"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">10721</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a>;</div>
<div class="line"><a name="l10722"></a><span class="lineno">10722</span>&#160;<span class="comment">/* values of checkkwd variable */</span></div>
<div class="line"><a name="l10723"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">10723</a></span>&#160;<span class="preprocessor">#define CHKALIAS        0x1</span></div>
<div class="line"><a name="l10724"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">10724</a></span>&#160;<span class="preprocessor">#define CHKKWD          0x2</span></div>
<div class="line"><a name="l10725"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">10725</a></span>&#160;<span class="preprocessor">#define CHKNL           0x4</span></div>
<div class="line"><a name="l10726"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3e25b83dd9c92078e1f9ceab528166f8">10726</a></span>&#160;<span class="preprocessor">#define CHKEOFMARK      0x8</span></div>
<div class="line"><a name="l10727"></a><span class="lineno">10727</span>&#160; </div>
<div class="line"><a name="l10728"></a><span class="lineno">10728</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l10729"></a><span class="lineno">10729</span>&#160;<span class="comment"> * Push a string back onto the input at this current parsefile level.</span></div>
<div class="line"><a name="l10730"></a><span class="lineno">10730</span>&#160;<span class="comment"> * We handle aliases this way.</span></div>
<div class="line"><a name="l10731"></a><span class="lineno">10731</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l10732"></a><span class="lineno">10732</span>&#160;<span class="preprocessor">#if !ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l10733"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6210f849e16da96e5829054b55810261">10733</a></span>&#160;<span class="preprocessor">#define pushstring(s, ap) pushstring(s)</span></div>
<div class="line"><a name="l10734"></a><span class="lineno">10734</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10735"></a><span class="lineno">10735</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l10736"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad59910b32b213e0130bcb47587fa1161">10736</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a6210f849e16da96e5829054b55810261">pushstring</a>(<span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <span class="keyword">struct</span> <a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>)</div>
<div class="line"><a name="l10737"></a><span class="lineno">10737</span>&#160;{</div>
<div class="line"><a name="l10738"></a><span class="lineno">10738</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/dc1/structstrpush">strpush</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l10739"></a><span class="lineno">10739</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l10740"></a><span class="lineno">10740</span>&#160; </div>
<div class="line"><a name="l10741"></a><span class="lineno">10741</span>&#160;    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l10742"></a><span class="lineno">10742</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l10743"></a><span class="lineno">10743</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a426e81f112b1f0c58aaef25160fd32ca">strpush</a> || <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa0c0ae75eaaac5e6d9a7f7925da16cbb">spfree</a>) {</div>
<div class="line"><a name="l10744"></a><span class="lineno">10744</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>));</div>
<div class="line"><a name="l10745"></a><span class="lineno">10745</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;prev = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a426e81f112b1f0c58aaef25160fd32ca">strpush</a>;</div>
<div class="line"><a name="l10746"></a><span class="lineno">10746</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10747"></a><span class="lineno">10747</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = &amp;(<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a7878e2b49a95d63431a01e82a7c7ba16">basestrpush</a>);</div>
<div class="line"><a name="l10748"></a><span class="lineno">10748</span>&#160;    }</div>
<div class="line"><a name="l10749"></a><span class="lineno">10749</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a426e81f112b1f0c58aaef25160fd32ca">strpush</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l10750"></a><span class="lineno">10750</span>&#160;    <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;prev_string = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a>;</div>
<div class="line"><a name="l10751"></a><span class="lineno">10751</span>&#160;    <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;prev_left_in_line = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a>;</div>
<div class="line"><a name="l10752"></a><span class="lineno">10752</span>&#160;    <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;unget = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a92f3dd9f6440c4acbd43c0bac43cb4f5">unget</a>;</div>
<div class="line"><a name="l10753"></a><span class="lineno">10753</span>&#160;    <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;spfree = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa0c0ae75eaaac5e6d9a7f7925da16cbb">spfree</a>;</div>
<div class="line"><a name="l10754"></a><span class="lineno">10754</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;lastc, <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a78020bfab294dc99a8d3c39a468307eb">lastc</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;lastc));</div>
<div class="line"><a name="l10755"></a><span class="lineno">10755</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l10756"></a><span class="lineno">10756</span>&#160;    <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;ap = <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l10757"></a><span class="lineno">10757</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>) {</div>
<div class="line"><a name="l10758"></a><span class="lineno">10758</span>&#160;        <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;flag |= ALIASINUSE;</div>
<div class="line"><a name="l10759"></a><span class="lineno">10759</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;string = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l10760"></a><span class="lineno">10760</span>&#160;    }</div>
<div class="line"><a name="l10761"></a><span class="lineno">10761</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10762"></a><span class="lineno">10762</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a> = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l10763"></a><span class="lineno">10763</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a> = <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l10764"></a><span class="lineno">10764</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a92f3dd9f6440c4acbd43c0bac43cb4f5">unget</a> = 0;</div>
<div class="line"><a name="l10765"></a><span class="lineno">10765</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa0c0ae75eaaac5e6d9a7f7925da16cbb">spfree</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l10766"></a><span class="lineno">10766</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l10767"></a><span class="lineno">10767</span>&#160;}</div>
<div class="line"><a name="l10768"></a><span class="lineno">10768</span>&#160; </div>
<div class="line"><a name="l10769"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adddbf4b3debf086a041bb581454ec618">10769</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#adddbf4b3debf086a041bb581454ec618">popstring</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l10770"></a><span class="lineno">10770</span>&#160;{</div>
<div class="line"><a name="l10771"></a><span class="lineno">10771</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/dc1/structstrpush">strpush</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a426e81f112b1f0c58aaef25160fd32ca">strpush</a>;</div>
<div class="line"><a name="l10772"></a><span class="lineno">10772</span>&#160; </div>
<div class="line"><a name="l10773"></a><span class="lineno">10773</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l10774"></a><span class="lineno">10774</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l10775"></a><span class="lineno">10775</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;ap) {</div>
<div class="line"><a name="l10776"></a><span class="lineno">10776</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a>[-1] == <span class="charliteral">&#39; &#39;</span></div>
<div class="line"><a name="l10777"></a><span class="lineno">10777</span>&#160;         || <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a>[-1] == <span class="charliteral">&#39;\t&#39;</span></div>
<div class="line"><a name="l10778"></a><span class="lineno">10778</span>&#160;        ) {</div>
<div class="line"><a name="l10779"></a><span class="lineno">10779</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> |= <a class="code" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a>;</div>
<div class="line"><a name="l10780"></a><span class="lineno">10780</span>&#160;        }</div>
<div class="line"><a name="l10781"></a><span class="lineno">10781</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;string != <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;ap-&gt;val) {</div>
<div class="line"><a name="l10782"></a><span class="lineno">10782</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;string);</div>
<div class="line"><a name="l10783"></a><span class="lineno">10783</span>&#160;        }</div>
<div class="line"><a name="l10784"></a><span class="lineno">10784</span>&#160;    }</div>
<div class="line"><a name="l10785"></a><span class="lineno">10785</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10786"></a><span class="lineno">10786</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;prev_string;</div>
<div class="line"><a name="l10787"></a><span class="lineno">10787</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;prev_left_in_line;</div>
<div class="line"><a name="l10788"></a><span class="lineno">10788</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a92f3dd9f6440c4acbd43c0bac43cb4f5">unget</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;unget;</div>
<div class="line"><a name="l10789"></a><span class="lineno">10789</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a78020bfab294dc99a8d3c39a468307eb">lastc</a>, <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;lastc, <span class="keyword">sizeof</span>(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;lastc));</div>
<div class="line"><a name="l10790"></a><span class="lineno">10790</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a426e81f112b1f0c58aaef25160fd32ca">strpush</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;prev;</div>
<div class="line"><a name="l10791"></a><span class="lineno">10791</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa0c0ae75eaaac5e6d9a7f7925da16cbb">spfree</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l10792"></a><span class="lineno">10792</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l10793"></a><span class="lineno">10793</span>&#160;}</div>
<div class="line"><a name="l10794"></a><span class="lineno">10794</span>&#160; </div>
<div class="line"><a name="l10795"></a><span class="lineno">10795</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l10796"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0e4598546299956b3a100e50e508c34d">10796</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a0e4598546299956b3a100e50e508c34d">preadfd</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l10797"></a><span class="lineno">10797</span>&#160;{</div>
<div class="line"><a name="l10798"></a><span class="lineno">10798</span>&#160;    <span class="keywordtype">int</span> nr;</div>
<div class="line"><a name="l10799"></a><span class="lineno">10799</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae1b927e3da6182fb8d5ab0bd12d3b824">buf</a>;</div>
<div class="line"><a name="l10800"></a><span class="lineno">10800</span>&#160; </div>
<div class="line"><a name="l10801"></a><span class="lineno">10801</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a> = <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l10802"></a><span class="lineno">10802</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_EDITING</span></div>
<div class="line"><a name="l10803"></a><span class="lineno">10803</span>&#160; <span class="comment">/* retry: */</span></div>
<div class="line"><a name="l10804"></a><span class="lineno">10804</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a> || <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a> != <a class="code" href="../../d6/d4f/excallback_8c.html#afcf80a6d91178952d107ad00b165752b">STDIN_FILENO</a>)</div>
<div class="line"><a name="l10805"></a><span class="lineno">10805</span>&#160;        nr = <a class="code" href="../../d7/dd7/libbb_8h.html#ad53b4a1026ef264bd6bf4b4219f76486">nonblock_immune_read</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a>, <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a699bcd70ab05310cf0eb6774a79cb56e">IBUFSIZ</a> - 1);</div>
<div class="line"><a name="l10806"></a><span class="lineno">10806</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10807"></a><span class="lineno">10807</span>&#160;<span class="preprocessor"># if ENABLE_ASH_IDLE_TIMEOUT</span></div>
<div class="line"><a name="l10808"></a><span class="lineno">10808</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d9/dbf/nc_8c.html#aee95051bab9d52640b37995884ab6979">timeout</a> = -1;</div>
<div class="line"><a name="l10809"></a><span class="lineno">10809</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *tmout_var = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;TMOUT&quot;</span>);</div>
<div class="line"><a name="l10810"></a><span class="lineno">10810</span>&#160;        <span class="keywordflow">if</span> (tmout_var) {</div>
<div class="line"><a name="l10811"></a><span class="lineno">10811</span>&#160;            <a class="code" href="../../d9/dbf/nc_8c.html#aee95051bab9d52640b37995884ab6979">timeout</a> = <a class="code" href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a>(tmout_var) * 1000;</div>
<div class="line"><a name="l10812"></a><span class="lineno">10812</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/dbf/nc_8c.html#aee95051bab9d52640b37995884ab6979">timeout</a> &lt;= 0)</div>
<div class="line"><a name="l10813"></a><span class="lineno">10813</span>&#160;                <a class="code" href="../../d9/dbf/nc_8c.html#aee95051bab9d52640b37995884ab6979">timeout</a> = -1;</div>
<div class="line"><a name="l10814"></a><span class="lineno">10814</span>&#160;        }</div>
<div class="line"><a name="l10815"></a><span class="lineno">10815</span>&#160;        line_input_state-&gt;timeout = <a class="code" href="../../d9/dbf/nc_8c.html#aee95051bab9d52640b37995884ab6979">timeout</a>;</div>
<div class="line"><a name="l10816"></a><span class="lineno">10816</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l10817"></a><span class="lineno">10817</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_TAB_COMPLETION</span></div>
<div class="line"><a name="l10818"></a><span class="lineno">10818</span>&#160;        line_input_state-&gt;path_lookup = <a class="code" href="../../d1/dbe/ash_8c.html#a1a0f44024ffe6329c9c6cda41fd24d30">pathval</a>();</div>
<div class="line"><a name="l10819"></a><span class="lineno">10819</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l10820"></a><span class="lineno">10820</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af36cd12454a274bc186175cf6def6e1f">reinit_unicode_for_ash</a>();</div>
<div class="line"><a name="l10821"></a><span class="lineno">10821</span>&#160; again:</div>
<div class="line"><a name="l10822"></a><span class="lineno">10822</span>&#160;        <span class="comment">/* For shell, LI_INTERRUPTIBLE is set:</span></div>
<div class="line"><a name="l10823"></a><span class="lineno">10823</span>&#160;<span class="comment">         * read_line_input will abort on either</span></div>
<div class="line"><a name="l10824"></a><span class="lineno">10824</span>&#160;<span class="comment">         * getting EINTR in poll(), or if it sees bb_got_signal != 0</span></div>
<div class="line"><a name="l10825"></a><span class="lineno">10825</span>&#160;<span class="comment">         * (IOW: if signal arrives before poll() is reached).</span></div>
<div class="line"><a name="l10826"></a><span class="lineno">10826</span>&#160;<span class="comment">         * Interactive testcases:</span></div>
<div class="line"><a name="l10827"></a><span class="lineno">10827</span>&#160;<span class="comment">         * (while kill -INT $$; do sleep 1; done) &amp;</span></div>
<div class="line"><a name="l10828"></a><span class="lineno">10828</span>&#160;<span class="comment">         * #^^^ prints ^C, prints prompt, repeats</span></div>
<div class="line"><a name="l10829"></a><span class="lineno">10829</span>&#160;<span class="comment">         * trap &#39;echo I&#39; int; (while kill -INT $$; do sleep 1; done) &amp;</span></div>
<div class="line"><a name="l10830"></a><span class="lineno">10830</span>&#160;<span class="comment">         * #^^^ prints ^C, prints &quot;I&quot;, prints prompt, repeats</span></div>
<div class="line"><a name="l10831"></a><span class="lineno">10831</span>&#160;<span class="comment">         * trap &#39;echo T&#39; term; (while kill $$; do sleep 1; done) &amp;</span></div>
<div class="line"><a name="l10832"></a><span class="lineno">10832</span>&#160;<span class="comment">         * #^^^ prints &quot;T&quot;, prints prompt, repeats</span></div>
<div class="line"><a name="l10833"></a><span class="lineno">10833</span>&#160;<span class="comment">         * #(bash 5.0.17 exits after first &quot;T&quot;, looks like a bug)</span></div>
<div class="line"><a name="l10834"></a><span class="lineno">10834</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l10835"></a><span class="lineno">10835</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#adebb97edb6719239f551a4318163a71e">bb_got_signal</a> = 0;</div>
<div class="line"><a name="l10836"></a><span class="lineno">10836</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>; <span class="comment">/* no longjmp&#39;ing out of read_line_input please */</span></div>
<div class="line"><a name="l10837"></a><span class="lineno">10837</span>&#160;        nr = <a class="code" href="../../d7/dd7/libbb_8h.html#aae498fef9d264b5d4d6eab3ae8bf18b1">read_line_input</a>(line_input_state, cmdedit_prompt, <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a699bcd70ab05310cf0eb6774a79cb56e">IBUFSIZ</a>);</div>
<div class="line"><a name="l10838"></a><span class="lineno">10838</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#adebb97edb6719239f551a4318163a71e">bb_got_signal</a> == <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>)</div>
<div class="line"><a name="l10839"></a><span class="lineno">10839</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#abd6ad778aba7e4737ddd9ccb3b1335ff">write</a>(<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#abd165ee6474b5b75bf075842fff13a04">STDOUT_FILENO</a>, <span class="stringliteral">&quot;^C\n&quot;</span>, 3);</div>
<div class="line"><a name="l10840"></a><span class="lineno">10840</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>; <span class="comment">/* here non-blocked SIGINT will longjmp */</span></div>
<div class="line"><a name="l10841"></a><span class="lineno">10841</span>&#160;        <span class="keywordflow">if</span> (nr == 0) {</div>
<div class="line"><a name="l10842"></a><span class="lineno">10842</span>&#160;            <span class="comment">/* ^C pressed, &quot;convert&quot; to SIGINT */</span></div>
<div class="line"><a name="l10843"></a><span class="lineno">10843</span>&#160;            <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#abd6ad778aba7e4737ddd9ccb3b1335ff">write</a>(<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#abd165ee6474b5b75bf075842fff13a04">STDOUT_FILENO</a>, <span class="stringliteral">&quot;^C\n&quot;</span>, 3);</div>
<div class="line"><a name="l10844"></a><span class="lineno">10844</span>&#160;            <span class="keyword">raise</span>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>); <span class="comment">/* here non-blocked SIGINT will longjmp */</span></div>
<div class="line"><a name="l10845"></a><span class="lineno">10845</span>&#160;            <span class="comment">/* raise(SIGINT) did not work! (e.g. if SIGINT</span></div>
<div class="line"><a name="l10846"></a><span class="lineno">10846</span>&#160;<span class="comment">             * is SIG_IGNed on startup, it stays SIG_IGNed)</span></div>
<div class="line"><a name="l10847"></a><span class="lineno">10847</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l10848"></a><span class="lineno">10848</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>]) {</div>
<div class="line"><a name="l10849"></a><span class="lineno">10849</span>&#160; empty_line_input:</div>
<div class="line"><a name="l10850"></a><span class="lineno">10850</span>&#160;                <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[0] = <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l10851"></a><span class="lineno">10851</span>&#160;                <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l10852"></a><span class="lineno">10852</span>&#160;                <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l10853"></a><span class="lineno">10853</span>&#160;            }</div>
<div class="line"><a name="l10854"></a><span class="lineno">10854</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = 128 + <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>;</div>
<div class="line"><a name="l10855"></a><span class="lineno">10855</span>&#160;            <span class="comment">/* bash behavior on ^C + ignored SIGINT: */</span></div>
<div class="line"><a name="l10856"></a><span class="lineno">10856</span>&#160;            <span class="keywordflow">goto</span> again;</div>
<div class="line"><a name="l10857"></a><span class="lineno">10857</span>&#160;        }</div>
<div class="line"><a name="l10858"></a><span class="lineno">10858</span>&#160;        <span class="keywordflow">if</span> (nr &lt; 0) {</div>
<div class="line"><a name="l10859"></a><span class="lineno">10859</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == 0) {</div>
<div class="line"><a name="l10860"></a><span class="lineno">10860</span>&#160;                <span class="comment">/* ^D pressed */</span></div>
<div class="line"><a name="l10861"></a><span class="lineno">10861</span>&#160;                nr = 0;</div>
<div class="line"><a name="l10862"></a><span class="lineno">10862</span>&#160;            }</div>
<div class="line"><a name="l10863"></a><span class="lineno">10863</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a46b83d9f6c23b1b65a8cecfd775ddaed">EINTR</a>) { <span class="comment">/* got signal? */</span></div>
<div class="line"><a name="l10864"></a><span class="lineno">10864</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#adebb97edb6719239f551a4318163a71e">bb_got_signal</a> != <a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>)</div>
<div class="line"><a name="l10865"></a><span class="lineno">10865</span>&#160;                    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#abd6ad778aba7e4737ddd9ccb3b1335ff">write</a>(<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#abd165ee6474b5b75bf075842fff13a04">STDOUT_FILENO</a>, <span class="stringliteral">&quot;\n&quot;</span>, 1);</div>
<div class="line"><a name="l10866"></a><span class="lineno">10866</span>&#160;                <span class="keywordflow">goto</span> empty_line_input;</div>
<div class="line"><a name="l10867"></a><span class="lineno">10867</span>&#160;            }</div>
<div class="line"><a name="l10868"></a><span class="lineno">10868</span>&#160;<span class="preprocessor"># if ENABLE_ASH_IDLE_TIMEOUT</span></div>
<div class="line"><a name="l10869"></a><span class="lineno">10869</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#af0fac1cea1165b4debec7f686edf3313">EAGAIN</a> &amp;&amp; <a class="code" href="../../d9/dbf/nc_8c.html#aee95051bab9d52640b37995884ab6979">timeout</a> &gt; 0) {</div>
<div class="line"><a name="l10870"></a><span class="lineno">10870</span>&#160;                <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;\007timed out waiting for input: auto-logout&quot;</span>);</div>
<div class="line"><a name="l10871"></a><span class="lineno">10871</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ace06db56149bfddd0498cf709c4065f1">exitshell</a>();</div>
<div class="line"><a name="l10872"></a><span class="lineno">10872</span>&#160;            }</div>
<div class="line"><a name="l10873"></a><span class="lineno">10873</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l10874"></a><span class="lineno">10874</span>&#160;        }</div>
<div class="line"><a name="l10875"></a><span class="lineno">10875</span>&#160;    }</div>
<div class="line"><a name="l10876"></a><span class="lineno">10876</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l10877"></a><span class="lineno">10877</span>&#160;    nr = <a class="code" href="../../d7/dd7/libbb_8h.html#ad53b4a1026ef264bd6bf4b4219f76486">nonblock_immune_read</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a>, <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a699bcd70ab05310cf0eb6774a79cb56e">IBUFSIZ</a> - 1);</div>
<div class="line"><a name="l10878"></a><span class="lineno">10878</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10879"></a><span class="lineno">10879</span>&#160; </div>
<div class="line"><a name="l10880"></a><span class="lineno">10880</span>&#160;<span class="preprocessor">#if 0 </span><span class="comment">/* disabled: nonblock_immune_read() handles this problem */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l10881"></a><span class="lineno">10881</span>&#160;    <span class="keywordflow">if</span> (nr &lt; 0) {</div>
<div class="line"><a name="l10882"></a><span class="lineno">10882</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a>-&gt;fd == 0 &amp;&amp; <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../df/d19/Userspace_2musl_2arch_2generic_2bits_2errno_8h.html#a4a3a0b3605fd3b2336455062ee8e25f0">EWOULDBLOCK</a>) {</div>
<div class="line"><a name="l10883"></a><span class="lineno">10883</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a>(0, <a class="code" href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#a025fad21a889c79f02ec53abe3526c32">F_GETFL</a>);</div>
<div class="line"><a name="l10884"></a><span class="lineno">10884</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &gt;= 0 &amp;&amp; (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d2/d59/fdflags_8c.html#a39d33ce33804efd4d52606d59071c6d8">O_NONBLOCK</a>)) {</div>
<div class="line"><a name="l10885"></a><span class="lineno">10885</span>&#160;                <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp;= ~<a class="code" href="../../d2/d59/fdflags_8c.html#a39d33ce33804efd4d52606d59071c6d8">O_NONBLOCK</a>;</div>
<div class="line"><a name="l10886"></a><span class="lineno">10886</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a>(0, <a class="code" href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#af2939853c650561d3495ed40f68f6249">F_SETFL</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>) &gt;= 0) {</div>
<div class="line"><a name="l10887"></a><span class="lineno">10887</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#ad41387932da6f74836f39a196a96519c">out2str</a>(<span class="stringliteral">&quot;sh: turning off NDELAY mode\n&quot;</span>);</div>
<div class="line"><a name="l10888"></a><span class="lineno">10888</span>&#160;                    <span class="keywordflow">goto</span> retry;</div>
<div class="line"><a name="l10889"></a><span class="lineno">10889</span>&#160;                }</div>
<div class="line"><a name="l10890"></a><span class="lineno">10890</span>&#160;            }</div>
<div class="line"><a name="l10891"></a><span class="lineno">10891</span>&#160;        }</div>
<div class="line"><a name="l10892"></a><span class="lineno">10892</span>&#160;    }</div>
<div class="line"><a name="l10893"></a><span class="lineno">10893</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l10894"></a><span class="lineno">10894</span>&#160;    <span class="keywordflow">return</span> nr;</div>
<div class="line"><a name="l10895"></a><span class="lineno">10895</span>&#160;}</div>
<div class="line"><a name="l10896"></a><span class="lineno">10896</span>&#160; </div>
<div class="line"><a name="l10897"></a><span class="lineno">10897</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l10898"></a><span class="lineno">10898</span>&#160;<span class="comment"> * Refill the input buffer and return the next input character:</span></div>
<div class="line"><a name="l10899"></a><span class="lineno">10899</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l10900"></a><span class="lineno">10900</span>&#160;<span class="comment"> * 1) If a string was pushed back on the input, pop it;</span></div>
<div class="line"><a name="l10901"></a><span class="lineno">10901</span>&#160;<span class="comment"> * 2) If we are reading from a string we can&#39;t refill the buffer, return EOF.</span></div>
<div class="line"><a name="l10902"></a><span class="lineno">10902</span>&#160;<span class="comment"> * 3) If there is more stuff in this buffer, use it else call read to fill it.</span></div>
<div class="line"><a name="l10903"></a><span class="lineno">10903</span>&#160;<span class="comment"> * 4) Process input up to the next newline, deleting nul characters.</span></div>
<div class="line"><a name="l10904"></a><span class="lineno">10904</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l10905"></a><span class="lineno">10905</span>&#160;<span class="comment">//#define pgetc_debug(...) bb_error_msg(__VA_ARGS__)</span></div>
<div class="line"><a name="l10906"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a021c8b1363dee1e343be1406eee3e2c3">10906</a></span>&#160;<span class="preprocessor">#define pgetc_debug(...) ((void)0)</span></div>
<div class="line"><a name="l10907"></a><span class="lineno">10907</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a071a99389e62437603cea07c20ee1aed">__pgetc</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l10908"></a><span class="lineno">10908</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l10909"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad09b70a19d9fa0596d36d0f569aa14eb">10909</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ad09b70a19d9fa0596d36d0f569aa14eb">preadbuffer</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l10910"></a><span class="lineno">10910</span>&#160;{</div>
<div class="line"><a name="l10911"></a><span class="lineno">10911</span>&#160;    <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l10912"></a><span class="lineno">10912</span>&#160;    <span class="keywordtype">int</span> more;</div>
<div class="line"><a name="l10913"></a><span class="lineno">10913</span>&#160; </div>
<div class="line"><a name="l10914"></a><span class="lineno">10914</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a6e951923c66693f5d308458676313f2e">unlikely</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a426e81f112b1f0c58aaef25160fd32ca">strpush</a>)) {</div>
<div class="line"><a name="l10915"></a><span class="lineno">10915</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#adddbf4b3debf086a041bb581454ec618">popstring</a>();</div>
<div class="line"><a name="l10916"></a><span class="lineno">10916</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a071a99389e62437603cea07c20ee1aed">__pgetc</a>();</div>
<div class="line"><a name="l10917"></a><span class="lineno">10917</span>&#160;    }</div>
<div class="line"><a name="l10918"></a><span class="lineno">10918</span>&#160; </div>
<div class="line"><a name="l10919"></a><span class="lineno">10919</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae1b927e3da6182fb8d5ab0bd12d3b824">buf</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l10920"></a><span class="lineno">10920</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a021c8b1363dee1e343be1406eee3e2c3">pgetc_debug</a>(<span class="stringliteral">&quot;preadbuffer PEOF1&quot;</span>);</div>
<div class="line"><a name="l10921"></a><span class="lineno">10921</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a>;</div>
<div class="line"><a name="l10922"></a><span class="lineno">10922</span>&#160;    }</div>
<div class="line"><a name="l10923"></a><span class="lineno">10923</span>&#160; </div>
<div class="line"><a name="l10924"></a><span class="lineno">10924</span>&#160;    more = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad5c73cd25605aa1ec12d8b5678cec38f">left_in_buffer</a>;</div>
<div class="line"><a name="l10925"></a><span class="lineno">10925</span>&#160;    <span class="keywordflow">if</span> (more &lt;= 0) {</div>
<div class="line"><a name="l10926"></a><span class="lineno">10926</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8b4918e978236b595cd0683297407875">flush_stdout_stderr</a>();</div>
<div class="line"><a name="l10927"></a><span class="lineno">10927</span>&#160; again:</div>
<div class="line"><a name="l10928"></a><span class="lineno">10928</span>&#160;        more = <a class="code" href="../../d1/dbe/ash_8c.html#a0e4598546299956b3a100e50e508c34d">preadfd</a>();</div>
<div class="line"><a name="l10929"></a><span class="lineno">10929</span>&#160;        <span class="keywordflow">if</span> (more &lt;= 0) {</div>
<div class="line"><a name="l10930"></a><span class="lineno">10930</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad5c73cd25605aa1ec12d8b5678cec38f">left_in_buffer</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a> = 0;</div>
<div class="line"><a name="l10931"></a><span class="lineno">10931</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a021c8b1363dee1e343be1406eee3e2c3">pgetc_debug</a>(<span class="stringliteral">&quot;preadbuffer PEOF2&quot;</span>);</div>
<div class="line"><a name="l10932"></a><span class="lineno">10932</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a>;</div>
<div class="line"><a name="l10933"></a><span class="lineno">10933</span>&#160;        }</div>
<div class="line"><a name="l10934"></a><span class="lineno">10934</span>&#160;    }</div>
<div class="line"><a name="l10935"></a><span class="lineno">10935</span>&#160; </div>
<div class="line"><a name="l10936"></a><span class="lineno">10936</span>&#160;    <span class="comment">/* Find out where&#39;s the end of line.</span></div>
<div class="line"><a name="l10937"></a><span class="lineno">10937</span>&#160;<span class="comment">     * Set g_parsefile-&gt;left_in_line</span></div>
<div class="line"><a name="l10938"></a><span class="lineno">10938</span>&#160;<span class="comment">     * and g_parsefile-&gt;left_in_buffer acordingly.</span></div>
<div class="line"><a name="l10939"></a><span class="lineno">10939</span>&#160;<span class="comment">     * NUL chars are deleted.</span></div>
<div class="line"><a name="l10940"></a><span class="lineno">10940</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l10941"></a><span class="lineno">10941</span>&#160;    q = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a>;</div>
<div class="line"><a name="l10942"></a><span class="lineno">10942</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l10943"></a><span class="lineno">10943</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l10944"></a><span class="lineno">10944</span>&#160; </div>
<div class="line"><a name="l10945"></a><span class="lineno">10945</span>&#160;        more--;</div>
<div class="line"><a name="l10946"></a><span class="lineno">10946</span>&#160; </div>
<div class="line"><a name="l10947"></a><span class="lineno">10947</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *q;</div>
<div class="line"><a name="l10948"></a><span class="lineno">10948</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l10949"></a><span class="lineno">10949</span>&#160;            <a class="code" href="../../d3/d82/convert_8h.html#ade3705de59d35b8a437f71a8beff883c">memmove</a>(q, q + 1, more);</div>
<div class="line"><a name="l10950"></a><span class="lineno">10950</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l10951"></a><span class="lineno">10951</span>&#160;            q++;</div>
<div class="line"><a name="l10952"></a><span class="lineno">10952</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l10953"></a><span class="lineno">10953</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a> = q - <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a> - 1;</div>
<div class="line"><a name="l10954"></a><span class="lineno">10954</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10955"></a><span class="lineno">10955</span>&#160;            }</div>
<div class="line"><a name="l10956"></a><span class="lineno">10956</span>&#160;        }</div>
<div class="line"><a name="l10957"></a><span class="lineno">10957</span>&#160; </div>
<div class="line"><a name="l10958"></a><span class="lineno">10958</span>&#160;        <span class="keywordflow">if</span> (more &lt;= 0) {</div>
<div class="line"><a name="l10959"></a><span class="lineno">10959</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a> = q - <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a> - 1;</div>
<div class="line"><a name="l10960"></a><span class="lineno">10960</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a> &lt; 0)</div>
<div class="line"><a name="l10961"></a><span class="lineno">10961</span>&#160;                <span class="keywordflow">goto</span> again;</div>
<div class="line"><a name="l10962"></a><span class="lineno">10962</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l10963"></a><span class="lineno">10963</span>&#160;        }</div>
<div class="line"><a name="l10964"></a><span class="lineno">10964</span>&#160;    }</div>
<div class="line"><a name="l10965"></a><span class="lineno">10965</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad5c73cd25605aa1ec12d8b5678cec38f">left_in_buffer</a> = more;</div>
<div class="line"><a name="l10966"></a><span class="lineno">10966</span>&#160; </div>
<div class="line"><a name="l10967"></a><span class="lineno">10967</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a087674c0a332485e0ccea9dc28cb43d9">vflag</a>) {</div>
<div class="line"><a name="l10968"></a><span class="lineno">10968</span>&#160;        <span class="keywordtype">char</span> save = *q;</div>
<div class="line"><a name="l10969"></a><span class="lineno">10969</span>&#160;        *q = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l10970"></a><span class="lineno">10970</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad41387932da6f74836f39a196a96519c">out2str</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a>);</div>
<div class="line"><a name="l10971"></a><span class="lineno">10971</span>&#160;        *q = save;</div>
<div class="line"><a name="l10972"></a><span class="lineno">10972</span>&#160;    }</div>
<div class="line"><a name="l10973"></a><span class="lineno">10973</span>&#160; </div>
<div class="line"><a name="l10974"></a><span class="lineno">10974</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a021c8b1363dee1e343be1406eee3e2c3">pgetc_debug</a>(<span class="stringliteral">&quot;preadbuffer at %d:%p&#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l10975"></a><span class="lineno">10975</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a>,</div>
<div class="line"><a name="l10976"></a><span class="lineno">10976</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a>,</div>
<div class="line"><a name="l10977"></a><span class="lineno">10977</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a>);</div>
<div class="line"><a name="l10978"></a><span class="lineno">10978</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a>++;</div>
<div class="line"><a name="l10979"></a><span class="lineno">10979</span>&#160;}</div>
<div class="line"><a name="l10980"></a><span class="lineno">10980</span>&#160; </div>
<div class="line"><a name="l10981"></a><span class="lineno">10981</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l10982"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac2aaabf4d57e3cb4690c39092a8f3f02">10982</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac2aaabf4d57e3cb4690c39092a8f3f02">nlprompt</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l10983"></a><span class="lineno">10983</span>&#160;{</div>
<div class="line"><a name="l10984"></a><span class="lineno">10984</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a20992d7f055cb9f17f94f97c830e819e">trap_depth</a> == 0)</div>
<div class="line"><a name="l10985"></a><span class="lineno">10985</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">linno</a>++;</div>
<div class="line"><a name="l10986"></a><span class="lineno">10986</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7293b0347a906fd7957e16aac7c5243e">setprompt_if</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a>, 2);</div>
<div class="line"><a name="l10987"></a><span class="lineno">10987</span>&#160;}</div>
<div class="line"><a name="l10988"></a><span class="lineno">10988</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l10989"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a632784d42b5406b264f72edcf19c8e9c">10989</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a632784d42b5406b264f72edcf19c8e9c">nlnoprompt</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l10990"></a><span class="lineno">10990</span>&#160;{</div>
<div class="line"><a name="l10991"></a><span class="lineno">10991</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a20992d7f055cb9f17f94f97c830e819e">trap_depth</a> == 0)</div>
<div class="line"><a name="l10992"></a><span class="lineno">10992</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">linno</a>++;</div>
<div class="line"><a name="l10993"></a><span class="lineno">10993</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a010f966b977f7398eca0ffd8997421d1">needprompt</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a>;</div>
<div class="line"><a name="l10994"></a><span class="lineno">10994</span>&#160;}</div>
<div class="line"><a name="l10995"></a><span class="lineno">10995</span>&#160; </div>
<div class="line"><a name="l10996"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#afb296c0b318d8182e768a56aaf9a38c5">10996</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#afb296c0b318d8182e768a56aaf9a38c5">freestrings</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#da/dc1/structstrpush">strpush</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>)</div>
<div class="line"><a name="l10997"></a><span class="lineno">10997</span>&#160;{</div>
<div class="line"><a name="l10998"></a><span class="lineno">10998</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l10999"></a><span class="lineno">10999</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l11000"></a><span class="lineno">11000</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/dc1/structstrpush">strpush</a> *psp;</div>
<div class="line"><a name="l11001"></a><span class="lineno">11001</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l11002"></a><span class="lineno">11002</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;ap) {</div>
<div class="line"><a name="l11003"></a><span class="lineno">11003</span>&#160;            <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;ap-&gt;flag &amp;= ~ALIASINUSE;</div>
<div class="line"><a name="l11004"></a><span class="lineno">11004</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;ap-&gt;flag &amp; ALIASDEAD) {</div>
<div class="line"><a name="l11005"></a><span class="lineno">11005</span>&#160;                unalias(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;ap-&gt;name);</div>
<div class="line"><a name="l11006"></a><span class="lineno">11006</span>&#160;            }</div>
<div class="line"><a name="l11007"></a><span class="lineno">11007</span>&#160;        }</div>
<div class="line"><a name="l11008"></a><span class="lineno">11008</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l11009"></a><span class="lineno">11009</span>&#160;        psp = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;</div>
<div class="line"><a name="l11010"></a><span class="lineno">11010</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>-&gt;spfree;</div>
<div class="line"><a name="l11011"></a><span class="lineno">11011</span>&#160; </div>
<div class="line"><a name="l11012"></a><span class="lineno">11012</span>&#160;        <span class="keywordflow">if</span> (psp != &amp;(<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a7878e2b49a95d63431a01e82a7c7ba16">basestrpush</a>))</div>
<div class="line"><a name="l11013"></a><span class="lineno">11013</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(psp);</div>
<div class="line"><a name="l11014"></a><span class="lineno">11014</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>);</div>
<div class="line"><a name="l11015"></a><span class="lineno">11015</span>&#160; </div>
<div class="line"><a name="l11016"></a><span class="lineno">11016</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa0c0ae75eaaac5e6d9a7f7925da16cbb">spfree</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l11017"></a><span class="lineno">11017</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l11018"></a><span class="lineno">11018</span>&#160;}</div>
<div class="line"><a name="l11019"></a><span class="lineno">11019</span>&#160; </div>
<div class="line"><a name="l11020"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a071a99389e62437603cea07c20ee1aed">11020</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a071a99389e62437603cea07c20ee1aed">__pgetc</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11021"></a><span class="lineno">11021</span>&#160;{</div>
<div class="line"><a name="l11022"></a><span class="lineno">11022</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l11023"></a><span class="lineno">11023</span>&#160; </div>
<div class="line"><a name="l11024"></a><span class="lineno">11024</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a021c8b1363dee1e343be1406eee3e2c3">pgetc_debug</a>(<span class="stringliteral">&quot;pgetc at %d:%p&#39;%s&#39;&quot;</span>,</div>
<div class="line"><a name="l11025"></a><span class="lineno">11025</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a>,</div>
<div class="line"><a name="l11026"></a><span class="lineno">11026</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a>,</div>
<div class="line"><a name="l11027"></a><span class="lineno">11027</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a>);</div>
<div class="line"><a name="l11028"></a><span class="lineno">11028</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a92f3dd9f6440c4acbd43c0bac43cb4f5">unget</a>)</div>
<div class="line"><a name="l11029"></a><span class="lineno">11029</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a78020bfab294dc99a8d3c39a468307eb">lastc</a>[--<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a92f3dd9f6440c4acbd43c0bac43cb4f5">unget</a>];</div>
<div class="line"><a name="l11030"></a><span class="lineno">11030</span>&#160; </div>
<div class="line"><a name="l11031"></a><span class="lineno">11031</span>&#160;    <span class="keywordflow">if</span> (--<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a> &gt;= 0)</div>
<div class="line"><a name="l11032"></a><span class="lineno">11032</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = (<span class="keywordtype">unsigned</span> char)*<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a>++;</div>
<div class="line"><a name="l11033"></a><span class="lineno">11033</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l11034"></a><span class="lineno">11034</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ad09b70a19d9fa0596d36d0f569aa14eb">preadbuffer</a>();</div>
<div class="line"><a name="l11035"></a><span class="lineno">11035</span>&#160; </div>
<div class="line"><a name="l11036"></a><span class="lineno">11036</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a78020bfab294dc99a8d3c39a468307eb">lastc</a>[1] = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a78020bfab294dc99a8d3c39a468307eb">lastc</a>[0];</div>
<div class="line"><a name="l11037"></a><span class="lineno">11037</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a78020bfab294dc99a8d3c39a468307eb">lastc</a>[0] = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l11038"></a><span class="lineno">11038</span>&#160; </div>
<div class="line"><a name="l11039"></a><span class="lineno">11039</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l11040"></a><span class="lineno">11040</span>&#160;}</div>
<div class="line"><a name="l11041"></a><span class="lineno">11041</span>&#160; </div>
<div class="line"><a name="l11042"></a><span class="lineno">11042</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11043"></a><span class="lineno">11043</span>&#160;<span class="comment"> * Read a character from the script, returning PEOF on end of file.</span></div>
<div class="line"><a name="l11044"></a><span class="lineno">11044</span>&#160;<span class="comment"> * Nul characters in the input are silently discarded.</span></div>
<div class="line"><a name="l11045"></a><span class="lineno">11045</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11046"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">11046</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11047"></a><span class="lineno">11047</span>&#160;{</div>
<div class="line"><a name="l11048"></a><span class="lineno">11048</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/dc1/structstrpush">strpush</a> *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa0c0ae75eaaac5e6d9a7f7925da16cbb">spfree</a>;</div>
<div class="line"><a name="l11049"></a><span class="lineno">11049</span>&#160; </div>
<div class="line"><a name="l11050"></a><span class="lineno">11050</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a6e951923c66693f5d308458676313f2e">unlikely</a>(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>))</div>
<div class="line"><a name="l11051"></a><span class="lineno">11051</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afb296c0b318d8182e768a56aaf9a38c5">freestrings</a>(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>);</div>
<div class="line"><a name="l11052"></a><span class="lineno">11052</span>&#160; </div>
<div class="line"><a name="l11053"></a><span class="lineno">11053</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a071a99389e62437603cea07c20ee1aed">__pgetc</a>();</div>
<div class="line"><a name="l11054"></a><span class="lineno">11054</span>&#160;}</div>
<div class="line"><a name="l11055"></a><span class="lineno">11055</span>&#160; </div>
<div class="line"><a name="l11056"></a><span class="lineno">11056</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11057"></a><span class="lineno">11057</span>&#160;<span class="comment"> * Undo a call to pgetc.  Only two characters may be pushed back.</span></div>
<div class="line"><a name="l11058"></a><span class="lineno">11058</span>&#160;<span class="comment"> * PEOF may be pushed back.</span></div>
<div class="line"><a name="l11059"></a><span class="lineno">11059</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11060"></a><span class="lineno">11060</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11061"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">11061</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11062"></a><span class="lineno">11062</span>&#160;{</div>
<div class="line"><a name="l11063"></a><span class="lineno">11063</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a92f3dd9f6440c4acbd43c0bac43cb4f5">unget</a>++;</div>
<div class="line"><a name="l11064"></a><span class="lineno">11064</span>&#160;}</div>
<div class="line"><a name="l11065"></a><span class="lineno">11065</span>&#160; </div>
<div class="line"><a name="l11066"></a><span class="lineno">11066</span>&#160;<span class="comment">/* This one eats backslash+newline */</span></div>
<div class="line"><a name="l11067"></a><span class="lineno">11067</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l11068"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">11068</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11069"></a><span class="lineno">11069</span>&#160;{</div>
<div class="line"><a name="l11070"></a><span class="lineno">11070</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l11071"></a><span class="lineno">11071</span>&#160; </div>
<div class="line"><a name="l11072"></a><span class="lineno">11072</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>()) == <span class="charliteral">&#39;\\&#39;</span>) {</div>
<div class="line"><a name="l11073"></a><span class="lineno">11073</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>() != <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l11074"></a><span class="lineno">11074</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l11075"></a><span class="lineno">11075</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11076"></a><span class="lineno">11076</span>&#160;        }</div>
<div class="line"><a name="l11077"></a><span class="lineno">11077</span>&#160; </div>
<div class="line"><a name="l11078"></a><span class="lineno">11078</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ac2aaabf4d57e3cb4690c39092a8f3f02">nlprompt</a>();</div>
<div class="line"><a name="l11079"></a><span class="lineno">11079</span>&#160;    }</div>
<div class="line"><a name="l11080"></a><span class="lineno">11080</span>&#160; </div>
<div class="line"><a name="l11081"></a><span class="lineno">11081</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l11082"></a><span class="lineno">11082</span>&#160;}</div>
<div class="line"><a name="l11083"></a><span class="lineno">11083</span>&#160; </div>
<div class="line"><a name="l11084"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">11084</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a> {</div>
<div class="line"><a name="l11085"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">11085</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#a64ca60148755cc31a03b9bb0a44aafc3">smalluint</a> <a class="code" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">syntax</a>;</div>
<div class="line"><a name="l11086"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5247fc87a061b8a6df182eddf60fe07d">11086</a></span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> <a class="code" href="../../d1/dbe/ash_8c.html#a5247fc87a061b8a6df182eddf60fe07d">innerdq</a>   :1;</div>
<div class="line"><a name="l11087"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a28cb24c264c5e4cf63b673e4b98ddd86">11087</a></span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> <a class="code" href="../../d1/dbe/ash_8c.html#a28cb24c264c5e4cf63b673e4b98ddd86">varpushed</a> :1;</div>
<div class="line"><a name="l11088"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">11088</a></span>&#160;    <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> <a class="code" href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">dblquote</a>  :1;</div>
<div class="line"><a name="l11089"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">11089</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">varnest</a>;        <span class="comment">/* levels of variables expansion */</span></div>
<div class="line"><a name="l11090"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6076fdfe4a4e7be6838d89cf6a46fe86">11090</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a6076fdfe4a4e7be6838d89cf6a46fe86">dqvarnest</a>;      <span class="comment">/* levels of variables expansion within double quotes */</span></div>
<div class="line"><a name="l11091"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4c1815f17f83081f487e3812558e271d">11091</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4c1815f17f83081f487e3812558e271d">parenlevel</a>;     <span class="comment">/* levels of parens in arithmetic */</span></div>
<div class="line"><a name="l11092"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8168bc1def8480b9821d9b119eb6a96b">11092</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a8168bc1def8480b9821d9b119eb6a96b">prev</a>;</div>
<div class="line"><a name="l11093"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a48c7b040dfc8cff65615cc855b9b11e2">11093</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a48c7b040dfc8cff65615cc855b9b11e2">next</a>;</div>
<div class="line"><a name="l11094"></a><span class="lineno">11094</span>&#160;};</div>
<div class="line"><a name="l11095"></a><span class="lineno">11095</span>&#160; </div>
<div class="line"><a name="l11096"></a><span class="lineno">11096</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l11097"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a33824ce802c252a2f3a2082c40b21ea7">11097</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a33824ce802c252a2f3a2082c40b21ea7">pgetc_top</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a> *<a class="code" href="../../d6/dae/dc_8c.html#ab151537536988a2190d2cac79f964c52">stack</a>)</div>
<div class="line"><a name="l11098"></a><span class="lineno">11098</span>&#160;{</div>
<div class="line"><a name="l11099"></a><span class="lineno">11099</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/dae/dc_8c.html#ab151537536988a2190d2cac79f964c52">stack</a>-&gt;syntax == <a class="code" href="../../d1/dbe/ash_8c.html#a5679e97a6d2f4d924815b16997badb3e">SQSYNTAX</a> ? <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>() : <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l11100"></a><span class="lineno">11100</span>&#160;}</div>
<div class="line"><a name="l11101"></a><span class="lineno">11101</span>&#160; </div>
<div class="line"><a name="l11102"></a><span class="lineno">11102</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11103"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac007015723838d344bebdf44dccf8e8b">11103</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac007015723838d344bebdf44dccf8e8b">synstack_push</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a> **<a class="code" href="../../d6/dae/dc_8c.html#ab151537536988a2190d2cac79f964c52">stack</a>, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a> *<a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>, <span class="keywordtype">int</span> <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a801e35a8df4386fb44c9678c3040afcd">syntax</a>)</div>
<div class="line"><a name="l11104"></a><span class="lineno">11104</span>&#160;{</div>
<div class="line"><a name="l11105"></a><span class="lineno">11105</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a>(<a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>, 0, <span class="keyword">sizeof</span>(*<a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>));</div>
<div class="line"><a name="l11106"></a><span class="lineno">11106</span>&#160;    <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>-&gt;syntax = <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a801e35a8df4386fb44c9678c3040afcd">syntax</a>;</div>
<div class="line"><a name="l11107"></a><span class="lineno">11107</span>&#160;    <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>-&gt;next = *<a class="code" href="../../d6/dae/dc_8c.html#ab151537536988a2190d2cac79f964c52">stack</a>;</div>
<div class="line"><a name="l11108"></a><span class="lineno">11108</span>&#160;    (*stack)-&gt;prev = <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>;</div>
<div class="line"><a name="l11109"></a><span class="lineno">11109</span>&#160;    *<a class="code" href="../../d6/dae/dc_8c.html#ab151537536988a2190d2cac79f964c52">stack</a> = <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>;</div>
<div class="line"><a name="l11110"></a><span class="lineno">11110</span>&#160;}</div>
<div class="line"><a name="l11111"></a><span class="lineno">11111</span>&#160; </div>
<div class="line"><a name="l11112"></a><span class="lineno">11112</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#aa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11113"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae2497252f474ac4b0514ce0e860cf90e">11113</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ae2497252f474ac4b0514ce0e860cf90e">synstack_pop</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a> **<a class="code" href="../../d6/dae/dc_8c.html#ab151537536988a2190d2cac79f964c52">stack</a>)</div>
<div class="line"><a name="l11114"></a><span class="lineno">11114</span>&#160;{</div>
<div class="line"><a name="l11115"></a><span class="lineno">11115</span>&#160;    *<a class="code" href="../../d6/dae/dc_8c.html#ab151537536988a2190d2cac79f964c52">stack</a> = (*stack)-&gt;next;</div>
<div class="line"><a name="l11116"></a><span class="lineno">11116</span>&#160;}</div>
<div class="line"><a name="l11117"></a><span class="lineno">11117</span>&#160; </div>
<div class="line"><a name="l11118"></a><span class="lineno">11118</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11119"></a><span class="lineno">11119</span>&#160;<span class="comment"> * To handle the &quot;.&quot; command, a stack of input files is used.  Pushfile</span></div>
<div class="line"><a name="l11120"></a><span class="lineno">11120</span>&#160;<span class="comment"> * adds a new entry to the stack and popfile restores the previous level.</span></div>
<div class="line"><a name="l11121"></a><span class="lineno">11121</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11122"></a><span class="lineno">11122</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11123"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a183e3edf575dcffe53be58a774d7d753">11123</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a183e3edf575dcffe53be58a774d7d753">pushfile</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11124"></a><span class="lineno">11124</span>&#160;{</div>
<div class="line"><a name="l11125"></a><span class="lineno">11125</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a> *pf;</div>
<div class="line"><a name="l11126"></a><span class="lineno">11126</span>&#160; </div>
<div class="line"><a name="l11127"></a><span class="lineno">11127</span>&#160;    pf = <a class="code" href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a>(<span class="keyword">sizeof</span>(*pf));</div>
<div class="line"><a name="l11128"></a><span class="lineno">11128</span>&#160;    pf-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad716fbc2f06aa6731e5d90dc96782308">prev</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>;</div>
<div class="line"><a name="l11129"></a><span class="lineno">11129</span>&#160;    pf-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a> = -1;</div>
<div class="line"><a name="l11130"></a><span class="lineno">11130</span>&#160;    <span class="comment">/*pf-&gt;strpush = NULL; - ckzalloc did it */</span></div>
<div class="line"><a name="l11131"></a><span class="lineno">11131</span>&#160;    <span class="comment">/*pf-&gt;spfree = NULL;*/</span></div>
<div class="line"><a name="l11132"></a><span class="lineno">11132</span>&#160;    <span class="comment">/*pf-&gt;basestrpush.prev = NULL;*/</span></div>
<div class="line"><a name="l11133"></a><span class="lineno">11133</span>&#160;    <span class="comment">/*pf-&gt;unget = 0;*/</span></div>
<div class="line"><a name="l11134"></a><span class="lineno">11134</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a> = pf;</div>
<div class="line"><a name="l11135"></a><span class="lineno">11135</span>&#160;}</div>
<div class="line"><a name="l11136"></a><span class="lineno">11136</span>&#160; </div>
<div class="line"><a name="l11137"></a><span class="lineno">11137</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11138"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a941a7cfd89c5c8522aaec5404ee554f4">11138</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a941a7cfd89c5c8522aaec5404ee554f4">popfile</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11139"></a><span class="lineno">11139</span>&#160;{</div>
<div class="line"><a name="l11140"></a><span class="lineno">11140</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a> *pf = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>;</div>
<div class="line"><a name="l11141"></a><span class="lineno">11141</span>&#160; </div>
<div class="line"><a name="l11142"></a><span class="lineno">11142</span>&#160;    <span class="keywordflow">if</span> (pf == &amp;<a class="code" href="../../d1/dbe/ash_8c.html#a6dafab20e413267c59b44d2eccd94ed7">basepf</a>)</div>
<div class="line"><a name="l11143"></a><span class="lineno">11143</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l11144"></a><span class="lineno">11144</span>&#160; </div>
<div class="line"><a name="l11145"></a><span class="lineno">11145</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l11146"></a><span class="lineno">11146</span>&#160;    <span class="keywordflow">if</span> (pf-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a> &gt;= 0)</div>
<div class="line"><a name="l11147"></a><span class="lineno">11147</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pf-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a>);</div>
<div class="line"><a name="l11148"></a><span class="lineno">11148</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(pf-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae1b927e3da6182fb8d5ab0bd12d3b824">buf</a>);</div>
<div class="line"><a name="l11149"></a><span class="lineno">11149</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa0c0ae75eaaac5e6d9a7f7925da16cbb">spfree</a>)</div>
<div class="line"><a name="l11150"></a><span class="lineno">11150</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afb296c0b318d8182e768a56aaf9a38c5">freestrings</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa0c0ae75eaaac5e6d9a7f7925da16cbb">spfree</a>);</div>
<div class="line"><a name="l11151"></a><span class="lineno">11151</span>&#160;    <span class="keywordflow">while</span> (pf-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a426e81f112b1f0c58aaef25160fd32ca">strpush</a>) {</div>
<div class="line"><a name="l11152"></a><span class="lineno">11152</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#adddbf4b3debf086a041bb581454ec618">popstring</a>();</div>
<div class="line"><a name="l11153"></a><span class="lineno">11153</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afb296c0b318d8182e768a56aaf9a38c5">freestrings</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa0c0ae75eaaac5e6d9a7f7925da16cbb">spfree</a>);</div>
<div class="line"><a name="l11154"></a><span class="lineno">11154</span>&#160;    }</div>
<div class="line"><a name="l11155"></a><span class="lineno">11155</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a> = pf-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad716fbc2f06aa6731e5d90dc96782308">prev</a>;</div>
<div class="line"><a name="l11156"></a><span class="lineno">11156</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(pf);</div>
<div class="line"><a name="l11157"></a><span class="lineno">11157</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l11158"></a><span class="lineno">11158</span>&#160;}</div>
<div class="line"><a name="l11159"></a><span class="lineno">11159</span>&#160; </div>
<div class="line"><a name="l11160"></a><span class="lineno">11160</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11161"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2b008c5d9ff0b559e1ce662dba222d65">11161</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a2b008c5d9ff0b559e1ce662dba222d65">unwindfiles</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a> *<a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>)</div>
<div class="line"><a name="l11162"></a><span class="lineno">11162</span>&#160;{</div>
<div class="line"><a name="l11163"></a><span class="lineno">11163</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a> != <a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>)</div>
<div class="line"><a name="l11164"></a><span class="lineno">11164</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a941a7cfd89c5c8522aaec5404ee554f4">popfile</a>();</div>
<div class="line"><a name="l11165"></a><span class="lineno">11165</span>&#160;}</div>
<div class="line"><a name="l11166"></a><span class="lineno">11166</span>&#160; </div>
<div class="line"><a name="l11167"></a><span class="lineno">11167</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11168"></a><span class="lineno">11168</span>&#160;<span class="comment"> * Return to top level.</span></div>
<div class="line"><a name="l11169"></a><span class="lineno">11169</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11170"></a><span class="lineno">11170</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11171"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9022735c5ae9a49c485bea23d17f2e44">11171</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a9022735c5ae9a49c485bea23d17f2e44">popallfiles</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11172"></a><span class="lineno">11172</span>&#160;{</div>
<div class="line"><a name="l11173"></a><span class="lineno">11173</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a2b008c5d9ff0b559e1ce662dba222d65">unwindfiles</a>(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#a6dafab20e413267c59b44d2eccd94ed7">basepf</a>);</div>
<div class="line"><a name="l11174"></a><span class="lineno">11174</span>&#160;}</div>
<div class="line"><a name="l11175"></a><span class="lineno">11175</span>&#160; </div>
<div class="line"><a name="l11176"></a><span class="lineno">11176</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11177"></a><span class="lineno">11177</span>&#160;<span class="comment"> * Close the file(s) that the shell is reading commands from.  Called</span></div>
<div class="line"><a name="l11178"></a><span class="lineno">11178</span>&#160;<span class="comment"> * after a fork is done.</span></div>
<div class="line"><a name="l11179"></a><span class="lineno">11179</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11180"></a><span class="lineno">11180</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11181"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa2d27d477de53b683b149d34d8dd3ac0">11181</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aa2d27d477de53b683b149d34d8dd3ac0">closescript</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11182"></a><span class="lineno">11182</span>&#160;{</div>
<div class="line"><a name="l11183"></a><span class="lineno">11183</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9022735c5ae9a49c485bea23d17f2e44">popallfiles</a>();</div>
<div class="line"><a name="l11184"></a><span class="lineno">11184</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a> &gt; 0) {</div>
<div class="line"><a name="l11185"></a><span class="lineno">11185</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a>);</div>
<div class="line"><a name="l11186"></a><span class="lineno">11186</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a> = 0;</div>
<div class="line"><a name="l11187"></a><span class="lineno">11187</span>&#160;    }</div>
<div class="line"><a name="l11188"></a><span class="lineno">11188</span>&#160;}</div>
<div class="line"><a name="l11189"></a><span class="lineno">11189</span>&#160; </div>
<div class="line"><a name="l11190"></a><span class="lineno">11190</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11191"></a><span class="lineno">11191</span>&#160;<span class="comment"> * Like setinputfile, but takes an open file descriptor.  Call this with</span></div>
<div class="line"><a name="l11192"></a><span class="lineno">11192</span>&#160;<span class="comment"> * interrupts off.</span></div>
<div class="line"><a name="l11193"></a><span class="lineno">11193</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11194"></a><span class="lineno">11194</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11195"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8402856dae7663ea029dc25b552f39b3">11195</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8402856dae7663ea029dc25b552f39b3">setinputfd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <span class="keywordtype">int</span> <a class="code" href="../../d6/dae/dc_8c.html#a35e27a416e5c3aca93017b6212878377">push</a>)</div>
<div class="line"><a name="l11196"></a><span class="lineno">11196</span>&#160;{</div>
<div class="line"><a name="l11197"></a><span class="lineno">11197</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dae/dc_8c.html#a35e27a416e5c3aca93017b6212878377">push</a>) {</div>
<div class="line"><a name="l11198"></a><span class="lineno">11198</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a183e3edf575dcffe53be58a774d7d753">pushfile</a>();</div>
<div class="line"><a name="l11199"></a><span class="lineno">11199</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae1b927e3da6182fb8d5ab0bd12d3b824">buf</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l11200"></a><span class="lineno">11200</span>&#160;    }</div>
<div class="line"><a name="l11201"></a><span class="lineno">11201</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">pf_fd</a> = <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l11202"></a><span class="lineno">11202</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae1b927e3da6182fb8d5ab0bd12d3b824">buf</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l11203"></a><span class="lineno">11203</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae1b927e3da6182fb8d5ab0bd12d3b824">buf</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a27cf7b0a48a767c21a2c6eb91713b243">ckmalloc</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a699bcd70ab05310cf0eb6774a79cb56e">IBUFSIZ</a>);</div>
<div class="line"><a name="l11204"></a><span class="lineno">11204</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad5c73cd25605aa1ec12d8b5678cec38f">left_in_buffer</a> = 0;</div>
<div class="line"><a name="l11205"></a><span class="lineno">11205</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a> = 0;</div>
<div class="line"><a name="l11206"></a><span class="lineno">11206</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">linno</a> = 1;</div>
<div class="line"><a name="l11207"></a><span class="lineno">11207</span>&#160;}</div>
<div class="line"><a name="l11208"></a><span class="lineno">11208</span>&#160; </div>
<div class="line"><a name="l11209"></a><span class="lineno">11209</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11210"></a><span class="lineno">11210</span>&#160;<span class="comment"> * Set the input to take input from a file.  If push is set, push the</span></div>
<div class="line"><a name="l11211"></a><span class="lineno">11211</span>&#160;<span class="comment"> * old input onto the stack first.</span></div>
<div class="line"><a name="l11212"></a><span class="lineno">11212</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11213"></a><span class="lineno">11213</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l11214"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7bf34b1523ebaf627c8b95f35957e3bc">11214</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a7bf34b1523ebaf627c8b95f35957e3bc">setinputfile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l11215"></a><span class="lineno">11215</span>&#160;{</div>
<div class="line"><a name="l11216"></a><span class="lineno">11216</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l11217"></a><span class="lineno">11217</span>&#160; </div>
<div class="line"><a name="l11218"></a><span class="lineno">11218</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l11219"></a><span class="lineno">11219</span>&#160;    <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(<a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>, <a class="code" href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a> | <a class="code" href="../../d1/dbe/ash_8c.html#ad6d8fbe4e494b4dbe051612572d3f757">O_CLOEXEC</a>);</div>
<div class="line"><a name="l11220"></a><span class="lineno">11220</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0) {</div>
<div class="line"><a name="l11221"></a><span class="lineno">11221</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a054c7815afdeb13143a83e92525cbd25ac3737a4d9baa3b6578a95a1e3c19e321">INPUT_NOFILE_OK</a>)</div>
<div class="line"><a name="l11222"></a><span class="lineno">11222</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l11223"></a><span class="lineno">11223</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = 127;</div>
<div class="line"><a name="l11224"></a><span class="lineno">11224</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a>(<span class="stringliteral">&quot;can&#39;t open &#39;%s&#39;&quot;</span>, <a class="code" href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a>);</div>
<div class="line"><a name="l11225"></a><span class="lineno">11225</span>&#160;    }</div>
<div class="line"><a name="l11226"></a><span class="lineno">11226</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 10)</div>
<div class="line"><a name="l11227"></a><span class="lineno">11227</span>&#160;        <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a04e7065f1dafa4244d9aa37c0cc59a58">savefd</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l11228"></a><span class="lineno">11228</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ad6d8fbe4e494b4dbe051612572d3f757">O_CLOEXEC</a> == 0) <span class="comment">/* old libc */</span></div>
<div class="line"><a name="l11229"></a><span class="lineno">11229</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a10d406bcbbd961accf0b4a5be8500cc2">close_on_exec_on</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l11230"></a><span class="lineno">11230</span>&#160; </div>
<div class="line"><a name="l11231"></a><span class="lineno">11231</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8402856dae7663ea029dc25b552f39b3">setinputfd</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a054c7815afdeb13143a83e92525cbd25a8044562dad2c1168d3b50b34ba09ef3d">INPUT_PUSH_FILE</a>);</div>
<div class="line"><a name="l11232"></a><span class="lineno">11232</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l11233"></a><span class="lineno">11233</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l11234"></a><span class="lineno">11234</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l11235"></a><span class="lineno">11235</span>&#160;}</div>
<div class="line"><a name="l11236"></a><span class="lineno">11236</span>&#160; </div>
<div class="line"><a name="l11237"></a><span class="lineno">11237</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11238"></a><span class="lineno">11238</span>&#160;<span class="comment"> * Like setinputfile, but takes input from a string.</span></div>
<div class="line"><a name="l11239"></a><span class="lineno">11239</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11240"></a><span class="lineno">11240</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11241"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1070a329ea02c16e7a6b8a1cf4ff96b0">11241</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a1070a329ea02c16e7a6b8a1cf4ff96b0">setinputstring</a>(<span class="keywordtype">char</span> *<span class="keywordtype">string</span>)</div>
<div class="line"><a name="l11242"></a><span class="lineno">11242</span>&#160;{</div>
<div class="line"><a name="l11243"></a><span class="lineno">11243</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l11244"></a><span class="lineno">11244</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a183e3edf575dcffe53be58a774d7d753">pushfile</a>();</div>
<div class="line"><a name="l11245"></a><span class="lineno">11245</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a> = <a class="code" href="../../d6/dec/gm__loop_8c.html#aa03b39c334809f39a10a82e201e43f10">string</a>;</div>
<div class="line"><a name="l11246"></a><span class="lineno">11246</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a> = <a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l11247"></a><span class="lineno">11247</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ae1b927e3da6182fb8d5ab0bd12d3b824">buf</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l11248"></a><span class="lineno">11248</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">linno</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a>;</div>
<div class="line"><a name="l11249"></a><span class="lineno">11249</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l11250"></a><span class="lineno">11250</span>&#160;}</div>
<div class="line"><a name="l11251"></a><span class="lineno">11251</span>&#160; </div>
<div class="line"><a name="l11252"></a><span class="lineno">11252</span>&#160; </div>
<div class="line"><a name="l11253"></a><span class="lineno">11253</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11254"></a><span class="lineno">11254</span>&#160;<span class="comment"> * Routines to check for mail.</span></div>
<div class="line"><a name="l11255"></a><span class="lineno">11255</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11256"></a><span class="lineno">11256</span>&#160; </div>
<div class="line"><a name="l11257"></a><span class="lineno">11257</span>&#160;<span class="preprocessor">#if ENABLE_ASH_MAIL</span></div>
<div class="line"><a name="l11258"></a><span class="lineno">11258</span>&#160; </div>
<div class="line"><a name="l11259"></a><span class="lineno">11259</span>&#160;<span class="comment">/* Hash of mtimes of mailboxes */</span></div>
<div class="line"><a name="l11260"></a><span class="lineno">11260</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> mailtime_hash;</div>
<div class="line"><a name="l11261"></a><span class="lineno">11261</span>&#160;<span class="comment">/* Set if MAIL or MAILPATH is changed. */</span></div>
<div class="line"><a name="l11262"></a><span class="lineno">11262</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> mail_var_path_changed;</div>
<div class="line"><a name="l11263"></a><span class="lineno">11263</span>&#160; </div>
<div class="line"><a name="l11264"></a><span class="lineno">11264</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11265"></a><span class="lineno">11265</span>&#160;<span class="comment"> * Print appropriate message(s) if mail has arrived.</span></div>
<div class="line"><a name="l11266"></a><span class="lineno">11266</span>&#160;<span class="comment"> * If mail_var_path_changed is set,</span></div>
<div class="line"><a name="l11267"></a><span class="lineno">11267</span>&#160;<span class="comment"> * then the value of MAIL has changed,</span></div>
<div class="line"><a name="l11268"></a><span class="lineno">11268</span>&#160;<span class="comment"> * so we just update the hash value.</span></div>
<div class="line"><a name="l11269"></a><span class="lineno">11269</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11270"></a><span class="lineno">11270</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11271"></a><span class="lineno">11271</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a40e81adbf326f121071e2f78d7b8fcec">chkmail</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11272"></a><span class="lineno">11272</span>&#160;{</div>
<div class="line"><a name="l11273"></a><span class="lineno">11273</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *mpath;</div>
<div class="line"><a name="l11274"></a><span class="lineno">11274</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l11275"></a><span class="lineno">11275</span>&#160;    <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l11276"></a><span class="lineno">11276</span>&#160;    <span class="keywordtype">unsigned</span> new_hash;</div>
<div class="line"><a name="l11277"></a><span class="lineno">11277</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> smark;</div>
<div class="line"><a name="l11278"></a><span class="lineno">11278</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> statb;</div>
<div class="line"><a name="l11279"></a><span class="lineno">11279</span>&#160; </div>
<div class="line"><a name="l11280"></a><span class="lineno">11280</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac25a899a708eb1c90b1b0bafdb14b88d">setstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l11281"></a><span class="lineno">11281</span>&#160;    mpath = mpathset() ? mpathval() : mailval();</div>
<div class="line"><a name="l11282"></a><span class="lineno">11282</span>&#160;    new_hash = 0;</div>
<div class="line"><a name="l11283"></a><span class="lineno">11283</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l11284"></a><span class="lineno">11284</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l11285"></a><span class="lineno">11285</span>&#160; </div>
<div class="line"><a name="l11286"></a><span class="lineno">11286</span>&#160;        <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a9121da3c0523b30c6777f2fa042e482a">padvance_magic</a>(&amp;mpath, <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>, 2);</div>
<div class="line"><a name="l11287"></a><span class="lineno">11287</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> &lt; 0)</div>
<div class="line"><a name="l11288"></a><span class="lineno">11288</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11289"></a><span class="lineno">11289</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l11290"></a><span class="lineno">11290</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l11291"></a><span class="lineno">11291</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11292"></a><span class="lineno">11292</span>&#160;        <span class="keywordflow">for</span> (q = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>; *q; q++)</div>
<div class="line"><a name="l11293"></a><span class="lineno">11293</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11294"></a><span class="lineno">11294</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l11295"></a><span class="lineno">11295</span>&#160;        <span class="keywordflow">if</span> (q[-1] != <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l11296"></a><span class="lineno">11296</span>&#160;            <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a>();</div>
<div class="line"><a name="l11297"></a><span class="lineno">11297</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l11298"></a><span class="lineno">11298</span>&#160;        q[-1] = <span class="charliteral">&#39;\0&#39;</span>;                   <span class="comment">/* delete trailing &#39;/&#39; */</span></div>
<div class="line"><a name="l11299"></a><span class="lineno">11299</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, &amp;statb) &lt; 0) {</div>
<div class="line"><a name="l11300"></a><span class="lineno">11300</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11301"></a><span class="lineno">11301</span>&#160;        }</div>
<div class="line"><a name="l11302"></a><span class="lineno">11302</span>&#160;        <span class="comment">/* Very simplistic &quot;hash&quot;: just a sum of all mtimes */</span></div>
<div class="line"><a name="l11303"></a><span class="lineno">11303</span>&#160;        new_hash += (unsigned)statb.st_mtime;</div>
<div class="line"><a name="l11304"></a><span class="lineno">11304</span>&#160;    }</div>
<div class="line"><a name="l11305"></a><span class="lineno">11305</span>&#160;    <span class="keywordflow">if</span> (!mail_var_path_changed &amp;&amp; mailtime_hash != new_hash) {</div>
<div class="line"><a name="l11306"></a><span class="lineno">11306</span>&#160;        <span class="keywordflow">if</span> (mailtime_hash != 0)</div>
<div class="line"><a name="l11307"></a><span class="lineno">11307</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ad41387932da6f74836f39a196a96519c">out2str</a>(<span class="stringliteral">&quot;you have mail\n&quot;</span>);</div>
<div class="line"><a name="l11308"></a><span class="lineno">11308</span>&#160;    }</div>
<div class="line"><a name="l11309"></a><span class="lineno">11309</span>&#160;    mailtime_hash = new_hash;</div>
<div class="line"><a name="l11310"></a><span class="lineno">11310</span>&#160;    mail_var_path_changed = 0;</div>
<div class="line"><a name="l11311"></a><span class="lineno">11311</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l11312"></a><span class="lineno">11312</span>&#160;}</div>
<div class="line"><a name="l11313"></a><span class="lineno">11313</span>&#160; </div>
<div class="line"><a name="l11314"></a><span class="lineno">11314</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l11315"></a><span class="lineno">11315</span>&#160;changemail(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l11316"></a><span class="lineno">11316</span>&#160;{</div>
<div class="line"><a name="l11317"></a><span class="lineno">11317</span>&#160;    mail_var_path_changed = 1;</div>
<div class="line"><a name="l11318"></a><span class="lineno">11318</span>&#160;}</div>
<div class="line"><a name="l11319"></a><span class="lineno">11319</span>&#160; </div>
<div class="line"><a name="l11320"></a><span class="lineno">11320</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ASH_MAIL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l11321"></a><span class="lineno">11321</span>&#160; </div>
<div class="line"><a name="l11322"></a><span class="lineno">11322</span>&#160; </div>
<div class="line"><a name="l11323"></a><span class="lineno">11323</span>&#160;<span class="comment">/* ============ ??? */</span></div>
<div class="line"><a name="l11324"></a><span class="lineno">11324</span>&#160; </div>
<div class="line"><a name="l11325"></a><span class="lineno">11325</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11326"></a><span class="lineno">11326</span>&#160;<span class="comment"> * Set the shell parameters.</span></div>
<div class="line"><a name="l11327"></a><span class="lineno">11327</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11328"></a><span class="lineno">11328</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11329"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a1d4c4fd4b370a09ffd1efe7bbb993c0a">11329</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a1d4c4fd4b370a09ffd1efe7bbb993c0a">setparam</a>(<span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l11330"></a><span class="lineno">11330</span>&#160;{</div>
<div class="line"><a name="l11331"></a><span class="lineno">11331</span>&#160;    <span class="keywordtype">char</span> **newparam;</div>
<div class="line"><a name="l11332"></a><span class="lineno">11332</span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l11333"></a><span class="lineno">11333</span>&#160;    <span class="keywordtype">int</span> nparam;</div>
<div class="line"><a name="l11334"></a><span class="lineno">11334</span>&#160; </div>
<div class="line"><a name="l11335"></a><span class="lineno">11335</span>&#160;    <span class="keywordflow">for</span> (nparam = 0; <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[nparam]; nparam++)</div>
<div class="line"><a name="l11336"></a><span class="lineno">11336</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11337"></a><span class="lineno">11337</span>&#160;    <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = newparam = <a class="code" href="../../d1/dbe/ash_8c.html#a27cf7b0a48a767c21a2c6eb91713b243">ckmalloc</a>((nparam + 1) * <span class="keyword">sizeof</span>(*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>));</div>
<div class="line"><a name="l11338"></a><span class="lineno">11338</span>&#160;    <span class="keywordflow">while</span> (*<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>) {</div>
<div class="line"><a name="l11339"></a><span class="lineno">11339</span>&#160;        *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>++ = <a class="code" href="../../d1/dbe/ash_8c.html#ae636b85e9fda111db77be3efbad1c862">ckstrdup</a>(*<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>++);</div>
<div class="line"><a name="l11340"></a><span class="lineno">11340</span>&#160;    }</div>
<div class="line"><a name="l11341"></a><span class="lineno">11341</span>&#160;    *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l11342"></a><span class="lineno">11342</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aaf63f7a250255f0ac21656149824df95">freeparam</a>(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>);</div>
<div class="line"><a name="l11343"></a><span class="lineno">11343</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.malloced = 1;</div>
<div class="line"><a name="l11344"></a><span class="lineno">11344</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.nparam = nparam;</div>
<div class="line"><a name="l11345"></a><span class="lineno">11345</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.p = newparam;</div>
<div class="line"><a name="l11346"></a><span class="lineno">11346</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l11347"></a><span class="lineno">11347</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind = 1;</div>
<div class="line"><a name="l11348"></a><span class="lineno">11348</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optoff = -1;</div>
<div class="line"><a name="l11349"></a><span class="lineno">11349</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l11350"></a><span class="lineno">11350</span>&#160;}</div>
<div class="line"><a name="l11351"></a><span class="lineno">11351</span>&#160; </div>
<div class="line"><a name="l11352"></a><span class="lineno">11352</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11353"></a><span class="lineno">11353</span>&#160;<span class="comment"> * Process shell options.  The global variable argptr contains a pointer</span></div>
<div class="line"><a name="l11354"></a><span class="lineno">11354</span>&#160;<span class="comment"> * to the argument list; we advance it past the options.</span></div>
<div class="line"><a name="l11355"></a><span class="lineno">11355</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l11356"></a><span class="lineno">11356</span>&#160;<span class="comment"> * SUSv3 section 2.8.1 &quot;Consequences of Shell Errors&quot; says:</span></div>
<div class="line"><a name="l11357"></a><span class="lineno">11357</span>&#160;<span class="comment"> * For a non-interactive shell, an error condition encountered</span></div>
<div class="line"><a name="l11358"></a><span class="lineno">11358</span>&#160;<span class="comment"> * by a special built-in ... shall cause the shell to write a diagnostic message</span></div>
<div class="line"><a name="l11359"></a><span class="lineno">11359</span>&#160;<span class="comment"> * to standard error and exit as shown in the following table:</span></div>
<div class="line"><a name="l11360"></a><span class="lineno">11360</span>&#160;<span class="comment"> * Error                                           Special Built-In</span></div>
<div class="line"><a name="l11361"></a><span class="lineno">11361</span>&#160;<span class="comment"> * ...</span></div>
<div class="line"><a name="l11362"></a><span class="lineno">11362</span>&#160;<span class="comment"> * Utility syntax error (option or operand error)  Shall exit</span></div>
<div class="line"><a name="l11363"></a><span class="lineno">11363</span>&#160;<span class="comment"> * ...</span></div>
<div class="line"><a name="l11364"></a><span class="lineno">11364</span>&#160;<span class="comment"> * However, in bug 1142 (http://busybox.net/bugs/view.php?id=1142)</span></div>
<div class="line"><a name="l11365"></a><span class="lineno">11365</span>&#160;<span class="comment"> * we see that bash does not do that (set &quot;finishes&quot; with error code 1 instead,</span></div>
<div class="line"><a name="l11366"></a><span class="lineno">11366</span>&#160;<span class="comment"> * and shell continues), and people rely on this behavior!</span></div>
<div class="line"><a name="l11367"></a><span class="lineno">11367</span>&#160;<span class="comment"> * Testcase:</span></div>
<div class="line"><a name="l11368"></a><span class="lineno">11368</span>&#160;<span class="comment"> * set -o barfoo 2&gt;/dev/null</span></div>
<div class="line"><a name="l11369"></a><span class="lineno">11369</span>&#160;<span class="comment"> * echo $?</span></div>
<div class="line"><a name="l11370"></a><span class="lineno">11370</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l11371"></a><span class="lineno">11371</span>&#160;<span class="comment"> * Oh well. Let&#39;s mimic that.</span></div>
<div class="line"><a name="l11372"></a><span class="lineno">11372</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11373"></a><span class="lineno">11373</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l11374"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aea420319bc8c300833275a9eee04a1a6">11374</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aea420319bc8c300833275a9eee04a1a6">plus_minus_o</a>(<span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>)</div>
<div class="line"><a name="l11375"></a><span class="lineno">11375</span>&#160;{</div>
<div class="line"><a name="l11376"></a><span class="lineno">11376</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l11377"></a><span class="lineno">11377</span>&#160; </div>
<div class="line"><a name="l11378"></a><span class="lineno">11378</span>&#160;    <span class="keywordflow">if</span> (name) {</div>
<div class="line"><a name="l11379"></a><span class="lineno">11379</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d1/dbe/ash_8c.html#add71b5aa3cf93ea594bead45162618e7a436a02069b564b58bce17331bcf4759b">NOPTS</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l11380"></a><span class="lineno">11380</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(name, <a class="code" href="../../d1/dbe/ash_8c.html#afa1ad49cc4809494f4867e1108ea5ee5">optnames</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>)) == 0) {</div>
<div class="line"><a name="l11381"></a><span class="lineno">11381</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] = <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>;</div>
<div class="line"><a name="l11382"></a><span class="lineno">11382</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l11383"></a><span class="lineno">11383</span>&#160;            }</div>
<div class="line"><a name="l11384"></a><span class="lineno">11384</span>&#160;        }</div>
<div class="line"><a name="l11385"></a><span class="lineno">11385</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a3d04906647d0af85e349744f980ac037">ash_msg</a>(<span class="stringliteral">&quot;illegal option %co %s&quot;</span>, <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a> ? <span class="charliteral">&#39;-&#39;</span> : <span class="charliteral">&#39;+&#39;</span>, name);</div>
<div class="line"><a name="l11386"></a><span class="lineno">11386</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l11387"></a><span class="lineno">11387</span>&#160;    }</div>
<div class="line"><a name="l11388"></a><span class="lineno">11388</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d1/dbe/ash_8c.html#add71b5aa3cf93ea594bead45162618e7a436a02069b564b58bce17331bcf4759b">NOPTS</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l11389"></a><span class="lineno">11389</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#afa1ad49cc4809494f4867e1108ea5ee5">optnames</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>)[0] == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l11390"></a><span class="lineno">11390</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11391"></a><span class="lineno">11391</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>) {</div>
<div class="line"><a name="l11392"></a><span class="lineno">11392</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;%-16s%s\n&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#afa1ad49cc4809494f4867e1108ea5ee5">optnames</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>), <a class="code" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] ? <span class="stringliteral">&quot;on&quot;</span> : <span class="stringliteral">&quot;off&quot;</span>);</div>
<div class="line"><a name="l11393"></a><span class="lineno">11393</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11394"></a><span class="lineno">11394</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;set %co %s\n&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] ? <span class="charliteral">&#39;-&#39;</span> : <span class="charliteral">&#39;+&#39;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#afa1ad49cc4809494f4867e1108ea5ee5">optnames</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>));</div>
<div class="line"><a name="l11395"></a><span class="lineno">11395</span>&#160;        }</div>
<div class="line"><a name="l11396"></a><span class="lineno">11396</span>&#160;    }</div>
<div class="line"><a name="l11397"></a><span class="lineno">11397</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l11398"></a><span class="lineno">11398</span>&#160;}</div>
<div class="line"><a name="l11399"></a><span class="lineno">11399</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11400"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a46771db780284765d8d8e32af4e1dbc9">11400</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a46771db780284765d8d8e32af4e1dbc9">setoption</a>(<span class="keywordtype">int</span> flag, <span class="keywordtype">int</span> <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>)</div>
<div class="line"><a name="l11401"></a><span class="lineno">11401</span>&#160;{</div>
<div class="line"><a name="l11402"></a><span class="lineno">11402</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l11403"></a><span class="lineno">11403</span>&#160; </div>
<div class="line"><a name="l11404"></a><span class="lineno">11404</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d1/dbe/ash_8c.html#add71b5aa3cf93ea594bead45162618e7a436a02069b564b58bce17331bcf4759b">NOPTS</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l11405"></a><span class="lineno">11405</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a0b34fd79d6542a75d2fa821ed376a203">optletters</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == flag &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#afa1ad49cc4809494f4867e1108ea5ee5">optnames</a>(<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>)[0] != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l11406"></a><span class="lineno">11406</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] = <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>;</div>
<div class="line"><a name="l11407"></a><span class="lineno">11407</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l11408"></a><span class="lineno">11408</span>&#160;        }</div>
<div class="line"><a name="l11409"></a><span class="lineno">11409</span>&#160;    }</div>
<div class="line"><a name="l11410"></a><span class="lineno">11410</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;illegal option %c%c&quot;</span>, <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a> ? <span class="charliteral">&#39;-&#39;</span> : <span class="charliteral">&#39;+&#39;</span>, flag);</div>
<div class="line"><a name="l11411"></a><span class="lineno">11411</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l11412"></a><span class="lineno">11412</span>&#160;}</div>
<div class="line"><a name="l11413"></a><span class="lineno">11413</span>&#160;<span class="comment">/* If login_sh is not NULL, we are called to parse command line opts,</span></div>
<div class="line"><a name="l11414"></a><span class="lineno">11414</span>&#160;<span class="comment"> * not &quot;set -opts&quot;</span></div>
<div class="line"><a name="l11415"></a><span class="lineno">11415</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11416"></a><span class="lineno">11416</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l11417"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6f812c93b216ef41d56f26c14b624b76">11417</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a6f812c93b216ef41d56f26c14b624b76">options</a>(<span class="keywordtype">int</span> *login_sh)</div>
<div class="line"><a name="l11418"></a><span class="lineno">11418</span>&#160;{</div>
<div class="line"><a name="l11419"></a><span class="lineno">11419</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l11420"></a><span class="lineno">11420</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>;</div>
<div class="line"><a name="l11421"></a><span class="lineno">11421</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l11422"></a><span class="lineno">11422</span>&#160; </div>
<div class="line"><a name="l11423"></a><span class="lineno">11423</span>&#160;    <span class="keywordflow">if</span> (login_sh != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) <span class="comment">/* if we came from startup code */</span></div>
<div class="line"><a name="l11424"></a><span class="lineno">11424</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">minusc</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l11425"></a><span class="lineno">11425</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = *<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l11426"></a><span class="lineno">11426</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l11427"></a><span class="lineno">11427</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;-&#39;</span> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l11428"></a><span class="lineno">11428</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11429"></a><span class="lineno">11429</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>++;</div>
<div class="line"><a name="l11430"></a><span class="lineno">11430</span>&#160;        <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a> = 0; <span class="comment">/* val = 0 if c == &#39;+&#39; */</span></div>
<div class="line"><a name="l11431"></a><span class="lineno">11431</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l11432"></a><span class="lineno">11432</span>&#160;            <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a> = 1;</div>
<div class="line"><a name="l11433"></a><span class="lineno">11433</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0] == <span class="charliteral">&#39;\0&#39;</span> || <a class="code" href="../../d7/dd7/libbb_8h.html#ae3c705adc31efb61b8a23829e028028e">LONE_DASH</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)) {</div>
<div class="line"><a name="l11434"></a><span class="lineno">11434</span>&#160;                <span class="keywordflow">if</span> (login_sh == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) { <span class="comment">/* we came from setcmd() */</span></div>
<div class="line"><a name="l11435"></a><span class="lineno">11435</span>&#160;                    <span class="comment">/* &quot;-&quot; means turn off -x and -v */</span></div>
<div class="line"><a name="l11436"></a><span class="lineno">11436</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0] == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l11437"></a><span class="lineno">11437</span>&#160;                        <a class="code" href="../../d1/dbe/ash_8c.html#a0492fb0e5606c5bc2ce433bb664d890f">xflag</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a087674c0a332485e0ccea9dc28cb43d9">vflag</a> = 0;</div>
<div class="line"><a name="l11438"></a><span class="lineno">11438</span>&#160;                    <span class="comment">/* &quot;--&quot; means reset params */</span></div>
<div class="line"><a name="l11439"></a><span class="lineno">11439</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l11440"></a><span class="lineno">11440</span>&#160;                        <a class="code" href="../../d1/dbe/ash_8c.html#a1d4c4fd4b370a09ffd1efe7bbb993c0a">setparam</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>);</div>
<div class="line"><a name="l11441"></a><span class="lineno">11441</span>&#160;                }</div>
<div class="line"><a name="l11442"></a><span class="lineno">11442</span>&#160;                <span class="keywordflow">break</span>;    <span class="comment">/* &quot;-&quot; or &quot;--&quot; terminates options */</span></div>
<div class="line"><a name="l11443"></a><span class="lineno">11443</span>&#160;            }</div>
<div class="line"><a name="l11444"></a><span class="lineno">11444</span>&#160;        }</div>
<div class="line"><a name="l11445"></a><span class="lineno">11445</span>&#160;        <span class="comment">/* first char was + or - */</span></div>
<div class="line"><a name="l11446"></a><span class="lineno">11446</span>&#160;        <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++) != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l11447"></a><span class="lineno">11447</span>&#160;            <span class="keywordflow">if</span> (login_sh != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) { <span class="comment">/* if we came from startup code */</span></div>
<div class="line"><a name="l11448"></a><span class="lineno">11448</span>&#160;                <span class="comment">/* bash 3.2 indeed handles -c CMD and +c CMD the same */</span></div>
<div class="line"><a name="l11449"></a><span class="lineno">11449</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;c&#39;</span>) {</div>
<div class="line"><a name="l11450"></a><span class="lineno">11450</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">minusc</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>; <span class="comment">/* command is after shell args */</span></div>
<div class="line"><a name="l11451"></a><span class="lineno">11451</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a7bc0f641cb9affd7ac216f4e3e2d4af7">cflag</a> = 1;</div>
<div class="line"><a name="l11452"></a><span class="lineno">11452</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11453"></a><span class="lineno">11453</span>&#160;                }</div>
<div class="line"><a name="l11454"></a><span class="lineno">11454</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;s&#39;</span>) { <span class="comment">/* -s, +s */</span></div>
<div class="line"><a name="l11455"></a><span class="lineno">11455</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a6710fbf8aad91222515ef7080999b862">sflag</a> = 1;</div>
<div class="line"><a name="l11456"></a><span class="lineno">11456</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11457"></a><span class="lineno">11457</span>&#160;                }</div>
<div class="line"><a name="l11458"></a><span class="lineno">11458</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;i&#39;</span>) { <span class="comment">/* -i, +i */</span></div>
<div class="line"><a name="l11459"></a><span class="lineno">11459</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a> = 1;</div>
<div class="line"><a name="l11460"></a><span class="lineno">11460</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11461"></a><span class="lineno">11461</span>&#160;                }</div>
<div class="line"><a name="l11462"></a><span class="lineno">11462</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;l&#39;</span>) {</div>
<div class="line"><a name="l11463"></a><span class="lineno">11463</span>&#160;                    *login_sh = 1; <span class="comment">/* -l or +l == --login */</span></div>
<div class="line"><a name="l11464"></a><span class="lineno">11464</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11465"></a><span class="lineno">11465</span>&#160;                }</div>
<div class="line"><a name="l11466"></a><span class="lineno">11466</span>&#160;                <span class="comment">/* bash does not accept +-login, we also won&#39;t */</span></div>
<div class="line"><a name="l11467"></a><span class="lineno">11467</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a> &amp;&amp; (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;-&#39;</span>)) { <span class="comment">/* long options */</span></div>
<div class="line"><a name="l11468"></a><span class="lineno">11468</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="stringliteral">&quot;login&quot;</span>) == 0) {</div>
<div class="line"><a name="l11469"></a><span class="lineno">11469</span>&#160;                        *login_sh = 1;</div>
<div class="line"><a name="l11470"></a><span class="lineno">11470</span>&#160;                    }</div>
<div class="line"><a name="l11471"></a><span class="lineno">11471</span>&#160;<span class="comment">/* TODO: --noprofile: e.g. if I want to run emergency shell from sulogin,</span></div>
<div class="line"><a name="l11472"></a><span class="lineno">11472</span>&#160;<span class="comment"> * I want minimal/no shell init scripts - but it insists on running it as &quot;-ash&quot;...</span></div>
<div class="line"><a name="l11473"></a><span class="lineno">11473</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11474"></a><span class="lineno">11474</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11475"></a><span class="lineno">11475</span>&#160;                }</div>
<div class="line"><a name="l11476"></a><span class="lineno">11476</span>&#160;            }</div>
<div class="line"><a name="l11477"></a><span class="lineno">11477</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;o&#39;</span>) {</div>
<div class="line"><a name="l11478"></a><span class="lineno">11478</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#aea420319bc8c300833275a9eee04a1a6">plus_minus_o</a>(*<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>, <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>)) {</div>
<div class="line"><a name="l11479"></a><span class="lineno">11479</span>&#160;                    <span class="comment">/* it already printed err message */</span></div>
<div class="line"><a name="l11480"></a><span class="lineno">11480</span>&#160;                    <span class="keywordflow">return</span> 1; <span class="comment">/* error */</span></div>
<div class="line"><a name="l11481"></a><span class="lineno">11481</span>&#160;                }</div>
<div class="line"><a name="l11482"></a><span class="lineno">11482</span>&#160;                <span class="keywordflow">if</span> (*<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>)</div>
<div class="line"><a name="l11483"></a><span class="lineno">11483</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>++;</div>
<div class="line"><a name="l11484"></a><span class="lineno">11484</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11485"></a><span class="lineno">11485</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a46771db780284765d8d8e32af4e1dbc9">setoption</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a>);</div>
<div class="line"><a name="l11486"></a><span class="lineno">11486</span>&#160;            }</div>
<div class="line"><a name="l11487"></a><span class="lineno">11487</span>&#160;        }</div>
<div class="line"><a name="l11488"></a><span class="lineno">11488</span>&#160;    }</div>
<div class="line"><a name="l11489"></a><span class="lineno">11489</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l11490"></a><span class="lineno">11490</span>&#160;}</div>
<div class="line"><a name="l11491"></a><span class="lineno">11491</span>&#160; </div>
<div class="line"><a name="l11492"></a><span class="lineno">11492</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11493"></a><span class="lineno">11493</span>&#160;<span class="comment"> * The shift builtin command.</span></div>
<div class="line"><a name="l11494"></a><span class="lineno">11494</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11495"></a><span class="lineno">11495</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l11496"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8dd823babff5901e06145c1d7ca28301">11496</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8dd823babff5901e06145c1d7ca28301">shiftcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l11497"></a><span class="lineno">11497</span>&#160;{</div>
<div class="line"><a name="l11498"></a><span class="lineno">11498</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l11499"></a><span class="lineno">11499</span>&#160;    <span class="keywordtype">char</span> **ap1, **ap2;</div>
<div class="line"><a name="l11500"></a><span class="lineno">11500</span>&#160; </div>
<div class="line"><a name="l11501"></a><span class="lineno">11501</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = 1;</div>
<div class="line"><a name="l11502"></a><span class="lineno">11502</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1])</div>
<div class="line"><a name="l11503"></a><span class="lineno">11503</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae52ce7002a05790c0eb9b44163ddf3f0">number</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1]);</div>
<div class="line"><a name="l11504"></a><span class="lineno">11504</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> &gt; <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.nparam)</div>
<div class="line"><a name="l11505"></a><span class="lineno">11505</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l11506"></a><span class="lineno">11506</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l11507"></a><span class="lineno">11507</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.nparam -= <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l11508"></a><span class="lineno">11508</span>&#160;    <span class="keywordflow">for</span> (ap1 = <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.p; --<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> &gt;= 0; ap1++) {</div>
<div class="line"><a name="l11509"></a><span class="lineno">11509</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.malloced)</div>
<div class="line"><a name="l11510"></a><span class="lineno">11510</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(*ap1);</div>
<div class="line"><a name="l11511"></a><span class="lineno">11511</span>&#160;    }</div>
<div class="line"><a name="l11512"></a><span class="lineno">11512</span>&#160;    ap2 = <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.p;</div>
<div class="line"><a name="l11513"></a><span class="lineno">11513</span>&#160;    <span class="keywordflow">while</span> ((*ap2++ = *ap1++) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l11514"></a><span class="lineno">11514</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l11515"></a><span class="lineno">11515</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l11516"></a><span class="lineno">11516</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind = 1;</div>
<div class="line"><a name="l11517"></a><span class="lineno">11517</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optoff = -1;</div>
<div class="line"><a name="l11518"></a><span class="lineno">11518</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l11519"></a><span class="lineno">11519</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l11520"></a><span class="lineno">11520</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l11521"></a><span class="lineno">11521</span>&#160;}</div>
<div class="line"><a name="l11522"></a><span class="lineno">11522</span>&#160; </div>
<div class="line"><a name="l11523"></a><span class="lineno">11523</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11524"></a><span class="lineno">11524</span>&#160;<span class="comment"> * POSIX requires that &#39;set&#39; (but not export or readonly) output the</span></div>
<div class="line"><a name="l11525"></a><span class="lineno">11525</span>&#160;<span class="comment"> * variables in lexicographic order - by the locale&#39;s collating order (sigh).</span></div>
<div class="line"><a name="l11526"></a><span class="lineno">11526</span>&#160;<span class="comment"> * Maybe we could keep them in an ordered balanced binary tree</span></div>
<div class="line"><a name="l11527"></a><span class="lineno">11527</span>&#160;<span class="comment"> * instead of hashed lists.</span></div>
<div class="line"><a name="l11528"></a><span class="lineno">11528</span>&#160;<span class="comment"> * For now just roll &#39;em through qsort for printing...</span></div>
<div class="line"><a name="l11529"></a><span class="lineno">11529</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11530"></a><span class="lineno">11530</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l11531"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab9c98dd93b38ddd366ffad8f62c50290">11531</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ab9c98dd93b38ddd366ffad8f62c50290">showvars</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sep_prefix, <span class="keywordtype">int</span> on, <span class="keywordtype">int</span> <a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a>)</div>
<div class="line"><a name="l11532"></a><span class="lineno">11532</span>&#160;{</div>
<div class="line"><a name="l11533"></a><span class="lineno">11533</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *sep;</div>
<div class="line"><a name="l11534"></a><span class="lineno">11534</span>&#160;    <span class="keywordtype">char</span> **ep, **epend;</div>
<div class="line"><a name="l11535"></a><span class="lineno">11535</span>&#160; </div>
<div class="line"><a name="l11536"></a><span class="lineno">11536</span>&#160;    ep = <a class="code" href="../../d1/dbe/ash_8c.html#ac916671880c52fa4b983f6aef788fa66">listvars</a>(on, <a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a>, <span class="comment">/*strlist:*/</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;epend);</div>
<div class="line"><a name="l11537"></a><span class="lineno">11537</span>&#160;    <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#a3ab230aa1fbe4b7e1694e678ed275af1">qsort</a>(ep, epend - ep, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *), <a class="code" href="../../d1/dbe/ash_8c.html#a6255583cf141665dd6d7863e910e5656">vpcmp</a>);</div>
<div class="line"><a name="l11538"></a><span class="lineno">11538</span>&#160; </div>
<div class="line"><a name="l11539"></a><span class="lineno">11539</span>&#160;    sep = *sep_prefix ? <span class="stringliteral">&quot; &quot;</span> : sep_prefix;</div>
<div class="line"><a name="l11540"></a><span class="lineno">11540</span>&#160; </div>
<div class="line"><a name="l11541"></a><span class="lineno">11541</span>&#160;    <span class="keywordflow">for</span> (; ep &lt; epend; ep++) {</div>
<div class="line"><a name="l11542"></a><span class="lineno">11542</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l11543"></a><span class="lineno">11543</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l11544"></a><span class="lineno">11544</span>&#160; </div>
<div class="line"><a name="l11545"></a><span class="lineno">11545</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a427068bf1a37249b0a95ed1a4bebe70d">endofname</a>(*ep);</div>
<div class="line"><a name="l11546"></a><span class="lineno">11546</span>&#160;<span class="comment">/* Used to have simple &quot;p = strchrnul(*ep, &#39;=&#39;)&quot; here instead, but this</span></div>
<div class="line"><a name="l11547"></a><span class="lineno">11547</span>&#160;<span class="comment"> * makes &quot;export -p&quot; to have output not suitable for &quot;eval&quot;:</span></div>
<div class="line"><a name="l11548"></a><span class="lineno">11548</span>&#160;<span class="comment"> * import os</span></div>
<div class="line"><a name="l11549"></a><span class="lineno">11549</span>&#160;<span class="comment"> * os.environ[&quot;test-test&quot;]=&quot;test&quot;</span></div>
<div class="line"><a name="l11550"></a><span class="lineno">11550</span>&#160;<span class="comment"> * if os.fork() == 0:</span></div>
<div class="line"><a name="l11551"></a><span class="lineno">11551</span>&#160;<span class="comment"> *   os.execv(&quot;ash&quot;, [ &#39;ash&#39;, &#39;-c&#39;, &#39;eval $(export -p); echo OK&#39; ])  # fixes this</span></div>
<div class="line"><a name="l11552"></a><span class="lineno">11552</span>&#160;<span class="comment"> * os.execv(&quot;ash&quot;, [ &#39;ash&#39;, &#39;-c&#39;, &#39;env | grep test-test&#39; ])</span></div>
<div class="line"><a name="l11553"></a><span class="lineno">11553</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11554"></a><span class="lineno">11554</span>&#160;        q = <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>;</div>
<div class="line"><a name="l11555"></a><span class="lineno">11555</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><a name="l11556"></a><span class="lineno">11556</span>&#160;            q = <a class="code" href="../../d1/dbe/ash_8c.html#a4a5dd8a899567d44c214a92c793e7420">single_quote</a>(++<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l11557"></a><span class="lineno">11557</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;%s%s%.*s%s\n&quot;</span>, sep_prefix, sep, (<span class="keywordtype">int</span>)(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - *ep), *ep, q);</div>
<div class="line"><a name="l11558"></a><span class="lineno">11558</span>&#160;    }</div>
<div class="line"><a name="l11559"></a><span class="lineno">11559</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l11560"></a><span class="lineno">11560</span>&#160;}</div>
<div class="line"><a name="l11561"></a><span class="lineno">11561</span>&#160; </div>
<div class="line"><a name="l11562"></a><span class="lineno">11562</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11563"></a><span class="lineno">11563</span>&#160;<span class="comment"> * The set command builtin.</span></div>
<div class="line"><a name="l11564"></a><span class="lineno">11564</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11565"></a><span class="lineno">11565</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l11566"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa4aea9fbb60a019774cc36e0fad66751">11566</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aa4aea9fbb60a019774cc36e0fad66751">setcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l11567"></a><span class="lineno">11567</span>&#160;{</div>
<div class="line"><a name="l11568"></a><span class="lineno">11568</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>;</div>
<div class="line"><a name="l11569"></a><span class="lineno">11569</span>&#160; </div>
<div class="line"><a name="l11570"></a><span class="lineno">11570</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1])</div>
<div class="line"><a name="l11571"></a><span class="lineno">11571</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#ab9c98dd93b38ddd366ffad8f62c50290">showvars</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>, 0, <a class="code" href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a>);</div>
<div class="line"><a name="l11572"></a><span class="lineno">11572</span>&#160; </div>
<div class="line"><a name="l11573"></a><span class="lineno">11573</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l11574"></a><span class="lineno">11574</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a6f812c93b216ef41d56f26c14b624b76">options</a>(<span class="comment">/*login_sh:*/</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l11575"></a><span class="lineno">11575</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> == 0) { <span class="comment">/* if no parse error... */</span></div>
<div class="line"><a name="l11576"></a><span class="lineno">11576</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8be6f6bcc7c0b48114ca32fa3c0e467b">optschanged</a>();</div>
<div class="line"><a name="l11577"></a><span class="lineno">11577</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l11578"></a><span class="lineno">11578</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a1d4c4fd4b370a09ffd1efe7bbb993c0a">setparam</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>);</div>
<div class="line"><a name="l11579"></a><span class="lineno">11579</span>&#160;        }</div>
<div class="line"><a name="l11580"></a><span class="lineno">11580</span>&#160;    }</div>
<div class="line"><a name="l11581"></a><span class="lineno">11581</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l11582"></a><span class="lineno">11582</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>;</div>
<div class="line"><a name="l11583"></a><span class="lineno">11583</span>&#160;}</div>
<div class="line"><a name="l11584"></a><span class="lineno">11584</span>&#160; </div>
<div class="line"><a name="l11585"></a><span class="lineno">11585</span>&#160;<span class="preprocessor">#if ENABLE_ASH_RANDOM_SUPPORT</span></div>
<div class="line"><a name="l11586"></a><span class="lineno">11586</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l11587"></a><span class="lineno">11587</span>&#160;change_random(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)</div>
<div class="line"><a name="l11588"></a><span class="lineno">11588</span>&#160;{</div>
<div class="line"><a name="l11589"></a><span class="lineno">11589</span>&#160;    <a class="code" href="../../d0/d18/ArithmeticOperations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l11590"></a><span class="lineno">11590</span>&#160; </div>
<div class="line"><a name="l11591"></a><span class="lineno">11591</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l11592"></a><span class="lineno">11592</span>&#160;        <span class="comment">/* &quot;get&quot;, generate */</span></div>
<div class="line"><a name="l11593"></a><span class="lineno">11593</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../dd/db0/apps_2base_2busybox_2shell_2random_8c.html#a5e9c0baaee34fe0888ebb9645b3cc337">next_random</a>(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#a4b9a507e1ce9f2570ef7be31bfc30517">random_gen</a>);</div>
<div class="line"><a name="l11594"></a><span class="lineno">11594</span>&#160;        <span class="comment">/* set without recursion */</span></div>
<div class="line"><a name="l11595"></a><span class="lineno">11595</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393">setvar</a>(vrandom.var_text, <a class="code" href="../../d7/dd7/libbb_8h.html#abee8e38e713314dce814d218fdd4224e">utoa</a>(<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>), <a class="code" href="../../d1/dbe/ash_8c.html#af001cdacd74fe6e75ea09e767555f64e">VNOFUNC</a>);</div>
<div class="line"><a name="l11596"></a><span class="lineno">11596</span>&#160;        vrandom.flags &amp;= ~<a class="code" href="../../d1/dbe/ash_8c.html#af001cdacd74fe6e75ea09e767555f64e">VNOFUNC</a>;</div>
<div class="line"><a name="l11597"></a><span class="lineno">11597</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11598"></a><span class="lineno">11598</span>&#160;        <span class="comment">/* set/reset */</span></div>
<div class="line"><a name="l11599"></a><span class="lineno">11599</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d3/d82/convert_8h.html#aa7d767d03ce3929978c28f64e3a4b222">strtoul</a>(<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l11600"></a><span class="lineno">11600</span>&#160;        <a class="code" href="../../d8/d4c/apps_2base_2busybox_2shell_2random_8h.html#aeeed913ae45d95d1158cfe56270e9eef">INIT_RANDOM_T</a>(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#a4b9a507e1ce9f2570ef7be31bfc30517">random_gen</a>, (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> ? <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> : 1), <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><a name="l11601"></a><span class="lineno">11601</span>&#160;    }</div>
<div class="line"><a name="l11602"></a><span class="lineno">11602</span>&#160;}</div>
<div class="line"><a name="l11603"></a><span class="lineno">11603</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l11604"></a><span class="lineno">11604</span>&#160; </div>
<div class="line"><a name="l11605"></a><span class="lineno">11605</span>&#160;<span class="preprocessor">#if BASH_EPOCH_VARS</span></div>
<div class="line"><a name="l11606"></a><span class="lineno">11606</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l11607"></a><span class="lineno">11607</span>&#160;change_epoch(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *vepoch, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt)</div>
<div class="line"><a name="l11608"></a><span class="lineno">11608</span>&#160;{</div>
<div class="line"><a name="l11609"></a><span class="lineno">11609</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a> tv;</div>
<div class="line"><a name="l11610"></a><span class="lineno">11610</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>[<span class="keyword">sizeof</span>(<span class="stringliteral">&quot;%llu.nnnnnn&quot;</span>) + <span class="keyword">sizeof</span>(<span class="keywordtype">long</span> <span class="keywordtype">long</span>)*3];</div>
<div class="line"><a name="l11611"></a><span class="lineno">11611</span>&#160; </div>
<div class="line"><a name="l11612"></a><span class="lineno">11612</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#aa9d080ff5d8f5d8a11af2b96168b13a6">xgettimeofday</a>(&amp;tv);</div>
<div class="line"><a name="l11613"></a><span class="lineno">11613</span>&#160;    <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, fmt, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>)tv.tv_sec, (<span class="keywordtype">unsigned</span>)tv.tv_usec);</div>
<div class="line"><a name="l11614"></a><span class="lineno">11614</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393">setvar</a>(vepoch-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aaf0f2f3b09b6318344eabce9fddb0027">var_text</a>, <a class="code" href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a>, <a class="code" href="../../d1/dbe/ash_8c.html#af001cdacd74fe6e75ea09e767555f64e">VNOFUNC</a>);</div>
<div class="line"><a name="l11615"></a><span class="lineno">11615</span>&#160;    vepoch-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad73165e00a1746eb4c83da600b880909">flags</a> &amp;= ~<a class="code" href="../../d1/dbe/ash_8c.html#af001cdacd74fe6e75ea09e767555f64e">VNOFUNC</a>;</div>
<div class="line"><a name="l11616"></a><span class="lineno">11616</span>&#160;}</div>
<div class="line"><a name="l11617"></a><span class="lineno">11617</span>&#160; </div>
<div class="line"><a name="l11618"></a><span class="lineno">11618</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l11619"></a><span class="lineno">11619</span>&#160;change_seconds(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l11620"></a><span class="lineno">11620</span>&#160;{</div>
<div class="line"><a name="l11621"></a><span class="lineno">11621</span>&#160;    change_epoch(&amp;vepochs, <span class="stringliteral">&quot;%llu&quot;</span>);</div>
<div class="line"><a name="l11622"></a><span class="lineno">11622</span>&#160;}</div>
<div class="line"><a name="l11623"></a><span class="lineno">11623</span>&#160; </div>
<div class="line"><a name="l11624"></a><span class="lineno">11624</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l11625"></a><span class="lineno">11625</span>&#160;change_realtime(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l11626"></a><span class="lineno">11626</span>&#160;{</div>
<div class="line"><a name="l11627"></a><span class="lineno">11627</span>&#160;    change_epoch(&amp;vepochr, <span class="stringliteral">&quot;%llu.%06u&quot;</span>);</div>
<div class="line"><a name="l11628"></a><span class="lineno">11628</span>&#160;}</div>
<div class="line"><a name="l11629"></a><span class="lineno">11629</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l11630"></a><span class="lineno">11630</span>&#160; </div>
<div class="line"><a name="l11631"></a><span class="lineno">11631</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l11632"></a><span class="lineno">11632</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l11633"></a><span class="lineno">11633</span>&#160;getopts(<span class="keywordtype">char</span> *optstr, <span class="keywordtype">char</span> *optvar, <span class="keywordtype">char</span> **optfirst)</div>
<div class="line"><a name="l11634"></a><span class="lineno">11634</span>&#160;{</div>
<div class="line"><a name="l11635"></a><span class="lineno">11635</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, *q;</div>
<div class="line"><a name="l11636"></a><span class="lineno">11636</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><a name="l11637"></a><span class="lineno">11637</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/d47/fileman_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> = 0;</div>
<div class="line"><a name="l11638"></a><span class="lineno">11638</span>&#160;    <span class="keywordtype">char</span> sbuf[2];</div>
<div class="line"><a name="l11639"></a><span class="lineno">11639</span>&#160;    <span class="keywordtype">char</span> **optnext;</div>
<div class="line"><a name="l11640"></a><span class="lineno">11640</span>&#160;    <span class="keywordtype">int</span> ind = <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind;</div>
<div class="line"><a name="l11641"></a><span class="lineno">11641</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optoff;</div>
<div class="line"><a name="l11642"></a><span class="lineno">11642</span>&#160; </div>
<div class="line"><a name="l11643"></a><span class="lineno">11643</span>&#160;    sbuf[1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l11644"></a><span class="lineno">11644</span>&#160; </div>
<div class="line"><a name="l11645"></a><span class="lineno">11645</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind = -1;</div>
<div class="line"><a name="l11646"></a><span class="lineno">11646</span>&#160;    optnext = optfirst + ind - 1;</div>
<div class="line"><a name="l11647"></a><span class="lineno">11647</span>&#160; </div>
<div class="line"><a name="l11648"></a><span class="lineno">11648</span>&#160;    <span class="keywordflow">if</span> (ind &lt;= 1 || <a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a> &lt; 0 || (<span class="keywordtype">int</span>)<a class="code" href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(optnext[-1]) &lt; <a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a>)</div>
<div class="line"><a name="l11649"></a><span class="lineno">11649</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l11650"></a><span class="lineno">11650</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l11651"></a><span class="lineno">11651</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = optnext[-1] + <a class="code" href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a>;</div>
<div class="line"><a name="l11652"></a><span class="lineno">11652</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l11653"></a><span class="lineno">11653</span>&#160;        <span class="comment">/* Current word is done, advance */</span></div>
<div class="line"><a name="l11654"></a><span class="lineno">11654</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = *optnext;</div>
<div class="line"><a name="l11655"></a><span class="lineno">11655</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != <span class="charliteral">&#39;-&#39;</span> || *++<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l11656"></a><span class="lineno">11656</span>&#160; atend:</div>
<div class="line"><a name="l11657"></a><span class="lineno">11657</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#affc1ad23277bd6ac90ab21c8f4501307">unsetvar</a>(<span class="stringliteral">&quot;OPTARG&quot;</span>);</div>
<div class="line"><a name="l11658"></a><span class="lineno">11658</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l11659"></a><span class="lineno">11659</span>&#160;            <a class="code" href="../../d1/d47/fileman_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> = 1;</div>
<div class="line"><a name="l11660"></a><span class="lineno">11660</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l11661"></a><span class="lineno">11661</span>&#160;        }</div>
<div class="line"><a name="l11662"></a><span class="lineno">11662</span>&#160;        optnext++;</div>
<div class="line"><a name="l11663"></a><span class="lineno">11663</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#ae3c705adc31efb61b8a23829e028028e">LONE_DASH</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>))        <span class="comment">/* check for &quot;--&quot; */</span></div>
<div class="line"><a name="l11664"></a><span class="lineno">11664</span>&#160;            <span class="keywordflow">goto</span> atend;</div>
<div class="line"><a name="l11665"></a><span class="lineno">11665</span>&#160;    }</div>
<div class="line"><a name="l11666"></a><span class="lineno">11666</span>&#160; </div>
<div class="line"><a name="l11667"></a><span class="lineno">11667</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l11668"></a><span class="lineno">11668</span>&#160;    <span class="keywordflow">for</span> (q = optstr; *q != <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;) {</div>
<div class="line"><a name="l11669"></a><span class="lineno">11669</span>&#160;        <span class="keywordflow">if</span> (*q == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l11670"></a><span class="lineno">11670</span>&#160;            <span class="comment">/* OPTERR is a bashism */</span></div>
<div class="line"><a name="l11671"></a><span class="lineno">11671</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *cp = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;OPTERR&quot;</span>);</div>
<div class="line"><a name="l11672"></a><span class="lineno">11672</span>&#160;            <span class="keywordflow">if</span> ((cp &amp;&amp; <a class="code" href="../../d7/dd7/libbb_8h.html#afdf3617bc90f082e6d0decbc4398f076">LONE_CHAR</a>(cp, <span class="charliteral">&#39;0&#39;</span>))</div>
<div class="line"><a name="l11673"></a><span class="lineno">11673</span>&#160;             || (optstr[0] == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l11674"></a><span class="lineno">11674</span>&#160;            ) {</div>
<div class="line"><a name="l11675"></a><span class="lineno">11675</span>&#160;                sbuf[0] = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l11676"></a><span class="lineno">11676</span>&#160;                <span class="comment">/*sbuf[1] = &#39;\0&#39;; - already is */</span></div>
<div class="line"><a name="l11677"></a><span class="lineno">11677</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>(<span class="stringliteral">&quot;OPTARG&quot;</span>, sbuf);</div>
<div class="line"><a name="l11678"></a><span class="lineno">11678</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11679"></a><span class="lineno">11679</span>&#160;                <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;Illegal option -%c\n&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l11680"></a><span class="lineno">11680</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#affc1ad23277bd6ac90ab21c8f4501307">unsetvar</a>(<span class="stringliteral">&quot;OPTARG&quot;</span>);</div>
<div class="line"><a name="l11681"></a><span class="lineno">11681</span>&#160;            }</div>
<div class="line"><a name="l11682"></a><span class="lineno">11682</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><a name="l11683"></a><span class="lineno">11683</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l11684"></a><span class="lineno">11684</span>&#160;        }</div>
<div class="line"><a name="l11685"></a><span class="lineno">11685</span>&#160;        <span class="keywordflow">if</span> (*++q == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l11686"></a><span class="lineno">11686</span>&#160;            q++;</div>
<div class="line"><a name="l11687"></a><span class="lineno">11687</span>&#160;    }</div>
<div class="line"><a name="l11688"></a><span class="lineno">11688</span>&#160; </div>
<div class="line"><a name="l11689"></a><span class="lineno">11689</span>&#160;    <span class="keywordflow">if</span> (*++q == <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><a name="l11690"></a><span class="lineno">11690</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = *optnext) == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l11691"></a><span class="lineno">11691</span>&#160;            <span class="comment">/* OPTERR is a bashism */</span></div>
<div class="line"><a name="l11692"></a><span class="lineno">11692</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *cp = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;OPTERR&quot;</span>);</div>
<div class="line"><a name="l11693"></a><span class="lineno">11693</span>&#160;            <span class="keywordflow">if</span> ((cp &amp;&amp; <a class="code" href="../../d7/dd7/libbb_8h.html#afdf3617bc90f082e6d0decbc4398f076">LONE_CHAR</a>(cp, <span class="charliteral">&#39;0&#39;</span>))</div>
<div class="line"><a name="l11694"></a><span class="lineno">11694</span>&#160;             || (optstr[0] == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l11695"></a><span class="lineno">11695</span>&#160;            ) {</div>
<div class="line"><a name="l11696"></a><span class="lineno">11696</span>&#160;                sbuf[0] = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l11697"></a><span class="lineno">11697</span>&#160;                <span class="comment">/*sbuf[1] = &#39;\0&#39;; - already is */</span></div>
<div class="line"><a name="l11698"></a><span class="lineno">11698</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>(<span class="stringliteral">&quot;OPTARG&quot;</span>, sbuf);</div>
<div class="line"><a name="l11699"></a><span class="lineno">11699</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;:&#39;</span>;</div>
<div class="line"><a name="l11700"></a><span class="lineno">11700</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11701"></a><span class="lineno">11701</span>&#160;                <a class="code" href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>, <span class="stringliteral">&quot;No arg for -%c option\n&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l11702"></a><span class="lineno">11702</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#affc1ad23277bd6ac90ab21c8f4501307">unsetvar</a>(<span class="stringliteral">&quot;OPTARG&quot;</span>);</div>
<div class="line"><a name="l11703"></a><span class="lineno">11703</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><a name="l11704"></a><span class="lineno">11704</span>&#160;            }</div>
<div class="line"><a name="l11705"></a><span class="lineno">11705</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l11706"></a><span class="lineno">11706</span>&#160;        }</div>
<div class="line"><a name="l11707"></a><span class="lineno">11707</span>&#160; </div>
<div class="line"><a name="l11708"></a><span class="lineno">11708</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == *optnext)</div>
<div class="line"><a name="l11709"></a><span class="lineno">11709</span>&#160;            optnext++;</div>
<div class="line"><a name="l11710"></a><span class="lineno">11710</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>(<span class="stringliteral">&quot;OPTARG&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l11711"></a><span class="lineno">11711</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l11712"></a><span class="lineno">11712</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l11713"></a><span class="lineno">11713</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>(<span class="stringliteral">&quot;OPTARG&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>);</div>
<div class="line"><a name="l11714"></a><span class="lineno">11714</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l11715"></a><span class="lineno">11715</span>&#160;    ind = optnext - optfirst + 1;</div>
<div class="line"><a name="l11716"></a><span class="lineno">11716</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393">setvar</a>(<span class="stringliteral">&quot;OPTIND&quot;</span>, <a class="code" href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c.html#a1ac817b5f23758eecbaa62dde9068b70">itoa</a>(ind), <a class="code" href="../../d1/dbe/ash_8c.html#af001cdacd74fe6e75ea09e767555f64e">VNOFUNC</a>);</div>
<div class="line"><a name="l11717"></a><span class="lineno">11717</span>&#160;    sbuf[0] = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l11718"></a><span class="lineno">11718</span>&#160;    <span class="comment">/*sbuf[1] = &#39;\0&#39;; - already is */</span></div>
<div class="line"><a name="l11719"></a><span class="lineno">11719</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>(optvar, sbuf);</div>
<div class="line"><a name="l11720"></a><span class="lineno">11720</span>&#160; </div>
<div class="line"><a name="l11721"></a><span class="lineno">11721</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optoff = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> ? <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - *(optnext - 1) : -1;</div>
<div class="line"><a name="l11722"></a><span class="lineno">11722</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind = ind;</div>
<div class="line"><a name="l11723"></a><span class="lineno">11723</span>&#160; </div>
<div class="line"><a name="l11724"></a><span class="lineno">11724</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d47/fileman_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><a name="l11725"></a><span class="lineno">11725</span>&#160;}</div>
<div class="line"><a name="l11726"></a><span class="lineno">11726</span>&#160; </div>
<div class="line"><a name="l11727"></a><span class="lineno">11727</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l11728"></a><span class="lineno">11728</span>&#160;<span class="comment"> * The getopts builtin.  Shellparam.optnext points to the next argument</span></div>
<div class="line"><a name="l11729"></a><span class="lineno">11729</span>&#160;<span class="comment"> * to be processed.  Shellparam.optptr points to the next character to</span></div>
<div class="line"><a name="l11730"></a><span class="lineno">11730</span>&#160;<span class="comment"> * be processed in the current argument.  If shellparam.optnext is NULL,</span></div>
<div class="line"><a name="l11731"></a><span class="lineno">11731</span>&#160;<span class="comment"> * then it&#39;s the first time getopts has been called.</span></div>
<div class="line"><a name="l11732"></a><span class="lineno">11732</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11733"></a><span class="lineno">11733</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l11734"></a><span class="lineno">11734</span>&#160;getoptscmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l11735"></a><span class="lineno">11735</span>&#160;{</div>
<div class="line"><a name="l11736"></a><span class="lineno">11736</span>&#160;    <span class="keywordtype">char</span> **optbase;</div>
<div class="line"><a name="l11737"></a><span class="lineno">11737</span>&#160; </div>
<div class="line"><a name="l11738"></a><span class="lineno">11738</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> &lt; 3)</div>
<div class="line"><a name="l11739"></a><span class="lineno">11739</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;usage: getopts optstring var [arg]&quot;</span>);</div>
<div class="line"><a name="l11740"></a><span class="lineno">11740</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> == 3) {</div>
<div class="line"><a name="l11741"></a><span class="lineno">11741</span>&#160;        optbase = <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.p;</div>
<div class="line"><a name="l11742"></a><span class="lineno">11742</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)<a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind &gt; <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.nparam + 1) {</div>
<div class="line"><a name="l11743"></a><span class="lineno">11743</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind = 1;</div>
<div class="line"><a name="l11744"></a><span class="lineno">11744</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optoff = -1;</div>
<div class="line"><a name="l11745"></a><span class="lineno">11745</span>&#160;        }</div>
<div class="line"><a name="l11746"></a><span class="lineno">11746</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11747"></a><span class="lineno">11747</span>&#160;        optbase = &amp;<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[3];</div>
<div class="line"><a name="l11748"></a><span class="lineno">11748</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)<a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind &gt; <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> - 2) {</div>
<div class="line"><a name="l11749"></a><span class="lineno">11749</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind = 1;</div>
<div class="line"><a name="l11750"></a><span class="lineno">11750</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optoff = -1;</div>
<div class="line"><a name="l11751"></a><span class="lineno">11751</span>&#160;        }</div>
<div class="line"><a name="l11752"></a><span class="lineno">11752</span>&#160;    }</div>
<div class="line"><a name="l11753"></a><span class="lineno">11753</span>&#160; </div>
<div class="line"><a name="l11754"></a><span class="lineno">11754</span>&#160;    <span class="keywordflow">return</span> getopts(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1], <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[2], optbase);</div>
<div class="line"><a name="l11755"></a><span class="lineno">11755</span>&#160;}</div>
<div class="line"><a name="l11756"></a><span class="lineno">11756</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ASH_GETOPTS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l11757"></a><span class="lineno">11757</span>&#160; </div>
<div class="line"><a name="l11758"></a><span class="lineno">11758</span>&#160; </div>
<div class="line"><a name="l11759"></a><span class="lineno">11759</span>&#160;<span class="comment">/* ============ Shell parser */</span></div>
<div class="line"><a name="l11760"></a><span class="lineno">11760</span>&#160; </div>
<div class="line"><a name="l11761"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html">11761</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a> {</div>
<div class="line"><a name="l11762"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aac30bbb8db6ff2b8754292a3b75f21cb">11762</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a> *<a class="code" href="../../d1/dbe/ash_8c.html#aac30bbb8db6ff2b8754292a3b75f21cb">next</a>;   <span class="comment">/* next here document in list */</span></div>
<div class="line"><a name="l11763"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a3ec365dc744a369133c23ec0aec0b676">11763</a></span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a3ec365dc744a369133c23ec0aec0b676">here</a>;       <span class="comment">/* redirection node */</span></div>
<div class="line"><a name="l11764"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a063c860e30fd5623b2c6eec4501a56f1">11764</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a063c860e30fd5623b2c6eec4501a56f1">eofmark</a>;          <span class="comment">/* string indicating end of input */</span></div>
<div class="line"><a name="l11765"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af1cdd7f1f03ead14cd403b108f4fb51e">11765</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#af1cdd7f1f03ead14cd403b108f4fb51e">striptabs</a>;     <span class="comment">/* if set, strip leading tabs */</span></div>
<div class="line"><a name="l11766"></a><span class="lineno">11766</span>&#160;};</div>
<div class="line"><a name="l11767"></a><span class="lineno">11767</span>&#160; </div>
<div class="line"><a name="l11768"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">11768</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a>;           <span class="comment">/* last token pushed back */</span></div>
<div class="line"><a name="l11769"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab800e4a3e8f20f26c2faf500c41f654b">11769</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d1/dbe/ash_8c.html#ab800e4a3e8f20f26c2faf500c41f654b">quoteflag</a>;             <span class="comment">/* set if (part of) last token was quoted */</span></div>
<div class="line"><a name="l11770"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">11770</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d1/dbe/ash_8c.html#a3cbc03228926482a253db2b3a74ac94a">token_id_t</a> <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a>;           <span class="comment">/* last token read (integer id Txxx) */</span></div>
<div class="line"><a name="l11771"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">11771</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a> *<a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a>;    <span class="comment">/* list of here documents to read */</span></div>
<div class="line"><a name="l11772"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">11772</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>;                 <span class="comment">/* text of last word returned by readtoken */</span></div>
<div class="line"><a name="l11773"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad37929c69e0a2a05dd8c9a874b026ef5">11773</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *<a class="code" href="../../d1/dbe/ash_8c.html#ad37929c69e0a2a05dd8c9a874b026ef5">backquotelist</a>;</div>
<div class="line"><a name="l11774"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af259ce0501aada6b201083fec4b3805f">11774</a></span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#af259ce0501aada6b201083fec4b3805f">redirnode</a>;</div>
<div class="line"><a name="l11775"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a48769f69c0ff86f7206de8ac8a97bf24">11775</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a48769f69c0ff86f7206de8ac8a97bf24">heredoc</a>;</div>
<div class="line"><a name="l11776"></a><span class="lineno">11776</span>&#160; </div>
<div class="line"><a name="l11777"></a><span class="lineno">11777</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l11778"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ad156769eb4dcf40603cc8080fa6329f0">11778</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ad156769eb4dcf40603cc8080fa6329f0">tokname</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <span class="keywordtype">int</span> tok)</div>
<div class="line"><a name="l11779"></a><span class="lineno">11779</span>&#160;{</div>
<div class="line"><a name="l11780"></a><span class="lineno">11780</span>&#160;    <span class="keywordflow">if</span> (tok &lt; <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da2b483d6d5c6d950ba6db81a369a1ec78">TSEMI</a>)</div>
<div class="line"><a name="l11781"></a><span class="lineno">11781</span>&#160;        <span class="keywordflow">return</span> tokname_array[tok];</div>
<div class="line"><a name="l11782"></a><span class="lineno">11782</span>&#160;    <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span>, tokname_array[tok]);</div>
<div class="line"><a name="l11783"></a><span class="lineno">11783</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l11784"></a><span class="lineno">11784</span>&#160;}</div>
<div class="line"><a name="l11785"></a><span class="lineno">11785</span>&#160; </div>
<div class="line"><a name="l11786"></a><span class="lineno">11786</span>&#160;<span class="comment">/* raise_error_unexpected_syntax:</span></div>
<div class="line"><a name="l11787"></a><span class="lineno">11787</span>&#160;<span class="comment"> * Called when an unexpected token is read during the parse.  The argument</span></div>
<div class="line"><a name="l11788"></a><span class="lineno">11788</span>&#160;<span class="comment"> * is the token that is expected, or -1 if more than one type of token can</span></div>
<div class="line"><a name="l11789"></a><span class="lineno">11789</span>&#160;<span class="comment"> * occur at this point.</span></div>
<div class="line"><a name="l11790"></a><span class="lineno">11790</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l11791"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">11791</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<span class="keywordtype">int</span>) <a class="code" href="../../de/d03/platform_8h.html#aa1728270d73c5d1598de1fd691762eb1">NORETURN</a>;</div>
<div class="line"><a name="l11792"></a><span class="lineno">11792</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11793"></a><span class="lineno">11793</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<span class="keywordtype">int</span> <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4">token</a>)</div>
<div class="line"><a name="l11794"></a><span class="lineno">11794</span>&#160;{</div>
<div class="line"><a name="l11795"></a><span class="lineno">11795</span>&#160;    <span class="keywordtype">char</span> msg[64];</div>
<div class="line"><a name="l11796"></a><span class="lineno">11796</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[16];</div>
<div class="line"><a name="l11797"></a><span class="lineno">11797</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>;</div>
<div class="line"><a name="l11798"></a><span class="lineno">11798</span>&#160; </div>
<div class="line"><a name="l11799"></a><span class="lineno">11799</span>&#160;    <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(msg, <span class="stringliteral">&quot;unexpected %s&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#ad156769eb4dcf40603cc8080fa6329f0">tokname</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a>));</div>
<div class="line"><a name="l11800"></a><span class="lineno">11800</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4">token</a> &gt;= 0)</div>
<div class="line"><a name="l11801"></a><span class="lineno">11801</span>&#160;        <a class="code" href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a>(msg + <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>, <span class="stringliteral">&quot; (expecting %s)&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#ad156769eb4dcf40603cc8080fa6329f0">tokname</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4">token</a>));</div>
<div class="line"><a name="l11802"></a><span class="lineno">11802</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(msg);</div>
<div class="line"><a name="l11803"></a><span class="lineno">11803</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l11804"></a><span class="lineno">11804</span>&#160;}</div>
<div class="line"><a name="l11805"></a><span class="lineno">11805</span>&#160; </div>
<div class="line"><a name="l11806"></a><span class="lineno">11806</span>&#160;<span class="comment">/* parsing is heavily cross-recursive, need these forward decls */</span></div>
<div class="line"><a name="l11807"></a><span class="lineno">11807</span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#aedec8046fc2742d356c2b3df628623db">andor</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l11808"></a><span class="lineno">11808</span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#aa4d0786b62ad8f3eb6b8196eb8aef78d">pipeline</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l11809"></a><span class="lineno">11809</span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a2815e28a28c34b4396ffbbb7b018e6eb">parse_command</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l11810"></a><span class="lineno">11810</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/dbe/ash_8c.html#a603c010a5c63da6598ae8bbc4e700aee">parseheredoc</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l11811"></a><span class="lineno">11811</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l11812"></a><span class="lineno">11812</span>&#160; </div>
<div class="line"><a name="l11813"></a><span class="lineno">11813</span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *</div>
<div class="line"><a name="l11814"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">11814</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(<span class="keywordtype">int</span> nlflag)</div>
<div class="line"><a name="l11815"></a><span class="lineno">11815</span>&#160;{</div>
<div class="line"><a name="l11816"></a><span class="lineno">11816</span>&#160;    <span class="keywordtype">int</span> chknl = nlflag &amp; 1 ? 0 : <a class="code" href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">CHKNL</a>;</div>
<div class="line"><a name="l11817"></a><span class="lineno">11817</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *n1, *n2, *n3;</div>
<div class="line"><a name="l11818"></a><span class="lineno">11818</span>&#160;    <span class="keywordtype">int</span> tok;</div>
<div class="line"><a name="l11819"></a><span class="lineno">11819</span>&#160; </div>
<div class="line"><a name="l11820"></a><span class="lineno">11820</span>&#160;    n1 = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l11821"></a><span class="lineno">11821</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l11822"></a><span class="lineno">11822</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = chknl | <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a>;</div>
<div class="line"><a name="l11823"></a><span class="lineno">11823</span>&#160;        tok = <a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>();</div>
<div class="line"><a name="l11824"></a><span class="lineno">11824</span>&#160;        <span class="keywordflow">switch</span> (tok) {</div>
<div class="line"><a name="l11825"></a><span class="lineno">11825</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9c265fee2fb017a2bb60009f14fbe4f5">TNL</a>:</div>
<div class="line"><a name="l11826"></a><span class="lineno">11826</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a603c010a5c63da6598ae8bbc4e700aee">parseheredoc</a>();</div>
<div class="line"><a name="l11827"></a><span class="lineno">11827</span>&#160;            <span class="keywordflow">return</span> n1;</div>
<div class="line"><a name="l11828"></a><span class="lineno">11828</span>&#160; </div>
<div class="line"><a name="l11829"></a><span class="lineno">11829</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da97170420678b0672ad01fcdef5b3b042">TEOF</a>:</div>
<div class="line"><a name="l11830"></a><span class="lineno">11830</span>&#160;            <span class="keywordflow">if</span> (!n1 &amp;&amp; !chknl)</div>
<div class="line"><a name="l11831"></a><span class="lineno">11831</span>&#160;                n1 = <a class="code" href="../../d1/dbe/ash_8c.html#af1f38b4cc0d0bffc1ad092cf5fc21506">NODE_EOF</a>;</div>
<div class="line"><a name="l11832"></a><span class="lineno">11832</span>&#160; out_eof:</div>
<div class="line"><a name="l11833"></a><span class="lineno">11833</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a603c010a5c63da6598ae8bbc4e700aee">parseheredoc</a>();</div>
<div class="line"><a name="l11834"></a><span class="lineno">11834</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a>++;</div>
<div class="line"><a name="l11835"></a><span class="lineno">11835</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da97170420678b0672ad01fcdef5b3b042">TEOF</a>;</div>
<div class="line"><a name="l11836"></a><span class="lineno">11836</span>&#160;            <span class="keywordflow">return</span> n1;</div>
<div class="line"><a name="l11837"></a><span class="lineno">11837</span>&#160;        }</div>
<div class="line"><a name="l11838"></a><span class="lineno">11838</span>&#160; </div>
<div class="line"><a name="l11839"></a><span class="lineno">11839</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a>++;</div>
<div class="line"><a name="l11840"></a><span class="lineno">11840</span>&#160;        <span class="keywordflow">if</span> (nlflag == 2 &amp;&amp; ((1 &lt;&lt; tok) &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9712204ccd47a43411b450680bd1cf03aa92cc83bd3ca515948f5b810bf21c707">tokendlist</a>))</div>
<div class="line"><a name="l11841"></a><span class="lineno">11841</span>&#160;            <span class="keywordflow">return</span> n1;</div>
<div class="line"><a name="l11842"></a><span class="lineno">11842</span>&#160;        nlflag |= 2;</div>
<div class="line"><a name="l11843"></a><span class="lineno">11843</span>&#160; </div>
<div class="line"><a name="l11844"></a><span class="lineno">11844</span>&#160;        n2 = <a class="code" href="../../d1/dbe/ash_8c.html#aedec8046fc2742d356c2b3df628623db">andor</a>();</div>
<div class="line"><a name="l11845"></a><span class="lineno">11845</span>&#160;        tok = <a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>();</div>
<div class="line"><a name="l11846"></a><span class="lineno">11846</span>&#160;        <span class="keywordflow">if</span> (tok == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dae717a5a56d7677f7a2fe53be12c22124">TBACKGND</a>) {</div>
<div class="line"><a name="l11847"></a><span class="lineno">11847</span>&#160;            <span class="keywordflow">if</span> (n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a6b0054e65df0932a5e1c92c4f707358b">NPIPE</a>) {</div>
<div class="line"><a name="l11848"></a><span class="lineno">11848</span>&#160;                n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ab8fdc0857530d2a1234b79ac86f1da41">npipe</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a4f412b3bb0f6a081ba652d0f658c67ff">pipe_backgnd</a> = 1;</div>
<div class="line"><a name="l11849"></a><span class="lineno">11849</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11850"></a><span class="lineno">11850</span>&#160;                <span class="keywordflow">if</span> (n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a731505e220374df4153088cb7dc7e721">NREDIR</a>) {</div>
<div class="line"><a name="l11851"></a><span class="lineno">11851</span>&#160;                    n3 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d5/db3/structnredir">nredir</a>));</div>
<div class="line"><a name="l11852"></a><span class="lineno">11852</span>&#160;                    n3-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ae26db6b787cfb7d30161158d5a421256">nredir</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac18960d5cf09c9b5bec0dd63d22176ab">n</a> = n2;</div>
<div class="line"><a name="l11853"></a><span class="lineno">11853</span>&#160;                    <span class="comment">/*n3-&gt;nredir.redirect = NULL; - stzalloc did it */</span></div>
<div class="line"><a name="l11854"></a><span class="lineno">11854</span>&#160;                    n2 = n3;</div>
<div class="line"><a name="l11855"></a><span class="lineno">11855</span>&#160;                }</div>
<div class="line"><a name="l11856"></a><span class="lineno">11856</span>&#160;                n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a17b467de2743a40a0a8fc5fc8019404d">NBACKGND</a>;</div>
<div class="line"><a name="l11857"></a><span class="lineno">11857</span>&#160;            }</div>
<div class="line"><a name="l11858"></a><span class="lineno">11858</span>&#160;        }</div>
<div class="line"><a name="l11859"></a><span class="lineno">11859</span>&#160;        <span class="keywordflow">if</span> (n1 == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l11860"></a><span class="lineno">11860</span>&#160;            n1 = n2;</div>
<div class="line"><a name="l11861"></a><span class="lineno">11861</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11862"></a><span class="lineno">11862</span>&#160;            n3 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d7/d46/structnbinary">nbinary</a>));</div>
<div class="line"><a name="l11863"></a><span class="lineno">11863</span>&#160;            n3-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a9b85d29ae92a08c0a12c42cc7f302dfb">NSEMI</a>;</div>
<div class="line"><a name="l11864"></a><span class="lineno">11864</span>&#160;            n3-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ae9eca4538af3d4f6446cb4b1440c760e">nbinary</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a4651d9d29c79e62de83f5a9ece542fd3">ch1</a> = n1;</div>
<div class="line"><a name="l11865"></a><span class="lineno">11865</span>&#160;            n3-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ae9eca4538af3d4f6446cb4b1440c760e">nbinary</a>.<a class="code" href="../../d1/dbe/ash_8c.html#aba5217713eef654a015f57d5ab61b17d">ch2</a> = n2;</div>
<div class="line"><a name="l11866"></a><span class="lineno">11866</span>&#160;            n1 = n3;</div>
<div class="line"><a name="l11867"></a><span class="lineno">11867</span>&#160;        }</div>
<div class="line"><a name="l11868"></a><span class="lineno">11868</span>&#160;        <span class="keywordflow">switch</span> (tok) {</div>
<div class="line"><a name="l11869"></a><span class="lineno">11869</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da97170420678b0672ad01fcdef5b3b042">TEOF</a>:</div>
<div class="line"><a name="l11870"></a><span class="lineno">11870</span>&#160;            <span class="keywordflow">goto</span> out_eof;</div>
<div class="line"><a name="l11871"></a><span class="lineno">11871</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9c265fee2fb017a2bb60009f14fbe4f5">TNL</a>:</div>
<div class="line"><a name="l11872"></a><span class="lineno">11872</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l11873"></a><span class="lineno">11873</span>&#160;            <span class="comment">/* fall through */</span></div>
<div class="line"><a name="l11874"></a><span class="lineno">11874</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dae717a5a56d7677f7a2fe53be12c22124">TBACKGND</a>:</div>
<div class="line"><a name="l11875"></a><span class="lineno">11875</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da2b483d6d5c6d950ba6db81a369a1ec78">TSEMI</a>:</div>
<div class="line"><a name="l11876"></a><span class="lineno">11876</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l11877"></a><span class="lineno">11877</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l11878"></a><span class="lineno">11878</span>&#160;            <span class="keywordflow">if</span> (!chknl)</div>
<div class="line"><a name="l11879"></a><span class="lineno">11879</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(-1);</div>
<div class="line"><a name="l11880"></a><span class="lineno">11880</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l11881"></a><span class="lineno">11881</span>&#160;            <span class="keywordflow">return</span> n1;</div>
<div class="line"><a name="l11882"></a><span class="lineno">11882</span>&#160;        }</div>
<div class="line"><a name="l11883"></a><span class="lineno">11883</span>&#160;    }</div>
<div class="line"><a name="l11884"></a><span class="lineno">11884</span>&#160;}</div>
<div class="line"><a name="l11885"></a><span class="lineno">11885</span>&#160; </div>
<div class="line"><a name="l11886"></a><span class="lineno">11886</span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *</div>
<div class="line"><a name="l11887"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aedec8046fc2742d356c2b3df628623db">11887</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aedec8046fc2742d356c2b3df628623db">andor</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11888"></a><span class="lineno">11888</span>&#160;{</div>
<div class="line"><a name="l11889"></a><span class="lineno">11889</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *n1, *n2, *n3;</div>
<div class="line"><a name="l11890"></a><span class="lineno">11890</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l11891"></a><span class="lineno">11891</span>&#160; </div>
<div class="line"><a name="l11892"></a><span class="lineno">11892</span>&#160;    n1 = <a class="code" href="../../d1/dbe/ash_8c.html#aa4d0786b62ad8f3eb6b8196eb8aef78d">pipeline</a>();</div>
<div class="line"><a name="l11893"></a><span class="lineno">11893</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l11894"></a><span class="lineno">11894</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>();</div>
<div class="line"><a name="l11895"></a><span class="lineno">11895</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac83acf67a25689b50ade68bb2c59391f">TAND</a>) {</div>
<div class="line"><a name="l11896"></a><span class="lineno">11896</span>&#160;            <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a923cb4a4043639f6d8d4108c84bb8f8f">NAND</a>;</div>
<div class="line"><a name="l11897"></a><span class="lineno">11897</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dada27aaee300d100894b7052b2063d6dd">TOR</a>) {</div>
<div class="line"><a name="l11898"></a><span class="lineno">11898</span>&#160;            <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a0dd10f6b3ad00611521e0a7ebc8c18ad">NOR</a>;</div>
<div class="line"><a name="l11899"></a><span class="lineno">11899</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11900"></a><span class="lineno">11900</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l11901"></a><span class="lineno">11901</span>&#160;            <span class="keywordflow">return</span> n1;</div>
<div class="line"><a name="l11902"></a><span class="lineno">11902</span>&#160;        }</div>
<div class="line"><a name="l11903"></a><span class="lineno">11903</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">CHKNL</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a>;</div>
<div class="line"><a name="l11904"></a><span class="lineno">11904</span>&#160;        n2 = <a class="code" href="../../d1/dbe/ash_8c.html#aa4d0786b62ad8f3eb6b8196eb8aef78d">pipeline</a>();</div>
<div class="line"><a name="l11905"></a><span class="lineno">11905</span>&#160;        n3 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d7/d46/structnbinary">nbinary</a>));</div>
<div class="line"><a name="l11906"></a><span class="lineno">11906</span>&#160;        n3-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l11907"></a><span class="lineno">11907</span>&#160;        n3-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ae9eca4538af3d4f6446cb4b1440c760e">nbinary</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a4651d9d29c79e62de83f5a9ece542fd3">ch1</a> = n1;</div>
<div class="line"><a name="l11908"></a><span class="lineno">11908</span>&#160;        n3-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ae9eca4538af3d4f6446cb4b1440c760e">nbinary</a>.<a class="code" href="../../d1/dbe/ash_8c.html#aba5217713eef654a015f57d5ab61b17d">ch2</a> = n2;</div>
<div class="line"><a name="l11909"></a><span class="lineno">11909</span>&#160;        n1 = n3;</div>
<div class="line"><a name="l11910"></a><span class="lineno">11910</span>&#160;    }</div>
<div class="line"><a name="l11911"></a><span class="lineno">11911</span>&#160;}</div>
<div class="line"><a name="l11912"></a><span class="lineno">11912</span>&#160; </div>
<div class="line"><a name="l11913"></a><span class="lineno">11913</span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *</div>
<div class="line"><a name="l11914"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa4d0786b62ad8f3eb6b8196eb8aef78d">11914</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aa4d0786b62ad8f3eb6b8196eb8aef78d">pipeline</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11915"></a><span class="lineno">11915</span>&#160;{</div>
<div class="line"><a name="l11916"></a><span class="lineno">11916</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *n1, *n2, *pipenode;</div>
<div class="line"><a name="l11917"></a><span class="lineno">11917</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *lp, *prev;</div>
<div class="line"><a name="l11918"></a><span class="lineno">11918</span>&#160;    <span class="keywordtype">int</span> negate;</div>
<div class="line"><a name="l11919"></a><span class="lineno">11919</span>&#160; </div>
<div class="line"><a name="l11920"></a><span class="lineno">11920</span>&#160;    negate = 0;</div>
<div class="line"><a name="l11921"></a><span class="lineno">11921</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;pipeline: entered\n&quot;</span>));</div>
<div class="line"><a name="l11922"></a><span class="lineno">11922</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daecc032ac8d73ded1632db71be06e61a9">TNOT</a>) {</div>
<div class="line"><a name="l11923"></a><span class="lineno">11923</span>&#160;        negate = !negate;</div>
<div class="line"><a name="l11924"></a><span class="lineno">11924</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a>;</div>
<div class="line"><a name="l11925"></a><span class="lineno">11925</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l11926"></a><span class="lineno">11926</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l11927"></a><span class="lineno">11927</span>&#160;    n1 = <a class="code" href="../../d1/dbe/ash_8c.html#a2815e28a28c34b4396ffbbb7b018e6eb">parse_command</a>();</div>
<div class="line"><a name="l11928"></a><span class="lineno">11928</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da5093e34df6d582f2fc69070de1af0cfd">TPIPE</a>) {</div>
<div class="line"><a name="l11929"></a><span class="lineno">11929</span>&#160;        pipenode = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d4/d1f/structnpipe">npipe</a>));</div>
<div class="line"><a name="l11930"></a><span class="lineno">11930</span>&#160;        pipenode-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a6b0054e65df0932a5e1c92c4f707358b">NPIPE</a>;</div>
<div class="line"><a name="l11931"></a><span class="lineno">11931</span>&#160;        <span class="comment">/*pipenode-&gt;npipe.pipe_backgnd = 0; - stzalloc did it */</span></div>
<div class="line"><a name="l11932"></a><span class="lineno">11932</span>&#160;        lp = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a>));</div>
<div class="line"><a name="l11933"></a><span class="lineno">11933</span>&#160;        pipenode-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ab8fdc0857530d2a1234b79ac86f1da41">npipe</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a1eb940f0a287a03f37044878bd9c8e3f">cmdlist</a> = lp;</div>
<div class="line"><a name="l11934"></a><span class="lineno">11934</span>&#160;        lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">n</a> = n1;</div>
<div class="line"><a name="l11935"></a><span class="lineno">11935</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l11936"></a><span class="lineno">11936</span>&#160;            prev = lp;</div>
<div class="line"><a name="l11937"></a><span class="lineno">11937</span>&#160;            lp = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a>));</div>
<div class="line"><a name="l11938"></a><span class="lineno">11938</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">CHKNL</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a>;</div>
<div class="line"><a name="l11939"></a><span class="lineno">11939</span>&#160;            lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a2815e28a28c34b4396ffbbb7b018e6eb">parse_command</a>();</div>
<div class="line"><a name="l11940"></a><span class="lineno">11940</span>&#160;            prev-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a> = lp;</div>
<div class="line"><a name="l11941"></a><span class="lineno">11941</span>&#160;        } <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da5093e34df6d582f2fc69070de1af0cfd">TPIPE</a>);</div>
<div class="line"><a name="l11942"></a><span class="lineno">11942</span>&#160;        lp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l11943"></a><span class="lineno">11943</span>&#160;        n1 = pipenode;</div>
<div class="line"><a name="l11944"></a><span class="lineno">11944</span>&#160;    }</div>
<div class="line"><a name="l11945"></a><span class="lineno">11945</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l11946"></a><span class="lineno">11946</span>&#160;    <span class="keywordflow">if</span> (negate) {</div>
<div class="line"><a name="l11947"></a><span class="lineno">11947</span>&#160;        n2 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/d15/structnnot">nnot</a>));</div>
<div class="line"><a name="l11948"></a><span class="lineno">11948</span>&#160;        n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7313a4d2ef02154895cdd285d1466a7a">NNOT</a>;</div>
<div class="line"><a name="l11949"></a><span class="lineno">11949</span>&#160;        n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a610572f584b8f6537e718eda9b1034cc">nnot</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac21e58e29876579d0ff31b050cc0f1b4">com</a> = n1;</div>
<div class="line"><a name="l11950"></a><span class="lineno">11950</span>&#160;        <span class="keywordflow">return</span> n2;</div>
<div class="line"><a name="l11951"></a><span class="lineno">11951</span>&#160;    }</div>
<div class="line"><a name="l11952"></a><span class="lineno">11952</span>&#160;    <span class="keywordflow">return</span> n1;</div>
<div class="line"><a name="l11953"></a><span class="lineno">11953</span>&#160;}</div>
<div class="line"><a name="l11954"></a><span class="lineno">11954</span>&#160; </div>
<div class="line"><a name="l11955"></a><span class="lineno">11955</span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *</div>
<div class="line"><a name="l11956"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8b36ccef66724fe6a2678bba38c8c9db">11956</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8b36ccef66724fe6a2678bba38c8c9db">makename</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11957"></a><span class="lineno">11957</span>&#160;{</div>
<div class="line"><a name="l11958"></a><span class="lineno">11958</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l11959"></a><span class="lineno">11959</span>&#160; </div>
<div class="line"><a name="l11960"></a><span class="lineno">11960</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a>));</div>
<div class="line"><a name="l11961"></a><span class="lineno">11961</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type = <a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>;</div>
<div class="line"><a name="l11962"></a><span class="lineno">11962</span>&#160;    <span class="comment">/*n-&gt;narg.next = NULL; - stzalloc did it */</span></div>
<div class="line"><a name="l11963"></a><span class="lineno">11963</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.text = <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>;</div>
<div class="line"><a name="l11964"></a><span class="lineno">11964</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.backquote = <a class="code" href="../../d1/dbe/ash_8c.html#ad37929c69e0a2a05dd8c9a874b026ef5">backquotelist</a>;</div>
<div class="line"><a name="l11965"></a><span class="lineno">11965</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l11966"></a><span class="lineno">11966</span>&#160;}</div>
<div class="line"><a name="l11967"></a><span class="lineno">11967</span>&#160; </div>
<div class="line"><a name="l11968"></a><span class="lineno">11968</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11969"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ab9bb06335d4f953f1eda4a8eca765219">11969</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ab9bb06335d4f953f1eda4a8eca765219">fixredir</a>(<span class="keyword">union</span> <a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <span class="keywordtype">int</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>)</div>
<div class="line"><a name="l11970"></a><span class="lineno">11970</span>&#160;{</div>
<div class="line"><a name="l11971"></a><span class="lineno">11971</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l11972"></a><span class="lineno">11972</span>&#160; </div>
<div class="line"><a name="l11973"></a><span class="lineno">11973</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;Fix redir %s %d\n&quot;</span>, <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>));</div>
<div class="line"><a name="l11974"></a><span class="lineno">11974</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>)</div>
<div class="line"><a name="l11975"></a><span class="lineno">11975</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndup.vname = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l11976"></a><span class="lineno">11976</span>&#160; </div>
<div class="line"><a name="l11977"></a><span class="lineno">11977</span>&#160;    <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../dd/d15/xatonum_8h.html#a78de70f235ee408d67835ac4a7121141">bb_strtou</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);</div>
<div class="line"><a name="l11978"></a><span class="lineno">11978</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> &amp;&amp; <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> &gt;= 0)</div>
<div class="line"><a name="l11979"></a><span class="lineno">11979</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndup.dupfd = <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l11980"></a><span class="lineno">11980</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#ae3c705adc31efb61b8a23829e028028e">LONE_DASH</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>))</div>
<div class="line"><a name="l11981"></a><span class="lineno">11981</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndup.dupfd = -1;</div>
<div class="line"><a name="l11982"></a><span class="lineno">11982</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l11983"></a><span class="lineno">11983</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>)</div>
<div class="line"><a name="l11984"></a><span class="lineno">11984</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(<span class="stringliteral">&quot;bad fd number&quot;</span>);</div>
<div class="line"><a name="l11985"></a><span class="lineno">11985</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndup.vname = <a class="code" href="../../d1/dbe/ash_8c.html#a8b36ccef66724fe6a2678bba38c8c9db">makename</a>();</div>
<div class="line"><a name="l11986"></a><span class="lineno">11986</span>&#160;    }</div>
<div class="line"><a name="l11987"></a><span class="lineno">11987</span>&#160;}</div>
<div class="line"><a name="l11988"></a><span class="lineno">11988</span>&#160; </div>
<div class="line"><a name="l11989"></a><span class="lineno">11989</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l11990"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aae6d90586d69f96706fff6bd7cca3352">11990</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aae6d90586d69f96706fff6bd7cca3352">parsefname</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l11991"></a><span class="lineno">11991</span>&#160;{</div>
<div class="line"><a name="l11992"></a><span class="lineno">11992</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af259ce0501aada6b201083fec4b3805f">redirnode</a>;</div>
<div class="line"><a name="l11993"></a><span class="lineno">11993</span>&#160; </div>
<div class="line"><a name="l11994"></a><span class="lineno">11994</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type == <a class="code" href="../../d1/dbe/ash_8c.html#ad0f81540b8a0b9ef1e2747fb93898460">NHERE</a>)</div>
<div class="line"><a name="l11995"></a><span class="lineno">11995</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3e25b83dd9c92078e1f9ceab528166f8">CHKEOFMARK</a>;</div>
<div class="line"><a name="l11996"></a><span class="lineno">11996</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a>)</div>
<div class="line"><a name="l11997"></a><span class="lineno">11997</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(-1);</div>
<div class="line"><a name="l11998"></a><span class="lineno">11998</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type == <a class="code" href="../../d1/dbe/ash_8c.html#ad0f81540b8a0b9ef1e2747fb93898460">NHERE</a>) {</div>
<div class="line"><a name="l11999"></a><span class="lineno">11999</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a3ec365dc744a369133c23ec0aec0b676">here</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a48769f69c0ff86f7206de8ac8a97bf24">heredoc</a>;</div>
<div class="line"><a name="l12000"></a><span class="lineno">12000</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l12001"></a><span class="lineno">12001</span>&#160; </div>
<div class="line"><a name="l12002"></a><span class="lineno">12002</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ab800e4a3e8f20f26c2faf500c41f654b">quoteflag</a> == 0)</div>
<div class="line"><a name="l12003"></a><span class="lineno">12003</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type = <a class="code" href="../../d1/dbe/ash_8c.html#adea9843b5ff4954b14afa07a09340091">NXHERE</a>;</div>
<div class="line"><a name="l12004"></a><span class="lineno">12004</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;Here document %d\n&quot;</span>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type));</div>
<div class="line"><a name="l12005"></a><span class="lineno">12005</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a80f4d118bbefdab6df40e7f843e89755">rmescapes</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>, 0, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l12006"></a><span class="lineno">12006</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a3ec365dc744a369133c23ec0aec0b676">here</a>-&gt;eofmark = <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>;</div>
<div class="line"><a name="l12007"></a><span class="lineno">12007</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a3ec365dc744a369133c23ec0aec0b676">here</a>-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aa3e8aa83f864292b5a01210f4453fcc0">next</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12008"></a><span class="lineno">12008</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l12009"></a><span class="lineno">12009</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3ec365dc744a369133c23ec0aec0b676">here</a>;</div>
<div class="line"><a name="l12010"></a><span class="lineno">12010</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12011"></a><span class="lineno">12011</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a>; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;next; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;next)</div>
<div class="line"><a name="l12012"></a><span class="lineno">12012</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l12013"></a><span class="lineno">12013</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>-&gt;next = <a class="code" href="../../d1/dbe/ash_8c.html#a3ec365dc744a369133c23ec0aec0b676">here</a>;</div>
<div class="line"><a name="l12014"></a><span class="lineno">12014</span>&#160;        }</div>
<div class="line"><a name="l12015"></a><span class="lineno">12015</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type == <a class="code" href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">NTOFD</a> || <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type == <a class="code" href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">NFROMFD</a>) {</div>
<div class="line"><a name="l12016"></a><span class="lineno">12016</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab9bb06335d4f953f1eda4a8eca765219">fixredir</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>, 0);</div>
<div class="line"><a name="l12017"></a><span class="lineno">12017</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12018"></a><span class="lineno">12018</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfile.fname = <a class="code" href="../../d1/dbe/ash_8c.html#a8b36ccef66724fe6a2678bba38c8c9db">makename</a>();</div>
<div class="line"><a name="l12019"></a><span class="lineno">12019</span>&#160;    }</div>
<div class="line"><a name="l12020"></a><span class="lineno">12020</span>&#160;}</div>
<div class="line"><a name="l12021"></a><span class="lineno">12021</span>&#160; </div>
<div class="line"><a name="l12022"></a><span class="lineno">12022</span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *</div>
<div class="line"><a name="l12023"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a02186eac85121681589f2ec32aa7fa98">12023</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a02186eac85121681589f2ec32aa7fa98">simplecmd</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l12024"></a><span class="lineno">12024</span>&#160;{</div>
<div class="line"><a name="l12025"></a><span class="lineno">12025</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a>, **app;</div>
<div class="line"><a name="l12026"></a><span class="lineno">12026</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12027"></a><span class="lineno">12027</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../dd/d83/getconf_8c.html#a0dbe8c864fc9ffebb6477b4c8949abec">vars</a>, **vpp;</div>
<div class="line"><a name="l12028"></a><span class="lineno">12028</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> **rpp, *<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l12029"></a><span class="lineno">12029</span>&#160;    <span class="keywordtype">int</span> savecheckkwd;</div>
<div class="line"><a name="l12030"></a><span class="lineno">12030</span>&#160;    <span class="keywordtype">int</span> savelinno;</div>
<div class="line"><a name="l12031"></a><span class="lineno">12031</span>&#160;<span class="preprocessor">#if BASH_TEST2</span></div>
<div class="line"><a name="l12032"></a><span class="lineno">12032</span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> double_brackets_flag = 0;</div>
<div class="line"><a name="l12033"></a><span class="lineno">12033</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12034"></a><span class="lineno">12034</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a71036b92d501a90d23d942648194bb0c">IF_BASH_FUNCTION</a>(<a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> function_flag = 0;)</div>
<div class="line"><a name="l12035"></a><span class="lineno">12035</span>&#160; </div>
<div class="line"><a name="l12036"></a><span class="lineno">12036</span>&#160;    <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12037"></a><span class="lineno">12037</span>&#160;    app = &amp;<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a>;</div>
<div class="line"><a name="l12038"></a><span class="lineno">12038</span>&#160;    <a class="code" href="../../dd/d83/getconf_8c.html#a0dbe8c864fc9ffebb6477b4c8949abec">vars</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12039"></a><span class="lineno">12039</span>&#160;    vpp = &amp;<a class="code" href="../../dd/d83/getconf_8c.html#a0dbe8c864fc9ffebb6477b4c8949abec">vars</a>;</div>
<div class="line"><a name="l12040"></a><span class="lineno">12040</span>&#160;    <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12041"></a><span class="lineno">12041</span>&#160;    rpp = &amp;<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l12042"></a><span class="lineno">12042</span>&#160; </div>
<div class="line"><a name="l12043"></a><span class="lineno">12043</span>&#160;    savecheckkwd = <a class="code" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a>;</div>
<div class="line"><a name="l12044"></a><span class="lineno">12044</span>&#160;    savelinno = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">linno</a>;</div>
<div class="line"><a name="l12045"></a><span class="lineno">12045</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l12046"></a><span class="lineno">12046</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l12047"></a><span class="lineno">12047</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = savecheckkwd;</div>
<div class="line"><a name="l12048"></a><span class="lineno">12048</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>();</div>
<div class="line"><a name="l12049"></a><span class="lineno">12049</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>) {</div>
<div class="line"><a name="l12050"></a><span class="lineno">12050</span>&#160;<span class="preprocessor">#if BASH_FUNCTION</span></div>
<div class="line"><a name="l12051"></a><span class="lineno">12051</span>&#160;        <span class="keywordflow">case</span> TFUNCTION:</div>
<div class="line"><a name="l12052"></a><span class="lineno">12052</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a>)</div>
<div class="line"><a name="l12053"></a><span class="lineno">12053</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a>);</div>
<div class="line"><a name="l12054"></a><span class="lineno">12054</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l12055"></a><span class="lineno">12055</span>&#160;            function_flag = 1;</div>
<div class="line"><a name="l12056"></a><span class="lineno">12056</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12057"></a><span class="lineno">12057</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12058"></a><span class="lineno">12058</span>&#160;<span class="preprocessor">#if BASH_TEST2</span></div>
<div class="line"><a name="l12059"></a><span class="lineno">12059</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac83acf67a25689b50ade68bb2c59391f">TAND</a>: <span class="comment">/* &quot;&amp;&amp;&quot; */</span></div>
<div class="line"><a name="l12060"></a><span class="lineno">12060</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dada27aaee300d100894b7052b2063d6dd">TOR</a>: <span class="comment">/* &quot;||&quot; */</span></div>
<div class="line"><a name="l12061"></a><span class="lineno">12061</span>&#160;            <span class="keywordflow">if</span> (!double_brackets_flag) {</div>
<div class="line"><a name="l12062"></a><span class="lineno">12062</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l12063"></a><span class="lineno">12063</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l12064"></a><span class="lineno">12064</span>&#160;            }</div>
<div class="line"><a name="l12065"></a><span class="lineno">12065</span>&#160;            <span class="comment">/* pass &quot;&amp;&amp;&quot; or &quot;||&quot; to [[ ]] as literal args */</span></div>
<div class="line"><a name="l12066"></a><span class="lineno">12066</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a> = (<span class="keywordtype">char</span> *) (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac83acf67a25689b50ade68bb2c59391f">TAND</a> ? <span class="stringliteral">&quot;&amp;&amp;&quot;</span> : <span class="stringliteral">&quot;||&quot;</span>);</div>
<div class="line"><a name="l12067"></a><span class="lineno">12067</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12068"></a><span class="lineno">12068</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a>:</div>
<div class="line"><a name="l12069"></a><span class="lineno">12069</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a>));</div>
<div class="line"><a name="l12070"></a><span class="lineno">12070</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type = <a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>;</div>
<div class="line"><a name="l12071"></a><span class="lineno">12071</span>&#160;            <span class="comment">/*n-&gt;narg.next = NULL; - stzalloc did it */</span></div>
<div class="line"><a name="l12072"></a><span class="lineno">12072</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.text = <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>;</div>
<div class="line"><a name="l12073"></a><span class="lineno">12073</span>&#160;<span class="preprocessor">#if BASH_TEST2</span></div>
<div class="line"><a name="l12074"></a><span class="lineno">12074</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<span class="stringliteral">&quot;[[&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>) == 0)</div>
<div class="line"><a name="l12075"></a><span class="lineno">12075</span>&#160;                double_brackets_flag = 1;</div>
<div class="line"><a name="l12076"></a><span class="lineno">12076</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<span class="stringliteral">&quot;]]&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>) == 0)</div>
<div class="line"><a name="l12077"></a><span class="lineno">12077</span>&#160;                double_brackets_flag = 0;</div>
<div class="line"><a name="l12078"></a><span class="lineno">12078</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12079"></a><span class="lineno">12079</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.backquote = <a class="code" href="../../d1/dbe/ash_8c.html#ad37929c69e0a2a05dd8c9a874b026ef5">backquotelist</a>;</div>
<div class="line"><a name="l12080"></a><span class="lineno">12080</span>&#160;            <span class="keywordflow">if</span> (savecheckkwd &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a7edf4b5bebe2fc78aaea7372429dd54a">isassignment</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>)) {</div>
<div class="line"><a name="l12081"></a><span class="lineno">12081</span>&#160;                *vpp = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l12082"></a><span class="lineno">12082</span>&#160;                vpp = &amp;<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.next;</div>
<div class="line"><a name="l12083"></a><span class="lineno">12083</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12084"></a><span class="lineno">12084</span>&#160;                *app = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l12085"></a><span class="lineno">12085</span>&#160;                app = &amp;<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.next;</div>
<div class="line"><a name="l12086"></a><span class="lineno">12086</span>&#160;                savecheckkwd = 0;</div>
<div class="line"><a name="l12087"></a><span class="lineno">12087</span>&#160;            }</div>
<div class="line"><a name="l12088"></a><span class="lineno">12088</span>&#160;<span class="preprocessor">#if BASH_FUNCTION</span></div>
<div class="line"><a name="l12089"></a><span class="lineno">12089</span>&#160;            <span class="keywordflow">if</span> (function_flag) {</div>
<div class="line"><a name="l12090"></a><span class="lineno">12090</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">CHKNL</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a>;</div>
<div class="line"><a name="l12091"></a><span class="lineno">12091</span>&#160;                <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>();</div>
<div class="line"><a name="l12092"></a><span class="lineno">12092</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l12093"></a><span class="lineno">12093</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>) {</div>
<div class="line"><a name="l12094"></a><span class="lineno">12094</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da4e367400a39e6f610d890329bfda7d2b">TBEGIN</a>:</div>
<div class="line"><a name="l12095"></a><span class="lineno">12095</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daf6049a2c76faf4a885590098b3c6f5d7">TIF</a>:</div>
<div class="line"><a name="l12096"></a><span class="lineno">12096</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da6e85ebba0763046aa5db2a073ea608f3">TCASE</a>:</div>
<div class="line"><a name="l12097"></a><span class="lineno">12097</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da23c62ec7e2f13f4a9443adef926b8f0f">TUNTIL</a>:</div>
<div class="line"><a name="l12098"></a><span class="lineno">12098</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daaf9a72d2b433486eb715922b4c98b19b">TWHILE</a>:</div>
<div class="line"><a name="l12099"></a><span class="lineno">12099</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daae1cac6fabc93853164889cdc0d77b1a">TFOR</a>:</div>
<div class="line"><a name="l12100"></a><span class="lineno">12100</span>&#160;                    <span class="keywordflow">goto</span> do_func;</div>
<div class="line"><a name="l12101"></a><span class="lineno">12101</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac71b97e296bc873da6a08ed2840c8bde">TLP</a>:</div>
<div class="line"><a name="l12102"></a><span class="lineno">12102</span>&#160;                    function_flag = 0;</div>
<div class="line"><a name="l12103"></a><span class="lineno">12103</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12104"></a><span class="lineno">12104</span>&#160;<span class="preprocessor"># if BASH_TEST2</span></div>
<div class="line"><a name="l12105"></a><span class="lineno">12105</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a>:</div>
<div class="line"><a name="l12106"></a><span class="lineno">12106</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<span class="stringliteral">&quot;[[&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>) == 0)</div>
<div class="line"><a name="l12107"></a><span class="lineno">12107</span>&#160;                        <span class="keywordflow">goto</span> do_func;</div>
<div class="line"><a name="l12108"></a><span class="lineno">12108</span>&#160;                    <span class="comment">/* fall through */</span></div>
<div class="line"><a name="l12109"></a><span class="lineno">12109</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l12110"></a><span class="lineno">12110</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l12111"></a><span class="lineno">12111</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(-1);</div>
<div class="line"><a name="l12112"></a><span class="lineno">12112</span>&#160;                }</div>
<div class="line"><a name="l12113"></a><span class="lineno">12113</span>&#160;            }</div>
<div class="line"><a name="l12114"></a><span class="lineno">12114</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12115"></a><span class="lineno">12115</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12116"></a><span class="lineno">12116</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da7300b41797271233ec46764dc5983b8f">TREDIR</a>:</div>
<div class="line"><a name="l12117"></a><span class="lineno">12117</span>&#160;            *rpp = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af259ce0501aada6b201083fec4b3805f">redirnode</a>;</div>
<div class="line"><a name="l12118"></a><span class="lineno">12118</span>&#160;            rpp = &amp;<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;nfile.next;</div>
<div class="line"><a name="l12119"></a><span class="lineno">12119</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#aae6d90586d69f96706fff6bd7cca3352">parsefname</a>();   <span class="comment">/* read name of redirection file */</span></div>
<div class="line"><a name="l12120"></a><span class="lineno">12120</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12121"></a><span class="lineno">12121</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac71b97e296bc873da6a08ed2840c8bde">TLP</a>:</div>
<div class="line"><a name="l12122"></a><span class="lineno">12122</span>&#160; <a class="code" href="../../d1/dbe/ash_8c.html#a71036b92d501a90d23d942648194bb0c">IF_BASH_FUNCTION</a>(do_func:)</div>
<div class="line"><a name="l12123"></a><span class="lineno">12123</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a> &amp;&amp; app == &amp;<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>-&gt;narg.next</div>
<div class="line"><a name="l12124"></a><span class="lineno">12124</span>&#160;             &amp;&amp; !<a class="code" href="../../dd/d83/getconf_8c.html#a0dbe8c864fc9ffebb6477b4c8949abec">vars</a> &amp;&amp; !<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a></div>
<div class="line"><a name="l12125"></a><span class="lineno">12125</span>&#160;            ) {</div>
<div class="line"><a name="l12126"></a><span class="lineno">12126</span>&#160;                <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d6/d85/structbuiltincmd">builtincmd</a> *bcmd;</div>
<div class="line"><a name="l12127"></a><span class="lineno">12127</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>;</div>
<div class="line"><a name="l12128"></a><span class="lineno">12128</span>&#160; </div>
<div class="line"><a name="l12129"></a><span class="lineno">12129</span>&#160;                <span class="comment">/* We have a function */</span></div>
<div class="line"><a name="l12130"></a><span class="lineno">12130</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a71036b92d501a90d23d942648194bb0c">IF_BASH_FUNCTION</a>(!function_flag &amp;&amp;) <a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f">TRP</a>)</div>
<div class="line"><a name="l12131"></a><span class="lineno">12131</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f">TRP</a>);</div>
<div class="line"><a name="l12132"></a><span class="lineno">12132</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.text;</div>
<div class="line"><a name="l12133"></a><span class="lineno">12133</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#acd293df6311db7d84b2d77970ce2633b">goodname</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>)</div>
<div class="line"><a name="l12134"></a><span class="lineno">12134</span>&#160;                 || ((bcmd = <a class="code" href="../../d1/dbe/ash_8c.html#a4ce675a4e223cdc1e9eba4484275ef40">find_builtin</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>)) &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a0c4e6e2470921fbf54525dd1644ad0f9">IS_BUILTIN_SPECIAL</a>(bcmd))</div>
<div class="line"><a name="l12135"></a><span class="lineno">12135</span>&#160;                ) {</div>
<div class="line"><a name="l12136"></a><span class="lineno">12136</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(<span class="stringliteral">&quot;bad function name&quot;</span>);</div>
<div class="line"><a name="l12137"></a><span class="lineno">12137</span>&#160;                }</div>
<div class="line"><a name="l12138"></a><span class="lineno">12138</span>&#160;                <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type = <a class="code" href="../../d1/dbe/ash_8c.html#accf038e773bf009999c077dfac00a290">NDEFUN</a>;</div>
<div class="line"><a name="l12139"></a><span class="lineno">12139</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">CHKNL</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a>;</div>
<div class="line"><a name="l12140"></a><span class="lineno">12140</span>&#160;                <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndefun.text = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.text;</div>
<div class="line"><a name="l12141"></a><span class="lineno">12141</span>&#160;                <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndefun.linno = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">linno</a>;</div>
<div class="line"><a name="l12142"></a><span class="lineno">12142</span>&#160;                <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ndefun.body = <a class="code" href="../../d1/dbe/ash_8c.html#a2815e28a28c34b4396ffbbb7b018e6eb">parse_command</a>();</div>
<div class="line"><a name="l12143"></a><span class="lineno">12143</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l12144"></a><span class="lineno">12144</span>&#160;            }</div>
<div class="line"><a name="l12145"></a><span class="lineno">12145</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a71036b92d501a90d23d942648194bb0c">IF_BASH_FUNCTION</a>(function_flag = 0;)</div>
<div class="line"><a name="l12146"></a><span class="lineno">12146</span>&#160;            <span class="comment">/* fall through */</span></div>
<div class="line"><a name="l12147"></a><span class="lineno">12147</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l12148"></a><span class="lineno">12148</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l12149"></a><span class="lineno">12149</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l12150"></a><span class="lineno">12150</span>&#160;        }</div>
<div class="line"><a name="l12151"></a><span class="lineno">12151</span>&#160;    }</div>
<div class="line"><a name="l12152"></a><span class="lineno">12152</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l12153"></a><span class="lineno">12153</span>&#160;    *app = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12154"></a><span class="lineno">12154</span>&#160;    *vpp = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12155"></a><span class="lineno">12155</span>&#160;    *rpp = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12156"></a><span class="lineno">12156</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d8/da4/structncmd">ncmd</a>));</div>
<div class="line"><a name="l12157"></a><span class="lineno">12157</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">NCMD</a> != 0)</div>
<div class="line"><a name="l12158"></a><span class="lineno">12158</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;type = <a class="code" href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">NCMD</a>;</div>
<div class="line"><a name="l12159"></a><span class="lineno">12159</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.linno = savelinno;</div>
<div class="line"><a name="l12160"></a><span class="lineno">12160</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.args = <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a>;</div>
<div class="line"><a name="l12161"></a><span class="lineno">12161</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.assign = <a class="code" href="../../dd/d83/getconf_8c.html#a0dbe8c864fc9ffebb6477b4c8949abec">vars</a>;</div>
<div class="line"><a name="l12162"></a><span class="lineno">12162</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;ncmd.redirect = <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l12163"></a><span class="lineno">12163</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l12164"></a><span class="lineno">12164</span>&#160;}</div>
<div class="line"><a name="l12165"></a><span class="lineno">12165</span>&#160; </div>
<div class="line"><a name="l12166"></a><span class="lineno">12166</span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *</div>
<div class="line"><a name="l12167"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a2815e28a28c34b4396ffbbb7b018e6eb">12167</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a2815e28a28c34b4396ffbbb7b018e6eb">parse_command</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l12168"></a><span class="lineno">12168</span>&#160;{</div>
<div class="line"><a name="l12169"></a><span class="lineno">12169</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *n1, *n2;</div>
<div class="line"><a name="l12170"></a><span class="lineno">12170</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>, **app;</div>
<div class="line"><a name="l12171"></a><span class="lineno">12171</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *cp, **cpp;</div>
<div class="line"><a name="l12172"></a><span class="lineno">12172</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>, **rpp;</div>
<div class="line"><a name="l12173"></a><span class="lineno">12173</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> **rpp2;</div>
<div class="line"><a name="l12174"></a><span class="lineno">12174</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l12175"></a><span class="lineno">12175</span>&#160;    <span class="keywordtype">int</span> savelinno;</div>
<div class="line"><a name="l12176"></a><span class="lineno">12176</span>&#160; </div>
<div class="line"><a name="l12177"></a><span class="lineno">12177</span>&#160;    <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12178"></a><span class="lineno">12178</span>&#160;    rpp2 = &amp;<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l12179"></a><span class="lineno">12179</span>&#160; </div>
<div class="line"><a name="l12180"></a><span class="lineno">12180</span>&#160;    savelinno = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">linno</a>;</div>
<div class="line"><a name="l12181"></a><span class="lineno">12181</span>&#160; </div>
<div class="line"><a name="l12182"></a><span class="lineno">12182</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>()) {</div>
<div class="line"><a name="l12183"></a><span class="lineno">12183</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l12184"></a><span class="lineno">12184</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(-1);</div>
<div class="line"><a name="l12185"></a><span class="lineno">12185</span>&#160;        <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l12186"></a><span class="lineno">12186</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daf6049a2c76faf4a885590098b3c6f5d7">TIF</a>:</div>
<div class="line"><a name="l12187"></a><span class="lineno">12187</span>&#160;        n1 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d18/structnif">nif</a>));</div>
<div class="line"><a name="l12188"></a><span class="lineno">12188</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a1afe765b4510add91239ee23e5a89ba4">NIF</a>;</div>
<div class="line"><a name="l12189"></a><span class="lineno">12189</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#af8612c0bc0c0d0efcbb514f34548f211">nif</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a5bd2cc24962f3791ce6ae81f5c560925">test</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(0);</div>
<div class="line"><a name="l12190"></a><span class="lineno">12190</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daa26f5a72db54188cb29dc7b4ba952b87">TTHEN</a>)</div>
<div class="line"><a name="l12191"></a><span class="lineno">12191</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daa26f5a72db54188cb29dc7b4ba952b87">TTHEN</a>);</div>
<div class="line"><a name="l12192"></a><span class="lineno">12192</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#af8612c0bc0c0d0efcbb514f34548f211">nif</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8ebc501ae589e6c82e13496a19eb8665">ifpart</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(0);</div>
<div class="line"><a name="l12193"></a><span class="lineno">12193</span>&#160;        n2 = n1;</div>
<div class="line"><a name="l12194"></a><span class="lineno">12194</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dab2fe2733a71d9df8437916925e5bce8a">TELIF</a>) {</div>
<div class="line"><a name="l12195"></a><span class="lineno">12195</span>&#160;            n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#af8612c0bc0c0d0efcbb514f34548f211">nif</a>.<a class="code" href="../../d1/dbe/ash_8c.html#aa7a33a7eede9229ab5e19f2a3bb1a186">elsepart</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/d18/structnif">nif</a>));</div>
<div class="line"><a name="l12196"></a><span class="lineno">12196</span>&#160;            n2 = n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#af8612c0bc0c0d0efcbb514f34548f211">nif</a>.<a class="code" href="../../d1/dbe/ash_8c.html#aa7a33a7eede9229ab5e19f2a3bb1a186">elsepart</a>;</div>
<div class="line"><a name="l12197"></a><span class="lineno">12197</span>&#160;            n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a1afe765b4510add91239ee23e5a89ba4">NIF</a>;</div>
<div class="line"><a name="l12198"></a><span class="lineno">12198</span>&#160;            n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#af8612c0bc0c0d0efcbb514f34548f211">nif</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a5bd2cc24962f3791ce6ae81f5c560925">test</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(0);</div>
<div class="line"><a name="l12199"></a><span class="lineno">12199</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daa26f5a72db54188cb29dc7b4ba952b87">TTHEN</a>)</div>
<div class="line"><a name="l12200"></a><span class="lineno">12200</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daa26f5a72db54188cb29dc7b4ba952b87">TTHEN</a>);</div>
<div class="line"><a name="l12201"></a><span class="lineno">12201</span>&#160;            n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#af8612c0bc0c0d0efcbb514f34548f211">nif</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8ebc501ae589e6c82e13496a19eb8665">ifpart</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(0);</div>
<div class="line"><a name="l12202"></a><span class="lineno">12202</span>&#160;        }</div>
<div class="line"><a name="l12203"></a><span class="lineno">12203</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daecbe57c1accc3f854289da5b2859df35">TELSE</a>)</div>
<div class="line"><a name="l12204"></a><span class="lineno">12204</span>&#160;            n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#af8612c0bc0c0d0efcbb514f34548f211">nif</a>.<a class="code" href="../../d1/dbe/ash_8c.html#aa7a33a7eede9229ab5e19f2a3bb1a186">elsepart</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(0);</div>
<div class="line"><a name="l12205"></a><span class="lineno">12205</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12206"></a><span class="lineno">12206</span>&#160;            n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#af8612c0bc0c0d0efcbb514f34548f211">nif</a>.<a class="code" href="../../d1/dbe/ash_8c.html#aa7a33a7eede9229ab5e19f2a3bb1a186">elsepart</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12207"></a><span class="lineno">12207</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l12208"></a><span class="lineno">12208</span>&#160;        }</div>
<div class="line"><a name="l12209"></a><span class="lineno">12209</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da312b4482eefc9ca83cb84fa08c49b4d0">TFI</a>;</div>
<div class="line"><a name="l12210"></a><span class="lineno">12210</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12211"></a><span class="lineno">12211</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daaf9a72d2b433486eb715922b4c98b19b">TWHILE</a>:</div>
<div class="line"><a name="l12212"></a><span class="lineno">12212</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da23c62ec7e2f13f4a9443adef926b8f0f">TUNTIL</a>: {</div>
<div class="line"><a name="l12213"></a><span class="lineno">12213</span>&#160;        <span class="keywordtype">int</span> got;</div>
<div class="line"><a name="l12214"></a><span class="lineno">12214</span>&#160;        n1 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d7/d46/structnbinary">nbinary</a>));</div>
<div class="line"><a name="l12215"></a><span class="lineno">12215</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = (<a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daaf9a72d2b433486eb715922b4c98b19b">TWHILE</a>) ? <a class="code" href="../../d1/dbe/ash_8c.html#a118a6b79cefa14c0e48db7329e2dc546">NWHILE</a> : <a class="code" href="../../d1/dbe/ash_8c.html#a715c2e99d7a38041a97cebc49ef25470">NUNTIL</a>;</div>
<div class="line"><a name="l12216"></a><span class="lineno">12216</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ae9eca4538af3d4f6446cb4b1440c760e">nbinary</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a4651d9d29c79e62de83f5a9ece542fd3">ch1</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(0);</div>
<div class="line"><a name="l12217"></a><span class="lineno">12217</span>&#160;        got = <a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>();</div>
<div class="line"><a name="l12218"></a><span class="lineno">12218</span>&#160;        <span class="keywordflow">if</span> (got != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daffa6274fc4e000cda2676e65c4912321">TDO</a>) {</div>
<div class="line"><a name="l12219"></a><span class="lineno">12219</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;expecting DO got &#39;%s&#39; %s\n&quot;</span>, tokname_array[got],</div>
<div class="line"><a name="l12220"></a><span class="lineno">12220</span>&#160;                    got == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a> ? <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a> : <span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><a name="l12221"></a><span class="lineno">12221</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daffa6274fc4e000cda2676e65c4912321">TDO</a>);</div>
<div class="line"><a name="l12222"></a><span class="lineno">12222</span>&#160;        }</div>
<div class="line"><a name="l12223"></a><span class="lineno">12223</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ae9eca4538af3d4f6446cb4b1440c760e">nbinary</a>.<a class="code" href="../../d1/dbe/ash_8c.html#aba5217713eef654a015f57d5ab61b17d">ch2</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(0);</div>
<div class="line"><a name="l12224"></a><span class="lineno">12224</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9a6801dc7200377f2f407e292a6f4e2c">TDONE</a>;</div>
<div class="line"><a name="l12225"></a><span class="lineno">12225</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12226"></a><span class="lineno">12226</span>&#160;    }</div>
<div class="line"><a name="l12227"></a><span class="lineno">12227</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daae1cac6fabc93853164889cdc0d77b1a">TFOR</a>:</div>
<div class="line"><a name="l12228"></a><span class="lineno">12228</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a> || <a class="code" href="../../d1/dbe/ash_8c.html#ab800e4a3e8f20f26c2faf500c41f654b">quoteflag</a> || !<a class="code" href="../../d1/dbe/ash_8c.html#acd293df6311db7d84b2d77970ce2633b">goodname</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>))</div>
<div class="line"><a name="l12229"></a><span class="lineno">12229</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(<span class="stringliteral">&quot;bad for loop variable&quot;</span>);</div>
<div class="line"><a name="l12230"></a><span class="lineno">12230</span>&#160;        n1 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d3/df6/structnfor">nfor</a>));</div>
<div class="line"><a name="l12231"></a><span class="lineno">12231</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae575a712af65a31deff21397dd8abe51">NFOR</a>;</div>
<div class="line"><a name="l12232"></a><span class="lineno">12232</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a658b42e6c528c24e45756339b1a0e41f">nfor</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a4d37c97041c600bfb28593a7056aeb87">linno</a> = savelinno;</div>
<div class="line"><a name="l12233"></a><span class="lineno">12233</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a658b42e6c528c24e45756339b1a0e41f">nfor</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a52a2bb424dfb6882c2845d8bfe5cd4fc">var</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>;</div>
<div class="line"><a name="l12234"></a><span class="lineno">12234</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">CHKNL</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a>;</div>
<div class="line"><a name="l12235"></a><span class="lineno">12235</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da8363475f10539bd37b8406cbbac1f141">TIN</a>) {</div>
<div class="line"><a name="l12236"></a><span class="lineno">12236</span>&#160;            app = &amp;<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l12237"></a><span class="lineno">12237</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a>) {</div>
<div class="line"><a name="l12238"></a><span class="lineno">12238</span>&#160;                n2 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a>));</div>
<div class="line"><a name="l12239"></a><span class="lineno">12239</span>&#160;                n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>;</div>
<div class="line"><a name="l12240"></a><span class="lineno">12240</span>&#160;                <span class="comment">/*n2-&gt;narg.next = NULL; - stzalloc did it */</span></div>
<div class="line"><a name="l12241"></a><span class="lineno">12241</span>&#160;                n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac79175bc530bfe0463f3dbc8560ab137">text</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>;</div>
<div class="line"><a name="l12242"></a><span class="lineno">12242</span>&#160;                n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8ede5a0294f4e7178ff6f27de5073c58">backquote</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ad37929c69e0a2a05dd8c9a874b026ef5">backquotelist</a>;</div>
<div class="line"><a name="l12243"></a><span class="lineno">12243</span>&#160;                *app = n2;</div>
<div class="line"><a name="l12244"></a><span class="lineno">12244</span>&#160;                app = &amp;n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a48ffe2ba16597faedb406bcec66923ab">next</a>;</div>
<div class="line"><a name="l12245"></a><span class="lineno">12245</span>&#160;            }</div>
<div class="line"><a name="l12246"></a><span class="lineno">12246</span>&#160;            *app = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12247"></a><span class="lineno">12247</span>&#160;            n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a658b42e6c528c24e45756339b1a0e41f">nfor</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a733265cb38a7276e9f95bf3f2117c2af">args</a> = <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l12248"></a><span class="lineno">12248</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9c265fee2fb017a2bb60009f14fbe4f5">TNL</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da2b483d6d5c6d950ba6db81a369a1ec78">TSEMI</a>)</div>
<div class="line"><a name="l12249"></a><span class="lineno">12249</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(-1);</div>
<div class="line"><a name="l12250"></a><span class="lineno">12250</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12251"></a><span class="lineno">12251</span>&#160;            n2 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a>));</div>
<div class="line"><a name="l12252"></a><span class="lineno">12252</span>&#160;            n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>;</div>
<div class="line"><a name="l12253"></a><span class="lineno">12253</span>&#160;            <span class="comment">/*n2-&gt;narg.next = NULL; - stzalloc did it */</span></div>
<div class="line"><a name="l12254"></a><span class="lineno">12254</span>&#160;            n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac79175bc530bfe0463f3dbc8560ab137">text</a> = (<span class="keywordtype">char</span> *)dolatstr;</div>
<div class="line"><a name="l12255"></a><span class="lineno">12255</span>&#160;            <span class="comment">/*n2-&gt;narg.backquote = NULL;*/</span></div>
<div class="line"><a name="l12256"></a><span class="lineno">12256</span>&#160;            n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a658b42e6c528c24e45756339b1a0e41f">nfor</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a733265cb38a7276e9f95bf3f2117c2af">args</a> = n2;</div>
<div class="line"><a name="l12257"></a><span class="lineno">12257</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l12258"></a><span class="lineno">12258</span>&#160;<span class="comment">             * Newline or semicolon here is optional (but note</span></div>
<div class="line"><a name="l12259"></a><span class="lineno">12259</span>&#160;<span class="comment">             * that the original Bourne shell only allowed NL).</span></div>
<div class="line"><a name="l12260"></a><span class="lineno">12260</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l12261"></a><span class="lineno">12261</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da2b483d6d5c6d950ba6db81a369a1ec78">TSEMI</a>)</div>
<div class="line"><a name="l12262"></a><span class="lineno">12262</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l12263"></a><span class="lineno">12263</span>&#160;        }</div>
<div class="line"><a name="l12264"></a><span class="lineno">12264</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">CHKNL</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a>;</div>
<div class="line"><a name="l12265"></a><span class="lineno">12265</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daffa6274fc4e000cda2676e65c4912321">TDO</a>)</div>
<div class="line"><a name="l12266"></a><span class="lineno">12266</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daffa6274fc4e000cda2676e65c4912321">TDO</a>);</div>
<div class="line"><a name="l12267"></a><span class="lineno">12267</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a658b42e6c528c24e45756339b1a0e41f">nfor</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ab49f69631a624c0a0b66fcc8ec44d390">body</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(0);</div>
<div class="line"><a name="l12268"></a><span class="lineno">12268</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9a6801dc7200377f2f407e292a6f4e2c">TDONE</a>;</div>
<div class="line"><a name="l12269"></a><span class="lineno">12269</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12270"></a><span class="lineno">12270</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da6e85ebba0763046aa5db2a073ea608f3">TCASE</a>:</div>
<div class="line"><a name="l12271"></a><span class="lineno">12271</span>&#160;        n1 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d8/df4/structncase">ncase</a>));</div>
<div class="line"><a name="l12272"></a><span class="lineno">12272</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#acab6d4049057ee59ea73ed5b5ca879f2">NCASE</a>;</div>
<div class="line"><a name="l12273"></a><span class="lineno">12273</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a7a61c365acd3f3a72842a12e157184bb">ncase</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a88475a9af7eacfe42eaa5b9269bd7cfa">linno</a> = savelinno;</div>
<div class="line"><a name="l12274"></a><span class="lineno">12274</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a>)</div>
<div class="line"><a name="l12275"></a><span class="lineno">12275</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a>);</div>
<div class="line"><a name="l12276"></a><span class="lineno">12276</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a7a61c365acd3f3a72842a12e157184bb">ncase</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a98fecd06718411eeaa1e2950160af801">expr</a> = n2 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a>));</div>
<div class="line"><a name="l12277"></a><span class="lineno">12277</span>&#160;        n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>;</div>
<div class="line"><a name="l12278"></a><span class="lineno">12278</span>&#160;        <span class="comment">/*n2-&gt;narg.next = NULL; - stzalloc did it */</span></div>
<div class="line"><a name="l12279"></a><span class="lineno">12279</span>&#160;        n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac79175bc530bfe0463f3dbc8560ab137">text</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>;</div>
<div class="line"><a name="l12280"></a><span class="lineno">12280</span>&#160;        n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">narg</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a8ede5a0294f4e7178ff6f27de5073c58">backquote</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ad37929c69e0a2a05dd8c9a874b026ef5">backquotelist</a>;</div>
<div class="line"><a name="l12281"></a><span class="lineno">12281</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">CHKNL</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a>;</div>
<div class="line"><a name="l12282"></a><span class="lineno">12282</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da8363475f10539bd37b8406cbbac1f141">TIN</a>)</div>
<div class="line"><a name="l12283"></a><span class="lineno">12283</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da8363475f10539bd37b8406cbbac1f141">TIN</a>);</div>
<div class="line"><a name="l12284"></a><span class="lineno">12284</span>&#160;        cpp = &amp;n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a7a61c365acd3f3a72842a12e157184bb">ncase</a>.<a class="code" href="../../d1/dbe/ash_8c.html#abb7b8212cde863a0f0b0ad755fa20bde">cases</a>;</div>
<div class="line"><a name="l12285"></a><span class="lineno">12285</span>&#160; next_case:</div>
<div class="line"><a name="l12286"></a><span class="lineno">12286</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">CHKNL</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a>;</div>
<div class="line"><a name="l12287"></a><span class="lineno">12287</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>();</div>
<div class="line"><a name="l12288"></a><span class="lineno">12288</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da04d411adb03cd9fa66f72bbf12d0fd67">TESAC</a>) {</div>
<div class="line"><a name="l12289"></a><span class="lineno">12289</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac71b97e296bc873da6a08ed2840c8bde">TLP</a>)</div>
<div class="line"><a name="l12290"></a><span class="lineno">12290</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>();</div>
<div class="line"><a name="l12291"></a><span class="lineno">12291</span>&#160;            *cpp = cp = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d6/dc9/structnclist">nclist</a>));</div>
<div class="line"><a name="l12292"></a><span class="lineno">12292</span>&#160;            cp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ac9a047b5fb2d49112a93edf59e32a1bb">NCLIST</a>;</div>
<div class="line"><a name="l12293"></a><span class="lineno">12293</span>&#160;            app = &amp;cp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aaa8a68ca9d46985bd22f5ed5eab945e2">nclist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ada3204903f315a30983ae55160074f1a">pattern</a>;</div>
<div class="line"><a name="l12294"></a><span class="lineno">12294</span>&#160;            <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l12295"></a><span class="lineno">12295</span>&#160;                *app = <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a>));</div>
<div class="line"><a name="l12296"></a><span class="lineno">12296</span>&#160;                <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;type = <a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>;</div>
<div class="line"><a name="l12297"></a><span class="lineno">12297</span>&#160;                <span class="comment">/*ap-&gt;narg.next = NULL; - stzalloc did it */</span></div>
<div class="line"><a name="l12298"></a><span class="lineno">12298</span>&#160;                <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;narg.text = <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>;</div>
<div class="line"><a name="l12299"></a><span class="lineno">12299</span>&#160;                <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;narg.backquote = <a class="code" href="../../d1/dbe/ash_8c.html#ad37929c69e0a2a05dd8c9a874b026ef5">backquotelist</a>;</div>
<div class="line"><a name="l12300"></a><span class="lineno">12300</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da5093e34df6d582f2fc69070de1af0cfd">TPIPE</a>)</div>
<div class="line"><a name="l12301"></a><span class="lineno">12301</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12302"></a><span class="lineno">12302</span>&#160;                app = &amp;<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;narg.next;</div>
<div class="line"><a name="l12303"></a><span class="lineno">12303</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>();</div>
<div class="line"><a name="l12304"></a><span class="lineno">12304</span>&#160;            }</div>
<div class="line"><a name="l12305"></a><span class="lineno">12305</span>&#160;            <span class="comment">//ap-&gt;narg.next = NULL;</span></div>
<div class="line"><a name="l12306"></a><span class="lineno">12306</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f">TRP</a>)</div>
<div class="line"><a name="l12307"></a><span class="lineno">12307</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f">TRP</a>);</div>
<div class="line"><a name="l12308"></a><span class="lineno">12308</span>&#160;            cp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aaa8a68ca9d46985bd22f5ed5eab945e2">nclist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a50a75a9c2bd1f65ef10bc0b0b9b17969">body</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(2);</div>
<div class="line"><a name="l12309"></a><span class="lineno">12309</span>&#160; </div>
<div class="line"><a name="l12310"></a><span class="lineno">12310</span>&#160;            cpp = &amp;cp-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aaa8a68ca9d46985bd22f5ed5eab945e2">nclist</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a2b606e051d83d3814a3d53aad8111a21">next</a>;</div>
<div class="line"><a name="l12311"></a><span class="lineno">12311</span>&#160; </div>
<div class="line"><a name="l12312"></a><span class="lineno">12312</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">CHKNL</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a>;</div>
<div class="line"><a name="l12313"></a><span class="lineno">12313</span>&#160;            <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>();</div>
<div class="line"><a name="l12314"></a><span class="lineno">12314</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da04d411adb03cd9fa66f72bbf12d0fd67">TESAC</a>) {</div>
<div class="line"><a name="l12315"></a><span class="lineno">12315</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da371e7256e2b2f57ebbe61ec0a0efe1b3">TENDCASE</a>)</div>
<div class="line"><a name="l12316"></a><span class="lineno">12316</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da371e7256e2b2f57ebbe61ec0a0efe1b3">TENDCASE</a>);</div>
<div class="line"><a name="l12317"></a><span class="lineno">12317</span>&#160;                <span class="keywordflow">goto</span> next_case;</div>
<div class="line"><a name="l12318"></a><span class="lineno">12318</span>&#160;            }</div>
<div class="line"><a name="l12319"></a><span class="lineno">12319</span>&#160;        }</div>
<div class="line"><a name="l12320"></a><span class="lineno">12320</span>&#160;        *cpp = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12321"></a><span class="lineno">12321</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l12322"></a><span class="lineno">12322</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac71b97e296bc873da6a08ed2840c8bde">TLP</a>:</div>
<div class="line"><a name="l12323"></a><span class="lineno">12323</span>&#160;        n1 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d5/db3/structnredir">nredir</a>));</div>
<div class="line"><a name="l12324"></a><span class="lineno">12324</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5cd8291782169e211f7112aec1b29b7a">NSUBSHELL</a>;</div>
<div class="line"><a name="l12325"></a><span class="lineno">12325</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ae26db6b787cfb7d30161158d5a421256">nredir</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a65c1c983244225d7d1f492fdf891a525">linno</a> = savelinno;</div>
<div class="line"><a name="l12326"></a><span class="lineno">12326</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ae26db6b787cfb7d30161158d5a421256">nredir</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac18960d5cf09c9b5bec0dd63d22176ab">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(0);</div>
<div class="line"><a name="l12327"></a><span class="lineno">12327</span>&#160;        <span class="comment">/*n1-&gt;nredir.redirect = NULL; - stzalloc did it */</span></div>
<div class="line"><a name="l12328"></a><span class="lineno">12328</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f">TRP</a>;</div>
<div class="line"><a name="l12329"></a><span class="lineno">12329</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12330"></a><span class="lineno">12330</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da4e367400a39e6f610d890329bfda7d2b">TBEGIN</a>:</div>
<div class="line"><a name="l12331"></a><span class="lineno">12331</span>&#160;        n1 = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(0);</div>
<div class="line"><a name="l12332"></a><span class="lineno">12332</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dab4bc1ce34893a5a1c80598894a352798">TEND</a>;</div>
<div class="line"><a name="l12333"></a><span class="lineno">12333</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12334"></a><span class="lineno">12334</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a71036b92d501a90d23d942648194bb0c">IF_BASH_FUNCTION</a>(<span class="keywordflow">case</span> TFUNCTION:)</div>
<div class="line"><a name="l12335"></a><span class="lineno">12335</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a>:</div>
<div class="line"><a name="l12336"></a><span class="lineno">12336</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da7300b41797271233ec46764dc5983b8f">TREDIR</a>:</div>
<div class="line"><a name="l12337"></a><span class="lineno">12337</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l12338"></a><span class="lineno">12338</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a02186eac85121681589f2ec32aa7fa98">simplecmd</a>();</div>
<div class="line"><a name="l12339"></a><span class="lineno">12339</span>&#160;    }</div>
<div class="line"><a name="l12340"></a><span class="lineno">12340</span>&#160; </div>
<div class="line"><a name="l12341"></a><span class="lineno">12341</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() != <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>)</div>
<div class="line"><a name="l12342"></a><span class="lineno">12342</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>);</div>
<div class="line"><a name="l12343"></a><span class="lineno">12343</span>&#160; </div>
<div class="line"><a name="l12344"></a><span class="lineno">12344</span>&#160; <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>:</div>
<div class="line"><a name="l12345"></a><span class="lineno">12345</span>&#160;    <span class="comment">/* Now check for redirection which may follow command */</span></div>
<div class="line"><a name="l12346"></a><span class="lineno">12346</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a>;</div>
<div class="line"><a name="l12347"></a><span class="lineno">12347</span>&#160;    rpp = rpp2;</div>
<div class="line"><a name="l12348"></a><span class="lineno">12348</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da7300b41797271233ec46764dc5983b8f">TREDIR</a>) {</div>
<div class="line"><a name="l12349"></a><span class="lineno">12349</span>&#160;        *rpp = n2 = <a class="code" href="../../d1/dbe/ash_8c.html#af259ce0501aada6b201083fec4b3805f">redirnode</a>;</div>
<div class="line"><a name="l12350"></a><span class="lineno">12350</span>&#160;        rpp = &amp;n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a0f2e446d6c6f0ba6663e8d1a52bfc44e">nfile</a>.<a class="code" href="../../d1/dbe/ash_8c.html#af7fccc83bf37def78dcf72add66993ea">next</a>;</div>
<div class="line"><a name="l12351"></a><span class="lineno">12351</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aae6d90586d69f96706fff6bd7cca3352">parsefname</a>();</div>
<div class="line"><a name="l12352"></a><span class="lineno">12352</span>&#160;    }</div>
<div class="line"><a name="l12353"></a><span class="lineno">12353</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 1;</div>
<div class="line"><a name="l12354"></a><span class="lineno">12354</span>&#160;    *rpp = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12355"></a><span class="lineno">12355</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>) {</div>
<div class="line"><a name="l12356"></a><span class="lineno">12356</span>&#160;        <span class="keywordflow">if</span> (n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a5cd8291782169e211f7112aec1b29b7a">NSUBSHELL</a>) {</div>
<div class="line"><a name="l12357"></a><span class="lineno">12357</span>&#160;            n2 = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d5/db3/structnredir">nredir</a>));</div>
<div class="line"><a name="l12358"></a><span class="lineno">12358</span>&#160;            n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a731505e220374df4153088cb7dc7e721">NREDIR</a>;</div>
<div class="line"><a name="l12359"></a><span class="lineno">12359</span>&#160;            n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ae26db6b787cfb7d30161158d5a421256">nredir</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a65c1c983244225d7d1f492fdf891a525">linno</a> = savelinno;</div>
<div class="line"><a name="l12360"></a><span class="lineno">12360</span>&#160;            n2-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ae26db6b787cfb7d30161158d5a421256">nredir</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ac18960d5cf09c9b5bec0dd63d22176ab">n</a> = n1;</div>
<div class="line"><a name="l12361"></a><span class="lineno">12361</span>&#160;            n1 = n2;</div>
<div class="line"><a name="l12362"></a><span class="lineno">12362</span>&#160;        }</div>
<div class="line"><a name="l12363"></a><span class="lineno">12363</span>&#160;        n1-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#ae26db6b787cfb7d30161158d5a421256">nredir</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a7c0ef147c78b5cccffd0c9889134a395">redirect</a> = <a class="code" href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a>;</div>
<div class="line"><a name="l12364"></a><span class="lineno">12364</span>&#160;    }</div>
<div class="line"><a name="l12365"></a><span class="lineno">12365</span>&#160;    <span class="keywordflow">return</span> n1;</div>
<div class="line"><a name="l12366"></a><span class="lineno">12366</span>&#160;}</div>
<div class="line"><a name="l12367"></a><span class="lineno">12367</span>&#160; </div>
<div class="line"><a name="l12368"></a><span class="lineno">12368</span>&#160;<span class="preprocessor">#if BASH_DOLLAR_SQUOTE</span></div>
<div class="line"><a name="l12369"></a><span class="lineno">12369</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l12370"></a><span class="lineno">12370</span>&#160;decode_dollar_squote(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l12371"></a><span class="lineno">12371</span>&#160;{</div>
<div class="line"><a name="l12372"></a><span class="lineno">12372</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> C_escapes[] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = <span class="stringliteral">&quot;nrbtfav&quot;</span><span class="stringliteral">&quot;x\\01234567&quot;</span>;</div>
<div class="line"><a name="l12373"></a><span class="lineno">12373</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>;</div>
<div class="line"><a name="l12374"></a><span class="lineno">12374</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l12375"></a><span class="lineno">12375</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[4];</div>
<div class="line"><a name="l12376"></a><span class="lineno">12376</span>&#160; </div>
<div class="line"><a name="l12377"></a><span class="lineno">12377</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>();</div>
<div class="line"><a name="l12378"></a><span class="lineno">12378</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(C_escapes, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l12379"></a><span class="lineno">12379</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {</div>
<div class="line"><a name="l12380"></a><span class="lineno">12380</span>&#160;        <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[0] = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l12381"></a><span class="lineno">12381</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l12382"></a><span class="lineno">12382</span>&#160;        <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = 3;</div>
<div class="line"><a name="l12383"></a><span class="lineno">12383</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> - <span class="charliteral">&#39;0&#39;</span>) &lt;= 7) { <span class="comment">/* \ooo */</span></div>
<div class="line"><a name="l12384"></a><span class="lineno">12384</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l12385"></a><span class="lineno">12385</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>();</div>
<div class="line"><a name="l12386"></a><span class="lineno">12386</span>&#160;                *++<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l12387"></a><span class="lineno">12387</span>&#160;            } <span class="keywordflow">while</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> - <span class="charliteral">&#39;0&#39;</span>) &lt;= 7 &amp;&amp; --<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>);</div>
<div class="line"><a name="l12388"></a><span class="lineno">12388</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12389"></a><span class="lineno">12389</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;x&#39;</span>) { <span class="comment">/* \xHH */</span></div>
<div class="line"><a name="l12390"></a><span class="lineno">12390</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l12391"></a><span class="lineno">12391</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>();</div>
<div class="line"><a name="l12392"></a><span class="lineno">12392</span>&#160;                *++<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l12393"></a><span class="lineno">12393</span>&#160;            } <span class="keywordflow">while</span> (<a class="code" href="../../d4/dcb/chartypes_8h.html#a992d0bf21267653eb2ea35a78816c09b">isxdigit</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) &amp;&amp; --<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>);</div>
<div class="line"><a name="l12394"></a><span class="lineno">12394</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12395"></a><span class="lineno">12395</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> == 3) { <span class="comment">/* \x but next char is &quot;bad&quot; */</span></div>
<div class="line"><a name="l12396"></a><span class="lineno">12396</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;x&#39;</span>;</div>
<div class="line"><a name="l12397"></a><span class="lineno">12397</span>&#160;                <span class="keywordflow">goto</span> unrecognized;</div>
<div class="line"><a name="l12398"></a><span class="lineno">12398</span>&#160;            }</div>
<div class="line"><a name="l12399"></a><span class="lineno">12399</span>&#160;        } <span class="keywordflow">else</span> { <span class="comment">/* simple seq like \\ or \t */</span></div>
<div class="line"><a name="l12400"></a><span class="lineno">12400</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l12401"></a><span class="lineno">12401</span>&#160;        }</div>
<div class="line"><a name="l12402"></a><span class="lineno">12402</span>&#160;        *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l12403"></a><span class="lineno">12403</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l12404"></a><span class="lineno">12404</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#ac5a8e6b3da3579554a4a56124d9ca438">bb_process_escape_sequence</a>((<span class="keywordtype">void</span>*)&amp;<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l12405"></a><span class="lineno">12405</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">/* unrecognized &quot;\z&quot;: print both chars unless &#39; or &quot; */</span></div>
<div class="line"><a name="l12406"></a><span class="lineno">12406</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;\&#39;&#39;</span> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;&quot;&#39;</span>) {</div>
<div class="line"><a name="l12407"></a><span class="lineno">12407</span>&#160; unrecognized:</div>
<div class="line"><a name="l12408"></a><span class="lineno">12408</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> |= 0x100; <span class="comment">/* &quot;please encode \, then me&quot; */</span></div>
<div class="line"><a name="l12409"></a><span class="lineno">12409</span>&#160;        }</div>
<div class="line"><a name="l12410"></a><span class="lineno">12410</span>&#160;    }</div>
<div class="line"><a name="l12411"></a><span class="lineno">12411</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l12412"></a><span class="lineno">12412</span>&#160;}</div>
<div class="line"><a name="l12413"></a><span class="lineno">12413</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12414"></a><span class="lineno">12414</span>&#160; </div>
<div class="line"><a name="l12415"></a><span class="lineno">12415</span>&#160;<span class="comment">/* Used by expandstr to get here-doc like behaviour. */</span></div>
<div class="line"><a name="l12416"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae2d87919ed01d489fd5b404c99f4a38c">12416</a></span>&#160;<span class="preprocessor">#define FAKEEOFMARK ((char*)(uintptr_t)1)</span></div>
<div class="line"><a name="l12417"></a><span class="lineno">12417</span>&#160; </div>
<div class="line"><a name="l12418"></a><span class="lineno">12418</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#aa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> <span class="keywordtype">int</span></div>
<div class="line"><a name="l12419"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a64fc4708f182c268a3a4c06de3c11d67">12419</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a64fc4708f182c268a3a4c06de3c11d67">realeofmark</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *eofmark)</div>
<div class="line"><a name="l12420"></a><span class="lineno">12420</span>&#160;{</div>
<div class="line"><a name="l12421"></a><span class="lineno">12421</span>&#160;    <span class="keywordflow">return</span> eofmark &amp;&amp; eofmark != <a class="code" href="../../d1/dbe/ash_8c.html#ae2d87919ed01d489fd5b404c99f4a38c">FAKEEOFMARK</a>;</div>
<div class="line"><a name="l12422"></a><span class="lineno">12422</span>&#160;}</div>
<div class="line"><a name="l12423"></a><span class="lineno">12423</span>&#160; </div>
<div class="line"><a name="l12424"></a><span class="lineno">12424</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l12425"></a><span class="lineno">12425</span>&#160;<span class="comment"> * If eofmark is NULL, read a word or a redirection symbol.  If eofmark</span></div>
<div class="line"><a name="l12426"></a><span class="lineno">12426</span>&#160;<span class="comment"> * is not NULL, read a here document.  In the latter case, eofmark is the</span></div>
<div class="line"><a name="l12427"></a><span class="lineno">12427</span>&#160;<span class="comment"> * word which marks the end of the document and striptabs is true if</span></div>
<div class="line"><a name="l12428"></a><span class="lineno">12428</span>&#160;<span class="comment"> * leading tabs should be stripped from the document.  The argument c</span></div>
<div class="line"><a name="l12429"></a><span class="lineno">12429</span>&#160;<span class="comment"> * is the first character of the input token or document.</span></div>
<div class="line"><a name="l12430"></a><span class="lineno">12430</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l12431"></a><span class="lineno">12431</span>&#160;<span class="comment"> * Because C does not have internal subroutines, I have simulated them</span></div>
<div class="line"><a name="l12432"></a><span class="lineno">12432</span>&#160;<span class="comment"> * using goto&#39;s to implement the subroutine linkage.  The following macros</span></div>
<div class="line"><a name="l12433"></a><span class="lineno">12433</span>&#160;<span class="comment"> * will run code that appears at the end of readtoken1.</span></div>
<div class="line"><a name="l12434"></a><span class="lineno">12434</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l12435"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abe88b17b214e3088f3d19842354fbbb4">12435</a></span>&#160;<span class="preprocessor">#define CHECKEND()      {goto checkend; checkend_return:;}</span></div>
<div class="line"><a name="l12436"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a08da7152752cd019f84593c97059f489">12436</a></span>&#160;<span class="preprocessor">#define PARSEREDIR()    {goto parseredir; parseredir_return:;}</span></div>
<div class="line"><a name="l12437"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a6dcdae6bcf53b708e56a70cbddf97503">12437</a></span>&#160;<span class="preprocessor">#define PARSESUB()      {goto parsesub; parsesub_return:;}</span></div>
<div class="line"><a name="l12438"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8e17fcbe520cb5d312c4a2b8e4f061d6">12438</a></span>&#160;<span class="preprocessor">#define PARSEBACKQOLD() {style = OLD; goto parsebackq; parsebackq_oldreturn:;}</span></div>
<div class="line"><a name="l12439"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a13c4db5bf381cb8e9cc37f90b303edc2">12439</a></span>&#160;<span class="preprocessor">#define PARSEBACKQNEW() {style = NEW; goto parsebackq; parsebackq_newreturn:;}</span></div>
<div class="line"><a name="l12440"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#abfeaa8c008511ce2045c721dc7c10913">12440</a></span>&#160;<span class="preprocessor">#define PARSEPROCSUB()  {style = PSUB; goto parsebackq; parsebackq_psreturn:;}</span></div>
<div class="line"><a name="l12441"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af6102579d4f7d723e78f1870f1e1427a">12441</a></span>&#160;<span class="preprocessor">#define PARSEARITH()    {goto parsearith; parsearith_return:;}</span></div>
<div class="line"><a name="l12442"></a><span class="lineno">12442</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l12443"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a94416c74a0e29bcd06ac8a08f12e3284">12443</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a94416c74a0e29bcd06ac8a08f12e3284">readtoken1</a>(<span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <span class="keywordtype">int</span> <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a801e35a8df4386fb44c9678c3040afcd">syntax</a>, <span class="keywordtype">char</span> *eofmark, <span class="keywordtype">int</span> striptabs)</div>
<div class="line"><a name="l12444"></a><span class="lineno">12444</span>&#160;{</div>
<div class="line"><a name="l12445"></a><span class="lineno">12445</span>&#160;    <span class="comment">/* NB: syntax parameter fits into smallint */</span></div>
<div class="line"><a name="l12446"></a><span class="lineno">12446</span>&#160;    <span class="comment">/* c parameter is an unsigned char or PEOF */</span></div>
<div class="line"><a name="l12447"></a><span class="lineno">12447</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l12448"></a><span class="lineno">12448</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l12449"></a><span class="lineno">12449</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> *bqlist;</div>
<div class="line"><a name="l12450"></a><span class="lineno">12450</span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> quotef;</div>
<div class="line"><a name="l12451"></a><span class="lineno">12451</span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> style;</div>
<div class="line"><a name="l12452"></a><span class="lineno">12452</span>&#160;    <span class="keyword">enum</span> { OLD, NEW, PSUB };</div>
<div class="line"><a name="l12453"></a><span class="lineno">12453</span>&#160;<span class="preprocessor">#define oldstyle (style == OLD)</span></div>
<div class="line"><a name="l12454"></a><span class="lineno">12454</span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> pssyntax;   <span class="comment">/* we are expanding a prompt string */</span></div>
<div class="line"><a name="l12455"></a><span class="lineno">12455</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a38534c29fbfb34d1f0cfb199ee38ac20">IF_BASH_DOLLAR_SQUOTE</a>(<a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> bash_dollar_squote = 0;)</div>
<div class="line"><a name="l12456"></a><span class="lineno">12456</span>&#160;    <span class="comment">/* syntax stack */</span></div>
<div class="line"><a name="l12457"></a><span class="lineno">12457</span>&#160;    <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a> synbase = { };</div>
<div class="line"><a name="l12458"></a><span class="lineno">12458</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a> *<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a> = &amp;synbase;</div>
<div class="line"><a name="l12459"></a><span class="lineno">12459</span>&#160; </div>
<div class="line"><a name="l12460"></a><span class="lineno">12460</span>&#160;<span class="preprocessor">#if ENABLE_ASH_EXPAND_PRMT</span></div>
<div class="line"><a name="l12461"></a><span class="lineno">12461</span>&#160;    pssyntax = (<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a801e35a8df4386fb44c9678c3040afcd">syntax</a> == PSSYNTAX);</div>
<div class="line"><a name="l12462"></a><span class="lineno">12462</span>&#160;    <span class="keywordflow">if</span> (pssyntax)</div>
<div class="line"><a name="l12463"></a><span class="lineno">12463</span>&#160;        <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a801e35a8df4386fb44c9678c3040afcd">syntax</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aaa6071f56fe3ef665c45682e2875e1c8">DQSYNTAX</a>;</div>
<div class="line"><a name="l12464"></a><span class="lineno">12464</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l12465"></a><span class="lineno">12465</span>&#160;    pssyntax = 0; <span class="comment">/* constant */</span></div>
<div class="line"><a name="l12466"></a><span class="lineno">12466</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12467"></a><span class="lineno">12467</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">syntax</a> = <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a801e35a8df4386fb44c9678c3040afcd">syntax</a>;</div>
<div class="line"><a name="l12468"></a><span class="lineno">12468</span>&#160; </div>
<div class="line"><a name="l12469"></a><span class="lineno">12469</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a801e35a8df4386fb44c9678c3040afcd">syntax</a> == <a class="code" href="../../d1/dbe/ash_8c.html#aaa6071f56fe3ef665c45682e2875e1c8">DQSYNTAX</a>)</div>
<div class="line"><a name="l12470"></a><span class="lineno">12470</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">dblquote</a> = 1;</div>
<div class="line"><a name="l12471"></a><span class="lineno">12471</span>&#160;    quotef = 0;</div>
<div class="line"><a name="l12472"></a><span class="lineno">12472</span>&#160;    bqlist = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l12473"></a><span class="lineno">12473</span>&#160; </div>
<div class="line"><a name="l12474"></a><span class="lineno">12474</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a51947f73159e14e6d1deac7c491013ac">STARTSTACKSTR</a>(<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12475"></a><span class="lineno">12475</span>&#160; loop:</div>
<div class="line"><a name="l12476"></a><span class="lineno">12476</span>&#160;    <span class="comment">/* For each line, until end of word */</span></div>
<div class="line"><a name="l12477"></a><span class="lineno">12477</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#abe88b17b214e3088f3d19842354fbbb4">CHECKEND</a>();     <span class="comment">/* set c to PEOF if at end of here document */</span></div>
<div class="line"><a name="l12478"></a><span class="lineno">12478</span>&#160;    <span class="keywordflow">for</span> (;;) {      <span class="comment">/* until end of line or end of word */</span></div>
<div class="line"><a name="l12479"></a><span class="lineno">12479</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a057466ea74f4c9b34545c2e21aedc96c">CHECKSTRSPACE</a>(4, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);  <span class="comment">/* permit 4 calls to USTPUTC */</span></div>
<div class="line"><a name="l12480"></a><span class="lineno">12480</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ac337c403365cfdc1027a04b9ca3b159b">SIT</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">syntax</a>)) {</div>
<div class="line"><a name="l12481"></a><span class="lineno">12481</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a3c935fcd221b40e07d633c9ec486d6e8">CNL</a>:       <span class="comment">/* &#39;\n&#39; */</span></div>
<div class="line"><a name="l12482"></a><span class="lineno">12482</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">syntax</a> == <a class="code" href="../../d1/dbe/ash_8c.html#aabad2b9b4fa22108df171bbcd6384722">BASESYNTAX</a></div>
<div class="line"><a name="l12483"></a><span class="lineno">12483</span>&#160;             &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">varnest</a></div>
<div class="line"><a name="l12484"></a><span class="lineno">12484</span>&#160;            ) {</div>
<div class="line"><a name="l12485"></a><span class="lineno">12485</span>&#160;                <span class="keywordflow">goto</span> endword;   <span class="comment">/* exit outer loop */</span></div>
<div class="line"><a name="l12486"></a><span class="lineno">12486</span>&#160;            }</div>
<div class="line"><a name="l12487"></a><span class="lineno">12487</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12488"></a><span class="lineno">12488</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ac2aaabf4d57e3cb4690c39092a8f3f02">nlprompt</a>();</div>
<div class="line"><a name="l12489"></a><span class="lineno">12489</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a33824ce802c252a2f3a2082c40b21ea7">pgetc_top</a>(<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>);</div>
<div class="line"><a name="l12490"></a><span class="lineno">12490</span>&#160;            <span class="keywordflow">goto</span> loop;              <span class="comment">/* continue outer loop */</span></div>
<div class="line"><a name="l12491"></a><span class="lineno">12491</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a>:</div>
<div class="line"><a name="l12492"></a><span class="lineno">12492</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12493"></a><span class="lineno">12493</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12494"></a><span class="lineno">12494</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0379e6a75ec57b4b16b784a609ef0b2e">CCTL</a>:</div>
<div class="line"><a name="l12495"></a><span class="lineno">12495</span>&#160;<span class="preprocessor">#if BASH_DOLLAR_SQUOTE</span></div>
<div class="line"><a name="l12496"></a><span class="lineno">12496</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\\&#39;</span> &amp;&amp; bash_dollar_squote) {</div>
<div class="line"><a name="l12497"></a><span class="lineno">12497</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = decode_dollar_squote();</div>
<div class="line"><a name="l12498"></a><span class="lineno">12498</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l12499"></a><span class="lineno">12499</span>&#160;                    <span class="comment">/* skip $&#39;\000&#39;, $&#39;\x00&#39; (like bash) */</span></div>
<div class="line"><a name="l12500"></a><span class="lineno">12500</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12501"></a><span class="lineno">12501</span>&#160;                }</div>
<div class="line"><a name="l12502"></a><span class="lineno">12502</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &amp; 0x100) {</div>
<div class="line"><a name="l12503"></a><span class="lineno">12503</span>&#160;                    <span class="comment">/* Unknown escape. Encode as &#39;\z&#39; */</span></div>
<div class="line"><a name="l12504"></a><span class="lineno">12504</span>&#160;                    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = (<span class="keywordtype">unsigned</span> char)<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l12505"></a><span class="lineno">12505</span>&#160;                    <span class="keywordflow">if</span> (eofmark == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">dblquote</a>)</div>
<div class="line"><a name="l12506"></a><span class="lineno">12506</span>&#160;                        <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12507"></a><span class="lineno">12507</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;\\&#39;</span>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12508"></a><span class="lineno">12508</span>&#160;                }</div>
<div class="line"><a name="l12509"></a><span class="lineno">12509</span>&#160;            }</div>
<div class="line"><a name="l12510"></a><span class="lineno">12510</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12511"></a><span class="lineno">12511</span>&#160;            <span class="keywordflow">if</span> (!eofmark || <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">dblquote</a> || <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">varnest</a>)</div>
<div class="line"><a name="l12512"></a><span class="lineno">12512</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12513"></a><span class="lineno">12513</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12514"></a><span class="lineno">12514</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12515"></a><span class="lineno">12515</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa66522395aa444ba2aa45b9e5be18dd7">CBACK</a>:     <span class="comment">/* backslash */</span></div>
<div class="line"><a name="l12516"></a><span class="lineno">12516</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>();</div>
<div class="line"><a name="l12517"></a><span class="lineno">12517</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a>) {</div>
<div class="line"><a name="l12518"></a><span class="lineno">12518</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12519"></a><span class="lineno">12519</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;\\&#39;</span>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12520"></a><span class="lineno">12520</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12521"></a><span class="lineno">12521</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12522"></a><span class="lineno">12522</span>&#160;                <span class="keywordflow">if</span> (pssyntax &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;$&#39;</span>) {</div>
<div class="line"><a name="l12523"></a><span class="lineno">12523</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12524"></a><span class="lineno">12524</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;\\&#39;</span>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12525"></a><span class="lineno">12525</span>&#160;                }</div>
<div class="line"><a name="l12526"></a><span class="lineno">12526</span>&#160;                <span class="comment">/* Backslash is retained if we are in &quot;str&quot;</span></div>
<div class="line"><a name="l12527"></a><span class="lineno">12527</span>&#160;<span class="comment">                 * and next char isn&#39;t dquote-special.</span></div>
<div class="line"><a name="l12528"></a><span class="lineno">12528</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l12529"></a><span class="lineno">12529</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">dblquote</a></div>
<div class="line"><a name="l12530"></a><span class="lineno">12530</span>&#160;                 &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;\\&#39;</span></div>
<div class="line"><a name="l12531"></a><span class="lineno">12531</span>&#160;                 &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;`&#39;</span></div>
<div class="line"><a name="l12532"></a><span class="lineno">12532</span>&#160;                 &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;$&#39;</span></div>
<div class="line"><a name="l12533"></a><span class="lineno">12533</span>&#160;                 &amp;&amp; (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;&quot;&#39;</span> || (eofmark != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">varnest</a>))</div>
<div class="line"><a name="l12534"></a><span class="lineno">12534</span>&#160;                 &amp;&amp; (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;}&#39;</span> || !<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">varnest</a>)</div>
<div class="line"><a name="l12535"></a><span class="lineno">12535</span>&#160;                ) {</div>
<div class="line"><a name="l12536"></a><span class="lineno">12536</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>); <span class="comment">/* protect &#39;\&#39; from glob */</span></div>
<div class="line"><a name="l12537"></a><span class="lineno">12537</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;\\&#39;</span>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12538"></a><span class="lineno">12538</span>&#160;                }</div>
<div class="line"><a name="l12539"></a><span class="lineno">12539</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12540"></a><span class="lineno">12540</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12541"></a><span class="lineno">12541</span>&#160;                quotef = 1;</div>
<div class="line"><a name="l12542"></a><span class="lineno">12542</span>&#160;            }</div>
<div class="line"><a name="l12543"></a><span class="lineno">12543</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12544"></a><span class="lineno">12544</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a5f38fd50bf57c08961d90dd19f5c6ed8">CSQUOTE</a>:</div>
<div class="line"><a name="l12545"></a><span class="lineno">12545</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">syntax</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5679e97a6d2f4d924815b16997badb3e">SQSYNTAX</a>;</div>
<div class="line"><a name="l12546"></a><span class="lineno">12546</span>&#160; quotemark:</div>
<div class="line"><a name="l12547"></a><span class="lineno">12547</span>&#160;            <span class="keywordflow">if</span> (eofmark == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l12548"></a><span class="lineno">12548</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12549"></a><span class="lineno">12549</span>&#160;            }</div>
<div class="line"><a name="l12550"></a><span class="lineno">12550</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12551"></a><span class="lineno">12551</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a601fc0e11aeb25dae65e9ab78d9a6446">CDQUOTE</a>:</div>
<div class="line"><a name="l12552"></a><span class="lineno">12552</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">syntax</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aaa6071f56fe3ef665c45682e2875e1c8">DQSYNTAX</a>;</div>
<div class="line"><a name="l12553"></a><span class="lineno">12553</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">dblquote</a> = 1;</div>
<div class="line"><a name="l12554"></a><span class="lineno">12554</span>&#160; toggledq:</div>
<div class="line"><a name="l12555"></a><span class="lineno">12555</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">varnest</a>)</div>
<div class="line"><a name="l12556"></a><span class="lineno">12556</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5247fc87a061b8a6df182eddf60fe07d">innerdq</a> ^= 1;</div>
<div class="line"><a name="l12557"></a><span class="lineno">12557</span>&#160;            <span class="keywordflow">goto</span> quotemark;</div>
<div class="line"><a name="l12558"></a><span class="lineno">12558</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a36a80cf394a9341022e2e7858861bbf8">CENDQUOTE</a>:</div>
<div class="line"><a name="l12559"></a><span class="lineno">12559</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a38534c29fbfb34d1f0cfb199ee38ac20">IF_BASH_DOLLAR_SQUOTE</a>(bash_dollar_squote = 0;)</div>
<div class="line"><a name="l12560"></a><span class="lineno">12560</span>&#160;            <span class="keywordflow">if</span> (eofmark != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">varnest</a> == 0) {</div>
<div class="line"><a name="l12561"></a><span class="lineno">12561</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12562"></a><span class="lineno">12562</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12563"></a><span class="lineno">12563</span>&#160;            }</div>
<div class="line"><a name="l12564"></a><span class="lineno">12564</span>&#160; </div>
<div class="line"><a name="l12565"></a><span class="lineno">12565</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a6076fdfe4a4e7be6838d89cf6a46fe86">dqvarnest</a> == 0) {</div>
<div class="line"><a name="l12566"></a><span class="lineno">12566</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">syntax</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aabad2b9b4fa22108df171bbcd6384722">BASESYNTAX</a>;</div>
<div class="line"><a name="l12567"></a><span class="lineno">12567</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">dblquote</a> = 0;</div>
<div class="line"><a name="l12568"></a><span class="lineno">12568</span>&#160;            }</div>
<div class="line"><a name="l12569"></a><span class="lineno">12569</span>&#160; </div>
<div class="line"><a name="l12570"></a><span class="lineno">12570</span>&#160;            quotef = 1;</div>
<div class="line"><a name="l12571"></a><span class="lineno">12571</span>&#160; </div>
<div class="line"><a name="l12572"></a><span class="lineno">12572</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;&quot;&#39;</span>)</div>
<div class="line"><a name="l12573"></a><span class="lineno">12573</span>&#160;                <span class="keywordflow">goto</span> toggledq;</div>
<div class="line"><a name="l12574"></a><span class="lineno">12574</span>&#160; </div>
<div class="line"><a name="l12575"></a><span class="lineno">12575</span>&#160;            <span class="keywordflow">goto</span> quotemark;</div>
<div class="line"><a name="l12576"></a><span class="lineno">12576</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#af2fe42c651f99042a7514fcc15da0fb5">CVAR</a>:      <span class="comment">/* &#39;$&#39; */</span></div>
<div class="line"><a name="l12577"></a><span class="lineno">12577</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6dcdae6bcf53b708e56a70cbddf97503">PARSESUB</a>();             <span class="comment">/* parse substitution */</span></div>
<div class="line"><a name="l12578"></a><span class="lineno">12578</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12579"></a><span class="lineno">12579</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#aa321730ad3c6b407af46a658fc4666ed">CENDVAR</a>:   <span class="comment">/* &#39;}&#39; */</span></div>
<div class="line"><a name="l12580"></a><span class="lineno">12580</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5247fc87a061b8a6df182eddf60fe07d">innerdq</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">varnest</a> &gt; 0) {</div>
<div class="line"><a name="l12581"></a><span class="lineno">12581</span>&#160;                <span class="keywordflow">if</span> (!--<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">varnest</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a28cb24c264c5e4cf63b673e4b98ddd86">varpushed</a>)</div>
<div class="line"><a name="l12582"></a><span class="lineno">12582</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#ae2497252f474ac4b0514ce0e860cf90e">synstack_pop</a>(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>);</div>
<div class="line"><a name="l12583"></a><span class="lineno">12583</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a6076fdfe4a4e7be6838d89cf6a46fe86">dqvarnest</a> &gt; 0)</div>
<div class="line"><a name="l12584"></a><span class="lineno">12584</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a6076fdfe4a4e7be6838d89cf6a46fe86">dqvarnest</a>--;</div>
<div class="line"><a name="l12585"></a><span class="lineno">12585</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4b4b55d19841657b0d741ce7b516aee0">CTLENDVAR</a>;</div>
<div class="line"><a name="l12586"></a><span class="lineno">12586</span>&#160;            }</div>
<div class="line"><a name="l12587"></a><span class="lineno">12587</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12588"></a><span class="lineno">12588</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12589"></a><span class="lineno">12589</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l12590"></a><span class="lineno">12590</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a30bec42fcda15c87fe0b235c1af87c10">CLP</a>:       <span class="comment">/* &#39;(&#39; in arithmetic */</span></div>
<div class="line"><a name="l12591"></a><span class="lineno">12591</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a4c1815f17f83081f487e3812558e271d">parenlevel</a>++;</div>
<div class="line"><a name="l12592"></a><span class="lineno">12592</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12593"></a><span class="lineno">12593</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12594"></a><span class="lineno">12594</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a32928a534047f7a3cf2225aa5076d8e6">CRP</a>:       <span class="comment">/* &#39;)&#39; in arithmetic */</span></div>
<div class="line"><a name="l12595"></a><span class="lineno">12595</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a4c1815f17f83081f487e3812558e271d">parenlevel</a> &gt; 0) {</div>
<div class="line"><a name="l12596"></a><span class="lineno">12596</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a4c1815f17f83081f487e3812558e271d">parenlevel</a>--;</div>
<div class="line"><a name="l12597"></a><span class="lineno">12597</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12598"></a><span class="lineno">12598</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>() == <span class="charliteral">&#39;)&#39;</span>) {</div>
<div class="line"><a name="l12599"></a><span class="lineno">12599</span>&#160;                    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a758d18444ca0979856f52b0506de9d19">CTLENDARI</a>;</div>
<div class="line"><a name="l12600"></a><span class="lineno">12600</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#ae2497252f474ac4b0514ce0e860cf90e">synstack_pop</a>(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>);</div>
<div class="line"><a name="l12601"></a><span class="lineno">12601</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12602"></a><span class="lineno">12602</span>&#160;                    <span class="comment">/*</span></div>
<div class="line"><a name="l12603"></a><span class="lineno">12603</span>&#160;<span class="comment">                     * unbalanced parens</span></div>
<div class="line"><a name="l12604"></a><span class="lineno">12604</span>&#160;<span class="comment">                     * (don&#39;t 2nd guess - no error)</span></div>
<div class="line"><a name="l12605"></a><span class="lineno">12605</span>&#160;<span class="comment">                     */</span></div>
<div class="line"><a name="l12606"></a><span class="lineno">12606</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12607"></a><span class="lineno">12607</span>&#160;                }</div>
<div class="line"><a name="l12608"></a><span class="lineno">12608</span>&#160;            }</div>
<div class="line"><a name="l12609"></a><span class="lineno">12609</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12610"></a><span class="lineno">12610</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12611"></a><span class="lineno">12611</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12612"></a><span class="lineno">12612</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#abdaf6a726613b7ef18ad526041e82f9f">CBQUOTE</a>:   <span class="comment">/* &#39;`&#39; */</span></div>
<div class="line"><a name="l12613"></a><span class="lineno">12613</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a3e25b83dd9c92078e1f9ceab528166f8">CHKEOFMARK</a>) {</div>
<div class="line"><a name="l12614"></a><span class="lineno">12614</span>&#160;                quotef = 1;</div>
<div class="line"><a name="l12615"></a><span class="lineno">12615</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;`&#39;</span>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12616"></a><span class="lineno">12616</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12617"></a><span class="lineno">12617</span>&#160;            }</div>
<div class="line"><a name="l12618"></a><span class="lineno">12618</span>&#160; </div>
<div class="line"><a name="l12619"></a><span class="lineno">12619</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8e17fcbe520cb5d312c4a2b8e4f061d6">PARSEBACKQOLD</a>();</div>
<div class="line"><a name="l12620"></a><span class="lineno">12620</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12621"></a><span class="lineno">12621</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a1557f2ba904439e646e9513264f619ba">CENDFILE</a>:</div>
<div class="line"><a name="l12622"></a><span class="lineno">12622</span>&#160;            <span class="keywordflow">goto</span> endword;           <span class="comment">/* exit outer loop */</span></div>
<div class="line"><a name="l12623"></a><span class="lineno">12623</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l12624"></a><span class="lineno">12624</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">varnest</a> == 0) {</div>
<div class="line"><a name="l12625"></a><span class="lineno">12625</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l12626"></a><span class="lineno">12626</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;&amp;&#39;</span>) {</div>
<div class="line"><a name="l12627"></a><span class="lineno">12627</span>&#160;<span class="comment">//Can&#39;t call pgetc_eatbnl() here, this requires three-deep pungetc()</span></div>
<div class="line"><a name="l12628"></a><span class="lineno">12628</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>() == <span class="charliteral">&#39;&gt;&#39;</span>)</div>
<div class="line"><a name="l12629"></a><span class="lineno">12629</span>&#160;                        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = 0x100 + <span class="charliteral">&#39;&gt;&#39;</span>; <span class="comment">/* flag &amp;&gt; */</span></div>
<div class="line"><a name="l12630"></a><span class="lineno">12630</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12631"></a><span class="lineno">12631</span>&#160;                }</div>
<div class="line"><a name="l12632"></a><span class="lineno">12632</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12633"></a><span class="lineno">12633</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l12634"></a><span class="lineno">12634</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;&lt;&#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;&gt;&#39;</span>) {</div>
<div class="line"><a name="l12635"></a><span class="lineno">12635</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>() == <span class="charliteral">&#39;(&#39;</span>) {</div>
<div class="line"><a name="l12636"></a><span class="lineno">12636</span>&#160;                        <a class="code" href="../../d1/dbe/ash_8c.html#abfeaa8c008511ce2045c721dc7c10913">PARSEPROCSUB</a>();</div>
<div class="line"><a name="l12637"></a><span class="lineno">12637</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12638"></a><span class="lineno">12638</span>&#160;                    }</div>
<div class="line"><a name="l12639"></a><span class="lineno">12639</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12640"></a><span class="lineno">12640</span>&#160;                }</div>
<div class="line"><a name="l12641"></a><span class="lineno">12641</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12642"></a><span class="lineno">12642</span>&#160;                <span class="keywordflow">goto</span> endword;   <span class="comment">/* exit outer loop */</span></div>
<div class="line"><a name="l12643"></a><span class="lineno">12643</span>&#160;            }</div>
<div class="line"><a name="l12644"></a><span class="lineno">12644</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12645"></a><span class="lineno">12645</span>&#160;        }</div>
<div class="line"><a name="l12646"></a><span class="lineno">12646</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a33824ce802c252a2f3a2082c40b21ea7">pgetc_top</a>(<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>);</div>
<div class="line"><a name="l12647"></a><span class="lineno">12647</span>&#160;    } <span class="comment">/* for (;;) */</span></div>
<div class="line"><a name="l12648"></a><span class="lineno">12648</span>&#160; endword:</div>
<div class="line"><a name="l12649"></a><span class="lineno">12649</span>&#160; </div>
<div class="line"><a name="l12650"></a><span class="lineno">12650</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l12651"></a><span class="lineno">12651</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">syntax</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a341ac5757fa89c680495bed4c78fde00">ARISYNTAX</a>)</div>
<div class="line"><a name="l12652"></a><span class="lineno">12652</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(<span class="stringliteral">&quot;missing &#39;))&#39;&quot;</span>);</div>
<div class="line"><a name="l12653"></a><span class="lineno">12653</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12654"></a><span class="lineno">12654</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">syntax</a> != <a class="code" href="../../d1/dbe/ash_8c.html#aabad2b9b4fa22108df171bbcd6384722">BASESYNTAX</a> &amp;&amp; eofmark == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l12655"></a><span class="lineno">12655</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(<span class="stringliteral">&quot;unterminated quoted string&quot;</span>);</div>
<div class="line"><a name="l12656"></a><span class="lineno">12656</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">varnest</a> != 0) {</div>
<div class="line"><a name="l12657"></a><span class="lineno">12657</span>&#160;        <span class="comment">/* { */</span></div>
<div class="line"><a name="l12658"></a><span class="lineno">12658</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(<span class="stringliteral">&quot;missing &#39;}&#39;&quot;</span>);</div>
<div class="line"><a name="l12659"></a><span class="lineno">12659</span>&#160;    }</div>
<div class="line"><a name="l12660"></a><span class="lineno">12660</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;\0&#39;</span>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12661"></a><span class="lineno">12661</span>&#160;    <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l12662"></a><span class="lineno">12662</span>&#160;    <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l12663"></a><span class="lineno">12663</span>&#160;    <span class="keywordflow">if</span> (eofmark == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l12664"></a><span class="lineno">12664</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;&gt;&#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;&lt;&#39;</span> <a class="code" href="../../d1/dbe/ash_8c.html#a044f5a510db9c9bc10cf77e7c77de9f6">IF_BASH_REDIR_OUTPUT</a>( || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 0x100 + <span class="charliteral">&#39;&gt;&#39;</span>))</div>
<div class="line"><a name="l12665"></a><span class="lineno">12665</span>&#160;         &amp;&amp; quotef == 0</div>
<div class="line"><a name="l12666"></a><span class="lineno">12666</span>&#160;        ) {</div>
<div class="line"><a name="l12667"></a><span class="lineno">12667</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#aeadab29e8f2c51cd05e57e0e1b59993c">isdigit_str9</a>(<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>)) {</div>
<div class="line"><a name="l12668"></a><span class="lineno">12668</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a08da7152752cd019f84593c97059f489">PARSEREDIR</a>(); <span class="comment">/* passed as params: out, c */</span></div>
<div class="line"><a name="l12669"></a><span class="lineno">12669</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da7300b41797271233ec46764dc5983b8f">TREDIR</a>;</div>
<div class="line"><a name="l12670"></a><span class="lineno">12670</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a>;</div>
<div class="line"><a name="l12671"></a><span class="lineno">12671</span>&#160;            }</div>
<div class="line"><a name="l12672"></a><span class="lineno">12672</span>&#160;            <span class="comment">/* else: non-number X seen, interpret it</span></div>
<div class="line"><a name="l12673"></a><span class="lineno">12673</span>&#160;<span class="comment">             * as &quot;NNNX&gt;file&quot; = &quot;NNNX &gt;file&quot; */</span></div>
<div class="line"><a name="l12674"></a><span class="lineno">12674</span>&#160;        }</div>
<div class="line"><a name="l12675"></a><span class="lineno">12675</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12676"></a><span class="lineno">12676</span>&#160;    }</div>
<div class="line"><a name="l12677"></a><span class="lineno">12677</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab800e4a3e8f20f26c2faf500c41f654b">quoteflag</a> = quotef;</div>
<div class="line"><a name="l12678"></a><span class="lineno">12678</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ad37929c69e0a2a05dd8c9a874b026ef5">backquotelist</a> = bqlist;</div>
<div class="line"><a name="l12679"></a><span class="lineno">12679</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ae248323ad6e70abe4b5380879e6434e0">grabstackblock</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l12680"></a><span class="lineno">12680</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a> = <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l12681"></a><span class="lineno">12681</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a>;</div>
<div class="line"><a name="l12682"></a><span class="lineno">12682</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a>;</div>
<div class="line"><a name="l12683"></a><span class="lineno">12683</span>&#160;<span class="comment">/* end of readtoken routine */</span></div>
<div class="line"><a name="l12684"></a><span class="lineno">12684</span>&#160; </div>
<div class="line"><a name="l12685"></a><span class="lineno">12685</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l12686"></a><span class="lineno">12686</span>&#160;<span class="comment"> * Check to see whether we are at the end of the here document.  When this</span></div>
<div class="line"><a name="l12687"></a><span class="lineno">12687</span>&#160;<span class="comment"> * is called, c is set to the first character of the next input line.  If</span></div>
<div class="line"><a name="l12688"></a><span class="lineno">12688</span>&#160;<span class="comment"> * we are at the end of the here document, this routine sets the c to PEOF.</span></div>
<div class="line"><a name="l12689"></a><span class="lineno">12689</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l12690"></a><span class="lineno">12690</span>&#160;checkend: {</div>
<div class="line"><a name="l12691"></a><span class="lineno">12691</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a64fc4708f182c268a3a4c06de3c11d67">realeofmark</a>(eofmark)) {</div>
<div class="line"><a name="l12692"></a><span class="lineno">12692</span>&#160;        <span class="keywordtype">int</span> markloc;</div>
<div class="line"><a name="l12693"></a><span class="lineno">12693</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l12694"></a><span class="lineno">12694</span>&#160; </div>
<div class="line"><a name="l12695"></a><span class="lineno">12695</span>&#160;        <span class="keywordflow">if</span> (striptabs) {</div>
<div class="line"><a name="l12696"></a><span class="lineno">12696</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\t&#39;</span>)</div>
<div class="line"><a name="l12697"></a><span class="lineno">12697</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>();</div>
<div class="line"><a name="l12698"></a><span class="lineno">12698</span>&#160;        }</div>
<div class="line"><a name="l12699"></a><span class="lineno">12699</span>&#160; </div>
<div class="line"><a name="l12700"></a><span class="lineno">12700</span>&#160;        markloc = <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l12701"></a><span class="lineno">12701</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = eofmark; <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>), *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++) {</div>
<div class="line"><a name="l12702"></a><span class="lineno">12702</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l12703"></a><span class="lineno">12703</span>&#160;                <span class="keywordflow">goto</span> more_heredoc;</div>
<div class="line"><a name="l12704"></a><span class="lineno">12704</span>&#160;            <span class="comment">/* FIXME: fails for backslash-newlined terminator:</span></div>
<div class="line"><a name="l12705"></a><span class="lineno">12705</span>&#160;<span class="comment">             * cat &lt;&lt;EOF</span></div>
<div class="line"><a name="l12706"></a><span class="lineno">12706</span>&#160;<span class="comment">             * ...</span></div>
<div class="line"><a name="l12707"></a><span class="lineno">12707</span>&#160;<span class="comment">             * EO\</span></div>
<div class="line"><a name="l12708"></a><span class="lineno">12708</span>&#160;<span class="comment">             * F</span></div>
<div class="line"><a name="l12709"></a><span class="lineno">12709</span>&#160;<span class="comment">             * (see heredoc_bkslash_newline2.tests)</span></div>
<div class="line"><a name="l12710"></a><span class="lineno">12710</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l12711"></a><span class="lineno">12711</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>();</div>
<div class="line"><a name="l12712"></a><span class="lineno">12712</span>&#160;        }</div>
<div class="line"><a name="l12713"></a><span class="lineno">12713</span>&#160; </div>
<div class="line"><a name="l12714"></a><span class="lineno">12714</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\n&#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a>) {</div>
<div class="line"><a name="l12715"></a><span class="lineno">12715</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a>;</div>
<div class="line"><a name="l12716"></a><span class="lineno">12716</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a20992d7f055cb9f17f94f97c830e819e">trap_depth</a> == 0)</div>
<div class="line"><a name="l12717"></a><span class="lineno">12717</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">linno</a>++;</div>
<div class="line"><a name="l12718"></a><span class="lineno">12718</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a010f966b977f7398eca0ffd8997421d1">needprompt</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a>;</div>
<div class="line"><a name="l12719"></a><span class="lineno">12719</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12720"></a><span class="lineno">12720</span>&#160;            <span class="keywordtype">int</span> len_here;</div>
<div class="line"><a name="l12721"></a><span class="lineno">12721</span>&#160; </div>
<div class="line"><a name="l12722"></a><span class="lineno">12722</span>&#160; more_heredoc:</div>
<div class="line"><a name="l12723"></a><span class="lineno">12723</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + markloc + 1;</div>
<div class="line"><a name="l12724"></a><span class="lineno">12724</span>&#160;            len_here = <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a> - <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l12725"></a><span class="lineno">12725</span>&#160; </div>
<div class="line"><a name="l12726"></a><span class="lineno">12726</span>&#160;            <span class="keywordflow">if</span> (len_here) {</div>
<div class="line"><a name="l12727"></a><span class="lineno">12727</span>&#160;                len_here -= (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &gt;= <a class="code" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a>);</div>
<div class="line"><a name="l12728"></a><span class="lineno">12728</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[-1];</div>
<div class="line"><a name="l12729"></a><span class="lineno">12729</span>&#160; </div>
<div class="line"><a name="l12730"></a><span class="lineno">12730</span>&#160;                <span class="keywordflow">if</span> (len_here) {</div>
<div class="line"><a name="l12731"></a><span class="lineno">12731</span>&#160;                    <span class="keywordtype">char</span> *<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>;</div>
<div class="line"><a name="l12732"></a><span class="lineno">12732</span>&#160; </div>
<div class="line"><a name="l12733"></a><span class="lineno">12733</span>&#160;                    <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a03a200320a749aaf2faa1d1719ffb4de">alloca</a>(len_here + 1);</div>
<div class="line"><a name="l12734"></a><span class="lineno">12734</span>&#160;                    *(<span class="keywordtype">char</span> *)<a class="code" href="../../d0/dfd/mempcpy_8c.html#a7ac7c0f43132e3acf013e0c71a58cdc9">mempcpy</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, len_here) = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l12735"></a><span class="lineno">12735</span>&#160; </div>
<div class="line"><a name="l12736"></a><span class="lineno">12736</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a6210f849e16da96e5829054b55810261">pushstring</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l12737"></a><span class="lineno">12737</span>&#160;                }</div>
<div class="line"><a name="l12738"></a><span class="lineno">12738</span>&#160;            }</div>
<div class="line"><a name="l12739"></a><span class="lineno">12739</span>&#160;        }</div>
<div class="line"><a name="l12740"></a><span class="lineno">12740</span>&#160; </div>
<div class="line"><a name="l12741"></a><span class="lineno">12741</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f">STADJUST</a>((<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>() + markloc - <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12742"></a><span class="lineno">12742</span>&#160;    }</div>
<div class="line"><a name="l12743"></a><span class="lineno">12743</span>&#160;    <span class="keywordflow">goto</span> checkend_return;</div>
<div class="line"><a name="l12744"></a><span class="lineno">12744</span>&#160;}</div>
<div class="line"><a name="l12745"></a><span class="lineno">12745</span>&#160; </div>
<div class="line"><a name="l12746"></a><span class="lineno">12746</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l12747"></a><span class="lineno">12747</span>&#160;<span class="comment"> * Parse a redirection operator.  The variable &quot;out&quot; points to a string</span></div>
<div class="line"><a name="l12748"></a><span class="lineno">12748</span>&#160;<span class="comment"> * specifying the fd to be redirected.  The variable &quot;c&quot; contains the</span></div>
<div class="line"><a name="l12749"></a><span class="lineno">12749</span>&#160;<span class="comment"> * first character of the redirection operator.</span></div>
<div class="line"><a name="l12750"></a><span class="lineno">12750</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l12751"></a><span class="lineno">12751</span>&#160;parseredir: {</div>
<div class="line"><a name="l12752"></a><span class="lineno">12752</span>&#160;    <span class="comment">/* out is already checked to be a valid number or &quot;&quot; */</span></div>
<div class="line"><a name="l12753"></a><span class="lineno">12753</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> = (*<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a> == <span class="charliteral">&#39;\0&#39;</span> ? -1 : <a class="code" href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a>(<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>));</div>
<div class="line"><a name="l12754"></a><span class="lineno">12754</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *np;</div>
<div class="line"><a name="l12755"></a><span class="lineno">12755</span>&#160; </div>
<div class="line"><a name="l12756"></a><span class="lineno">12756</span>&#160;    np = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/dbc/structnfile">nfile</a>));</div>
<div class="line"><a name="l12757"></a><span class="lineno">12757</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;&gt;&#39;</span>) {</div>
<div class="line"><a name="l12758"></a><span class="lineno">12758</span>&#160;        np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a0f2e446d6c6f0ba6663e8d1a52bfc44e">nfile</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a4259df449db9b4e4373a1dfe851a1818">fd</a> = 1;</div>
<div class="line"><a name="l12759"></a><span class="lineno">12759</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l12760"></a><span class="lineno">12760</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;&gt;&#39;</span>)</div>
<div class="line"><a name="l12761"></a><span class="lineno">12761</span>&#160;            np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7e16466b836f34200e785c653b136dcf">NAPPEND</a>;</div>
<div class="line"><a name="l12762"></a><span class="lineno">12762</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;|&#39;</span>)</div>
<div class="line"><a name="l12763"></a><span class="lineno">12763</span>&#160;            np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a044ff0b816ace1617b5a80ef22042484">NCLOBBER</a>;</div>
<div class="line"><a name="l12764"></a><span class="lineno">12764</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;&amp;&#39;</span>)</div>
<div class="line"><a name="l12765"></a><span class="lineno">12765</span>&#160;            np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">NTOFD</a>;</div>
<div class="line"><a name="l12766"></a><span class="lineno">12766</span>&#160;            <span class="comment">/* it also can be NTO2 (&gt;&amp;file), but we can&#39;t figure it out yet */</span></div>
<div class="line"><a name="l12767"></a><span class="lineno">12767</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12768"></a><span class="lineno">12768</span>&#160;            np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a658038e4a47dea3db2c5ab2a3446e02a">NTO</a>;</div>
<div class="line"><a name="l12769"></a><span class="lineno">12769</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12770"></a><span class="lineno">12770</span>&#160;        }</div>
<div class="line"><a name="l12771"></a><span class="lineno">12771</span>&#160;    }</div>
<div class="line"><a name="l12772"></a><span class="lineno">12772</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l12773"></a><span class="lineno">12773</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 0x100 + <span class="charliteral">&#39;&gt;&#39;</span>) { <span class="comment">/* this flags &amp;&gt; redirection */</span></div>
<div class="line"><a name="l12774"></a><span class="lineno">12774</span>&#160;        np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a0f2e446d6c6f0ba6663e8d1a52bfc44e">nfile</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a4259df449db9b4e4373a1dfe851a1818">fd</a> = 1;</div>
<div class="line"><a name="l12775"></a><span class="lineno">12775</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>(); <span class="comment">/* this is &#39;&gt;&#39;, no need to check */</span></div>
<div class="line"><a name="l12776"></a><span class="lineno">12776</span>&#160;        np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = NTO2;</div>
<div class="line"><a name="l12777"></a><span class="lineno">12777</span>&#160;    }</div>
<div class="line"><a name="l12778"></a><span class="lineno">12778</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12779"></a><span class="lineno">12779</span>&#160;    <span class="keywordflow">else</span> { <span class="comment">/* c == &#39;&lt;&#39; */</span></div>
<div class="line"><a name="l12780"></a><span class="lineno">12780</span>&#160;        <span class="comment">/*np-&gt;nfile.fd = 0; - stzalloc did it */</span></div>
<div class="line"><a name="l12781"></a><span class="lineno">12781</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l12782"></a><span class="lineno">12782</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {</div>
<div class="line"><a name="l12783"></a><span class="lineno">12783</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>:</div>
<div class="line"><a name="l12784"></a><span class="lineno">12784</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/dbc/structnfile">nfile</a>) != <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d8/d0a/structnhere">nhere</a>)) {</div>
<div class="line"><a name="l12785"></a><span class="lineno">12785</span>&#160;                np = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d8/d0a/structnhere">nhere</a>));</div>
<div class="line"><a name="l12786"></a><span class="lineno">12786</span>&#160;                <span class="comment">/*np-&gt;nfile.fd = 0; - stzalloc did it */</span></div>
<div class="line"><a name="l12787"></a><span class="lineno">12787</span>&#160;            }</div>
<div class="line"><a name="l12788"></a><span class="lineno">12788</span>&#160;            np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ad0f81540b8a0b9ef1e2747fb93898460">NHERE</a>;</div>
<div class="line"><a name="l12789"></a><span class="lineno">12789</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a>));</div>
<div class="line"><a name="l12790"></a><span class="lineno">12790</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3ec365dc744a369133c23ec0aec0b676">here</a> = np;</div>
<div class="line"><a name="l12791"></a><span class="lineno">12791</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l12792"></a><span class="lineno">12792</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l12793"></a><span class="lineno">12793</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af1cdd7f1f03ead14cd403b108f4fb51e">striptabs</a> = 1;</div>
<div class="line"><a name="l12794"></a><span class="lineno">12794</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12795"></a><span class="lineno">12795</span>&#160;                <span class="comment">/*heredoc-&gt;striptabs = 0; - stzalloc did it */</span></div>
<div class="line"><a name="l12796"></a><span class="lineno">12796</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12797"></a><span class="lineno">12797</span>&#160;            }</div>
<div class="line"><a name="l12798"></a><span class="lineno">12798</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12799"></a><span class="lineno">12799</span>&#160; </div>
<div class="line"><a name="l12800"></a><span class="lineno">12800</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;&amp;&#39;</span>:</div>
<div class="line"><a name="l12801"></a><span class="lineno">12801</span>&#160;            np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">NFROMFD</a>;</div>
<div class="line"><a name="l12802"></a><span class="lineno">12802</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12803"></a><span class="lineno">12803</span>&#160; </div>
<div class="line"><a name="l12804"></a><span class="lineno">12804</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;&gt;&#39;</span>:</div>
<div class="line"><a name="l12805"></a><span class="lineno">12805</span>&#160;            np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa5fc21dad7ff6ca79ff1e9c481b33787">NFROMTO</a>;</div>
<div class="line"><a name="l12806"></a><span class="lineno">12806</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12807"></a><span class="lineno">12807</span>&#160; </div>
<div class="line"><a name="l12808"></a><span class="lineno">12808</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l12809"></a><span class="lineno">12809</span>&#160;            np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aefcff7735123e7551631570d3bbb418f">NFROM</a>;</div>
<div class="line"><a name="l12810"></a><span class="lineno">12810</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12811"></a><span class="lineno">12811</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12812"></a><span class="lineno">12812</span>&#160;        }</div>
<div class="line"><a name="l12813"></a><span class="lineno">12813</span>&#160;    }</div>
<div class="line"><a name="l12814"></a><span class="lineno">12814</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a> &gt;= 0)</div>
<div class="line"><a name="l12815"></a><span class="lineno">12815</span>&#160;        np-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#a0f2e446d6c6f0ba6663e8d1a52bfc44e">nfile</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a4259df449db9b4e4373a1dfe851a1818">fd</a> = <a class="code" href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l12816"></a><span class="lineno">12816</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af259ce0501aada6b201083fec4b3805f">redirnode</a> = np;</div>
<div class="line"><a name="l12817"></a><span class="lineno">12817</span>&#160;    <span class="keywordflow">goto</span> parseredir_return;</div>
<div class="line"><a name="l12818"></a><span class="lineno">12818</span>&#160;}</div>
<div class="line"><a name="l12819"></a><span class="lineno">12819</span>&#160; </div>
<div class="line"><a name="l12820"></a><span class="lineno">12820</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l12821"></a><span class="lineno">12821</span>&#160;<span class="comment"> * Parse a substitution.  At this point, we have read the dollar sign</span></div>
<div class="line"><a name="l12822"></a><span class="lineno">12822</span>&#160;<span class="comment"> * and nothing else.</span></div>
<div class="line"><a name="l12823"></a><span class="lineno">12823</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l12824"></a><span class="lineno">12824</span>&#160; </div>
<div class="line"><a name="l12825"></a><span class="lineno">12825</span>&#160;<span class="comment">/* is_special(c) evaluates to 1 for c in &quot;!#$*-0123456789?@&quot;; 0 otherwise</span></div>
<div class="line"><a name="l12826"></a><span class="lineno">12826</span>&#160;<span class="comment"> * (assuming ascii char codes, as the original implementation did) */</span></div>
<div class="line"><a name="l12827"></a><span class="lineno">12827</span>&#160;<span class="preprocessor">#define is_special(c) \</span></div>
<div class="line"><a name="l12828"></a><span class="lineno">12828</span>&#160;<span class="preprocessor">    (((unsigned)(c) - 33 &lt; 32) \</span></div>
<div class="line"><a name="l12829"></a><span class="lineno">12829</span>&#160;<span class="preprocessor">            &amp;&amp; ((0xc1ff920dU &gt;&gt; ((unsigned)(c) - 33)) &amp; 1))</span></div>
<div class="line"><a name="l12830"></a><span class="lineno">12830</span>&#160;parsesub: {</div>
<div class="line"><a name="l12831"></a><span class="lineno">12831</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> subtype;</div>
<div class="line"><a name="l12832"></a><span class="lineno">12832</span>&#160;    <span class="keywordtype">int</span> typeloc;</div>
<div class="line"><a name="l12833"></a><span class="lineno">12833</span>&#160; </div>
<div class="line"><a name="l12834"></a><span class="lineno">12834</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l12835"></a><span class="lineno">12835</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a3e25b83dd9c92078e1f9ceab528166f8">CHKEOFMARK</a>)</div>
<div class="line"><a name="l12836"></a><span class="lineno">12836</span>&#160;     || (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;(&#39;</span> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;{&#39;</span> &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#a3244f0a0f22e53ca438aaf6b56204eda">is_name</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#ad814d21005578f03350b1de5c4b5458b">is_special</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>))</div>
<div class="line"><a name="l12837"></a><span class="lineno">12837</span>&#160;    ) {</div>
<div class="line"><a name="l12838"></a><span class="lineno">12838</span>&#160;<span class="preprocessor">#if BASH_DOLLAR_SQUOTE</span></div>
<div class="line"><a name="l12839"></a><span class="lineno">12839</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">syntax</a> != <a class="code" href="../../d1/dbe/ash_8c.html#aaa6071f56fe3ef665c45682e2875e1c8">DQSYNTAX</a> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\&#39;&#39;</span>)</div>
<div class="line"><a name="l12840"></a><span class="lineno">12840</span>&#160;            bash_dollar_squote = 1;</div>
<div class="line"><a name="l12841"></a><span class="lineno">12841</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l12842"></a><span class="lineno">12842</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12843"></a><span class="lineno">12843</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<span class="charliteral">&#39;$&#39;</span>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12844"></a><span class="lineno">12844</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12845"></a><span class="lineno">12845</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;(&#39;</span>) {</div>
<div class="line"><a name="l12846"></a><span class="lineno">12846</span>&#160;        <span class="comment">/* $(command) or $((arith)) */</span></div>
<div class="line"><a name="l12847"></a><span class="lineno">12847</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>() == <span class="charliteral">&#39;(&#39;</span>) {</div>
<div class="line"><a name="l12848"></a><span class="lineno">12848</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l12849"></a><span class="lineno">12849</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#af6102579d4f7d723e78f1870f1e1427a">PARSEARITH</a>();</div>
<div class="line"><a name="l12850"></a><span class="lineno">12850</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l12851"></a><span class="lineno">12851</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(<span class="stringliteral">&quot;support for $((arith)) is disabled&quot;</span>);</div>
<div class="line"><a name="l12852"></a><span class="lineno">12852</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12853"></a><span class="lineno">12853</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12854"></a><span class="lineno">12854</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12855"></a><span class="lineno">12855</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a13c4db5bf381cb8e9cc37f90b303edc2">PARSEBACKQNEW</a>();</div>
<div class="line"><a name="l12856"></a><span class="lineno">12856</span>&#160;        }</div>
<div class="line"><a name="l12857"></a><span class="lineno">12857</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12858"></a><span class="lineno">12858</span>&#160;        <span class="comment">/* $VAR, $&lt;specialchar&gt;, ${...}, or PEOF */</span></div>
<div class="line"><a name="l12859"></a><span class="lineno">12859</span>&#160;        <a class="code" href="../../de/d03/platform_8h.html#a64ca60148755cc31a03b9bb0a44aafc3">smalluint</a> newsyn = <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">syntax</a>;</div>
<div class="line"><a name="l12860"></a><span class="lineno">12860</span>&#160; </div>
<div class="line"><a name="l12861"></a><span class="lineno">12861</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ae1863f639f12382c610c13d53ea33c01">CTLVAR</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12862"></a><span class="lineno">12862</span>&#160;        typeloc = <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l12863"></a><span class="lineno">12863</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f">STADJUST</a>(1, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12864"></a><span class="lineno">12864</span>&#160;        subtype = <a class="code" href="../../d1/dbe/ash_8c.html#a3c58eaf841c80ab6d8e9acdf52172d33">VSNORMAL</a>;</div>
<div class="line"><a name="l12865"></a><span class="lineno">12865</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;{&#39;</span>) {</div>
<div class="line"><a name="l12866"></a><span class="lineno">12866</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l12867"></a><span class="lineno">12867</span>&#160;            subtype = 0;</div>
<div class="line"><a name="l12868"></a><span class="lineno">12868</span>&#160;        }</div>
<div class="line"><a name="l12869"></a><span class="lineno">12869</span>&#160; varname:</div>
<div class="line"><a name="l12870"></a><span class="lineno">12870</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a3244f0a0f22e53ca438aaf6b56204eda">is_name</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l12871"></a><span class="lineno">12871</span>&#160;            <span class="comment">/* $[{[#]]NAME[}] */</span></div>
<div class="line"><a name="l12872"></a><span class="lineno">12872</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l12873"></a><span class="lineno">12873</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12874"></a><span class="lineno">12874</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l12875"></a><span class="lineno">12875</span>&#160;            } <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#af3ab4137bc0ae5cd20517d9a69247029">is_in_name</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>));</div>
<div class="line"><a name="l12876"></a><span class="lineno">12876</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l12877"></a><span class="lineno">12877</span>&#160;            <span class="comment">/* $[{[#]]NUM[}] */</span></div>
<div class="line"><a name="l12878"></a><span class="lineno">12878</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l12879"></a><span class="lineno">12879</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12880"></a><span class="lineno">12880</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l12881"></a><span class="lineno">12881</span>&#160;            } <span class="keywordflow">while</span> ((subtype == 0 || subtype == <a class="code" href="../../d1/dbe/ash_8c.html#a252bfb51e3aaaead48778387d4db014c">VSLENGTH</a>) &amp;&amp; <a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>));</div>
<div class="line"><a name="l12882"></a><span class="lineno">12882</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;}&#39;</span>) {</div>
<div class="line"><a name="l12883"></a><span class="lineno">12883</span>&#160;            <span class="comment">/* $[{[#]]&lt;specialchar&gt;[}] */</span></div>
<div class="line"><a name="l12884"></a><span class="lineno">12884</span>&#160;            <span class="keywordtype">int</span> cc = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l12885"></a><span class="lineno">12885</span>&#160; </div>
<div class="line"><a name="l12886"></a><span class="lineno">12886</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l12887"></a><span class="lineno">12887</span>&#160;            <span class="keywordflow">if</span> (!subtype &amp;&amp; cc == <span class="charliteral">&#39;#&#39;</span>) {</div>
<div class="line"><a name="l12888"></a><span class="lineno">12888</span>&#160;                subtype = <a class="code" href="../../d1/dbe/ash_8c.html#a252bfb51e3aaaead48778387d4db014c">VSLENGTH</a>;</div>
<div class="line"><a name="l12889"></a><span class="lineno">12889</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;_&#39;</span> || <a class="code" href="../../d7/dd7/libbb_8h.html#a3db1d3e3db557d4493cd4084bce8834c">isalnum</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>))</div>
<div class="line"><a name="l12890"></a><span class="lineno">12890</span>&#160;                    <span class="keywordflow">goto</span> varname;</div>
<div class="line"><a name="l12891"></a><span class="lineno">12891</span>&#160;                cc = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l12892"></a><span class="lineno">12892</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l12893"></a><span class="lineno">12893</span>&#160;                <span class="keywordflow">if</span> (cc == <span class="charliteral">&#39;}&#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;}&#39;</span>) {</div>
<div class="line"><a name="l12894"></a><span class="lineno">12894</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12895"></a><span class="lineno">12895</span>&#160;                    subtype = 0;</div>
<div class="line"><a name="l12896"></a><span class="lineno">12896</span>&#160;                    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = cc;</div>
<div class="line"><a name="l12897"></a><span class="lineno">12897</span>&#160;                    cc = <span class="charliteral">&#39;#&#39;</span>;</div>
<div class="line"><a name="l12898"></a><span class="lineno">12898</span>&#160;                }</div>
<div class="line"><a name="l12899"></a><span class="lineno">12899</span>&#160;            }</div>
<div class="line"><a name="l12900"></a><span class="lineno">12900</span>&#160; </div>
<div class="line"><a name="l12901"></a><span class="lineno">12901</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#ad814d21005578f03350b1de5c4b5458b">is_special</a>(cc)) {</div>
<div class="line"><a name="l12902"></a><span class="lineno">12902</span>&#160;                <span class="keywordflow">if</span> (subtype == <a class="code" href="../../d1/dbe/ash_8c.html#a252bfb51e3aaaead48778387d4db014c">VSLENGTH</a>)</div>
<div class="line"><a name="l12903"></a><span class="lineno">12903</span>&#160;                    subtype = 0;</div>
<div class="line"><a name="l12904"></a><span class="lineno">12904</span>&#160;                <span class="keywordflow">goto</span> badsub;</div>
<div class="line"><a name="l12905"></a><span class="lineno">12905</span>&#160;            }</div>
<div class="line"><a name="l12906"></a><span class="lineno">12906</span>&#160; </div>
<div class="line"><a name="l12907"></a><span class="lineno">12907</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(cc, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12908"></a><span class="lineno">12908</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l12909"></a><span class="lineno">12909</span>&#160;            <span class="keywordflow">goto</span> badsub;</div>
<div class="line"><a name="l12910"></a><span class="lineno">12910</span>&#160; </div>
<div class="line"><a name="l12911"></a><span class="lineno">12911</span>&#160;        <span class="keywordflow">if</span> (subtype == 0) {</div>
<div class="line"><a name="l12912"></a><span class="lineno">12912</span>&#160;            <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="../../d2/d48/____tz_8c.html#a2531d69daf2c82223c7d3d7a7728ddc1">types</a>[] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = <span class="stringliteral">&quot;}-+?=&quot;</span>;</div>
<div class="line"><a name="l12913"></a><span class="lineno">12913</span>&#160;            <span class="comment">/* ${VAR...} but not $VAR or ${#VAR} */</span></div>
<div class="line"><a name="l12914"></a><span class="lineno">12914</span>&#160;            <span class="comment">/* c == first char after VAR */</span></div>
<div class="line"><a name="l12915"></a><span class="lineno">12915</span>&#160;            <span class="keywordtype">int</span> cc = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l12916"></a><span class="lineno">12916</span>&#160; </div>
<div class="line"><a name="l12917"></a><span class="lineno">12917</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {</div>
<div class="line"><a name="l12918"></a><span class="lineno">12918</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;:&#39;</span>:</div>
<div class="line"><a name="l12919"></a><span class="lineno">12919</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l12920"></a><span class="lineno">12920</span>&#160;<span class="preprocessor">#if BASH_SUBSTR</span></div>
<div class="line"><a name="l12921"></a><span class="lineno">12921</span>&#160;                <span class="comment">/* This check is only needed to not misinterpret</span></div>
<div class="line"><a name="l12922"></a><span class="lineno">12922</span>&#160;<span class="comment">                 * ${VAR:-WORD}, ${VAR:+WORD}, ${VAR:=WORD}, ${VAR:?WORD}</span></div>
<div class="line"><a name="l12923"></a><span class="lineno">12923</span>&#160;<span class="comment">                 * constructs.</span></div>
<div class="line"><a name="l12924"></a><span class="lineno">12924</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l12925"></a><span class="lineno">12925</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(<a class="code" href="../../d2/d48/____tz_8c.html#a2531d69daf2c82223c7d3d7a7728ddc1">types</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l12926"></a><span class="lineno">12926</span>&#160;                    subtype = VSSUBSTR;</div>
<div class="line"><a name="l12927"></a><span class="lineno">12927</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12928"></a><span class="lineno">12928</span>&#160;                    <span class="keywordflow">break</span>; <span class="comment">/* &quot;goto badsub&quot; is bigger (!) */</span></div>
<div class="line"><a name="l12929"></a><span class="lineno">12929</span>&#160;                }</div>
<div class="line"><a name="l12930"></a><span class="lineno">12930</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12931"></a><span class="lineno">12931</span>&#160;                subtype = <a class="code" href="../../d1/dbe/ash_8c.html#ad557438155906b9dc1a3a6fee168ceb3">VSNUL</a>;</div>
<div class="line"><a name="l12932"></a><span class="lineno">12932</span>&#160;                <span class="comment">/*FALLTHROUGH*/</span></div>
<div class="line"><a name="l12933"></a><span class="lineno">12933</span>&#160;            <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l12934"></a><span class="lineno">12934</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(<a class="code" href="../../d2/d48/____tz_8c.html#a2531d69daf2c82223c7d3d7a7728ddc1">types</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l12935"></a><span class="lineno">12935</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l12936"></a><span class="lineno">12936</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12937"></a><span class="lineno">12937</span>&#160;                subtype |= <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - <a class="code" href="../../d2/d48/____tz_8c.html#a2531d69daf2c82223c7d3d7a7728ddc1">types</a> + <a class="code" href="../../d1/dbe/ash_8c.html#a3c58eaf841c80ab6d8e9acdf52172d33">VSNORMAL</a>;</div>
<div class="line"><a name="l12938"></a><span class="lineno">12938</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12939"></a><span class="lineno">12939</span>&#160;            }</div>
<div class="line"><a name="l12940"></a><span class="lineno">12940</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;%&#39;</span>:</div>
<div class="line"><a name="l12941"></a><span class="lineno">12941</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;#&#39;</span>:</div>
<div class="line"><a name="l12942"></a><span class="lineno">12942</span>&#160;                subtype = (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;#&#39;</span> ? <a class="code" href="../../d1/dbe/ash_8c.html#a36bca9db2dbf431324629bdd81a36d02">VSTRIMLEFT</a> : <a class="code" href="../../d1/dbe/ash_8c.html#a23306e67a1676110c786b103b6edeb14">VSTRIMRIGHT</a>);</div>
<div class="line"><a name="l12943"></a><span class="lineno">12943</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l12944"></a><span class="lineno">12944</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == cc)</div>
<div class="line"><a name="l12945"></a><span class="lineno">12945</span>&#160;                    subtype++;</div>
<div class="line"><a name="l12946"></a><span class="lineno">12946</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l12947"></a><span class="lineno">12947</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12948"></a><span class="lineno">12948</span>&#160; </div>
<div class="line"><a name="l12949"></a><span class="lineno">12949</span>&#160;                newsyn = <a class="code" href="../../d1/dbe/ash_8c.html#aabad2b9b4fa22108df171bbcd6384722">BASESYNTAX</a>;</div>
<div class="line"><a name="l12950"></a><span class="lineno">12950</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12951"></a><span class="lineno">12951</span>&#160;<span class="preprocessor">#if BASH_PATTERN_SUBST</span></div>
<div class="line"><a name="l12952"></a><span class="lineno">12952</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>:</div>
<div class="line"><a name="l12953"></a><span class="lineno">12953</span>&#160;                <span class="comment">/* ${v/[/]pattern/repl} */</span></div>
<div class="line"><a name="l12954"></a><span class="lineno">12954</span>&#160;<span class="comment">//TODO: encode pattern and repl separately.</span></div>
<div class="line"><a name="l12955"></a><span class="lineno">12955</span>&#160;<span class="comment">// Currently cases like: v=1;echo ${v/$((1/1))/ONE}</span></div>
<div class="line"><a name="l12956"></a><span class="lineno">12956</span>&#160;<span class="comment">// are broken (should print &quot;ONE&quot;)</span></div>
<div class="line"><a name="l12957"></a><span class="lineno">12957</span>&#160;                subtype = VSREPLACE;</div>
<div class="line"><a name="l12958"></a><span class="lineno">12958</span>&#160;                newsyn = <a class="code" href="../../d1/dbe/ash_8c.html#aabad2b9b4fa22108df171bbcd6384722">BASESYNTAX</a>;</div>
<div class="line"><a name="l12959"></a><span class="lineno">12959</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l12960"></a><span class="lineno">12960</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l12961"></a><span class="lineno">12961</span>&#160;                    <span class="keywordflow">goto</span> badsub;</div>
<div class="line"><a name="l12962"></a><span class="lineno">12962</span>&#160;                subtype++; <span class="comment">/* VSREPLACEALL */</span></div>
<div class="line"><a name="l12963"></a><span class="lineno">12963</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l12964"></a><span class="lineno">12964</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l12965"></a><span class="lineno">12965</span>&#160;            }</div>
<div class="line"><a name="l12966"></a><span class="lineno">12966</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l12967"></a><span class="lineno">12967</span>&#160;            <span class="keywordflow">if</span> (subtype == <a class="code" href="../../d1/dbe/ash_8c.html#a252bfb51e3aaaead48778387d4db014c">VSLENGTH</a> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;}&#39;</span>)</div>
<div class="line"><a name="l12968"></a><span class="lineno">12968</span>&#160;                subtype = 0;</div>
<div class="line"><a name="l12969"></a><span class="lineno">12969</span>&#160; badsub:</div>
<div class="line"><a name="l12970"></a><span class="lineno">12970</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l12971"></a><span class="lineno">12971</span>&#160;        }</div>
<div class="line"><a name="l12972"></a><span class="lineno">12972</span>&#160; </div>
<div class="line"><a name="l12973"></a><span class="lineno">12973</span>&#160;        <span class="keywordflow">if</span> (newsyn == <a class="code" href="../../d1/dbe/ash_8c.html#a341ac5757fa89c680495bed4c78fde00">ARISYNTAX</a>)</div>
<div class="line"><a name="l12974"></a><span class="lineno">12974</span>&#160;            newsyn = <a class="code" href="../../d1/dbe/ash_8c.html#aaa6071f56fe3ef665c45682e2875e1c8">DQSYNTAX</a>;</div>
<div class="line"><a name="l12975"></a><span class="lineno">12975</span>&#160; </div>
<div class="line"><a name="l12976"></a><span class="lineno">12976</span>&#160;        <span class="keywordflow">if</span> ((newsyn != <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">syntax</a> || <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a5247fc87a061b8a6df182eddf60fe07d">innerdq</a>)</div>
<div class="line"><a name="l12977"></a><span class="lineno">12977</span>&#160;         &amp;&amp; subtype != <a class="code" href="../../d1/dbe/ash_8c.html#a3c58eaf841c80ab6d8e9acdf52172d33">VSNORMAL</a></div>
<div class="line"><a name="l12978"></a><span class="lineno">12978</span>&#160;        ) {</div>
<div class="line"><a name="l12979"></a><span class="lineno">12979</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ac007015723838d344bebdf44dccf8e8b">synstack_push</a>(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>,</div>
<div class="line"><a name="l12980"></a><span class="lineno">12980</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8168bc1def8480b9821d9b119eb6a96b">prev</a> ?: <a class="code" href="../../d0/d32/dcigettext_8c.html#a03a200320a749aaf2faa1d1719ffb4de">alloca</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>)),</div>
<div class="line"><a name="l12981"></a><span class="lineno">12981</span>&#160;                newsyn);</div>
<div class="line"><a name="l12982"></a><span class="lineno">12982</span>&#160; </div>
<div class="line"><a name="l12983"></a><span class="lineno">12983</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a28cb24c264c5e4cf63b673e4b98ddd86">varpushed</a> = 1;</div>
<div class="line"><a name="l12984"></a><span class="lineno">12984</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">dblquote</a> = newsyn != <a class="code" href="../../d1/dbe/ash_8c.html#aabad2b9b4fa22108df171bbcd6384722">BASESYNTAX</a>;</div>
<div class="line"><a name="l12985"></a><span class="lineno">12985</span>&#160;        }</div>
<div class="line"><a name="l12986"></a><span class="lineno">12986</span>&#160; </div>
<div class="line"><a name="l12987"></a><span class="lineno">12987</span>&#160;        ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>())[typeloc] = subtype;</div>
<div class="line"><a name="l12988"></a><span class="lineno">12988</span>&#160;        <span class="keywordflow">if</span> (subtype != <a class="code" href="../../d1/dbe/ash_8c.html#a3c58eaf841c80ab6d8e9acdf52172d33">VSNORMAL</a>) {</div>
<div class="line"><a name="l12989"></a><span class="lineno">12989</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">varnest</a>++;</div>
<div class="line"><a name="l12990"></a><span class="lineno">12990</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">dblquote</a>)</div>
<div class="line"><a name="l12991"></a><span class="lineno">12991</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a6076fdfe4a4e7be6838d89cf6a46fe86">dqvarnest</a>++;</div>
<div class="line"><a name="l12992"></a><span class="lineno">12992</span>&#160;        }</div>
<div class="line"><a name="l12993"></a><span class="lineno">12993</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(<span class="charliteral">&#39;=&#39;</span>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l12994"></a><span class="lineno">12994</span>&#160;    }</div>
<div class="line"><a name="l12995"></a><span class="lineno">12995</span>&#160;    <span class="keywordflow">goto</span> parsesub_return;</div>
<div class="line"><a name="l12996"></a><span class="lineno">12996</span>&#160;}</div>
<div class="line"><a name="l12997"></a><span class="lineno">12997</span>&#160; </div>
<div class="line"><a name="l12998"></a><span class="lineno">12998</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l12999"></a><span class="lineno">12999</span>&#160;<span class="comment"> * Called to parse command substitutions.  Newstyle is set if the command</span></div>
<div class="line"><a name="l13000"></a><span class="lineno">13000</span>&#160;<span class="comment"> * is enclosed inside $(...); nlpp is a pointer to the head of the linked</span></div>
<div class="line"><a name="l13001"></a><span class="lineno">13001</span>&#160;<span class="comment"> * list of commands (passed by reference), and savelen is the number of</span></div>
<div class="line"><a name="l13002"></a><span class="lineno">13002</span>&#160;<span class="comment"> * characters on the top of the stack which must be preserved.</span></div>
<div class="line"><a name="l13003"></a><span class="lineno">13003</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l13004"></a><span class="lineno">13004</span>&#160;parsebackq: {</div>
<div class="line"><a name="l13005"></a><span class="lineno">13005</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a> **nlpp;</div>
<div class="line"><a name="l13006"></a><span class="lineno">13006</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l13007"></a><span class="lineno">13007</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>;</div>
<div class="line"><a name="l13008"></a><span class="lineno">13008</span>&#160;    <span class="keywordtype">size_t</span> savelen;</div>
<div class="line"><a name="l13009"></a><span class="lineno">13009</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a> *saveheredoclist;</div>
<div class="line"><a name="l13010"></a><span class="lineno">13010</span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> saveprompt = 0;</div>
<div class="line"><a name="l13011"></a><span class="lineno">13011</span>&#160; </div>
<div class="line"><a name="l13012"></a><span class="lineno">13012</span>&#160;    <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l13013"></a><span class="lineno">13013</span>&#160;    savelen = <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a> - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l13014"></a><span class="lineno">13014</span>&#160;    <span class="keywordflow">if</span> (savelen &gt; 0) {</div>
<div class="line"><a name="l13015"></a><span class="lineno">13015</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l13016"></a><span class="lineno">13016</span>&#160;<span class="comment">         * FIXME: this can allocate very large block on stack and SEGV.</span></div>
<div class="line"><a name="l13017"></a><span class="lineno">13017</span>&#160;<span class="comment">         * Example:</span></div>
<div class="line"><a name="l13018"></a><span class="lineno">13018</span>&#160;<span class="comment">         * echo &quot;..&lt;100kbytes&gt;..`true` $(true) `true` ...&quot;</span></div>
<div class="line"><a name="l13019"></a><span class="lineno">13019</span>&#160;<span class="comment">         * allocates 100kb for every command subst. With about</span></div>
<div class="line"><a name="l13020"></a><span class="lineno">13020</span>&#160;<span class="comment">         * a hundred command substitutions stack overflows.</span></div>
<div class="line"><a name="l13021"></a><span class="lineno">13021</span>&#160;<span class="comment">         * With larger prepended string, SEGV happens sooner.</span></div>
<div class="line"><a name="l13022"></a><span class="lineno">13022</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l13023"></a><span class="lineno">13023</span>&#160;        <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a03a200320a749aaf2faa1d1719ffb4de">alloca</a>(savelen);</div>
<div class="line"><a name="l13024"></a><span class="lineno">13024</span>&#160;        <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>(), savelen);</div>
<div class="line"><a name="l13025"></a><span class="lineno">13025</span>&#160;    }</div>
<div class="line"><a name="l13026"></a><span class="lineno">13026</span>&#160; </div>
<div class="line"><a name="l13027"></a><span class="lineno">13027</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#adc0d785b973f7f6446aae1caa9dd8772">oldstyle</a>) {</div>
<div class="line"><a name="l13028"></a><span class="lineno">13028</span>&#160;        <span class="comment">/* We must read until the closing backquote, giving special</span></div>
<div class="line"><a name="l13029"></a><span class="lineno">13029</span>&#160;<span class="comment">         * treatment to some slashes, and then push the string and</span></div>
<div class="line"><a name="l13030"></a><span class="lineno">13030</span>&#160;<span class="comment">         * reread it as input, interpreting it normally.</span></div>
<div class="line"><a name="l13031"></a><span class="lineno">13031</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l13032"></a><span class="lineno">13032</span>&#160;        <span class="keywordtype">char</span> *pout;</div>
<div class="line"><a name="l13033"></a><span class="lineno">13033</span>&#160;        <span class="keywordtype">size_t</span> psavelen;</div>
<div class="line"><a name="l13034"></a><span class="lineno">13034</span>&#160;        <span class="keywordtype">char</span> *pstr;</div>
<div class="line"><a name="l13035"></a><span class="lineno">13035</span>&#160; </div>
<div class="line"><a name="l13036"></a><span class="lineno">13036</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a51947f73159e14e6d1deac7c491013ac">STARTSTACKSTR</a>(pout);</div>
<div class="line"><a name="l13037"></a><span class="lineno">13037</span>&#160;        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l13038"></a><span class="lineno">13038</span>&#160;            <span class="keywordtype">int</span> pc;</div>
<div class="line"><a name="l13039"></a><span class="lineno">13039</span>&#160; </div>
<div class="line"><a name="l13040"></a><span class="lineno">13040</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a7293b0347a906fd7957e16aac7c5243e">setprompt_if</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a010f966b977f7398eca0ffd8997421d1">needprompt</a>, 2);</div>
<div class="line"><a name="l13041"></a><span class="lineno">13041</span>&#160;            pc = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l13042"></a><span class="lineno">13042</span>&#160;            <span class="keywordflow">switch</span> (pc) {</div>
<div class="line"><a name="l13043"></a><span class="lineno">13043</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;`&#39;</span>:</div>
<div class="line"><a name="l13044"></a><span class="lineno">13044</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="../../d1/d47/fileman_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><a name="l13045"></a><span class="lineno">13045</span>&#160; </div>
<div class="line"><a name="l13046"></a><span class="lineno">13046</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;\\&#39;</span>:</div>
<div class="line"><a name="l13047"></a><span class="lineno">13047</span>&#160;                pc = <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>(); <span class="comment">/* not pgetc_eatbnl! */</span></div>
<div class="line"><a name="l13048"></a><span class="lineno">13048</span>&#160;                <span class="keywordflow">if</span> (pc != <span class="charliteral">&#39;\\&#39;</span> &amp;&amp; pc != <span class="charliteral">&#39;`&#39;</span> &amp;&amp; pc != <span class="charliteral">&#39;$&#39;</span></div>
<div class="line"><a name="l13049"></a><span class="lineno">13049</span>&#160;                 &amp;&amp; (!<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">dblquote</a> || pc != <span class="charliteral">&#39;&quot;&#39;</span>)</div>
<div class="line"><a name="l13050"></a><span class="lineno">13050</span>&#160;                ) {</div>
<div class="line"><a name="l13051"></a><span class="lineno">13051</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(<span class="charliteral">&#39;\\&#39;</span>, pout);</div>
<div class="line"><a name="l13052"></a><span class="lineno">13052</span>&#160;                }</div>
<div class="line"><a name="l13053"></a><span class="lineno">13053</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13054"></a><span class="lineno">13054</span>&#160; </div>
<div class="line"><a name="l13055"></a><span class="lineno">13055</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a>:</div>
<div class="line"><a name="l13056"></a><span class="lineno">13056</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a>(<span class="stringliteral">&quot;EOF in backquote substitution&quot;</span>);</div>
<div class="line"><a name="l13057"></a><span class="lineno">13057</span>&#160; </div>
<div class="line"><a name="l13058"></a><span class="lineno">13058</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:</div>
<div class="line"><a name="l13059"></a><span class="lineno">13059</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a632784d42b5406b264f72edcf19c8e9c">nlnoprompt</a>();</div>
<div class="line"><a name="l13060"></a><span class="lineno">13060</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13061"></a><span class="lineno">13061</span>&#160; </div>
<div class="line"><a name="l13062"></a><span class="lineno">13062</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l13063"></a><span class="lineno">13063</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13064"></a><span class="lineno">13064</span>&#160;            }</div>
<div class="line"><a name="l13065"></a><span class="lineno">13065</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(pc, pout);</div>
<div class="line"><a name="l13066"></a><span class="lineno">13066</span>&#160;        }</div>
<div class="line"><a name="l13067"></a><span class="lineno">13067</span>&#160; <a class="code" href="../../d1/d47/fileman_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>:</div>
<div class="line"><a name="l13068"></a><span class="lineno">13068</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(<span class="charliteral">&#39;\0&#39;</span>, pout);</div>
<div class="line"><a name="l13069"></a><span class="lineno">13069</span>&#160;        psavelen = pout - (<span class="keywordtype">char</span> *)<a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l13070"></a><span class="lineno">13070</span>&#160;        <span class="keywordflow">if</span> (psavelen &gt; 0) {</div>
<div class="line"><a name="l13071"></a><span class="lineno">13071</span>&#160;            pstr = <a class="code" href="../../d1/dbe/ash_8c.html#a7b5f8bbd363271d352ea79580f1f0cd4">grabstackstr</a>(pout);</div>
<div class="line"><a name="l13072"></a><span class="lineno">13072</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a1070a329ea02c16e7a6b8a1cf4ff96b0">setinputstring</a>(pstr);</div>
<div class="line"><a name="l13073"></a><span class="lineno">13073</span>&#160;        }</div>
<div class="line"><a name="l13074"></a><span class="lineno">13074</span>&#160;    }</div>
<div class="line"><a name="l13075"></a><span class="lineno">13075</span>&#160;    nlpp = &amp;bqlist;</div>
<div class="line"><a name="l13076"></a><span class="lineno">13076</span>&#160;    <span class="keywordflow">while</span> (*nlpp)</div>
<div class="line"><a name="l13077"></a><span class="lineno">13077</span>&#160;        nlpp = &amp;(*nlpp)-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">next</a>;</div>
<div class="line"><a name="l13078"></a><span class="lineno">13078</span>&#160;    *nlpp = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(**nlpp));</div>
<div class="line"><a name="l13079"></a><span class="lineno">13079</span>&#160;    <span class="comment">/* (*nlpp)-&gt;next = NULL; - stzalloc did it */</span></div>
<div class="line"><a name="l13080"></a><span class="lineno">13080</span>&#160; </div>
<div class="line"><a name="l13081"></a><span class="lineno">13081</span>&#160;    saveheredoclist = <a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a>;</div>
<div class="line"><a name="l13082"></a><span class="lineno">13082</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l13083"></a><span class="lineno">13083</span>&#160; </div>
<div class="line"><a name="l13084"></a><span class="lineno">13084</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#adc0d785b973f7f6446aae1caa9dd8772">oldstyle</a>) {</div>
<div class="line"><a name="l13085"></a><span class="lineno">13085</span>&#160;        saveprompt = <a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a>;</div>
<div class="line"><a name="l13086"></a><span class="lineno">13086</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a> = 0;</div>
<div class="line"><a name="l13087"></a><span class="lineno">13087</span>&#160;    }</div>
<div class="line"><a name="l13088"></a><span class="lineno">13088</span>&#160; </div>
<div class="line"><a name="l13089"></a><span class="lineno">13089</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(2);</div>
<div class="line"><a name="l13090"></a><span class="lineno">13090</span>&#160; </div>
<div class="line"><a name="l13091"></a><span class="lineno">13091</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#adc0d785b973f7f6446aae1caa9dd8772">oldstyle</a>)</div>
<div class="line"><a name="l13092"></a><span class="lineno">13092</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a> = saveprompt;</div>
<div class="line"><a name="l13093"></a><span class="lineno">13093</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13094"></a><span class="lineno">13094</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>() != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f">TRP</a>)</div>
<div class="line"><a name="l13095"></a><span class="lineno">13095</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f">TRP</a>);</div>
<div class="line"><a name="l13096"></a><span class="lineno">13096</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a1070a329ea02c16e7a6b8a1cf4ff96b0">setinputstring</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>);</div>
<div class="line"><a name="l13097"></a><span class="lineno">13097</span>&#160;    }</div>
<div class="line"><a name="l13098"></a><span class="lineno">13098</span>&#160; </div>
<div class="line"><a name="l13099"></a><span class="lineno">13099</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a603c010a5c63da6598ae8bbc4e700aee">parseheredoc</a>();</div>
<div class="line"><a name="l13100"></a><span class="lineno">13100</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a> = saveheredoclist;</div>
<div class="line"><a name="l13101"></a><span class="lineno">13101</span>&#160; </div>
<div class="line"><a name="l13102"></a><span class="lineno">13102</span>&#160;    (*nlpp)-&gt;n = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l13103"></a><span class="lineno">13103</span>&#160;    <span class="comment">/* Start reading from old file again. */</span></div>
<div class="line"><a name="l13104"></a><span class="lineno">13104</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a941a7cfd89c5c8522aaec5404ee554f4">popfile</a>();</div>
<div class="line"><a name="l13105"></a><span class="lineno">13105</span>&#160;    <span class="comment">/* Ignore any pushed back tokens left from the backquote parsing. */</span></div>
<div class="line"><a name="l13106"></a><span class="lineno">13106</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#adc0d785b973f7f6446aae1caa9dd8772">oldstyle</a>)</div>
<div class="line"><a name="l13107"></a><span class="lineno">13107</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 0;</div>
<div class="line"><a name="l13108"></a><span class="lineno">13108</span>&#160;    <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a> = <a class="code" href="../../d1/dbe/ash_8c.html#abf7ce6bae45c1abc22e3097c86c9ca92">growstackto</a>(savelen + 1);</div>
<div class="line"><a name="l13109"></a><span class="lineno">13109</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>) {</div>
<div class="line"><a name="l13110"></a><span class="lineno">13110</span>&#160;        <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>, <a class="code" href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a>, savelen);</div>
<div class="line"><a name="l13111"></a><span class="lineno">13111</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f">STADJUST</a>(savelen, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l13112"></a><span class="lineno">13112</span>&#160;    }</div>
<div class="line"><a name="l13113"></a><span class="lineno">13113</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l13114"></a><span class="lineno">13114</span>&#160;    <span class="keywordflow">if</span> (style == PSUB)</div>
<div class="line"><a name="l13115"></a><span class="lineno">13115</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;&lt;&#39;</span> ? CTLFROMPROC : CTLTOPROC, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l13116"></a><span class="lineno">13116</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l13117"></a><span class="lineno">13117</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13118"></a><span class="lineno">13118</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l13119"></a><span class="lineno">13119</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#adc0d785b973f7f6446aae1caa9dd8772">oldstyle</a>)</div>
<div class="line"><a name="l13120"></a><span class="lineno">13120</span>&#160;        <span class="keywordflow">goto</span> parsebackq_oldreturn;</div>
<div class="line"><a name="l13121"></a><span class="lineno">13121</span>&#160;<span class="preprocessor">#if BASH_PROCESS_SUBST</span></div>
<div class="line"><a name="l13122"></a><span class="lineno">13122</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (style == PSUB)</div>
<div class="line"><a name="l13123"></a><span class="lineno">13123</span>&#160;        <span class="keywordflow">goto</span> parsebackq_psreturn;</div>
<div class="line"><a name="l13124"></a><span class="lineno">13124</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13125"></a><span class="lineno">13125</span>&#160;    <span class="keywordflow">goto</span> parsebackq_newreturn;</div>
<div class="line"><a name="l13126"></a><span class="lineno">13126</span>&#160;}</div>
<div class="line"><a name="l13127"></a><span class="lineno">13127</span>&#160; </div>
<div class="line"><a name="l13128"></a><span class="lineno">13128</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l13129"></a><span class="lineno">13129</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l13130"></a><span class="lineno">13130</span>&#160;<span class="comment"> * Parse an arithmetic expansion (indicate start of one and set state)</span></div>
<div class="line"><a name="l13131"></a><span class="lineno">13131</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l13132"></a><span class="lineno">13132</span>&#160;parsearith: {</div>
<div class="line"><a name="l13133"></a><span class="lineno">13133</span>&#160; </div>
<div class="line"><a name="l13134"></a><span class="lineno">13134</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac007015723838d344bebdf44dccf8e8b">synstack_push</a>(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>,</div>
<div class="line"><a name="l13135"></a><span class="lineno">13135</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a8168bc1def8480b9821d9b119eb6a96b">prev</a> ?: <a class="code" href="../../d0/d32/dcigettext_8c.html#a03a200320a749aaf2faa1d1719ffb4de">alloca</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>)),</div>
<div class="line"><a name="l13136"></a><span class="lineno">13136</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a341ac5757fa89c680495bed4c78fde00">ARISYNTAX</a>);</div>
<div class="line"><a name="l13137"></a><span class="lineno">13137</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">dblquote</a> = 1;</div>
<div class="line"><a name="l13138"></a><span class="lineno">13138</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a61d50a8e339a2b23161570aa7ce7286a">CTLARI</a>, <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l13139"></a><span class="lineno">13139</span>&#160;    <span class="keywordflow">goto</span> parsearith_return;</div>
<div class="line"><a name="l13140"></a><span class="lineno">13140</span>&#160;}</div>
<div class="line"><a name="l13141"></a><span class="lineno">13141</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13142"></a><span class="lineno">13142</span>&#160;} <span class="comment">/* end of readtoken */</span></div>
<div class="line"><a name="l13143"></a><span class="lineno">13143</span>&#160; </div>
<div class="line"><a name="l13144"></a><span class="lineno">13144</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l13145"></a><span class="lineno">13145</span>&#160;<span class="comment"> * Read the next input token.</span></div>
<div class="line"><a name="l13146"></a><span class="lineno">13146</span>&#160;<span class="comment"> * If the token is a word, we set backquotelist to the list of cmds in</span></div>
<div class="line"><a name="l13147"></a><span class="lineno">13147</span>&#160;<span class="comment"> *      backquotes.  We set quoteflag to true if any part of the word was</span></div>
<div class="line"><a name="l13148"></a><span class="lineno">13148</span>&#160;<span class="comment"> *      quoted.</span></div>
<div class="line"><a name="l13149"></a><span class="lineno">13149</span>&#160;<span class="comment"> * If the token is TREDIR, then we set redirnode to a structure containing</span></div>
<div class="line"><a name="l13150"></a><span class="lineno">13150</span>&#160;<span class="comment"> *      the redirection.</span></div>
<div class="line"><a name="l13151"></a><span class="lineno">13151</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l13152"></a><span class="lineno">13152</span>&#160;<span class="comment"> * [Change comment:  here documents and internal procedures]</span></div>
<div class="line"><a name="l13153"></a><span class="lineno">13153</span>&#160;<span class="comment"> * [Readtoken shouldn&#39;t have any arguments.  Perhaps we should make the</span></div>
<div class="line"><a name="l13154"></a><span class="lineno">13154</span>&#160;<span class="comment"> *  word parsing code into a separate routine.  In this case, readtoken</span></div>
<div class="line"><a name="l13155"></a><span class="lineno">13155</span>&#160;<span class="comment"> *  doesn&#39;t need to have any internal procedures, but parseword does.</span></div>
<div class="line"><a name="l13156"></a><span class="lineno">13156</span>&#160;<span class="comment"> *  We could also make parseoperator in essence the main routine, and</span></div>
<div class="line"><a name="l13157"></a><span class="lineno">13157</span>&#160;<span class="comment"> *  have parseword (readtoken1?) handle both words and redirection.]</span></div>
<div class="line"><a name="l13158"></a><span class="lineno">13158</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l13159"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a927dcdbb9881a9751c6d568a5f5ff20a">13159</a></span>&#160;<span class="preprocessor">#define NEW_xxreadtoken</span></div>
<div class="line"><a name="l13160"></a><span class="lineno">13160</span>&#160;<span class="preprocessor">#ifdef NEW_xxreadtoken</span></div>
<div class="line"><a name="l13161"></a><span class="lineno">13161</span>&#160;<span class="comment">/* singles must be first! */</span></div>
<div class="line"><a name="l13162"></a><span class="lineno">13162</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> xxreadtoken_chars[7] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = {</div>
<div class="line"><a name="l13163"></a><span class="lineno">13163</span>&#160;    <span class="charliteral">&#39;\n&#39;</span>, <span class="charliteral">&#39;(&#39;</span>, <span class="charliteral">&#39;)&#39;</span>, <span class="comment">/* singles */</span></div>
<div class="line"><a name="l13164"></a><span class="lineno">13164</span>&#160;    <span class="charliteral">&#39;&amp;&#39;</span>, <span class="charliteral">&#39;|&#39;</span>, <span class="charliteral">&#39;;&#39;</span>,  <span class="comment">/* doubles */</span></div>
<div class="line"><a name="l13165"></a><span class="lineno">13165</span>&#160;    0</div>
<div class="line"><a name="l13166"></a><span class="lineno">13166</span>&#160;};</div>
<div class="line"><a name="l13167"></a><span class="lineno">13167</span>&#160; </div>
<div class="line"><a name="l13168"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acc8e6af1840d2c33a9b9c26b9160c5c0">13168</a></span>&#160;<span class="preprocessor">#define xxreadtoken_singles 3</span></div>
<div class="line"><a name="l13169"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a14851ae043d4c3f5029162355ab5615e">13169</a></span>&#160;<span class="preprocessor">#define xxreadtoken_doubles 3</span></div>
<div class="line"><a name="l13170"></a><span class="lineno">13170</span>&#160; </div>
<div class="line"><a name="l13171"></a><span class="lineno">13171</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> xxreadtoken_tokens[] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = {</div>
<div class="line"><a name="l13172"></a><span class="lineno">13172</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9c265fee2fb017a2bb60009f14fbe4f5">TNL</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac71b97e296bc873da6a08ed2840c8bde">TLP</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f">TRP</a>,          <span class="comment">/* only single occurrence allowed */</span></div>
<div class="line"><a name="l13173"></a><span class="lineno">13173</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dae717a5a56d7677f7a2fe53be12c22124">TBACKGND</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da5093e34df6d582f2fc69070de1af0cfd">TPIPE</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da2b483d6d5c6d950ba6db81a369a1ec78">TSEMI</a>, <span class="comment">/* if single occurrence */</span></div>
<div class="line"><a name="l13174"></a><span class="lineno">13174</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da97170420678b0672ad01fcdef5b3b042">TEOF</a>,                   <span class="comment">/* corresponds to trailing nul */</span></div>
<div class="line"><a name="l13175"></a><span class="lineno">13175</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac83acf67a25689b50ade68bb2c59391f">TAND</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dada27aaee300d100894b7052b2063d6dd">TOR</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da371e7256e2b2f57ebbe61ec0a0efe1b3">TENDCASE</a>     <span class="comment">/* if double occurrence */</span></div>
<div class="line"><a name="l13176"></a><span class="lineno">13176</span>&#160;};</div>
<div class="line"><a name="l13177"></a><span class="lineno">13177</span>&#160; </div>
<div class="line"><a name="l13178"></a><span class="lineno">13178</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l13179"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ae2db2fff86b7553f8df7b11667be6203">13179</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ae2db2fff86b7553f8df7b11667be6203">xxreadtoken</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l13180"></a><span class="lineno">13180</span>&#160;{</div>
<div class="line"><a name="l13181"></a><span class="lineno">13181</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l13182"></a><span class="lineno">13182</span>&#160; </div>
<div class="line"><a name="l13183"></a><span class="lineno">13183</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a>) {</div>
<div class="line"><a name="l13184"></a><span class="lineno">13184</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 0;</div>
<div class="line"><a name="l13185"></a><span class="lineno">13185</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a>;</div>
<div class="line"><a name="l13186"></a><span class="lineno">13186</span>&#160;    }</div>
<div class="line"><a name="l13187"></a><span class="lineno">13187</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7293b0347a906fd7957e16aac7c5243e">setprompt_if</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a010f966b977f7398eca0ffd8997421d1">needprompt</a>, 2);</div>
<div class="line"><a name="l13188"></a><span class="lineno">13188</span>&#160;    <span class="keywordflow">for</span> (;;) {                      <span class="comment">/* until token or start of word found */</span></div>
<div class="line"><a name="l13189"></a><span class="lineno">13189</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l13190"></a><span class="lineno">13190</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39; &#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\t&#39;</span>)</div>
<div class="line"><a name="l13191"></a><span class="lineno">13191</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13192"></a><span class="lineno">13192</span>&#160; </div>
<div class="line"><a name="l13193"></a><span class="lineno">13193</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;#&#39;</span>) {</div>
<div class="line"><a name="l13194"></a><span class="lineno">13194</span>&#160;            <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>()) != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a>)</div>
<div class="line"><a name="l13195"></a><span class="lineno">13195</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13196"></a><span class="lineno">13196</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l13197"></a><span class="lineno">13197</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\\&#39;</span>) {</div>
<div class="line"><a name="l13198"></a><span class="lineno">13198</span>&#160;            <span class="keywordflow">break</span>; <span class="comment">/* return readtoken1(...) */</span></div>
<div class="line"><a name="l13199"></a><span class="lineno">13199</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13200"></a><span class="lineno">13200</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l13201"></a><span class="lineno">13201</span>&#160; </div>
<div class="line"><a name="l13202"></a><span class="lineno">13202</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = xxreadtoken_chars + <span class="keyword">sizeof</span>(xxreadtoken_chars) - 1;</div>
<div class="line"><a name="l13203"></a><span class="lineno">13203</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a>) {</div>
<div class="line"><a name="l13204"></a><span class="lineno">13204</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l13205"></a><span class="lineno">13205</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a632784d42b5406b264f72edcf19c8e9c">nlnoprompt</a>();</div>
<div class="line"><a name="l13206"></a><span class="lineno">13206</span>&#160;                }</div>
<div class="line"><a name="l13207"></a><span class="lineno">13207</span>&#160; </div>
<div class="line"><a name="l13208"></a><span class="lineno">13208</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(xxreadtoken_chars, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l13209"></a><span class="lineno">13209</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l13210"></a><span class="lineno">13210</span>&#160;                    <span class="keywordflow">break</span>; <span class="comment">/* return readtoken1(...) */</span></div>
<div class="line"><a name="l13211"></a><span class="lineno">13211</span>&#160; </div>
<div class="line"><a name="l13212"></a><span class="lineno">13212</span>&#160;                <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - xxreadtoken_chars) &gt;= <a class="code" href="../../d1/dbe/ash_8c.html#acc8e6af1840d2c33a9b9c26b9160c5c0">xxreadtoken_singles</a>) {</div>
<div class="line"><a name="l13213"></a><span class="lineno">13213</span>&#160;                    <span class="keywordtype">int</span> cc = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l13214"></a><span class="lineno">13214</span>&#160;                    <span class="keywordflow">if</span> (cc == <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {    <span class="comment">/* double occurrence? */</span></div>
<div class="line"><a name="l13215"></a><span class="lineno">13215</span>&#160;                        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += <a class="code" href="../../d1/dbe/ash_8c.html#a14851ae043d4c3f5029162355ab5615e">xxreadtoken_doubles</a> + 1;</div>
<div class="line"><a name="l13216"></a><span class="lineno">13216</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13217"></a><span class="lineno">13217</span>&#160;                        <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l13218"></a><span class="lineno">13218</span>&#160;<span class="preprocessor">#if BASH_REDIR_OUTPUT</span></div>
<div class="line"><a name="l13219"></a><span class="lineno">13219</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;&amp;&#39;</span> &amp;&amp; cc == <span class="charliteral">&#39;&gt;&#39;</span>) <span class="comment">/* &amp;&gt; */</span></div>
<div class="line"><a name="l13220"></a><span class="lineno">13220</span>&#160;                            <span class="keywordflow">break</span>; <span class="comment">/* return readtoken1(...) */</span></div>
<div class="line"><a name="l13221"></a><span class="lineno">13221</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13222"></a><span class="lineno">13222</span>&#160;                    }</div>
<div class="line"><a name="l13223"></a><span class="lineno">13223</span>&#160;                }</div>
<div class="line"><a name="l13224"></a><span class="lineno">13224</span>&#160;            }</div>
<div class="line"><a name="l13225"></a><span class="lineno">13225</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> = xxreadtoken_tokens[<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - xxreadtoken_chars];</div>
<div class="line"><a name="l13226"></a><span class="lineno">13226</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a>;</div>
<div class="line"><a name="l13227"></a><span class="lineno">13227</span>&#160;        }</div>
<div class="line"><a name="l13228"></a><span class="lineno">13228</span>&#160;    } <span class="comment">/* for (;;) */</span></div>
<div class="line"><a name="l13229"></a><span class="lineno">13229</span>&#160; </div>
<div class="line"><a name="l13230"></a><span class="lineno">13230</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a94416c74a0e29bcd06ac8a08f12e3284">readtoken1</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d1/dbe/ash_8c.html#aabad2b9b4fa22108df171bbcd6384722">BASESYNTAX</a>, (<span class="keywordtype">char</span> *) <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l13231"></a><span class="lineno">13231</span>&#160;}</div>
<div class="line"><a name="l13232"></a><span class="lineno">13232</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* old xxreadtoken */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l13233"></a><span class="lineno">13233</span>&#160;<span class="preprocessor">#define RETURN(token)   return lasttoken = token</span></div>
<div class="line"><a name="l13234"></a><span class="lineno">13234</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l13235"></a><span class="lineno">13235</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ae2db2fff86b7553f8df7b11667be6203">xxreadtoken</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l13236"></a><span class="lineno">13236</span>&#160;{</div>
<div class="line"><a name="l13237"></a><span class="lineno">13237</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l13238"></a><span class="lineno">13238</span>&#160; </div>
<div class="line"><a name="l13239"></a><span class="lineno">13239</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a>) {</div>
<div class="line"><a name="l13240"></a><span class="lineno">13240</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 0;</div>
<div class="line"><a name="l13241"></a><span class="lineno">13241</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a>;</div>
<div class="line"><a name="l13242"></a><span class="lineno">13242</span>&#160;    }</div>
<div class="line"><a name="l13243"></a><span class="lineno">13243</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7293b0347a906fd7957e16aac7c5243e">setprompt_if</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a010f966b977f7398eca0ffd8997421d1">needprompt</a>, 2);</div>
<div class="line"><a name="l13244"></a><span class="lineno">13244</span>&#160;    <span class="keywordflow">for</span> (;;) {      <span class="comment">/* until token or start of word found */</span></div>
<div class="line"><a name="l13245"></a><span class="lineno">13245</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>();</div>
<div class="line"><a name="l13246"></a><span class="lineno">13246</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {</div>
<div class="line"><a name="l13247"></a><span class="lineno">13247</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39; &#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;\t&#39;</span>:</div>
<div class="line"><a name="l13248"></a><span class="lineno">13248</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13249"></a><span class="lineno">13249</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;#&#39;</span>:</div>
<div class="line"><a name="l13250"></a><span class="lineno">13250</span>&#160;            <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>()) != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a>)</div>
<div class="line"><a name="l13251"></a><span class="lineno">13251</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13252"></a><span class="lineno">13252</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l13253"></a><span class="lineno">13253</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13254"></a><span class="lineno">13254</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:</div>
<div class="line"><a name="l13255"></a><span class="lineno">13255</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a632784d42b5406b264f72edcf19c8e9c">nlnoprompt</a>();</div>
<div class="line"><a name="l13256"></a><span class="lineno">13256</span>&#160;            <a class="code" href="../../d7/d6e/chardefs_8h.html#a6a0e6b80dd3d5ca395cf58151749f5e2">RETURN</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9c265fee2fb017a2bb60009f14fbe4f5">TNL</a>);</div>
<div class="line"><a name="l13257"></a><span class="lineno">13257</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a>:</div>
<div class="line"><a name="l13258"></a><span class="lineno">13258</span>&#160;            <a class="code" href="../../d7/d6e/chardefs_8h.html#a6a0e6b80dd3d5ca395cf58151749f5e2">RETURN</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da97170420678b0672ad01fcdef5b3b042">TEOF</a>);</div>
<div class="line"><a name="l13259"></a><span class="lineno">13259</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;&amp;&#39;</span>:</div>
<div class="line"><a name="l13260"></a><span class="lineno">13260</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>() == <span class="charliteral">&#39;&amp;&#39;</span>)</div>
<div class="line"><a name="l13261"></a><span class="lineno">13261</span>&#160;                <a class="code" href="../../d7/d6e/chardefs_8h.html#a6a0e6b80dd3d5ca395cf58151749f5e2">RETURN</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac83acf67a25689b50ade68bb2c59391f">TAND</a>);</div>
<div class="line"><a name="l13262"></a><span class="lineno">13262</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l13263"></a><span class="lineno">13263</span>&#160;            <a class="code" href="../../d7/d6e/chardefs_8h.html#a6a0e6b80dd3d5ca395cf58151749f5e2">RETURN</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dae717a5a56d7677f7a2fe53be12c22124">TBACKGND</a>);</div>
<div class="line"><a name="l13264"></a><span class="lineno">13264</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;|&#39;</span>:</div>
<div class="line"><a name="l13265"></a><span class="lineno">13265</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>() == <span class="charliteral">&#39;|&#39;</span>)</div>
<div class="line"><a name="l13266"></a><span class="lineno">13266</span>&#160;                <a class="code" href="../../d7/d6e/chardefs_8h.html#a6a0e6b80dd3d5ca395cf58151749f5e2">RETURN</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dada27aaee300d100894b7052b2063d6dd">TOR</a>);</div>
<div class="line"><a name="l13267"></a><span class="lineno">13267</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l13268"></a><span class="lineno">13268</span>&#160;            <a class="code" href="../../d7/d6e/chardefs_8h.html#a6a0e6b80dd3d5ca395cf58151749f5e2">RETURN</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da5093e34df6d582f2fc69070de1af0cfd">TPIPE</a>);</div>
<div class="line"><a name="l13269"></a><span class="lineno">13269</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;;&#39;</span>:</div>
<div class="line"><a name="l13270"></a><span class="lineno">13270</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>() == <span class="charliteral">&#39;;&#39;</span>)</div>
<div class="line"><a name="l13271"></a><span class="lineno">13271</span>&#160;                <a class="code" href="../../d7/d6e/chardefs_8h.html#a6a0e6b80dd3d5ca395cf58151749f5e2">RETURN</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da371e7256e2b2f57ebbe61ec0a0efe1b3">TENDCASE</a>);</div>
<div class="line"><a name="l13272"></a><span class="lineno">13272</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a>();</div>
<div class="line"><a name="l13273"></a><span class="lineno">13273</span>&#160;            <a class="code" href="../../d7/d6e/chardefs_8h.html#a6a0e6b80dd3d5ca395cf58151749f5e2">RETURN</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da2b483d6d5c6d950ba6db81a369a1ec78">TSEMI</a>);</div>
<div class="line"><a name="l13274"></a><span class="lineno">13274</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;(&#39;</span>:</div>
<div class="line"><a name="l13275"></a><span class="lineno">13275</span>&#160;            <a class="code" href="../../d7/d6e/chardefs_8h.html#a6a0e6b80dd3d5ca395cf58151749f5e2">RETURN</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac71b97e296bc873da6a08ed2840c8bde">TLP</a>);</div>
<div class="line"><a name="l13276"></a><span class="lineno">13276</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;)&#39;</span>:</div>
<div class="line"><a name="l13277"></a><span class="lineno">13277</span>&#160;            <a class="code" href="../../d7/d6e/chardefs_8h.html#a6a0e6b80dd3d5ca395cf58151749f5e2">RETURN</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f">TRP</a>);</div>
<div class="line"><a name="l13278"></a><span class="lineno">13278</span>&#160;        }</div>
<div class="line"><a name="l13279"></a><span class="lineno">13279</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13280"></a><span class="lineno">13280</span>&#160;    }</div>
<div class="line"><a name="l13281"></a><span class="lineno">13281</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a94416c74a0e29bcd06ac8a08f12e3284">readtoken1</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d1/dbe/ash_8c.html#aabad2b9b4fa22108df171bbcd6384722">BASESYNTAX</a>, (<span class="keywordtype">char</span> *)<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l13282"></a><span class="lineno">13282</span>&#160;<span class="preprocessor">#undef RETURN</span></div>
<div class="line"><a name="l13283"></a><span class="lineno">13283</span>&#160;}</div>
<div class="line"><a name="l13284"></a><span class="lineno">13284</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* old xxreadtoken */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l13285"></a><span class="lineno">13285</span>&#160; </div>
<div class="line"><a name="l13286"></a><span class="lineno">13286</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l13287"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">13287</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l13288"></a><span class="lineno">13288</span>&#160;{</div>
<div class="line"><a name="l13289"></a><span class="lineno">13289</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l13290"></a><span class="lineno">13290</span>&#160;    <span class="keywordtype">int</span> kwd = <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a>;</div>
<div class="line"><a name="l13291"></a><span class="lineno">13291</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l13292"></a><span class="lineno">13292</span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> alreadyseen = <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a>;</div>
<div class="line"><a name="l13293"></a><span class="lineno">13293</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13294"></a><span class="lineno">13294</span>&#160; </div>
<div class="line"><a name="l13295"></a><span class="lineno">13295</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l13296"></a><span class="lineno">13296</span>&#160; <a class="code" href="../../d2/d78/p__spec_8h.html#a61be60bd0fc3c2a1b8637d2bee8ea317a3961740aa293a50c701d278225f7050a">top</a>:</div>
<div class="line"><a name="l13297"></a><span class="lineno">13297</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13298"></a><span class="lineno">13298</span>&#160; </div>
<div class="line"><a name="l13299"></a><span class="lineno">13299</span>&#160;    <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae2db2fff86b7553f8df7b11667be6203">xxreadtoken</a>();</div>
<div class="line"><a name="l13300"></a><span class="lineno">13300</span>&#160; </div>
<div class="line"><a name="l13301"></a><span class="lineno">13301</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l13302"></a><span class="lineno">13302</span>&#160;<span class="comment">     * eat newlines</span></div>
<div class="line"><a name="l13303"></a><span class="lineno">13303</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l13304"></a><span class="lineno">13304</span>&#160;    <span class="keywordflow">if</span> (kwd &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">CHKNL</a>) {</div>
<div class="line"><a name="l13305"></a><span class="lineno">13305</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9c265fee2fb017a2bb60009f14fbe4f5">TNL</a>) {</div>
<div class="line"><a name="l13306"></a><span class="lineno">13306</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a603c010a5c63da6598ae8bbc4e700aee">parseheredoc</a>();</div>
<div class="line"><a name="l13307"></a><span class="lineno">13307</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = 0;</div>
<div class="line"><a name="l13308"></a><span class="lineno">13308</span>&#160;            <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae2db2fff86b7553f8df7b11667be6203">xxreadtoken</a>();</div>
<div class="line"><a name="l13309"></a><span class="lineno">13309</span>&#160;        }</div>
<div class="line"><a name="l13310"></a><span class="lineno">13310</span>&#160;    }</div>
<div class="line"><a name="l13311"></a><span class="lineno">13311</span>&#160; </div>
<div class="line"><a name="l13312"></a><span class="lineno">13312</span>&#160;    kwd |= <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a>;</div>
<div class="line"><a name="l13313"></a><span class="lineno">13313</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = 0;</div>
<div class="line"><a name="l13314"></a><span class="lineno">13314</span>&#160; </div>
<div class="line"><a name="l13315"></a><span class="lineno">13315</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a> || <a class="code" href="../../d1/dbe/ash_8c.html#ab800e4a3e8f20f26c2faf500c41f654b">quoteflag</a>) {</div>
<div class="line"><a name="l13316"></a><span class="lineno">13316</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l13317"></a><span class="lineno">13317</span>&#160;    }</div>
<div class="line"><a name="l13318"></a><span class="lineno">13318</span>&#160; </div>
<div class="line"><a name="l13319"></a><span class="lineno">13319</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l13320"></a><span class="lineno">13320</span>&#160;<span class="comment">     * check for keywords</span></div>
<div class="line"><a name="l13321"></a><span class="lineno">13321</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l13322"></a><span class="lineno">13322</span>&#160;    <span class="keywordflow">if</span> (kwd &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a>) {</div>
<div class="line"><a name="l13323"></a><span class="lineno">13323</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> *pp;</div>
<div class="line"><a name="l13324"></a><span class="lineno">13324</span>&#160; </div>
<div class="line"><a name="l13325"></a><span class="lineno">13325</span>&#160;        pp = <a class="code" href="../../d1/dbe/ash_8c.html#a319d06dfb0e179e02276d71fca6792ce">findkwd</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>);</div>
<div class="line"><a name="l13326"></a><span class="lineno">13326</span>&#160;        <span class="keywordflow">if</span> (pp) {</div>
<div class="line"><a name="l13327"></a><span class="lineno">13327</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> = <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = pp - tokname_array;</div>
<div class="line"><a name="l13328"></a><span class="lineno">13328</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;keyword &#39;%s&#39; recognized\n&quot;</span>, tokname_array[<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>]));</div>
<div class="line"><a name="l13329"></a><span class="lineno">13329</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l13330"></a><span class="lineno">13330</span>&#160;        }</div>
<div class="line"><a name="l13331"></a><span class="lineno">13331</span>&#160;    }</div>
<div class="line"><a name="l13332"></a><span class="lineno">13332</span>&#160; </div>
<div class="line"><a name="l13333"></a><span class="lineno">13333</span>&#160;    <span class="keywordflow">if</span> (kwd &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a>) {</div>
<div class="line"><a name="l13334"></a><span class="lineno">13334</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l13335"></a><span class="lineno">13335</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a> *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l13336"></a><span class="lineno">13336</span>&#160;        <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = lookupalias(<a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>, 1);</div>
<div class="line"><a name="l13337"></a><span class="lineno">13337</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l13338"></a><span class="lineno">13338</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;val) {</div>
<div class="line"><a name="l13339"></a><span class="lineno">13339</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a6210f849e16da96e5829054b55810261">pushstring</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>-&gt;val, <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l13340"></a><span class="lineno">13340</span>&#160;            }</div>
<div class="line"><a name="l13341"></a><span class="lineno">13341</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d2/d78/p__spec_8h.html#a61be60bd0fc3c2a1b8637d2bee8ea317a3961740aa293a50c701d278225f7050a">top</a>;</div>
<div class="line"><a name="l13342"></a><span class="lineno">13342</span>&#160;        }</div>
<div class="line"><a name="l13343"></a><span class="lineno">13343</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13344"></a><span class="lineno">13344</span>&#160;    }</div>
<div class="line"><a name="l13345"></a><span class="lineno">13345</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l13346"></a><span class="lineno">13346</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l13347"></a><span class="lineno">13347</span>&#160;    <span class="keywordflow">if</span> (!alreadyseen)</div>
<div class="line"><a name="l13348"></a><span class="lineno">13348</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;token &#39;%s&#39; %s\n&quot;</span>, tokname_array[<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>], <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a> ? <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a> : <span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><a name="l13349"></a><span class="lineno">13349</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l13350"></a><span class="lineno">13350</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;reread token &#39;%s&#39; %s\n&quot;</span>, tokname_array[<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>], <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a> ? <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a> : <span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><a name="l13351"></a><span class="lineno">13351</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13352"></a><span class="lineno">13352</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l13353"></a><span class="lineno">13353</span>&#160;}</div>
<div class="line"><a name="l13354"></a><span class="lineno">13354</span>&#160; </div>
<div class="line"><a name="l13355"></a><span class="lineno">13355</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l13356"></a><span class="lineno">13356</span>&#160;<span class="comment"> * Read and parse a command.  Returns NODE_EOF on end of file.</span></div>
<div class="line"><a name="l13357"></a><span class="lineno">13357</span>&#160;<span class="comment"> * (NULL is a valid parse tree indicating a blank line.)</span></div>
<div class="line"><a name="l13358"></a><span class="lineno">13358</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l13359"></a><span class="lineno">13359</span>&#160;<span class="keyword">static</span> <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *</div>
<div class="line"><a name="l13360"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a50ddadb0e0dfd8313a2fc80ecdaf03a5">13360</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a50ddadb0e0dfd8313a2fc80ecdaf03a5">parsecmd</a>(<span class="keywordtype">int</span> interact)</div>
<div class="line"><a name="l13361"></a><span class="lineno">13361</span>&#160;{</div>
<div class="line"><a name="l13362"></a><span class="lineno">13362</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 0;</div>
<div class="line"><a name="l13363"></a><span class="lineno">13363</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a> = 0;</div>
<div class="line"><a name="l13364"></a><span class="lineno">13364</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a> = 0;</div>
<div class="line"><a name="l13365"></a><span class="lineno">13365</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a> = interact;</div>
<div class="line"><a name="l13366"></a><span class="lineno">13366</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7293b0347a906fd7957e16aac7c5243e">setprompt_if</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a>);</div>
<div class="line"><a name="l13367"></a><span class="lineno">13367</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a010f966b977f7398eca0ffd8997421d1">needprompt</a> = 0;</div>
<div class="line"><a name="l13368"></a><span class="lineno">13368</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a>(1);</div>
<div class="line"><a name="l13369"></a><span class="lineno">13369</span>&#160;}</div>
<div class="line"><a name="l13370"></a><span class="lineno">13370</span>&#160; </div>
<div class="line"><a name="l13371"></a><span class="lineno">13371</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l13372"></a><span class="lineno">13372</span>&#160;<span class="comment"> * Input any here documents.</span></div>
<div class="line"><a name="l13373"></a><span class="lineno">13373</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l13374"></a><span class="lineno">13374</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l13375"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a603c010a5c63da6598ae8bbc4e700aee">13375</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a603c010a5c63da6598ae8bbc4e700aee">parseheredoc</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l13376"></a><span class="lineno">13376</span>&#160;{</div>
<div class="line"><a name="l13377"></a><span class="lineno">13377</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a> *<a class="code" href="../../d1/dbe/ash_8c.html#a3ec365dc744a369133c23ec0aec0b676">here</a>;</div>
<div class="line"><a name="l13378"></a><span class="lineno">13378</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l13379"></a><span class="lineno">13379</span>&#160; </div>
<div class="line"><a name="l13380"></a><span class="lineno">13380</span>&#160;    here = <a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a>;</div>
<div class="line"><a name="l13381"></a><span class="lineno">13381</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l13382"></a><span class="lineno">13382</span>&#160; </div>
<div class="line"><a name="l13383"></a><span class="lineno">13383</span>&#160;    <span class="keywordflow">while</span> (here) {</div>
<div class="line"><a name="l13384"></a><span class="lineno">13384</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> = 0;</div>
<div class="line"><a name="l13385"></a><span class="lineno">13385</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a7293b0347a906fd7957e16aac7c5243e">setprompt_if</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a010f966b977f7398eca0ffd8997421d1">needprompt</a>, 2);</div>
<div class="line"><a name="l13386"></a><span class="lineno">13386</span>&#160;        <span class="keywordflow">if</span> (here-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3ec365dc744a369133c23ec0aec0b676">here</a>-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">type</a> == <a class="code" href="../../d1/dbe/ash_8c.html#ad0f81540b8a0b9ef1e2747fb93898460">NHERE</a>)</div>
<div class="line"><a name="l13387"></a><span class="lineno">13387</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a94416c74a0e29bcd06ac8a08f12e3284">readtoken1</a>(<a class="code" href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a>(), <a class="code" href="../../d1/dbe/ash_8c.html#a5679e97a6d2f4d924815b16997badb3e">SQSYNTAX</a>, here-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a063c860e30fd5623b2c6eec4501a56f1">eofmark</a>, here-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af1cdd7f1f03ead14cd403b108f4fb51e">striptabs</a>);</div>
<div class="line"><a name="l13388"></a><span class="lineno">13388</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l13389"></a><span class="lineno">13389</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a94416c74a0e29bcd06ac8a08f12e3284">readtoken1</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>(), <a class="code" href="../../d1/dbe/ash_8c.html#aaa6071f56fe3ef665c45682e2875e1c8">DQSYNTAX</a>, here-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a063c860e30fd5623b2c6eec4501a56f1">eofmark</a>, here-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#af1cdd7f1f03ead14cd403b108f4fb51e">striptabs</a>);</div>
<div class="line"><a name="l13390"></a><span class="lineno">13390</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a>));</div>
<div class="line"><a name="l13391"></a><span class="lineno">13391</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.type = <a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>;</div>
<div class="line"><a name="l13392"></a><span class="lineno">13392</span>&#160;        <span class="comment">/*n-&gt;narg.next = NULL; - stzalloc did it */</span></div>
<div class="line"><a name="l13393"></a><span class="lineno">13393</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.text = <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>;</div>
<div class="line"><a name="l13394"></a><span class="lineno">13394</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>-&gt;narg.backquote = <a class="code" href="../../d1/dbe/ash_8c.html#ad37929c69e0a2a05dd8c9a874b026ef5">backquotelist</a>;</div>
<div class="line"><a name="l13395"></a><span class="lineno">13395</span>&#160;        here-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a3ec365dc744a369133c23ec0aec0b676">here</a>-&gt;<a class="code" href="../../d3/ddd/tsearch_8h.html#aafb86ba1e51c3113c513a03d9588ca71">nhere</a>.<a class="code" href="../../d1/dbe/ash_8c.html#a9bf632f3297f9e5dc5327a548a839677">doc</a> = <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l13396"></a><span class="lineno">13396</span>&#160;        here = here-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#aac30bbb8db6ff2b8754292a3b75f21cb">next</a>;</div>
<div class="line"><a name="l13397"></a><span class="lineno">13397</span>&#160;    }</div>
<div class="line"><a name="l13398"></a><span class="lineno">13398</span>&#160;}</div>
<div class="line"><a name="l13399"></a><span class="lineno">13399</span>&#160; </div>
<div class="line"><a name="l13400"></a><span class="lineno">13400</span>&#160; </div>
<div class="line"><a name="l13401"></a><span class="lineno">13401</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l13402"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a435931295fba5edd709b9d369def7329">13402</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a435931295fba5edd709b9d369def7329">expandstr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *ps, <span class="keywordtype">int</span> syntax_type)</div>
<div class="line"><a name="l13403"></a><span class="lineno">13403</span>&#160;{</div>
<div class="line"><a name="l13404"></a><span class="lineno">13404</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a> *file_stop;</div>
<div class="line"><a name="l13405"></a><span class="lineno">13405</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> *<span class="keyword">volatile</span> savehandler;</div>
<div class="line"><a name="l13406"></a><span class="lineno">13406</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a> *saveheredoclist;</div>
<div class="line"><a name="l13407"></a><span class="lineno">13407</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *result;</div>
<div class="line"><a name="l13408"></a><span class="lineno">13408</span>&#160;    <span class="keywordtype">int</span> saveprompt;</div>
<div class="line"><a name="l13409"></a><span class="lineno">13409</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> <a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l13410"></a><span class="lineno">13410</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l13411"></a><span class="lineno">13411</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>;</div>
<div class="line"><a name="l13412"></a><span class="lineno">13412</span>&#160; </div>
<div class="line"><a name="l13413"></a><span class="lineno">13413</span>&#160;    file_stop = <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>;</div>
<div class="line"><a name="l13414"></a><span class="lineno">13414</span>&#160; </div>
<div class="line"><a name="l13415"></a><span class="lineno">13415</span>&#160;    <span class="comment">/* XXX Fix (char *) cast. */</span></div>
<div class="line"><a name="l13416"></a><span class="lineno">13416</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a1070a329ea02c16e7a6b8a1cf4ff96b0">setinputstring</a>((<span class="keywordtype">char</span> *)ps);</div>
<div class="line"><a name="l13417"></a><span class="lineno">13417</span>&#160; </div>
<div class="line"><a name="l13418"></a><span class="lineno">13418</span>&#160;    saveheredoclist = <a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a>;</div>
<div class="line"><a name="l13419"></a><span class="lineno">13419</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l13420"></a><span class="lineno">13420</span>&#160;    saveprompt = <a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a>;</div>
<div class="line"><a name="l13421"></a><span class="lineno">13421</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a> = 0;</div>
<div class="line"><a name="l13422"></a><span class="lineno">13422</span>&#160;    result = ps;</div>
<div class="line"><a name="l13423"></a><span class="lineno">13423</span>&#160;    savehandler = <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a>;</div>
<div class="line"><a name="l13424"></a><span class="lineno">13424</span>&#160;    <a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> = <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#ac7cd296b63b31ab3d8cd447e40d0eedc">setjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>.<a class="code" href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">loc</a>);</div>
<div class="line"><a name="l13425"></a><span class="lineno">13425</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a>)</div>
<div class="line"><a name="l13426"></a><span class="lineno">13426</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l13427"></a><span class="lineno">13427</span>&#160; </div>
<div class="line"><a name="l13428"></a><span class="lineno">13428</span>&#160;    <span class="comment">/* readtoken1() might die horribly.</span></div>
<div class="line"><a name="l13429"></a><span class="lineno">13429</span>&#160;<span class="comment">     * Try a prompt with syntactically wrong command:</span></div>
<div class="line"><a name="l13430"></a><span class="lineno">13430</span>&#160;<span class="comment">     * PS1=&#39;$(date &quot;+%H:%M:%S) &gt; &#39;</span></div>
<div class="line"><a name="l13431"></a><span class="lineno">13431</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l13432"></a><span class="lineno">13432</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l13433"></a><span class="lineno">13433</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a94416c74a0e29bcd06ac8a08f12e3284">readtoken1</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a>(), syntax_type, <a class="code" href="../../d1/dbe/ash_8c.html#ae2d87919ed01d489fd5b404c99f4a38c">FAKEEOFMARK</a>, 0);</div>
<div class="line"><a name="l13434"></a><span class="lineno">13434</span>&#160; </div>
<div class="line"><a name="l13435"></a><span class="lineno">13435</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>.narg.type = <a class="code" href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a>;</div>
<div class="line"><a name="l13436"></a><span class="lineno">13436</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>.narg.next = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l13437"></a><span class="lineno">13437</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>.narg.text = <a class="code" href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a>;</div>
<div class="line"><a name="l13438"></a><span class="lineno">13438</span>&#160;    <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>.narg.backquote = <a class="code" href="../../d1/dbe/ash_8c.html#ad37929c69e0a2a05dd8c9a874b026ef5">backquotelist</a>;</div>
<div class="line"><a name="l13439"></a><span class="lineno">13439</span>&#160; </div>
<div class="line"><a name="l13440"></a><span class="lineno">13440</span>&#160;    <span class="comment">/* expandarg() might fail too:</span></div>
<div class="line"><a name="l13441"></a><span class="lineno">13441</span>&#160;<span class="comment">     * PS1=&#39;$((123+))&#39;</span></div>
<div class="line"><a name="l13442"></a><span class="lineno">13442</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l13443"></a><span class="lineno">13443</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a4d5949e5678787310373e25f4ce1c935">expandarg</a>(&amp;<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a>);</div>
<div class="line"><a name="l13444"></a><span class="lineno">13444</span>&#160;    result = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l13445"></a><span class="lineno">13445</span>&#160; </div>
<div class="line"><a name="l13446"></a><span class="lineno">13446</span>&#160;<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l13447"></a><span class="lineno">13447</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = savehandler;</div>
<div class="line"><a name="l13448"></a><span class="lineno">13448</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a9feaa234caa149c15b556505f2a015db">exception_type</a> != <a class="code" href="../../d1/dbe/ash_8c.html#ade601d2771be2d1ffb456155112dcca6">EXERROR</a>)</div>
<div class="line"><a name="l13449"></a><span class="lineno">13449</span>&#160;        <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#aaf56e20169cc5a6d5c1a968e24d04623">longjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a>-&gt;loc, 1);</div>
<div class="line"><a name="l13450"></a><span class="lineno">13450</span>&#160; </div>
<div class="line"><a name="l13451"></a><span class="lineno">13451</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a> = saveprompt;</div>
<div class="line"><a name="l13452"></a><span class="lineno">13452</span>&#160;    <span class="comment">/* Try: PS1=&#39;`xxx(`&#39; */</span></div>
<div class="line"><a name="l13453"></a><span class="lineno">13453</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a2b008c5d9ff0b559e1ce662dba222d65">unwindfiles</a>(file_stop);</div>
<div class="line"><a name="l13454"></a><span class="lineno">13454</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a> = saveheredoclist;</div>
<div class="line"><a name="l13455"></a><span class="lineno">13455</span>&#160; </div>
<div class="line"><a name="l13456"></a><span class="lineno">13456</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l13457"></a><span class="lineno">13457</span>&#160;}</div>
<div class="line"><a name="l13458"></a><span class="lineno">13458</span>&#160; </div>
<div class="line"><a name="l13459"></a><span class="lineno">13459</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l13460"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#adbef8ff2d1aa248822b1b80badee1fff">13460</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#adbef8ff2d1aa248822b1b80badee1fff">parser_eof</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l13461"></a><span class="lineno">13461</span>&#160;{</div>
<div class="line"><a name="l13462"></a><span class="lineno">13462</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a> &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da97170420678b0672ad01fcdef5b3b042">TEOF</a>;</div>
<div class="line"><a name="l13463"></a><span class="lineno">13463</span>&#160;}</div>
<div class="line"><a name="l13464"></a><span class="lineno">13464</span>&#160; </div>
<div class="line"><a name="l13465"></a><span class="lineno">13465</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l13466"></a><span class="lineno">13466</span>&#160;<span class="comment"> * Execute a command or commands contained in a string.</span></div>
<div class="line"><a name="l13467"></a><span class="lineno">13467</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l13468"></a><span class="lineno">13468</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l13469"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0bc7661d56fd1d874a1ec963d80dcf3a">13469</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a0bc7661d56fd1d874a1ec963d80dcf3a">evalstring</a>(<span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l13470"></a><span class="lineno">13470</span>&#160;{</div>
<div class="line"><a name="l13471"></a><span class="lineno">13471</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> *<span class="keyword">volatile</span> savehandler;</div>
<div class="line"><a name="l13472"></a><span class="lineno">13472</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> <a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l13473"></a><span class="lineno">13473</span>&#160;    <span class="keywordtype">int</span> ex;</div>
<div class="line"><a name="l13474"></a><span class="lineno">13474</span>&#160; </div>
<div class="line"><a name="l13475"></a><span class="lineno">13475</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l13476"></a><span class="lineno">13476</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> smark;</div>
<div class="line"><a name="l13477"></a><span class="lineno">13477</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l13478"></a><span class="lineno">13478</span>&#160; </div>
<div class="line"><a name="l13479"></a><span class="lineno">13479</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a8a9439fe2ef12c44f9a6ced41a4e21a0">sstrdup</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l13480"></a><span class="lineno">13480</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a1070a329ea02c16e7a6b8a1cf4ff96b0">setinputstring</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l13481"></a><span class="lineno">13481</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac25a899a708eb1c90b1b0bafdb14b88d">setstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l13482"></a><span class="lineno">13482</span>&#160; </div>
<div class="line"><a name="l13483"></a><span class="lineno">13483</span>&#160;    <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = 0;</div>
<div class="line"><a name="l13484"></a><span class="lineno">13484</span>&#160;    <span class="comment">/* On exception inside execution loop, we must popfile().</span></div>
<div class="line"><a name="l13485"></a><span class="lineno">13485</span>&#160;<span class="comment">     * Try interactively:</span></div>
<div class="line"><a name="l13486"></a><span class="lineno">13486</span>&#160;<span class="comment">     *  readonly a=a</span></div>
<div class="line"><a name="l13487"></a><span class="lineno">13487</span>&#160;<span class="comment">     *  command eval &quot;a=b&quot;  # throws &quot;is read only&quot; error</span></div>
<div class="line"><a name="l13488"></a><span class="lineno">13488</span>&#160;<span class="comment">     * &quot;command BLTIN&quot; is not supposed to abort (even in non-interactive use).</span></div>
<div class="line"><a name="l13489"></a><span class="lineno">13489</span>&#160;<span class="comment">     * But if we skip popfile(), we hit EOF in eval&#39;s string, and exit.</span></div>
<div class="line"><a name="l13490"></a><span class="lineno">13490</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l13491"></a><span class="lineno">13491</span>&#160;    savehandler = <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a>;</div>
<div class="line"><a name="l13492"></a><span class="lineno">13492</span>&#160;    ex = <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#ac7cd296b63b31ab3d8cd447e40d0eedc">setjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>.<a class="code" href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">loc</a>);</div>
<div class="line"><a name="l13493"></a><span class="lineno">13493</span>&#160;    <span class="keywordflow">if</span> (ex)</div>
<div class="line"><a name="l13494"></a><span class="lineno">13494</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l13495"></a><span class="lineno">13495</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l13496"></a><span class="lineno">13496</span>&#160; </div>
<div class="line"><a name="l13497"></a><span class="lineno">13497</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a50ddadb0e0dfd8313a2fc80ecdaf03a5">parsecmd</a>(0)) != <a class="code" href="../../d1/dbe/ash_8c.html#af1f38b4cc0d0bffc1ad092cf5fc21506">NODE_EOF</a>) {</div>
<div class="line"><a name="l13498"></a><span class="lineno">13498</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l13499"></a><span class="lineno">13499</span>&#160; </div>
<div class="line"><a name="l13500"></a><span class="lineno">13500</span>&#160;        <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; ~(<a class="code" href="../../d1/dbe/ash_8c.html#adbef8ff2d1aa248822b1b80badee1fff">parser_eof</a>() ? 0 : <a class="code" href="../../d1/dbe/ash_8c.html#ac2add6938920c886c263574d2948aefa">EV_EXIT</a>));</div>
<div class="line"><a name="l13501"></a><span class="lineno">13501</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l13502"></a><span class="lineno">13502</span>&#160;            <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l13503"></a><span class="lineno">13503</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l13504"></a><span class="lineno">13504</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a>)</div>
<div class="line"><a name="l13505"></a><span class="lineno">13505</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13506"></a><span class="lineno">13506</span>&#160;    }</div>
<div class="line"><a name="l13507"></a><span class="lineno">13507</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l13508"></a><span class="lineno">13508</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l13509"></a><span class="lineno">13509</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a941a7cfd89c5c8522aaec5404ee554f4">popfile</a>();</div>
<div class="line"><a name="l13510"></a><span class="lineno">13510</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6b68a742933812f9207781ad603496b9">stunalloc</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l13511"></a><span class="lineno">13511</span>&#160; </div>
<div class="line"><a name="l13512"></a><span class="lineno">13512</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = savehandler;</div>
<div class="line"><a name="l13513"></a><span class="lineno">13513</span>&#160;    <span class="keywordflow">if</span> (ex)</div>
<div class="line"><a name="l13514"></a><span class="lineno">13514</span>&#160;        <a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#aaf56e20169cc5a6d5c1a968e24d04623">longjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a>-&gt;loc, ex);</div>
<div class="line"><a name="l13515"></a><span class="lineno">13515</span>&#160; </div>
<div class="line"><a name="l13516"></a><span class="lineno">13516</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l13517"></a><span class="lineno">13517</span>&#160;}</div>
<div class="line"><a name="l13518"></a><span class="lineno">13518</span>&#160; </div>
<div class="line"><a name="l13519"></a><span class="lineno">13519</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l13520"></a><span class="lineno">13520</span>&#160;<span class="comment"> * The eval command.</span></div>
<div class="line"><a name="l13521"></a><span class="lineno">13521</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l13522"></a><span class="lineno">13522</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l13523"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0f026e10c3becb51cf84ac858cda803e">13523</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a0f026e10c3becb51cf84ac858cda803e">evalcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="keywordtype">int</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>)</div>
<div class="line"><a name="l13524"></a><span class="lineno">13524</span>&#160;{</div>
<div class="line"><a name="l13525"></a><span class="lineno">13525</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l13526"></a><span class="lineno">13526</span>&#160;    <span class="keywordtype">char</span> *concat;</div>
<div class="line"><a name="l13527"></a><span class="lineno">13527</span>&#160; </div>
<div class="line"><a name="l13528"></a><span class="lineno">13528</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1]) {</div>
<div class="line"><a name="l13529"></a><span class="lineno">13529</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1];</div>
<div class="line"><a name="l13530"></a><span class="lineno">13530</span>&#160;        <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> += 2;</div>
<div class="line"><a name="l13531"></a><span class="lineno">13531</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0]) {</div>
<div class="line"><a name="l13532"></a><span class="lineno">13532</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a51947f73159e14e6d1deac7c491013ac">STARTSTACKSTR</a>(concat);</div>
<div class="line"><a name="l13533"></a><span class="lineno">13533</span>&#160;            <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l13534"></a><span class="lineno">13534</span>&#160;                concat = <a class="code" href="../../d1/dbe/ash_8c.html#acd5e4eb81ce2b9efcd1d8ff5e53b6096">stack_putstr</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, concat);</div>
<div class="line"><a name="l13535"></a><span class="lineno">13535</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = *<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>++;</div>
<div class="line"><a name="l13536"></a><span class="lineno">13536</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l13537"></a><span class="lineno">13537</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13538"></a><span class="lineno">13538</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(<span class="charliteral">&#39; &#39;</span>, concat);</div>
<div class="line"><a name="l13539"></a><span class="lineno">13539</span>&#160;            }</div>
<div class="line"><a name="l13540"></a><span class="lineno">13540</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a>(<span class="charliteral">&#39;\0&#39;</span>, concat);</div>
<div class="line"><a name="l13541"></a><span class="lineno">13541</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a7b5f8bbd363271d352ea79580f1f0cd4">grabstackstr</a>(concat);</div>
<div class="line"><a name="l13542"></a><span class="lineno">13542</span>&#160;        }</div>
<div class="line"><a name="l13543"></a><span class="lineno">13543</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a0bc7661d56fd1d874a1ec963d80dcf3a">evalstring</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b">EV_TESTED</a>);</div>
<div class="line"><a name="l13544"></a><span class="lineno">13544</span>&#160;    }</div>
<div class="line"><a name="l13545"></a><span class="lineno">13545</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l13546"></a><span class="lineno">13546</span>&#160;}</div>
<div class="line"><a name="l13547"></a><span class="lineno">13547</span>&#160; </div>
<div class="line"><a name="l13548"></a><span class="lineno">13548</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l13549"></a><span class="lineno">13549</span>&#160;<span class="comment"> * Read and execute commands.</span></div>
<div class="line"><a name="l13550"></a><span class="lineno">13550</span>&#160;<span class="comment"> * &quot;Top&quot; is nonzero for the top level command loop;</span></div>
<div class="line"><a name="l13551"></a><span class="lineno">13551</span>&#160;<span class="comment"> * it turns on prompting if the shell is interactive.</span></div>
<div class="line"><a name="l13552"></a><span class="lineno">13552</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l13553"></a><span class="lineno">13553</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l13554"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af47d09d7fff889150d4c3c90c793a10c">13554</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#af47d09d7fff889150d4c3c90c793a10c">cmdloop</a>(<span class="keywordtype">int</span> <a class="code" href="../../d2/d78/p__spec_8h.html#a61be60bd0fc3c2a1b8637d2bee8ea317a3961740aa293a50c701d278225f7050a">top</a>)</div>
<div class="line"><a name="l13555"></a><span class="lineno">13555</span>&#160;{</div>
<div class="line"><a name="l13556"></a><span class="lineno">13556</span>&#160;    <span class="keyword">union </span><a class="code" href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a> *<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l13557"></a><span class="lineno">13557</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> smark;</div>
<div class="line"><a name="l13558"></a><span class="lineno">13558</span>&#160;    <span class="keywordtype">int</span> inter;</div>
<div class="line"><a name="l13559"></a><span class="lineno">13559</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = 0;</div>
<div class="line"><a name="l13560"></a><span class="lineno">13560</span>&#160;    <span class="keywordtype">int</span> numeof = 0;</div>
<div class="line"><a name="l13561"></a><span class="lineno">13561</span>&#160; </div>
<div class="line"><a name="l13562"></a><span class="lineno">13562</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;cmdloop(%d) called\n&quot;</span>, <a class="code" href="../../d2/d78/p__spec_8h.html#a61be60bd0fc3c2a1b8637d2bee8ea317a3961740aa293a50c701d278225f7050a">top</a>));</div>
<div class="line"><a name="l13563"></a><span class="lineno">13563</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l13564"></a><span class="lineno">13564</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a>;</div>
<div class="line"><a name="l13565"></a><span class="lineno">13565</span>&#160; </div>
<div class="line"><a name="l13566"></a><span class="lineno">13566</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ac25a899a708eb1c90b1b0bafdb14b88d">setstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l13567"></a><span class="lineno">13567</span>&#160;<span class="preprocessor">#if JOBS</span></div>
<div class="line"><a name="l13568"></a><span class="lineno">13568</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae">doing_jobctl</a>)</div>
<div class="line"><a name="l13569"></a><span class="lineno">13569</span>&#160;            showjobs(<a class="code" href="../../d1/dbe/ash_8c.html#af9869b278358d63ab443a8f3ec9edd3b">SHOW_CHANGED</a>|<a class="code" href="../../d1/dbe/ash_8c.html#af8e0c2f98d35e88ca0e26b9a00059218">SHOW_STDERR</a>);</div>
<div class="line"><a name="l13570"></a><span class="lineno">13570</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13571"></a><span class="lineno">13571</span>&#160;        inter = 0;</div>
<div class="line"><a name="l13572"></a><span class="lineno">13572</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a> &amp;&amp; <a class="code" href="../../d2/d78/p__spec_8h.html#a61be60bd0fc3c2a1b8637d2bee8ea317a3961740aa293a50c701d278225f7050a">top</a>) {</div>
<div class="line"><a name="l13573"></a><span class="lineno">13573</span>&#160;            inter++;</div>
<div class="line"><a name="l13574"></a><span class="lineno">13574</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a40e81adbf326f121071e2f78d7b8fcec">chkmail</a>();</div>
<div class="line"><a name="l13575"></a><span class="lineno">13575</span>&#160;        }</div>
<div class="line"><a name="l13576"></a><span class="lineno">13576</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a50ddadb0e0dfd8313a2fc80ecdaf03a5">parsecmd</a>(inter);</div>
<div class="line"><a name="l13577"></a><span class="lineno">13577</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l13578"></a><span class="lineno">13578</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a> &gt; 2 &amp;&amp; <a class="code" href="../../d6/d66/structdebug.html">debug</a> &amp;&amp; (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> != <a class="code" href="../../d1/dbe/ash_8c.html#af1f38b4cc0d0bffc1ad092cf5fc21506">NODE_EOF</a>))</div>
<div class="line"><a name="l13579"></a><span class="lineno">13579</span>&#160;            showtree(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l13580"></a><span class="lineno">13580</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13581"></a><span class="lineno">13581</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> == <a class="code" href="../../d1/dbe/ash_8c.html#af1f38b4cc0d0bffc1ad092cf5fc21506">NODE_EOF</a>) {</div>
<div class="line"><a name="l13582"></a><span class="lineno">13582</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d78/p__spec_8h.html#a61be60bd0fc3c2a1b8637d2bee8ea317a3961740aa293a50c701d278225f7050a">top</a> || numeof &gt;= 50)</div>
<div class="line"><a name="l13583"></a><span class="lineno">13583</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13584"></a><span class="lineno">13584</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#abde179a3496f1e20d57c91c873fdb808">stoppedjobs</a>()) {</div>
<div class="line"><a name="l13585"></a><span class="lineno">13585</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a>)</div>
<div class="line"><a name="l13586"></a><span class="lineno">13586</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13587"></a><span class="lineno">13587</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#aeb169d706c8ea8599d4a37add2a3935a">Iflag</a>) {</div>
<div class="line"><a name="l13588"></a><span class="lineno">13588</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a14c0b1d6e8225850405db69fa1baec6f">newline_and_flush</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>);</div>
<div class="line"><a name="l13589"></a><span class="lineno">13589</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13590"></a><span class="lineno">13590</span>&#160;                }</div>
<div class="line"><a name="l13591"></a><span class="lineno">13591</span>&#160;                <span class="comment">/* &quot;set -o ignoreeof&quot; active, do not exit command loop on ^D */</span></div>
<div class="line"><a name="l13592"></a><span class="lineno">13592</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ad41387932da6f74836f39a196a96519c">out2str</a>(<span class="stringliteral">&quot;\nUse \&quot;exit\&quot; to leave shell.\n&quot;</span>);</div>
<div class="line"><a name="l13593"></a><span class="lineno">13593</span>&#160;            }</div>
<div class="line"><a name="l13594"></a><span class="lineno">13594</span>&#160;            numeof++;</div>
<div class="line"><a name="l13595"></a><span class="lineno">13595</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13596"></a><span class="lineno">13596</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l13597"></a><span class="lineno">13597</span>&#160; </div>
<div class="line"><a name="l13598"></a><span class="lineno">13598</span>&#160;            <span class="comment">/* job_warning can only be 2,1,0. Here 2-&gt;1, 1/0-&gt;0 */</span></div>
<div class="line"><a name="l13599"></a><span class="lineno">13599</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a5eb4ad560d39a0c59e3e1fe36078ec5a">job_warning</a> &gt;&gt;= 1;</div>
<div class="line"><a name="l13600"></a><span class="lineno">13600</span>&#160;            numeof = 0;</div>
<div class="line"><a name="l13601"></a><span class="lineno">13601</span>&#160;            <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, 0);</div>
<div class="line"><a name="l13602"></a><span class="lineno">13602</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</div>
<div class="line"><a name="l13603"></a><span class="lineno">13603</span>&#160;                <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l13604"></a><span class="lineno">13604</span>&#160;        }</div>
<div class="line"><a name="l13605"></a><span class="lineno">13605</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l13606"></a><span class="lineno">13606</span>&#160;        <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a>;</div>
<div class="line"><a name="l13607"></a><span class="lineno">13607</span>&#160; </div>
<div class="line"><a name="l13608"></a><span class="lineno">13608</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a>) {</div>
<div class="line"><a name="l13609"></a><span class="lineno">13609</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a> &amp;= ~(<a class="code" href="../../d1/dbe/ash_8c.html#acbcb73299ee8abbd13ae00cb596546e0">SKIPFUNC</a> | <a class="code" href="../../d1/dbe/ash_8c.html#aadb3db0d739f2d387e4aad4e9b91c0d0">SKIPFUNCDEF</a>);</div>
<div class="line"><a name="l13610"></a><span class="lineno">13610</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13611"></a><span class="lineno">13611</span>&#160;        }</div>
<div class="line"><a name="l13612"></a><span class="lineno">13612</span>&#160;    }</div>
<div class="line"><a name="l13613"></a><span class="lineno">13613</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l13614"></a><span class="lineno">13614</span>&#160;}</div>
<div class="line"><a name="l13615"></a><span class="lineno">13615</span>&#160; </div>
<div class="line"><a name="l13616"></a><span class="lineno">13616</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l13617"></a><span class="lineno">13617</span>&#160;<span class="comment"> * Take commands from a file.  To be compatible we should do a path</span></div>
<div class="line"><a name="l13618"></a><span class="lineno">13618</span>&#160;<span class="comment"> * search for the file, which is necessary to find sub-commands.</span></div>
<div class="line"><a name="l13619"></a><span class="lineno">13619</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l13620"></a><span class="lineno">13620</span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l13621"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a9b96b5d5ef4634e8f3906fc8eceaa23a">13621</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a9b96b5d5ef4634e8f3906fc8eceaa23a">find_dot_file</a>(<span class="keywordtype">char</span> *<a class="code" href="../../d7/dd7/libbb_8h.html#a563a8bcdfd4a8c67dc22fae580195a71">basename</a>)</div>
<div class="line"><a name="l13622"></a><span class="lineno">13622</span>&#160;{</div>
<div class="line"><a name="l13623"></a><span class="lineno">13623</span>&#160;    <span class="keywordtype">char</span> *fullname;</div>
<div class="line"><a name="l13624"></a><span class="lineno">13624</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *path = <a class="code" href="../../d1/dbe/ash_8c.html#a1a0f44024ffe6329c9c6cda41fd24d30">pathval</a>();</div>
<div class="line"><a name="l13625"></a><span class="lineno">13625</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> statb;</div>
<div class="line"><a name="l13626"></a><span class="lineno">13626</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l13627"></a><span class="lineno">13627</span>&#160; </div>
<div class="line"><a name="l13628"></a><span class="lineno">13628</span>&#160;    <span class="comment">/* don&#39;t try this for absolute or relative paths */</span></div>
<div class="line"><a name="l13629"></a><span class="lineno">13629</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(<a class="code" href="../../d7/dd7/libbb_8h.html#a563a8bcdfd4a8c67dc22fae580195a71">basename</a>, <span class="charliteral">&#39;/&#39;</span>))</div>
<div class="line"><a name="l13630"></a><span class="lineno">13630</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a563a8bcdfd4a8c67dc22fae580195a71">basename</a>;</div>
<div class="line"><a name="l13631"></a><span class="lineno">13631</span>&#160; </div>
<div class="line"><a name="l13632"></a><span class="lineno">13632</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa98d7d9d1f81656de699a72b080a8286">padvance</a>(&amp;path, <a class="code" href="../../d7/dd7/libbb_8h.html#a563a8bcdfd4a8c67dc22fae580195a71">basename</a>)) &gt;= 0) {</div>
<div class="line"><a name="l13633"></a><span class="lineno">13633</span>&#160;        fullname = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l13634"></a><span class="lineno">13634</span>&#160;        <span class="keywordflow">if</span> ((!<a class="code" href="../../d1/dbe/ash_8c.html#a897ae134f4c871992ace29631fe5ddfa">pathopt</a> || *<a class="code" href="../../d1/dbe/ash_8c.html#a897ae134f4c871992ace29631fe5ddfa">pathopt</a> == <span class="charliteral">&#39;f&#39;</span>)</div>
<div class="line"><a name="l13635"></a><span class="lineno">13635</span>&#160;         &amp;&amp; !<a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a>(fullname, &amp;statb) &amp;&amp; <a class="code" href="../../d1/d85/filesystem_8hpp.html#aad0f32c2c182238f2ff71c83e6ab65a0">S_ISREG</a>(statb.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a>)</div>
<div class="line"><a name="l13636"></a><span class="lineno">13636</span>&#160;        ) {</div>
<div class="line"><a name="l13637"></a><span class="lineno">13637</span>&#160;            <span class="comment">/* This will be freed by the caller. */</span></div>
<div class="line"><a name="l13638"></a><span class="lineno">13638</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d1/dbe/ash_8c.html#a7a1a6d8c702ae5df5dcfe038a1708158">stalloc</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l13639"></a><span class="lineno">13639</span>&#160;        }</div>
<div class="line"><a name="l13640"></a><span class="lineno">13640</span>&#160;    }</div>
<div class="line"><a name="l13641"></a><span class="lineno">13641</span>&#160;    <span class="comment">/* not found in PATH */</span></div>
<div class="line"><a name="l13642"></a><span class="lineno">13642</span>&#160; </div>
<div class="line"><a name="l13643"></a><span class="lineno">13643</span>&#160;<span class="preprocessor">#if ENABLE_ASH_BASH_SOURCE_CURDIR</span></div>
<div class="line"><a name="l13644"></a><span class="lineno">13644</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a563a8bcdfd4a8c67dc22fae580195a71">basename</a>;</div>
<div class="line"><a name="l13645"></a><span class="lineno">13645</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l13646"></a><span class="lineno">13646</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;%s: not found&quot;</span>, <a class="code" href="../../d7/dd7/libbb_8h.html#a563a8bcdfd4a8c67dc22fae580195a71">basename</a>);</div>
<div class="line"><a name="l13647"></a><span class="lineno">13647</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l13648"></a><span class="lineno">13648</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13649"></a><span class="lineno">13649</span>&#160;}</div>
<div class="line"><a name="l13650"></a><span class="lineno">13650</span>&#160; </div>
<div class="line"><a name="l13651"></a><span class="lineno">13651</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l13652"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a35bc68e499612bdb64aa63909575d5ce">13652</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a35bc68e499612bdb64aa63909575d5ce">dotcmd</a>(<span class="keywordtype">int</span> argc_ <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **argv_ <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l13653"></a><span class="lineno">13653</span>&#160;{</div>
<div class="line"><a name="l13654"></a><span class="lineno">13654</span>&#160;    <span class="comment">/* &quot;false; . empty_file; echo $?&quot; should print 0, not 1: */</span></div>
<div class="line"><a name="l13655"></a><span class="lineno">13655</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = 0;</div>
<div class="line"><a name="l13656"></a><span class="lineno">13656</span>&#160;    <span class="keywordtype">char</span> *fullname;</div>
<div class="line"><a name="l13657"></a><span class="lineno">13657</span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>;</div>
<div class="line"><a name="l13658"></a><span class="lineno">13658</span>&#160;    <span class="keywordtype">char</span> *args_need_save;</div>
<div class="line"><a name="l13659"></a><span class="lineno">13659</span>&#160;    <span class="keyword">volatile</span> <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dc/d7b/structshparam">shparam</a> saveparam;</div>
<div class="line"><a name="l13660"></a><span class="lineno">13660</span>&#160; </div>
<div class="line"><a name="l13661"></a><span class="lineno">13661</span>&#160;<span class="comment">//???</span></div>
<div class="line"><a name="l13662"></a><span class="lineno">13662</span>&#160;<span class="comment">//  struct strlist *sp;</span></div>
<div class="line"><a name="l13663"></a><span class="lineno">13663</span>&#160;<span class="comment">//  for (sp = cmdenviron; sp; sp = sp-&gt;next)</span></div>
<div class="line"><a name="l13664"></a><span class="lineno">13664</span>&#160;<span class="comment">//      setvareq(ckstrdup(sp-&gt;text), VSTRFIXED | VTEXTFIXED);</span></div>
<div class="line"><a name="l13665"></a><span class="lineno">13665</span>&#160; </div>
<div class="line"><a name="l13666"></a><span class="lineno">13666</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>); <span class="comment">/* handle possible &quot;--&quot; */</span></div>
<div class="line"><a name="l13667"></a><span class="lineno">13667</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l13668"></a><span class="lineno">13668</span>&#160; </div>
<div class="line"><a name="l13669"></a><span class="lineno">13669</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0]) {</div>
<div class="line"><a name="l13670"></a><span class="lineno">13670</span>&#160;        <span class="comment">/* bash says: &quot;bash: .: filename argument required&quot; */</span></div>
<div class="line"><a name="l13671"></a><span class="lineno">13671</span>&#160;        <span class="keywordflow">return</span> 2; <span class="comment">/* bash compat */</span></div>
<div class="line"><a name="l13672"></a><span class="lineno">13672</span>&#160;    }</div>
<div class="line"><a name="l13673"></a><span class="lineno">13673</span>&#160; </div>
<div class="line"><a name="l13674"></a><span class="lineno">13674</span>&#160;    <span class="comment">/* This aborts if file isn&#39;t found, which is POSIXly correct.</span></div>
<div class="line"><a name="l13675"></a><span class="lineno">13675</span>&#160;<span class="comment">     * bash returns exitcode 1 instead.</span></div>
<div class="line"><a name="l13676"></a><span class="lineno">13676</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l13677"></a><span class="lineno">13677</span>&#160;    fullname = <a class="code" href="../../d1/dbe/ash_8c.html#a9b96b5d5ef4634e8f3906fc8eceaa23a">find_dot_file</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0]);</div>
<div class="line"><a name="l13678"></a><span class="lineno">13678</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>++;</div>
<div class="line"><a name="l13679"></a><span class="lineno">13679</span>&#160;    args_need_save = <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0];</div>
<div class="line"><a name="l13680"></a><span class="lineno">13680</span>&#160;    <span class="keywordflow">if</span> (args_need_save) { <span class="comment">/* &quot;. FILE ARGS&quot;, and ARGS are not empty */</span></div>
<div class="line"><a name="l13681"></a><span class="lineno">13681</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>;</div>
<div class="line"><a name="l13682"></a><span class="lineno">13682</span>&#160;        saveparam = <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>;</div>
<div class="line"><a name="l13683"></a><span class="lineno">13683</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.malloced = 0;</div>
<div class="line"><a name="l13684"></a><span class="lineno">13684</span>&#160;        <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> = 1;</div>
<div class="line"><a name="l13685"></a><span class="lineno">13685</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>])</div>
<div class="line"><a name="l13686"></a><span class="lineno">13686</span>&#160;            <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>++;</div>
<div class="line"><a name="l13687"></a><span class="lineno">13687</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.nparam = <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>;</div>
<div class="line"><a name="l13688"></a><span class="lineno">13688</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.p = <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>;</div>
<div class="line"><a name="l13689"></a><span class="lineno">13689</span>&#160;    };</div>
<div class="line"><a name="l13690"></a><span class="lineno">13690</span>&#160; </div>
<div class="line"><a name="l13691"></a><span class="lineno">13691</span>&#160;    <span class="comment">/* This aborts if file can&#39;t be opened, which is POSIXly correct.</span></div>
<div class="line"><a name="l13692"></a><span class="lineno">13692</span>&#160;<span class="comment">     * bash returns exitcode 1 instead.</span></div>
<div class="line"><a name="l13693"></a><span class="lineno">13693</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l13694"></a><span class="lineno">13694</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7bf34b1523ebaf627c8b95f35957e3bc">setinputfile</a>(fullname, <a class="code" href="../../d1/dbe/ash_8c.html#a054c7815afdeb13143a83e92525cbd25a8044562dad2c1168d3b50b34ba09ef3d">INPUT_PUSH_FILE</a>);</div>
<div class="line"><a name="l13695"></a><span class="lineno">13695</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ad4f846f3f19caa87ad67d24b3a77f307">commandname</a> = fullname;</div>
<div class="line"><a name="l13696"></a><span class="lineno">13696</span>&#160;    <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af47d09d7fff889150d4c3c90c793a10c">cmdloop</a>(0);</div>
<div class="line"><a name="l13697"></a><span class="lineno">13697</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a941a7cfd89c5c8522aaec5404ee554f4">popfile</a>();</div>
<div class="line"><a name="l13698"></a><span class="lineno">13698</span>&#160; </div>
<div class="line"><a name="l13699"></a><span class="lineno">13699</span>&#160;    <span class="keywordflow">if</span> (args_need_save) {</div>
<div class="line"><a name="l13700"></a><span class="lineno">13700</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aaf63f7a250255f0ac21656149824df95">freeparam</a>(&amp;<a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>);</div>
<div class="line"><a name="l13701"></a><span class="lineno">13701</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a> = saveparam;</div>
<div class="line"><a name="l13702"></a><span class="lineno">13702</span>&#160;    };</div>
<div class="line"><a name="l13703"></a><span class="lineno">13703</span>&#160; </div>
<div class="line"><a name="l13704"></a><span class="lineno">13704</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a>;</div>
<div class="line"><a name="l13705"></a><span class="lineno">13705</span>&#160;}</div>
<div class="line"><a name="l13706"></a><span class="lineno">13706</span>&#160; </div>
<div class="line"><a name="l13707"></a><span class="lineno">13707</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l13708"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a4c2f587864d9f4fdb200ad894c7a6f4f">13708</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a4c2f587864d9f4fdb200ad894c7a6f4f">exitcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l13709"></a><span class="lineno">13709</span>&#160;{</div>
<div class="line"><a name="l13710"></a><span class="lineno">13710</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#abde179a3496f1e20d57c91c873fdb808">stoppedjobs</a>())</div>
<div class="line"><a name="l13711"></a><span class="lineno">13711</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l13712"></a><span class="lineno">13712</span>&#160; </div>
<div class="line"><a name="l13713"></a><span class="lineno">13713</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1])</div>
<div class="line"><a name="l13714"></a><span class="lineno">13714</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">savestatus</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae52ce7002a05790c0eb9b44163ddf3f0">number</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1]);</div>
<div class="line"><a name="l13715"></a><span class="lineno">13715</span>&#160; </div>
<div class="line"><a name="l13716"></a><span class="lineno">13716</span>&#160;<span class="comment">//TODO: this script</span></div>
<div class="line"><a name="l13717"></a><span class="lineno">13717</span>&#160;<span class="comment">// trap &#39;echo trap:$FUNCNAME&#39; EXIT</span></div>
<div class="line"><a name="l13718"></a><span class="lineno">13718</span>&#160;<span class="comment">// f() { exit; }</span></div>
<div class="line"><a name="l13719"></a><span class="lineno">13719</span>&#160;<span class="comment">// f</span></div>
<div class="line"><a name="l13720"></a><span class="lineno">13720</span>&#160;<span class="comment">//prints &quot;trap:f&quot; in bash. We can call exitshell() here to achieve this.</span></div>
<div class="line"><a name="l13721"></a><span class="lineno">13721</span>&#160;<span class="comment">//For now, keeping dash code:</span></div>
<div class="line"><a name="l13722"></a><span class="lineno">13722</span>&#160;    raise_exception(<a class="code" href="../../d1/dbe/ash_8c.html#a74a11d72ddd9ac7937d3065d4a46aad1">EXEXIT</a>);</div>
<div class="line"><a name="l13723"></a><span class="lineno">13723</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l13724"></a><span class="lineno">13724</span>&#160;}</div>
<div class="line"><a name="l13725"></a><span class="lineno">13725</span>&#160; </div>
<div class="line"><a name="l13726"></a><span class="lineno">13726</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l13727"></a><span class="lineno">13727</span>&#160;<span class="comment"> * Read a file containing shell functions.</span></div>
<div class="line"><a name="l13728"></a><span class="lineno">13728</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l13729"></a><span class="lineno">13729</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l13730"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#accac68b4dc3fd10658c19353f08cfbdc">13730</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#accac68b4dc3fd10658c19353f08cfbdc">readcmdfile</a>(<span class="keywordtype">char</span> *name)</div>
<div class="line"><a name="l13731"></a><span class="lineno">13731</span>&#160;{</div>
<div class="line"><a name="l13732"></a><span class="lineno">13732</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7bf34b1523ebaf627c8b95f35957e3bc">setinputfile</a>(name, <a class="code" href="../../d1/dbe/ash_8c.html#a054c7815afdeb13143a83e92525cbd25a8044562dad2c1168d3b50b34ba09ef3d">INPUT_PUSH_FILE</a>);</div>
<div class="line"><a name="l13733"></a><span class="lineno">13733</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af47d09d7fff889150d4c3c90c793a10c">cmdloop</a>(0);</div>
<div class="line"><a name="l13734"></a><span class="lineno">13734</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a941a7cfd89c5c8522aaec5404ee554f4">popfile</a>();</div>
<div class="line"><a name="l13735"></a><span class="lineno">13735</span>&#160;}</div>
<div class="line"><a name="l13736"></a><span class="lineno">13736</span>&#160; </div>
<div class="line"><a name="l13737"></a><span class="lineno">13737</span>&#160; </div>
<div class="line"><a name="l13738"></a><span class="lineno">13738</span>&#160;<span class="comment">/* ============ find_command inplementation */</span></div>
<div class="line"><a name="l13739"></a><span class="lineno">13739</span>&#160; </div>
<div class="line"><a name="l13740"></a><span class="lineno">13740</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l13741"></a><span class="lineno">13741</span>&#160;<span class="comment"> * Resolve a command name.  If you change this routine, you may have to</span></div>
<div class="line"><a name="l13742"></a><span class="lineno">13742</span>&#160;<span class="comment"> * change the shellexec routine as well.</span></div>
<div class="line"><a name="l13743"></a><span class="lineno">13743</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l13744"></a><span class="lineno">13744</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l13745"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aa23d345708cf24e69c6cc4533ff0e8f9">13745</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aa23d345708cf24e69c6cc4533ff0e8f9">find_command</a>(<span class="keywordtype">char</span> *name, <span class="keyword">struct</span> <a class="code" href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a> *<a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>, <span class="keywordtype">int</span> <a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *path)</div>
<div class="line"><a name="l13746"></a><span class="lineno">13746</span>&#160;{</div>
<div class="line"><a name="l13747"></a><span class="lineno">13747</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> *cmdp;</div>
<div class="line"><a name="l13748"></a><span class="lineno">13748</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>;</div>
<div class="line"><a name="l13749"></a><span class="lineno">13749</span>&#160;    <span class="keywordtype">int</span> prev;</div>
<div class="line"><a name="l13750"></a><span class="lineno">13750</span>&#160;    <span class="keywordtype">char</span> *fullname;</div>
<div class="line"><a name="l13751"></a><span class="lineno">13751</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> statb;</div>
<div class="line"><a name="l13752"></a><span class="lineno">13752</span>&#160;    <span class="keywordtype">int</span> e;</div>
<div class="line"><a name="l13753"></a><span class="lineno">13753</span>&#160;    <span class="keywordtype">int</span> updatetbl;</div>
<div class="line"><a name="l13754"></a><span class="lineno">13754</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d6/d85/structbuiltincmd">builtincmd</a> *bcmd;</div>
<div class="line"><a name="l13755"></a><span class="lineno">13755</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>;</div>
<div class="line"><a name="l13756"></a><span class="lineno">13756</span>&#160; </div>
<div class="line"><a name="l13757"></a><span class="lineno">13757</span>&#160;    <span class="comment">/* If name contains a slash, don&#39;t use PATH or hash table */</span></div>
<div class="line"><a name="l13758"></a><span class="lineno">13758</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>, <span class="charliteral">&#39;/&#39;</span>) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l13759"></a><span class="lineno">13759</span>&#160;        <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u.index = -1;</div>
<div class="line"><a name="l13760"></a><span class="lineno">13760</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a2452bc617f7c74a60852b74578fe2957">DO_ABS</a>) {</div>
<div class="line"><a name="l13761"></a><span class="lineno">13761</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>, &amp;statb) &lt; 0) {</div>
<div class="line"><a name="l13762"></a><span class="lineno">13762</span>&#160;<span class="preprocessor">#ifdef SYSV</span></div>
<div class="line"><a name="l13763"></a><span class="lineno">13763</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a46b83d9f6c23b1b65a8cecfd775ddaed">EINTR</a>)</div>
<div class="line"><a name="l13764"></a><span class="lineno">13764</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13765"></a><span class="lineno">13765</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13766"></a><span class="lineno">13766</span>&#160;                <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;cmdtype = <a class="code" href="../../d1/dbe/ash_8c.html#a14e3440a799eb1e36008a8a828fdeab9">CMDUNKNOWN</a>;</div>
<div class="line"><a name="l13767"></a><span class="lineno">13767</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l13768"></a><span class="lineno">13768</span>&#160;            }</div>
<div class="line"><a name="l13769"></a><span class="lineno">13769</span>&#160;        }</div>
<div class="line"><a name="l13770"></a><span class="lineno">13770</span>&#160;        <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;cmdtype = <a class="code" href="../../d1/dbe/ash_8c.html#a165ed7154d30466f3491f4e6cb1034c9">CMDNORMAL</a>;</div>
<div class="line"><a name="l13771"></a><span class="lineno">13771</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l13772"></a><span class="lineno">13772</span>&#160;    }</div>
<div class="line"><a name="l13773"></a><span class="lineno">13773</span>&#160; </div>
<div class="line"><a name="l13774"></a><span class="lineno">13774</span>&#160;<span class="comment">/* #if ENABLE_FEATURE_SH_STANDALONE... moved after builtin check */</span></div>
<div class="line"><a name="l13775"></a><span class="lineno">13775</span>&#160; </div>
<div class="line"><a name="l13776"></a><span class="lineno">13776</span>&#160;    updatetbl = (path == <a class="code" href="../../d1/dbe/ash_8c.html#a1a0f44024ffe6329c9c6cda41fd24d30">pathval</a>());</div>
<div class="line"><a name="l13777"></a><span class="lineno">13777</span>&#160;    <span class="keywordflow">if</span> (!updatetbl)</div>
<div class="line"><a name="l13778"></a><span class="lineno">13778</span>&#160;        <a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a> |= <a class="code" href="../../d1/dbe/ash_8c.html#aca0208c47e1120b732794d983169012a">DO_ALTPATH</a>;</div>
<div class="line"><a name="l13779"></a><span class="lineno">13779</span>&#160; </div>
<div class="line"><a name="l13780"></a><span class="lineno">13780</span>&#160;    <span class="comment">/* If name is in the table, check answer will be ok */</span></div>
<div class="line"><a name="l13781"></a><span class="lineno">13781</span>&#160;    cmdp = <a class="code" href="../../d1/dbe/ash_8c.html#a68ada27b5db4d8a8be684f54bc3ed21f">cmdlookup</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>, 0);</div>
<div class="line"><a name="l13782"></a><span class="lineno">13782</span>&#160;    <span class="keywordflow">if</span> (cmdp != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l13783"></a><span class="lineno">13783</span>&#160;        <span class="keywordtype">int</span> bit;</div>
<div class="line"><a name="l13784"></a><span class="lineno">13784</span>&#160; </div>
<div class="line"><a name="l13785"></a><span class="lineno">13785</span>&#160;        <span class="keywordflow">switch</span> (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a>) {</div>
<div class="line"><a name="l13786"></a><span class="lineno">13786</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l13787"></a><span class="lineno">13787</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l13788"></a><span class="lineno">13788</span>&#160;            <a class="code" href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a>();</div>
<div class="line"><a name="l13789"></a><span class="lineno">13789</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13790"></a><span class="lineno">13790</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a165ed7154d30466f3491f4e6cb1034c9">CMDNORMAL</a>:</div>
<div class="line"><a name="l13791"></a><span class="lineno">13791</span>&#160;            bit = <a class="code" href="../../d1/dbe/ash_8c.html#aca0208c47e1120b732794d983169012a">DO_ALTPATH</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a3da9bf738c7a02904703b3c1a81f0f77">DO_REGBLTIN</a>;</div>
<div class="line"><a name="l13792"></a><span class="lineno">13792</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13793"></a><span class="lineno">13793</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a967d3b0cdfb3be875229c443ca49de02">CMDFUNCTION</a>:</div>
<div class="line"><a name="l13794"></a><span class="lineno">13794</span>&#160;            bit = <a class="code" href="../../d1/dbe/ash_8c.html#af6ef3779dc4dffc2aaedf8bf82dc5bb2">DO_NOFUNC</a>;</div>
<div class="line"><a name="l13795"></a><span class="lineno">13795</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13796"></a><span class="lineno">13796</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a>:</div>
<div class="line"><a name="l13797"></a><span class="lineno">13797</span>&#160;            bit = <a class="code" href="../../d1/dbe/ash_8c.html#ab23db490601100500b00b74f9738fc01">IS_BUILTIN_REGULAR</a>(cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>.cmd) ? 0 : <a class="code" href="../../d1/dbe/ash_8c.html#a3da9bf738c7a02904703b3c1a81f0f77">DO_REGBLTIN</a>;</div>
<div class="line"><a name="l13798"></a><span class="lineno">13798</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l13799"></a><span class="lineno">13799</span>&#160;        }</div>
<div class="line"><a name="l13800"></a><span class="lineno">13800</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a> &amp; bit) {</div>
<div class="line"><a name="l13801"></a><span class="lineno">13801</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a> &amp; bit &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a3da9bf738c7a02904703b3c1a81f0f77">DO_REGBLTIN</a>)</div>
<div class="line"><a name="l13802"></a><span class="lineno">13802</span>&#160;                <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l13803"></a><span class="lineno">13803</span>&#160; </div>
<div class="line"><a name="l13804"></a><span class="lineno">13804</span>&#160;            updatetbl = 0;</div>
<div class="line"><a name="l13805"></a><span class="lineno">13805</span>&#160;            cmdp = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l13806"></a><span class="lineno">13806</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acf2b4cbd4c9d86f72ac3d2414af81759">rehash</a> == 0)</div>
<div class="line"><a name="l13807"></a><span class="lineno">13807</span>&#160;            <span class="comment">/* if not invalidated by cd, we&#39;re done */</span></div>
<div class="line"><a name="l13808"></a><span class="lineno">13808</span>&#160;            <span class="keywordflow">goto</span> success;</div>
<div class="line"><a name="l13809"></a><span class="lineno">13809</span>&#160;    }</div>
<div class="line"><a name="l13810"></a><span class="lineno">13810</span>&#160; </div>
<div class="line"><a name="l13811"></a><span class="lineno">13811</span>&#160;    <span class="comment">/* If %builtin not in path, check for builtin next */</span></div>
<div class="line"><a name="l13812"></a><span class="lineno">13812</span>&#160;    bcmd = <a class="code" href="../../d1/dbe/ash_8c.html#a4ce675a4e223cdc1e9eba4484275ef40">find_builtin</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>);</div>
<div class="line"><a name="l13813"></a><span class="lineno">13813</span>&#160;    <span class="keywordflow">if</span> (bcmd) {</div>
<div class="line"><a name="l13814"></a><span class="lineno">13814</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ab23db490601100500b00b74f9738fc01">IS_BUILTIN_REGULAR</a>(bcmd))</div>
<div class="line"><a name="l13815"></a><span class="lineno">13815</span>&#160;            <span class="keywordflow">goto</span> builtin_success;</div>
<div class="line"><a name="l13816"></a><span class="lineno">13816</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#aca0208c47e1120b732794d983169012a">DO_ALTPATH</a>)</div>
<div class="line"><a name="l13817"></a><span class="lineno">13817</span>&#160;            <span class="keywordflow">goto</span> builtin_success;</div>
<div class="line"><a name="l13818"></a><span class="lineno">13818</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ab7acafbde27f5fb99fff729b6da8b85c">builtinloc</a> &lt;= 0)</div>
<div class="line"><a name="l13819"></a><span class="lineno">13819</span>&#160;            <span class="keywordflow">goto</span> builtin_success;</div>
<div class="line"><a name="l13820"></a><span class="lineno">13820</span>&#160;    }</div>
<div class="line"><a name="l13821"></a><span class="lineno">13821</span>&#160; </div>
<div class="line"><a name="l13822"></a><span class="lineno">13822</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a3da9bf738c7a02904703b3c1a81f0f77">DO_REGBLTIN</a>)</div>
<div class="line"><a name="l13823"></a><span class="lineno">13823</span>&#160;        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l13824"></a><span class="lineno">13824</span>&#160; </div>
<div class="line"><a name="l13825"></a><span class="lineno">13825</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_STANDALONE</span></div>
<div class="line"><a name="l13826"></a><span class="lineno">13826</span>&#160;    {</div>
<div class="line"><a name="l13827"></a><span class="lineno">13827</span>&#160;        <span class="keywordtype">int</span> applet_no = <a class="code" href="../../d7/dd7/libbb_8h.html#af46900e10a7a4add55921df952a3309b">find_applet_by_name</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>);</div>
<div class="line"><a name="l13828"></a><span class="lineno">13828</span>&#160;        <span class="keywordflow">if</span> (applet_no &gt;= 0) {</div>
<div class="line"><a name="l13829"></a><span class="lineno">13829</span>&#160;            <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;cmdtype = <a class="code" href="../../d1/dbe/ash_8c.html#a165ed7154d30466f3491f4e6cb1034c9">CMDNORMAL</a>;</div>
<div class="line"><a name="l13830"></a><span class="lineno">13830</span>&#160;            <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u.index = -2 - applet_no;</div>
<div class="line"><a name="l13831"></a><span class="lineno">13831</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l13832"></a><span class="lineno">13832</span>&#160;        }</div>
<div class="line"><a name="l13833"></a><span class="lineno">13833</span>&#160;    }</div>
<div class="line"><a name="l13834"></a><span class="lineno">13834</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13835"></a><span class="lineno">13835</span>&#160; </div>
<div class="line"><a name="l13836"></a><span class="lineno">13836</span>&#160;    <span class="comment">/* We have to search path. */</span></div>
<div class="line"><a name="l13837"></a><span class="lineno">13837</span>&#160;    prev = -1;              <span class="comment">/* where to start */</span></div>
<div class="line"><a name="l13838"></a><span class="lineno">13838</span>&#160;    <span class="keywordflow">if</span> (cmdp &amp;&amp; cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acf2b4cbd4c9d86f72ac3d2414af81759">rehash</a>) {     <span class="comment">/* doing a rehash */</span></div>
<div class="line"><a name="l13839"></a><span class="lineno">13839</span>&#160;        <span class="keywordflow">if</span> (cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a>)</div>
<div class="line"><a name="l13840"></a><span class="lineno">13840</span>&#160;            prev = <a class="code" href="../../d1/dbe/ash_8c.html#ab7acafbde27f5fb99fff729b6da8b85c">builtinloc</a>;</div>
<div class="line"><a name="l13841"></a><span class="lineno">13841</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l13842"></a><span class="lineno">13842</span>&#160;            prev = cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>.index;</div>
<div class="line"><a name="l13843"></a><span class="lineno">13843</span>&#160;    }</div>
<div class="line"><a name="l13844"></a><span class="lineno">13844</span>&#160; </div>
<div class="line"><a name="l13845"></a><span class="lineno">13845</span>&#160;    e = <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a>;</div>
<div class="line"><a name="l13846"></a><span class="lineno">13846</span>&#160;    <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> = -1;</div>
<div class="line"><a name="l13847"></a><span class="lineno">13847</span>&#160; loop:</div>
<div class="line"><a name="l13848"></a><span class="lineno">13848</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aa98d7d9d1f81656de699a72b080a8286">padvance</a>(&amp;path, <a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>)) &gt;= 0) {</div>
<div class="line"><a name="l13849"></a><span class="lineno">13849</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *lpathopt = <a class="code" href="../../d1/dbe/ash_8c.html#a897ae134f4c871992ace29631fe5ddfa">pathopt</a>;</div>
<div class="line"><a name="l13850"></a><span class="lineno">13850</span>&#160; </div>
<div class="line"><a name="l13851"></a><span class="lineno">13851</span>&#160;        fullname = <a class="code" href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a>();</div>
<div class="line"><a name="l13852"></a><span class="lineno">13852</span>&#160;        <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>++;</div>
<div class="line"><a name="l13853"></a><span class="lineno">13853</span>&#160;        <span class="keywordflow">if</span> (lpathopt) {</div>
<div class="line"><a name="l13854"></a><span class="lineno">13854</span>&#160;            <span class="keywordflow">if</span> (*lpathopt == <span class="charliteral">&#39;b&#39;</span>) {</div>
<div class="line"><a name="l13855"></a><span class="lineno">13855</span>&#160;                <span class="keywordflow">if</span> (bcmd)</div>
<div class="line"><a name="l13856"></a><span class="lineno">13856</span>&#160;                    <span class="keywordflow">goto</span> builtin_success;</div>
<div class="line"><a name="l13857"></a><span class="lineno">13857</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13858"></a><span class="lineno">13858</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(<a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#af6ef3779dc4dffc2aaedf8bf82dc5bb2">DO_NOFUNC</a>)) {</div>
<div class="line"><a name="l13859"></a><span class="lineno">13859</span>&#160;                <span class="comment">/* handled below */</span></div>
<div class="line"><a name="l13860"></a><span class="lineno">13860</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l13861"></a><span class="lineno">13861</span>&#160;                <span class="comment">/* ignore unimplemented options */</span></div>
<div class="line"><a name="l13862"></a><span class="lineno">13862</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13863"></a><span class="lineno">13863</span>&#160;            }</div>
<div class="line"><a name="l13864"></a><span class="lineno">13864</span>&#160;        }</div>
<div class="line"><a name="l13865"></a><span class="lineno">13865</span>&#160;        <span class="comment">/* if rehash, don&#39;t redo absolute path names */</span></div>
<div class="line"><a name="l13866"></a><span class="lineno">13866</span>&#160;        <span class="keywordflow">if</span> (fullname[0] == <span class="charliteral">&#39;/&#39;</span> &amp;&amp; <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> &lt;= prev) {</div>
<div class="line"><a name="l13867"></a><span class="lineno">13867</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a> &lt; prev)</div>
<div class="line"><a name="l13868"></a><span class="lineno">13868</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13869"></a><span class="lineno">13869</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;searchexec \&quot;%s\&quot;: no change\n&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>));</div>
<div class="line"><a name="l13870"></a><span class="lineno">13870</span>&#160;            <span class="keywordflow">goto</span> success;</div>
<div class="line"><a name="l13871"></a><span class="lineno">13871</span>&#160;        }</div>
<div class="line"><a name="l13872"></a><span class="lineno">13872</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a>(fullname, &amp;statb) &lt; 0) {</div>
<div class="line"><a name="l13873"></a><span class="lineno">13873</span>&#160;<span class="preprocessor">#ifdef SYSV</span></div>
<div class="line"><a name="l13874"></a><span class="lineno">13874</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a46b83d9f6c23b1b65a8cecfd775ddaed">EINTR</a>)</div>
<div class="line"><a name="l13875"></a><span class="lineno">13875</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13876"></a><span class="lineno">13876</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13877"></a><span class="lineno">13877</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> != <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a> &amp;&amp; <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> != <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a9262fb92f7ef662d0bdd577912a5b101">ENOTDIR</a>)</div>
<div class="line"><a name="l13878"></a><span class="lineno">13878</span>&#160;                e = <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a>;</div>
<div class="line"><a name="l13879"></a><span class="lineno">13879</span>&#160;            <span class="keywordflow">goto</span> loop;</div>
<div class="line"><a name="l13880"></a><span class="lineno">13880</span>&#160;        }</div>
<div class="line"><a name="l13881"></a><span class="lineno">13881</span>&#160;        e = <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ac2a2e9fa555401f94478f74e01868032">EACCES</a>;     <span class="comment">/* if we fail, this will be the error */</span></div>
<div class="line"><a name="l13882"></a><span class="lineno">13882</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d85/filesystem_8hpp.html#aad0f32c2c182238f2ff71c83e6ab65a0">S_ISREG</a>(statb.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">st_mode</a>))</div>
<div class="line"><a name="l13883"></a><span class="lineno">13883</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l13884"></a><span class="lineno">13884</span>&#160;        <span class="keywordflow">if</span> (lpathopt) {          <span class="comment">/* this is a %func directory */</span></div>
<div class="line"><a name="l13885"></a><span class="lineno">13885</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a7a1a6d8c702ae5df5dcfe038a1708158">stalloc</a>(<a class="code" href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a>);</div>
<div class="line"><a name="l13886"></a><span class="lineno">13886</span>&#160;            <span class="comment">/* NB: stalloc will return space pointed by fullname</span></div>
<div class="line"><a name="l13887"></a><span class="lineno">13887</span>&#160;<span class="comment">             * (because we don&#39;t have any intervening allocations</span></div>
<div class="line"><a name="l13888"></a><span class="lineno">13888</span>&#160;<span class="comment">             * between stunalloc above and this stalloc) */</span></div>
<div class="line"><a name="l13889"></a><span class="lineno">13889</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#accac68b4dc3fd10658c19353f08cfbdc">readcmdfile</a>(fullname);</div>
<div class="line"><a name="l13890"></a><span class="lineno">13890</span>&#160;            cmdp = <a class="code" href="../../d1/dbe/ash_8c.html#a68ada27b5db4d8a8be684f54bc3ed21f">cmdlookup</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>, 0);</div>
<div class="line"><a name="l13891"></a><span class="lineno">13891</span>&#160;            <span class="keywordflow">if</span> (cmdp == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> != <a class="code" href="../../d1/dbe/ash_8c.html#a967d3b0cdfb3be875229c443ca49de02">CMDFUNCTION</a>)</div>
<div class="line"><a name="l13892"></a><span class="lineno">13892</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;%s not defined in %s&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>, fullname);</div>
<div class="line"><a name="l13893"></a><span class="lineno">13893</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a6b68a742933812f9207781ad603496b9">stunalloc</a>(fullname);</div>
<div class="line"><a name="l13894"></a><span class="lineno">13894</span>&#160;            <span class="keywordflow">goto</span> success;</div>
<div class="line"><a name="l13895"></a><span class="lineno">13895</span>&#160;        }</div>
<div class="line"><a name="l13896"></a><span class="lineno">13896</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;searchexec \&quot;%s\&quot; returns \&quot;%s\&quot;\n&quot;</span>, <a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>, fullname));</div>
<div class="line"><a name="l13897"></a><span class="lineno">13897</span>&#160;        <span class="keywordflow">if</span> (!updatetbl) {</div>
<div class="line"><a name="l13898"></a><span class="lineno">13898</span>&#160;            <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;cmdtype = <a class="code" href="../../d1/dbe/ash_8c.html#a165ed7154d30466f3491f4e6cb1034c9">CMDNORMAL</a>;</div>
<div class="line"><a name="l13899"></a><span class="lineno">13899</span>&#160;            <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u.index = <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>;</div>
<div class="line"><a name="l13900"></a><span class="lineno">13900</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l13901"></a><span class="lineno">13901</span>&#160;        }</div>
<div class="line"><a name="l13902"></a><span class="lineno">13902</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l13903"></a><span class="lineno">13903</span>&#160;        cmdp = <a class="code" href="../../d1/dbe/ash_8c.html#a68ada27b5db4d8a8be684f54bc3ed21f">cmdlookup</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">name</a>, 1);</div>
<div class="line"><a name="l13904"></a><span class="lineno">13904</span>&#160;        cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a165ed7154d30466f3491f4e6cb1034c9">CMDNORMAL</a>;</div>
<div class="line"><a name="l13905"></a><span class="lineno">13905</span>&#160;        cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>.index = <a class="code" href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a>;</div>
<div class="line"><a name="l13906"></a><span class="lineno">13906</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l13907"></a><span class="lineno">13907</span>&#160;        <span class="keywordflow">goto</span> success;</div>
<div class="line"><a name="l13908"></a><span class="lineno">13908</span>&#160;    }</div>
<div class="line"><a name="l13909"></a><span class="lineno">13909</span>&#160; </div>
<div class="line"><a name="l13910"></a><span class="lineno">13910</span>&#160;    <span class="comment">/* We failed.  If there was an entry for this command, delete it */</span></div>
<div class="line"><a name="l13911"></a><span class="lineno">13911</span>&#160;    <span class="keywordflow">if</span> (cmdp &amp;&amp; updatetbl)</div>
<div class="line"><a name="l13912"></a><span class="lineno">13912</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a77b90abe431d3d7de827fe9e6daf8252">delete_cmd_entry</a>();</div>
<div class="line"><a name="l13913"></a><span class="lineno">13913</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a> &amp; <a class="code" href="../../d1/dbe/ash_8c.html#a06a22680ac104187b1b8e9fd9e790ac1">DO_ERR</a>) {</div>
<div class="line"><a name="l13914"></a><span class="lineno">13914</span>&#160;<span class="preprocessor">#if ENABLE_ASH_BASH_NOT_FOUND_HOOK</span></div>
<div class="line"><a name="l13915"></a><span class="lineno">13915</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> *hookp = <a class="code" href="../../d1/dbe/ash_8c.html#a68ada27b5db4d8a8be684f54bc3ed21f">cmdlookup</a>(<span class="stringliteral">&quot;command_not_found_handle&quot;</span>, 0);</div>
<div class="line"><a name="l13916"></a><span class="lineno">13916</span>&#160;        <span class="keywordflow">if</span> (hookp &amp;&amp; hookp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a967d3b0cdfb3be875229c443ca49de02">CMDFUNCTION</a>) {</div>
<div class="line"><a name="l13917"></a><span class="lineno">13917</span>&#160;            <span class="keywordtype">char</span> *<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[3];</div>
<div class="line"><a name="l13918"></a><span class="lineno">13918</span>&#160;            <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0] = (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;command_not_found_handle&quot;</span>;</div>
<div class="line"><a name="l13919"></a><span class="lineno">13919</span>&#160;            <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1] = name;</div>
<div class="line"><a name="l13920"></a><span class="lineno">13920</span>&#160;            <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[2] = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l13921"></a><span class="lineno">13921</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a4dea1c72117f8b8bec756e93fd3a90a3">evalfun</a>(hookp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>.func, 2, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, 0);</div>
<div class="line"><a name="l13922"></a><span class="lineno">13922</span>&#160;            <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;cmdtype = <a class="code" href="../../d1/dbe/ash_8c.html#a14e3440a799eb1e36008a8a828fdeab9">CMDUNKNOWN</a>;</div>
<div class="line"><a name="l13923"></a><span class="lineno">13923</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l13924"></a><span class="lineno">13924</span>&#160;        }</div>
<div class="line"><a name="l13925"></a><span class="lineno">13925</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l13926"></a><span class="lineno">13926</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a3d04906647d0af85e349744f980ac037">ash_msg</a>(<span class="stringliteral">&quot;%s: %s&quot;</span>, name, <a class="code" href="../../d1/dbe/ash_8c.html#a971bed606674f492145ee75af6557f7a">errmsg</a>(e, <span class="stringliteral">&quot;not found&quot;</span>));</div>
<div class="line"><a name="l13927"></a><span class="lineno">13927</span>&#160;    }</div>
<div class="line"><a name="l13928"></a><span class="lineno">13928</span>&#160; fail:</div>
<div class="line"><a name="l13929"></a><span class="lineno">13929</span>&#160;    <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;cmdtype = <a class="code" href="../../d1/dbe/ash_8c.html#a14e3440a799eb1e36008a8a828fdeab9">CMDUNKNOWN</a>;</div>
<div class="line"><a name="l13930"></a><span class="lineno">13930</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l13931"></a><span class="lineno">13931</span>&#160; </div>
<div class="line"><a name="l13932"></a><span class="lineno">13932</span>&#160; builtin_success:</div>
<div class="line"><a name="l13933"></a><span class="lineno">13933</span>&#160;    <span class="keywordflow">if</span> (!updatetbl) {</div>
<div class="line"><a name="l13934"></a><span class="lineno">13934</span>&#160;        <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;cmdtype = <a class="code" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a>;</div>
<div class="line"><a name="l13935"></a><span class="lineno">13935</span>&#160;        <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u.cmd = bcmd;</div>
<div class="line"><a name="l13936"></a><span class="lineno">13936</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l13937"></a><span class="lineno">13937</span>&#160;    }</div>
<div class="line"><a name="l13938"></a><span class="lineno">13938</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l13939"></a><span class="lineno">13939</span>&#160;    cmdp = <a class="code" href="../../d1/dbe/ash_8c.html#a68ada27b5db4d8a8be684f54bc3ed21f">cmdlookup</a>(name, 1);</div>
<div class="line"><a name="l13940"></a><span class="lineno">13940</span>&#160;    cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a>;</div>
<div class="line"><a name="l13941"></a><span class="lineno">13941</span>&#160;    cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>.cmd = bcmd;</div>
<div class="line"><a name="l13942"></a><span class="lineno">13942</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l13943"></a><span class="lineno">13943</span>&#160; success:</div>
<div class="line"><a name="l13944"></a><span class="lineno">13944</span>&#160;    cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#acf2b4cbd4c9d86f72ac3d2414af81759">rehash</a> = 0;</div>
<div class="line"><a name="l13945"></a><span class="lineno">13945</span>&#160;    <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;cmdtype = cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a>;</div>
<div class="line"><a name="l13946"></a><span class="lineno">13946</span>&#160;    <a class="code" href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a>-&gt;u = cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">param</a>;</div>
<div class="line"><a name="l13947"></a><span class="lineno">13947</span>&#160;}</div>
<div class="line"><a name="l13948"></a><span class="lineno">13948</span>&#160; </div>
<div class="line"><a name="l13949"></a><span class="lineno">13949</span>&#160; </div>
<div class="line"><a name="l13950"></a><span class="lineno">13950</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l13951"></a><span class="lineno">13951</span>&#160;<span class="comment"> * The trap builtin.</span></div>
<div class="line"><a name="l13952"></a><span class="lineno">13952</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l13953"></a><span class="lineno">13953</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l13954"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a198fa801419ee8c4ae27b1434b7e7aff">13954</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a198fa801419ee8c4ae27b1434b7e7aff">trapcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l13955"></a><span class="lineno">13955</span>&#160;{</div>
<div class="line"><a name="l13956"></a><span class="lineno">13956</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4">action</a>;</div>
<div class="line"><a name="l13957"></a><span class="lineno">13957</span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l13958"></a><span class="lineno">13958</span>&#160;    <span class="keywordtype">int</span> signo, <a class="code" href="../../de/dc7/chat_8c.html#a1f2fe1ef60b62dff9f19599f8a355331">exitcode</a>;</div>
<div class="line"><a name="l13959"></a><span class="lineno">13959</span>&#160; </div>
<div class="line"><a name="l13960"></a><span class="lineno">13960</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a>);</div>
<div class="line"><a name="l13961"></a><span class="lineno">13961</span>&#160;    <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l13962"></a><span class="lineno">13962</span>&#160;    <span class="keywordflow">if</span> (!*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>) {</div>
<div class="line"><a name="l13963"></a><span class="lineno">13963</span>&#160;        <span class="keywordflow">for</span> (signo = 0; signo &lt;= <a class="code" href="../../d1/dbe/ash_8c.html#adf3ec511cc3180c82a5157e69f38c555">NTRAP_LAST</a>; signo++) {</div>
<div class="line"><a name="l13964"></a><span class="lineno">13964</span>&#160;            <span class="keywordtype">char</span> *tr = <a class="code" href="../../d1/dbe/ash_8c.html#a96548d5a09aa581e8c86812ffe17f518">trap_ptr</a>[signo];</div>
<div class="line"><a name="l13965"></a><span class="lineno">13965</span>&#160;            <span class="keywordflow">if</span> (tr) {</div>
<div class="line"><a name="l13966"></a><span class="lineno">13966</span>&#160;                <span class="comment">/* note: bash adds &quot;SIG&quot;, but only if invoked</span></div>
<div class="line"><a name="l13967"></a><span class="lineno">13967</span>&#160;<span class="comment">                 * as &quot;bash&quot;. If called as &quot;sh&quot;, or if set -o posix,</span></div>
<div class="line"><a name="l13968"></a><span class="lineno">13968</span>&#160;<span class="comment">                 * then it prints short signal names.</span></div>
<div class="line"><a name="l13969"></a><span class="lineno">13969</span>&#160;<span class="comment">                 * We are printing short names: */</span></div>
<div class="line"><a name="l13970"></a><span class="lineno">13970</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;trap -- %s %s\n&quot;</span>,</div>
<div class="line"><a name="l13971"></a><span class="lineno">13971</span>&#160;                        <a class="code" href="../../d1/dbe/ash_8c.html#a4a5dd8a899567d44c214a92c793e7420">single_quote</a>(tr),</div>
<div class="line"><a name="l13972"></a><span class="lineno">13972</span>&#160;                        (signo == <a class="code" href="../../d1/dbe/ash_8c.html#a9f92e9f6961c915a648c04b712bb03e5">NTRAP_ERR</a>) ? <span class="stringliteral">&quot;ERR&quot;</span> : <a class="code" href="../../d7/dd7/libbb_8h.html#ab28e63149c482eda66860fdc469d0929">get_signame</a>(signo));</div>
<div class="line"><a name="l13973"></a><span class="lineno">13973</span>&#160;        <span class="comment">/* trap_ptr != trap only if we are in special-cased `trap` code.</span></div>
<div class="line"><a name="l13974"></a><span class="lineno">13974</span>&#160;<span class="comment">         * In this case, we will exit very soon, no need to free(). */</span></div>
<div class="line"><a name="l13975"></a><span class="lineno">13975</span>&#160;                <span class="comment">/* if (trap_ptr != trap &amp;&amp; tp[0]) */</span></div>
<div class="line"><a name="l13976"></a><span class="lineno">13976</span>&#160;                <span class="comment">/*  free(tr); */</span></div>
<div class="line"><a name="l13977"></a><span class="lineno">13977</span>&#160;            }</div>
<div class="line"><a name="l13978"></a><span class="lineno">13978</span>&#160;        }</div>
<div class="line"><a name="l13979"></a><span class="lineno">13979</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l13980"></a><span class="lineno">13980</span>&#160;<span class="comment">        if (trap_ptr != trap) {</span></div>
<div class="line"><a name="l13981"></a><span class="lineno">13981</span>&#160;<span class="comment">            free(trap_ptr);</span></div>
<div class="line"><a name="l13982"></a><span class="lineno">13982</span>&#160;<span class="comment">            trap_ptr = trap;</span></div>
<div class="line"><a name="l13983"></a><span class="lineno">13983</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l13984"></a><span class="lineno">13984</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l13985"></a><span class="lineno">13985</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l13986"></a><span class="lineno">13986</span>&#160;    }</div>
<div class="line"><a name="l13987"></a><span class="lineno">13987</span>&#160; </div>
<div class="line"><a name="l13988"></a><span class="lineno">13988</span>&#160;    <span class="comment">/* Why the second check?</span></div>
<div class="line"><a name="l13989"></a><span class="lineno">13989</span>&#160;<span class="comment">     * &quot;trap NUM [sig2]...&quot; is the same as &quot;trap - NUM [sig2]...&quot;</span></div>
<div class="line"><a name="l13990"></a><span class="lineno">13990</span>&#160;<span class="comment">     * In this case, NUM is signal no, not an action.</span></div>
<div class="line"><a name="l13991"></a><span class="lineno">13991</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l13992"></a><span class="lineno">13992</span>&#160;    <a class="code" href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l13993"></a><span class="lineno">13993</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>[1] &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#a3713e5af4c4d62450b75065a23dea670">is_number</a>(<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>[0]))</div>
<div class="line"><a name="l13994"></a><span class="lineno">13994</span>&#160;        <a class="code" href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a> = *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>++;</div>
<div class="line"><a name="l13995"></a><span class="lineno">13995</span>&#160; </div>
<div class="line"><a name="l13996"></a><span class="lineno">13996</span>&#160;    <a class="code" href="../../de/dc7/chat_8c.html#a1f2fe1ef60b62dff9f19599f8a355331">exitcode</a> = 0;</div>
<div class="line"><a name="l13997"></a><span class="lineno">13997</span>&#160;    <span class="keywordflow">while</span> (*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>) {</div>
<div class="line"><a name="l13998"></a><span class="lineno">13998</span>&#160;        signo = <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>, <span class="stringliteral">&quot;ERR&quot;</span>) == 0 ? <a class="code" href="../../d1/dbe/ash_8c.html#a9f92e9f6961c915a648c04b712bb03e5">NTRAP_ERR</a> : <a class="code" href="../../d7/dd7/libbb_8h.html#a9698ea0b41ac5badbc1d64fb2fe0fd47">get_signum</a>(*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l13999"></a><span class="lineno">13999</span>&#160;        <span class="keywordflow">if</span> (signo &lt; 0) {</div>
<div class="line"><a name="l14000"></a><span class="lineno">14000</span>&#160;            <span class="comment">/* Mimic bash message exactly */</span></div>
<div class="line"><a name="l14001"></a><span class="lineno">14001</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a3d04906647d0af85e349744f980ac037">ash_msg</a>(<span class="stringliteral">&quot;%s: invalid signal specification&quot;</span>, *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l14002"></a><span class="lineno">14002</span>&#160;            <a class="code" href="../../de/dc7/chat_8c.html#a1f2fe1ef60b62dff9f19599f8a355331">exitcode</a> = 1;</div>
<div class="line"><a name="l14003"></a><span class="lineno">14003</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>;</div>
<div class="line"><a name="l14004"></a><span class="lineno">14004</span>&#160;        }</div>
<div class="line"><a name="l14005"></a><span class="lineno">14005</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l14006"></a><span class="lineno">14006</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a>) {</div>
<div class="line"><a name="l14007"></a><span class="lineno">14007</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#ae3c705adc31efb61b8a23829e028028e">LONE_DASH</a>(<a class="code" href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a>))</div>
<div class="line"><a name="l14008"></a><span class="lineno">14008</span>&#160;                <a class="code" href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l14009"></a><span class="lineno">14009</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l14010"></a><span class="lineno">14010</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a>[0]) <span class="comment">/* not NULL and not &quot;&quot; and not &quot;-&quot; */</span></div>
<div class="line"><a name="l14011"></a><span class="lineno">14011</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#aeae2161e6b322b2655fac184e8fca410">may_have_traps</a> = 1;</div>
<div class="line"><a name="l14012"></a><span class="lineno">14012</span>&#160;                <a class="code" href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae636b85e9fda111db77be3efbad1c862">ckstrdup</a>(<a class="code" href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a>);</div>
<div class="line"><a name="l14013"></a><span class="lineno">14013</span>&#160;            }</div>
<div class="line"><a name="l14014"></a><span class="lineno">14014</span>&#160;        }</div>
<div class="line"><a name="l14015"></a><span class="lineno">14015</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[signo]);</div>
<div class="line"><a name="l14016"></a><span class="lineno">14016</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[signo] = <a class="code" href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4">action</a>;</div>
<div class="line"><a name="l14017"></a><span class="lineno">14017</span>&#160;        <span class="keywordflow">if</span> (signo != 0 &amp;&amp; signo &lt; <a class="code" href="../../dc/da4/mksignames_8c.html#ab83b88daaecc469d1edb90a527ab4a39">NSIG</a>)</div>
<div class="line"><a name="l14018"></a><span class="lineno">14018</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(signo);</div>
<div class="line"><a name="l14019"></a><span class="lineno">14019</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l14020"></a><span class="lineno">14020</span>&#160; <a class="code" href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a>:</div>
<div class="line"><a name="l14021"></a><span class="lineno">14021</span>&#160;        <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>++;</div>
<div class="line"><a name="l14022"></a><span class="lineno">14022</span>&#160;    }</div>
<div class="line"><a name="l14023"></a><span class="lineno">14023</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/dc7/chat_8c.html#a1f2fe1ef60b62dff9f19599f8a355331">exitcode</a>;</div>
<div class="line"><a name="l14024"></a><span class="lineno">14024</span>&#160;}</div>
<div class="line"><a name="l14025"></a><span class="lineno">14025</span>&#160; </div>
<div class="line"><a name="l14026"></a><span class="lineno">14026</span>&#160; </div>
<div class="line"><a name="l14027"></a><span class="lineno">14027</span>&#160;<span class="comment">/* ============ Builtins */</span></div>
<div class="line"><a name="l14028"></a><span class="lineno">14028</span>&#160; </div>
<div class="line"><a name="l14029"></a><span class="lineno">14029</span>&#160;<span class="preprocessor">#if ENABLE_ASH_HELP</span></div>
<div class="line"><a name="l14030"></a><span class="lineno">14030</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l14031"></a><span class="lineno">14031</span>&#160;helpcmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l14032"></a><span class="lineno">14032</span>&#160;{</div>
<div class="line"><a name="l14033"></a><span class="lineno">14033</span>&#160;    <span class="keywordtype">unsigned</span> col;</div>
<div class="line"><a name="l14034"></a><span class="lineno">14034</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l14035"></a><span class="lineno">14035</span>&#160; </div>
<div class="line"><a name="l14036"></a><span class="lineno">14036</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(</div>
<div class="line"><a name="l14037"></a><span class="lineno">14037</span>&#160;        <span class="stringliteral">&quot;Built-in commands:\n&quot;</span></div>
<div class="line"><a name="l14038"></a><span class="lineno">14038</span>&#160;        <span class="stringliteral">&quot;------------------\n&quot;</span>);</div>
<div class="line"><a name="l14039"></a><span class="lineno">14039</span>&#160;    <span class="keywordflow">for</span> (col = 0, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../dd/d7f/applet__tables_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(builtintab); <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {</div>
<div class="line"><a name="l14040"></a><span class="lineno">14040</span>&#160;        col += <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;%c%s&quot;</span>, ((col == 0) ? <span class="charliteral">&#39;\t&#39;</span> : <span class="charliteral">&#39; &#39;</span>),</div>
<div class="line"><a name="l14041"></a><span class="lineno">14041</span>&#160;                    builtintab[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].name + 1);</div>
<div class="line"><a name="l14042"></a><span class="lineno">14042</span>&#160;        <span class="keywordflow">if</span> (col &gt; 60) {</div>
<div class="line"><a name="l14043"></a><span class="lineno">14043</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l14044"></a><span class="lineno">14044</span>&#160;            col = 0;</div>
<div class="line"><a name="l14045"></a><span class="lineno">14045</span>&#160;        }</div>
<div class="line"><a name="l14046"></a><span class="lineno">14046</span>&#160;    }</div>
<div class="line"><a name="l14047"></a><span class="lineno">14047</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_SH_STANDALONE</span></div>
<div class="line"><a name="l14048"></a><span class="lineno">14048</span>&#160;    {</div>
<div class="line"><a name="l14049"></a><span class="lineno">14049</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *a = applet_names;</div>
<div class="line"><a name="l14050"></a><span class="lineno">14050</span>&#160;        <span class="keywordflow">while</span> (*a) {</div>
<div class="line"><a name="l14051"></a><span class="lineno">14051</span>&#160;            col += <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;%c%s&quot;</span>, ((col == 0) ? <span class="charliteral">&#39;\t&#39;</span> : <span class="charliteral">&#39; &#39;</span>), a);</div>
<div class="line"><a name="l14052"></a><span class="lineno">14052</span>&#160;            <span class="keywordflow">if</span> (col &gt; 60) {</div>
<div class="line"><a name="l14053"></a><span class="lineno">14053</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l14054"></a><span class="lineno">14054</span>&#160;                col = 0;</div>
<div class="line"><a name="l14055"></a><span class="lineno">14055</span>&#160;            }</div>
<div class="line"><a name="l14056"></a><span class="lineno">14056</span>&#160;            <span class="keywordflow">while</span> (*a++ != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l14057"></a><span class="lineno">14057</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14058"></a><span class="lineno">14058</span>&#160;        }</div>
<div class="line"><a name="l14059"></a><span class="lineno">14059</span>&#160;    }</div>
<div class="line"><a name="l14060"></a><span class="lineno">14060</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l14061"></a><span class="lineno">14061</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a14c0b1d6e8225850405db69fa1baec6f">newline_and_flush</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l14062"></a><span class="lineno">14062</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d84/man2html_8c.html#a687984f47d8cce148d1b914d2b79612a">EXIT_SUCCESS</a>;</div>
<div class="line"><a name="l14063"></a><span class="lineno">14063</span>&#160;}</div>
<div class="line"><a name="l14064"></a><span class="lineno">14064</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14065"></a><span class="lineno">14065</span>&#160; </div>
<div class="line"><a name="l14066"></a><span class="lineno">14066</span>&#160;<span class="preprocessor">#if MAX_HISTORY</span></div>
<div class="line"><a name="l14067"></a><span class="lineno">14067</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l14068"></a><span class="lineno">14068</span>&#160;historycmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l14069"></a><span class="lineno">14069</span>&#160;{</div>
<div class="line"><a name="l14070"></a><span class="lineno">14070</span>&#160;    show_history(line_input_state);</div>
<div class="line"><a name="l14071"></a><span class="lineno">14071</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d84/man2html_8c.html#a687984f47d8cce148d1b914d2b79612a">EXIT_SUCCESS</a>;</div>
<div class="line"><a name="l14072"></a><span class="lineno">14072</span>&#160;}</div>
<div class="line"><a name="l14073"></a><span class="lineno">14073</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14074"></a><span class="lineno">14074</span>&#160; </div>
<div class="line"><a name="l14075"></a><span class="lineno">14075</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l14076"></a><span class="lineno">14076</span>&#160;<span class="comment"> * The export and readonly commands.</span></div>
<div class="line"><a name="l14077"></a><span class="lineno">14077</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l14078"></a><span class="lineno">14078</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l14079"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a16cf6b5060a408f419474fa2026029c9">14079</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a16cf6b5060a408f419474fa2026029c9">exportcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l14080"></a><span class="lineno">14080</span>&#160;{</div>
<div class="line"><a name="l14081"></a><span class="lineno">14081</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a> *<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>;</div>
<div class="line"><a name="l14082"></a><span class="lineno">14082</span>&#160;    <span class="keywordtype">char</span> *name;</div>
<div class="line"><a name="l14083"></a><span class="lineno">14083</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l14084"></a><span class="lineno">14084</span>&#160;    <span class="keywordtype">char</span> **aptr;</div>
<div class="line"><a name="l14085"></a><span class="lineno">14085</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a>;</div>
<div class="line"><a name="l14086"></a><span class="lineno">14086</span>&#160;    <span class="keywordtype">int</span> flag;</div>
<div class="line"><a name="l14087"></a><span class="lineno">14087</span>&#160;    <span class="keywordtype">int</span> flag_off;</div>
<div class="line"><a name="l14088"></a><span class="lineno">14088</span>&#160; </div>
<div class="line"><a name="l14089"></a><span class="lineno">14089</span>&#160;    <span class="comment">/* &quot;readonly&quot; in bash accepts, but ignores -n.</span></div>
<div class="line"><a name="l14090"></a><span class="lineno">14090</span>&#160;<span class="comment">     * We do the same: it saves a conditional in nextopt&#39;s param.</span></div>
<div class="line"><a name="l14091"></a><span class="lineno">14091</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l14092"></a><span class="lineno">14092</span>&#160;    flag_off = 0;</div>
<div class="line"><a name="l14093"></a><span class="lineno">14093</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<span class="stringliteral">&quot;np&quot;</span>)) != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l14094"></a><span class="lineno">14094</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> == <span class="charliteral">&#39;n&#39;</span>)</div>
<div class="line"><a name="l14095"></a><span class="lineno">14095</span>&#160;            flag_off = <a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>;</div>
<div class="line"><a name="l14096"></a><span class="lineno">14096</span>&#160;    }</div>
<div class="line"><a name="l14097"></a><span class="lineno">14097</span>&#160;    flag = <a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>;</div>
<div class="line"><a name="l14098"></a><span class="lineno">14098</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0][0] == <span class="charliteral">&#39;r&#39;</span>) {</div>
<div class="line"><a name="l14099"></a><span class="lineno">14099</span>&#160;        flag = <a class="code" href="../../d1/dbe/ash_8c.html#a738a786930f6cbcdfaf8f20ee8d1df78">VREADONLY</a>;</div>
<div class="line"><a name="l14100"></a><span class="lineno">14100</span>&#160;        flag_off = 0; <span class="comment">/* readonly ignores -n */</span></div>
<div class="line"><a name="l14101"></a><span class="lineno">14101</span>&#160;    }</div>
<div class="line"><a name="l14102"></a><span class="lineno">14102</span>&#160;    flag_off = ~flag_off;</div>
<div class="line"><a name="l14103"></a><span class="lineno">14103</span>&#160; </div>
<div class="line"><a name="l14104"></a><span class="lineno">14104</span>&#160;    <span class="comment">/*if (opt_p_not_specified) - bash doesn&#39;t check this. Try &quot;export -p NAME&quot; */</span></div>
<div class="line"><a name="l14105"></a><span class="lineno">14105</span>&#160;    {</div>
<div class="line"><a name="l14106"></a><span class="lineno">14106</span>&#160;        aptr = <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l14107"></a><span class="lineno">14107</span>&#160;        name = *aptr;</div>
<div class="line"><a name="l14108"></a><span class="lineno">14108</span>&#160;        <span class="keywordflow">if</span> (name) {</div>
<div class="line"><a name="l14109"></a><span class="lineno">14109</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l14110"></a><span class="lineno">14110</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(name, <span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l14111"></a><span class="lineno">14111</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l14112"></a><span class="lineno">14112</span>&#160;                    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l14113"></a><span class="lineno">14113</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l14114"></a><span class="lineno">14114</span>&#160;                    <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a> = *<a class="code" href="../../d1/dbe/ash_8c.html#aea9aee2971fd75d7367c7d443983cbb3">findvar</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a68288c0a522225be14fbc8a2a0c116ca">hashvar</a>(name), name);</div>
<div class="line"><a name="l14115"></a><span class="lineno">14115</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>) {</div>
<div class="line"><a name="l14116"></a><span class="lineno">14116</span>&#160;                        <a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags = ((<a class="code" href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a>-&gt;flags | flag) &amp; flag_off);</div>
<div class="line"><a name="l14117"></a><span class="lineno">14117</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14118"></a><span class="lineno">14118</span>&#160;                    }</div>
<div class="line"><a name="l14119"></a><span class="lineno">14119</span>&#160;                }</div>
<div class="line"><a name="l14120"></a><span class="lineno">14120</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393">setvar</a>(name, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, (flag &amp; flag_off));</div>
<div class="line"><a name="l14121"></a><span class="lineno">14121</span>&#160;            } <span class="keywordflow">while</span> ((name = *++aptr) != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l14122"></a><span class="lineno">14122</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l14123"></a><span class="lineno">14123</span>&#160;        }</div>
<div class="line"><a name="l14124"></a><span class="lineno">14124</span>&#160;    }</div>
<div class="line"><a name="l14125"></a><span class="lineno">14125</span>&#160; </div>
<div class="line"><a name="l14126"></a><span class="lineno">14126</span>&#160;    <span class="comment">/* No arguments. Show the list of exported or readonly vars.</span></div>
<div class="line"><a name="l14127"></a><span class="lineno">14127</span>&#160;<span class="comment">     * -n is ignored.</span></div>
<div class="line"><a name="l14128"></a><span class="lineno">14128</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l14129"></a><span class="lineno">14129</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab9c98dd93b38ddd366ffad8f62c50290">showvars</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[0], flag, 0);</div>
<div class="line"><a name="l14130"></a><span class="lineno">14130</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l14131"></a><span class="lineno">14131</span>&#160;}</div>
<div class="line"><a name="l14132"></a><span class="lineno">14132</span>&#160; </div>
<div class="line"><a name="l14133"></a><span class="lineno">14133</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l14134"></a><span class="lineno">14134</span>&#160;<span class="comment"> * Delete a function if it exists.</span></div>
<div class="line"><a name="l14135"></a><span class="lineno">14135</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l14136"></a><span class="lineno">14136</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l14137"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a0752c9da8e3b58921b2f8689bcb5ce58">14137</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a0752c9da8e3b58921b2f8689bcb5ce58">unsetfunc</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a name="l14138"></a><span class="lineno">14138</span>&#160;{</div>
<div class="line"><a name="l14139"></a><span class="lineno">14139</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a> *cmdp;</div>
<div class="line"><a name="l14140"></a><span class="lineno">14140</span>&#160; </div>
<div class="line"><a name="l14141"></a><span class="lineno">14141</span>&#160;    cmdp = <a class="code" href="../../d1/dbe/ash_8c.html#a68ada27b5db4d8a8be684f54bc3ed21f">cmdlookup</a>(name, 0);</div>
<div class="line"><a name="l14142"></a><span class="lineno">14142</span>&#160;    <span class="keywordflow">if</span> (cmdp != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; cmdp-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">cmdtype</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a967d3b0cdfb3be875229c443ca49de02">CMDFUNCTION</a>)</div>
<div class="line"><a name="l14143"></a><span class="lineno">14143</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a77b90abe431d3d7de827fe9e6daf8252">delete_cmd_entry</a>();</div>
<div class="line"><a name="l14144"></a><span class="lineno">14144</span>&#160;}</div>
<div class="line"><a name="l14145"></a><span class="lineno">14145</span>&#160; </div>
<div class="line"><a name="l14146"></a><span class="lineno">14146</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l14147"></a><span class="lineno">14147</span>&#160;<span class="comment"> * The unset builtin command.  We unset the function before we unset the</span></div>
<div class="line"><a name="l14148"></a><span class="lineno">14148</span>&#160;<span class="comment"> * variable to allow a function to be unset when there is a readonly variable</span></div>
<div class="line"><a name="l14149"></a><span class="lineno">14149</span>&#160;<span class="comment"> * with the same name.</span></div>
<div class="line"><a name="l14150"></a><span class="lineno">14150</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l14151"></a><span class="lineno">14151</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l14152"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ada4eae9bac11f48b16aaaeafb282be2b">14152</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ada4eae9bac11f48b16aaaeafb282be2b">unsetcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l14153"></a><span class="lineno">14153</span>&#160;{</div>
<div class="line"><a name="l14154"></a><span class="lineno">14154</span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>;</div>
<div class="line"><a name="l14155"></a><span class="lineno">14155</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l14156"></a><span class="lineno">14156</span>&#160;    <span class="keywordtype">int</span> flag = 0;</div>
<div class="line"><a name="l14157"></a><span class="lineno">14157</span>&#160; </div>
<div class="line"><a name="l14158"></a><span class="lineno">14158</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<span class="stringliteral">&quot;vf&quot;</span>)) != 0) {</div>
<div class="line"><a name="l14159"></a><span class="lineno">14159</span>&#160;        flag = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l14160"></a><span class="lineno">14160</span>&#160;    }</div>
<div class="line"><a name="l14161"></a><span class="lineno">14161</span>&#160; </div>
<div class="line"><a name="l14162"></a><span class="lineno">14162</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>; *<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>; <a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>++) {</div>
<div class="line"><a name="l14163"></a><span class="lineno">14163</span>&#160;        <span class="keywordflow">if</span> (flag != <span class="charliteral">&#39;f&#39;</span>) {</div>
<div class="line"><a name="l14164"></a><span class="lineno">14164</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#affc1ad23277bd6ac90ab21c8f4501307">unsetvar</a>(*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l14165"></a><span class="lineno">14165</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l14166"></a><span class="lineno">14166</span>&#160;        }</div>
<div class="line"><a name="l14167"></a><span class="lineno">14167</span>&#160;        <span class="keywordflow">if</span> (flag != <span class="charliteral">&#39;v&#39;</span>)</div>
<div class="line"><a name="l14168"></a><span class="lineno">14168</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a0752c9da8e3b58921b2f8689bcb5ce58">unsetfunc</a>(*<a class="code" href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a>);</div>
<div class="line"><a name="l14169"></a><span class="lineno">14169</span>&#160;    }</div>
<div class="line"><a name="l14170"></a><span class="lineno">14170</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l14171"></a><span class="lineno">14171</span>&#160;}</div>
<div class="line"><a name="l14172"></a><span class="lineno">14172</span>&#160; </div>
<div class="line"><a name="l14173"></a><span class="lineno">14173</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> timescmd_str[] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = {</div>
<div class="line"><a name="l14174"></a><span class="lineno">14174</span>&#160;    <span class="charliteral">&#39; &#39;</span>,  <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#afd049f7ad59dbe455f460807475c2841">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/d15/times_8h.html#d8/d15/structtms">tms</a>, tms_utime),</div>
<div class="line"><a name="l14175"></a><span class="lineno">14175</span>&#160;    <span class="charliteral">&#39;\n&#39;</span>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#afd049f7ad59dbe455f460807475c2841">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/d15/times_8h.html#d8/d15/structtms">tms</a>, tms_stime),</div>
<div class="line"><a name="l14176"></a><span class="lineno">14176</span>&#160;    <span class="charliteral">&#39; &#39;</span>,  <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#afd049f7ad59dbe455f460807475c2841">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/d15/times_8h.html#d8/d15/structtms">tms</a>, tms_cutime),</div>
<div class="line"><a name="l14177"></a><span class="lineno">14177</span>&#160;    <span class="charliteral">&#39;\n&#39;</span>, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#afd049f7ad59dbe455f460807475c2841">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/d15/times_8h.html#d8/d15/structtms">tms</a>, tms_cstime),</div>
<div class="line"><a name="l14178"></a><span class="lineno">14178</span>&#160;    0</div>
<div class="line"><a name="l14179"></a><span class="lineno">14179</span>&#160;};</div>
<div class="line"><a name="l14180"></a><span class="lineno">14180</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l14181"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac46efcb1c6434a7041104a6077400e9f">14181</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac46efcb1c6434a7041104a6077400e9f">timescmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l14182"></a><span class="lineno">14182</span>&#160;{</div>
<div class="line"><a name="l14183"></a><span class="lineno">14183</span>&#160;    <span class="keywordtype">unsigned</span> clk_tck;</div>
<div class="line"><a name="l14184"></a><span class="lineno">14184</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l14185"></a><span class="lineno">14185</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/d15/times_8h.html#d8/d15/structtms">tms</a> <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l14186"></a><span class="lineno">14186</span>&#160; </div>
<div class="line"><a name="l14187"></a><span class="lineno">14187</span>&#160;    clk_tck = <a class="code" href="../../d7/dd7/libbb_8h.html#a5e5328ce4942c9f0978a9427b26fd73a">bb_clk_tck</a>();</div>
<div class="line"><a name="l14188"></a><span class="lineno">14188</span>&#160; </div>
<div class="line"><a name="l14189"></a><span class="lineno">14189</span>&#160;    <a class="code" href="../../d4/d78/apps_2base_2bash_2lib_2sh_2times_8c.html#a9c40827577895355c0e7db337d3fcbc8">times</a>(&amp;<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>);</div>
<div class="line"><a name="l14190"></a><span class="lineno">14190</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = timescmd_str;</div>
<div class="line"><a name="l14191"></a><span class="lineno">14191</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l14192"></a><span class="lineno">14192</span>&#160;        <span class="keywordtype">unsigned</span> sec, frac;</div>
<div class="line"><a name="l14193"></a><span class="lineno">14193</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l14194"></a><span class="lineno">14194</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = *(clock_t *)(((<span class="keywordtype">char</span> *) &amp;<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>) + <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1]);</div>
<div class="line"><a name="l14195"></a><span class="lineno">14195</span>&#160;        sec = <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> / clk_tck;</div>
<div class="line"><a name="l14196"></a><span class="lineno">14196</span>&#160;        frac = <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> % clk_tck;</div>
<div class="line"><a name="l14197"></a><span class="lineno">14197</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;%um%u.%03us%c&quot;</span>,</div>
<div class="line"><a name="l14198"></a><span class="lineno">14198</span>&#160;            sec / 60, sec % 60,</div>
<div class="line"><a name="l14199"></a><span class="lineno">14199</span>&#160;            (frac * 1000) / clk_tck,</div>
<div class="line"><a name="l14200"></a><span class="lineno">14200</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0]);</div>
<div class="line"><a name="l14201"></a><span class="lineno">14201</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += 2;</div>
<div class="line"><a name="l14202"></a><span class="lineno">14202</span>&#160;    } <span class="keywordflow">while</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l14203"></a><span class="lineno">14203</span>&#160; </div>
<div class="line"><a name="l14204"></a><span class="lineno">14204</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l14205"></a><span class="lineno">14205</span>&#160;}</div>
<div class="line"><a name="l14206"></a><span class="lineno">14206</span>&#160; </div>
<div class="line"><a name="l14207"></a><span class="lineno">14207</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_SH_MATH</span></div>
<div class="line"><a name="l14208"></a><span class="lineno">14208</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l14209"></a><span class="lineno">14209</span>&#160;<span class="comment"> * The let builtin. Partially stolen from GNU Bash, the Bourne Again SHell.</span></div>
<div class="line"><a name="l14210"></a><span class="lineno">14210</span>&#160;<span class="comment"> * Copyright (C) 1987, 1989, 1991 Free Software Foundation, Inc.</span></div>
<div class="line"><a name="l14211"></a><span class="lineno">14211</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l14212"></a><span class="lineno">14212</span>&#160;<span class="comment"> * Copyright (C) 2003 Vladimir Oleynik &lt;dzo@simtreas.ru&gt;</span></div>
<div class="line"><a name="l14213"></a><span class="lineno">14213</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l14214"></a><span class="lineno">14214</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l14215"></a><span class="lineno">14215</span>&#160;letcmd(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l14216"></a><span class="lineno">14216</span>&#160;{</div>
<div class="line"><a name="l14217"></a><span class="lineno">14217</span>&#160;    <a class="code" href="../../da/deb/busybox_2coreutils_2expr_8c.html#acb53d55632fab5ebfafa813740b488ab">arith_t</a> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l14218"></a><span class="lineno">14218</span>&#160; </div>
<div class="line"><a name="l14219"></a><span class="lineno">14219</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>++;</div>
<div class="line"><a name="l14220"></a><span class="lineno">14220</span>&#160;    <span class="keywordflow">if</span> (!*<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l14221"></a><span class="lineno">14221</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;expression expected&quot;</span>);</div>
<div class="line"><a name="l14222"></a><span class="lineno">14222</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l14223"></a><span class="lineno">14223</span>&#160;        <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = ash_arith(*<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l14224"></a><span class="lineno">14224</span>&#160;    } <span class="keywordflow">while</span> (*++<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l14225"></a><span class="lineno">14225</span>&#160; </div>
<div class="line"><a name="l14226"></a><span class="lineno">14226</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l14227"></a><span class="lineno">14227</span>&#160;}</div>
<div class="line"><a name="l14228"></a><span class="lineno">14228</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14229"></a><span class="lineno">14229</span>&#160; </div>
<div class="line"><a name="l14230"></a><span class="lineno">14230</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l14231"></a><span class="lineno">14231</span>&#160;<span class="comment"> * The read builtin. Options:</span></div>
<div class="line"><a name="l14232"></a><span class="lineno">14232</span>&#160;<span class="comment"> *      -r              Do not interpret &#39;\&#39; specially</span></div>
<div class="line"><a name="l14233"></a><span class="lineno">14233</span>&#160;<span class="comment"> *      -s              Turn off echo (tty only)</span></div>
<div class="line"><a name="l14234"></a><span class="lineno">14234</span>&#160;<span class="comment"> *      -n NCHARS       Read NCHARS max</span></div>
<div class="line"><a name="l14235"></a><span class="lineno">14235</span>&#160;<span class="comment"> *      -p PROMPT       Display PROMPT on stderr (if input is from tty)</span></div>
<div class="line"><a name="l14236"></a><span class="lineno">14236</span>&#160;<span class="comment"> *      -t SECONDS      Timeout after SECONDS (tty or pipe only)</span></div>
<div class="line"><a name="l14237"></a><span class="lineno">14237</span>&#160;<span class="comment"> *      -u FD           Read from given FD instead of fd 0</span></div>
<div class="line"><a name="l14238"></a><span class="lineno">14238</span>&#160;<span class="comment"> *      -d DELIM        End on DELIM char, not newline</span></div>
<div class="line"><a name="l14239"></a><span class="lineno">14239</span>&#160;<span class="comment"> * This uses unbuffered input, which may be avoidable in some cases.</span></div>
<div class="line"><a name="l14240"></a><span class="lineno">14240</span>&#160;<span class="comment"> * TODO: bash also has:</span></div>
<div class="line"><a name="l14241"></a><span class="lineno">14241</span>&#160;<span class="comment"> *      -a ARRAY        Read into array[0],[1],etc</span></div>
<div class="line"><a name="l14242"></a><span class="lineno">14242</span>&#160;<span class="comment"> *      -e              Use line editing (tty only)</span></div>
<div class="line"><a name="l14243"></a><span class="lineno">14243</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l14244"></a><span class="lineno">14244</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l14245"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a7b65457df68cce7e22542ee9b220b283">14245</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a7b65457df68cce7e22542ee9b220b283">readcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l14246"></a><span class="lineno">14246</span>&#160;{</div>
<div class="line"><a name="l14247"></a><span class="lineno">14247</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d8/dc3/structbuiltin__read__params.html">builtin_read_params</a> params;</div>
<div class="line"><a name="l14248"></a><span class="lineno">14248</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *r;</div>
<div class="line"><a name="l14249"></a><span class="lineno">14249</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l14250"></a><span class="lineno">14250</span>&#160; </div>
<div class="line"><a name="l14251"></a><span class="lineno">14251</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a>(&amp;params, 0, <span class="keyword">sizeof</span>(params));</div>
<div class="line"><a name="l14252"></a><span class="lineno">14252</span>&#160; </div>
<div class="line"><a name="l14253"></a><span class="lineno">14253</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<span class="stringliteral">&quot;p:u:rt:n:sd:&quot;</span>)) != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l14254"></a><span class="lineno">14254</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) {</div>
<div class="line"><a name="l14255"></a><span class="lineno">14255</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line"><a name="l14256"></a><span class="lineno">14256</span>&#160;            params.<a class="code" href="../../d8/dc3/structbuiltin__read__params.html#a497c1a2a4f093c366ac208c598cb9cbc">opt_p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae0b6ad4393bb233245f037fe5de5626b">optionarg</a>;</div>
<div class="line"><a name="l14257"></a><span class="lineno">14257</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l14258"></a><span class="lineno">14258</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:</div>
<div class="line"><a name="l14259"></a><span class="lineno">14259</span>&#160;            params.<a class="code" href="../../d8/dc3/structbuiltin__read__params.html#ac446818b5a3c0a4edd96b2bd42b9d37b">opt_n</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae0b6ad4393bb233245f037fe5de5626b">optionarg</a>;</div>
<div class="line"><a name="l14260"></a><span class="lineno">14260</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l14261"></a><span class="lineno">14261</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><a name="l14262"></a><span class="lineno">14262</span>&#160;            params.<a class="code" href="../../d8/dc3/structbuiltin__read__params.html#a92fd183eb0b862aa790170a32448a3e1">read_flags</a> |= <a class="code" href="../../d3/de6/shell__common_8h.html#a70226c021572a6eca0c9b0b49e2e4a33a2c107762984bd41e98f09e5abecab217">BUILTIN_READ_SILENT</a>;</div>
<div class="line"><a name="l14263"></a><span class="lineno">14263</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l14264"></a><span class="lineno">14264</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:</div>
<div class="line"><a name="l14265"></a><span class="lineno">14265</span>&#160;            params.<a class="code" href="../../d8/dc3/structbuiltin__read__params.html#aecf373cdd6f18fafdd069c95e162495c">opt_t</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae0b6ad4393bb233245f037fe5de5626b">optionarg</a>;</div>
<div class="line"><a name="l14266"></a><span class="lineno">14266</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l14267"></a><span class="lineno">14267</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:</div>
<div class="line"><a name="l14268"></a><span class="lineno">14268</span>&#160;            params.<a class="code" href="../../d8/dc3/structbuiltin__read__params.html#a92fd183eb0b862aa790170a32448a3e1">read_flags</a> |= <a class="code" href="../../d3/de6/shell__common_8h.html#a70226c021572a6eca0c9b0b49e2e4a33a2673ced02edd17222cc83295210bd34f">BUILTIN_READ_RAW</a>;</div>
<div class="line"><a name="l14269"></a><span class="lineno">14269</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l14270"></a><span class="lineno">14270</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;u&#39;</span>:</div>
<div class="line"><a name="l14271"></a><span class="lineno">14271</span>&#160;            params.<a class="code" href="../../d8/dc3/structbuiltin__read__params.html#a1ecc6da307966b913d79e143b34c1ed4">opt_u</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae0b6ad4393bb233245f037fe5de5626b">optionarg</a>;</div>
<div class="line"><a name="l14272"></a><span class="lineno">14272</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l14273"></a><span class="lineno">14273</span>&#160;<span class="preprocessor">#if BASH_READ_D</span></div>
<div class="line"><a name="l14274"></a><span class="lineno">14274</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line"><a name="l14275"></a><span class="lineno">14275</span>&#160;            params.<a class="code" href="../../d8/dc3/structbuiltin__read__params.html#aef9a79823317451fd14148c812517f15">opt_d</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ae0b6ad4393bb233245f037fe5de5626b">optionarg</a>;</div>
<div class="line"><a name="l14276"></a><span class="lineno">14276</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l14277"></a><span class="lineno">14277</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14278"></a><span class="lineno">14278</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l14279"></a><span class="lineno">14279</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l14280"></a><span class="lineno">14280</span>&#160;        }</div>
<div class="line"><a name="l14281"></a><span class="lineno">14281</span>&#160;    }</div>
<div class="line"><a name="l14282"></a><span class="lineno">14282</span>&#160; </div>
<div class="line"><a name="l14283"></a><span class="lineno">14283</span>&#160;    <span class="keywordflow">if</span> (!ENABLE_ASH_BASH_COMPAT &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>) {</div>
<div class="line"><a name="l14284"></a><span class="lineno">14284</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#adda54c033215173332478fed15ec2fa5">bb_simple_error_msg</a>(<span class="stringliteral">&quot;read: need variable name&quot;</span>);</div>
<div class="line"><a name="l14285"></a><span class="lineno">14285</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l14286"></a><span class="lineno">14286</span>&#160;    }</div>
<div class="line"><a name="l14287"></a><span class="lineno">14287</span>&#160;    params.<a class="code" href="../../d8/dc3/structbuiltin__read__params.html#a1a716920ba53f61336f7f1a7f1410179">argv</a> = <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l14288"></a><span class="lineno">14288</span>&#160;    params.<a class="code" href="../../d8/dc3/structbuiltin__read__params.html#a6f68bd48713412a5060dcafb76826d7a">setvar</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>;</div>
<div class="line"><a name="l14289"></a><span class="lineno">14289</span>&#160;    params.<a class="code" href="../../d8/dc3/structbuiltin__read__params.html#a9370219cf1cded6a705a4683df9cbc16">ifs</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a64704659d7e4b4c6d2a1ce78f70687a1">bltinlookup</a>(<span class="stringliteral">&quot;IFS&quot;</span>); <span class="comment">/* can be NULL */</span></div>
<div class="line"><a name="l14290"></a><span class="lineno">14290</span>&#160; </div>
<div class="line"><a name="l14291"></a><span class="lineno">14291</span>&#160;    <span class="comment">/* &quot;read -s&quot; needs to save/restore termios, can&#39;t allow ^C</span></div>
<div class="line"><a name="l14292"></a><span class="lineno">14292</span>&#160;<span class="comment">     * to jump out of it.</span></div>
<div class="line"><a name="l14293"></a><span class="lineno">14293</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l14294"></a><span class="lineno">14294</span>&#160; again:</div>
<div class="line"><a name="l14295"></a><span class="lineno">14295</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l14296"></a><span class="lineno">14296</span>&#160;    r = <a class="code" href="../../dd/dc1/shell__common_8c.html#a1becfde5c4560030cba5f6e79ecdb74b">shell_builtin_read</a>(&amp;params);</div>
<div class="line"><a name="l14297"></a><span class="lineno">14297</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l14298"></a><span class="lineno">14298</span>&#160; </div>
<div class="line"><a name="l14299"></a><span class="lineno">14299</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a>)r == 1 &amp;&amp; <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a46b83d9f6c23b1b65a8cecfd775ddaed">EINTR</a>) {</div>
<div class="line"><a name="l14300"></a><span class="lineno">14300</span>&#160;        <span class="comment">/* To get SIGCHLD: sleep 1 &amp; read x; echo $x</span></div>
<div class="line"><a name="l14301"></a><span class="lineno">14301</span>&#160;<span class="comment">         * Correct behavior is to not exit &quot;read&quot;</span></div>
<div class="line"><a name="l14302"></a><span class="lineno">14302</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l14303"></a><span class="lineno">14303</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">pending_sig</a> == 0)</div>
<div class="line"><a name="l14304"></a><span class="lineno">14304</span>&#160;            <span class="keywordflow">goto</span> again;</div>
<div class="line"><a name="l14305"></a><span class="lineno">14305</span>&#160;    }</div>
<div class="line"><a name="l14306"></a><span class="lineno">14306</span>&#160; </div>
<div class="line"><a name="l14307"></a><span class="lineno">14307</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a>)r &gt; 1)</div>
<div class="line"><a name="l14308"></a><span class="lineno">14308</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(r);</div>
<div class="line"><a name="l14309"></a><span class="lineno">14309</span>&#160; </div>
<div class="line"><a name="l14310"></a><span class="lineno">14310</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a>)r;</div>
<div class="line"><a name="l14311"></a><span class="lineno">14311</span>&#160;}</div>
<div class="line"><a name="l14312"></a><span class="lineno">14312</span>&#160; </div>
<div class="line"><a name="l14313"></a><span class="lineno">14313</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l14314"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a8bc35a58154cb7cd938bcc152893c68f">14314</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a8bc35a58154cb7cd938bcc152893c68f">umaskcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>)</div>
<div class="line"><a name="l14315"></a><span class="lineno">14315</span>&#160;{</div>
<div class="line"><a name="l14316"></a><span class="lineno">14316</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> permuser[3] <a class="code" href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a> = <span class="stringliteral">&quot;ogu&quot;</span>;</div>
<div class="line"><a name="l14317"></a><span class="lineno">14317</span>&#160; </div>
<div class="line"><a name="l14318"></a><span class="lineno">14318</span>&#160;    <a class="code" href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#ad2933406ba93c0e0d1884fc09c18a0bf">mode_t</a> mask;</div>
<div class="line"><a name="l14319"></a><span class="lineno">14319</span>&#160;    <span class="keywordtype">int</span> symbolic_mode = 0;</div>
<div class="line"><a name="l14320"></a><span class="lineno">14320</span>&#160; </div>
<div class="line"><a name="l14321"></a><span class="lineno">14321</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a>(<span class="stringliteral">&quot;S&quot;</span>) != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l14322"></a><span class="lineno">14322</span>&#160;        symbolic_mode = 1;</div>
<div class="line"><a name="l14323"></a><span class="lineno">14323</span>&#160;    }</div>
<div class="line"><a name="l14324"></a><span class="lineno">14324</span>&#160; </div>
<div class="line"><a name="l14325"></a><span class="lineno">14325</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l14326"></a><span class="lineno">14326</span>&#160;    mask = <a class="code" href="../../dd/d14/Userspace_2musl_2include_2sys_2stat_8h.html#a4c668877ae0bc010d420c2cb9f72ee94">umask</a>(0);</div>
<div class="line"><a name="l14327"></a><span class="lineno">14327</span>&#160;    <a class="code" href="../../dd/d14/Userspace_2musl_2include_2sys_2stat_8h.html#a4c668877ae0bc010d420c2cb9f72ee94">umask</a>(mask);</div>
<div class="line"><a name="l14328"></a><span class="lineno">14328</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l14329"></a><span class="lineno">14329</span>&#160; </div>
<div class="line"><a name="l14330"></a><span class="lineno">14330</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l14331"></a><span class="lineno">14331</span>&#160;        <span class="keywordflow">if</span> (symbolic_mode) {</div>
<div class="line"><a name="l14332"></a><span class="lineno">14332</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[<span class="keyword">sizeof</span>(<span class="stringliteral">&quot;,u=rwx,g=rwx,o=rwx&quot;</span>)];</div>
<div class="line"><a name="l14333"></a><span class="lineno">14333</span>&#160;            <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l14334"></a><span class="lineno">14334</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l14335"></a><span class="lineno">14335</span>&#160; </div>
<div class="line"><a name="l14336"></a><span class="lineno">14336</span>&#160;            <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 2;</div>
<div class="line"><a name="l14337"></a><span class="lineno">14337</span>&#160;            <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l14338"></a><span class="lineno">14338</span>&#160;                *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++ = <span class="charliteral">&#39;,&#39;</span>;</div>
<div class="line"><a name="l14339"></a><span class="lineno">14339</span>&#160;                *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++ = permuser[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>];</div>
<div class="line"><a name="l14340"></a><span class="lineno">14340</span>&#160;                *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++ = <span class="charliteral">&#39;=&#39;</span>;</div>
<div class="line"><a name="l14341"></a><span class="lineno">14341</span>&#160;                <span class="comment">/* mask is 0..0uuugggooo. i=2 selects uuu bits */</span></div>
<div class="line"><a name="l14342"></a><span class="lineno">14342</span>&#160;                <span class="keywordflow">if</span> (!(mask &amp; 0400)) *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++ = <span class="charliteral">&#39;r&#39;</span>;</div>
<div class="line"><a name="l14343"></a><span class="lineno">14343</span>&#160;                <span class="keywordflow">if</span> (!(mask &amp; 0200)) *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++ = <span class="charliteral">&#39;w&#39;</span>;</div>
<div class="line"><a name="l14344"></a><span class="lineno">14344</span>&#160;                <span class="keywordflow">if</span> (!(mask &amp; 0100)) *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++ = <span class="charliteral">&#39;x&#39;</span>;</div>
<div class="line"><a name="l14345"></a><span class="lineno">14345</span>&#160;                mask &lt;&lt;= 3;</div>
<div class="line"><a name="l14346"></a><span class="lineno">14346</span>&#160;                <span class="keywordflow">if</span> (--<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; 0)</div>
<div class="line"><a name="l14347"></a><span class="lineno">14347</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l14348"></a><span class="lineno">14348</span>&#160;            }</div>
<div class="line"><a name="l14349"></a><span class="lineno">14349</span>&#160;            *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l14350"></a><span class="lineno">14350</span>&#160;            <a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<a class="code" href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> + 1);</div>
<div class="line"><a name="l14351"></a><span class="lineno">14351</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l14352"></a><span class="lineno">14352</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a>(<span class="stringliteral">&quot;%04o\n&quot;</span>, mask);</div>
<div class="line"><a name="l14353"></a><span class="lineno">14353</span>&#160;        }</div>
<div class="line"><a name="l14354"></a><span class="lineno">14354</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l14355"></a><span class="lineno">14355</span>&#160;        <span class="keywordtype">char</span> *modestr = *<a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l14356"></a><span class="lineno">14356</span>&#160;        <span class="comment">/* numeric umasks are taken as-is */</span></div>
<div class="line"><a name="l14357"></a><span class="lineno">14357</span>&#160;        <span class="comment">/* symbolic umasks are inverted: &quot;umask a=rx&quot; calls umask(222) */</span></div>
<div class="line"><a name="l14358"></a><span class="lineno">14358</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(modestr[0]))</div>
<div class="line"><a name="l14359"></a><span class="lineno">14359</span>&#160;            mask ^= 0777;</div>
<div class="line"><a name="l14360"></a><span class="lineno">14360</span>&#160;        mask = <a class="code" href="../../d7/dd7/libbb_8h.html#a655274a64423dc76aeb9eb2ae117c2d3">bb_parse_mode</a>(modestr, mask);</div>
<div class="line"><a name="l14361"></a><span class="lineno">14361</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)mask &gt; 0777) {</div>
<div class="line"><a name="l14362"></a><span class="lineno">14362</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(<span class="stringliteral">&quot;illegal mode: %s&quot;</span>, modestr);</div>
<div class="line"><a name="l14363"></a><span class="lineno">14363</span>&#160;        }</div>
<div class="line"><a name="l14364"></a><span class="lineno">14364</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(modestr[0]))</div>
<div class="line"><a name="l14365"></a><span class="lineno">14365</span>&#160;            mask ^= 0777;</div>
<div class="line"><a name="l14366"></a><span class="lineno">14366</span>&#160;        <a class="code" href="../../dd/d14/Userspace_2musl_2include_2sys_2stat_8h.html#a4c668877ae0bc010d420c2cb9f72ee94">umask</a>(mask);</div>
<div class="line"><a name="l14367"></a><span class="lineno">14367</span>&#160;    }</div>
<div class="line"><a name="l14368"></a><span class="lineno">14368</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l14369"></a><span class="lineno">14369</span>&#160;}</div>
<div class="line"><a name="l14370"></a><span class="lineno">14370</span>&#160; </div>
<div class="line"><a name="l14371"></a><span class="lineno">14371</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l14372"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#ac55e5ac415d351c4ff6606d8fb7c23fe">14372</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ac55e5ac415d351c4ff6606d8fb7c23fe">ulimitcmd</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l14373"></a><span class="lineno">14373</span>&#160;{</div>
<div class="line"><a name="l14374"></a><span class="lineno">14374</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/dc1/shell__common_8c.html#a5b1772e89541da8a1a8948a94c659518">shell_builtin_ulimit</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l14375"></a><span class="lineno">14375</span>&#160;}</div>
<div class="line"><a name="l14376"></a><span class="lineno">14376</span>&#160; </div>
<div class="line"><a name="l14377"></a><span class="lineno">14377</span>&#160;<span class="comment">/* ============ main() and helpers */</span></div>
<div class="line"><a name="l14378"></a><span class="lineno">14378</span>&#160; </div>
<div class="line"><a name="l14379"></a><span class="lineno">14379</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l14380"></a><span class="lineno">14380</span>&#160;<span class="comment"> * This routine is called when an error or an interrupt occurs in an</span></div>
<div class="line"><a name="l14381"></a><span class="lineno">14381</span>&#160;<span class="comment"> * interactive shell and control is returned to the main command loop</span></div>
<div class="line"><a name="l14382"></a><span class="lineno">14382</span>&#160;<span class="comment"> * but prior to exitshell.</span></div>
<div class="line"><a name="l14383"></a><span class="lineno">14383</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l14384"></a><span class="lineno">14384</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l14385"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#acca6d3fbb439fcfef48955df3fedd289">14385</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#acca6d3fbb439fcfef48955df3fedd289">exitreset</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l14386"></a><span class="lineno">14386</span>&#160;{</div>
<div class="line"><a name="l14387"></a><span class="lineno">14387</span>&#160;    <span class="comment">/* from eval.c: */</span></div>
<div class="line"><a name="l14388"></a><span class="lineno">14388</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">savestatus</a> &gt;= 0) {</div>
<div class="line"><a name="l14389"></a><span class="lineno">14389</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a9feaa234caa149c15b556505f2a015db">exception_type</a> == <a class="code" href="../../d1/dbe/ash_8c.html#a74a11d72ddd9ac7937d3065d4a46aad1">EXEXIT</a> || <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a> == <a class="code" href="../../d1/dbe/ash_8c.html#aadb3db0d739f2d387e4aad4e9b91c0d0">SKIPFUNCDEF</a>)</div>
<div class="line"><a name="l14390"></a><span class="lineno">14390</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">savestatus</a>;</div>
<div class="line"><a name="l14391"></a><span class="lineno">14391</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">savestatus</a> = -1;</div>
<div class="line"><a name="l14392"></a><span class="lineno">14392</span>&#160;    }</div>
<div class="line"><a name="l14393"></a><span class="lineno">14393</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a> = 0;</div>
<div class="line"><a name="l14394"></a><span class="lineno">14394</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac4d0dde83d370ec10ab8149710a3b611">loopnest</a> = 0;</div>
<div class="line"><a name="l14395"></a><span class="lineno">14395</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6d732e09c2c92f032212a0a5e5729028">inps4</a> = 0;</div>
<div class="line"><a name="l14396"></a><span class="lineno">14396</span>&#160; </div>
<div class="line"><a name="l14397"></a><span class="lineno">14397</span>&#160;    <span class="comment">/* from expand.c: */</span></div>
<div class="line"><a name="l14398"></a><span class="lineno">14398</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af9265d6c3a5373cad84b09975e7c1f92">ifsfree</a>();</div>
<div class="line"><a name="l14399"></a><span class="lineno">14399</span>&#160; </div>
<div class="line"><a name="l14400"></a><span class="lineno">14400</span>&#160;    <span class="comment">/* from redir.c: */</span></div>
<div class="line"><a name="l14401"></a><span class="lineno">14401</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a343fdec5f1d8537b703fbb02d3408856">unwindredir</a>(<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l14402"></a><span class="lineno">14402</span>&#160;}</div>
<div class="line"><a name="l14403"></a><span class="lineno">14403</span>&#160; </div>
<div class="line"><a name="l14404"></a><span class="lineno">14404</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l14405"></a><span class="lineno">14405</span>&#160;<span class="comment"> * This routine is called when an error or an interrupt occurs in an</span></div>
<div class="line"><a name="l14406"></a><span class="lineno">14406</span>&#160;<span class="comment"> * interactive shell and control is returned to the main command loop.</span></div>
<div class="line"><a name="l14407"></a><span class="lineno">14407</span>&#160;<span class="comment"> * (In dash, this function is auto-generated by build machinery).</span></div>
<div class="line"><a name="l14408"></a><span class="lineno">14408</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l14409"></a><span class="lineno">14409</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l14410"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aebbba89eb574f823428be75d0ffc10c9">14410</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aebbba89eb574f823428be75d0ffc10c9">reset</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l14411"></a><span class="lineno">14411</span>&#160;{</div>
<div class="line"><a name="l14412"></a><span class="lineno">14412</span>&#160;    <span class="comment">/* from input.c: */</span></div>
<div class="line"><a name="l14413"></a><span class="lineno">14413</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ad5c73cd25605aa1ec12d8b5678cec38f">left_in_buffer</a> = 0;</div>
<div class="line"><a name="l14414"></a><span class="lineno">14414</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">left_in_line</a> = 0;      <span class="comment">/* clear input buffer */</span></div>
<div class="line"><a name="l14415"></a><span class="lineno">14415</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a>-&gt;<a class="code" href="../../d1/dbe/ash_8c.html#a92f3dd9f6440c4acbd43c0bac43cb4f5">unget</a> = 0;</div>
<div class="line"><a name="l14416"></a><span class="lineno">14416</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9022735c5ae9a49c485bea23d17f2e44">popallfiles</a>();</div>
<div class="line"><a name="l14417"></a><span class="lineno">14417</span>&#160; </div>
<div class="line"><a name="l14418"></a><span class="lineno">14418</span>&#160;    <span class="comment">/* from var.c: */</span></div>
<div class="line"><a name="l14419"></a><span class="lineno">14419</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ad4e5bf54695044926d7a370d09812a86">unwindlocalvars</a>(<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l14420"></a><span class="lineno">14420</span>&#160;}</div>
<div class="line"><a name="l14421"></a><span class="lineno">14421</span>&#160; </div>
<div class="line"><a name="l14422"></a><span class="lineno">14422</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l14423"></a><span class="lineno">14423</span>&#160;<span class="comment"> * Called to exit the shell.</span></div>
<div class="line"><a name="l14424"></a><span class="lineno">14424</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l14425"></a><span class="lineno">14425</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l14426"></a><span class="lineno">14426</span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#ace06db56149bfddd0498cf709c4065f1">exitshell</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l14427"></a><span class="lineno">14427</span>&#160;{</div>
<div class="line"><a name="l14428"></a><span class="lineno">14428</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> <a class="code" href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">loc</a>;</div>
<div class="line"><a name="l14429"></a><span class="lineno">14429</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l14430"></a><span class="lineno">14430</span>&#160; </div>
<div class="line"><a name="l14431"></a><span class="lineno">14431</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_EDITING_SAVE_ON_EXIT</span></div>
<div class="line"><a name="l14432"></a><span class="lineno">14432</span>&#160;    save_history(line_input_state); <span class="comment">/* may be NULL */</span></div>
<div class="line"><a name="l14433"></a><span class="lineno">14433</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14434"></a><span class="lineno">14434</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">savestatus</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a>;</div>
<div class="line"><a name="l14435"></a><span class="lineno">14435</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;pid %d, exitshell(%d)\n&quot;</span>, <a class="code" href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid</a>(), <a class="code" href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">savestatus</a>));</div>
<div class="line"><a name="l14436"></a><span class="lineno">14436</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#ac7cd296b63b31ab3d8cd447e40d0eedc">setjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">loc</a>.loc))</div>
<div class="line"><a name="l14437"></a><span class="lineno">14437</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>;</div>
<div class="line"><a name="l14438"></a><span class="lineno">14438</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">loc</a>;</div>
<div class="line"><a name="l14439"></a><span class="lineno">14439</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[0];</div>
<div class="line"><a name="l14440"></a><span class="lineno">14440</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {</div>
<div class="line"><a name="l14441"></a><span class="lineno">14441</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a>[0] = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l14442"></a><span class="lineno">14442</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a> = 0;</div>
<div class="line"><a name="l14443"></a><span class="lineno">14443</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a20992d7f055cb9f17f94f97c830e819e">trap_depth</a>++;</div>
<div class="line"><a name="l14444"></a><span class="lineno">14444</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a0bc7661d56fd1d874a1ec963d80dcf3a">evalstring</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, 0);</div>
<div class="line"><a name="l14445"></a><span class="lineno">14445</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a20992d7f055cb9f17f94f97c830e819e">trap_depth</a>--;</div>
<div class="line"><a name="l14446"></a><span class="lineno">14446</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a> = <a class="code" href="../../d1/dbe/ash_8c.html#aadb3db0d739f2d387e4aad4e9b91c0d0">SKIPFUNCDEF</a>;</div>
<div class="line"><a name="l14447"></a><span class="lineno">14447</span>&#160;        <span class="comment">/*free(p); - we&#39;ll exit soon */</span></div>
<div class="line"><a name="l14448"></a><span class="lineno">14448</span>&#160;    }</div>
<div class="line"><a name="l14449"></a><span class="lineno">14449</span>&#160; <a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>:</div>
<div class="line"><a name="l14450"></a><span class="lineno">14450</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#acca6d3fbb439fcfef48955df3fedd289">exitreset</a>();</div>
<div class="line"><a name="l14451"></a><span class="lineno">14451</span>&#160;    <span class="comment">/* dash wraps setjobctl(0) in &quot;if (setjmp(loc.loc) == 0) {...}&quot;.</span></div>
<div class="line"><a name="l14452"></a><span class="lineno">14452</span>&#160;<span class="comment">     * our setjobctl(0) does not panic if tcsetpgrp fails inside it.</span></div>
<div class="line"><a name="l14453"></a><span class="lineno">14453</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l14454"></a><span class="lineno">14454</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a66ba7a9d81c7e47c56780aaffbd29aea">setjobctl</a>(0);</div>
<div class="line"><a name="l14455"></a><span class="lineno">14455</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8b4918e978236b595cd0683297407875">flush_stdout_stderr</a>();</div>
<div class="line"><a name="l14456"></a><span class="lineno">14456</span>&#160;    <a class="code" href="../../d8/d34/ldstart_8c.html#ad847d936639f9d68db8792d4be7a79a1">_exit</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a>);</div>
<div class="line"><a name="l14457"></a><span class="lineno">14457</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l14458"></a><span class="lineno">14458</span>&#160;}</div>
<div class="line"><a name="l14459"></a><span class="lineno">14459</span>&#160; </div>
<div class="line"><a name="l14460"></a><span class="lineno">14460</span>&#160;<span class="comment">/* Don&#39;t inline: conserve stack of caller from having our locals too */</span></div>
<div class="line"><a name="l14461"></a><span class="lineno">14461</span>&#160;<span class="keyword">static</span> <a class="code" href="../../de/d03/platform_8h.html#a1b173d22e57d9395897acbd8de62d505">NOINLINE</a> <span class="keywordtype">void</span></div>
<div class="line"><a name="l14462"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#aaa210a795bb6e642eaa09efb0abe6f6a">14462</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#aaa210a795bb6e642eaa09efb0abe6f6a">init</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l14463"></a><span class="lineno">14463</span>&#160;{</div>
<div class="line"><a name="l14464"></a><span class="lineno">14464</span>&#160;    <span class="comment">/* we will never free this */</span></div>
<div class="line"><a name="l14465"></a><span class="lineno">14465</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6dafab20e413267c59b44d2eccd94ed7">basepf</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">next_to_pgetc</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a6dafab20e413267c59b44d2eccd94ed7">basepf</a>.<a class="code" href="../../d1/dbe/ash_8c.html#ae1b927e3da6182fb8d5ab0bd12d3b824">buf</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a27cf7b0a48a767c21a2c6eb91713b243">ckmalloc</a>(<a class="code" href="../../d1/dbe/ash_8c.html#a699bcd70ab05310cf0eb6774a79cb56e">IBUFSIZ</a>);</div>
<div class="line"><a name="l14466"></a><span class="lineno">14466</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a6dafab20e413267c59b44d2eccd94ed7">basepf</a>.<a class="code" href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">linno</a> = 1;</div>
<div class="line"><a name="l14467"></a><span class="lineno">14467</span>&#160; </div>
<div class="line"><a name="l14468"></a><span class="lineno">14468</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5360861a12cae4ed3f5fe3b6d8cbb191">sigmode</a>[<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a0e63521a64cc8bc2b91d36a87d32c9f8">SIGCHLD</a> - 1] = <a class="code" href="../../d1/dbe/ash_8c.html#a82df78fb7744602bfe7801a950f868ee">S_DFL</a>; <span class="comment">/* ensure we install handler even if it is SIG_IGNed */</span></div>
<div class="line"><a name="l14469"></a><span class="lineno">14469</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a0e63521a64cc8bc2b91d36a87d32c9f8">SIGCHLD</a>);</div>
<div class="line"><a name="l14470"></a><span class="lineno">14470</span>&#160; </div>
<div class="line"><a name="l14471"></a><span class="lineno">14471</span>&#160;    {</div>
<div class="line"><a name="l14472"></a><span class="lineno">14472</span>&#160;        <span class="keywordtype">char</span> **envp;</div>
<div class="line"><a name="l14473"></a><span class="lineno">14473</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l14474"></a><span class="lineno">14474</span>&#160; </div>
<div class="line"><a name="l14475"></a><span class="lineno">14475</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ac51df50a60e2a664eaf61e7fa8e17ace">initvar</a>();</div>
<div class="line"><a name="l14476"></a><span class="lineno">14476</span>&#160;        <span class="keywordflow">for</span> (envp = <a class="code" href="../../dc/de7/bash_2support_2printenv_8c.html#aa006daaf11f1e2e45a6ababaf463212b">environ</a>; envp &amp;&amp; *envp; envp++) {</div>
<div class="line"><a name="l14477"></a><span class="lineno">14477</span>&#160;<span class="comment">/* Used to have</span></div>
<div class="line"><a name="l14478"></a><span class="lineno">14478</span>&#160;<span class="comment"> *          p = endofname(*envp);</span></div>
<div class="line"><a name="l14479"></a><span class="lineno">14479</span>&#160;<span class="comment"> *          if (p != *envp &amp;&amp; *p == &#39;=&#39;) {</span></div>
<div class="line"><a name="l14480"></a><span class="lineno">14480</span>&#160;<span class="comment"> * here to weed out badly-named variables, but this breaks</span></div>
<div class="line"><a name="l14481"></a><span class="lineno">14481</span>&#160;<span class="comment"> * scenarios where people do want them passed to children:</span></div>
<div class="line"><a name="l14482"></a><span class="lineno">14482</span>&#160;<span class="comment"> * import os</span></div>
<div class="line"><a name="l14483"></a><span class="lineno">14483</span>&#160;<span class="comment"> * os.environ[&quot;test-test&quot;]=&quot;test&quot;</span></div>
<div class="line"><a name="l14484"></a><span class="lineno">14484</span>&#160;<span class="comment"> * if os.fork() == 0:</span></div>
<div class="line"><a name="l14485"></a><span class="lineno">14485</span>&#160;<span class="comment"> *   os.execv(&quot;ash&quot;, [ &#39;ash&#39;, &#39;-c&#39;, &#39;eval $(export -p); echo OK&#39; ])  # fixes this</span></div>
<div class="line"><a name="l14486"></a><span class="lineno">14486</span>&#160;<span class="comment"> * os.execv(&quot;ash&quot;, [ &#39;ash&#39;, &#39;-c&#39;, &#39;env | grep test-test&#39; ])  # breaks this</span></div>
<div class="line"><a name="l14487"></a><span class="lineno">14487</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l14488"></a><span class="lineno">14488</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a>(*envp, <span class="charliteral">&#39;=&#39;</span>)) {</div>
<div class="line"><a name="l14489"></a><span class="lineno">14489</span>&#160;                <a class="code" href="../../d1/dbe/ash_8c.html#ad585c124f797c55d024253708395b6b2">setvareq</a>(*envp, <a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>|<a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>);</div>
<div class="line"><a name="l14490"></a><span class="lineno">14490</span>&#160;            }</div>
<div class="line"><a name="l14491"></a><span class="lineno">14491</span>&#160;        }</div>
<div class="line"><a name="l14492"></a><span class="lineno">14492</span>&#160; </div>
<div class="line"><a name="l14493"></a><span class="lineno">14493</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad585c124f797c55d024253708395b6b2">setvareq</a>((<span class="keywordtype">char</span>*)defifsvar, <a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>);</div>
<div class="line"><a name="l14494"></a><span class="lineno">14494</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad585c124f797c55d024253708395b6b2">setvareq</a>((<span class="keywordtype">char</span>*)defoptindvar, <a class="code" href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a>);</div>
<div class="line"><a name="l14495"></a><span class="lineno">14495</span>&#160; </div>
<div class="line"><a name="l14496"></a><span class="lineno">14496</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>(<span class="stringliteral">&quot;PPID&quot;</span>, <a class="code" href="../../d7/dd7/libbb_8h.html#abee8e38e713314dce814d218fdd4224e">utoa</a>(<a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ac6d7f7ade00dcdc302b0da5664eee812">getppid</a>()));</div>
<div class="line"><a name="l14497"></a><span class="lineno">14497</span>&#160;<span class="preprocessor">#if BASH_SHLVL_VAR</span></div>
<div class="line"><a name="l14498"></a><span class="lineno">14498</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;SHLVL&quot;</span>);</div>
<div class="line"><a name="l14499"></a><span class="lineno">14499</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393">setvar</a>(<span class="stringliteral">&quot;SHLVL&quot;</span>, <a class="code" href="../../d7/dd7/libbb_8h.html#abee8e38e713314dce814d218fdd4224e">utoa</a>((<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> ? <a class="code" href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) : 0) + 1), <a class="code" href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a>);</div>
<div class="line"><a name="l14500"></a><span class="lineno">14500</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14501"></a><span class="lineno">14501</span>&#160;<span class="preprocessor">#if BASH_HOSTNAME_VAR</span></div>
<div class="line"><a name="l14502"></a><span class="lineno">14502</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;HOSTNAME&quot;</span>)) {</div>
<div class="line"><a name="l14503"></a><span class="lineno">14503</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d5/d3d/utsname_8h.html#db/d19/structutsname">utsname</a> uts;</div>
<div class="line"><a name="l14504"></a><span class="lineno">14504</span>&#160;            <a class="code" href="../../d5/d3d/utsname_8h.html#a883b5b5a1cd4a1f6a5837c1cf98ede1c">uname</a>(&amp;uts);</div>
<div class="line"><a name="l14505"></a><span class="lineno">14505</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>(<span class="stringliteral">&quot;HOSTNAME&quot;</span>, uts.<a class="code" href="../../d5/d3d/utsname_8h.html#a89e7cdb3e9b91748cf5a1a58279cf048">nodename</a>);</div>
<div class="line"><a name="l14506"></a><span class="lineno">14506</span>&#160;        }</div>
<div class="line"><a name="l14507"></a><span class="lineno">14507</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14508"></a><span class="lineno">14508</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;PWD&quot;</span>);</div>
<div class="line"><a name="l14509"></a><span class="lineno">14509</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {</div>
<div class="line"><a name="l14510"></a><span class="lineno">14510</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> st1, st2;</div>
<div class="line"><a name="l14511"></a><span class="lineno">14511</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0] != <span class="charliteral">&#39;/&#39;</span> || <a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, &amp;st1) || <a class="code" href="../../d0/db0/Kernel__IO_8cpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a>(<span class="stringliteral">&quot;.&quot;</span>, &amp;st2)</div>
<div class="line"><a name="l14512"></a><span class="lineno">14512</span>&#160;             || st1.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#ac5b90090ae323741ae4c9e4f3683a29f">st_dev</a> != st2.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#ac5b90090ae323741ae4c9e4f3683a29f">st_dev</a> || st1.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a9769ed8f0d4c5a9f329c32bc92479d56">st_ino</a> != st2.<a class="code" href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a9769ed8f0d4c5a9f329c32bc92479d56">st_ino</a></div>
<div class="line"><a name="l14513"></a><span class="lineno">14513</span>&#160;            ) {</div>
<div class="line"><a name="l14514"></a><span class="lineno">14514</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l14515"></a><span class="lineno">14515</span>&#160;            }</div>
<div class="line"><a name="l14516"></a><span class="lineno">14516</span>&#160;        }</div>
<div class="line"><a name="l14517"></a><span class="lineno">14517</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a412aa44424e0422c0e8ae7829c1526a5">setpwd</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, 0);</div>
<div class="line"><a name="l14518"></a><span class="lineno">14518</span>&#160;    }</div>
<div class="line"><a name="l14519"></a><span class="lineno">14519</span>&#160;}</div>
<div class="line"><a name="l14520"></a><span class="lineno">14520</span>&#160; </div>
<div class="line"><a name="l14521"></a><span class="lineno">14521</span>&#160; </div>
<div class="line"><a name="l14522"></a><span class="lineno">14522</span>&#160;<span class="comment">//usage:#define ash_trivial_usage</span></div>
<div class="line"><a name="l14523"></a><span class="lineno">14523</span>&#160;<span class="comment">//usage:    &quot;[-il] [-|+Cabefmnuvx] [-|+o OPT]... [-c &#39;SCRIPT&#39; [ARG0 ARGS] | FILE ARGS | -s ARGS]&quot;</span></div>
<div class="line"><a name="l14525"></a><span class="lineno">14525</span>&#160;<span class="comment"></span><span class="comment">//usage:#define ash_full_usage &quot;\n\n&quot;</span></div>
<div class="line"><a name="l14526"></a><span class="lineno">14526</span>&#160;<span class="comment">//usage:    &quot;Unix shell interpreter&quot;</span></div>
<div class="line"><a name="l14527"></a><span class="lineno">14527</span>&#160; </div>
<div class="line"><a name="l14528"></a><span class="lineno">14528</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l14529"></a><span class="lineno">14529</span>&#160;<span class="comment"> * Process the shell command line arguments.</span></div>
<div class="line"><a name="l14530"></a><span class="lineno">14530</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l14531"></a><span class="lineno">14531</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l14532"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#af61e9df9938654d90a8a7af4d4fba191">14532</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#af61e9df9938654d90a8a7af4d4fba191">procargs</a>(<span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l14533"></a><span class="lineno">14533</span>&#160;{</div>
<div class="line"><a name="l14534"></a><span class="lineno">14534</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l14535"></a><span class="lineno">14535</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *xminusc;</div>
<div class="line"><a name="l14536"></a><span class="lineno">14536</span>&#160;    <span class="keywordtype">char</span> **xargv;</div>
<div class="line"><a name="l14537"></a><span class="lineno">14537</span>&#160;    <span class="keywordtype">int</span> login_sh;</div>
<div class="line"><a name="l14538"></a><span class="lineno">14538</span>&#160; </div>
<div class="line"><a name="l14539"></a><span class="lineno">14539</span>&#160;    xargv = <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>;</div>
<div class="line"><a name="l14540"></a><span class="lineno">14540</span>&#160;    login_sh = xargv[0] &amp;&amp; xargv[0][0] == <span class="charliteral">&#39;-&#39;</span>;</div>
<div class="line"><a name="l14541"></a><span class="lineno">14541</span>&#160;<span class="preprocessor">#if NUM_SCRIPTS &gt; 0</span></div>
<div class="line"><a name="l14542"></a><span class="lineno">14542</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">minusc</a>)</div>
<div class="line"><a name="l14543"></a><span class="lineno">14543</span>&#160;        <span class="keywordflow">goto</span> setarg0;</div>
<div class="line"><a name="l14544"></a><span class="lineno">14544</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14545"></a><span class="lineno">14545</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a4d8f94d47a736d70ada8c5afbe26b248">arg0</a> = xargv[0];</div>
<div class="line"><a name="l14546"></a><span class="lineno">14546</span>&#160;    <span class="comment">/* if (xargv[0]) - mmm, this is always true! */</span></div>
<div class="line"><a name="l14547"></a><span class="lineno">14547</span>&#160;        xargv++;</div>
<div class="line"><a name="l14548"></a><span class="lineno">14548</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a> = xargv;</div>
<div class="line"><a name="l14549"></a><span class="lineno">14549</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d1/dbe/ash_8c.html#add71b5aa3cf93ea594bead45162618e7a436a02069b564b58bce17331bcf4759b">NOPTS</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++)</div>
<div class="line"><a name="l14550"></a><span class="lineno">14550</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] = 2;</div>
<div class="line"><a name="l14551"></a><span class="lineno">14551</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a6f812c93b216ef41d56f26c14b624b76">options</a>(&amp;login_sh)) {</div>
<div class="line"><a name="l14552"></a><span class="lineno">14552</span>&#160;        <span class="comment">/* it already printed err message */</span></div>
<div class="line"><a name="l14553"></a><span class="lineno">14553</span>&#160;        raise_exception(<a class="code" href="../../d1/dbe/ash_8c.html#ade601d2771be2d1ffb456155112dcca6">EXERROR</a>);</div>
<div class="line"><a name="l14554"></a><span class="lineno">14554</span>&#160;    }</div>
<div class="line"><a name="l14555"></a><span class="lineno">14555</span>&#160;    xargv = <a class="code" href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a>;</div>
<div class="line"><a name="l14556"></a><span class="lineno">14556</span>&#160;    xminusc = <a class="code" href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">minusc</a>;</div>
<div class="line"><a name="l14557"></a><span class="lineno">14557</span>&#160;    <span class="keywordflow">if</span> (*xargv == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l14558"></a><span class="lineno">14558</span>&#160;        <span class="keywordflow">if</span> (xminusc)</div>
<div class="line"><a name="l14559"></a><span class="lineno">14559</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a>(bb_msg_requires_arg, <span class="stringliteral">&quot;-c&quot;</span>);</div>
<div class="line"><a name="l14560"></a><span class="lineno">14560</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a6710fbf8aad91222515ef7080999b862">sflag</a> = 1;</div>
<div class="line"><a name="l14561"></a><span class="lineno">14561</span>&#160;    }</div>
<div class="line"><a name="l14562"></a><span class="lineno">14562</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a> == 2 <span class="comment">/* no explicit -i given */</span></div>
<div class="line"><a name="l14563"></a><span class="lineno">14563</span>&#160;     &amp;&amp; <a class="code" href="../../d1/dbe/ash_8c.html#a6710fbf8aad91222515ef7080999b862">sflag</a> == 1 <span class="comment">/* -s given (or implied) */</span></div>
<div class="line"><a name="l14564"></a><span class="lineno">14564</span>&#160;     &amp;&amp; !<a class="code" href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">minusc</a> <span class="comment">/* bash compat: ash -sc &#39;echo $-&#39; is not interactive (dash is) */</span></div>
<div class="line"><a name="l14565"></a><span class="lineno">14565</span>&#160;     &amp;&amp; <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ab4155ffea05dab2dafae68fd88a0517f">isatty</a>(0) &amp;&amp; <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ab4155ffea05dab2dafae68fd88a0517f">isatty</a>(1) <span class="comment">/* we are on tty */</span></div>
<div class="line"><a name="l14566"></a><span class="lineno">14566</span>&#160;    ) {</div>
<div class="line"><a name="l14567"></a><span class="lineno">14567</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a> = 1;</div>
<div class="line"><a name="l14568"></a><span class="lineno">14568</span>&#160;    }</div>
<div class="line"><a name="l14569"></a><span class="lineno">14569</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a39163771f358bdc0ef85126a2014d86d">mflag</a> == 2)</div>
<div class="line"><a name="l14570"></a><span class="lineno">14570</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a39163771f358bdc0ef85126a2014d86d">mflag</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a>;</div>
<div class="line"><a name="l14571"></a><span class="lineno">14571</span>&#160;    <span class="comment">/* Unset options which weren&#39;t explicitly set or unset */</span></div>
<div class="line"><a name="l14572"></a><span class="lineno">14572</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d1/dbe/ash_8c.html#add71b5aa3cf93ea594bead45162618e7a436a02069b564b58bce17331bcf4759b">NOPTS</a>; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++)</div>
<div class="line"><a name="l14573"></a><span class="lineno">14573</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] &amp;= 1; <span class="comment">/* same effect as &quot;if (optlist[i] == 2) optlist[i] = 0;&quot; */</span></div>
<div class="line"><a name="l14574"></a><span class="lineno">14574</span>&#160;<span class="preprocessor">#if DEBUG == 2</span></div>
<div class="line"><a name="l14575"></a><span class="lineno">14575</span>&#160;    <a class="code" href="../../d6/d66/structdebug.html">debug</a> = 1;</div>
<div class="line"><a name="l14576"></a><span class="lineno">14576</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14577"></a><span class="lineno">14577</span>&#160;    <span class="comment">/* POSIX 1003.2: first arg after &quot;-c CMD&quot; is $0, remainder $1... */</span></div>
<div class="line"><a name="l14578"></a><span class="lineno">14578</span>&#160;    <span class="keywordflow">if</span> (xminusc) {</div>
<div class="line"><a name="l14579"></a><span class="lineno">14579</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">minusc</a> = *xargv++;</div>
<div class="line"><a name="l14580"></a><span class="lineno">14580</span>&#160;        <span class="keywordflow">if</span> (*xargv)</div>
<div class="line"><a name="l14581"></a><span class="lineno">14581</span>&#160;            <span class="keywordflow">goto</span> setarg0;</div>
<div class="line"><a name="l14582"></a><span class="lineno">14582</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbe/ash_8c.html#a6710fbf8aad91222515ef7080999b862">sflag</a>) {</div>
<div class="line"><a name="l14583"></a><span class="lineno">14583</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a7bf34b1523ebaf627c8b95f35957e3bc">setinputfile</a>(*xargv, 0);</div>
<div class="line"><a name="l14584"></a><span class="lineno">14584</span>&#160; setarg0:</div>
<div class="line"><a name="l14585"></a><span class="lineno">14585</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a4d8f94d47a736d70ada8c5afbe26b248">arg0</a> = *xargv++;</div>
<div class="line"><a name="l14586"></a><span class="lineno">14586</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ad4f846f3f19caa87ad67d24b3a77f307">commandname</a> = <a class="code" href="../../d1/dbe/ash_8c.html#a4d8f94d47a736d70ada8c5afbe26b248">arg0</a>;</div>
<div class="line"><a name="l14587"></a><span class="lineno">14587</span>&#160;    }</div>
<div class="line"><a name="l14588"></a><span class="lineno">14588</span>&#160; </div>
<div class="line"><a name="l14589"></a><span class="lineno">14589</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.p = xargv;</div>
<div class="line"><a name="l14590"></a><span class="lineno">14590</span>&#160;<span class="preprocessor">#if ENABLE_ASH_GETOPTS</span></div>
<div class="line"><a name="l14591"></a><span class="lineno">14591</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optind = 1;</div>
<div class="line"><a name="l14592"></a><span class="lineno">14592</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.optoff = -1;</div>
<div class="line"><a name="l14593"></a><span class="lineno">14593</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14594"></a><span class="lineno">14594</span>&#160;    <span class="comment">/* assert(shellparam.malloced == 0 &amp;&amp; shellparam.nparam == 0); */</span></div>
<div class="line"><a name="l14595"></a><span class="lineno">14595</span>&#160;    <span class="keywordflow">while</span> (*xargv) {</div>
<div class="line"><a name="l14596"></a><span class="lineno">14596</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a>.nparam++;</div>
<div class="line"><a name="l14597"></a><span class="lineno">14597</span>&#160;        xargv++;</div>
<div class="line"><a name="l14598"></a><span class="lineno">14598</span>&#160;    }</div>
<div class="line"><a name="l14599"></a><span class="lineno">14599</span>&#160; </div>
<div class="line"><a name="l14600"></a><span class="lineno">14600</span>&#160;    <span class="comment">/* Interactive bash re-enables SIGHUP which is SIG_IGNed on entry.</span></div>
<div class="line"><a name="l14601"></a><span class="lineno">14601</span>&#160;<span class="comment">     * Try:</span></div>
<div class="line"><a name="l14602"></a><span class="lineno">14602</span>&#160;<span class="comment">     * trap &#39;&#39; hup; bash; echo RET  # type &quot;kill -hup $$&quot;, see SIGHUP having effect</span></div>
<div class="line"><a name="l14603"></a><span class="lineno">14603</span>&#160;<span class="comment">     * trap &#39;&#39; hup; bash -c &#39;kill -hup $$; echo ALIVE&#39;  # here SIGHUP is SIG_IGNed</span></div>
<div class="line"><a name="l14604"></a><span class="lineno">14604</span>&#160;<span class="comment">     * NB: must do it before setting up signals (in optschanged())</span></div>
<div class="line"><a name="l14605"></a><span class="lineno">14605</span>&#160;<span class="comment">     * and reading .profile etc (after we return from here):</span></div>
<div class="line"><a name="l14606"></a><span class="lineno">14606</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l14607"></a><span class="lineno">14607</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a>)</div>
<div class="line"><a name="l14608"></a><span class="lineno">14608</span>&#160;        <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#a6fc82cd60ac4b31003cf10983a4d5cde">signal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a136c64ec2d1306de745e39d6aee362ca">SIGHUP</a>, <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#a27d5dc561093d6243542e6a2465bc0f8">SIG_DFL</a>);</div>
<div class="line"><a name="l14609"></a><span class="lineno">14609</span>&#160; </div>
<div class="line"><a name="l14610"></a><span class="lineno">14610</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a8be6f6bcc7c0b48114ca32fa3c0e467b">optschanged</a>();</div>
<div class="line"><a name="l14611"></a><span class="lineno">14611</span>&#160; </div>
<div class="line"><a name="l14612"></a><span class="lineno">14612</span>&#160;    <span class="keywordflow">return</span> login_sh;</div>
<div class="line"><a name="l14613"></a><span class="lineno">14613</span>&#160;}</div>
<div class="line"><a name="l14614"></a><span class="lineno">14614</span>&#160; </div>
<div class="line"><a name="l14615"></a><span class="lineno">14615</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l14616"></a><span class="lineno">14616</span>&#160;<span class="comment"> * Read /etc/profile, ~/.profile, $ENV.</span></div>
<div class="line"><a name="l14617"></a><span class="lineno">14617</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l14618"></a><span class="lineno">14618</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l14619"></a><span class="lineno"><a class="line" href="../../d1/dbe/ash_8c.html#a34ec879a6a616dfa98f10112f502746f">14619</a></span>&#160;<a class="code" href="../../d1/dbe/ash_8c.html#a34ec879a6a616dfa98f10112f502746f">read_profile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a name="l14620"></a><span class="lineno">14620</span>&#160;{</div>
<div class="line"><a name="l14621"></a><span class="lineno">14621</span>&#160;    name = <a class="code" href="../../d1/dbe/ash_8c.html#a435931295fba5edd709b9d369def7329">expandstr</a>(name, <a class="code" href="../../d1/dbe/ash_8c.html#aaa6071f56fe3ef665c45682e2875e1c8">DQSYNTAX</a>);</div>
<div class="line"><a name="l14622"></a><span class="lineno">14622</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a7bf34b1523ebaf627c8b95f35957e3bc">setinputfile</a>(name, <a class="code" href="../../d1/dbe/ash_8c.html#a054c7815afdeb13143a83e92525cbd25a8044562dad2c1168d3b50b34ba09ef3d">INPUT_PUSH_FILE</a> | <a class="code" href="../../d1/dbe/ash_8c.html#a054c7815afdeb13143a83e92525cbd25ac3737a4d9baa3b6578a95a1e3c19e321">INPUT_NOFILE_OK</a>) &lt; 0)</div>
<div class="line"><a name="l14623"></a><span class="lineno">14623</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l14624"></a><span class="lineno">14624</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#af47d09d7fff889150d4c3c90c793a10c">cmdloop</a>(0);</div>
<div class="line"><a name="l14625"></a><span class="lineno">14625</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a941a7cfd89c5c8522aaec5404ee554f4">popfile</a>();</div>
<div class="line"><a name="l14626"></a><span class="lineno">14626</span>&#160;}</div>
<div class="line"><a name="l14627"></a><span class="lineno">14627</span>&#160; </div>
<div class="line"><a name="l14628"></a><span class="lineno">14628</span>&#160;<span class="preprocessor">#if PROFILE</span></div>
<div class="line"><a name="l14629"></a><span class="lineno">14629</span>&#160;<span class="keyword">static</span> <span class="keywordtype">short</span> profile_buf[16384];</div>
<div class="line"><a name="l14630"></a><span class="lineno">14630</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> etext();</div>
<div class="line"><a name="l14631"></a><span class="lineno">14631</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14632"></a><span class="lineno">14632</span>&#160; </div>
<div class="line"><a name="l14633"></a><span class="lineno">14633</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l14634"></a><span class="lineno">14634</span>&#160;<span class="comment"> * Main routine.  We initialize things, parse the arguments, execute</span></div>
<div class="line"><a name="l14635"></a><span class="lineno">14635</span>&#160;<span class="comment"> * profiles if we&#39;re a login shell, and then call cmdloop to execute</span></div>
<div class="line"><a name="l14636"></a><span class="lineno">14636</span>&#160;<span class="comment"> * commands.  The setjmp call sets up the location to jump to when an</span></div>
<div class="line"><a name="l14637"></a><span class="lineno">14637</span>&#160;<span class="comment"> * exception occurs.  When an exception occurs the variable &quot;state&quot;</span></div>
<div class="line"><a name="l14638"></a><span class="lineno">14638</span>&#160;<span class="comment"> * is used to figure out how far we had gotten.</span></div>
<div class="line"><a name="l14639"></a><span class="lineno">14639</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l14640"></a><span class="lineno">14640</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac16a1c9f5509bcc8b865666b80ab155d">ash_main</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>) <a class="code" href="../../d7/dd7/libbb_8h.html#a50bff3dbf83ecbd070954b228becba4e">MAIN_EXTERNALLY_VISIBLE</a>;</div>
<div class="line"><a name="l14641"></a><span class="lineno">14641</span>&#160;<span class="preprocessor">#if NUM_SCRIPTS &gt; 0</span></div>
<div class="line"><a name="l14642"></a><span class="lineno">14642</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac16a1c9f5509bcc8b865666b80ab155d">ash_main</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l14643"></a><span class="lineno">14643</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l14644"></a><span class="lineno"><a class="line" href="../../d7/dd7/libbb_8h.html#a5663e25fe05f00d2b8f43dab11b63291">14644</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/dbe/ash_8c.html#ac16a1c9f5509bcc8b865666b80ab155d">ash_main</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> <a class="code" href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a>, <span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</div>
<div class="line"><a name="l14645"></a><span class="lineno">14645</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14646"></a><span class="lineno">14646</span>&#160;<span class="comment">/* note: &#39;argc&#39; is used only if embedded scripts are enabled */</span></div>
<div class="line"><a name="l14647"></a><span class="lineno">14647</span>&#160;{</div>
<div class="line"><a name="l14648"></a><span class="lineno">14648</span>&#160;    <span class="keyword">volatile</span> <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a102a30241e29b7ae7a452418431f728d">state</a>;</div>
<div class="line"><a name="l14649"></a><span class="lineno">14649</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a> <a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l14650"></a><span class="lineno">14650</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a> smark;</div>
<div class="line"><a name="l14651"></a><span class="lineno">14651</span>&#160;    <span class="keywordtype">int</span> login_sh;</div>
<div class="line"><a name="l14652"></a><span class="lineno">14652</span>&#160; </div>
<div class="line"><a name="l14653"></a><span class="lineno">14653</span>&#160;    <span class="comment">/* Initialize global data */</span></div>
<div class="line"><a name="l14654"></a><span class="lineno">14654</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a7d9fca7857a8fff7543c845fe3d02bb2">INIT_G_misc</a>();</div>
<div class="line"><a name="l14655"></a><span class="lineno">14655</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a683114bcf1e40813ad554788af1b5e1a">INIT_G_memstack</a>();</div>
<div class="line"><a name="l14656"></a><span class="lineno">14656</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac4e6f37323b2dd4262720581621f652b">INIT_G_var</a>();</div>
<div class="line"><a name="l14657"></a><span class="lineno">14657</span>&#160;<span class="preprocessor">#if ENABLE_ASH_ALIAS</span></div>
<div class="line"><a name="l14658"></a><span class="lineno">14658</span>&#160;    INIT_G_alias();</div>
<div class="line"><a name="l14659"></a><span class="lineno">14659</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14660"></a><span class="lineno">14660</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a223a12e9f0da364c686c1c0e6046ccca">INIT_G_cmdtable</a>();</div>
<div class="line"><a name="l14661"></a><span class="lineno">14661</span>&#160; </div>
<div class="line"><a name="l14662"></a><span class="lineno">14662</span>&#160;<span class="preprocessor">#if PROFILE</span></div>
<div class="line"><a name="l14663"></a><span class="lineno">14663</span>&#160;    monitor(4, etext, profile_buf, <span class="keyword">sizeof</span>(profile_buf), 50);</div>
<div class="line"><a name="l14664"></a><span class="lineno">14664</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14665"></a><span class="lineno">14665</span>&#160; </div>
<div class="line"><a name="l14666"></a><span class="lineno">14666</span>&#160;    <a class="code" href="../../d6/d23/wi__stuff_8c.html#a102a30241e29b7ae7a452418431f728d">state</a> = 0;</div>
<div class="line"><a name="l14667"></a><span class="lineno">14667</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d00/musl_2include_2setjmp_8h.html#ac7cd296b63b31ab3d8cd447e40d0eedc">setjmp</a>(<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>.<a class="code" href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">loc</a>)) {</div>
<div class="line"><a name="l14668"></a><span class="lineno">14668</span>&#160;        <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> e;</div>
<div class="line"><a name="l14669"></a><span class="lineno">14669</span>&#160;        <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l14670"></a><span class="lineno">14670</span>&#160; </div>
<div class="line"><a name="l14671"></a><span class="lineno">14671</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#acca6d3fbb439fcfef48955df3fedd289">exitreset</a>();</div>
<div class="line"><a name="l14672"></a><span class="lineno">14672</span>&#160; </div>
<div class="line"><a name="l14673"></a><span class="lineno">14673</span>&#160;        e = <a class="code" href="../../d1/dbe/ash_8c.html#a9feaa234caa149c15b556505f2a015db">exception_type</a>;</div>
<div class="line"><a name="l14674"></a><span class="lineno">14674</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../d6/d23/wi__stuff_8c.html#a102a30241e29b7ae7a452418431f728d">state</a>;</div>
<div class="line"><a name="l14675"></a><span class="lineno">14675</span>&#160;        <span class="keywordflow">if</span> (e == <a class="code" href="../../d1/dbe/ash_8c.html#a7037a9150ccc747a6fdb212ef4a6dfd7">EXEND</a> || e == <a class="code" href="../../d1/dbe/ash_8c.html#a74a11d72ddd9ac7937d3065d4a46aad1">EXEXIT</a> || <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == 0 || <a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a> == 0 || <a class="code" href="../../d1/dbe/ash_8c.html#a131814c03a6cf6bd9af0079dd727ae8f">shlvl</a>) {</div>
<div class="line"><a name="l14676"></a><span class="lineno">14676</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#ace06db56149bfddd0498cf709c4065f1">exitshell</a>();</div>
<div class="line"><a name="l14677"></a><span class="lineno">14677</span>&#160;        }</div>
<div class="line"><a name="l14678"></a><span class="lineno">14678</span>&#160; </div>
<div class="line"><a name="l14679"></a><span class="lineno">14679</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aebbba89eb574f823428be75d0ffc10c9">reset</a>();</div>
<div class="line"><a name="l14680"></a><span class="lineno">14680</span>&#160; </div>
<div class="line"><a name="l14681"></a><span class="lineno">14681</span>&#160;        <span class="keywordflow">if</span> (e == <a class="code" href="../../d1/dbe/ash_8c.html#a31ffea3c3fe40feb15712cc8bf96bef2">EXINT</a>) {</div>
<div class="line"><a name="l14682"></a><span class="lineno">14682</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a14c0b1d6e8225850405db69fa1baec6f">newline_and_flush</a>(<a class="code" href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a>);</div>
<div class="line"><a name="l14683"></a><span class="lineno">14683</span>&#160;        }</div>
<div class="line"><a name="l14684"></a><span class="lineno">14684</span>&#160; </div>
<div class="line"><a name="l14685"></a><span class="lineno">14685</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l14686"></a><span class="lineno">14686</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#ab50f7c5ee58d54d6b9a942f1e8781b85">FORCE_INT_ON</a>; <span class="comment">/* enable interrupts */</span></div>
<div class="line"><a name="l14687"></a><span class="lineno">14687</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == 1)</div>
<div class="line"><a name="l14688"></a><span class="lineno">14688</span>&#160;            <span class="keywordflow">goto</span> state1;</div>
<div class="line"><a name="l14689"></a><span class="lineno">14689</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == 2)</div>
<div class="line"><a name="l14690"></a><span class="lineno">14690</span>&#160;            <span class="keywordflow">goto</span> state2;</div>
<div class="line"><a name="l14691"></a><span class="lineno">14691</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == 3)</div>
<div class="line"><a name="l14692"></a><span class="lineno">14692</span>&#160;            <span class="keywordflow">goto</span> state3;</div>
<div class="line"><a name="l14693"></a><span class="lineno">14693</span>&#160;        <span class="keywordflow">goto</span> state4;</div>
<div class="line"><a name="l14694"></a><span class="lineno">14694</span>&#160;    }</div>
<div class="line"><a name="l14695"></a><span class="lineno">14695</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a> = &amp;<a class="code" href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a>;</div>
<div class="line"><a name="l14696"></a><span class="lineno">14696</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac3e2ce87919bfafa74665637d5e32f8a">rootpid</a> = <a class="code" href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid</a>();</div>
<div class="line"><a name="l14697"></a><span class="lineno">14697</span>&#160; </div>
<div class="line"><a name="l14698"></a><span class="lineno">14698</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aaa210a795bb6e642eaa09efb0abe6f6a">init</a>();</div>
<div class="line"><a name="l14699"></a><span class="lineno">14699</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ac25a899a708eb1c90b1b0bafdb14b88d">setstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l14700"></a><span class="lineno">14700</span>&#160; </div>
<div class="line"><a name="l14701"></a><span class="lineno">14701</span>&#160;<span class="preprocessor">#if NUM_SCRIPTS &gt; 0</span></div>
<div class="line"><a name="l14702"></a><span class="lineno">14702</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> &lt; 0)</div>
<div class="line"><a name="l14703"></a><span class="lineno">14703</span>&#160;        <span class="comment">/* Non-NULL minusc tells procargs that an embedded script is being run */</span></div>
<div class="line"><a name="l14704"></a><span class="lineno">14704</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">minusc</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a88328fb97a5c6cf94ed1b7581602f569">get_script_content</a>(-<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> - 1);</div>
<div class="line"><a name="l14705"></a><span class="lineno">14705</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14706"></a><span class="lineno">14706</span>&#160;    login_sh = <a class="code" href="../../d1/dbe/ash_8c.html#af61e9df9938654d90a8a7af4d4fba191">procargs</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l14707"></a><span class="lineno">14707</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l14708"></a><span class="lineno">14708</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;Shell args: &quot;</span>));</div>
<div class="line"><a name="l14709"></a><span class="lineno">14709</span>&#160;    trace_puts_args(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l14710"></a><span class="lineno">14710</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14711"></a><span class="lineno">14711</span>&#160; </div>
<div class="line"><a name="l14712"></a><span class="lineno">14712</span>&#160;    <span class="keywordflow">if</span> (login_sh) {</div>
<div class="line"><a name="l14713"></a><span class="lineno">14713</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *hp;</div>
<div class="line"><a name="l14714"></a><span class="lineno">14714</span>&#160; </div>
<div class="line"><a name="l14715"></a><span class="lineno">14715</span>&#160;        <a class="code" href="../../d6/d23/wi__stuff_8c.html#a102a30241e29b7ae7a452418431f728d">state</a> = 1;</div>
<div class="line"><a name="l14716"></a><span class="lineno">14716</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a34ec879a6a616dfa98f10112f502746f">read_profile</a>(<span class="stringliteral">&quot;/etc/profile&quot;</span>);</div>
<div class="line"><a name="l14717"></a><span class="lineno">14717</span>&#160; state1:</div>
<div class="line"><a name="l14718"></a><span class="lineno">14718</span>&#160;        <a class="code" href="../../d6/d23/wi__stuff_8c.html#a102a30241e29b7ae7a452418431f728d">state</a> = 2;</div>
<div class="line"><a name="l14719"></a><span class="lineno">14719</span>&#160;        hp = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;HOME&quot;</span>);</div>
<div class="line"><a name="l14720"></a><span class="lineno">14720</span>&#160;        <span class="keywordflow">if</span> (hp)</div>
<div class="line"><a name="l14721"></a><span class="lineno">14721</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a34ec879a6a616dfa98f10112f502746f">read_profile</a>(<span class="stringliteral">&quot;$HOME/.profile&quot;</span>);</div>
<div class="line"><a name="l14722"></a><span class="lineno">14722</span>&#160;    }</div>
<div class="line"><a name="l14723"></a><span class="lineno">14723</span>&#160; state2:</div>
<div class="line"><a name="l14724"></a><span class="lineno">14724</span>&#160;    <a class="code" href="../../d6/d23/wi__stuff_8c.html#a102a30241e29b7ae7a452418431f728d">state</a> = 3;</div>
<div class="line"><a name="l14725"></a><span class="lineno">14725</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a></div>
<div class="line"><a name="l14726"></a><span class="lineno">14726</span>&#160;#ifndef linux</div>
<div class="line"><a name="l14727"></a><span class="lineno">14727</span>&#160;     &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a844d3dee17e8924300992d69b641f7aa">getuid</a>() == <a class="code" href="../../d0/d32/dcigettext_8c.html#a33c6dca97bbc9e329d37013ac3088f66">geteuid</a>() &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a6a0ea5b55dd05f7eb74408209466be2c">getgid</a>() == <a class="code" href="../../d0/d32/dcigettext_8c.html#a29736afead72cfc18f14dba7ee2d3309">getegid</a>()</div>
<div class="line"><a name="l14728"></a><span class="lineno">14728</span>&#160;#endif</div>
<div class="line"><a name="l14729"></a><span class="lineno">14729</span>&#160;    ) {</div>
<div class="line"><a name="l14730"></a><span class="lineno">14730</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *shinit = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;ENV&quot;</span>);</div>
<div class="line"><a name="l14731"></a><span class="lineno">14731</span>&#160;        <span class="keywordflow">if</span> (shinit != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; *shinit != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l14732"></a><span class="lineno">14732</span>&#160;            <a class="code" href="../../d1/dbe/ash_8c.html#a34ec879a6a616dfa98f10112f502746f">read_profile</a>(shinit);</div>
<div class="line"><a name="l14733"></a><span class="lineno">14733</span>&#160;    }</div>
<div class="line"><a name="l14734"></a><span class="lineno">14734</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a>(&amp;smark);</div>
<div class="line"><a name="l14735"></a><span class="lineno">14735</span>&#160; state3:</div>
<div class="line"><a name="l14736"></a><span class="lineno">14736</span>&#160;    <a class="code" href="../../d6/d23/wi__stuff_8c.html#a102a30241e29b7ae7a452418431f728d">state</a> = 4;</div>
<div class="line"><a name="l14737"></a><span class="lineno">14737</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">minusc</a>) {</div>
<div class="line"><a name="l14738"></a><span class="lineno">14738</span>&#160;        <span class="comment">/* evalstring pushes parsefile stack.</span></div>
<div class="line"><a name="l14739"></a><span class="lineno">14739</span>&#160;<span class="comment">         * Ensure we don&#39;t falsely claim that 0 (stdin)</span></div>
<div class="line"><a name="l14740"></a><span class="lineno">14740</span>&#160;<span class="comment">         * is one of stacked source fds.</span></div>
<div class="line"><a name="l14741"></a><span class="lineno">14741</span>&#160;<span class="comment">         * Testcase: ash -c &#39;exec 1&gt;&amp;0&#39; must not complain. */</span></div>
<div class="line"><a name="l14742"></a><span class="lineno">14742</span>&#160; </div>
<div class="line"><a name="l14743"></a><span class="lineno">14743</span>&#160;        <span class="comment">// if (!sflag) g_parsefile-&gt;pf_fd = -1;</span></div>
<div class="line"><a name="l14744"></a><span class="lineno">14744</span>&#160;        <span class="comment">// ^^ not necessary since now we special-case fd 0</span></div>
<div class="line"><a name="l14745"></a><span class="lineno">14745</span>&#160;        <span class="comment">// in save_fd_on_redirect()</span></div>
<div class="line"><a name="l14746"></a><span class="lineno">14746</span>&#160; </div>
<div class="line"><a name="l14747"></a><span class="lineno">14747</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a> = 0; <span class="comment">// bash compat</span></div>
<div class="line"><a name="l14748"></a><span class="lineno">14748</span>&#160;        <span class="comment">// dash: evalstring(minusc, sflag ? 0 : EV_EXIT);</span></div>
<div class="line"><a name="l14749"></a><span class="lineno">14749</span>&#160;        <span class="comment">// The above makes</span></div>
<div class="line"><a name="l14750"></a><span class="lineno">14750</span>&#160;        <span class="comment">//  ash -sc &#39;echo $-&#39;</span></div>
<div class="line"><a name="l14751"></a><span class="lineno">14751</span>&#160;        <span class="comment">// continue reading input from stdin after running &#39;echo&#39;.</span></div>
<div class="line"><a name="l14752"></a><span class="lineno">14752</span>&#160;        <span class="comment">// bash does not do this: it prints &quot;hBcs&quot; and exits.</span></div>
<div class="line"><a name="l14753"></a><span class="lineno">14753</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#a0bc7661d56fd1d874a1ec963d80dcf3a">evalstring</a>(<a class="code" href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">minusc</a>, <a class="code" href="../../d1/dbe/ash_8c.html#ac2add6938920c886c263574d2948aefa">EV_EXIT</a>);</div>
<div class="line"><a name="l14754"></a><span class="lineno">14754</span>&#160;    }</div>
<div class="line"><a name="l14755"></a><span class="lineno">14755</span>&#160; </div>
<div class="line"><a name="l14756"></a><span class="lineno">14756</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbe/ash_8c.html#a6710fbf8aad91222515ef7080999b862">sflag</a> || <a class="code" href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">minusc</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l14757"></a><span class="lineno">14757</span>&#160;<span class="preprocessor">#if MAX_HISTORY &gt; 0 &amp;&amp; ENABLE_FEATURE_EDITING_SAVEHISTORY</span></div>
<div class="line"><a name="l14758"></a><span class="lineno">14758</span>&#160;        <span class="keywordflow">if</span> (line_input_state) {</div>
<div class="line"><a name="l14759"></a><span class="lineno">14759</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *hp = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;HISTFILE&quot;</span>);</div>
<div class="line"><a name="l14760"></a><span class="lineno">14760</span>&#160;            <span class="keywordflow">if</span> (!hp) {</div>
<div class="line"><a name="l14761"></a><span class="lineno">14761</span>&#160;                hp = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;HOME&quot;</span>);</div>
<div class="line"><a name="l14762"></a><span class="lineno">14762</span>&#160;                <span class="keywordflow">if</span> (hp) {</div>
<div class="line"><a name="l14763"></a><span class="lineno">14763</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a>;</div>
<div class="line"><a name="l14764"></a><span class="lineno">14764</span>&#160;                    hp = <a class="code" href="../../d7/dd7/libbb_8h.html#a8e1240ef7e70d7d55a00ce3b75b26cb2">concat_path_file</a>(hp, <span class="stringliteral">&quot;.ash_history&quot;</span>);</div>
<div class="line"><a name="l14765"></a><span class="lineno">14765</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a>(<span class="stringliteral">&quot;HISTFILE&quot;</span>, hp);</div>
<div class="line"><a name="l14766"></a><span class="lineno">14766</span>&#160;                    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>((<span class="keywordtype">char</span>*)hp);</div>
<div class="line"><a name="l14767"></a><span class="lineno">14767</span>&#160;                    <a class="code" href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a>;</div>
<div class="line"><a name="l14768"></a><span class="lineno">14768</span>&#160;                    hp = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;HISTFILE&quot;</span>);</div>
<div class="line"><a name="l14769"></a><span class="lineno">14769</span>&#160;                }</div>
<div class="line"><a name="l14770"></a><span class="lineno">14770</span>&#160;            }</div>
<div class="line"><a name="l14771"></a><span class="lineno">14771</span>&#160;            <span class="keywordflow">if</span> (hp)</div>
<div class="line"><a name="l14772"></a><span class="lineno">14772</span>&#160;                line_input_state-&gt;hist_file = <a class="code" href="../../dc/dd1/pathchk_8c.html#ac7a701bce03d77bad6b57003d0fe73df">xstrdup</a>(hp);</div>
<div class="line"><a name="l14773"></a><span class="lineno">14773</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_SH_HISTFILESIZE</span></div>
<div class="line"><a name="l14774"></a><span class="lineno">14774</span>&#160;            hp = <a class="code" href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a>(<span class="stringliteral">&quot;HISTFILESIZE&quot;</span>);</div>
<div class="line"><a name="l14775"></a><span class="lineno">14775</span>&#160;            line_input_state-&gt;max_history = size_from_HISTFILESIZE(hp);</div>
<div class="line"><a name="l14776"></a><span class="lineno">14776</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l14777"></a><span class="lineno">14777</span>&#160;        }</div>
<div class="line"><a name="l14778"></a><span class="lineno">14778</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14779"></a><span class="lineno">14779</span>&#160; state4: <span class="comment">/* XXX ??? - why isn&#39;t this before the &quot;if&quot; statement */</span></div>
<div class="line"><a name="l14780"></a><span class="lineno">14780</span>&#160;        <a class="code" href="../../d1/dbe/ash_8c.html#af47d09d7fff889150d4c3c90c793a10c">cmdloop</a>(1);</div>
<div class="line"><a name="l14781"></a><span class="lineno">14781</span>&#160;    }</div>
<div class="line"><a name="l14782"></a><span class="lineno">14782</span>&#160;<span class="preprocessor">#if PROFILE</span></div>
<div class="line"><a name="l14783"></a><span class="lineno">14783</span>&#160;    monitor(0);</div>
<div class="line"><a name="l14784"></a><span class="lineno">14784</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14785"></a><span class="lineno">14785</span>&#160;<span class="preprocessor">#ifdef GPROF</span></div>
<div class="line"><a name="l14786"></a><span class="lineno">14786</span>&#160;    {</div>
<div class="line"><a name="l14787"></a><span class="lineno">14787</span>&#160;        <span class="keyword">extern</span> <span class="keywordtype">void</span> _mcleanup(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l14788"></a><span class="lineno">14788</span>&#160;        _mcleanup();</div>
<div class="line"><a name="l14789"></a><span class="lineno">14789</span>&#160;    }</div>
<div class="line"><a name="l14790"></a><span class="lineno">14790</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l14791"></a><span class="lineno">14791</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a>((<span class="stringliteral">&quot;End of main reached\n&quot;</span>));</div>
<div class="line"><a name="l14792"></a><span class="lineno">14792</span>&#160;    <a class="code" href="../../d1/dbe/ash_8c.html#ace06db56149bfddd0498cf709c4065f1">exitshell</a>();</div>
<div class="line"><a name="l14793"></a><span class="lineno">14793</span>&#160;    <span class="comment">/* NOTREACHED */</span></div>
<div class="line"><a name="l14794"></a><span class="lineno">14794</span>&#160;}</div>
<div class="line"><a name="l14795"></a><span class="lineno">14795</span>&#160; </div>
<div class="line"><a name="l14796"></a><span class="lineno">14796</span>&#160; </div>
<div class="line"><a name="l14797"></a><span class="lineno">14797</span>&#160;<span class="comment">/*-</span></div>
<div class="line"><a name="l14798"></a><span class="lineno">14798</span>&#160;<span class="comment"> * Copyright (c) 1989, 1991, 1993, 1994</span></div>
<div class="line"><a name="l14799"></a><span class="lineno">14799</span>&#160;<span class="comment"> *      The Regents of the University of California.  All rights reserved.</span></div>
<div class="line"><a name="l14800"></a><span class="lineno">14800</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l14801"></a><span class="lineno">14801</span>&#160;<span class="comment"> * This code is derived from software contributed to Berkeley by</span></div>
<div class="line"><a name="l14802"></a><span class="lineno">14802</span>&#160;<span class="comment"> * Kenneth Almquist.</span></div>
<div class="line"><a name="l14803"></a><span class="lineno">14803</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l14804"></a><span class="lineno">14804</span>&#160;<span class="comment"> * Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l14805"></a><span class="lineno">14805</span>&#160;<span class="comment"> * modification, are permitted provided that the following conditions</span></div>
<div class="line"><a name="l14806"></a><span class="lineno">14806</span>&#160;<span class="comment"> * are met:</span></div>
<div class="line"><a name="l14807"></a><span class="lineno">14807</span>&#160;<span class="comment"> * 1. Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l14808"></a><span class="lineno">14808</span>&#160;<span class="comment"> *    notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l14809"></a><span class="lineno">14809</span>&#160;<span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright</span></div>
<div class="line"><a name="l14810"></a><span class="lineno">14810</span>&#160;<span class="comment"> *    notice, this list of conditions and the following disclaimer in the</span></div>
<div class="line"><a name="l14811"></a><span class="lineno">14811</span>&#160;<span class="comment"> *    documentation and/or other materials provided with the distribution.</span></div>
<div class="line"><a name="l14812"></a><span class="lineno">14812</span>&#160;<span class="comment"> * 3. Neither the name of the University nor the names of its contributors</span></div>
<div class="line"><a name="l14813"></a><span class="lineno">14813</span>&#160;<span class="comment"> *    may be used to endorse or promote products derived from this software</span></div>
<div class="line"><a name="l14814"></a><span class="lineno">14814</span>&#160;<span class="comment"> *    without specific prior written permission.</span></div>
<div class="line"><a name="l14815"></a><span class="lineno">14815</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l14816"></a><span class="lineno">14816</span>&#160;<span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS &#39;&#39;AS IS&#39;&#39; AND</span></div>
<div class="line"><a name="l14817"></a><span class="lineno">14817</span>&#160;<span class="comment"> * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><a name="l14818"></a><span class="lineno">14818</span>&#160;<span class="comment"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span></div>
<div class="line"><a name="l14819"></a><span class="lineno">14819</span>&#160;<span class="comment"> * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE</span></div>
<div class="line"><a name="l14820"></a><span class="lineno">14820</span>&#160;<span class="comment"> * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span></div>
<div class="line"><a name="l14821"></a><span class="lineno">14821</span>&#160;<span class="comment"> * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS</span></div>
<div class="line"><a name="l14822"></a><span class="lineno">14822</span>&#160;<span class="comment"> * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</span></div>
<div class="line"><a name="l14823"></a><span class="lineno">14823</span>&#160;<span class="comment"> * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</span></div>
<div class="line"><a name="l14824"></a><span class="lineno">14824</span>&#160;<span class="comment"> * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY</span></div>
<div class="line"><a name="l14825"></a><span class="lineno">14825</span>&#160;<span class="comment"> * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF</span></div>
<div class="line"><a name="l14826"></a><span class="lineno">14826</span>&#160;<span class="comment"> * SUCH DAMAGE.</span></div>
<div class="line"><a name="l14827"></a><span class="lineno">14827</span>&#160;<span class="comment"> */</span></div>
<div class="ttc" id="aArithmeticOperations_8c_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="../../d0/d18/ArithmeticOperations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d18/ArithmeticOperations_8c_source.html#l00295">ArithmeticOperations.c:295</a></div></div>
<div class="ttc" id="aKernelConfig_8cpp_html_a4db4281a3169b26f4f69f18f20440e5d"><div class="ttname"><a href="../../dc/d66/KernelConfig_8cpp.html#a4db4281a3169b26f4f69f18f20440e5d">fprintf</a></div><div class="ttdeci">EXTERNC void fprintf(FILE *stream, const char *Format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d66/KernelConfig_8cpp_source.html#l00028">KernelConfig.cpp:28</a></div></div>
<div class="ttc" id="aKernel_2Core_2Memory_2HeapAllocators_2liballoc__1__1_2liballoc__1__1_8c_html_ae34a762828cbff7cce62bda6571b2bc0"><div class="ttname"><a href="../../dc/d74/Kernel_2Core_2Memory_2HeapAllocators_2liballoc__1__1_2liballoc__1__1_8c.html#ae34a762828cbff7cce62bda6571b2bc0">printf</a></div><div class="ttdeci">#define printf(m,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d74/Kernel_2Core_2Memory_2HeapAllocators_2liballoc__1__1_2liballoc__1__1_8c_source.html#l00060">liballoc_1_1.c:60</a></div></div>
<div class="ttc" id="aKernel_2include_2printf_8h_html_a60eafc0462174ced134abb3714d9c85a"><div class="ttname"><a href="../../dc/df9/Kernel_2include_2printf_8h.html#a60eafc0462174ced134abb3714d9c85a">vprintf</a></div><div class="ttdeci">PRINTF_VISIBILITY int PRINTF_VISIBILITY int vprintf(const char *format, va_list arg) ATTR_VPRINTF(1)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7f/Kernel_2Library_2printf_8c_source.html#l01535">printf.c:1535</a></div></div>
<div class="ttc" id="aKernel_2include_2printf_8h_html_a715af29d23f9914db8ecafd4b94a7e14"><div class="ttname"><a href="../../dc/df9/Kernel_2include_2printf_8h.html#a715af29d23f9914db8ecafd4b94a7e14">vsnprintf</a></div><div class="ttdeci">PRINTF_VISIBILITY int PRINTF_VISIBILITY int vsnprintf(char *s, size_t count, const char *format, va_list arg) ATTR_VPRINTF(3)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7f/Kernel_2Library_2printf_8c_source.html#l01541">printf.c:1541</a></div></div>
<div class="ttc" id="aKernel_2include_2printf_8h_html_a77dac04ed12a16543832b623c7778729"><div class="ttname"><a href="../../dc/df9/Kernel_2include_2printf_8h.html#a77dac04ed12a16543832b623c7778729">sprintf</a></div><div class="ttdeci">PRINTF_VISIBILITY int sprintf(char *s, const char *format,...) ATTR_PRINTF(2</div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">types.h:37</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a3cb4a16b0e8d6af0af86d4fd6ba5fd9d"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a></div><div class="ttdeci">__UINT8_TYPE__ uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00160">types.h:160</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a4788399d1d0b37ccf098a7da82254808"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a></div><div class="ttdeci">__UINTPTR_TYPE__ uintptr_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00186">types.h:186</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a5debae8b2a1ec20a6694c0c443ee399e"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a5debae8b2a1ec20a6694c0c443ee399e">uint16_t</a></div><div class="ttdeci">__UINT16_TYPE__ uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00161">types.h:161</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a6d26a0475a6d6c897e655cdc5d8019d2"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a6d26a0475a6d6c897e655cdc5d8019d2">ptrdiff_t</a></div><div class="ttdeci">__PTRDIFF_TYPE__ ptrdiff_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00191">types.h:191</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a823b205416e9129825841b74c3bf8484"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a823b205416e9129825841b74c3bf8484">va_end</a></div><div class="ttdeci">#define va_end(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00077">types.h:77</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_aa0628ab596c3d7e78f5e08c2d98e24da"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#aa0628ab596c3d7e78f5e08c2d98e24da">va_start</a></div><div class="ttdeci">#define va_start(v, l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00076">types.h:76</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_af10f4c58d91a6fa30ccc8a19d0ecbf48"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#af10f4c58d91a6fa30ccc8a19d0ecbf48">ssize_t</a></div><div class="ttdeci">intptr_t ssize_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00199">types.h:199</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_af53f622e3b6c080daeb167c1955d7ec1"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a></div><div class="ttdeci">__builtin_va_list va_list</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00073">types.h:73</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_afd049f7ad59dbe455f460807475c2841"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#afd049f7ad59dbe455f460807475c2841">offsetof</a></div><div class="ttdeci">#define offsetof(type, member)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00083">types.h:83</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a03e689f378f643d16ea7537918528a48"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a03e689f378f643d16ea7537918528a48">ENOENT</a></div><div class="ttdeci">#define ENOENT</div><div class="ttdoc">No such file or directory.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00025">errno.h:25</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a0a3bef9e5c47e42917692b5dae3b5498"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a0a3bef9e5c47e42917692b5dae3b5498">EEXIST</a></div><div class="ttdeci">#define EEXIST</div><div class="ttdoc">File exists.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00070">errno.h:70</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a2f78c246352d2bf2f19dc5d43da2f0c9"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a2f78c246352d2bf2f19dc5d43da2f0c9">ELOOP</a></div><div class="ttdeci">#define ELOOP</div><div class="ttdoc">Too many symbolic links encountered.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00139">errno.h:139</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a41d5ab3a8a05f9c5eab536c9cfba305b"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a41d5ab3a8a05f9c5eab536c9cfba305b">ENAMETOOLONG</a></div><div class="ttdeci">#define ENAMETOOLONG</div><div class="ttdoc">File name too long.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00127">errno.h:127</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a46b83d9f6c23b1b65a8cecfd775ddaed"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a46b83d9f6c23b1b65a8cecfd775ddaed">EINTR</a></div><div class="ttdeci">#define EINTR</div><div class="ttdoc">Interrupted system call.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00031">errno.h:31</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a4d0b1b435ec441e7d50a430b83df5832"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a4d0b1b435ec441e7d50a430b83df5832">ENOEXEC</a></div><div class="ttdeci">#define ENOEXEC</div><div class="ttdoc">Exec format error.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00043">errno.h:43</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a8368025077a0385849d6817b2007c095"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a8368025077a0385849d6817b2007c095">EBUSY</a></div><div class="ttdeci">#define EBUSY</div><div class="ttdoc">Device or resource busy.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00067">errno.h:67</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_a9262fb92f7ef662d0bdd577912a5b101"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#a9262fb92f7ef662d0bdd577912a5b101">ENOTDIR</a></div><div class="ttdeci">#define ENOTDIR</div><div class="ttdoc">Not a directory.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00079">errno.h:79</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_ab03f640d90fbc5bcb75285d08a0f25ed"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a></div><div class="ttdeci">#define errno</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00409">errno.h:409</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_ac2a2e9fa555401f94478f74e01868032"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ac2a2e9fa555401f94478f74e01868032">EACCES</a></div><div class="ttdeci">#define EACCES</div><div class="ttdoc">Permission denied.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00058">errno.h:58</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_ac54507d66b43ad12f9356257323c0018"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#ac54507d66b43ad12f9356257323c0018">EBADF</a></div><div class="ttdeci">#define EBADF</div><div class="ttdoc">Bad file number.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00046">errno.h:46</a></div></div>
<div class="ttc" id="aKernel_2include__std_2errno_8h_html_af0fac1cea1165b4debec7f686edf3313"><div class="ttname"><a href="../../db/d0b/Kernel_2include__std_2errno_8h.html#af0fac1cea1165b4debec7f686edf3313">EAGAIN</a></div><div class="ttdeci">#define EAGAIN</div><div class="ttdoc">Try again.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/Kernel_2include__std_2errno_8h_source.html#l00052">errno.h:52</a></div></div>
<div class="ttc" id="aKernel_2include__std_2limits_8h_html_a21658776274b3d146c674318b635a334"><div class="ttname"><a href="../../d4/df4/Kernel_2include__std_2limits_8h.html#a21658776274b3d146c674318b635a334">INT_MIN</a></div><div class="ttdeci">#define INT_MIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df4/Kernel_2include__std_2limits_8h_source.html#l00069">limits.h:69</a></div></div>
<div class="ttc" id="aKernel_2include__std_2limits_8h_html_a308d9dd2c0028ddb184b455bbd7865de"><div class="ttname"><a href="../../d4/df4/Kernel_2include__std_2limits_8h.html#a308d9dd2c0028ddb184b455bbd7865de">CHAR_BIT</a></div><div class="ttdeci">#define CHAR_BIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df4/Kernel_2include__std_2limits_8h_source.html#l00022">limits.h:22</a></div></div>
<div class="ttc" id="aKernel_2include__std_2limits_8h_html_a9ec306f36d50c7375e74f0d1c55a3a67"><div class="ttname"><a href="../../d4/df4/Kernel_2include__std_2limits_8h.html#a9ec306f36d50c7375e74f0d1c55a3a67">INT_MAX</a></div><div class="ttdeci">#define INT_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df4/Kernel_2include__std_2limits_8h_source.html#l00071">limits.h:71</a></div></div>
<div class="ttc" id="aKernel__IO_8cpp_html_a27628bfab8ccdd0fdeed6778b25cd734"><div class="ttname"><a href="../../d0/db0/Kernel__IO_8cpp.html#a27628bfab8ccdd0fdeed6778b25cd734">fstat</a></div><div class="ttdeci">int fstat(int fd, struct stat *statbuf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db0/Kernel__IO_8cpp_source.html#l00131">Kernel_IO.cpp:131</a></div></div>
<div class="ttc" id="aKernel__IO_8cpp_html_a495553b93f6e4b88e7d82195f189cb22"><div class="ttname"><a href="../../d0/db0/Kernel__IO_8cpp.html#a495553b93f6e4b88e7d82195f189cb22">stat</a></div><div class="ttdeci">int stat(const char *pathname, struct stat *statbuf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db0/Kernel__IO_8cpp_source.html#l00117">Kernel_IO.cpp:117</a></div></div>
<div class="ttc" id="aKernel__IO_8cpp_html_ae2ec3b9037ed12c33f4f7327099f615c"><div class="ttname"><a href="../../d0/db0/Kernel__IO_8cpp.html#ae2ec3b9037ed12c33f4f7327099f615c">fopen</a></div><div class="ttdeci">int fopen(const char *pathname, const char *mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db0/Kernel__IO_8cpp_source.html#l00033">Kernel_IO.cpp:33</a></div></div>
<div class="ttc" id="aLinux_8cpp_html_a288e13e815d43b06e75819f8939524df"><div class="ttname"><a href="../../db/d9e/Linux_8cpp.html#a288e13e815d43b06e75819f8939524df">pid_t</a></div><div class="ttdeci">int pid_t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d9e/Linux_8cpp_source.html#l00091">Linux.cpp:91</a></div></div>
<div class="ttc" id="aUserspace_2apps_2base_2busybox_2coreutils_2printf_8c_html_a6d0e1a4ee3f5bb60b2cca20db6513e49"><div class="ttname"><a href="../../d4/d53/Userspace_2apps_2base_2busybox_2coreutils_2printf_8c.html#a6d0e1a4ee3f5bb60b2cca20db6513e49">printf_main</a></div><div class="ttdeci">int printf_main(int argc UNUSED_PARAM, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d53/Userspace_2apps_2base_2busybox_2coreutils_2printf_8c_source.html#l00404">printf.c:404</a></div></div>
<div class="ttc" id="aUserspace_2apps_2base_2busybox_2shell_2math_8h_html_a2168f91910cef6e85c6f2bc07083f4e9"><div class="ttname"><a href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h.html#a2168f91910cef6e85c6f2bc07083f4e9">arith_state_t::lookupvar</a></div><div class="ttdeci">arith_var_lookup_t lookupvar</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h_source.html#l00080">math.h:80</a></div></div>
<div class="ttc" id="aUserspace_2apps_2base_2busybox_2shell_2math_8h_html_a50e33792d62a2b783b1066331b70dd1f"><div class="ttname"><a href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h.html#a50e33792d62a2b783b1066331b70dd1f">arith_state_t::errmsg</a></div><div class="ttdeci">const char * errmsg</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h_source.html#l00079">math.h:79</a></div></div>
<div class="ttc" id="aUserspace_2apps_2base_2busybox_2shell_2math_8h_html_aa8470f4f1dea353d9e44c4e7d016e63b"><div class="ttname"><a href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h.html#aa8470f4f1dea353d9e44c4e7d016e63b">arith_state_t::setvar</a></div><div class="ttdeci">arith_var_set_t setvar</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h_source.html#l00081">math.h:81</a></div></div>
<div class="ttc" id="aUserspace_2apps_2base_2busybox_2shell_2math_8h_html_da/d4c/structarith__state__t"><div class="ttname"><a href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h.html#da/d4c/structarith__state__t">arith_state_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5c/Userspace_2apps_2base_2busybox_2shell_2math_8h_source.html#l00078">math.h:78</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_a0c0ef221f95f64e8632451312fd18cc8"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a></div><div class="ttdeci">#define stdout</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h_source.html#l00057">stdio.h:57</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_a238ba3ae728d117984e087d9db33cd13"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a238ba3ae728d117984e087d9db33cd13">vfprintf</a></div><div class="ttdeci">int vfprintf(FILE *stream, const char *format, va_list arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00116">file.c:116</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_a5ce35bd5ba5021fd3b2e951e8f497656"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a5ce35bd5ba5021fd3b2e951e8f497656">stderr</a></div><div class="ttdeci">#define stderr</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h_source.html#l00058">stdio.h:58</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_a7f86d3747887e65d7d02e4792030fad0"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#a7f86d3747887e65d7d02e4792030fad0">freopen</a></div><div class="ttdeci">FILE * freopen(const char *filename, const char *mode, FILE *stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00013">file.c:13</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_ad41876f99f190c7488e64ef39c50a23f"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a></div><div class="ttdeci">int puts(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d79/put_8c_source.html#l00027">put.c:27</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2stdio_8h_html_adb974f28765a31026ee6bf71d5175951"><div class="ttname"><a href="../../dd/d69/Userspace_2libc_2include_2stdio_8h.html#adb974f28765a31026ee6bf71d5175951">fflush</a></div><div class="ttdeci">int fflush(FILE *stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00085">file.c:85</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2sys_2stat_8h_html_ad2933406ba93c0e0d1884fc09c18a0bf"><div class="ttname"><a href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h.html#ad2933406ba93c0e0d1884fc09c18a0bf">mode_t</a></div><div class="ttdeci">#define mode_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5c/Userspace_2libc_2include_2sys_2stat_8h_source.html#l00011">stat.h:11</a></div></div>
<div class="ttc" id="aUserspace_2libc_2include_2unistd_8h_html_a34f1a971391de72a34ec56bb0133ce2d"><div class="ttname"><a href="../../df/dc1/Userspace_2libc_2include_2unistd_8h.html#a34f1a971391de72a34ec56bb0133ce2d">execve</a></div><div class="ttdeci">int execve(const char *pathname, char *const argv[], char *const envp[])</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d3f/exe_8c_source.html#l00042">exe.c:42</a></div></div>
<div class="ttc" id="aUserspace_2musl_2arch_2generic_2bits_2errno_8h_html_a4a3a0b3605fd3b2336455062ee8e25f0"><div class="ttname"><a href="../../df/d19/Userspace_2musl_2arch_2generic_2bits_2errno_8h.html#a4a3a0b3605fd3b2336455062ee8e25f0">EWOULDBLOCK</a></div><div class="ttdeci">#define EWOULDBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d19/Userspace_2musl_2arch_2generic_2bits_2errno_8h_source.html#l00041">errno.h:41</a></div></div>
<div class="ttc" id="aUserspace_2musl_2arch_2x86__64_2bits_2stat_8h_html_a5cbdd829011af82ba61e83773bbcbc7d"><div class="ttname"><a href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a5cbdd829011af82ba61e83773bbcbc7d">stat::st_mode</a></div><div class="ttdeci">mode_t st_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00081">filesystem.hpp:81</a></div></div>
<div class="ttc" id="aUserspace_2musl_2arch_2x86__64_2bits_2stat_8h_html_a9769ed8f0d4c5a9f329c32bc92479d56"><div class="ttname"><a href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#a9769ed8f0d4c5a9f329c32bc92479d56">stat::st_ino</a></div><div class="ttdeci">ino_t st_ino</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00080">filesystem.hpp:80</a></div></div>
<div class="ttc" id="aUserspace_2musl_2arch_2x86__64_2bits_2stat_8h_html_ac5b90090ae323741ae4c9e4f3683a29f"><div class="ttname"><a href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#ac5b90090ae323741ae4c9e4f3683a29f">stat::st_dev</a></div><div class="ttdeci">dev_t st_dev</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00079">filesystem.hpp:79</a></div></div>
<div class="ttc" id="aUserspace_2musl_2arch_2x86__64_2bits_2stat_8h_html_da/de7/structstat"><div class="ttname"><a href="../../db/df2/Userspace_2musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00077">filesystem.hpp:78</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2stdio_8h_html_a917e77e365a5da28efb1963efafa8f23"><div class="ttname"><a href="../../d7/d0a/Userspace_2musl_2include_2stdio_8h.html#a917e77e365a5da28efb1963efafa8f23">clearerr</a></div><div class="ttdeci">void clearerr(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df1/clearerr_8c_source.html#l00003">clearerr.c:3</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2stdlib_8h_html_a49a76993c8406bc5a389dfabb8089bd1"><div class="ttname"><a href="../../d1/d7a/Userspace_2musl_2include_2stdlib_8h.html#a49a76993c8406bc5a389dfabb8089bd1">bsearch</a></div><div class="ttdeci">void * bsearch(const void *, const void *, size_t, size_t, int(*)(const void *, const void *))</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d39/bsearch_8c_source.html#l00003">bsearch.c:3</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2string_8h_html_a475622e0ad1d42f098afa1c08af954ad"><div class="ttname"><a href="../../d5/d42/Userspace_2musl_2include_2string_8h.html#a475622e0ad1d42f098afa1c08af954ad">strcoll</a></div><div class="ttdeci">int strcoll(const char *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d05/strcoll_8c_source.html#l00010">strcoll.c:10</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2string_8h_html_a4e8462eddc5a160451a246bc1bc22bb4"><div class="ttname"><a href="../../d5/d42/Userspace_2musl_2include_2string_8h.html#a4e8462eddc5a160451a246bc1bc22bb4">strcspn</a></div><div class="ttdeci">size_t strcspn(const char *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dba/strcspn_8c_source.html#l00006">strcspn.c:6</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2sys_2stat_8h_html_a4c668877ae0bc010d420c2cb9f72ee94"><div class="ttname"><a href="../../dd/d14/Userspace_2musl_2include_2sys_2stat_8h.html#a4c668877ae0bc010d420c2cb9f72ee94">umask</a></div><div class="ttdeci">mode_t umask(mode_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dfc/umask_8c_source.html#l00004">umask.c:4</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2time_8h_html_aae026724f73c36340024c657f4f44dab"><div class="ttname"><a href="../../d2/d2f/Userspace_2musl_2include_2time_8h.html#aae026724f73c36340024c657f4f44dab">time</a></div><div class="ttdeci">time_t time(time_t *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de6/musl_2src_2time_2time_8c_source.html#l00004">time.c:4</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_a5bbe9b13d3f147dcc5b872a5cf70e9a1"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a5bbe9b13d3f147dcc5b872a5cf70e9a1">pipe</a></div><div class="ttdeci">int pipe(int[2])</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d47/pipe_8c_source.html#l00004">pipe.c:4</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_a8c673ae088139efcc2dfab1cbadff6f5"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#a8c673ae088139efcc2dfab1cbadff6f5">read</a></div><div class="ttdeci">ssize_t read(int, void *, size_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d40/musl_2src_2unistd_2read_8c_source.html#l00004">read.c:4</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_ab4155ffea05dab2dafae68fd88a0517f"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ab4155ffea05dab2dafae68fd88a0517f">isatty</a></div><div class="ttdeci">int isatty(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d84/isatty_8c_source.html#l00006">isatty.c:6</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_abd165ee6474b5b75bf075842fff13a04"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#abd165ee6474b5b75bf075842fff13a04">STDOUT_FILENO</a></div><div class="ttdeci">#define STDOUT_FILENO</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/Userspace_2musl_2include_2unistd_8h_source.html#l00011">unistd.h:11</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_abd6ad778aba7e4737ddd9ccb3b1335ff"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#abd6ad778aba7e4737ddd9ccb3b1335ff">write</a></div><div class="ttdeci">ssize_t write(int, const void *, size_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd8/musl_2src_2unistd_2write_8c_source.html#l00004">write.c:4</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_ac6d7f7ade00dcdc302b0da5664eee812"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ac6d7f7ade00dcdc302b0da5664eee812">getppid</a></div><div class="ttdeci">pid_t getppid(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2d/getppid_8c_source.html#l00004">getppid.c:4</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_ae152484c890a24e4d9b4980e7b965be0"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a></div><div class="ttdeci">int close(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d22/close_8c_source.html#l00013">close.c:13</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_ae2fe1725bb5e9823d089c46b9ed5266e"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae2fe1725bb5e9823d089c46b9ed5266e">STDERR_FILENO</a></div><div class="ttdeci">#define STDERR_FILENO</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/Userspace_2musl_2include_2unistd_8h_source.html#l00012">unistd.h:12</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_aebe305544f2eb0cf2c4a4f8b4c12bc0f"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a></div><div class="ttdeci">int chdir(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6d/chdir_8c_source.html#l00004">chdir.c:4</a></div></div>
<div class="ttc" id="a____tz_8c_html_a2531d69daf2c82223c7d3d7a7728ddc1"><div class="ttname"><a href="../../d2/d48/____tz_8c.html#a2531d69daf2c82223c7d3d7a7728ddc1">types</a></div><div class="ttdeci">static const unsigned char * types</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d48/____tz_8c_source.html#l00032">__tz.c:32</a></div></div>
<div class="ttc" id="aalias_8h_html_ad60ea68bfe90ae7f819a50dcf9efb6ef"><div class="ttname"><a href="../../d4/d72/alias_8h.html#ad60ea68bfe90ae7f819a50dcf9efb6ef">alias::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d72/alias_8h_source.html#l00029">alias.h:29</a></div></div>
<div class="ttc" id="aalias_8h_html_db/d15/structalias"><div class="ttname"><a href="../../d4/d72/alias_8h.html#db/d15/structalias">alias</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d72/alias_8h_source.html#l00028">alias.h:28</a></div></div>
<div class="ttc" id="aapplet__tables_8c_html_a6242a25f9d996f0cc4f4cdb911218b75"><div class="ttname"><a href="../../dd/d7f/applet__tables_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7f/applet__tables_8c_source.html#l00021">applet_tables.c:21</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2examples_2loadables_2setpgid_8c_html_af35bd0de8c2181231698de03bbdd58ca"><div class="ttname"><a href="../../d1/dea/apps_2base_2bash_2examples_2loadables_2setpgid_8c.html#af35bd0de8c2181231698de03bbdd58ca">setpgid</a></div><div class="ttdeci">#define setpgid(pid, pgrp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dea/apps_2base_2bash_2examples_2loadables_2setpgid_8c_source.html#l00041">setpgid.c:41</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2getcwd_8c_html_ae730c85752284268b39560df693cb207"><div class="ttname"><a href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c.html#ae730c85752284268b39560df693cb207">lstat</a></div><div class="ttdeci">#define lstat</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/apps_2base_2bash_2lib_2sh_2getcwd_8c_source.html#l00064">getcwd.c:64</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2snprintf_8c_html_a1ac817b5f23758eecbaa62dde9068b70"><div class="ttname"><a href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c.html#a1ac817b5f23758eecbaa62dde9068b70">itoa</a></div><div class="ttdeci">#define itoa(n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c_source.html#l00223">snprintf.c:223</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2strchrnul_8c_html_a3bfec92685b659e3b184eca81c3db7f4"><div class="ttname"><a href="../../dd/d59/apps_2base_2bash_2lib_2sh_2strchrnul_8c.html#a3bfec92685b659e3b184eca81c3db7f4">strchrnul</a></div><div class="ttdeci">char * strchrnul(char *s, int c_in) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/apps_2base_2bash_2lib_2sh_2strchrnul_8c_source.html#l00025">strchrnul.c:25</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2strpbrk_8c_html_a119f23a5dcb4eb5f1c1eed3cbf5cb0ed"><div class="ttname"><a href="../../d2/dce/apps_2base_2bash_2lib_2sh_2strpbrk_8c.html#a119f23a5dcb4eb5f1c1eed3cbf5cb0ed">strpbrk</a></div><div class="ttdeci">char * strpbrk(const char *s, const char *accept)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/apps_2base_2bash_2lib_2sh_2strpbrk_8c_source.html#l00034">strpbrk.c:34</a></div></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2times_8c_html_a9c40827577895355c0e7db337d3fcbc8"><div class="ttname"><a href="../../d4/d78/apps_2base_2bash_2lib_2sh_2times_8c.html#a9c40827577895355c0e7db337d3fcbc8">times</a></div><div class="ttdeci">clock_t times(struct tms *tms)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/apps_2base_2bash_2lib_2sh_2times_8c_source.html#l00038">times.c:38</a></div></div>
<div class="ttc" id="aapps_2base_2busybox_2coreutils_2chown_8c_html_acff701cfc8fab0de8704435ba1462970"><div class="ttname"><a href="../../d5/db3/apps_2base_2busybox_2coreutils_2chown_8c.html#acff701cfc8fab0de8704435ba1462970">param</a></div><div class="ttdeci">#define param</div></div>
<div class="ttc" id="aapps_2base_2busybox_2coreutils_2sleep_8c_html_a2e881fc71b755df3b2bf2802858a3012"><div class="ttname"><a href="../../d5/d21/apps_2base_2busybox_2coreutils_2sleep_8c.html#a2e881fc71b755df3b2bf2802858a3012">sleep_main</a></div><div class="ttdeci">int sleep_main(int argc, char **argv) MAIN_EXTERNALLY_VISIBLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d21/apps_2base_2busybox_2coreutils_2sleep_8c_source.html#l00064">sleep.c:64</a></div></div>
<div class="ttc" id="aapps_2base_2busybox_2coreutils_2stat_8c_html_aa29b866765bdc5bdf87b7eb666d66093"><div class="ttname"><a href="../../d7/d2f/apps_2base_2busybox_2coreutils_2stat_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a></div><div class="ttdeci">#define buf</div></div>
<div class="ttc" id="aapps_2base_2busybox_2shell_2random_8c_html_a5e9c0baaee34fe0888ebb9645b3cc337"><div class="ttname"><a href="../../dd/db0/apps_2base_2busybox_2shell_2random_8c.html#a5e9c0baaee34fe0888ebb9645b3cc337">next_random</a></div><div class="ttdeci">uint32_t FAST_FUNC next_random(random_t *rnd)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db0/apps_2base_2busybox_2shell_2random_8c_source.html#l00036">random.c:36</a></div></div>
<div class="ttc" id="aapps_2base_2busybox_2shell_2random_8h_html_aeeed913ae45d95d1158cfe56270e9eef"><div class="ttname"><a href="../../d8/d4c/apps_2base_2busybox_2shell_2random_8h.html#aeeed913ae45d95d1158cfe56270e9eef">INIT_RANDOM_T</a></div><div class="ttdeci">#define INIT_RANDOM_T(rnd, nonzero, v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/apps_2base_2busybox_2shell_2random_8h_source.html#l00031">random.h:31</a></div></div>
<div class="ttc" id="aapps_2base_2busybox_2shell_2random_8h_html_d1/d8d/structrandom__t"><div class="ttname"><a href="../../d8/d4c/apps_2base_2busybox_2shell_2random_8h.html#d1/d8d/structrandom__t">random_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/apps_2base_2busybox_2shell_2random_8h_source.html#l00014">random.h:14</a></div></div>
<div class="ttc" id="aarch_2generic_2bits_2dirent_8h_html_ae52d525c8057131d7f1155fe7039910d"><div class="ttname"><a href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#ae52d525c8057131d7f1155fe7039910d">dirent::d_name</a></div><div class="ttdeci">char d_name[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2b/arch_2generic_2bits_2dirent_8h_source.html#l00010">dirent.h:10</a></div></div>
<div class="ttc" id="aarch_2generic_2bits_2dirent_8h_html_d5/de2/structdirent"><div class="ttname"><a href="../../d0/d2b/arch_2generic_2bits_2dirent_8h.html#d5/de2/structdirent">dirent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d2b/arch_2generic_2bits_2dirent_8h_source.html#l00005">dirent.h:5</a></div></div>
<div class="ttc" id="aarch_2generic_2bits_2termios_8h_html_ad147943bddb5fe0a4b5e8cebcdba1596"><div class="ttname"><a href="../../d3/de9/arch_2generic_2bits_2termios_8h.html#ad147943bddb5fe0a4b5e8cebcdba1596">TCSADRAIN</a></div><div class="ttdeci">#define TCSADRAIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de9/arch_2generic_2bits_2termios_8h_source.html#l00145">termios.h:145</a></div></div>
<div class="ttc" id="aarch_2powerpc64_2bits_2termios_8h_html_d6/d47/structtermios"><div class="ttname"><a href="../../db/d49/arch_2powerpc64_2bits_2termios_8h.html#d6/d47/structtermios">termios</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de9/arch_2generic_2bits_2termios_8h_source.html#l00001">termios.h:1</a></div></div>
<div class="ttc" id="aarp_8c_html_a76d86451b3fb6fb6dc6a4b92b4bf3d49"><div class="ttname"><a href="../../d6/d94/arp_8c.html#a76d86451b3fb6fb6dc6a4b92b4bf3d49">ap</a></div><div class="ttdeci">#define ap</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d94/arp_8c_source.html#l00083">arp.c:83</a></div></div>
<div class="ttc" id="aarping_8c_html_a21e72f66ad6f15c4dcb2c8afbb57d7dd"><div class="ttname"><a href="../../df/d84/arping_8c.html#a21e72f66ad6f15c4dcb2c8afbb57d7dd">dst</a></div><div class="ttdeci">#define dst</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/arping_8c_source.html#l00089">arping.c:89</a></div></div>
<div class="ttc" id="aarping_8c_html_a317b24157e7f590740c6e329bfe668dc"><div class="ttname"><a href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a></div><div class="ttdeci">#define start</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/arping_8c_source.html#l00095">arping.c:95</a></div></div>
<div class="ttc" id="aarpping_8c_html_ac9562ee4ecb3b8aeebeb04656e7e57a9"><div class="ttname"><a href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a></div><div class="ttdeci">#define s</div></div>
<div class="ttc" id="aash_8c_html_a00275e715d2e73727d0968fdfcdc8d4b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a00275e715d2e73727d0968fdfcdc8d4b">ps1val</a></div><div class="ttdeci">#define ps1val()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02245">ash.c:2245</a></div></div>
<div class="ttc" id="aash_8c_html_a0098dcd0bd31bd8cd31e643b070924ba"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0098dcd0bd31bd8cd31e643b070924ba">CTLBACKQ</a></div><div class="ttdeci">#define CTLBACKQ</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00817">ash.c:817</a></div></div>
<div class="ttc" id="aash_8c_html_a010f966b977f7398eca0ffd8997421d1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a010f966b977f7398eca0ffd8997421d1">needprompt</a></div><div class="ttdeci">static smallint needprompt</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02698">ash.c:2698</a></div></div>
<div class="ttc" id="aash_8c_html_a02124bd09e672d18bc38681968f9e770"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a02124bd09e672d18bc38681968f9e770">nodeckstrdup</a></div><div class="ttdeci">static char * nodeckstrdup(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09058">ash.c:9058</a></div></div>
<div class="ttc" id="aash_8c_html_a02151de15e0a7dbf32c755b470829c39"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a02151de15e0a7dbf32c755b470829c39">clearcmdentry</a></div><div class="ttdeci">static void clearcmdentry(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08392">ash.c:8392</a></div></div>
<div class="ttc" id="aash_8c_html_a02186eac85121681589f2ec32aa7fa98"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a02186eac85121681589f2ec32aa7fa98">simplecmd</a></div><div class="ttdeci">static union node * simplecmd(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l12023">ash.c:12023</a></div></div>
<div class="ttc" id="aash_8c_html_a021c8b1363dee1e343be1406eee3e2c3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a021c8b1363dee1e343be1406eee3e2c3">pgetc_debug</a></div><div class="ttdeci">#define pgetc_debug(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10906">ash.c:10906</a></div></div>
<div class="ttc" id="aash_8c_html_a02201a0b8742c6d2cd984be551251f64"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a02201a0b8742c6d2cd984be551251f64">set_curjob</a></div><div class="ttdeci">static void set_curjob(struct job *jp, unsigned mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03895">ash.c:3895</a></div></div>
<div class="ttc" id="aash_8c_html_a02439554e31d4e3c0a24e89f726e54f2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a02439554e31d4e3c0a24e89f726e54f2">CD_PRINT</a></div><div class="ttdeci">#define CD_PRINT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02770">ash.c:2770</a></div></div>
<div class="ttc" id="aash_8c_html_a02469c7ae81ec191c17d88479963d979"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a02469c7ae81ec191c17d88479963d979">tblentry::cmdtype</a></div><div class="ttdeci">smallint cmdtype</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08242">ash.c:8242</a></div></div>
<div class="ttc" id="aash_8c_html_a02ad7f0d14c09b190354197d05396c72"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a02ad7f0d14c09b190354197d05396c72">recordregion</a></div><div class="ttdeci">static void recordregion(int start, int end, int nulonly)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06447">ash.c:6447</a></div></div>
<div class="ttc" id="aash_8c_html_a0379e6a75ec57b4b16b784a609ef0b2e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0379e6a75ec57b4b16b784a609ef0b2e">CCTL</a></div><div class="ttdeci">#define CCTL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03024">ash.c:3024</a></div></div>
<div class="ttc" id="aash_8c_html_a03a9af86fd8e5d88072d38a51144654d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a03a9af86fd8e5d88072d38a51144654d">hasmeta</a></div><div class="ttdeci">static int hasmeta(const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l07722">ash.c:7722</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da04d411adb03cd9fa66f72bbf12d0fd67"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da04d411adb03cd9fa66f72bbf12d0fd67">TESAC</a></div><div class="ttdeci">@ TESAC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08614">ash.c:8614</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da23c62ec7e2f13f4a9443adef926b8f0f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da23c62ec7e2f13f4a9443adef926b8f0f">TUNTIL</a></div><div class="ttdeci">@ TUNTIL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08623">ash.c:8623</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da2b483d6d5c6d950ba6db81a369a1ec78"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da2b483d6d5c6d950ba6db81a369a1ec78">TSEMI</a></div><div class="ttdeci">@ TSEMI</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08599">ash.c:8599</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da312b4482eefc9ca83cb84fa08c49b4d0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da312b4482eefc9ca83cb84fa08c49b4d0">TFI</a></div><div class="ttdeci">@ TFI</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08615">ash.c:8615</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da371e7256e2b2f57ebbe61ec0a0efe1b3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da371e7256e2b2f57ebbe61ec0a0efe1b3">TENDCASE</a></div><div class="ttdeci">@ TENDCASE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08606">ash.c:8606</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da43621631ca67d05d566cc33fa005845f">TRP</a></div><div class="ttdeci">@ TRP</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08605">ash.c:8605</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da4e367400a39e6f610d890329bfda7d2b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da4e367400a39e6f610d890329bfda7d2b">TBEGIN</a></div><div class="ttdeci">@ TBEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08625">ash.c:8625</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da5093e34df6d582f2fc69070de1af0cfd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da5093e34df6d582f2fc69070de1af0cfd">TPIPE</a></div><div class="ttdeci">@ TPIPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08603">ash.c:8603</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da6e85ebba0763046aa5db2a073ea608f3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da6e85ebba0763046aa5db2a073ea608f3">TCASE</a></div><div class="ttdeci">@ TCASE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08609">ash.c:8609</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da7300b41797271233ec46764dc5983b8f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da7300b41797271233ec46764dc5983b8f">TREDIR</a></div><div class="ttdeci">@ TREDIR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08597">ash.c:8597</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da8363475f10539bd37b8406cbbac1f141"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da8363475f10539bd37b8406cbbac1f141">TIN</a></div><div class="ttdeci">@ TIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08621">ash.c:8621</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da97170420678b0672ad01fcdef5b3b042"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da97170420678b0672ad01fcdef5b3b042">TEOF</a></div><div class="ttdeci">@ TEOF</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08595">ash.c:8595</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da9a6801dc7200377f2f407e292a6f4e2c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9a6801dc7200377f2f407e292a6f4e2c">TDONE</a></div><div class="ttdeci">@ TDONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08611">ash.c:8611</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1da9c265fee2fb017a2bb60009f14fbe4f5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1da9c265fee2fb017a2bb60009f14fbe4f5">TNL</a></div><div class="ttdeci">@ TNL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08596">ash.c:8596</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1daa26f5a72db54188cb29dc7b4ba952b87"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daa26f5a72db54188cb29dc7b4ba952b87">TTHEN</a></div><div class="ttdeci">@ TTHEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08622">ash.c:8622</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1daae1cac6fabc93853164889cdc0d77b1a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daae1cac6fabc93853164889cdc0d77b1a">TFOR</a></div><div class="ttdeci">@ TFOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08616">ash.c:8616</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1daaf9a72d2b433486eb715922b4c98b19b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daaf9a72d2b433486eb715922b4c98b19b">TWHILE</a></div><div class="ttdeci">@ TWHILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08624">ash.c:8624</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1dab2fe2733a71d9df8437916925e5bce8a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dab2fe2733a71d9df8437916925e5bce8a">TELIF</a></div><div class="ttdeci">@ TELIF</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08612">ash.c:8612</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1dab4bc1ce34893a5a1c80598894a352798"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dab4bc1ce34893a5a1c80598894a352798">TEND</a></div><div class="ttdeci">@ TEND</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08627">ash.c:8626</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1dac71b97e296bc873da6a08ed2840c8bde"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac71b97e296bc873da6a08ed2840c8bde">TLP</a></div><div class="ttdeci">@ TLP</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08604">ash.c:8604</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1dac83acf67a25689b50ade68bb2c59391f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dac83acf67a25689b50ade68bb2c59391f">TAND</a></div><div class="ttdeci">@ TAND</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08601">ash.c:8601</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1dada27aaee300d100894b7052b2063d6dd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dada27aaee300d100894b7052b2063d6dd">TOR</a></div><div class="ttdeci">@ TOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08602">ash.c:8602</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1dae717a5a56d7677f7a2fe53be12c22124"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1dae717a5a56d7677f7a2fe53be12c22124">TBACKGND</a></div><div class="ttdeci">@ TBACKGND</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08600">ash.c:8600</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daec2ee33818f13c79cd9ad6f3e75b90f2">TWORD</a></div><div class="ttdeci">@ TWORD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08598">ash.c:8598</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1daecbe57c1accc3f854289da5b2859df35"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daecbe57c1accc3f854289da5b2859df35">TELSE</a></div><div class="ttdeci">@ TELSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08613">ash.c:8613</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1daecc032ac8d73ded1632db71be06e61a9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daecc032ac8d73ded1632db71be06e61a9">TNOT</a></div><div class="ttdeci">@ TNOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08608">ash.c:8608</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1daf1d214b71bd509632a03a4377f153df4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daf1d214b71bd509632a03a4377f153df4">TENDBQUOTE</a></div><div class="ttdeci">@ TENDBQUOTE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08607">ash.c:8607</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1daf6049a2c76faf4a885590098b3c6f5d7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daf6049a2c76faf4a885590098b3c6f5d7">TIF</a></div><div class="ttdeci">@ TIF</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08620">ash.c:8620</a></div></div>
<div class="ttc" id="aash_8c_html_a043aa16174ac859767bd89036ac4fd1daffa6274fc4e000cda2676e65c4912321"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a043aa16174ac859767bd89036ac4fd1daffa6274fc4e000cda2676e65c4912321">TDO</a></div><div class="ttdeci">@ TDO</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08610">ash.c:8610</a></div></div>
<div class="ttc" id="aash_8c_html_a044f5a510db9c9bc10cf77e7c77de9f6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a044f5a510db9c9bc10cf77e7c77de9f6">IF_BASH_REDIR_OUTPUT</a></div><div class="ttdeci">#define IF_BASH_REDIR_OUTPUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00205">ash.c:205</a></div></div>
<div class="ttc" id="aash_8c_html_a044ff0b816ace1617b5a80ef22042484"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a044ff0b816ace1617b5a80ef22042484">NCLOBBER</a></div><div class="ttdeci">#define NCLOBBER</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00877">ash.c:877</a></div></div>
<div class="ttc" id="aash_8c_html_a04648c6665c64cc239aeddcf3e1b03e2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a04648c6665c64cc239aeddcf3e1b03e2">mklocal</a></div><div class="ttdeci">static void mklocal(char *name, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09969">ash.c:9969</a></div></div>
<div class="ttc" id="aash_8c_html_a0492fb0e5606c5bc2ce433bb664d890f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0492fb0e5606c5bc2ce433bb664d890f">xflag</a></div><div class="ttdeci">#define xflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00436">ash.c:436</a></div></div>
<div class="ttc" id="aash_8c_html_a04e7065f1dafa4244d9aa37c0cc59a58"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a04e7065f1dafa4244d9aa37c0cc59a58">savefd</a></div><div class="ttdeci">static int savefd(int from)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05607">ash.c:5607</a></div></div>
<div class="ttc" id="aash_8c_html_a054c7815afdeb13143a83e92525cbd25a8044562dad2c1168d3b50b34ba09ef3d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a054c7815afdeb13143a83e92525cbd25a8044562dad2c1168d3b50b34ba09ef3d">INPUT_PUSH_FILE</a></div><div class="ttdeci">@ INPUT_PUSH_FILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10717">ash.c:10717</a></div></div>
<div class="ttc" id="aash_8c_html_a054c7815afdeb13143a83e92525cbd25ac3737a4d9baa3b6578a95a1e3c19e321"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a054c7815afdeb13143a83e92525cbd25ac3737a4d9baa3b6578a95a1e3c19e321">INPUT_NOFILE_OK</a></div><div class="ttdeci">@ INPUT_NOFILE_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10718">ash.c:10718</a></div></div>
<div class="ttc" id="aash_8c_html_a057466ea74f4c9b34545c2e21aedc96c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a057466ea74f4c9b34545c2e21aedc96c">CHECKSTRSPACE</a></div><div class="ttdeci">#define CHECKSTRSPACE(n, p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01828">ash.c:1828</a></div></div>
<div class="ttc" id="aash_8c_html_a063c860e30fd5623b2c6eec4501a56f1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a063c860e30fd5623b2c6eec4501a56f1">heredoc::eofmark</a></div><div class="ttdeci">char * eofmark</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11764">ash.c:11764</a></div></div>
<div class="ttc" id="aash_8c_html_a0651ee43be8c7693d803f27b5bd87f26"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0651ee43be8c7693d803f27b5bd87f26">nnot::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00990">ash.c:990</a></div></div>
<div class="ttc" id="aash_8c_html_a06a22680ac104187b1b8e9fd9e790ac1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a06a22680ac104187b1b8e9fd9e790ac1">DO_ERR</a></div><div class="ttdeci">#define DO_ERR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08219">ash.c:8219</a></div></div>
<div class="ttc" id="aash_8c_html_a06cd4dfa76fe40a43987ba1fcca831b9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a06cd4dfa76fe40a43987ba1fcca831b9">ash_ptr_to_globals_var</a></div><div class="ttdeci">struct globals_var *BB_GLOBAL_CONST ash_ptr_to_globals_var</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/ash__ptr__hack_8c_source.html#l00018">ash_ptr_hack.c:18</a></div></div>
<div class="ttc" id="aash_8c_html_a071a99389e62437603cea07c20ee1aed"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a071a99389e62437603cea07c20ee1aed">__pgetc</a></div><div class="ttdeci">static int __pgetc(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11020">ash.c:11020</a></div></div>
<div class="ttc" id="aash_8c_html_a0752c9da8e3b58921b2f8689bcb5ce58"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0752c9da8e3b58921b2f8689bcb5ce58">unsetfunc</a></div><div class="ttdeci">static void unsetfunc(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14137">ash.c:14137</a></div></div>
<div class="ttc" id="aash_8c_html_a07a309f34c2a1c91e1200006f744009d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a07a309f34c2a1c91e1200006f744009d">evalvar</a></div><div class="ttdeci">static char * evalvar(char *p, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l07599">ash.c:7599</a></div></div>
<div class="ttc" id="aash_8c_html_a087674c0a332485e0ccea9dc28cb43d9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a087674c0a332485e0ccea9dc28cb43d9">vflag</a></div><div class="ttdeci">#define vflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00437">ash.c:437</a></div></div>
<div class="ttc" id="aash_8c_html_a08da7152752cd019f84593c97059f489"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a08da7152752cd019f84593c97059f489">PARSEREDIR</a></div><div class="ttdeci">#define PARSEREDIR()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l12436">ash.c:12436</a></div></div>
<div class="ttc" id="aash_8c_html_a08deef048520e0c745b9a0586754ff8c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a08deef048520e0c745b9a0586754ff8c">evalcommand</a></div><div class="ttdeci">static int evalcommand(union node *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10318">ash.c:10318</a></div></div>
<div class="ttc" id="aash_8c_html_a0948f1c922587c2fed833ef063949236"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0948f1c922587c2fed833ef063949236">DOWAIT_BLOCK</a></div><div class="ttdeci">#define DOWAIT_BLOCK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l04304">ash.c:4304</a></div></div>
<div class="ttc" id="aash_8c_html_a0a6e62194a5be0ea3b2d6e24eb6870ca"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0a6e62194a5be0ea3b2d6e24eb6870ca">strpush::prev_left_in_line</a></div><div class="ttdeci">int prev_left_in_line</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00576">ash.c:576</a></div></div>
<div class="ttc" id="aash_8c_html_a0ad3ce0bc63ada4d01f10ec4ecaac256"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0ad3ce0bc63ada4d01f10ec4ecaac256">SKIPBREAK</a></div><div class="ttdeci">#define SKIPBREAK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09219">ash.c:9219</a></div></div>
<div class="ttc" id="aash_8c_html_a0b25476817aa85cb612325a58c29bdef"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0b25476817aa85cb612325a58c29bdef">pwdcmd</a></div><div class="ttdeci">static int FAST_FUNC pwdcmd(int argc UNUSED_PARAM, char **argv UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02990">ash.c:2990</a></div></div>
<div class="ttc" id="aash_8c_html_a0b34fd79d6542a75d2fa821ed376a203"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0b34fd79d6542a75d2fa821ed376a203">optletters</a></div><div class="ttdeci">#define optletters(n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00371">ash.c:371</a></div></div>
<div class="ttc" id="aash_8c_html_a0bc7661d56fd1d874a1ec963d80dcf3a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0bc7661d56fd1d874a1ec963d80dcf3a">evalstring</a></div><div class="ttdeci">static int evalstring(char *s, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13469">ash.c:13469</a></div></div>
<div class="ttc" id="aash_8c_html_a0c2e9d9f346aba6a98c7535855cad110"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0c2e9d9f346aba6a98c7535855cad110">ncmd::redirect</a></div><div class="ttdeci">union node * redirect</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00895">ash.c:895</a></div></div>
<div class="ttc" id="aash_8c_html_a0c4e6e2470921fbf54525dd1644ad0f9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0c4e6e2470921fbf54525dd1644ad0f9">IS_BUILTIN_SPECIAL</a></div><div class="ttdeci">#define IS_BUILTIN_SPECIAL(b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08194">ash.c:8194</a></div></div>
<div class="ttc" id="aash_8c_html_a0d3ffc71e54c36cc5872b071f063a6ec"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0d3ffc71e54c36cc5872b071f063a6ec">evalcase</a></div><div class="ttdeci">static int evalcase(union node *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09538">ash.c:9538</a></div></div>
<div class="ttc" id="aash_8c_html_a0d60fe32daa97ee393ce5a346f96c3b9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0d60fe32daa97ee393ce5a346f96c3b9">dup2_or_raise</a></div><div class="ttdeci">static int dup2_or_raise(int from, int to)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05625">ash.c:5625</a></div></div>
<div class="ttc" id="aash_8c_html_a0d728c407f0ee237838e70447747cedc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0d728c407f0ee237838e70447747cedc">S_IGN</a></div><div class="ttdeci">#define S_IGN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00463">ash.c:463</a></div></div>
<div class="ttc" id="aash_8c_html_a0dd10f6b3ad00611521e0a7ebc8c18ad"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0dd10f6b3ad00611521e0a7ebc8c18ad">NOR</a></div><div class="ttdeci">#define NOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00863">ash.c:863</a></div></div>
<div class="ttc" id="aash_8c_html_a0e4598546299956b3a100e50e508c34d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0e4598546299956b3a100e50e508c34d">preadfd</a></div><div class="ttdeci">static int preadfd(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10796">ash.c:10796</a></div></div>
<div class="ttc" id="aash_8c_html_a0ee843cd30e83678db64bbfafb680362"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0ee843cd30e83678db64bbfafb680362">ps4val</a></div><div class="ttdeci">#define ps4val()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02247">ash.c:2247</a></div></div>
<div class="ttc" id="aash_8c_html_a0f026e10c3becb51cf84ac858cda803e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0f026e10c3becb51cf84ac858cda803e">evalcmd</a></div><div class="ttdeci">static int FAST_FUNC evalcmd(int argc UNUSED_PARAM, char **argv, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13523">ash.c:13523</a></div></div>
<div class="ttc" id="aash_8c_html_a0f4ca960e4fe1b8e9d75f91d292b97f5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0f4ca960e4fe1b8e9d75f91d292b97f5">cmdentry::cmdtype</a></div><div class="ttdeci">smallint cmdtype</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08201">ash.c:8201</a></div></div>
<div class="ttc" id="aash_8c_html_a0f6314b26ae354747dcf6a62cda25639"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a0f6314b26ae354747dcf6a62cda25639">lastcmdentry</a></div><div class="ttdeci">static struct tblentry ** lastcmdentry</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08427">ash.c:8427</a></div></div>
<div class="ttc" id="aash_8c_html_a1070a329ea02c16e7a6b8a1cf4ff96b0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1070a329ea02c16e7a6b8a1cf4ff96b0">setinputstring</a></div><div class="ttdeci">static void setinputstring(char *string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11241">ash.c:11241</a></div></div>
<div class="ttc" id="aash_8c_html_a113f17f9cd9a2267c3098fc33de951f3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a113f17f9cd9a2267c3098fc33de951f3">REDIR_SAVEFD2</a></div><div class="ttdeci">#define REDIR_SAVEFD2</div></div>
<div class="ttc" id="aash_8c_html_a114300b60e92ab3b9e3707f61278fe9d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a114300b60e92ab3b9e3707f61278fe9d">pushlocalvars</a></div><div class="ttdeci">static struct localvar_list * pushlocalvars(int push)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09876">ash.c:9876</a></div></div>
<div class="ttc" id="aash_8c_html_a118a6b79cefa14c0e48db7329e2dc546"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a118a6b79cefa14c0e48db7329e2dc546">NWHILE</a></div><div class="ttdeci">#define NWHILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00866">ash.c:866</a></div></div>
<div class="ttc" id="aash_8c_html_a121633c99627be34c130e5240aaee150"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a121633c99627be34c130e5240aaee150">Cflag</a></div><div class="ttdeci">#define Cflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00438">ash.c:438</a></div></div>
<div class="ttc" id="aash_8c_html_a12d4cf6f1e33f576762b7863b79e13d4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a12d4cf6f1e33f576762b7863b79e13d4">clear_traps</a></div><div class="ttdeci">static void clear_traps(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05154">ash.c:5154</a></div></div>
<div class="ttc" id="aash_8c_html_a131814c03a6cf6bd9af0079dd727ae8f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a131814c03a6cf6bd9af0079dd727ae8f">shlvl</a></div><div class="ttdeci">#define shlvl</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00490">ash.c:490</a></div></div>
<div class="ttc" id="aash_8c_html_a133f288de40a9ac9223f1d346effa547"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a133f288de40a9ac9223f1d346effa547">globals_misc::shlvl</a></div><div class="ttdeci">int shlvl</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00402">ash.c:402</a></div></div>
<div class="ttc" id="aash_8c_html_a13c4db5bf381cb8e9cc37f90b303edc2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a13c4db5bf381cb8e9cc37f90b303edc2">PARSEBACKQNEW</a></div><div class="ttdeci">#define PARSEBACKQNEW()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l12439">ash.c:12439</a></div></div>
<div class="ttc" id="aash_8c_html_a14752cb99d797dbc92efea29ddeaad61"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a14752cb99d797dbc92efea29ddeaad61">CUR_STOPPED</a></div><div class="ttdeci">#define CUR_STOPPED</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03814">ash.c:3814</a></div></div>
<div class="ttc" id="aash_8c_html_a14851ae043d4c3f5029162355ab5615e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a14851ae043d4c3f5029162355ab5615e">xxreadtoken_doubles</a></div><div class="ttdeci">#define xxreadtoken_doubles</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13169">ash.c:13169</a></div></div>
<div class="ttc" id="aash_8c_html_a14c0b1d6e8225850405db69fa1baec6f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a14c0b1d6e8225850405db69fa1baec6f">newline_and_flush</a></div><div class="ttdeci">static void newline_and_flush(FILE *dest)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00758">ash.c:758</a></div></div>
<div class="ttc" id="aash_8c_html_a14d5e0f6b48e18a969a0b29fbb0430b1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a14d5e0f6b48e18a969a0b29fbb0430b1">nodelist::next</a></div><div class="ttdeci">struct nodelist * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01019">ash.c:1019</a></div></div>
<div class="ttc" id="aash_8c_html_a14e3440a799eb1e36008a8a828fdeab9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a14e3440a799eb1e36008a8a828fdeab9">CMDUNKNOWN</a></div><div class="ttdeci">#define CMDUNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08213">ash.c:8213</a></div></div>
<div class="ttc" id="aash_8c_html_a1534dc21f568661ec4d44226a3fb3bb9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1534dc21f568661ec4d44226a3fb3bb9">ndefun::body</a></div><div class="ttdeci">union node * body</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00950">ash.c:950</a></div></div>
<div class="ttc" id="aash_8c_html_a1557f2ba904439e646e9513264f619ba"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1557f2ba904439e646e9513264f619ba">CENDFILE</a></div><div class="ttdeci">#define CENDFILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03023">ash.c:3023</a></div></div>
<div class="ttc" id="aash_8c_html_a165aeff3ce71a41b78e357e3455c0613"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a165aeff3ce71a41b78e357e3455c0613">changepath</a></div><div class="ttdeci">static void changepath(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02118">ash.c:2118</a></div></div>
<div class="ttc" id="aash_8c_html_a165b274cbb29be88c31f61ef2c0794a7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a165b274cbb29be88c31f61ef2c0794a7">globals_misc::exception_handler</a></div><div class="ttdeci">struct jmploc * exception_handler</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00413">ash.c:413</a></div></div>
<div class="ttc" id="aash_8c_html_a165ed7154d30466f3491f4e6cb1034c9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a165ed7154d30466f3491f4e6cb1034c9">CMDNORMAL</a></div><div class="ttdeci">#define CMDNORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08214">ash.c:8214</a></div></div>
<div class="ttc" id="aash_8c_html_a169450bd20de627b9da0dcb78f0d4abb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a169450bd20de627b9da0dcb78f0d4abb">IF_BASH_PATTERN_SUBST</a></div><div class="ttdeci">#define IF_BASH_PATTERN_SUBST</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00210">ash.c:210</a></div></div>
<div class="ttc" id="aash_8c_html_a16aa6d9e06bafb4431902ba7b942fb4c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a16aa6d9e06bafb4431902ba7b942fb4c">exptilde</a></div><div class="ttdeci">static char * exptilde(char *startp, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06506">ash.c:6506</a></div></div>
<div class="ttc" id="aash_8c_html_a16cf6b5060a408f419474fa2026029c9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a16cf6b5060a408f419474fa2026029c9">exportcmd</a></div><div class="ttdeci">static int FAST_FUNC exportcmd(int argc UNUSED_PARAM, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14079">ash.c:14079</a></div></div>
<div class="ttc" id="aash_8c_html_a17964ca36a1fd49a7b76eac2700d8e15"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a17964ca36a1fd49a7b76eac2700d8e15">var_end</a></div><div class="ttdeci">static const char * var_end(const char *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00552">ash.c:552</a></div></div>
<div class="ttc" id="aash_8c_html_a17b467de2743a40a0a8fc5fc8019404d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a17b467de2743a40a0a8fc5fc8019404d">NBACKGND</a></div><div class="ttdeci">#define NBACKGND</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00860">ash.c:860</a></div></div>
<div class="ttc" id="aash_8c_html_a17d2c424ae44fd36e6dfc3e804cff964"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a17d2c424ae44fd36e6dfc3e804cff964">ifsregion::nulonly</a></div><div class="ttdeci">int nulonly</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06109">ash.c:6109</a></div></div>
<div class="ttc" id="aash_8c_html_a183e3edf575dcffe53be58a774d7d753"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a183e3edf575dcffe53be58a774d7d753">pushfile</a></div><div class="ttdeci">static void pushfile(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11123">ash.c:11123</a></div></div>
<div class="ttc" id="aash_8c_html_a1852eb4f2d3bd766cb75a8e037bed3d1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1852eb4f2d3bd766cb75a8e037bed3d1">globals_var::vartab</a></div><div class="ttdeci">struct var * vartab[VTABSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02172">ash.c:2172</a></div></div>
<div class="ttc" id="aash_8c_html_a18fdee34289a7124cc3f568d0e4ffc8f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a18fdee34289a7124cc3f568d0e4ffc8f">SAVE_INT</a></div><div class="ttdeci">#define SAVE_INT(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00728">ash.c:728</a></div></div>
<div class="ttc" id="aash_8c_html_a191f5b89b3168513867a278fe81a0fbd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a191f5b89b3168513867a278fe81a0fbd">getjob</a></div><div class="ttdeci">#define getjob(name, getctl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03955">ash.c:3955</a></div></div>
<div class="ttc" id="aash_8c_html_a198fa801419ee8c4ae27b1434b7e7aff"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a198fa801419ee8c4ae27b1434b7e7aff">trapcmd</a></div><div class="ttdeci">static int FAST_FUNC trapcmd(int argc UNUSED_PARAM, char **argv UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13954">ash.c:13954</a></div></div>
<div class="ttc" id="aash_8c_html_a1a0f44024ffe6329c9c6cda41fd24d30"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1a0f44024ffe6329c9c6cda41fd24d30">pathval</a></div><div class="ttdeci">#define pathval()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02244">ash.c:2244</a></div></div>
<div class="ttc" id="aash_8c_html_a1a3c81e173fc61cd487d9c7e3fee2417"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1a3c81e173fc61cd487d9c7e3fee2417">job::prev_job</a></div><div class="ttdeci">struct job * prev_job</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03647">ash.c:3647</a></div></div>
<div class="ttc" id="aash_8c_html_a1af6e16c9bae6e74cae1483aa0827b58"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1af6e16c9bae6e74cae1483aa0827b58">addfname</a></div><div class="ttdeci">static void addfname(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l07710">ash.c:7710</a></div></div>
<div class="ttc" id="aash_8c_html_a1afe765b4510add91239ee23e5a89ba4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1afe765b4510add91239ee23e5a89ba4">NIF</a></div><div class="ttdeci">#define NIF</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00865">ash.c:865</a></div></div>
<div class="ttc" id="aash_8c_html_a1b289dd093ef7342da2ecdd2ed556dca"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1b289dd093ef7342da2ecdd2ed556dca">evalbackcmd</a></div><div class="ttdeci">static void FAST_FUNC evalbackcmd(union node *n, struct backcmd *result IF_BASH_PROCESS_SUBST(, int ctl))</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06585">ash.c:6585</a></div></div>
<div class="ttc" id="aash_8c_html_a1c0752fa32f10892c9017d7818ccc23d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1c0752fa32f10892c9017d7818ccc23d">ALIGN_PTR</a></div><div class="ttdeci">static const char *const optletters_optnames[] ALIGN_PTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00321">ash.c:321</a></div></div>
<div class="ttc" id="aash_8c_html_a1c684907a45812b2b5dad3ccfd02b93c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1c684907a45812b2b5dad3ccfd02b93c">ndefun::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00947">ash.c:947</a></div></div>
<div class="ttc" id="aash_8c_html_a1d3f761a16dbc32edd046d3971af79ee"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1d3f761a16dbc32edd046d3971af79ee">ash_msg_and_raise</a></div><div class="ttdeci">static void ash_msg_and_raise(int, const char *,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01463">ash.c:1463</a></div></div>
<div class="ttc" id="aash_8c_html_a1d4201130110a13686f2dfb2e54ee833"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1d4201130110a13686f2dfb2e54ee833">setsignal</a></div><div class="ttdeci">static void setsignal(int signo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03707">ash.c:3707</a></div></div>
<div class="ttc" id="aash_8c_html_a1d47c1f8c0499a791d541c03d69496c9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1d47c1f8c0499a791d541c03d69496c9">exitstatus</a></div><div class="ttdeci">#define exitstatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00484">ash.c:484</a></div></div>
<div class="ttc" id="aash_8c_html_a1d4c4fd4b370a09ffd1efe7bbb993c0a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1d4c4fd4b370a09ffd1efe7bbb993c0a">setparam</a></div><div class="ttdeci">static void setparam(char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11329">ash.c:11329</a></div></div>
<div class="ttc" id="aash_8c_html_a1eaea1ff84a1ecb0485a6e42ad4558b6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1eaea1ff84a1ecb0485a6e42ad4558b6">varvalue</a></div><div class="ttdeci">static NOINLINE ssize_t varvalue(char *name, int varflags, int flags, int quoted)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l07457">ash.c:7457</a></div></div>
<div class="ttc" id="aash_8c_html_a1eb940f0a287a03f37044878bd9c8e3f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1eb940f0a287a03f37044878bd9c8e3f">npipe::cmdlist</a></div><div class="ttdeci">struct nodelist * cmdlist</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00901">ash.c:901</a></div></div>
<div class="ttc" id="aash_8c_html_a1ebf7a92f573caf13f3bfc4176c3aba1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1ebf7a92f573caf13f3bfc4176c3aba1">prehash</a></div><div class="ttdeci">static void prehash(union node *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10670">ash.c:10670</a></div></div>
<div class="ttc" id="aash_8c_html_a1f2c2a1c98a9e1aa81a8e692abc6bacd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1f2c2a1c98a9e1aa81a8e692abc6bacd">globals_var::varinit</a></div><div class="ttdeci">struct var varinit[ARRAY_SIZE(varinit_data)]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02172">ash.c:2173</a></div></div>
<div class="ttc" id="aash_8c_html_a1f5146c749edf8f0f7077c5d0716c935"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1f5146c749edf8f0f7077c5d0716c935">DEBUG_PID</a></div><div class="ttdeci">#define DEBUG_PID</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00180">ash.c:180</a></div></div>
<div class="ttc" id="aash_8c_html_a1fa73ad20e7650d162437b665c5aa22b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a1fa73ad20e7650d162437b665c5aa22b">eflag</a></div><div class="ttdeci">#define eflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00428">ash.c:428</a></div></div>
<div class="ttc" id="aash_8c_html_a201baf44a060ba0b00e145a73d0572a8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a201baf44a060ba0b00e145a73d0572a8">breakcmd</a></div><div class="ttdeci">static int breakcmd(static int dotcmd(int, static int evalcmd(char **)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10122">ash.c:10122</a></div></div>
<div class="ttc" id="aash_8c_html_a20992d7f055cb9f17f94f97c830e819e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a20992d7f055cb9f17f94f97c830e819e">trap_depth</a></div><div class="ttdeci">#define trap_depth</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02192">ash.c:2192</a></div></div>
<div class="ttc" id="aash_8c_html_a20cb2da173c63e7ebf073b582ea0aaa3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a20cb2da173c63e7ebf073b582ea0aaa3">truecmd</a></div><div class="ttdeci">static int FAST_FUNC truecmd(int argc UNUSED_PARAM, char **argv UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10056">ash.c:10056</a></div></div>
<div class="ttc" id="aash_8c_html_a20e40106fa4a2a4b1c1128b0d025cdf5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a20e40106fa4a2a4b1c1128b0d025cdf5">suppress_int</a></div><div class="ttdeci">#define suppress_int</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00498">ash.c:498</a></div></div>
<div class="ttc" id="aash_8c_html_a21d8033795cbd57c21d4d5461347d63d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a21d8033795cbd57c21d4d5461347d63d">expandhere</a></div><div class="ttdeci">static void expandhere(union node *arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08150">ash.c:8150</a></div></div>
<div class="ttc" id="aash_8c_html_a22019d1f91478ef5498b1cb47a8c2c03"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a22019d1f91478ef5498b1cb47a8c2c03">stackmark::stacknleft</a></div><div class="ttdeci">size_t stacknleft</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01570">ash.c:1570</a></div></div>
<div class="ttc" id="aash_8c_html_a223a12e9f0da364c686c1c0e6046ccca"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a223a12e9f0da364c686c1c0e6046ccca">INIT_G_cmdtable</a></div><div class="ttdeci">#define INIT_G_cmdtable()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08248">ash.c:8248</a></div></div>
<div class="ttc" id="aash_8c_html_a22471b5a3cff2e7069fe01bd7f59c3ee"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a22471b5a3cff2e7069fe01bd7f59c3ee">BASH_XTRACEFD</a></div><div class="ttdeci">#define BASH_XTRACEFD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00233">ash.c:233</a></div></div>
<div class="ttc" id="aash_8c_html_a230902048e5385f7f1cdd8eff9da6cf6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a230902048e5385f7f1cdd8eff9da6cf6">prefix</a></div><div class="ttdeci">static char * prefix(const char *string, const char *pfx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01856">ash.c:1856</a></div></div>
<div class="ttc" id="aash_8c_html_a2315f68e983297ec023bc6f6654e54a6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2315f68e983297ec023bc6f6654e54a6">raise_error_syntax</a></div><div class="ttdeci">static void raise_error_syntax(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01454">ash.c:1454</a></div></div>
<div class="ttc" id="aash_8c_html_a23306e67a1676110c786b103b6edeb14"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a23306e67a1676110c786b103b6edeb14">VSTRIMRIGHT</a></div><div class="ttdeci">#define VSTRIMRIGHT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00839">ash.c:839</a></div></div>
<div class="ttc" id="aash_8c_html_a23c8cc52e99a9275f4fc36b75a20fab5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a23c8cc52e99a9275f4fc36b75a20fab5">VDYNAMIC</a></div><div class="ttdeci">#define VDYNAMIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02093">ash.c:2093</a></div></div>
<div class="ttc" id="aash_8c_html_a2452bc617f7c74a60852b74578fe2957"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2452bc617f7c74a60852b74578fe2957">DO_ABS</a></div><div class="ttdeci">#define DO_ABS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08220">ash.c:8220</a></div></div>
<div class="ttc" id="aash_8c_html_a2490ca362c42ce166505f4527ef0f5c1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2490ca362c42ce166505f4527ef0f5c1">hashcmd</a></div><div class="ttdeci">static int FAST_FUNC hashcmd(int argc UNUSED_PARAM, char **argv UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08497">ash.c:8497</a></div></div>
<div class="ttc" id="aash_8c_html_a24b7735727515db60f17593bcbb1f881"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a24b7735727515db60f17593bcbb1f881">evalbltin</a></div><div class="ttdeci">static int evalbltin(const struct builtincmd *, int, char **, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10624">ash.c:10624</a></div></div>
<div class="ttc" id="aash_8c_html_a252bfb51e3aaaead48778387d4db014c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a252bfb51e3aaaead48778387d4db014c">VSLENGTH</a></div><div class="ttdeci">#define VSLENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00843">ash.c:843</a></div></div>
<div class="ttc" id="aash_8c_html_a2548f708adc3adb0b59651bab5b4eefe"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2548f708adc3adb0b59651bab5b4eefe">tblentry::param</a></div><div class="ttdeci">union param param</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08240">ash.c:8241</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8a192bc4259531514d1963e20952c8d576"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a192bc4259531514d1963e20952c8d576">CDQUOTE_CENDQUOTE_CWORD_CWORD</a></div><div class="ttdeci">@ CDQUOTE_CENDQUOTE_CWORD_CWORD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03060">ash.c:3060</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8a246bf8bc3c06783f944a124d719fe594"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a246bf8bc3c06783f944a124d719fe594">CENDVAR_CENDVAR_CWORD_CENDVAR</a></div><div class="ttdeci">@ CENDVAR_CENDVAR_CWORD_CENDVAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03067">ash.c:3067</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8a4821adcfb3fcd0280267643c151c5fa5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a4821adcfb3fcd0280267643c151c5fa5">CSPCL_CWORD_CWORD_CWORD</a></div><div class="ttdeci">@ CSPCL_CWORD_CWORD_CWORD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03057">ash.c:3057</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8a688f7908e1dc59e1e0d36749ed16b4c7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a688f7908e1dc59e1e0d36749ed16b4c7">CSPCL_CWORD_CWORD_CRP</a></div><div class="ttdeci">@ CSPCL_CWORD_CWORD_CRP</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03064">ash.c:3064</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6a784794d6f2e2c9262726a0b623e266">CCTL_CCTL_CCTL_CCTL</a></div><div class="ttdeci">@ CCTL_CCTL_CCTL_CCTL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03070">ash.c:3070</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8a6e7da980ae6e1e1fcaaf2fedceeb8d19"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a6e7da980ae6e1e1fcaaf2fedceeb8d19">CSPCL_CWORD_CWORD_CLP</a></div><div class="ttdeci">@ CSPCL_CWORD_CWORD_CLP</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03063">ash.c:3063</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8a715dc5ebcb5fd9396ea7fb9eefb152cb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a715dc5ebcb5fd9396ea7fb9eefb152cb">CNL_CNL_CNL_CNL</a></div><div class="ttdeci">@ CNL_CNL_CNL_CNL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03058">ash.c:3058</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8a7183913f87d4381eb7a6d7228836d91c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a7183913f87d4381eb7a6d7228836d91c">CBQUOTE_CBQUOTE_CWORD_CBQUOTE</a></div><div class="ttdeci">@ CBQUOTE_CBQUOTE_CWORD_CBQUOTE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03066">ash.c:3066</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8a74881a1188108bc8589d823f853314c2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a74881a1188108bc8589d823f853314c2">CBACK_CBACK_CCTL_CBACK</a></div><div class="ttdeci">@ CBACK_CBACK_CCTL_CBACK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03065">ash.c:3065</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8a7cf633fa2e8cf58a0d266c97f62a6a55"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8a7cf633fa2e8cf58a0d266c97f62a6a55">CVAR_CVAR_CWORD_CVAR</a></div><div class="ttdeci">@ CVAR_CVAR_CWORD_CVAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03061">ash.c:3061</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aa7be42dab25201712c989cbd1a4455c5">CWORD_CCTL_CCTL_CWORD</a></div><div class="ttdeci">@ CWORD_CCTL_CCTL_CWORD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03059">ash.c:3059</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8aae2607d06100e7b4807c1723190d5172"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8aae2607d06100e7b4807c1723190d5172">CSQUOTE_CWORD_CENDQUOTE_CWORD</a></div><div class="ttdeci">@ CSQUOTE_CWORD_CENDQUOTE_CWORD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03062">ash.c:3062</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8ac2296d55884e0d271d10f84201b012aa"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8ac2296d55884e0d271d10f84201b012aa">CENDFILE_CENDFILE_CENDFILE_CENDFILE</a></div><div class="ttdeci">@ CENDFILE_CENDFILE_CENDFILE_CENDFILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03068">ash.c:3068</a></div></div>
<div class="ttc" id="aash_8c_html_a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a258c1154ec54c3d1a8f587308e5b25d8afde98b9019754f984dac2d1ced17eb6e">CWORD_CWORD_CWORD_CWORD</a></div><div class="ttdeci">@ CWORD_CWORD_CWORD_CWORD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03069">ash.c:3069</a></div></div>
<div class="ttc" id="aash_8c_html_a25edec132977e71f2485d16e5ae84168"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a25edec132977e71f2485d16e5ae84168">freefunc</a></div><div class="ttdeci">static void freefunc(struct funcnode *f)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01032">ash.c:1032</a></div></div>
<div class="ttc" id="aash_8c_html_a26e717afbeac9c5e02a973f069576e62"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a26e717afbeac9c5e02a973f069576e62">fill_arglist</a></div><div class="ttdeci">static struct strlist * fill_arglist(struct arglist *arglist, union node **argpp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08829">ash.c:8829</a></div></div>
<div class="ttc" id="aash_8c_html_a272d05ac530197a45631148058364968"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a272d05ac530197a45631148058364968">hashcd</a></div><div class="ttdeci">static void hashcd(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08546">ash.c:8546</a></div></div>
<div class="ttc" id="aash_8c_html_a273e43d0baccb9b83355ca9fc232ac02"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a273e43d0baccb9b83355ca9fc232ac02">raise_error_unexpected_syntax</a></div><div class="ttdeci">static void raise_error_unexpected_syntax(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11791">ash.c:11791</a></div></div>
<div class="ttc" id="aash_8c_html_a277d3674302086c22d6a6d9f6e535fb1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a277d3674302086c22d6a6d9f6e535fb1">argstr</a></div><div class="ttdeci">static char * argstr(char *p, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06786">ash.c:6786</a></div></div>
<div class="ttc" id="aash_8c_html_a27cf7b0a48a767c21a2c6eb91713b243"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a27cf7b0a48a767c21a2c6eb91713b243">ckmalloc</a></div><div class="ttdeci">#define ckmalloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01543">ash.c:1543</a></div></div>
<div class="ttc" id="aash_8c_html_a27e34243f684911d11eeea0506728d96"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a27e34243f684911d11eeea0506728d96">STUNPUTC</a></div><div class="ttdeci">#define STUNPUTC(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01841">ash.c:1841</a></div></div>
<div class="ttc" id="aash_8c_html_a27f01b0ed88eb7eb3055d280e8eb825f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a27f01b0ed88eb7eb3055d280e8eb825f">STADJUST</a></div><div class="ttdeci">#define STADJUST(amount, p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01843">ash.c:1843</a></div></div>
<div class="ttc" id="aash_8c_html_a2815e28a28c34b4396ffbbb7b018e6eb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2815e28a28c34b4396ffbbb7b018e6eb">parse_command</a></div><div class="ttdeci">static union node * parse_command(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l12167">ash.c:12167</a></div></div>
<div class="ttc" id="aash_8c_html_a28cb24c264c5e4cf63b673e4b98ddd86"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a28cb24c264c5e4cf63b673e4b98ddd86">synstack::varpushed</a></div><div class="ttdeci">uint8_t varpushed</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11087">ash.c:11087</a></div></div>
<div class="ttc" id="aash_8c_html_a2909724c5cc1419ade6041cbf8d98636"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2909724c5cc1419ade6041cbf8d98636">forkshell</a></div><div class="ttdeci">static int forkshell(struct job *, union node *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05339">ash.c:5339</a></div></div>
<div class="ttc" id="aash_8c_html_a292fac6f88c2fb54b4701a4141db1a7d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a292fac6f88c2fb54b4701a4141db1a7d">get_tty_state</a></div><div class="ttdeci">#define get_tty_state()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03890">ash.c:3890</a></div></div>
<div class="ttc" id="aash_8c_html_a2948a86c7e8ed0e9a62be1ef55fa160a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2948a86c7e8ed0e9a62be1ef55fa160a">BUILTIN_SPEC_REG</a></div><div class="ttdeci">#define BUILTIN_SPEC_REG</div></div>
<div class="ttc" id="aash_8c_html_a29e43c66a6c91cd4f15acf9f0f429f07"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a29e43c66a6c91cd4f15acf9f0f429f07">nfile::fname</a></div><div class="ttdeci">union node * fname</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00969">ash.c:969</a></div></div>
<div class="ttc" id="aash_8c_html_a2abe87c109c6ab3e823df89abcdd474d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2abe87c109c6ab3e823df89abcdd474d">preverrout_fd</a></div><div class="ttdeci">#define preverrout_fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02185">ash.c:2185</a></div></div>
<div class="ttc" id="aash_8c_html_a2ac649495715391c45a69e64ad31acfc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2ac649495715391c45a69e64ad31acfc">optlist</a></div><div class="ttdeci">#define optlist</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00503">ash.c:503</a></div></div>
<div class="ttc" id="aash_8c_html_a2b008c5d9ff0b559e1ce662dba222d65"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2b008c5d9ff0b559e1ce662dba222d65">unwindfiles</a></div><div class="ttdeci">static void unwindfiles(struct parsefile *stop)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11161">ash.c:11161</a></div></div>
<div class="ttc" id="aash_8c_html_a2b606e051d83d3814a3d53aad8111a21"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2b606e051d83d3814a3d53aad8111a21">nclist::next</a></div><div class="ttdeci">union node * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00941">ash.c:941</a></div></div>
<div class="ttc" id="aash_8c_html_a2b7cf2a3641be7b89138615764d60ba3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a></div><div class="ttdeci">#define EMPTY</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05473">ash.c:5473</a></div></div>
<div class="ttc" id="aash_8c_html_a2bc0a7e538e0a6421f4d72f2af0862cc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2bc0a7e538e0a6421f4d72f2af0862cc">globals_misc::nullstr</a></div><div class="ttdeci">char nullstr[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00425">ash.c:425</a></div></div>
<div class="ttc" id="aash_8c_html_a2c5e2d88990d6c29b5b9fd8c91101d25"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2c5e2d88990d6c29b5b9fd8c91101d25">g_stacknxt</a></div><div class="ttdeci">#define g_stacknxt</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01584">ash.c:1584</a></div></div>
<div class="ttc" id="aash_8c_html_a2d2ea4bca9799d131118b6942822266b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2d2ea4bca9799d131118b6942822266b">shellexec</a></div><div class="ttdeci">static void shellexec(char *prog, char **argv, const char *path, int idx) NORETURN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08317">ash.c:8317</a></div></div>
<div class="ttc" id="aash_8c_html_a2d4a659a3a4878fb264a3bff1f33e91c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2d4a659a3a4878fb264a3bff1f33e91c">globals_misc::backgndpid</a></div><div class="ttdeci">pid_t backgndpid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00480">ash.c:480</a></div></div>
<div class="ttc" id="aash_8c_html_a2ea50f9ae6dea4140c13f569c7f0091d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2ea50f9ae6dea4140c13f569c7f0091d">globals_misc::pending_int</a></div><div class="ttdeci">volatile smallint pending_int</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00416">ash.c:416</a></div></div>
<div class="ttc" id="aash_8c_html_a2f0c533acfa1c69c9427d90b6b9cbd6f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2f0c533acfa1c69c9427d90b6b9cbd6f">evalloop</a></div><div class="ttdeci">static int evalloop(union node *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09478">ash.c:9478</a></div></div>
<div class="ttc" id="aash_8c_html_a2f220ce05bde1a77bb1ec86cd9de3d1f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a2f220ce05bde1a77bb1ec86cd9de3d1f">localvar::vp</a></div><div class="ttdeci">struct var * vp</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02075">ash.c:2075</a></div></div>
<div class="ttc" id="aash_8c_html_a3008a082e6f06a375f491ece6730eff0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3008a082e6f06a375f491ece6730eff0">nbinary::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00912">ash.c:912</a></div></div>
<div class="ttc" id="aash_8c_html_a30bec42fcda15c87fe0b235c1af87c10"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a30bec42fcda15c87fe0b235c1af87c10">CLP</a></div><div class="ttdeci">#define CLP</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03021">ash.c:3021</a></div></div>
<div class="ttc" id="aash_8c_html_a314ffc878afe523c6b1d5108f0e7743b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a314ffc878afe523c6b1d5108f0e7743b">globals_misc::exception_type</a></div><div class="ttdeci">smallint exception_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00419">ash.c:419</a></div></div>
<div class="ttc" id="aash_8c_html_a3178469d4264994abd4fe5ed92ad4273"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3178469d4264994abd4fe5ed92ad4273">CSPCL</a></div><div class="ttdeci">#define CSPCL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03025">ash.c:3025</a></div></div>
<div class="ttc" id="aash_8c_html_a317b9fec367cca19bdda36cd3ca024a8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a317b9fec367cca19bdda36cd3ca024a8">nfile::_unused_dupfd</a></div><div class="ttdeci">int _unused_dupfd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00968">ash.c:968</a></div></div>
<div class="ttc" id="aash_8c_html_a31853db1275fc111ed8d2ea5e22d3673"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a31853db1275fc111ed8d2ea5e22d3673">nextopt</a></div><div class="ttdeci">static int nextopt(const char *optstring)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01991">ash.c:1991</a></div></div>
<div class="ttc" id="aash_8c_html_a319d06dfb0e179e02276d71fca6792ce"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a319d06dfb0e179e02276d71fca6792ce">findkwd</a></div><div class="ttdeci">static const char *const  * findkwd(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08713">ash.c:8713</a></div></div>
<div class="ttc" id="aash_8c_html_a31ffea3c3fe40feb15712cc8bf96bef2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a31ffea3c3fe40feb15712cc8bf96bef2">EXINT</a></div><div class="ttdeci">#define EXINT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00420">ash.c:420</a></div></div>
<div class="ttc" id="aash_8c_html_a3244f0a0f22e53ca438aaf6b56204eda"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3244f0a0f22e53ca438aaf6b56204eda">is_name</a></div><div class="ttdeci">#define is_name(c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00539">ash.c:539</a></div></div>
<div class="ttc" id="aash_8c_html_a325d05a9ae50a45416f9b32d0deb85e6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a325d05a9ae50a45416f9b32d0deb85e6">redirtab::pair_count</a></div><div class="ttdeci">int pair_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05682">ash.c:5682</a></div></div>
<div class="ttc" id="aash_8c_html_a32928a534047f7a3cf2225aa5076d8e6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a32928a534047f7a3cf2225aa5076d8e6">CRP</a></div><div class="ttdeci">#define CRP</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03022">ash.c:3022</a></div></div>
<div class="ttc" id="aash_8c_html_a32f510d098be2aa3d386d9c29ace5f28"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a32f510d098be2aa3d386d9c29ace5f28">stackblock</a></div><div class="ttdeci">#define stackblock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01597">ash.c:1597</a></div></div>
<div class="ttc" id="aash_8c_html_a33824ce802c252a2f3a2082c40b21ea7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a33824ce802c252a2f3a2082c40b21ea7">pgetc_top</a></div><div class="ttdeci">static int pgetc_top(struct synstack *stack)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11097">ash.c:11097</a></div></div>
<div class="ttc" id="aash_8c_html_a341ac5757fa89c680495bed4c78fde00"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a341ac5757fa89c680495bed4c78fde00">ARISYNTAX</a></div><div class="ttdeci">#define ARISYNTAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02727">ash.c:2727</a></div></div>
<div class="ttc" id="aash_8c_html_a343fdec5f1d8537b703fbb02d3408856"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a343fdec5f1d8537b703fbb02d3408856">unwindredir</a></div><div class="ttdeci">static void unwindredir(struct redirtab *stop)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06012">ash.c:6012</a></div></div>
<div class="ttc" id="aash_8c_html_a34566e0b5e69a5a690d149fd7b1ee52d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a34566e0b5e69a5a690d149fd7b1ee52d">VSMINUS</a></div><div class="ttdeci">#define VSMINUS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00835">ash.c:835</a></div></div>
<div class="ttc" id="aash_8c_html_a34609c6c3e5bcbc446a6926fb53fd3bd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a34609c6c3e5bcbc446a6926fb53fd3bd">EVALCMD</a></div><div class="ttdeci">#define EVALCMD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10262">ash.c:10262</a></div></div>
<div class="ttc" id="aash_8c_html_a3480dcf92022d7b3a75415d12f1efcfa"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3480dcf92022d7b3a75415d12f1efcfa">SHELL_ALIGN</a></div><div class="ttdeci">#define SHELL_ALIGN(nbytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01552">ash.c:1552</a></div></div>
<div class="ttc" id="aash_8c_html_a34ec879a6a616dfa98f10112f502746f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a34ec879a6a616dfa98f10112f502746f">read_profile</a></div><div class="ttdeci">static void read_profile(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14619">ash.c:14619</a></div></div>
<div class="ttc" id="aash_8c_html_a352aace17bfe0a7ec35cb1ce4ec48a38"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a352aace17bfe0a7ec35cb1ce4ec48a38">globals_misc::arg0</a></div><div class="ttdeci">char * arg0</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00411">ash.c:411</a></div></div>
<div class="ttc" id="aash_8c_html_a35bc68e499612bdb64aa63909575d5ce"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a35bc68e499612bdb64aa63909575d5ce">dotcmd</a></div><div class="ttdeci">static int FAST_FUNC dotcmd(int argc_ UNUSED_PARAM, char **argv_ UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13652">ash.c:13652</a></div></div>
<div class="ttc" id="aash_8c_html_a35c7e4c7399a2285b06692824c17454c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a35c7e4c7399a2285b06692824c17454c">stack_block::prev</a></div><div class="ttdeci">struct stack_block * prev</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01563">ash.c:1563</a></div></div>
<div class="ttc" id="aash_8c_html_a363b0cecad2acb1ac0570fc8272ffcfd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a363b0cecad2acb1ac0570fc8272ffcfd">DOLATSTRLEN</a></div><div class="ttdeci">#define DOLATSTRLEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00855">ash.c:855</a></div></div>
<div class="ttc" id="aash_8c_html_a36a80cf394a9341022e2e7858861bbf8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a36a80cf394a9341022e2e7858861bbf8">CENDQUOTE</a></div><div class="ttdeci">#define CENDQUOTE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03017">ash.c:3017</a></div></div>
<div class="ttc" id="aash_8c_html_a36acfd30a846545f9736c8e72b4709e7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a36acfd30a846545f9736c8e72b4709e7">ndefun::text</a></div><div class="ttdeci">char * text</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00949">ash.c:949</a></div></div>
<div class="ttc" id="aash_8c_html_a36bca9db2dbf431324629bdd81a36d02"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a36bca9db2dbf431324629bdd81a36d02">VSTRIMLEFT</a></div><div class="ttdeci">#define VSTRIMLEFT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00841">ash.c:841</a></div></div>
<div class="ttc" id="aash_8c_html_a3709e1422f4276fd148fa8209326f414"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3709e1422f4276fd148fa8209326f414">job::waited</a></div><div class="ttdeci">unsigned waited</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03644">ash.c:3644</a></div></div>
<div class="ttc" id="aash_8c_html_a3713e5af4c4d62450b75065a23dea670"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3713e5af4c4d62450b75065a23dea670">is_number</a></div><div class="ttdeci">static int is_number(const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01869">ash.c:1869</a></div></div>
<div class="ttc" id="aash_8c_html_a3715d0e0373df121661686ec7d098d68"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3715d0e0373df121661686ec7d098d68">CHKNL</a></div><div class="ttdeci">#define CHKNL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10725">ash.c:10725</a></div></div>
<div class="ttc" id="aash_8c_html_a37b9de733f35f04a3cf9a1f81ab63e2a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a37b9de733f35f04a3cf9a1f81ab63e2a">rootshell</a></div><div class="ttdeci">#define rootshell</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00403">ash.c:403</a></div></div>
<div class="ttc" id="aash_8c_html_a38534c29fbfb34d1f0cfb199ee38ac20"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a38534c29fbfb34d1f0cfb199ee38ac20">IF_BASH_DOLLAR_SQUOTE</a></div><div class="ttdeci">#define IF_BASH_DOLLAR_SQUOTE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00208">ash.c:208</a></div></div>
<div class="ttc" id="aash_8c_html_a38d3441295de31b965e935ec40d68eba"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a38d3441295de31b965e935ec40d68eba">DOWAIT_BLOCK_OR_SIG</a></div><div class="ttdeci">#define DOWAIT_BLOCK_OR_SIG</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l04305">ash.c:4305</a></div></div>
<div class="ttc" id="aash_8c_html_a38dea1972149ac4c426140b1984aad9f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a38dea1972149ac4c426140b1984aad9f">nif::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00918">ash.c:918</a></div></div>
<div class="ttc" id="aash_8c_html_a39163771f358bdc0ef85126a2014d86d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a39163771f358bdc0ef85126a2014d86d">mflag</a></div><div class="ttdeci">#define mflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00432">ash.c:432</a></div></div>
<div class="ttc" id="aash_8c_html_a394b1333a7038b592cca7b2cc9c16e07"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a394b1333a7038b592cca7b2cc9c16e07">addcmdentry</a></div><div class="ttdeci">static void addcmdentry(char *name, struct cmdentry *entry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08483">ash.c:8483</a></div></div>
<div class="ttc" id="aash_8c_html_a3a8ea127d74da2b046db4c8dab3ec59e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3a8ea127d74da2b046db4c8dab3ec59e">IF_NOT_ASH_OPTIMIZE_FOR_SIZE</a></div><div class="ttdeci">static IF_NOT_ASH_OPTIMIZE_FOR_SIZE(inline)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00703">ash.c:703</a></div></div>
<div class="ttc" id="aash_8c_html_a3b7883f93dae2be9b79ac0e88979bb83"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3b7883f93dae2be9b79ac0e88979bb83">procstat::ps_status</a></div><div class="ttdeci">int ps_status</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03623">ash.c:3623</a></div></div>
<div class="ttc" id="aash_8c_html_a3bda316c02decfdfac4e09f29f66b621"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3bda316c02decfdfac4e09f29f66b621">ndup::vname</a></div><div class="ttdeci">union node * vname</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00978">ash.c:978</a></div></div>
<div class="ttc" id="aash_8c_html_a3c58eaf841c80ab6d8e9acdf52172d33"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3c58eaf841c80ab6d8e9acdf52172d33">VSNORMAL</a></div><div class="ttdeci">#define VSNORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00834">ash.c:834</a></div></div>
<div class="ttc" id="aash_8c_html_a3c935fcd221b40e07d633c9ec486d6e8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3c935fcd221b40e07d633c9ec486d6e8">CNL</a></div><div class="ttdeci">#define CNL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03013">ash.c:3013</a></div></div>
<div class="ttc" id="aash_8c_html_a3cb27628daa22798e97bfcb8e40f2326"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3cb27628daa22798e97bfcb8e40f2326">nflag</a></div><div class="ttdeci">#define nflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00433">ash.c:433</a></div></div>
<div class="ttc" id="aash_8c_html_a3cbc03228926482a253db2b3a74ac94a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3cbc03228926482a253db2b3a74ac94a">token_id_t</a></div><div class="ttdeci">smallint token_id_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08628">ash.c:8628</a></div></div>
<div class="ttc" id="aash_8c_html_a3cbcd79044f21d4978df44ed66c263ca"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3cbcd79044f21d4978df44ed66c263ca">preglob</a></div><div class="ttdeci">static char * preglob(const char *pattern, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06377">ash.c:6377</a></div></div>
<div class="ttc" id="aash_8c_html_a3d04906647d0af85e349744f980ac037"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3d04906647d0af85e349744f980ac037">ash_msg</a></div><div class="ttdeci">static void ash_msg(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01479">ash.c:1479</a></div></div>
<div class="ttc" id="aash_8c_html_a3da9bf738c7a02904703b3c1a81f0f77"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3da9bf738c7a02904703b3c1a81f0f77">DO_REGBLTIN</a></div><div class="ttdeci">#define DO_REGBLTIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08223">ash.c:8223</a></div></div>
<div class="ttc" id="aash_8c_html_a3defff30bf6bea060bacaa2ea9324893"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3defff30bf6bea060bacaa2ea9324893">backgndpid</a></div><div class="ttdeci">#define backgndpid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00510">ash.c:510</a></div></div>
<div class="ttc" id="aash_8c_html_a3e25b83dd9c92078e1f9ceab528166f8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3e25b83dd9c92078e1f9ceab528166f8">CHKEOFMARK</a></div><div class="ttdeci">#define CHKEOFMARK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10726">ash.c:10726</a></div></div>
<div class="ttc" id="aash_8c_html_a3e268e82b83fabf23b98fe226c8b4d7b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3e268e82b83fabf23b98fe226c8b4d7b">EV_TESTED</a></div><div class="ttdeci">#define EV_TESTED</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06568">ash.c:6568</a></div></div>
<div class="ttc" id="aash_8c_html_a3e8c4aebb9db9eeb679cf02f2a552145"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3e8c4aebb9db9eeb679cf02f2a552145">COMMANDCMD</a></div><div class="ttdeci">#define COMMANDCMD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10255">ash.c:10255</a></div></div>
<div class="ttc" id="aash_8c_html_a3ec365dc744a369133c23ec0aec0b676"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3ec365dc744a369133c23ec0aec0b676">heredoc::here</a></div><div class="ttdeci">union node * here</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11763">ash.c:11763</a></div></div>
<div class="ttc" id="aash_8c_html_a3f9a634b34e839c07048da868fa9f578"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3f9a634b34e839c07048da868fa9f578">VTEXTFIXED</a></div><div class="ttdeci">#define VTEXTFIXED</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02084">ash.c:2084</a></div></div>
<div class="ttc" id="aash_8c_html_a3fcec1663ac43450c4d6fca751757f9c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a3fcec1663ac43450c4d6fca751757f9c">copynode</a></div><div class="ttdeci">static union node * copynode(union node *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09085">ash.c:9085</a></div></div>
<div class="ttc" id="aash_8c_html_a40b15277a0e1a82ae1d0d5acdc6f7889"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a40b15277a0e1a82ae1d0d5acdc6f7889">FORK_BG</a></div><div class="ttdeci">#define FORK_BG</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03606">ash.c:3606</a></div></div>
<div class="ttc" id="aash_8c_html_a40e81adbf326f121071e2f78d7b8fcec"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a40e81adbf326f121071e2f78d7b8fcec">chkmail</a></div><div class="ttdeci">#define chkmail()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02116">ash.c:2116</a></div></div>
<div class="ttc" id="aash_8c_html_a412aa44424e0422c0e8ae7829c1526a5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a412aa44424e0422c0e8ae7829c1526a5">setpwd</a></div><div class="ttdeci">static void setpwd(const char *val, int setold)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02863">ash.c:2863</a></div></div>
<div class="ttc" id="aash_8c_html_a4133ec69ddca3dbd47ba892d5c6fa43b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4133ec69ddca3dbd47ba892d5c6fa43b">tryexec</a></div><div class="ttdeci">static void tryexec(IF_FEATURE_SH_STANDALONE(int applet_no,) const char *cmd, char **argv, char **envp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08256">ash.c:8256</a></div></div>
<div class="ttc" id="aash_8c_html_a41cc9804234e874a7d3f76a4e6f72f47"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a41cc9804234e874a7d3f76a4e6f72f47">stackmark::stackp</a></div><div class="ttdeci">struct stack_block * stackp</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01568">ash.c:1568</a></div></div>
<div class="ttc" id="aash_8c_html_a4259df449db9b4e4373a1dfe851a1818"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4259df449db9b4e4373a1dfe851a1818">nfile::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00967">ash.c:967</a></div></div>
<div class="ttc" id="aash_8c_html_a426e81f112b1f0c58aaef25160fd32ca"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a426e81f112b1f0c58aaef25160fd32ca">parsefile::strpush</a></div><div class="ttdeci">struct strpush * strpush</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00604">ash.c:604</a></div></div>
<div class="ttc" id="aash_8c_html_a435931295fba5edd709b9d369def7329"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a435931295fba5edd709b9d369def7329">expandstr</a></div><div class="ttdeci">static const char * expandstr(const char *ps, int syntax_type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13402">ash.c:13402</a></div></div>
<div class="ttc" id="aash_8c_html_a448831f55169c4888c8875859c82b6f9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a448831f55169c4888c8875859c82b6f9">redirectsafe</a></div><div class="ttdeci">static int redirectsafe(union node *redir, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05913">ash.c:5913</a></div></div>
<div class="ttc" id="aash_8c_html_a4545639c6c22902c935614001f8c10a1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4545639c6c22902c935614001f8c10a1">nredir::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00905">ash.c:905</a></div></div>
<div class="ttc" id="aash_8c_html_a45496c63a2cfc4a2f9f90be212cd47eb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a45496c63a2cfc4a2f9f90be212cd47eb">tokpushback</a></div><div class="ttdeci">static smallint tokpushback</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11768">ash.c:11768</a></div></div>
<div class="ttc" id="aash_8c_html_a45daef36f05d6c778f520fadd46cf16b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a45daef36f05d6c778f520fadd46cf16b">strtodest</a></div><div class="ttdeci">static size_t strtodest(const char *p, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06419">ash.c:6419</a></div></div>
<div class="ttc" id="aash_8c_html_a4651d9d29c79e62de83f5a9ece542fd3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4651d9d29c79e62de83f5a9ece542fd3">nbinary::ch1</a></div><div class="ttdeci">union node * ch1</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00913">ash.c:913</a></div></div>
<div class="ttc" id="aash_8c_html_a465752d4373fafedc10b585d2e469352"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a465752d4373fafedc10b585d2e469352">falsecmd</a></div><div class="ttdeci">static int FAST_FUNC falsecmd(int argc UNUSED_PARAM, char **argv UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10050">ash.c:10050</a></div></div>
<div class="ttc" id="aash_8c_html_a46771db780284765d8d8e32af4e1dbc9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a46771db780284765d8d8e32af4e1dbc9">setoption</a></div><div class="ttdeci">static void setoption(int flag, int val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11400">ash.c:11400</a></div></div>
<div class="ttc" id="aash_8c_html_a46c1ecb58114984aa5f40f4e8ba3b00d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a46c1ecb58114984aa5f40f4e8ba3b00d">pgetc_eatbnl</a></div><div class="ttdeci">static int pgetc_eatbnl(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11068">ash.c:11068</a></div></div>
<div class="ttc" id="aash_8c_html_a47e8278e5700bfd67a294fd2decea1bf"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a47e8278e5700bfd67a294fd2decea1bf">evalpipe</a></div><div class="ttdeci">static int evalpipe(union node *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09676">ash.c:9676</a></div></div>
<div class="ttc" id="aash_8c_html_a48769f69c0ff86f7206de8ac8a97bf24"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a48769f69c0ff86f7206de8ac8a97bf24">heredoc</a></div><div class="ttdeci">static struct heredoc * heredoc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11775">ash.c:11775</a></div></div>
<div class="ttc" id="aash_8c_html_a48c67a57f50ea01555d9e86540d833c6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a48c67a57f50ea01555d9e86540d833c6">viflag</a></div><div class="ttdeci">#define viflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00443">ash.c:443</a></div></div>
<div class="ttc" id="aash_8c_html_a48c7b040dfc8cff65615cc855b9b11e2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a48c7b040dfc8cff65615cc855b9b11e2">synstack::next</a></div><div class="ttdeci">struct synstack * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11093">ash.c:11093</a></div></div>
<div class="ttc" id="aash_8c_html_a48db6a8781487e15e0790a1388bcc666"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a48db6a8781487e15e0790a1388bcc666">globals_misc::may_have_traps</a></div><div class="ttdeci">uint8_t may_have_traps</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00468">ash.c:468</a></div></div>
<div class="ttc" id="aash_8c_html_a48ffe2ba16597faedb406bcec66923ab"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a48ffe2ba16597faedb406bcec66923ab">narg::next</a></div><div class="ttdeci">union node * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00955">ash.c:955</a></div></div>
<div class="ttc" id="aash_8c_html_a4908ed260e5f01895ec89b6a2bcdc5f6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4908ed260e5f01895ec89b6a2bcdc5f6">dotrap</a></div><div class="ttdeci">static void dotrap(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09239">ash.c:9239</a></div></div>
<div class="ttc" id="aash_8c_html_a498390988de6449b28d364491a479369"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a498390988de6449b28d364491a479369">pending_sig</a></div><div class="ttdeci">#define pending_sig</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00501">ash.c:501</a></div></div>
<div class="ttc" id="aash_8c_html_a49f4f6620894014e4ed90dc2d33bfbc0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a49f4f6620894014e4ed90dc2d33bfbc0">redirlist</a></div><div class="ttdeci">#define redirlist</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05685">ash.c:5685</a></div></div>
<div class="ttc" id="aash_8c_html_a4a5dd8a899567d44c214a92c793e7420"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4a5dd8a899567d44c214a92c793e7420">single_quote</a></div><div class="ttdeci">static char * single_quote(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01895">ash.c:1895</a></div></div>
<div class="ttc" id="aash_8c_html_a4b4b55d19841657b0d741ce7b516aee0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4b4b55d19841657b0d741ce7b516aee0">CTLENDVAR</a></div><div class="ttdeci">#define CTLENDVAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00816">ash.c:816</a></div></div>
<div class="ttc" id="aash_8c_html_a4b789a45741aa8c9d9c995b497347e74"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4b789a45741aa8c9d9c995b497347e74">VSTRIMLEFTMAX</a></div><div class="ttdeci">#define VSTRIMLEFTMAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00842">ash.c:842</a></div></div>
<div class="ttc" id="aash_8c_html_a4b9a507e1ce9f2570ef7be31bfc30517"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4b9a507e1ce9f2570ef7be31bfc30517">random_gen</a></div><div class="ttdeci">#define random_gen</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00509">ash.c:509</a></div></div>
<div class="ttc" id="aash_8c_html_a4c022bf8670f876447d17a4f5ed120b8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4c022bf8670f876447d17a4f5ed120b8">evalskip</a></div><div class="ttdeci">static smallint evalskip</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09223">ash.c:9223</a></div></div>
<div class="ttc" id="aash_8c_html_a4c1815f17f83081f487e3812558e271d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4c1815f17f83081f487e3812558e271d">synstack::parenlevel</a></div><div class="ttdeci">int parenlevel</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11091">ash.c:11091</a></div></div>
<div class="ttc" id="aash_8c_html_a4c23b3477c7701f7da9b088d3aeffef6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4c23b3477c7701f7da9b088d3aeffef6">got_sigchld</a></div><div class="ttdeci">#define got_sigchld</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00500">ash.c:500</a></div></div>
<div class="ttc" id="aash_8c_html_a4c2f587864d9f4fdb200ad894c7a6f4f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4c2f587864d9f4fdb200ad894c7a6f4f">exitcmd</a></div><div class="ttdeci">static int FAST_FUNC exitcmd(int argc UNUSED_PARAM, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13708">ash.c:13708</a></div></div>
<div class="ttc" id="aash_8c_html_a4c3aa08951c53a80cfee2a1ef8d74775"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4c3aa08951c53a80cfee2a1ef8d74775">pmatch</a></div><div class="ttdeci">#define pmatch(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06369">ash.c:6369</a></div></div>
<div class="ttc" id="aash_8c_html_a4c60f6c9c477472f1519a6b0e4fc670a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4c60f6c9c477472f1519a6b0e4fc670a">evaltree</a></div><div class="ttdeci">static int evaltree(union node *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09306">ash.c:9306</a></div></div>
<div class="ttc" id="aash_8c_html_a4ca83be443923d857d18ed4532aa7855"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4ca83be443923d857d18ed4532aa7855">aflag</a></div><div class="ttdeci">#define aflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00439">ash.c:439</a></div></div>
<div class="ttc" id="aash_8c_html_a4cadba4a080c7314729299972b407a83"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4cadba4a080c7314729299972b407a83">nhere::next</a></div><div class="ttdeci">union node * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00984">ash.c:984</a></div></div>
<div class="ttc" id="aash_8c_html_a4cb0aac5c4a25e477d8b9a45c2638767"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4cb0aac5c4a25e477d8b9a45c2638767">globals_var::preverrout_fd</a></div><div class="ttdeci">int preverrout_fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02171">ash.c:2171</a></div></div>
<div class="ttc" id="aash_8c_html_a4cbbc5976934727164a94401a98f26c9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4cbbc5976934727164a94401a98f26c9">scanright</a></div><div class="ttdeci">static char * scanright(char *startp, char *rmesc, char *rmescend, char *pattern, int quotes, int match_at_start)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06948">ash.c:6948</a></div></div>
<div class="ttc" id="aash_8c_html_a4cbd54c13014909a340733bfe1e98b56"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4cbd54c13014909a340733bfe1e98b56">strpush::string</a></div><div class="ttdeci">char * string</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00580">ash.c:580</a></div></div>
<div class="ttc" id="aash_8c_html_a4ce675a4e223cdc1e9eba4484275ef40"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4ce675a4e223cdc1e9eba4484275ef40">find_builtin</a></div><div class="ttdeci">static struct builtincmd * find_builtin(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10279">ash.c:10279</a></div></div>
<div class="ttc" id="aash_8c_html_a4d37c97041c600bfb28593a7056aeb87"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4d37c97041c600bfb28593a7056aeb87">nfor::linno</a></div><div class="ttdeci">int linno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00926">ash.c:926</a></div></div>
<div class="ttc" id="aash_8c_html_a4d4ed34f543e4e70484ee91d74ebcb3e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4d4ed34f543e4e70484ee91d74ebcb3e">iflag</a></div><div class="ttdeci">#define iflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00431">ash.c:431</a></div></div>
<div class="ttc" id="aash_8c_html_a4d5949e5678787310373e25f4ce1c935"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4d5949e5678787310373e25f4ce1c935">expandarg</a></div><div class="ttdeci">static void expandarg(union node *arg, struct arglist *arglist, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08106">ash.c:8106</a></div></div>
<div class="ttc" id="aash_8c_html_a4d8f94d47a736d70ada8c5afbe26b248"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4d8f94d47a736d70ada8c5afbe26b248">arg0</a></div><div class="ttdeci">#define arg0</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00495">ash.c:495</a></div></div>
<div class="ttc" id="aash_8c_html_a4dea1c72117f8b8bec756e93fd3a90a3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4dea1c72117f8b8bec756e93fd3a90a3">evalfun</a></div><div class="ttdeci">static int evalfun(struct funcnode *func, int argc, char **argv, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09903">ash.c:9903</a></div></div>
<div class="ttc" id="aash_8c_html_a4e43643d3dc3fb370dd8b34e2c39c93e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4e43643d3dc3fb370dd8b34e2c39c93e">CMDBUILTIN</a></div><div class="ttdeci">#define CMDBUILTIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08216">ash.c:8216</a></div></div>
<div class="ttc" id="aash_8c_html_a4f2fe9deae05a475cc6b08a8f7ec9b54"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4f2fe9deae05a475cc6b08a8f7ec9b54">NCMD</a></div><div class="ttdeci">#define NCMD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00857">ash.c:857</a></div></div>
<div class="ttc" id="aash_8c_html_a4f412b3bb0f6a081ba652d0f658c67ff"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a4f412b3bb0f6a081ba652d0f658c67ff">npipe::pipe_backgnd</a></div><div class="ttdeci">smallint pipe_backgnd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00900">ash.c:900</a></div></div>
<div class="ttc" id="aash_8c_html_a50a75a9c2bd1f65ef10bc0b0b9b17969"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a50a75a9c2bd1f65ef10bc0b0b9b17969">nclist::body</a></div><div class="ttdeci">union node * body</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00943">ash.c:943</a></div></div>
<div class="ttc" id="aash_8c_html_a50ddadb0e0dfd8313a2fc80ecdaf03a5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a50ddadb0e0dfd8313a2fc80ecdaf03a5">parsecmd</a></div><div class="ttdeci">static union node * parsecmd(int interact)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13360">ash.c:13360</a></div></div>
<div class="ttc" id="aash_8c_html_a5148dcf77a8e551d3afe9e232c0f4dd7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5148dcf77a8e551d3afe9e232c0f4dd7">globals_memstack::stackbase</a></div><div class="ttdeci">struct stack_block stackbase</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01578">ash.c:1579</a></div></div>
<div class="ttc" id="aash_8c_html_a51947f73159e14e6d1deac7c491013ac"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a51947f73159e14e6d1deac7c491013ac">STARTSTACKSTR</a></div><div class="ttdeci">#define STARTSTACKSTR(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01826">ash.c:1826</a></div></div>
<div class="ttc" id="aash_8c_html_a51cb864227836eac29a01d9981fc4fd4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a51cb864227836eac29a01d9981fc4fd4">growstackstr</a></div><div class="ttdeci">static void * growstackstr(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01777">ash.c:1777</a></div></div>
<div class="ttc" id="aash_8c_html_a523bfc6cc92e9329801549542bc5f7df"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a523bfc6cc92e9329801549542bc5f7df">in_trap_ERR</a></div><div class="ttdeci">#define in_trap_ERR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02193">ash.c:2193</a></div></div>
<div class="ttc" id="aash_8c_html_a5247fc87a061b8a6df182eddf60fe07d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5247fc87a061b8a6df182eddf60fe07d">synstack::innerdq</a></div><div class="ttdeci">uint8_t innerdq</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11086">ash.c:11086</a></div></div>
<div class="ttc" id="aash_8c_html_a527f56250d2e6e49d00500f33bb3f331"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a527f56250d2e6e49d00500f33bb3f331">ifsregion::begoff</a></div><div class="ttdeci">int begoff</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06107">ash.c:6107</a></div></div>
<div class="ttc" id="aash_8c_html_a52a2bb424dfb6882c2845d8bfe5cd4fc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a52a2bb424dfb6882c2845d8bfe5cd4fc">nfor::var</a></div><div class="ttdeci">char * var</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00929">ash.c:929</a></div></div>
<div class="ttc" id="aash_8c_html_a5360861a12cae4ed3f5fe3b6d8cbb191"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5360861a12cae4ed3f5fe3b6d8cbb191">sigmode</a></div><div class="ttdeci">#define sigmode</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00504">ash.c:504</a></div></div>
<div class="ttc" id="aash_8c_html_a53b57e2df12643ccb283dc689a7ae384"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a53b57e2df12643ccb283dc689a7ae384">EXP_CASE</a></div><div class="ttdeci">#define EXP_CASE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06083">ash.c:6083</a></div></div>
<div class="ttc" id="aash_8c_html_a540a4eab564025a2e4c705fd774e6366"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a540a4eab564025a2e4c705fd774e6366">ash_ptr_to_globals_memstack</a></div><div class="ttdeci">struct globals_memstack *BB_GLOBAL_CONST ash_ptr_to_globals_memstack</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/ash__ptr__hack_8c_source.html#l00017">ash_ptr_hack.c:17</a></div></div>
<div class="ttc" id="aash_8c_html_a543160f90b2c27392cd1244f694e6b9f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a543160f90b2c27392cd1244f694e6b9f">globals_misc::rootpid</a></div><div class="ttdeci">int rootpid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00400">ash.c:400</a></div></div>
<div class="ttc" id="aash_8c_html_a55540dd0734a1144a530bb936bf01fd2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a55540dd0734a1144a530bb936bf01fd2">growjobtab</a></div><div class="ttdeci">static struct job * growjobtab(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l04744">ash.c:4744</a></div></div>
<div class="ttc" id="aash_8c_html_a55ac134e71782a1e37b441d0b237010b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a55ac134e71782a1e37b441d0b237010b">pungetc</a></div><div class="ttdeci">static void pungetc(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11061">ash.c:11061</a></div></div>
<div class="ttc" id="aash_8c_html_a5622588ebb578fec742903968331ed4b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5622588ebb578fec742903968331ed4b">list</a></div><div class="ttdeci">static union node * list(int nlflag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11814">ash.c:11814</a></div></div>
<div class="ttc" id="aash_8c_html_a5679e97a6d2f4d924815b16997badb3e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5679e97a6d2f4d924815b16997badb3e">SQSYNTAX</a></div><div class="ttdeci">#define SQSYNTAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02726">ash.c:2726</a></div></div>
<div class="ttc" id="aash_8c_html_a56e622682a74f608ee9dc21dcc46caa5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a56e622682a74f608ee9dc21dcc46caa5">globals_var::in_trap_ERR</a></div><div class="ttdeci">bool in_trap_ERR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02179">ash.c:2179</a></div></div>
<div class="ttc" id="aash_8c_html_a579cebaaeb96206b0fc5231f2fbf55f9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a579cebaaeb96206b0fc5231f2fbf55f9">waitone</a></div><div class="ttdeci">static int waitone(int block, struct job *job)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l04346">ash.c:4346</a></div></div>
<div class="ttc" id="aash_8c_html_a57e25a1aa640aed1410db790e15a2fd0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a57e25a1aa640aed1410db790e15a2fd0">nfile::expfname</a></div><div class="ttdeci">char * expfname</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00970">ash.c:970</a></div></div>
<div class="ttc" id="aash_8c_html_a582845c311f03e1deb2170fd0b605457"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a582845c311f03e1deb2170fd0b605457">_STPUTC</a></div><div class="ttdeci">static char * _STPUTC(int c, char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01818">ash.c:1818</a></div></div>
<div class="ttc" id="aash_8c_html_a583a10ca79827797cb11db92a9c532b8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a583a10ca79827797cb11db92a9c532b8">NTOFD</a></div><div class="ttdeci">#define NTOFD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00881">ash.c:881</a></div></div>
<div class="ttc" id="aash_8c_html_a588cf0fb30680a02343f762d7ed4b981"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a588cf0fb30680a02343f762d7ed4b981">checkkwd</a></div><div class="ttdeci">static smallint checkkwd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10721">ash.c:10721</a></div></div>
<div class="ttc" id="aash_8c_html_a58b97502c0ae7c9eb21e7607578394aa"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a58b97502c0ae7c9eb21e7607578394aa">CUR_DELETE</a></div><div class="ttdeci">#define CUR_DELETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03812">ash.c:3812</a></div></div>
<div class="ttc" id="aash_8c_html_a58d1d017078ba0fcd2a7606b78c376a9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a58d1d017078ba0fcd2a7606b78c376a9">wordtext</a></div><div class="ttdeci">static char * wordtext</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11772">ash.c:11772</a></div></div>
<div class="ttc" id="aash_8c_html_a598c9f08fce2b849c8c961cdc639e80d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a598c9f08fce2b849c8c961cdc639e80d">evalfor</a></div><div class="ttdeci">static int evalfor(union node *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09508">ash.c:9508</a></div></div>
<div class="ttc" id="aash_8c_html_a59cab26db0315c328b706bbd3e51398c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a59cab26db0315c328b706bbd3e51398c">strpush::prev_string</a></div><div class="ttdeci">char * prev_string</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00575">ash.c:575</a></div></div>
<div class="ttc" id="aash_8c_html_a59de60befd59e187927562b28f9a37b9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a59de60befd59e187927562b28f9a37b9">BUILTIN_SPEC_REG_ASSG</a></div><div class="ttdeci">#define BUILTIN_SPEC_REG_ASSG</div></div>
<div class="ttc" id="aash_8c_html_a5a317825b4db3e9ef70754046c814b6f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5a317825b4db3e9ef70754046c814b6f">ckzalloc</a></div><div class="ttdeci">#define ckzalloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01544">ash.c:1544</a></div></div>
<div class="ttc" id="aash_8c_html_a5b9456397207bea869e3c0067c365c2b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5b9456397207bea869e3c0067c365c2b">exception_handler</a></div><div class="ttdeci">#define exception_handler</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00496">ash.c:496</a></div></div>
<div class="ttc" id="aash_8c_html_a5bbfda82d22bba3ce3e14e3cb14fdbd0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5bbfda82d22bba3ce3e14e3cb14fdbd0">ARITH_FMT</a></div><div class="ttdeci">#define ARITH_FMT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00273">ash.c:273</a></div></div>
<div class="ttc" id="aash_8c_html_a5bd2cc24962f3791ce6ae81f5c560925"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5bd2cc24962f3791ce6ae81f5c560925">nif::test</a></div><div class="ttdeci">union node * test</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00919">ash.c:919</a></div></div>
<div class="ttc" id="aash_8c_html_a5bd38a556472525e9e770431e031c84e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5bd38a556472525e9e770431e031c84e">ncmd::linno</a></div><div class="ttdeci">int linno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00892">ash.c:892</a></div></div>
<div class="ttc" id="aash_8c_html_a5bee3de4970de999192f8929f926a4fe"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5bee3de4970de999192f8929f926a4fe">job::state</a></div><div class="ttdeci">JOB_STATE state</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3a/jobs_8h_source.html#l00124">jobs.h:124</a></div></div>
<div class="ttc" id="aash_8c_html_a5c26760d70b144b5aa8b139252b932cc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5c26760d70b144b5aa8b139252b932cc">setvar0</a></div><div class="ttdeci">static void FAST_FUNC setvar0(const char *name, const char *val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02519">ash.c:2519</a></div></div>
<div class="ttc" id="aash_8c_html_a5c3e355bcfe0aa4b26dd7d125dec9c2a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5c3e355bcfe0aa4b26dd7d125dec9c2a">INT_ON</a></div><div class="ttdeci">#define INT_ON</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00716">ash.c:716</a></div></div>
<div class="ttc" id="aash_8c_html_a5c4a1803ffa91a92515a692b4be787df"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5c4a1803ffa91a92515a692b4be787df">globals_misc::optlist</a></div><div class="ttdeci">char optlist[NOPTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00427">ash.c:427</a></div></div>
<div class="ttc" id="aash_8c_html_a5c67d866850019e4c058432478c9c28f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5c67d866850019e4c058432478c9c28f">pushstackmark</a></div><div class="ttdeci">static void pushstackmark(struct stackmark *mark, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01677">ash.c:1677</a></div></div>
<div class="ttc" id="aash_8c_html_a5cb12086d38c862ddf6bcc7f4b5796b8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5cb12086d38c862ddf6bcc7f4b5796b8">scanleft</a></div><div class="ttdeci">static char * scanleft(char *startp, char *rmesc, char *rmescend UNUSED_PARAM, char *pattern, int quotes, int zero)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06917">ash.c:6917</a></div></div>
<div class="ttc" id="aash_8c_html_a5cd8291782169e211f7112aec1b29b7a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5cd8291782169e211f7112aec1b29b7a">NSUBSHELL</a></div><div class="ttdeci">#define NSUBSHELL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00861">ash.c:861</a></div></div>
<div class="ttc" id="aash_8c_html_a5da14b841f888931a9a10474494f9bcc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5da14b841f888931a9a10474494f9bcc">FORK_FG</a></div><div class="ttdeci">#define FORK_FG</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03605">ash.c:3605</a></div></div>
<div class="ttc" id="aash_8c_html_a5eb4ad560d39a0c59e3e1fe36078ec5a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5eb4ad560d39a0c59e3e1fe36078ec5a">job_warning</a></div><div class="ttdeci">#define job_warning</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00486">ash.c:486</a></div></div>
<div class="ttc" id="aash_8c_html_a5f38fd50bf57c08961d90dd19f5c6ed8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5f38fd50bf57c08961d90dd19f5c6ed8">CSQUOTE</a></div><div class="ttdeci">#define CSQUOTE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03015">ash.c:3015</a></div></div>
<div class="ttc" id="aash_8c_html_a5f77a155edd6a9a46c390dfe7a4117a1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5f77a155edd6a9a46c390dfe7a4117a1">stackbase</a></div><div class="ttdeci">#define stackbase</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01587">ash.c:1587</a></div></div>
<div class="ttc" id="aash_8c_html_a5f9964e051fb0d61cef9413c7c34907b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5f9964e051fb0d61cef9413c7c34907b">job::state</a></div><div class="ttdeci">unsigned state</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03639">ash.c:3639</a></div></div>
<div class="ttc" id="aash_8c_html_a5fb4c385c5bc961b903aeb0e03e47eee"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a5fb4c385c5bc961b903aeb0e03e47eee">globals_misc::curdir</a></div><div class="ttdeci">char * curdir</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00408">ash.c:408</a></div></div>
<div class="ttc" id="aash_8c_html_a601fc0e11aeb25dae65e9ab78d9a6446"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a601fc0e11aeb25dae65e9ab78d9a6446">CDQUOTE</a></div><div class="ttdeci">#define CDQUOTE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03016">ash.c:3016</a></div></div>
<div class="ttc" id="aash_8c_html_a603c010a5c63da6598ae8bbc4e700aee"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a603c010a5c63da6598ae8bbc4e700aee">parseheredoc</a></div><div class="ttdeci">static void parseheredoc(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13375">ash.c:13375</a></div></div>
<div class="ttc" id="aash_8c_html_a6076fdfe4a4e7be6838d89cf6a46fe86"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6076fdfe4a4e7be6838d89cf6a46fe86">synstack::dqvarnest</a></div><div class="ttdeci">int dqvarnest</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11090">ash.c:11090</a></div></div>
<div class="ttc" id="aash_8c_html_a61424117a2928fce3ab68550483fbcea"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a61424117a2928fce3ab68550483fbcea">setinteractive</a></div><div class="ttdeci">static void setinteractive(int on)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09747">ash.c:9747</a></div></div>
<div class="ttc" id="aash_8c_html_a615d92bc42a7921532767e34c179273a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a615d92bc42a7921532767e34c179273a">doprompt</a></div><div class="ttdeci">static smallint doprompt</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02697">ash.c:2697</a></div></div>
<div class="ttc" id="aash_8c_html_a61c13ea76a40c800ee335d3fa34259e9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a61c13ea76a40c800ee335d3fa34259e9">synstack::varnest</a></div><div class="ttdeci">int varnest</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11089">ash.c:11089</a></div></div>
<div class="ttc" id="aash_8c_html_a61ca2a401534c4ce8055c85c8615105a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a61ca2a401534c4ce8055c85c8615105a">skipcount</a></div><div class="ttdeci">static int skipcount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09224">ash.c:9224</a></div></div>
<div class="ttc" id="aash_8c_html_a61d50a8e339a2b23161570aa7ce7286a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a61d50a8e339a2b23161570aa7ce7286a">CTLARI</a></div><div class="ttdeci">#define CTLARI</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00818">ash.c:818</a></div></div>
<div class="ttc" id="aash_8c_html_a6210f849e16da96e5829054b55810261"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6210f849e16da96e5829054b55810261">pushstring</a></div><div class="ttdeci">#define pushstring(s, ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10733">ash.c:10733</a></div></div>
<div class="ttc" id="aash_8c_html_a6255583cf141665dd6d7863e910e5656"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6255583cf141665dd6d7863e910e5656">vpcmp</a></div><div class="ttdeci">static int vpcmp(const void *a, const void *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02302">ash.c:2302</a></div></div>
<div class="ttc" id="aash_8c_html_a625b98fa8b8344c4300b568da223a328"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a625b98fa8b8344c4300b568da223a328">restore_tty_if_stopped_or_signaled</a></div><div class="ttdeci">#define restore_tty_if_stopped_or_signaled(jp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03891">ash.c:3891</a></div></div>
<div class="ttc" id="aash_8c_html_a632784d42b5406b264f72edcf19c8e9c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a632784d42b5406b264f72edcf19c8e9c">nlnoprompt</a></div><div class="ttdeci">static void nlnoprompt(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10989">ash.c:10989</a></div></div>
<div class="ttc" id="aash_8c_html_a636df6ab6a7674f64203a3b3f7f657c7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a636df6ab6a7674f64203a3b3f7f657c7">localvar_list::lv</a></div><div class="ttdeci">struct localvar * lv</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09809">ash.c:9809</a></div></div>
<div class="ttc" id="aash_8c_html_a6380e0e58bfca06e7ff558ec27b280f3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6380e0e58bfca06e7ff558ec27b280f3">USTPUTC</a></div><div class="ttdeci">#define USTPUTC(c, p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01835">ash.c:1835</a></div></div>
<div class="ttc" id="aash_8c_html_a645d346ad29091a759e84b256eb56496"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a645d346ad29091a759e84b256eb56496">forkchild</a></div><div class="ttdeci">static NOINLINE void forkchild(struct job *jp, union node *n, int mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05179">ash.c:5179</a></div></div>
<div class="ttc" id="aash_8c_html_a64704659d7e4b4c6d2a1ce78f70687a1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a64704659d7e4b4c6d2a1ce78f70687a1">bltinlookup</a></div><div class="ttdeci">static ALWAYS_INLINE const char * bltinlookup(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02404">ash.c:2404</a></div></div>
<div class="ttc" id="aash_8c_html_a64cc344105b625a76853c3a9ac4a11e3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a64cc344105b625a76853c3a9ac4a11e3">job::used</a></div><div class="ttdeci">unsigned used</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03645">ash.c:3645</a></div></div>
<div class="ttc" id="aash_8c_html_a64fc4708f182c268a3a4c06de3c11d67"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a64fc4708f182c268a3a4c06de3c11d67">realeofmark</a></div><div class="ttdeci">static ALWAYS_INLINE int realeofmark(const char *eofmark)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l12419">ash.c:12419</a></div></div>
<div class="ttc" id="aash_8c_html_a650f36e6cfd3cb69a048aae998e173b9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a650f36e6cfd3cb69a048aae998e173b9">ifsfirst</a></div><div class="ttdeci">static struct ifsregion ifsfirst</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06120">ash.c:6122</a></div></div>
<div class="ttc" id="aash_8c_html_a6510d5372ebec7dae40a15c8ae60892f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6510d5372ebec7dae40a15c8ae60892f">BUILTIN_REG_ASSG</a></div><div class="ttdeci">#define BUILTIN_REG_ASSG</div></div>
<div class="ttc" id="aash_8c_html_a6511eb40f475a23fdadfc358e87c9420"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6511eb40f475a23fdadfc358e87c9420">EXP_WORD</a></div><div class="ttdeci">#define EXP_WORD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06085">ash.c:6085</a></div></div>
<div class="ttc" id="aash_8c_html_a658038e4a47dea3db2c5ab2a3446e02a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a658038e4a47dea3db2c5ab2a3446e02a">NTO</a></div><div class="ttdeci">#define NTO</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00873">ash.c:873</a></div></div>
<div class="ttc" id="aash_8c_html_a65c1c983244225d7d1f492fdf891a525"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a65c1c983244225d7d1f492fdf891a525">nredir::linno</a></div><div class="ttdeci">int linno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00906">ash.c:906</a></div></div>
<div class="ttc" id="aash_8c_html_a65fce591627ff8afad03208e9a7e0cee"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a65fce591627ff8afad03208e9a7e0cee">EXP_REDIR</a></div><div class="ttdeci">#define EXP_REDIR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06071">ash.c:6071</a></div></div>
<div class="ttc" id="aash_8c_html_a66ba7a9d81c7e47c56780aaffbd29aea"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a66ba7a9d81c7e47c56780aaffbd29aea">setjobctl</a></div><div class="ttdeci">#define setjobctl(on)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03656">ash.c:3656</a></div></div>
<div class="ttc" id="aash_8c_html_a6710fbf8aad91222515ef7080999b862"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6710fbf8aad91222515ef7080999b862">sflag</a></div><div class="ttdeci">#define sflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00434">ash.c:434</a></div></div>
<div class="ttc" id="aash_8c_html_a68288c0a522225be14fbc8a2a0c116ca"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a68288c0a522225be14fbc8a2a0c116ca">hashvar</a></div><div class="ttdeci">static struct var ** hashvar(const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02291">ash.c:2291</a></div></div>
<div class="ttc" id="aash_8c_html_a683114bcf1e40813ad554788af1b5e1a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a683114bcf1e40813ad554788af1b5e1a">INIT_G_memstack</a></div><div class="ttdeci">#define INIT_G_memstack()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01588">ash.c:1588</a></div></div>
<div class="ttc" id="aash_8c_html_a688364e9feae647c3bf5fb32ba868661"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a688364e9feae647c3bf5fb32ba868661">SKIPCONT</a></div><div class="ttdeci">#define SKIPCONT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09220">ash.c:9220</a></div></div>
<div class="ttc" id="aash_8c_html_a68ada27b5db4d8a8be684f54bc3ed21f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a68ada27b5db4d8a8be684f54bc3ed21f">cmdlookup</a></div><div class="ttdeci">static struct tblentry * cmdlookup(const char *name, int add)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08430">ash.c:8430</a></div></div>
<div class="ttc" id="aash_8c_html_a68d04d2ff4675d77906c7f14273b8eae"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a68d04d2ff4675d77906c7f14273b8eae">CTL_LAST</a></div><div class="ttdeci">#define CTL_LAST</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00821">ash.c:821</a></div></div>
<div class="ttc" id="aash_8c_html_a6902e65246386365d0671a727892a871"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6902e65246386365d0671a727892a871">funcstring_end</a></div><div class="ttdeci">static char * funcstring_end</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08925">ash.c:8925</a></div></div>
<div class="ttc" id="aash_8c_html_a691b3e94559981cc8b785f706178d900"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a691b3e94559981cc8b785f706178d900">varinit</a></div><div class="ttdeci">#define varinit</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02187">ash.c:2187</a></div></div>
<div class="ttc" id="aash_8c_html_a699bcd70ab05310cf0eb6774a79cb56e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a699bcd70ab05310cf0eb6774a79cb56e">IBUFSIZ</a></div><div class="ttdeci">#define IBUFSIZ</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03009">ash.c:3009</a></div></div>
<div class="ttc" id="aash_8c_html_a6a659747fe58eef51d8e86d19ca4af05"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6a659747fe58eef51d8e86d19ca4af05">EXP_VARTILDE</a></div><div class="ttdeci">#define EXP_VARTILDE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06070">ash.c:6070</a></div></div>
<div class="ttc" id="aash_8c_html_a6a73003a9a50b94b6cde86c8b7842106"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6a73003a9a50b94b6cde86c8b7842106">funcline</a></div><div class="ttdeci">static int funcline</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09226">ash.c:9226</a></div></div>
<div class="ttc" id="aash_8c_html_a6ae5a99c75c2baaf5bf037bdecbbd562"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6ae5a99c75c2baaf5bf037bdecbbd562">strpush::unget</a></div><div class="ttdeci">int unget</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00589">ash.c:589</a></div></div>
<div class="ttc" id="aash_8c_html_a6b0054e65df0932a5e1c92c4f707358b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6b0054e65df0932a5e1c92c4f707358b">NPIPE</a></div><div class="ttdeci">#define NPIPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00858">ash.c:858</a></div></div>
<div class="ttc" id="aash_8c_html_a6b303ccf2079a8da3e1bf8c9449034c4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6b303ccf2079a8da3e1bf8c9449034c4">sizenodelist</a></div><div class="ttdeci">static int sizenodelist(int funcblocksize, struct nodelist *lp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08962">ash.c:8962</a></div></div>
<div class="ttc" id="aash_8c_html_a6b36692cbf47e35917b0aee00a4147fd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6b36692cbf47e35917b0aee00a4147fd">VEXPORT</a></div><div class="ttdeci">#define VEXPORT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02081">ash.c:2081</a></div></div>
<div class="ttc" id="aash_8c_html_a6b5397c22cc4cdc86aca806d3d8233fb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6b5397c22cc4cdc86aca806d3d8233fb">pushredir</a></div><div class="ttdeci">static struct redirtab * pushredir(union node *redir)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05950">ash.c:5950</a></div></div>
<div class="ttc" id="aash_8c_html_a6b68a742933812f9207781ad603496b9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6b68a742933812f9207781ad603496b9">stunalloc</a></div><div class="ttdeci">static void stunalloc(void *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01648">ash.c:1648</a></div></div>
<div class="ttc" id="aash_8c_html_a6c8645126bcd0410fed8862130144298"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6c8645126bcd0410fed8862130144298">EXP_VARTILDE2</a></div><div class="ttdeci">#define EXP_VARTILDE2</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06084">ash.c:6084</a></div></div>
<div class="ttc" id="aash_8c_html_a6ce35594df9dbfbd16fee8fa3392cda3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6ce35594df9dbfbd16fee8fa3392cda3">procstat::ps_cmd</a></div><div class="ttdeci">char * ps_cmd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03624">ash.c:3624</a></div></div>
<div class="ttc" id="aash_8c_html_a6d732e09c2c92f032212a0a5e5729028"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6d732e09c2c92f032212a0a5e5729028">inps4</a></div><div class="ttdeci">#define inps4</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00487">ash.c:487</a></div></div>
<div class="ttc" id="aash_8c_html_a6dafab20e413267c59b44d2eccd94ed7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6dafab20e413267c59b44d2eccd94ed7">basepf</a></div><div class="ttdeci">static struct parsefile basepf</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00552">ash.c:617</a></div></div>
<div class="ttc" id="aash_8c_html_a6dcdae6bcf53b708e56a70cbddf97503"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6dcdae6bcf53b708e56a70cbddf97503">PARSESUB</a></div><div class="ttdeci">#define PARSESUB()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l12437">ash.c:12437</a></div></div>
<div class="ttc" id="aash_8c_html_a6dd3695c6902ed6c5bb82b513501c00c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6dd3695c6902ed6c5bb82b513501c00c">Eflag</a></div><div class="ttdeci">#define Eflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00442">ash.c:442</a></div></div>
<div class="ttc" id="aash_8c_html_a6de8ace822a6024b65ee483f98004747a8b61b188049ae7afa5f631ea05bdd87e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6de8ace822a6024b65ee483f98004747a8b61b188049ae7afa5f631ea05bdd87e">SHELL_SIZE</a></div><div class="ttdeci">@ SHELL_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01557">ash.c:1557</a></div></div>
<div class="ttc" id="aash_8c_html_a6de8ace822a6024b65ee483f98004747ae7f551f21b815f6af6c4ef5d2b0cdce0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6de8ace822a6024b65ee483f98004747ae7f551f21b815f6af6c4ef5d2b0cdce0">MINSIZE</a></div><div class="ttdeci">@ MINSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01559">ash.c:1559</a></div></div>
<div class="ttc" id="aash_8c_html_a6e271f93b68c9908c90607fcb4ef001a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6e271f93b68c9908c90607fcb4ef001a">ignoresig</a></div><div class="ttdeci">static void ignoresig(int signo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03666">ash.c:3666</a></div></div>
<div class="ttc" id="aash_8c_html_a6e57db81112cabc28950fa04990c4da1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6e57db81112cabc28950fa04990c4da1">cdcmd</a></div><div class="ttdeci">static int FAST_FUNC cdcmd(int argc UNUSED_PARAM, char **argv UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02924">ash.c:2924</a></div></div>
<div class="ttc" id="aash_8c_html_a6e69eaa9499dee2defb7a0fad0bc3f66"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6e69eaa9499dee2defb7a0fad0bc3f66">IS_BUILTIN_ASSIGN</a></div><div class="ttdeci">#define IS_BUILTIN_ASSIGN(b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08198">ash.c:8198</a></div></div>
<div class="ttc" id="aash_8c_html_a6e951923c66693f5d308458676313f2e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6e951923c66693f5d308458676313f2e">unlikely</a></div><div class="ttdeci">#define unlikely(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00304">ash.c:304</a></div></div>
<div class="ttc" id="aash_8c_html_a6f80d662eb9834ebb6ed09fbae402c21"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6f80d662eb9834ebb6ed09fbae402c21">pipefail</a></div><div class="ttdeci">#define pipefail</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00447">ash.c:447</a></div></div>
<div class="ttc" id="aash_8c_html_a6f812c93b216ef41d56f26c14b624b76"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6f812c93b216ef41d56f26c14b624b76">options</a></div><div class="ttdeci">static int options(int *login_sh)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11417">ash.c:11417</a></div></div>
<div class="ttc" id="aash_8c_html_a6fa150cb80186d199c8c769730200d13"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a6fa150cb80186d199c8c769730200d13">esclen</a></div><div class="ttdeci">static size_t esclen(const char *start, const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06245">ash.c:6245</a></div></div>
<div class="ttc" id="aash_8c_html_a701f0177878b53edc891373fba8cb558"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a701f0177878b53edc891373fba8cb558">localvar::text</a></div><div class="ttdeci">const char * text</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02077">ash.c:2077</a></div></div>
<div class="ttc" id="aash_8c_html_a7037a9150ccc747a6fdb212ef4a6dfd7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7037a9150ccc747a6fdb212ef4a6dfd7">EXEND</a></div><div class="ttdeci">#define EXEND</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00422">ash.c:422</a></div></div>
<div class="ttc" id="aash_8c_html_a70a3f40093610e55d44ba13a7076181d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a70a3f40093610e55d44ba13a7076181d">DEBUG_TIME</a></div><div class="ttdeci">#define DEBUG_TIME</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00179">ash.c:179</a></div></div>
<div class="ttc" id="aash_8c_html_a71036b92d501a90d23d942648194bb0c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a71036b92d501a90d23d942648194bb0c">IF_BASH_FUNCTION</a></div><div class="ttdeci">#define IF_BASH_FUNCTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00202">ash.c:202</a></div></div>
<div class="ttc" id="aash_8c_html_a715c2e99d7a38041a97cebc49ef25470"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a715c2e99d7a38041a97cebc49ef25470">NUNTIL</a></div><div class="ttdeci">#define NUNTIL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00867">ash.c:867</a></div></div>
<div class="ttc" id="aash_8c_html_a71a47f80b46358218663cb5b9e8243c3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a71a47f80b46358218663cb5b9e8243c3">job::changed</a></div><div class="ttdeci">unsigned changed</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03646">ash.c:3646</a></div></div>
<div class="ttc" id="aash_8c_html_a7293b0347a906fd7957e16aac7c5243e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7293b0347a906fd7957e16aac7c5243e">setprompt_if</a></div><div class="ttdeci">static void setprompt_if(smallint do_set, int whichprompt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02737">ash.c:2737</a></div></div>
<div class="ttc" id="aash_8c_html_a72f5f81f3e35e9893f1700387d7b76ec"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a72f5f81f3e35e9893f1700387d7b76ec">builtincmd::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08190">ash.c:8190</a></div></div>
<div class="ttc" id="aash_8c_html_a7313a4d2ef02154895cdd285d1466a7a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7313a4d2ef02154895cdd285d1466a7a">NNOT</a></div><div class="ttdeci">#define NNOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00885">ash.c:885</a></div></div>
<div class="ttc" id="aash_8c_html_a731505e220374df4153088cb7dc7e721"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a731505e220374df4153088cb7dc7e721">NREDIR</a></div><div class="ttdeci">#define NREDIR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00859">ash.c:859</a></div></div>
<div class="ttc" id="aash_8c_html_a733265cb38a7276e9f95bf3f2117c2af"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a733265cb38a7276e9f95bf3f2117c2af">nfor::args</a></div><div class="ttdeci">union node * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00927">ash.c:927</a></div></div>
<div class="ttc" id="aash_8c_html_a738a786930f6cbcdfaf8f20ee8d1df78"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a738a786930f6cbcdfaf8f20ee8d1df78">VREADONLY</a></div><div class="ttdeci">#define VREADONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02082">ash.c:2082</a></div></div>
<div class="ttc" id="aash_8c_html_a7423a40e802148b929e2b062f88762d9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7423a40e802148b929e2b062f88762d9">cdopt</a></div><div class="ttdeci">static int cdopt(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02773">ash.c:2773</a></div></div>
<div class="ttc" id="aash_8c_html_a74a11d72ddd9ac7937d3065d4a46aad1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a74a11d72ddd9ac7937d3065d4a46aad1">EXEXIT</a></div><div class="ttdeci">#define EXEXIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00423">ash.c:423</a></div></div>
<div class="ttc" id="aash_8c_html_a74da11b66e4136384b4381f9d1babe28"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a74da11b66e4136384b4381f9d1babe28">strpush::spfree</a></div><div class="ttdeci">struct strpush * spfree</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00583">ash.c:583</a></div></div>
<div class="ttc" id="aash_8c_html_a74e43f33a6f417b153f8dc673fec0d85"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a74e43f33a6f417b153f8dc673fec0d85">nhere::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00983">ash.c:983</a></div></div>
<div class="ttc" id="aash_8c_html_a752993363898cf3069627d5c402fa991"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a752993363898cf3069627d5c402fa991">shparam::p</a></div><div class="ttdeci">char ** p</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02043">ash.c:2043</a></div></div>
<div class="ttc" id="aash_8c_html_a758d18444ca0979856f52b0506de9d19"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a758d18444ca0979856f52b0506de9d19">CTLENDARI</a></div><div class="ttdeci">#define CTLENDARI</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00819">ash.c:819</a></div></div>
<div class="ttc" id="aash_8c_html_a75d80799d6e6f5aea8d7a6cbbeae3e11"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a75d80799d6e6f5aea8d7a6cbbeae3e11">CHKALIAS</a></div><div class="ttdeci">#define CHKALIAS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10723">ash.c:10723</a></div></div>
<div class="ttc" id="aash_8c_html_a7615bdd40a39e94ed111c41ebb51a136"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7615bdd40a39e94ed111c41ebb51a136">NFROMFD</a></div><div class="ttdeci">#define NFROMFD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00882">ash.c:882</a></div></div>
<div class="ttc" id="aash_8c_html_a76e2869375ba6e8622bb5446692a1b5e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a76e2869375ba6e8622bb5446692a1b5e">VNOSET</a></div><div class="ttdeci">#define VNOSET</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02088">ash.c:2088</a></div></div>
<div class="ttc" id="aash_8c_html_a7724c1a420fb828d410bace56f4a74be"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7724c1a420fb828d410bace56f4a74be">jobtab</a></div><div class="ttdeci">static struct job * jobtab</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03822">ash.c:3822</a></div></div>
<div class="ttc" id="aash_8c_html_a77b90abe431d3d7de827fe9e6daf8252"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a77b90abe431d3d7de827fe9e6daf8252">delete_cmd_entry</a></div><div class="ttdeci">static void delete_cmd_entry(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08465">ash.c:8465</a></div></div>
<div class="ttc" id="aash_8c_html_a78020bfab294dc99a8d3c39a468307eb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a78020bfab294dc99a8d3c39a468307eb">parsefile::lastc</a></div><div class="ttdeci">int lastc[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00611">ash.c:611</a></div></div>
<div class="ttc" id="aash_8c_html_a784f8b2964c7c5e04ae6bec50e3bfd82"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a784f8b2964c7c5e04ae6bec50e3bfd82">globals_misc::gotsig</a></div><div class="ttdeci">uint8_t gotsig[NSIG - 1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00467">ash.c:467</a></div></div>
<div class="ttc" id="aash_8c_html_a7859a2322ee0ef8d0189fffbc39c28c7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7859a2322ee0ef8d0189fffbc39c28c7">sprint_status48</a></div><div class="ttdeci">static int sprint_status48(char *os, int status, int sigonly)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l04270">ash.c:4270</a></div></div>
<div class="ttc" id="aash_8c_html_a7878e2b49a95d63431a01e82a7c7ba16"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7878e2b49a95d63431a01e82a7c7ba16">parsefile::basestrpush</a></div><div class="ttdeci">struct strpush basestrpush</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00604">ash.c:605</a></div></div>
<div class="ttc" id="aash_8c_html_a78d2cb92d65e163178b2d98ba088cff7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a78d2cb92d65e163178b2d98ba088cff7">typecmd</a></div><div class="ttdeci">static int FAST_FUNC typecmd(int argc UNUSED_PARAM, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08811">ash.c:8811</a></div></div>
<div class="ttc" id="aash_8c_html_a78d805e1d2aaceaa17b361717cbd46fd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a78d805e1d2aaceaa17b361717cbd46fd">msg_illnum</a></div><div class="ttdeci">#define msg_illnum</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00379">ash.c:379</a></div></div>
<div class="ttc" id="aash_8c_html_a78effeebe8c1c9f39eb29cd22e800594"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a78effeebe8c1c9f39eb29cd22e800594">backcmd::nleft</a></div><div class="ttdeci">int nleft</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06560">ash.c:6560</a></div></div>
<div class="ttc" id="aash_8c_html_a7a1a6d8c702ae5df5dcfe038a1708158"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7a1a6d8c702ae5df5dcfe038a1708158">stalloc</a></div><div class="ttdeci">static void * stalloc(size_t nbytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01609">ash.c:1609</a></div></div>
<div class="ttc" id="aash_8c_html_a7acd544a8d7c72084832ebeff575f92e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7acd544a8d7c72084832ebeff575f92e">CHKKWD</a></div><div class="ttdeci">#define CHKKWD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10724">ash.c:10724</a></div></div>
<div class="ttc" id="aash_8c_html_a7ad20fd6512078ad094257879f3871b3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7ad20fd6512078ad094257879f3871b3">globals_memstack::sstrend</a></div><div class="ttdeci">char * sstrend</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01577">ash.c:1577</a></div></div>
<div class="ttc" id="aash_8c_html_a7ad6f8c279b66e901091cad09eb52257"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7ad6f8c279b66e901091cad09eb52257">S_CATCH</a></div><div class="ttdeci">#define S_CATCH</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00462">ash.c:462</a></div></div>
<div class="ttc" id="aash_8c_html_a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7b2ca3bd98351118e2887aa5c9791cf7a17b4d0dbbe1cdff2d385a19ede6b83ae">doing_jobctl</a></div><div class="ttdeci">@ doing_jobctl</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03655">ash.c:3655</a></div></div>
<div class="ttc" id="aash_8c_html_a7b5f8bbd363271d352ea79580f1f0cd4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7b5f8bbd363271d352ea79580f1f0cd4">grabstackstr</a></div><div class="ttdeci">#define grabstackstr(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01845">ash.c:1845</a></div></div>
<div class="ttc" id="aash_8c_html_a7b65457df68cce7e22542ee9b220b283"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7b65457df68cce7e22542ee9b220b283">readcmd</a></div><div class="ttdeci">static int FAST_FUNC readcmd(int argc UNUSED_PARAM, char **argv UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14245">ash.c:14245</a></div></div>
<div class="ttc" id="aash_8c_html_a7b8dd60ab90b7483c91c0cbeba6bafbd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7b8dd60ab90b7483c91c0cbeba6bafbd">CWORD</a></div><div class="ttdeci">#define CWORD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03012">ash.c:3012</a></div></div>
<div class="ttc" id="aash_8c_html_a7bc0f641cb9affd7ac216f4e3e2d4af7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7bc0f641cb9affd7ac216f4e3e2d4af7">cflag</a></div><div class="ttdeci">#define cflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00435">ash.c:435</a></div></div>
<div class="ttc" id="aash_8c_html_a7bd2f10f7aab5836959730cee26ded54"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7bd2f10f7aab5836959730cee26ded54">waitforjob</a></div><div class="ttdeci">static int waitforjob(struct job *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05381">ash.c:5381</a></div></div>
<div class="ttc" id="aash_8c_html_a7beaf4b87048c8243080a02de539eef4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7beaf4b87048c8243080a02de539eef4">internally_opened_fd</a></div><div class="ttdeci">static int internally_opened_fd(int fd, struct redirtab *sq)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05795">ash.c:5795</a></div></div>
<div class="ttc" id="aash_8c_html_a7bf34b1523ebaf627c8b95f35957e3bc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7bf34b1523ebaf627c8b95f35957e3bc">setinputfile</a></div><div class="ttdeci">static int setinputfile(const char *fname, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11214">ash.c:11214</a></div></div>
<div class="ttc" id="aash_8c_html_a7c0ef147c78b5cccffd0c9889134a395"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7c0ef147c78b5cccffd0c9889134a395">nredir::redirect</a></div><div class="ttdeci">union node * redirect</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00908">ash.c:908</a></div></div>
<div class="ttc" id="aash_8c_html_a7d5abdaafdcaa5d5e2dd866e0b4d033f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7d5abdaafdcaa5d5e2dd866e0b4d033f">waitproc</a></div><div class="ttdeci">static int waitproc(int block, int *status)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l04311">ash.c:4311</a></div></div>
<div class="ttc" id="aash_8c_html_a7d9fca7857a8fff7543c845fe3d02bb2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7d9fca7857a8fff7543c845fe3d02bb2">INIT_G_misc</a></div><div class="ttdeci">#define INIT_G_misc()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00511">ash.c:511</a></div></div>
<div class="ttc" id="aash_8c_html_a7e16466b836f34200e785c653b136dcf"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7e16466b836f34200e785c653b136dcf">NAPPEND</a></div><div class="ttdeci">#define NAPPEND</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00880">ash.c:880</a></div></div>
<div class="ttc" id="aash_8c_html_a7ebe41dbc324c417b903071139d41440"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7ebe41dbc324c417b903071139d41440">lineno</a></div><div class="ttdeci">#define lineno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02188">ash.c:2188</a></div></div>
<div class="ttc" id="aash_8c_html_a7edf4b5bebe2fc78aaea7372429dd54a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7edf4b5bebe2fc78aaea7372429dd54a">isassignment</a></div><div class="ttdeci">static int isassignment(const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10303">ash.c:10303</a></div></div>
<div class="ttc" id="aash_8c_html_a7f7a38b3a550668764aa5cdb5e1d947a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7f7a38b3a550668764aa5cdb5e1d947a">out1str</a></div><div class="ttdeci">static void out1str(const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00797">ash.c:797</a></div></div>
<div class="ttc" id="aash_8c_html_a7fe60f1864debf790f14aa3a157d9d46"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a7fe60f1864debf790f14aa3a157d9d46">EXP_QUOTED</a></div><div class="ttdeci">#define EXP_QUOTED</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06086">ash.c:6086</a></div></div>
<div class="ttc" id="aash_8c_html_a809b7b8164dad582c1db2e9eb8c071fd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a809b7b8164dad582c1db2e9eb8c071fd">tblentry::next</a></div><div class="ttdeci">struct tblentry * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08240">ash.c:8240</a></div></div>
<div class="ttc" id="aash_8c_html_a809e2e2e7d98d5be08fd3f92374b6ce0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a809e2e2e7d98d5be08fd3f92374b6ce0">bltincmd</a></div><div class="ttdeci">static int FAST_FUNC bltincmd(int argc UNUSED_PARAM, char **argv UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10311">ash.c:10311</a></div></div>
<div class="ttc" id="aash_8c_html_a80f4d118bbefdab6df40e7f843e89755"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a80f4d118bbefdab6df40e7f843e89755">rmescapes</a></div><div class="ttdeci">#define rmescapes(str, flag, slash_position)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06259">ash.c:6259</a></div></div>
<div class="ttc" id="aash_8c_html_a8168bc1def8480b9821d9b119eb6a96b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8168bc1def8480b9821d9b119eb6a96b">synstack::prev</a></div><div class="ttdeci">struct synstack * prev</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11092">ash.c:11092</a></div></div>
<div class="ttc" id="aash_8c_html_a81883e60f2d78f6929666fd00eea9ab2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a81883e60f2d78f6929666fd00eea9ab2">localvar::next</a></div><div class="ttdeci">struct localvar * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02074">ash.c:2074</a></div></div>
<div class="ttc" id="aash_8c_html_a81b2b2c45b240c26973db8ade9c149b1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a81b2b2c45b240c26973db8ade9c149b1">EXP_KEEPNUL</a></div><div class="ttdeci">#define EXP_KEEPNUL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06087">ash.c:6087</a></div></div>
<div class="ttc" id="aash_8c_html_a8284fd45ff2cf13c589888a5308bbf21"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8284fd45ff2cf13c589888a5308bbf21">localvar::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02076">ash.c:2076</a></div></div>
<div class="ttc" id="aash_8c_html_a82df78fb7744602bfe7801a950f868ee"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a82df78fb7744602bfe7801a950f868ee">S_DFL</a></div><div class="ttdeci">#define S_DFL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00461">ash.c:461</a></div></div>
<div class="ttc" id="aash_8c_html_a83bc826b9d93c36da9d3a45a3fe47880"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a83bc826b9d93c36da9d3a45a3fe47880">outstr</a></div><div class="ttdeci">static void outstr(const char *p, FILE *file)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00741">ash.c:741</a></div></div>
<div class="ttc" id="aash_8c_html_a8402856dae7663ea029dc25b552f39b3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8402856dae7663ea029dc25b552f39b3">setinputfd</a></div><div class="ttdeci">static void setinputfd(int fd, int push)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11195">ash.c:11195</a></div></div>
<div class="ttc" id="aash_8c_html_a8489c2df317e5734c87e572a5e9b3e08"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8489c2df317e5734c87e572a5e9b3e08">job::ps0</a></div><div class="ttdeci">struct procstat ps0</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03624">ash.c:3628</a></div></div>
<div class="ttc" id="aash_8c_html_a84ae7a505bb9355836849d1c05de51f1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a84ae7a505bb9355836849d1c05de51f1">redirtab::two_fd</a></div><div class="ttdeci">struct squirrel two_fd[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05682">ash.c:5683</a></div></div>
<div class="ttc" id="aash_8c_html_a84b424383676aac169bef6049c731d87"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a84b424383676aac169bef6049c731d87">FORK_NOJOB</a></div><div class="ttdeci">#define FORK_NOJOB</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03607">ash.c:3607</a></div></div>
<div class="ttc" id="aash_8c_html_a8542c0d6cac9ca2a17b3aafc905c83c2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8542c0d6cac9ca2a17b3aafc905c83c2">PEOF</a></div><div class="ttdeci">#define PEOF</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03027">ash.c:3027</a></div></div>
<div class="ttc" id="aash_8c_html_a856483675661a09eb2a7f2cdedaeb228"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a856483675661a09eb2a7f2cdedaeb228">ndup::dupfd</a></div><div class="ttdeci">int dupfd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00977">ash.c:977</a></div></div>
<div class="ttc" id="aash_8c_html_a85b0c2c7bb17ace3eb703124163e2c9d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a85b0c2c7bb17ace3eb703124163e2c9d">back_exitstatus</a></div><div class="ttdeci">#define back_exitstatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00485">ash.c:485</a></div></div>
<div class="ttc" id="aash_8c_html_a86dba0628295ef2cbe51568e4a8b902a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a86dba0628295ef2cbe51568e4a8b902a">redirect</a></div><div class="ttdeci">static void redirect(union node *redir, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05827">ash.c:5827</a></div></div>
<div class="ttc" id="aash_8c_html_a8700830b5a082a144a84d547130f7424"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8700830b5a082a144a84d547130f7424">strlist::next</a></div><div class="ttdeci">struct strlist * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00567">ash.c:567</a></div></div>
<div class="ttc" id="aash_8c_html_a8748d7311c6e071c6e73237f5a132692"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8748d7311c6e071c6e73237f5a132692">CLEAR_RANDOM_T</a></div><div class="ttdeci">#define CLEAR_RANDOM_T(rnd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00278">ash.c:278</a></div></div>
<div class="ttc" id="aash_8c_html_a88475a9af7eacfe42eaa5b9269bd7cfa"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a88475a9af7eacfe42eaa5b9269bd7cfa">ncase::linno</a></div><div class="ttdeci">int linno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00934">ash.c:934</a></div></div>
<div class="ttc" id="aash_8c_html_a88d94181fcd0342d100000e0eca76550"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a88d94181fcd0342d100000e0eca76550">ncmd::args</a></div><div class="ttdeci">union node * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00894">ash.c:894</a></div></div>
<div class="ttc" id="aash_8c_html_a88ec84fb83193af2b6c0d13eb1a9b8d3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a88ec84fb83193af2b6c0d13eb1a9b8d3">raise_interrupt</a></div><div class="ttdeci">static void raise_interrupt(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00676">ash.c:676</a></div></div>
<div class="ttc" id="aash_8c_html_a897ae134f4c871992ace29631fe5ddfa"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a897ae134f4c871992ace29631fe5ddfa">pathopt</a></div><div class="ttdeci">static const char * pathopt</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02633">ash.c:2633</a></div></div>
<div class="ttc" id="aash_8c_html_a89c72ec201709df195561d1faa9911c4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a89c72ec201709df195561d1faa9911c4">docd</a></div><div class="ttdeci">static int docd(const char *dest, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02900">ash.c:2900</a></div></div>
<div class="ttc" id="aash_8c_html_a8a64f518f7de0811ec585324b6f246ce"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8a64f518f7de0811ec585324b6f246ce">nhere::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00985">ash.c:985</a></div></div>
<div class="ttc" id="aash_8c_html_a8a7001b50718e5410bdadb8f07732ecc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8a7001b50718e5410bdadb8f07732ecc">xdup_CLOEXEC_and_close</a></div><div class="ttdeci">static int xdup_CLOEXEC_and_close(int fd, int avoid_fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05654">ash.c:5654</a></div></div>
<div class="ttc" id="aash_8c_html_a8a9439fe2ef12c44f9a6ced41a4e21a0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8a9439fe2ef12c44f9a6ced41a4e21a0">sstrdup</a></div><div class="ttdeci">static char * sstrdup(const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01664">ash.c:1664</a></div></div>
<div class="ttc" id="aash_8c_html_a8b36ccef66724fe6a2678bba38c8c9db"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8b36ccef66724fe6a2678bba38c8c9db">makename</a></div><div class="ttdeci">static union node * makename(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11956">ash.c:11956</a></div></div>
<div class="ttc" id="aash_8c_html_a8b43920779ebc0505848ce0fd9a44d29"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8b43920779ebc0505848ce0fd9a44d29">CD_PHYSICAL</a></div><div class="ttdeci">#define CD_PHYSICAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02769">ash.c:2769</a></div></div>
<div class="ttc" id="aash_8c_html_a8b4918e978236b595cd0683297407875"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8b4918e978236b595cd0683297407875">flush_stdout_stderr</a></div><div class="ttdeci">static void flush_stdout_stderr(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00749">ash.c:749</a></div></div>
<div class="ttc" id="aash_8c_html_a8b71aa4bfe8c3456eca50d42998b3f0f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8b71aa4bfe8c3456eca50d42998b3f0f">lasttoken</a></div><div class="ttdeci">static token_id_t lasttoken</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11770">ash.c:11770</a></div></div>
<div class="ttc" id="aash_8c_html_a8b7aba05c056e2fa2955ba3f3302d07e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8b7aba05c056e2fa2955ba3f3302d07e">varunset</a></div><div class="ttdeci">static void varunset(const char *, const char *, const char *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l07019">ash.c:7019</a></div></div>
<div class="ttc" id="aash_8c_html_a8b7d2aab3d87dc63c642b63961ca97f3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8b7d2aab3d87dc63c642b63961ca97f3">skiploop</a></div><div class="ttdeci">static int skiploop(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09458">ash.c:9458</a></div></div>
<div class="ttc" id="aash_8c_html_a8bc35a58154cb7cd938bcc152893c68f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8bc35a58154cb7cd938bcc152893c68f">umaskcmd</a></div><div class="ttdeci">static int FAST_FUNC umaskcmd(int argc UNUSED_PARAM, char **argv UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14314">ash.c:14314</a></div></div>
<div class="ttc" id="aash_8c_html_a8be6f6bcc7c0b48114ca32fa3c0e467b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8be6f6bcc7c0b48114ca32fa3c0e467b">optschanged</a></div><div class="ttdeci">static void optschanged(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09788">ash.c:9788</a></div></div>
<div class="ttc" id="aash_8c_html_a8c28a51cd6fa34a658d90aec943ee2a6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8c28a51cd6fa34a658d90aec943ee2a6">popredir</a></div><div class="ttdeci">static void popredir(int drop)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05981">ash.c:5981</a></div></div>
<div class="ttc" id="aash_8c_html_a8c6f307f646f0ab0c69f77aba11765ce"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8c6f307f646f0ab0c69f77aba11765ce">nfor::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00925">ash.c:925</a></div></div>
<div class="ttc" id="aash_8c_html_a8cddc53f30f45af7622e7c86dea69d98"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8cddc53f30f45af7622e7c86dea69d98">localcmd</a></div><div class="ttdeci">static int FAST_FUNC localcmd(int argc UNUSED_PARAM, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10035">ash.c:10035</a></div></div>
<div class="ttc" id="aash_8c_html_a8d50824d0847c72fd243bf64eaeecf25"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8d50824d0847c72fd243bf64eaeecf25">joff</a></div><div class="ttdeci">#define joff(p)</div></div>
<div class="ttc" id="aash_8c_html_a8d740f3c2d228c74d2ee134a9861ccec"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8d740f3c2d228c74d2ee134a9861ccec">backcmd::jp</a></div><div class="ttdeci">struct job * jp</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06562">ash.c:6562</a></div></div>
<div class="ttc" id="aash_8c_html_a8d9279f3cd6bd36f8600440ca9e4a473"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8d9279f3cd6bd36f8600440ca9e4a473">funcname</a></div><div class="ttdeci">#define funcname</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02191">ash.c:2191</a></div></div>
<div class="ttc" id="aash_8c_html_a8dbc5b8c85318901cd36386568765661"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8dbc5b8c85318901cd36386568765661">ash_msg_and_raise_error</a></div><div class="ttdeci">static void ash_msg_and_raise_error(const char *,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01435">ash.c:1435</a></div></div>
<div class="ttc" id="aash_8c_html_a8dc6c7dce7e09696ce27b97c374c1daf"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8dc6c7dce7e09696ce27b97c374c1daf">arglist::list</a></div><div class="ttdeci">struct strlist * list</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06113">ash.c:6113</a></div></div>
<div class="ttc" id="aash_8c_html_a8dcb9c83a980af40570db12cdf2abb37"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8dcb9c83a980af40570db12cdf2abb37">globals_misc::exitstatus</a></div><div class="ttdeci">uint8_t exitstatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00395">ash.c:395</a></div></div>
<div class="ttc" id="aash_8c_html_a8dd823babff5901e06145c1d7ca28301"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8dd823babff5901e06145c1d7ca28301">shiftcmd</a></div><div class="ttdeci">static int FAST_FUNC shiftcmd(int argc UNUSED_PARAM, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11496">ash.c:11496</a></div></div>
<div class="ttc" id="aash_8c_html_a8e17fcbe520cb5d312c4a2b8e4f061d6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8e17fcbe520cb5d312c4a2b8e4f061d6">PARSEBACKQOLD</a></div><div class="ttdeci">#define PARSEBACKQOLD()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l12438">ash.c:12438</a></div></div>
<div class="ttc" id="aash_8c_html_a8e200998dc81522671b71d8b0734b9eb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8e200998dc81522671b71d8b0734b9eb">CTLESC</a></div><div class="ttdeci">#define CTLESC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00814">ash.c:814</a></div></div>
<div class="ttc" id="aash_8c_html_a8ebc501ae589e6c82e13496a19eb8665"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8ebc501ae589e6c82e13496a19eb8665">nif::ifpart</a></div><div class="ttdeci">union node * ifpart</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00920">ash.c:920</a></div></div>
<div class="ttc" id="aash_8c_html_a8ede5a0294f4e7178ff6f27de5073c58"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8ede5a0294f4e7178ff6f27de5073c58">narg::backquote</a></div><div class="ttdeci">struct nodelist * backquote</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00957">ash.c:957</a></div></div>
<div class="ttc" id="aash_8c_html_a8ee7a5cf6352c2da56ffd7c71e4cd374"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8ee7a5cf6352c2da56ffd7c71e4cd374">RMESCAPE_GROW</a></div><div class="ttdeci">#define RMESCAPE_GROW</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06095">ash.c:6095</a></div></div>
<div class="ttc" id="aash_8c_html_a8f73002ccbaeafd27361a583fd1ac429"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8f73002ccbaeafd27361a583fd1ac429">IF_BASH_PROCESS_SUBST</a></div><div class="ttdeci">#define IF_BASH_PROCESS_SUBST(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00243">ash.c:243</a></div></div>
<div class="ttc" id="aash_8c_html_a8fa09cb60109c2f208fbee71ffbccde4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8fa09cb60109c2f208fbee71ffbccde4">cmdentry::param::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08203">ash.c:8203</a></div></div>
<div class="ttc" id="aash_8c_html_a8fa213832f0e90c9ee50c2bff0851cc7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8fa213832f0e90c9ee50c2bff0851cc7">uflag</a></div><div class="ttdeci">#define uflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00441">ash.c:441</a></div></div>
<div class="ttc" id="aash_8c_html_a8fbe4c07cec9e449521386e9b41608c0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8fbe4c07cec9e449521386e9b41608c0">makestrspace</a></div><div class="ttdeci">static char * makestrspace(size_t newlen, char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01796">ash.c:1796</a></div></div>
<div class="ttc" id="aash_8c_html_a8ff0136f5958bb122c3cfff62f239a46"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a8ff0136f5958bb122c3cfff62f239a46">readtoken</a></div><div class="ttdeci">static int readtoken(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13287">ash.c:13287</a></div></div>
<div class="ttc" id="aash_8c_html_a9022735c5ae9a49c485bea23d17f2e44"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9022735c5ae9a49c485bea23d17f2e44">popallfiles</a></div><div class="ttdeci">static void popallfiles(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11171">ash.c:11171</a></div></div>
<div class="ttc" id="aash_8c_html_a9095a839fc3895b4abe54df917d246ea"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9095a839fc3895b4abe54df917d246ea">VUNSET</a></div><div class="ttdeci">#define VUNSET</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02086">ash.c:2086</a></div></div>
<div class="ttc" id="aash_8c_html_a911772a50bc633c72f616df8fe5d131d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a911772a50bc633c72f616df8fe5d131d">nclist::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00940">ash.c:940</a></div></div>
<div class="ttc" id="aash_8c_html_a9121da3c0523b30c6777f2fa042e482a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9121da3c0523b30c6777f2fa042e482a">padvance_magic</a></div><div class="ttdeci">static int padvance_magic(const char **path, const char *name, int magic)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02636">ash.c:2636</a></div></div>
<div class="ttc" id="aash_8c_html_a915993c65b1d23c848d308738564f57a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a915993c65b1d23c848d308738564f57a">makejob</a></div><div class="ttdeci">static struct job * makejob(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l04791">ash.c:4791</a></div></div>
<div class="ttc" id="aash_8c_html_a923cb4a4043639f6d8d4108c84bb8f8f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a923cb4a4043639f6d8d4108c84bb8f8f">NAND</a></div><div class="ttdeci">#define NAND</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00862">ash.c:862</a></div></div>
<div class="ttc" id="aash_8c_html_a924a5de9ed2a7f4ce7639fa9b716c599"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a924a5de9ed2a7f4ce7639fa9b716c599">strpush::prev</a></div><div class="ttdeci">struct strpush * prev</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00574">ash.c:574</a></div></div>
<div class="ttc" id="aash_8c_html_a92f3dd9f6440c4acbd43c0bac43cb4f5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a92f3dd9f6440c4acbd43c0bac43cb4f5">parsefile::unget</a></div><div class="ttdeci">int unget</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00614">ash.c:614</a></div></div>
<div class="ttc" id="aash_8c_html_a93bb1ed8afa1f95bebbcf34cf243079f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a93bb1ed8afa1f95bebbcf34cf243079f">funcblock</a></div><div class="ttdeci">static void * funcblock</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08924">ash.c:8924</a></div></div>
<div class="ttc" id="aash_8c_html_a941a7cfd89c5c8522aaec5404ee554f4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a941a7cfd89c5c8522aaec5404ee554f4">popfile</a></div><div class="ttdeci">static void popfile(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11138">ash.c:11138</a></div></div>
<div class="ttc" id="aash_8c_html_a94416c74a0e29bcd06ac8a08f12e3284"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a94416c74a0e29bcd06ac8a08f12e3284">readtoken1</a></div><div class="ttdeci">static int readtoken1(int c, int syntax, char *eofmark, int striptabs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l12443">ash.c:12443</a></div></div>
<div class="ttc" id="aash_8c_html_a96548d5a09aa581e8c86812ffe17f518"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a96548d5a09aa581e8c86812ffe17f518">trap_ptr</a></div><div class="ttdeci">#define trap_ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00508">ash.c:508</a></div></div>
<div class="ttc" id="aash_8c_html_a967d3b0cdfb3be875229c443ca49de02"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a967d3b0cdfb3be875229c443ca49de02">CMDFUNCTION</a></div><div class="ttdeci">#define CMDFUNCTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08215">ash.c:8215</a></div></div>
<div class="ttc" id="aash_8c_html_a970774714bfdcf9b8b8019a3a72fd2a5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a970774714bfdcf9b8b8019a3a72fd2a5">ifsregion::next</a></div><div class="ttdeci">struct ifsregion * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06106">ash.c:6106</a></div></div>
<div class="ttc" id="aash_8c_html_a9712204ccd47a43411b450680bd1cf03aa92cc83bd3ca515948f5b810bf21c707"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9712204ccd47a43411b450680bd1cf03aa92cc83bd3ca515948f5b810bf21c707">tokendlist</a></div><div class="ttdeci">@ tokendlist</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08665">ash.c:8632</a></div></div>
<div class="ttc" id="aash_8c_html_a971bed606674f492145ee75af6557f7a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a971bed606674f492145ee75af6557f7a">errmsg</a></div><div class="ttdeci">static const char * errmsg(int e, const char *em)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01494">ash.c:1494</a></div></div>
<div class="ttc" id="aash_8c_html_a975d127f9c1f729c08266920deff61e2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a975d127f9c1f729c08266920deff61e2">expbackq</a></div><div class="ttdeci">static void expbackq(union node *cmd, int flag IF_BASH_PROCESS_SUBST(, int ctl))</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06659">ash.c:6659</a></div></div>
<div class="ttc" id="aash_8c_html_a976fd5853abfd237dfb13dbe0582b045"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a976fd5853abfd237dfb13dbe0582b045">ash_vmsg_and_raise</a></div><div class="ttdeci">static void ash_vmsg_and_raise(int, const char *, va_list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01416">ash.c:1416</a></div></div>
<div class="ttc" id="aash_8c_html_a97a7d14548ffd43dbdb7b209f61c725b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a97a7d14548ffd43dbdb7b209f61c725b">globals_memstack::g_stacknxt</a></div><div class="ttdeci">char * g_stacknxt</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01576">ash.c:1576</a></div></div>
<div class="ttc" id="aash_8c_html_a97c73dc70eb458579b40916899fe6974"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a97c73dc70eb458579b40916899fe6974">RMESCAPE_GLOB</a></div><div class="ttdeci">#define RMESCAPE_GLOB</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06094">ash.c:6094</a></div></div>
<div class="ttc" id="aash_8c_html_a981d6ae54e99c1f1d5572663e3056c3f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a981d6ae54e99c1f1d5572663e3056c3f">ndefun::linno</a></div><div class="ttdeci">int linno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00948">ash.c:948</a></div></div>
<div class="ttc" id="aash_8c_html_a98275e0ffbf80e089f747e753e7374aa"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a98275e0ffbf80e089f747e753e7374aa">globals_misc::job_warning</a></div><div class="ttdeci">smallint job_warning</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00397">ash.c:397</a></div></div>
<div class="ttc" id="aash_8c_html_a98a2edb1ca7387b7963a47bd3d33c0a3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a98a2edb1ca7387b7963a47bd3d33c0a3">REDIR_PUSH</a></div><div class="ttdeci">#define REDIR_PUSH</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05825">ash.c:5825</a></div></div>
<div class="ttc" id="aash_8c_html_a98fecd06718411eeaa1e2950160af801"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a98fecd06718411eeaa1e2950160af801">ncase::expr</a></div><div class="ttdeci">union node * expr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00935">ash.c:935</a></div></div>
<div class="ttc" id="aash_8c_html_a997614b2b2b1f3b8d60c064b412e4bbb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a997614b2b2b1f3b8d60c064b412e4bbb">JOBSTOPPED</a></div><div class="ttdeci">#define JOBSTOPPED</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03636">ash.c:3636</a></div></div>
<div class="ttc" id="aash_8c_html_a99a5a68b61443077a8519d0e1fc8972b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a99a5a68b61443077a8519d0e1fc8972b">ndup::_unused_expfname</a></div><div class="ttdeci">char * _unused_expfname</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00979">ash.c:979</a></div></div>
<div class="ttc" id="aash_8c_html_a99d3e71c4519d31ac675845bbc8cf111"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a99d3e71c4519d31ac675845bbc8cf111">globals_misc::sigmode</a></div><div class="ttdeci">char sigmode[NSIG - 1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00460">ash.c:460</a></div></div>
<div class="ttc" id="aash_8c_html_a9abc308af8f1b073f8122432b166a573"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9abc308af8f1b073f8122432b166a573">backcmd::buf</a></div><div class="ttdeci">char * buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06561">ash.c:6561</a></div></div>
<div class="ttc" id="aash_8c_html_a9b85d29ae92a08c0a12c42cc7f302dfb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9b85d29ae92a08c0a12c42cc7f302dfb">NSEMI</a></div><div class="ttdeci">#define NSEMI</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00864">ash.c:864</a></div></div>
<div class="ttc" id="aash_8c_html_a9b96b5d5ef4634e8f3906fc8eceaa23a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9b96b5d5ef4634e8f3906fc8eceaa23a">find_dot_file</a></div><div class="ttdeci">static char * find_dot_file(char *basename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13621">ash.c:13621</a></div></div>
<div class="ttc" id="aash_8c_html_a9bf632f3297f9e5dc5327a548a839677"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9bf632f3297f9e5dc5327a548a839677">nhere::doc</a></div><div class="ttdeci">union node * doc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00986">ash.c:986</a></div></div>
<div class="ttc" id="aash_8c_html_a9c9fef7b74fcae9dd30e209768ac216d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9c9fef7b74fcae9dd30e209768ac216d">execcmd</a></div><div class="ttdeci">static int FAST_FUNC execcmd(int argc UNUSED_PARAM, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10062">ash.c:10062</a></div></div>
<div class="ttc" id="aash_8c_html_a9d426f20a969294536324217ee52a555"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9d426f20a969294536324217ee52a555">exparg</a></div><div class="ttdeci">static struct arglist exparg</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06124">ash.c:6126</a></div></div>
<div class="ttc" id="aash_8c_html_a9d7f4b29806bbec78ad182ef64b7f614"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9d7f4b29806bbec78ad182ef64b7f614">defun</a></div><div class="ttdeci">static void defun(union node *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09207">ash.c:9207</a></div></div>
<div class="ttc" id="aash_8c_html_a9e5d545faa1add2f2cb783a6755de5c6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9e5d545faa1add2f2cb783a6755de5c6">shellparam</a></div><div class="ttdeci">#define shellparam</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02183">ash.c:2183</a></div></div>
<div class="ttc" id="aash_8c_html_a9e8bc96a174b117a721d1d7f61bd77ba"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9e8bc96a174b117a721d1d7f61bd77ba">pstrcmp1</a></div><div class="ttdeci">static int pstrcmp1(const void *a, const void *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10274">ash.c:10274</a></div></div>
<div class="ttc" id="aash_8c_html_a9e9b4cf0195e0b55558bef9788071c10"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9e9b4cf0195e0b55558bef9788071c10">VSTYPE</a></div><div class="ttdeci">#define VSTYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00830">ash.c:830</a></div></div>
<div class="ttc" id="aash_8c_html_a9eb5117c00aa1a83ee2afed68c16f8b2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9eb5117c00aa1a83ee2afed68c16f8b2">globals_misc::trap</a></div><div class="ttdeci">char * trap[NSIG+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00469">ash.c:469</a></div></div>
<div class="ttc" id="aash_8c_html_a9f2a049920ce82d53090a36392259fa4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9f2a049920ce82d53090a36392259fa4">pstrcmp</a></div><div class="ttdeci">static int pstrcmp(const void *a, const void *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08707">ash.c:8707</a></div></div>
<div class="ttc" id="aash_8c_html_a9f86e04ef4965272da42f737fd798317"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9f86e04ef4965272da42f737fd798317">putprompt</a></div><div class="ttdeci">static void putprompt(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02715">ash.c:2715</a></div></div>
<div class="ttc" id="aash_8c_html_a9f92e9f6961c915a648c04b712bb03e5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9f92e9f6961c915a648c04b712bb03e5">NTRAP_ERR</a></div><div class="ttdeci">#define NTRAP_ERR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00471">ash.c:471</a></div></div>
<div class="ttc" id="aash_8c_html_a9feaa234caa149c15b556505f2a015db"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#a9feaa234caa149c15b556505f2a015db">exception_type</a></div><div class="ttdeci">#define exception_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00497">ash.c:497</a></div></div>
<div class="ttc" id="aash_8c_html_aa03e7c939fd4e887a4edb3804696f252"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa03e7c939fd4e887a4edb3804696f252">BUILTIN_REGULAR</a></div><div class="ttdeci">#define BUILTIN_REGULAR</div></div>
<div class="ttc" id="aash_8c_html_aa0adb33bb02d78a2289a4a7aaa6f1b7d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa0adb33bb02d78a2289a4a7aaa6f1b7d">ash_msg_and_raise_perror</a></div><div class="ttdeci">#define ash_msg_and_raise_perror(fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01452">ash.c:1452</a></div></div>
<div class="ttc" id="aash_8c_html_aa0c0ae75eaaac5e6d9a7f7925da16cbb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa0c0ae75eaaac5e6d9a7f7925da16cbb">parsefile::spfree</a></div><div class="ttdeci">struct strpush * spfree</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00608">ash.c:608</a></div></div>
<div class="ttc" id="aash_8c_html_aa13d15a33a1b1c719af518ff181ce8c8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa13d15a33a1b1c719af518ff181ce8c8">vartab</a></div><div class="ttdeci">#define vartab</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02186">ash.c:2186</a></div></div>
<div class="ttc" id="aash_8c_html_aa21a28af05f64b591f2aeb56561fa155"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa21a28af05f64b591f2aeb56561fa155">CTLQUOTEMARK</a></div><div class="ttdeci">#define CTLQUOTEMARK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00820">ash.c:820</a></div></div>
<div class="ttc" id="aash_8c_html_aa23d345708cf24e69c6cc4533ff0e8f9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa23d345708cf24e69c6cc4533ff0e8f9">find_command</a></div><div class="ttdeci">static void find_command(char *, struct cmdentry *, int, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13745">ash.c:13745</a></div></div>
<div class="ttc" id="aash_8c_html_aa279d134a6b704c7a3f799140300c10a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa279d134a6b704c7a3f799140300c10a">physdir</a></div><div class="ttdeci">#define physdir</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00494">ash.c:494</a></div></div>
<div class="ttc" id="aash_8c_html_aa2d27d477de53b683b149d34d8dd3ac0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa2d27d477de53b683b149d34d8dd3ac0">closescript</a></div><div class="ttdeci">static void closescript(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11181">ash.c:11181</a></div></div>
<div class="ttc" id="aash_8c_html_aa3033d33e87caeca97bf6f8f291c5810"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa3033d33e87caeca97bf6f8f291c5810">nodelist::n</a></div><div class="ttdeci">union node * n</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01020">ash.c:1020</a></div></div>
<div class="ttc" id="aash_8c_html_aa321730ad3c6b407af46a658fc4666ed"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa321730ad3c6b407af46a658fc4666ed">CENDVAR</a></div><div class="ttdeci">#define CENDVAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03020">ash.c:3020</a></div></div>
<div class="ttc" id="aash_8c_html_aa3fe56f62b3738a614cc2ed250a6f5f5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa3fe56f62b3738a614cc2ed250a6f5f5">RMESCAPE_HEAP</a></div><div class="ttdeci">#define RMESCAPE_HEAP</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06096">ash.c:6096</a></div></div>
<div class="ttc" id="aash_8c_html_aa405eafb6ab0b05b19e4d1021b364a44"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa405eafb6ab0b05b19e4d1021b364a44">ncase::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00933">ash.c:933</a></div></div>
<div class="ttc" id="aash_8c_html_aa46ec0915a1f44b52f66507dce5fffda"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa46ec0915a1f44b52f66507dce5fffda">EXP_TILDE</a></div><div class="ttdeci">#define EXP_TILDE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06069">ash.c:6069</a></div></div>
<div class="ttc" id="aash_8c_html_aa4aea9fbb60a019774cc36e0fad66751"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa4aea9fbb60a019774cc36e0fad66751">setcmd</a></div><div class="ttdeci">static int FAST_FUNC setcmd(int argc UNUSED_PARAM, char **argv UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11566">ash.c:11566</a></div></div>
<div class="ttc" id="aash_8c_html_aa4d0786b62ad8f3eb6b8196eb8aef78d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa4d0786b62ad8f3eb6b8196eb8aef78d">pipeline</a></div><div class="ttdeci">static union node * pipeline(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11914">ash.c:11914</a></div></div>
<div class="ttc" id="aash_8c_html_aa4e1e5bd914d46c6dfaae3b5e359e10f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa4e1e5bd914d46c6dfaae3b5e359e10f">pgetc</a></div><div class="ttdeci">static int pgetc(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11046">ash.c:11046</a></div></div>
<div class="ttc" id="aash_8c_html_aa5510f9d07ac0f15102a163e5c0c14da"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa5510f9d07ac0f15102a163e5c0c14da">varcmp</a></div><div class="ttdeci">static int varcmp(const char *p, const char *q)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02269">ash.c:2269</a></div></div>
<div class="ttc" id="aash_8c_html_aa5fc21dad7ff6ca79ff1e9c481b33787"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa5fc21dad7ff6ca79ff1e9c481b33787">NFROMTO</a></div><div class="ttdeci">#define NFROMTO</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00879">ash.c:879</a></div></div>
<div class="ttc" id="aash_8c_html_aa66522395aa444ba2aa45b9e5be18dd7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa66522395aa444ba2aa45b9e5be18dd7">CBACK</a></div><div class="ttdeci">#define CBACK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03014">ash.c:3014</a></div></div>
<div class="ttc" id="aash_8c_html_aa7330854f99ccb7aadfcc87ccd020c3e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa7330854f99ccb7aadfcc87ccd020c3e">argbackq</a></div><div class="ttdeci">static struct nodelist * argbackq</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06120">ash.c:6120</a></div></div>
<div class="ttc" id="aash_8c_html_aa7a33a7eede9229ab5e19f2a3bb1a186"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa7a33a7eede9229ab5e19f2a3bb1a186">nif::elsepart</a></div><div class="ttdeci">union node * elsepart</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00921">ash.c:921</a></div></div>
<div class="ttc" id="aash_8c_html_aa7c2abff2dba1f2498eadc1fca05db7d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa7c2abff2dba1f2498eadc1fca05db7d">RMESCAPE_ALLOC</a></div><div class="ttdeci">#define RMESCAPE_ALLOC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06093">ash.c:6093</a></div></div>
<div class="ttc" id="aash_8c_html_aa98d7d9d1f81656de699a72b080a8286"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa98d7d9d1f81656de699a72b080a8286">padvance</a></div><div class="ttdeci">static int padvance(const char **path, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02689">ash.c:2689</a></div></div>
<div class="ttc" id="aash_8c_html_aa9de047b608cb24cc17d0d10804880d5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aa9de047b608cb24cc17d0d10804880d5">calcsize</a></div><div class="ttdeci">static int calcsize(int funcblocksize, union node *n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08973">ash.c:8973</a></div></div>
<div class="ttc" id="aash_8c_html_aaa210a795bb6e642eaa09efb0abe6f6a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aaa210a795bb6e642eaa09efb0abe6f6a">init</a></div><div class="ttdeci">static NOINLINE void init(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14462">ash.c:14462</a></div></div>
<div class="ttc" id="aash_8c_html_aaa22db0aa532373b810e8d2121ce8b42"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aaa22db0aa532373b810e8d2121ce8b42">job::ps</a></div><div class="ttdeci">struct procstat * ps</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03629">ash.c:3629</a></div></div>
<div class="ttc" id="aash_8c_html_aaa6071f56fe3ef665c45682e2875e1c8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aaa6071f56fe3ef665c45682e2875e1c8">DQSYNTAX</a></div><div class="ttdeci">#define DQSYNTAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02725">ash.c:2725</a></div></div>
<div class="ttc" id="aash_8c_html_aaaa09711a59bc6d629e618f4501f5eba"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aaaa09711a59bc6d629e618f4501f5eba">globals_misc::physdir</a></div><div class="ttdeci">char * physdir</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00409">ash.c:409</a></div></div>
<div class="ttc" id="aash_8c_html_aaaab45e4577a3ba933c37f597dc8d394"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aaaab45e4577a3ba933c37f597dc8d394">TRACEV</a></div><div class="ttdeci">#define TRACEV(param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00534">ash.c:534</a></div></div>
<div class="ttc" id="aash_8c_html_aab35c93b01f8d2c8f6dfc9f4a6df67cc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aab35c93b01f8d2c8f6dfc9f4a6df67cc">BUILTIN_NOSPEC</a></div><div class="ttdeci">#define BUILTIN_NOSPEC</div></div>
<div class="ttc" id="aash_8c_html_aabad2b9b4fa22108df171bbcd6384722"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aabad2b9b4fa22108df171bbcd6384722">BASESYNTAX</a></div><div class="ttdeci">#define BASESYNTAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02724">ash.c:2724</a></div></div>
<div class="ttc" id="aash_8c_html_aac30bbb8db6ff2b8754292a3b75f21cb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aac30bbb8db6ff2b8754292a3b75f21cb">heredoc::next</a></div><div class="ttdeci">struct heredoc * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11762">ash.c:11762</a></div></div>
<div class="ttc" id="aash_8c_html_aac40b5dd63c7a97a8f63ba1944f2b137"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aac40b5dd63c7a97a8f63ba1944f2b137">VSASSIGN</a></div><div class="ttdeci">#define VSASSIGN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00838">ash.c:838</a></div></div>
<div class="ttc" id="aash_8c_html_aacd5f4ee6c43110a2759db9226fc4e64"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aacd5f4ee6c43110a2759db9226fc4e64">ALIGN2</a></div><div class="ttdeci">static const uint16_t S_I_T[] ALIGN2</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03036">ash.c:3036</a></div></div>
<div class="ttc" id="aash_8c_html_aacf83e9c84e4dbeaaae698fbb98c5b1a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aacf83e9c84e4dbeaaae698fbb98c5b1a">dowait</a></div><div class="ttdeci">static int dowait(int block, struct job *jp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l04459">ash.c:4459</a></div></div>
<div class="ttc" id="aash_8c_html_aad2e80d05f7100213c526f48d7ac8140"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aad2e80d05f7100213c526f48d7ac8140">stzalloc</a></div><div class="ttdeci">static void * stzalloc(size_t nbytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01642">ash.c:1642</a></div></div>
<div class="ttc" id="aash_8c_html_aad35313bc27e01baa69a467d00eb5e6a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aad35313bc27e01baa69a467d00eb5e6a">cmdtable</a></div><div class="ttdeci">static struct tblentry ** cmdtable</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08247">ash.c:8247</a></div></div>
<div class="ttc" id="aash_8c_html_aad87a6daf9c118cfe14c5adc6164627b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aad87a6daf9c118cfe14c5adc6164627b">getstatus</a></div><div class="ttdeci">static int getstatus(struct job *job)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l04609">ash.c:4609</a></div></div>
<div class="ttc" id="aash_8c_html_aadb3db0d739f2d387e4aad4e9b91c0d0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aadb3db0d739f2d387e4aad4e9b91c0d0">SKIPFUNCDEF</a></div><div class="ttdeci">#define SKIPFUNCDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09222">ash.c:9222</a></div></div>
<div class="ttc" id="aash_8c_html_aadf05a90bb8de0029a34e8a92b0fed58"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aadf05a90bb8de0029a34e8a92b0fed58">ATABSIZE</a></div><div class="ttdeci">#define ATABSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00314">ash.c:314</a></div></div>
<div class="ttc" id="aash_8c_html_aae6d90586d69f96706fff6bd7cca3352"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aae6d90586d69f96706fff6bd7cca3352">parsefname</a></div><div class="ttdeci">static void parsefname(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11990">ash.c:11990</a></div></div>
<div class="ttc" id="aash_8c_html_aaf0f2f3b09b6318344eabce9fddb0027"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aaf0f2f3b09b6318344eabce9fddb0027">var::var_text</a></div><div class="ttdeci">const char * var_text</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02068">ash.c:2068</a></div></div>
<div class="ttc" id="aash_8c_html_aaf58c5cf9a67360bf2dec22b90087229"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aaf58c5cf9a67360bf2dec22b90087229">BASH_SUBSTR</a></div><div class="ttdeci">#define BASH_SUBSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00211">ash.c:211</a></div></div>
<div class="ttc" id="aash_8c_html_aaf63f7a250255f0ac21656149824df95"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aaf63f7a250255f0ac21656149824df95">freeparam</a></div><div class="ttdeci">static void freeparam(volatile struct shparam *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02050">ash.c:2050</a></div></div>
<div class="ttc" id="aash_8c_html_aaf92abb74ade45a52f02621c39b8ca6d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aaf92abb74ade45a52f02621c39b8ca6d">updatepwd</a></div><div class="ttdeci">static const char * updatepwd(const char *dir)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02794">ash.c:2794</a></div></div>
<div class="ttc" id="aash_8c_html_aafddba67475f33f3991adcc48379f5d4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aafddba67475f33f3991adcc48379f5d4">globals_var::linenovar</a></div><div class="ttdeci">char linenovar[sizeof(&quot;LINENO=&quot;)+sizeof(int) *3]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02175">ash.c:2175</a></div></div>
<div class="ttc" id="aash_8c_html_ab1a5da6dbea94b0e209581eb17846595"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab1a5da6dbea94b0e209581eb17846595">njobs</a></div><div class="ttdeci">static unsigned njobs</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03824">ash.c:3824</a></div></div>
<div class="ttc" id="aash_8c_html_ab23db490601100500b00b74f9738fc01"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab23db490601100500b00b74f9738fc01">IS_BUILTIN_REGULAR</a></div><div class="ttdeci">#define IS_BUILTIN_REGULAR(b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08197">ash.c:8197</a></div></div>
<div class="ttc" id="aash_8c_html_ab2b1b9933d7ac82f58bf7dd6f5895483"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab2b1b9933d7ac82f58bf7dd6f5895483">stackblocksize</a></div><div class="ttdeci">#define stackblocksize()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01598">ash.c:1598</a></div></div>
<div class="ttc" id="aash_8c_html_ab2b4af4bbbe7999b7411da95037eb924"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab2b4af4bbbe7999b7411da95037eb924">curdir</a></div><div class="ttdeci">#define curdir</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00493">ash.c:493</a></div></div>
<div class="ttc" id="aash_8c_html_ab32ce6c513b0f9a93146cbd4b173a0bf"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab32ce6c513b0f9a93146cbd4b173a0bf">DOWAIT_NONBLOCK</a></div><div class="ttdeci">#define DOWAIT_NONBLOCK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l04303">ash.c:4303</a></div></div>
<div class="ttc" id="aash_8c_html_ab38d9a91814ca72cd5ed3d4ba1305a00"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab38d9a91814ca72cd5ed3d4ba1305a00">EXECCMD</a></div><div class="ttdeci">#define EXECCMD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10267">ash.c:10267</a></div></div>
<div class="ttc" id="aash_8c_html_ab3afa545a71f8f309326b257109c3172"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab3afa545a71f8f309326b257109c3172">globals_var::funcname</a></div><div class="ttdeci">char * funcname</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02177">ash.c:2177</a></div></div>
<div class="ttc" id="aash_8c_html_ab3ce06239b12d62b4e6613775df8e9bd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab3ce06239b12d62b4e6613775df8e9bd">ncmd::assign</a></div><div class="ttdeci">union node * assign</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00893">ash.c:893</a></div></div>
<div class="ttc" id="aash_8c_html_ab3f70ca7e13b3623b747dd04b660c864"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab3f70ca7e13b3623b747dd04b660c864">nullstr</a></div><div class="ttdeci">#define nullstr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00502">ash.c:502</a></div></div>
<div class="ttc" id="aash_8c_html_ab40d52cb237f1ea90b56d18a93e00ef9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab40d52cb237f1ea90b56d18a93e00ef9">RESTORE_INT</a></div><div class="ttdeci">#define RESTORE_INT(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00730">ash.c:730</a></div></div>
<div class="ttc" id="aash_8c_html_ab43933e8f8343de1ae9614101e9cdbef"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab43933e8f8343de1ae9614101e9cdbef">ifsbreakup</a></div><div class="ttdeci">static void ifsbreakup(char *string, struct arglist *arglist)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06134">ash.c:6134</a></div></div>
<div class="ttc" id="aash_8c_html_ab4929b1270e8d692b510b31586b11858"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab4929b1270e8d692b510b31586b11858">printentry</a></div><div class="ttdeci">static void printentry(struct tblentry *cmdp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08373">ash.c:8373</a></div></div>
<div class="ttc" id="aash_8c_html_ab49f69631a624c0a0b66fcc8ec44d390"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab49f69631a624c0a0b66fcc8ec44d390">nfor::body</a></div><div class="ttdeci">union node * body</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00928">ash.c:928</a></div></div>
<div class="ttc" id="aash_8c_html_ab4b97e6278cc51b3d35fa6c5d1f9c28a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab4b97e6278cc51b3d35fa6c5d1f9c28a">ps2val</a></div><div class="ttdeci">#define ps2val()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02246">ash.c:2246</a></div></div>
<div class="ttc" id="aash_8c_html_ab50f7c5ee58d54d6b9a942f1e8781b85"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab50f7c5ee58d54d6b9a942f1e8781b85">FORCE_INT_ON</a></div><div class="ttdeci">#define FORCE_INT_ON</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00726">ash.c:726</a></div></div>
<div class="ttc" id="aash_8c_html_ab526ca1a47a7c21ca2ccd4dc19cae798"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab526ca1a47a7c21ca2ccd4dc19cae798">describe_command</a></div><div class="ttdeci">static int describe_command(char *command, const char *path, int describe_command_verbose)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08724">ash.c:8724</a></div></div>
<div class="ttc" id="aash_8c_html_ab545392cb1ba2c57a59f8b129b7ed40a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab545392cb1ba2c57a59f8b129b7ed40a">evalsubshell</a></div><div class="ttdeci">static int evalsubshell(union node *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09572">ash.c:9572</a></div></div>
<div class="ttc" id="aash_8c_html_ab61cc25b08e627f25ca0b68e0586044a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab61cc25b08e627f25ca0b68e0586044a">VTABSIZE</a></div><div class="ttdeci">#define VTABSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00313">ash.c:313</a></div></div>
<div class="ttc" id="aash_8c_html_ab754cf45bce15e9f1935c93a23b35b1d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab754cf45bce15e9f1935c93a23b35b1d">TRACE</a></div><div class="ttdeci">#define TRACE(param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00533">ash.c:533</a></div></div>
<div class="ttc" id="aash_8c_html_ab7acafbde27f5fb99fff729b6da8b85c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab7acafbde27f5fb99fff729b6da8b85c">builtinloc</a></div><div class="ttdeci">static int builtinloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08252">ash.c:8252</a></div></div>
<div class="ttc" id="aash_8c_html_ab7dbfe8cde484bdf161196dfc439d71c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab7dbfe8cde484bdf161196dfc439d71c">addglob</a></div><div class="ttdeci">static void addglob(const glob_t *pglob)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l07776">ash.c:7776</a></div></div>
<div class="ttc" id="aash_8c_html_ab800e4a3e8f20f26c2faf500c41f654b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab800e4a3e8f20f26c2faf500c41f654b">quoteflag</a></div><div class="ttdeci">static smallint quoteflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11769">ash.c:11769</a></div></div>
<div class="ttc" id="aash_8c_html_ab8a4be129b79c1f38461b483e5d6f540"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab8a4be129b79c1f38461b483e5d6f540">maybe_single_quote</a></div><div class="ttdeci">static const char * maybe_single_quote(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01941">ash.c:1941</a></div></div>
<div class="ttc" id="aash_8c_html_ab8e7d402305aa8ea02b0a2da38921f2d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab8e7d402305aa8ea02b0a2da38921f2d">jmove</a></div><div class="ttdeci">#define jmove(p)</div></div>
<div class="ttc" id="aash_8c_html_ab91cc6b3c28df1e06d48be61159f355c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab91cc6b3c28df1e06d48be61159f355c">freejob</a></div><div class="ttdeci">static void freejob(struct job *jp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l04042">ash.c:4042</a></div></div>
<div class="ttc" id="aash_8c_html_ab9ac80075eb945c9c4c4e85a1e059287"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab9ac80075eb945c9c4c4e85a1e059287">globals_misc::trap_ptr</a></div><div class="ttdeci">char ** trap_ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00474">ash.c:474</a></div></div>
<div class="ttc" id="aash_8c_html_ab9bb06335d4f953f1eda4a8eca765219"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab9bb06335d4f953f1eda4a8eca765219">fixredir</a></div><div class="ttdeci">static void fixredir(union node *, const char *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11969">ash.c:11969</a></div></div>
<div class="ttc" id="aash_8c_html_ab9c98dd93b38ddd366ffad8f62c50290"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ab9c98dd93b38ddd366ffad8f62c50290">showvars</a></div><div class="ttdeci">static int showvars(const char *sep_prefix, int on, int off)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11531">ash.c:11531</a></div></div>
<div class="ttc" id="aash_8c_html_aba5217713eef654a015f57d5ab61b17d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aba5217713eef654a015f57d5ab61b17d">nbinary::ch2</a></div><div class="ttdeci">union node * ch2</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00914">ash.c:914</a></div></div>
<div class="ttc" id="aash_8c_html_abab303a7905f076e7b00d3336df570b8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abab303a7905f076e7b00d3336df570b8">casematch</a></div><div class="ttdeci">static int casematch(union node *pattern, char *val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08171">ash.c:8171</a></div></div>
<div class="ttc" id="aash_8c_html_abb3d16b2f65e9855486261c02ae9b7a6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abb3d16b2f65e9855486261c02ae9b7a6">synstack::dblquote</a></div><div class="ttdeci">uint8_t dblquote</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11088">ash.c:11088</a></div></div>
<div class="ttc" id="aash_8c_html_abb7b8212cde863a0f0b0ad755fa20bde"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abb7b8212cde863a0f0b0ad755fa20bde">ncase::cases</a></div><div class="ttdeci">union node * cases</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00936">ash.c:936</a></div></div>
<div class="ttc" id="aash_8c_html_abd06ab98107e417c725a24580a15b566"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abd06ab98107e417c725a24580a15b566">VSQUESTION</a></div><div class="ttdeci">#define VSQUESTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00837">ash.c:837</a></div></div>
<div class="ttc" id="aash_8c_html_abdaf6a726613b7ef18ad526041e82f9f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abdaf6a726613b7ef18ad526041e82f9f">CBQUOTE</a></div><div class="ttdeci">#define CBQUOTE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03018">ash.c:3018</a></div></div>
<div class="ttc" id="aash_8c_html_abde179a3496f1e20d57c91c873fdb808"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abde179a3496f1e20d57c91c873fdb808">stoppedjobs</a></div><div class="ttdeci">static int stoppedjobs(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05448">ash.c:5448</a></div></div>
<div class="ttc" id="aash_8c_html_abe88b17b214e3088f3d19842354fbbb4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abe88b17b214e3088f3d19842354fbbb4">CHECKEND</a></div><div class="ttdeci">#define CHECKEND()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l12435">ash.c:12435</a></div></div>
<div class="ttc" id="aash_8c_html_abf619a7f6f54e8451fa6ed637bca94de"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abf619a7f6f54e8451fa6ed637bca94de">DEBUG_SIG</a></div><div class="ttdeci">#define DEBUG_SIG</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00181">ash.c:181</a></div></div>
<div class="ttc" id="aash_8c_html_abf7ce6bae45c1abc22e3097c86c9ca92"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abf7ce6bae45c1abc22e3097c86c9ca92">growstackto</a></div><div class="ttdeci">static char * growstackto(size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01785">ash.c:1785</a></div></div>
<div class="ttc" id="aash_8c_html_abf9d88fcb2327c9041f255de8bd36b7e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abf9d88fcb2327c9041f255de8bd36b7e">cmdentry::u</a></div><div class="ttdeci">union cmdentry::param u</div></div>
<div class="ttc" id="aash_8c_html_abf9e4da028819b9e499c925a182a026e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abf9e4da028819b9e499c925a182a026e">strpush::lastc</a></div><div class="ttdeci">int lastc[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00586">ash.c:586</a></div></div>
<div class="ttc" id="aash_8c_html_abfeaa8c008511ce2045c721dc7c10913"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abfeaa8c008511ce2045c721dc7c10913">PARSEPROCSUB</a></div><div class="ttdeci">#define PARSEPROCSUB()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l12440">ash.c:12440</a></div></div>
<div class="ttc" id="aash_8c_html_abff739816e1526ed3e71782fac6f4e0b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#abff739816e1526ed3e71782fac6f4e0b">ifslastp</a></div><div class="ttdeci">static struct ifsregion * ifslastp</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06124">ash.c:6124</a></div></div>
<div class="ttc" id="aash_8c_html_ac007015723838d344bebdf44dccf8e8b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac007015723838d344bebdf44dccf8e8b">synstack_push</a></div><div class="ttdeci">static void synstack_push(struct synstack **stack, struct synstack *next, int syntax)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11103">ash.c:11103</a></div></div>
<div class="ttc" id="aash_8c_html_ac0e04dd4dbc3d7c82ba3f4b1b66b2382"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac0e04dd4dbc3d7c82ba3f4b1b66b2382">globals_var::shellparam</a></div><div class="ttdeci">struct shparam shellparam</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02077">ash.c:2169</a></div></div>
<div class="ttc" id="aash_8c_html_ac12dfae82adbb17a3775bba8bc46a391"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac12dfae82adbb17a3775bba8bc46a391">poplocalvars</a></div><div class="ttdeci">static void poplocalvars(int keep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09819">ash.c:9819</a></div></div>
<div class="ttc" id="aash_8c_html_ac12f0386eba3659610aebea12b999475"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac12f0386eba3659610aebea12b999475">cvtnum</a></div><div class="ttdeci">static int cvtnum(arith_t num, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06431">ash.c:6431</a></div></div>
<div class="ttc" id="aash_8c_html_ac16a1c9f5509bcc8b865666b80ab155d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac16a1c9f5509bcc8b865666b80ab155d">ash_main</a></div><div class="ttdeci">int ash_main(int argc, char **argv) MAIN_EXTERNALLY_VISIBLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14644">ash.c:14644</a></div></div>
<div class="ttc" id="aash_8c_html_ac18960d5cf09c9b5bec0dd63d22176ab"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac18960d5cf09c9b5bec0dd63d22176ab">nredir::n</a></div><div class="ttdeci">union node * n</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00907">ash.c:907</a></div></div>
<div class="ttc" id="aash_8c_html_ac192d49c423cba2dca972bc659a8638e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac192d49c423cba2dca972bc659a8638e">growstackblock</a></div><div class="ttdeci">static void growstackblock(size_t min)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01721">ash.c:1721</a></div></div>
<div class="ttc" id="aash_8c_html_ac21e58e29876579d0ff31b050cc0f1b4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac21e58e29876579d0ff31b050cc0f1b4">nnot::com</a></div><div class="ttdeci">union node * com</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00991">ash.c:991</a></div></div>
<div class="ttc" id="aash_8c_html_ac25a899a708eb1c90b1b0bafdb14b88d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac25a899a708eb1c90b1b0bafdb14b88d">setstackmark</a></div><div class="ttdeci">static void setstackmark(struct stackmark *mark)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01686">ash.c:1686</a></div></div>
<div class="ttc" id="aash_8c_html_ac260542db295b0a3fdd8db0fe178d06a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac260542db295b0a3fdd8db0fe178d06a">stnputs</a></div><div class="ttdeci">static char * stnputs(const char *s, size_t n, char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01804">ash.c:1804</a></div></div>
<div class="ttc" id="aash_8c_html_ac2aaabf4d57e3cb4690c39092a8f3f02"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac2aaabf4d57e3cb4690c39092a8f3f02">nlprompt</a></div><div class="ttdeci">static void nlprompt(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10982">ash.c:10982</a></div></div>
<div class="ttc" id="aash_8c_html_ac2add6938920c886c263574d2948aefa"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac2add6938920c886c263574d2948aefa">EV_EXIT</a></div><div class="ttdeci">#define EV_EXIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06567">ash.c:6567</a></div></div>
<div class="ttc" id="aash_8c_html_ac326e027b0ea7825a5fe7a3b3fd5b37a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac326e027b0ea7825a5fe7a3b3fd5b37a">globals_memstack::g_stacknleft</a></div><div class="ttdeci">size_t g_stacknleft</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01578">ash.c:1578</a></div></div>
<div class="ttc" id="aash_8c_html_ac337c403365cfdc1027a04b9ca3b159b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac337c403365cfdc1027a04b9ca3b159b">SIT</a></div><div class="ttdeci">#define SIT(c, syntax)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03386">ash.c:3386</a></div></div>
<div class="ttc" id="aash_8c_html_ac351e9366a3093afcc94ec800a623332"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac351e9366a3093afcc94ec800a623332">CMDTABLESIZE</a></div><div class="ttdeci">#define CMDTABLESIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00315">ash.c:315</a></div></div>
<div class="ttc" id="aash_8c_html_ac3a97935f5f86ca67b513b3ed3e576d5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac3a97935f5f86ca67b513b3ed3e576d5">VSPLUS</a></div><div class="ttdeci">#define VSPLUS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00836">ash.c:836</a></div></div>
<div class="ttc" id="aash_8c_html_ac3e2ce87919bfafa74665637d5e32f8a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac3e2ce87919bfafa74665637d5e32f8a">rootpid</a></div><div class="ttdeci">#define rootpid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00489">ash.c:489</a></div></div>
<div class="ttc" id="aash_8c_html_ac46efcb1c6434a7041104a6077400e9f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac46efcb1c6434a7041104a6077400e9f">timescmd</a></div><div class="ttdeci">static int FAST_FUNC timescmd(int argc UNUSED_PARAM, char **argv UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14181">ash.c:14181</a></div></div>
<div class="ttc" id="aash_8c_html_ac4cd35c65332615341798dcdcb50c57a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac4cd35c65332615341798dcdcb50c57a">globals_var::lineno</a></div><div class="ttdeci">int lineno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02174">ash.c:2174</a></div></div>
<div class="ttc" id="aash_8c_html_ac4d0dde83d370ec10ab8149710a3b611"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac4d0dde83d370ec10ab8149710a3b611">loopnest</a></div><div class="ttdeci">static int loopnest</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09225">ash.c:9225</a></div></div>
<div class="ttc" id="aash_8c_html_ac4e6f37323b2dd4262720581621f652b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac4e6f37323b2dd4262720581621f652b">INIT_G_var</a></div><div class="ttdeci">#define INIT_G_var()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02218">ash.c:2218</a></div></div>
<div class="ttc" id="aash_8c_html_ac51df50a60e2a664eaf61e7fa8e17ace"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac51df50a60e2a664eaf61e7fa8e17ace">initvar</a></div><div class="ttdeci">static void initvar(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02311">ash.c:2311</a></div></div>
<div class="ttc" id="aash_8c_html_ac53b6891f6750066d69dccd818a7f206"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac53b6891f6750066d69dccd818a7f206">var::next</a></div><div class="ttdeci">struct var * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02066">ash.c:2066</a></div></div>
<div class="ttc" id="aash_8c_html_ac55e5ac415d351c4ff6606d8fb7c23fe"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac55e5ac415d351c4ff6606d8fb7c23fe">ulimitcmd</a></div><div class="ttdeci">static int FAST_FUNC ulimitcmd(int argc UNUSED_PARAM, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14372">ash.c:14372</a></div></div>
<div class="ttc" id="aash_8c_html_ac6164e294c4bb16efb9a105ef47612a1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac6164e294c4bb16efb9a105ef47612a1">openredirect</a></div><div class="ttdeci">static int openredirect(union node *redir)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05522">ash.c:5522</a></div></div>
<div class="ttc" id="aash_8c_html_ac6385df53275c2d2b96fd030d448231a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac6385df53275c2d2b96fd030d448231a">trap</a></div><div class="ttdeci">#define trap</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00507">ash.c:507</a></div></div>
<div class="ttc" id="aash_8c_html_ac68d43625d4b5a646f28556077e380b8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac68d43625d4b5a646f28556077e380b8">stackmark::stacknxt</a></div><div class="ttdeci">char * stacknxt</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01569">ash.c:1569</a></div></div>
<div class="ttc" id="aash_8c_html_ac6c282b2a1c7789eda63f71fb3bc437e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac6c282b2a1c7789eda63f71fb3bc437e">stack_block::space</a></div><div class="ttdeci">char space[MINSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01564">ash.c:1564</a></div></div>
<div class="ttc" id="aash_8c_html_ac79175bc530bfe0463f3dbc8560ab137"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac79175bc530bfe0463f3dbc8560ab137">narg::text</a></div><div class="ttdeci">char * text</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00956">ash.c:956</a></div></div>
<div class="ttc" id="aash_8c_html_ac7a553a0c84498df205ce31d16c1e311"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac7a553a0c84498df205ce31d16c1e311">cmdentry::param::cmd</a></div><div class="ttdeci">const struct builtincmd * cmd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08208">ash.c:8208</a></div></div>
<div class="ttc" id="aash_8c_html_ac7dca3b754f2d355798603e0d0ea16aa"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac7dca3b754f2d355798603e0d0ea16aa">KWDOFFSET</a></div><div class="ttdeci">#define KWDOFFSET</div></div>
<div class="ttc" id="aash_8c_html_ac88fbbe67392b736c5c14e315ff669b5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac88fbbe67392b736c5c14e315ff669b5">ndup::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00974">ash.c:974</a></div></div>
<div class="ttc" id="aash_8c_html_ac8d7ff169346fcdc995ebf2991371107"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac8d7ff169346fcdc995ebf2991371107">waitcmd</a></div><div class="ttdeci">static int FAST_FUNC waitcmd(int argc UNUSED_PARAM, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l04646">ash.c:4646</a></div></div>
<div class="ttc" id="aash_8c_html_ac8e66a8857ca7f368cfc16bdbbac37d9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac8e66a8857ca7f368cfc16bdbbac37d9">signal_handler</a></div><div class="ttdeci">static void signal_handler(int signo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03680">ash.c:3680</a></div></div>
<div class="ttc" id="aash_8c_html_ac8fd743d8804b4f956bcfce5a0f85f23"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac8fd743d8804b4f956bcfce5a0f85f23">vps1</a></div><div class="ttdeci">#define vps1</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02201">ash.c:2201</a></div></div>
<div class="ttc" id="aash_8c_html_ac916671880c52fa4b983f6aef788fa66"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac916671880c52fa4b983f6aef788fa66">listvars</a></div><div class="ttdeci">#define listvars(on, off, lp, end)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02537">ash.c:2537</a></div></div>
<div class="ttc" id="aash_8c_html_ac91d63659cfe63fcc5d644528349cfb3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac91d63659cfe63fcc5d644528349cfb3">globals_misc::minusc</a></div><div class="ttdeci">char * minusc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00406">ash.c:406</a></div></div>
<div class="ttc" id="aash_8c_html_ac9327876282c1cd74318e2123168f698"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac9327876282c1cd74318e2123168f698">sstrend</a></div><div class="ttdeci">#define sstrend</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01585">ash.c:1585</a></div></div>
<div class="ttc" id="aash_8c_html_ac9687d44d84ef0c650fa0fa1aebd7ce9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac9687d44d84ef0c650fa0fa1aebd7ce9">N_NUMBER</a></div><div class="ttdeci">#define N_NUMBER</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00886">ash.c:886</a></div></div>
<div class="ttc" id="aash_8c_html_ac9a047b5fb2d49112a93edf59e32a1bb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ac9a047b5fb2d49112a93edf59e32a1bb">NCLIST</a></div><div class="ttdeci">#define NCLIST</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00870">ash.c:870</a></div></div>
<div class="ttc" id="aash_8c_html_aca0208c47e1120b732794d983169012a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aca0208c47e1120b732794d983169012a">DO_ALTPATH</a></div><div class="ttdeci">#define DO_ALTPATH</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08222">ash.c:8222</a></div></div>
<div class="ttc" id="aash_8c_html_aca1bb9189b8cb51e50557e51d3406116"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aca1bb9189b8cb51e50557e51d3406116">narg::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00954">ash.c:954</a></div></div>
<div class="ttc" id="aash_8c_html_acab6d4049057ee59ea73ed5b5ca879f2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acab6d4049057ee59ea73ed5b5ca879f2">NCASE</a></div><div class="ttdeci">#define NCASE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00869">ash.c:869</a></div></div>
<div class="ttc" id="aash_8c_html_acaebe3175fd344596caae3da49c1951a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acaebe3175fd344596caae3da49c1951a">procstat::ps_pid</a></div><div class="ttdeci">pid_t ps_pid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03622">ash.c:3622</a></div></div>
<div class="ttc" id="aash_8c_html_acb10ee9df0af430aa5a480e3bf151363"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acb10ee9df0af430aa5a480e3bf151363">removerecordregions</a></div><div class="ttdeci">static void removerecordregions(int endoff)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06467">ash.c:6467</a></div></div>
<div class="ttc" id="aash_8c_html_acb53d55632fab5ebfafa813740b488ab"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acb53d55632fab5ebfafa813740b488ab">arith_t</a></div><div class="ttdeci">long arith_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00272">ash.c:272</a></div></div>
<div class="ttc" id="aash_8c_html_acbc8f06298343bcc7b4aa8d98ed973d7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acbc8f06298343bcc7b4aa8d98ed973d7">gotsig</a></div><div class="ttdeci">#define gotsig</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00505">ash.c:505</a></div></div>
<div class="ttc" id="aash_8c_html_acbcb73299ee8abbd13ae00cb596546e0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acbcb73299ee8abbd13ae00cb596546e0">SKIPFUNC</a></div><div class="ttdeci">#define SKIPFUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09221">ash.c:9221</a></div></div>
<div class="ttc" id="aash_8c_html_acbe4b2416377efb35db81b82e902098e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acbe4b2416377efb35db81b82e902098e">localvar_list::next</a></div><div class="ttdeci">struct localvar_list * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09808">ash.c:9808</a></div></div>
<div class="ttc" id="aash_8c_html_acbf83fc54671f0faa1cd6facb43de875"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acbf83fc54671f0faa1cd6facb43de875">forkparent</a></div><div class="ttdeci">#define forkparent(jp, n, mode, pid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05301">ash.c:5301</a></div></div>
<div class="ttc" id="aash_8c_html_acbf993b126972c599b3108042a7ba976"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acbf993b126972c599b3108042a7ba976">SHOW_ONLY_PGID</a></div><div class="ttdeci">#define SHOW_ONLY_PGID</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03610">ash.c:3610</a></div></div>
<div class="ttc" id="aash_8c_html_acc297b9e8a09358e447d91e6f03ecfa5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acc297b9e8a09358e447d91e6f03ecfa5">ifsregion::endoff</a></div><div class="ttdeci">int endoff</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06108">ash.c:6108</a></div></div>
<div class="ttc" id="aash_8c_html_acc305e420f46292b0f8d7817ddd01d97"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acc305e420f46292b0f8d7817ddd01d97">memtodest</a></div><div class="ttdeci">static size_t memtodest(const char *p, size_t len, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06386">ash.c:6386</a></div></div>
<div class="ttc" id="aash_8c_html_acc47d8a5e25efeeceea454753cba8eac"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acc47d8a5e25efeeceea454753cba8eac">tblentry::cmdname</a></div><div class="ttdeci">char cmdname[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08244">ash.c:8244</a></div></div>
<div class="ttc" id="aash_8c_html_acc8e6af1840d2c33a9b9c26b9160c5c0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acc8e6af1840d2c33a9b9c26b9160c5c0">xxreadtoken_singles</a></div><div class="ttdeci">#define xxreadtoken_singles</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13168">ash.c:13168</a></div></div>
<div class="ttc" id="aash_8c_html_acca6d3fbb439fcfef48955df3fedd289"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acca6d3fbb439fcfef48955df3fedd289">exitreset</a></div><div class="ttdeci">static void exitreset(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14385">ash.c:14385</a></div></div>
<div class="ttc" id="aash_8c_html_accac68b4dc3fd10658c19353f08cfbdc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#accac68b4dc3fd10658c19353f08cfbdc">readcmdfile</a></div><div class="ttdeci">static void readcmdfile(char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13730">ash.c:13730</a></div></div>
<div class="ttc" id="aash_8c_html_accf038e773bf009999c077dfac00a290"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#accf038e773bf009999c077dfac00a290">NDEFUN</a></div><div class="ttdeci">#define NDEFUN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00871">ash.c:871</a></div></div>
<div class="ttc" id="aash_8c_html_acd293df6311db7d84b2d77970ce2633b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acd293df6311db7d84b2d77970ce2633b">goodname</a></div><div class="ttdeci">static int goodname(const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10657">ash.c:10657</a></div></div>
<div class="ttc" id="aash_8c_html_acd3e2ca36650d357e00ffca1ae1a4781"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acd3e2ca36650d357e00ffca1ae1a4781">ifsset</a></div><div class="ttdeci">#define ifsset()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02238">ash.c:2238</a></div></div>
<div class="ttc" id="aash_8c_html_acd5e4eb81ce2b9efcd1d8ff5e53b6096"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acd5e4eb81ce2b9efcd1d8ff5e53b6096">stack_putstr</a></div><div class="ttdeci">static char * stack_putstr(const char *s, char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01812">ash.c:1812</a></div></div>
<div class="ttc" id="aash_8c_html_ace06db56149bfddd0498cf709c4065f1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ace06db56149bfddd0498cf709c4065f1">exitshell</a></div><div class="ttdeci">static void exitshell(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00624">ash.c:624</a></div></div>
<div class="ttc" id="aash_8c_html_ace7cd701f14958ac8e3568830a386ebd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ace7cd701f14958ac8e3568830a386ebd">parsefile::left_in_line</a></div><div class="ttdeci">int left_in_line</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00600">ash.c:600</a></div></div>
<div class="ttc" id="aash_8c_html_ace9178030b54e42fb66a62c91bc9e216"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ace9178030b54e42fb66a62c91bc9e216">g_stacknleft</a></div><div class="ttdeci">#define g_stacknleft</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01586">ash.c:1586</a></div></div>
<div class="ttc" id="aash_8c_html_aceb73f20fd610e6ea9113f52ea706c19"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aceb73f20fd610e6ea9113f52ea706c19">evaltreenr</a></div><div class="ttdeci">static ALWAYS_INLINE NORETURN void evaltreenr(union node *n, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06577">ash.c:6577</a></div></div>
<div class="ttc" id="aash_8c_html_acf2b4cbd4c9d86f72ac3d2414af81759"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acf2b4cbd4c9d86f72ac3d2414af81759">tblentry::rehash</a></div><div class="ttdeci">char rehash</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08243">ash.c:8243</a></div></div>
<div class="ttc" id="aash_8c_html_acf9a2f8af4c57dc4c6f7969d05e8b617"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#acf9a2f8af4c57dc4c6f7969d05e8b617">SHOW_PIDS</a></div><div class="ttdeci">#define SHOW_PIDS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03611">ash.c:3611</a></div></div>
<div class="ttc" id="aash_8c_html_ad08997c1b023a3f18a018694923b7753"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad08997c1b023a3f18a018694923b7753">savestatus</a></div><div class="ttdeci">#define savestatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00488">ash.c:488</a></div></div>
<div class="ttc" id="aash_8c_html_ad09b70a19d9fa0596d36d0f569aa14eb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad09b70a19d9fa0596d36d0f569aa14eb">preadbuffer</a></div><div class="ttdeci">static int preadbuffer(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10909">ash.c:10909</a></div></div>
<div class="ttc" id="aash_8c_html_ad0f81540b8a0b9ef1e2747fb93898460"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad0f81540b8a0b9ef1e2747fb93898460">NHERE</a></div><div class="ttdeci">#define NHERE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00883">ash.c:883</a></div></div>
<div class="ttc" id="aash_8c_html_ad156769eb4dcf40603cc8080fa6329f0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad156769eb4dcf40603cc8080fa6329f0">tokname</a></div><div class="ttdeci">static const char * tokname(char *buf, int tok)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11778">ash.c:11778</a></div></div>
<div class="ttc" id="aash_8c_html_ad23a69560e9ca437e8d66959322b12d6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad23a69560e9ca437e8d66959322b12d6">ndup::next</a></div><div class="ttdeci">union node * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00975">ash.c:975</a></div></div>
<div class="ttc" id="aash_8c_html_ad2c1c798d36bdba42d5f4d50da5ae200"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad2c1c798d36bdba42d5f4d50da5ae200">PIPE_BUF</a></div><div class="ttdeci">#define PIPE_BUF</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00300">ash.c:300</a></div></div>
<div class="ttc" id="aash_8c_html_ad2c8208cb98ab55e1f233e448bd2e7e7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad2c8208cb98ab55e1f233e448bd2e7e7">CUR_RUNNING</a></div><div class="ttdeci">#define CUR_RUNNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03813">ash.c:3813</a></div></div>
<div class="ttc" id="aash_8c_html_ad37929c69e0a2a05dd8c9a874b026ef5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad37929c69e0a2a05dd8c9a874b026ef5">backquotelist</a></div><div class="ttdeci">static struct nodelist * backquotelist</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11773">ash.c:11773</a></div></div>
<div class="ttc" id="aash_8c_html_ad38aa75e5a7d6162bcb52e958cf5755f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad38aa75e5a7d6162bcb52e958cf5755f">shparam::malloced</a></div><div class="ttdeci">unsigned char malloced</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02042">ash.c:2042</a></div></div>
<div class="ttc" id="aash_8c_html_ad41387932da6f74836f39a196a96519c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad41387932da6f74836f39a196a96519c">out2str</a></div><div class="ttdeci">static void out2str(const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00803">ash.c:803</a></div></div>
<div class="ttc" id="aash_8c_html_ad447e0ebf47400493c9b9423cb5bc9db"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad447e0ebf47400493c9b9423cb5bc9db">globals_var::trap_depth</a></div><div class="ttdeci">unsigned trap_depth</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02178">ash.c:2178</a></div></div>
<div class="ttc" id="aash_8c_html_ad4e5bf54695044926d7a370d09812a86"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad4e5bf54695044926d7a370d09812a86">unwindlocalvars</a></div><div class="ttdeci">static void unwindlocalvars(struct localvar_list *stop)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09896">ash.c:9896</a></div></div>
<div class="ttc" id="aash_8c_html_ad4f846f3f19caa87ad67d24b3a77f307"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad4f846f3f19caa87ad67d24b3a77f307">commandname</a></div><div class="ttdeci">static char * commandname</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00619">ash.c:619</a></div></div>
<div class="ttc" id="aash_8c_html_ad51c75ea64cae440adfe60d0e33a369b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad51c75ea64cae440adfe60d0e33a369b">openhere</a></div><div class="ttdeci">static int openhere(union node *redir)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05484">ash.c:5484</a></div></div>
<div class="ttc" id="aash_8c_html_ad557438155906b9dc1a3a6fee168ceb3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad557438155906b9dc1a3a6fee168ceb3">VSNUL</a></div><div class="ttdeci">#define VSNUL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00831">ash.c:831</a></div></div>
<div class="ttc" id="aash_8c_html_ad56b206cf55eeae569a9905ff25dd509"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad56b206cf55eeae569a9905ff25dd509">VNOSAVE</a></div><div class="ttdeci">#define VNOSAVE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02089">ash.c:2089</a></div></div>
<div class="ttc" id="aash_8c_html_ad585c124f797c55d024253708395b6b2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad585c124f797c55d024253708395b6b2">setvareq</a></div><div class="ttdeci">static struct var * setvareq(char *s, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02417">ash.c:2417</a></div></div>
<div class="ttc" id="aash_8c_html_ad5c73cd25605aa1ec12d8b5678cec38f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad5c73cd25605aa1ec12d8b5678cec38f">parsefile::left_in_buffer</a></div><div class="ttdeci">int left_in_buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00601">ash.c:601</a></div></div>
<div class="ttc" id="aash_8c_html_ad61e191cd972877c0f5575ffabaaa78a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad61e191cd972877c0f5575ffabaaa78a">dup_CLOEXEC</a></div><div class="ttdeci">static int dup_CLOEXEC(int fd, int avoid_fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05637">ash.c:5637</a></div></div>
<div class="ttc" id="aash_8c_html_ad66533db7ebe77ead31ba1fda6be3a58"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad66533db7ebe77ead31ba1fda6be3a58">ckrealloc</a></div><div class="ttdeci">#define ckrealloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01542">ash.c:1542</a></div></div>
<div class="ttc" id="aash_8c_html_ad6664b6aa0b2ec18771fe01aefa1e760"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad6664b6aa0b2ec18771fe01aefa1e760">CLOSED</a></div><div class="ttdeci">#define CLOSED</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05474">ash.c:5474</a></div></div>
<div class="ttc" id="aash_8c_html_ad6cca044ea63e0cd72babfbe0c342ef9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad6cca044ea63e0cd72babfbe0c342ef9">globals_misc::got_sigchld</a></div><div class="ttdeci">volatile smallint got_sigchld</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00417">ash.c:417</a></div></div>
<div class="ttc" id="aash_8c_html_ad6d8fbe4e494b4dbe051612572d3f757"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad6d8fbe4e494b4dbe051612572d3f757">O_CLOEXEC</a></div><div class="ttdeci">#define O_CLOEXEC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00297">ash.c:297</a></div></div>
<div class="ttc" id="aash_8c_html_ad705e5940f4c44a87c6b82019f1b031e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad705e5940f4c44a87c6b82019f1b031e">arglist::lastp</a></div><div class="ttdeci">struct strlist ** lastp</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06114">ash.c:6114</a></div></div>
<div class="ttc" id="aash_8c_html_ad716fbc2f06aa6731e5d90dc96782308"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad716fbc2f06aa6731e5d90dc96782308">parsefile::prev</a></div><div class="ttdeci">struct parsefile * prev</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00597">ash.c:597</a></div></div>
<div class="ttc" id="aash_8c_html_ad72dbcf6d0153db1b8d8a58001feed83"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a></div><div class="ttdeci">#define DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00177">ash.c:177</a></div></div>
<div class="ttc" id="aash_8c_html_ad73165e00a1746eb4c83da600b880909"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad73165e00a1746eb4c83da600b880909">var::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02067">ash.c:2067</a></div></div>
<div class="ttc" id="aash_8c_html_ad7594bf55940ce87e563bceeee17b2c6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad7594bf55940ce87e563bceeee17b2c6">globals_memstack::g_stackp</a></div><div class="ttdeci">struct stack_block * g_stackp</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01575">ash.c:1575</a></div></div>
<div class="ttc" id="aash_8c_html_ad814d21005578f03350b1de5c4b5458b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad814d21005578f03350b1de5c4b5458b">is_special</a></div><div class="ttdeci">#define is_special(c)</div></div>
<div class="ttc" id="aash_8c_html_ad84e8576ca40f3b7ffa72f08b0849984"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad84e8576ca40f3b7ffa72f08b0849984">parsefile::pf_fd</a></div><div class="ttdeci">int pf_fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00599">ash.c:599</a></div></div>
<div class="ttc" id="aash_8c_html_ad92f7c112d0543fd9479218fae3b49a0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad92f7c112d0543fd9479218fae3b49a0">VSTACK</a></div><div class="ttdeci">#define VSTACK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02085">ash.c:2085</a></div></div>
<div class="ttc" id="aash_8c_html_ad933a6a22f1eb5dab6f63377a94b5292"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad933a6a22f1eb5dab6f63377a94b5292">ash_ptr_to_globals_misc</a></div><div class="ttdeci">struct globals_misc *BB_GLOBAL_CONST ash_ptr_to_globals_misc</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/ash__ptr__hack_8c_source.html#l00016">ash_ptr_hack.c:16</a></div></div>
<div class="ttc" id="aash_8c_html_ad93fac6975049cf96d7989ffad986cc4"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad93fac6975049cf96d7989ffad986cc4">EXP_FULL</a></div><div class="ttdeci">#define EXP_FULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06068">ash.c:6068</a></div></div>
<div class="ttc" id="aash_8c_html_ad9594e91f229c2940b2c442cce0f9b68"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad9594e91f229c2940b2c442cce0f9b68">expredir</a></div><div class="ttdeci">static void expredir(union node *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09611">ash.c:9611</a></div></div>
<div class="ttc" id="aash_8c_html_ad989ed2f4cd36d5903a7264eb434de30"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad989ed2f4cd36d5903a7264eb434de30">getpwd</a></div><div class="ttdeci">static char * getpwd(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02856">ash.c:2856</a></div></div>
<div class="ttc" id="aash_8c_html_ad9e955d7aa1f2c060178cf0a2145b0cf"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ad9e955d7aa1f2c060178cf0a2145b0cf">STPUTC</a></div><div class="ttdeci">#define STPUTC(c, p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01827">ash.c:1827</a></div></div>
<div class="ttc" id="aash_8c_html_ada3204903f315a30983ae55160074f1a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ada3204903f315a30983ae55160074f1a">nclist::pattern</a></div><div class="ttdeci">union node * pattern</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00942">ash.c:942</a></div></div>
<div class="ttc" id="aash_8c_html_ada4eae9bac11f48b16aaaeafb282be2b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ada4eae9bac11f48b16aaaeafb282be2b">unsetcmd</a></div><div class="ttdeci">static int FAST_FUNC unsetcmd(int argc UNUSED_PARAM, char **argv UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14152">ash.c:14152</a></div></div>
<div class="ttc" id="aash_8c_html_ada7e296275800e395e165337f35f75b7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ada7e296275800e395e165337f35f75b7">INT_OFF</a></div><div class="ttdeci">#define INT_OFF</div></div>
<div class="ttc" id="aash_8c_html_ada935f892269caa831975bfe57c5fb08"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ada935f892269caa831975bfe57c5fb08">globals_misc::errlinno</a></div><div class="ttdeci">int errlinno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00404">ash.c:404</a></div></div>
<div class="ttc" id="aash_8c_html_adab8f6bb60fd0df10ee740984c79b9b8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adab8f6bb60fd0df10ee740984c79b9b8">patmatch</a></div><div class="ttdeci">static int patmatch(char *pattern, const char *string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08159">ash.c:8159</a></div></div>
<div class="ttc" id="aash_8c_html_adadb681d1e29b689faaa9db80d6ab122"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adadb681d1e29b689faaa9db80d6ab122">copynodelist</a></div><div class="ttdeci">static struct nodelist * copynodelist(struct nodelist *lp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09067">ash.c:9067</a></div></div>
<div class="ttc" id="aash_8c_html_adb3a59631381aedad5f27d1b889f05e1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adb3a59631381aedad5f27d1b889f05e1">expandmeta</a></div><div class="ttdeci">static void expandmeta(struct strlist *str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l07785">ash.c:7785</a></div></div>
<div class="ttc" id="aash_8c_html_adbea944334cc7e0b5f3a416402774451"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adbea944334cc7e0b5f3a416402774451">JOBDONE</a></div><div class="ttdeci">#define JOBDONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03637">ash.c:3637</a></div></div>
<div class="ttc" id="aash_8c_html_adbef8ff2d1aa248822b1b80badee1fff"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adbef8ff2d1aa248822b1b80badee1fff">parser_eof</a></div><div class="ttdeci">static int parser_eof(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13460">ash.c:13460</a></div></div>
<div class="ttc" id="aash_8c_html_adc0d785b973f7f6446aae1caa9dd8772"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adc0d785b973f7f6446aae1caa9dd8772">oldstyle</a></div><div class="ttdeci">#define oldstyle</div></div>
<div class="ttc" id="aash_8c_html_adcfa6cd3de8e74451a247a3f1231d1c9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adcfa6cd3de8e74451a247a3f1231d1c9">strlist::text</a></div><div class="ttdeci">char * text</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00568">ash.c:568</a></div></div>
<div class="ttc" id="aash_8c_html_add55f727d660d08e5514f013b092516a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#add55f727d660d08e5514f013b092516a">legal_pathopt</a></div><div class="ttdeci">static const char * legal_pathopt(const char *opt, const char *term, int magic)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02598">ash.c:2598</a></div></div>
<div class="ttc" id="aash_8c_html_add5a51c82ed1ebedf307a714d9ccef0f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#add5a51c82ed1ebedf307a714d9ccef0f">QUOTES_ESC</a></div><div class="ttdeci">#define QUOTES_ESC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06099">ash.c:6099</a></div></div>
<div class="ttc" id="aash_8c_html_add71b5aa3cf93ea594bead45162618e7a436a02069b564b58bce17331bcf4759b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#add71b5aa3cf93ea594bead45162618e7a436a02069b564b58bce17331bcf4759b">NOPTS</a></div><div class="ttdeci">@ NOPTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00374">ash.c:374</a></div></div>
<div class="ttc" id="aash_8c_html_add9ec1824e7be62d6302723a74eed87e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#add9ec1824e7be62d6302723a74eed87e">synstack::syntax</a></div><div class="ttdeci">smalluint syntax</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11085">ash.c:11085</a></div></div>
<div class="ttc" id="aash_8c_html_adddbf4b3debf086a041bb581454ec618"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adddbf4b3debf086a041bb581454ec618">popstring</a></div><div class="ttdeci">static void popstring(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10769">ash.c:10769</a></div></div>
<div class="ttc" id="aash_8c_html_addfb8fe9344cda35aa5e0b80cbc1d247"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#addfb8fe9344cda35aa5e0b80cbc1d247">job::nprocs</a></div><div class="ttdeci">unsigned nprocs</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03633">ash.c:3633</a></div></div>
<div class="ttc" id="aash_8c_html_ade601d2771be2d1ffb456155112dcca6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ade601d2771be2d1ffb456155112dcca6">EXERROR</a></div><div class="ttdeci">#define EXERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00421">ash.c:421</a></div></div>
<div class="ttc" id="aash_8c_html_ade7d8bdeb1e82df7bf774acaf64ac399"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ade7d8bdeb1e82df7bf774acaf64ac399">NARG</a></div><div class="ttdeci">#define NARG</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00872">ash.c:872</a></div></div>
<div class="ttc" id="aash_8c_html_adea9843b5ff4954b14afa07a09340091"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adea9843b5ff4954b14afa07a09340091">NXHERE</a></div><div class="ttdeci">#define NXHERE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00884">ash.c:884</a></div></div>
<div class="ttc" id="aash_8c_html_adec920038aa8edfb24d1071c65e35053"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adec920038aa8edfb24d1071c65e35053">optptr</a></div><div class="ttdeci">static char * optptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01978">ash.c:1978</a></div></div>
<div class="ttc" id="aash_8c_html_adf33ec1779df3d9898d1b2bf98c0ae23"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adf33ec1779df3d9898d1b2bf98c0ae23">fmtstr</a></div><div class="ttdeci">static int fmtstr(char *, size_t, const char *,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00781">ash.c:781</a></div></div>
<div class="ttc" id="aash_8c_html_adf3ec511cc3180c82a5157e69f38c555"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adf3ec511cc3180c82a5157e69f38c555">NTRAP_LAST</a></div><div class="ttdeci">#define NTRAP_LAST</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00472">ash.c:472</a></div></div>
<div class="ttc" id="aash_8c_html_adf94a5ac31065480ecdfcde97dcf37ae"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adf94a5ac31065480ecdfcde97dcf37ae">JOBRUNNING</a></div><div class="ttdeci">#define JOBRUNNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03635">ash.c:3635</a></div></div>
<div class="ttc" id="aash_8c_html_adf9fde5f0ec4351508b7db0572b090d1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#adf9fde5f0ec4351508b7db0572b090d1">cmdentry::param::func</a></div><div class="ttdeci">struct funcnode * func</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08209">ash.c:8209</a></div></div>
<div class="ttc" id="aash_8c_html_ae0b6ad4393bb233245f037fe5de5626b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae0b6ad4393bb233245f037fe5de5626b">optionarg</a></div><div class="ttdeci">static char * optionarg</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01977">ash.c:1977</a></div></div>
<div class="ttc" id="aash_8c_html_ae122fc4defd21d005624d66046343d11"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae122fc4defd21d005624d66046343d11">save_fd_on_redirect</a></div><div class="ttdeci">static int save_fd_on_redirect(int fd, int avoid_fd, struct redirtab *sq)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05714">ash.c:5714</a></div></div>
<div class="ttc" id="aash_8c_html_ae171a063eefab55d56823de1cc486ec9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae171a063eefab55d56823de1cc486ec9">globals_misc::back_exitstatus</a></div><div class="ttdeci">uint8_t back_exitstatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00396">ash.c:396</a></div></div>
<div class="ttc" id="aash_8c_html_ae1863f639f12382c610c13d53ea33c01"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae1863f639f12382c610c13d53ea33c01">CTLVAR</a></div><div class="ttdeci">#define CTLVAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00815">ash.c:815</a></div></div>
<div class="ttc" id="aash_8c_html_ae1b927e3da6182fb8d5ab0bd12d3b824"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae1b927e3da6182fb8d5ab0bd12d3b824">parsefile::buf</a></div><div class="ttdeci">char * buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00603">ash.c:603</a></div></div>
<div class="ttc" id="aash_8c_html_ae248323ad6e70abe4b5380879e6434e0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae248323ad6e70abe4b5380879e6434e0">grabstackblock</a></div><div class="ttdeci">static ALWAYS_INLINE void grabstackblock(size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01671">ash.c:1671</a></div></div>
<div class="ttc" id="aash_8c_html_ae2497252f474ac4b0514ce0e860cf90e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae2497252f474ac4b0514ce0e860cf90e">synstack_pop</a></div><div class="ttdeci">static ALWAYS_INLINE void synstack_pop(struct synstack **stack)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11113">ash.c:11113</a></div></div>
<div class="ttc" id="aash_8c_html_ae2d87919ed01d489fd5b404c99f4a38c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae2d87919ed01d489fd5b404c99f4a38c">FAKEEOFMARK</a></div><div class="ttdeci">#define FAKEEOFMARK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l12416">ash.c:12416</a></div></div>
<div class="ttc" id="aash_8c_html_ae2db2fff86b7553f8df7b11667be6203"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae2db2fff86b7553f8df7b11667be6203">xxreadtoken</a></div><div class="ttdeci">static int xxreadtoken(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13179">ash.c:13179</a></div></div>
<div class="ttc" id="aash_8c_html_ae47993177e079482c3f9095c115dd692"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae47993177e079482c3f9095c115dd692">npipe::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00899">ash.c:899</a></div></div>
<div class="ttc" id="aash_8c_html_ae4dab126b92a3dce98a316cd01490ddf"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae4dab126b92a3dce98a316cd01490ddf">expdest</a></div><div class="ttdeci">static char * expdest</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06118">ash.c:6118</a></div></div>
<div class="ttc" id="aash_8c_html_ae52ce7002a05790c0eb9b44163ddf3f0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae52ce7002a05790c0eb9b44163ddf3f0">number</a></div><div class="ttdeci">static int number(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01883">ash.c:1883</a></div></div>
<div class="ttc" id="aash_8c_html_ae575a712af65a31deff21397dd8abe51"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae575a712af65a31deff21397dd8abe51">NFOR</a></div><div class="ttdeci">#define NFOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00868">ash.c:868</a></div></div>
<div class="ttc" id="aash_8c_html_ae58ea0b3529c2e955dcc46d1d4a79ce7"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae58ea0b3529c2e955dcc46d1d4a79ce7">CTL_FIRST</a></div><div class="ttdeci">#define CTL_FIRST</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00813">ash.c:813</a></div></div>
<div class="ttc" id="aash_8c_html_ae5e02005b4d5b89e194f540163e26fc0"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae5e02005b4d5b89e194f540163e26fc0">IF_BASH_SUBSTR</a></div><div class="ttdeci">#define IF_BASH_SUBSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00212">ash.c:212</a></div></div>
<div class="ttc" id="aash_8c_html_ae636b85e9fda111db77be3efbad1c862"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae636b85e9fda111db77be3efbad1c862">ckstrdup</a></div><div class="ttdeci">#define ckstrdup</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01545">ash.c:1545</a></div></div>
<div class="ttc" id="aash_8c_html_ae6710df2501efb4611fc9568466e060d"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae6710df2501efb4611fc9568466e060d">ifsval</a></div><div class="ttdeci">#define ifsval()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02237">ash.c:2237</a></div></div>
<div class="ttc" id="aash_8c_html_ae6e3a22651b3293e1c534463d412dca3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae6e3a22651b3293e1c534463d412dca3">backcmd::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06559">ash.c:6559</a></div></div>
<div class="ttc" id="aash_8c_html_ae722c93936e1e5aae33466c078f99c71"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae722c93936e1e5aae33466c078f99c71">errlinno</a></div><div class="ttdeci">#define errlinno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00491">ash.c:491</a></div></div>
<div class="ttc" id="aash_8c_html_ae847de7186efc263f2bda30dd5bdba25"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae847de7186efc263f2bda30dd5bdba25">curjob</a></div><div class="ttdeci">static struct job * curjob</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03826">ash.c:3826</a></div></div>
<div class="ttc" id="aash_8c_html_ae8f91aaafa76c524a2a9667f17bd85aa"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae8f91aaafa76c524a2a9667f17bd85aa">parsefile::next_to_pgetc</a></div><div class="ttdeci">char * next_to_pgetc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00602">ash.c:602</a></div></div>
<div class="ttc" id="aash_8c_html_ae9c6987b3b94c208b2d2e2d794d183c8"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae9c6987b3b94c208b2d2e2d794d183c8">globals_misc::inps4</a></div><div class="ttdeci">smallint inps4</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00398">ash.c:398</a></div></div>
<div class="ttc" id="aash_8c_html_ae9c798b24da8b99abaa75d8152675393"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#ae9c798b24da8b99abaa75d8152675393">setvar</a></div><div class="ttdeci">static struct var * setvar(const char *name, const char *val, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02484">ash.c:2484</a></div></div>
<div class="ttc" id="aash_8c_html_aea15ab7d7a662fe6789fcc68c65adbcb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aea15ab7d7a662fe6789fcc68c65adbcb">heredoclist</a></div><div class="ttdeci">static struct heredoc * heredoclist</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11771">ash.c:11771</a></div></div>
<div class="ttc" id="aash_8c_html_aea420319bc8c300833275a9eee04a1a6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aea420319bc8c300833275a9eee04a1a6">plus_minus_o</a></div><div class="ttdeci">static int plus_minus_o(char *name, int val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11374">ash.c:11374</a></div></div>
<div class="ttc" id="aash_8c_html_aea9aee2971fd75d7367c7d443983cbb3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aea9aee2971fd75d7367c7d443983cbb3">findvar</a></div><div class="ttdeci">static struct var ** findvar(struct var **vpp, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02336">ash.c:2336</a></div></div>
<div class="ttc" id="aash_8c_html_aeadab29e8f2c51cd05e57e0e1b59993c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aeadab29e8f2c51cd05e57e0e1b59993c">isdigit_str9</a></div><div class="ttdeci">static int isdigit_str9(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00543">ash.c:543</a></div></div>
<div class="ttc" id="aash_8c_html_aeae2161e6b322b2655fac184e8fca410"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aeae2161e6b322b2655fac184e8fca410">may_have_traps</a></div><div class="ttdeci">#define may_have_traps</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00506">ash.c:506</a></div></div>
<div class="ttc" id="aash_8c_html_aeb169d706c8ea8599d4a37add2a3935a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aeb169d706c8ea8599d4a37add2a3935a">Iflag</a></div><div class="ttdeci">#define Iflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00430">ash.c:430</a></div></div>
<div class="ttc" id="aash_8c_html_aebbba89eb574f823428be75d0ffc10c9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aebbba89eb574f823428be75d0ffc10c9">reset</a></div><div class="ttdeci">static void reset(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14410">ash.c:14410</a></div></div>
<div class="ttc" id="aash_8c_html_aed93902cb072f5ec2a7594e27b307c53"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aed93902cb072f5ec2a7594e27b307c53">stackstrend</a></div><div class="ttdeci">#define stackstrend()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01847">ash.c:1847</a></div></div>
<div class="ttc" id="aash_8c_html_aedd46bfa7902b06db25e690385261125"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aedd46bfa7902b06db25e690385261125">popstackmark</a></div><div class="ttdeci">static void popstackmark(struct stackmark *mark)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01692">ash.c:1692</a></div></div>
<div class="ttc" id="aash_8c_html_aedec8046fc2742d356c2b3df628623db"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aedec8046fc2742d356c2b3df628623db">andor</a></div><div class="ttdeci">static union node * andor(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11887">ash.c:11887</a></div></div>
<div class="ttc" id="aash_8c_html_aedfab11709c7af9c17c5dea90322c05e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aedfab11709c7af9c17c5dea90322c05e">globals_misc::pending_sig</a></div><div class="ttdeci">volatile smallint pending_sig</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00418">ash.c:418</a></div></div>
<div class="ttc" id="aash_8c_html_aeed51d26de7486740f06e9383aba8ca3"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aeed51d26de7486740f06e9383aba8ca3">EXP_DISCARD</a></div><div class="ttdeci">#define EXP_DISCARD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06088">ash.c:6088</a></div></div>
<div class="ttc" id="aash_8c_html_aefa5298b2cb8291f9ca123ede99e3307"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aefa5298b2cb8291f9ca123ede99e3307">ALIGN1</a></div><div class="ttdeci">static const char dolatstr[] ALIGN1</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00852">ash.c:852</a></div></div>
<div class="ttc" id="aash_8c_html_aefcff7735123e7551631570d3bbb418f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aefcff7735123e7551631570d3bbb418f">NFROM</a></div><div class="ttdeci">#define NFROM</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00878">ash.c:878</a></div></div>
<div class="ttc" id="aash_8c_html_af001cdacd74fe6e75ea09e767555f64e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af001cdacd74fe6e75ea09e767555f64e">VNOFUNC</a></div><div class="ttdeci">#define VNOFUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02087">ash.c:2087</a></div></div>
<div class="ttc" id="aash_8c_html_af02b3d9fc120ac9d1d4afe215620b062"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af02b3d9fc120ac9d1d4afe215620b062">funcnamevar</a></div><div class="ttdeci">#define funcnamevar</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02190">ash.c:2190</a></div></div>
<div class="ttc" id="aash_8c_html_af02ca8fdfb2588e2023326e52fabb175"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af02ca8fdfb2588e2023326e52fabb175">ncmd::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00891">ash.c:891</a></div></div>
<div class="ttc" id="aash_8c_html_af125556b293a7c84ecc8962a56cb3b68"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af125556b293a7c84ecc8962a56cb3b68">jmploc::loc</a></div><div class="ttdeci">jmp_buf loc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00391">ash.c:391</a></div></div>
<div class="ttc" id="aash_8c_html_af18027aeba8edd60631a5bcea8764b50"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af18027aeba8edd60631a5bcea8764b50">VSTRFIXED</a></div><div class="ttdeci">#define VSTRFIXED</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02083">ash.c:2083</a></div></div>
<div class="ttc" id="aash_8c_html_af1a10a9c8fb23b3c9ee017fd02f711bc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af1a10a9c8fb23b3c9ee017fd02f711bc">VSTRIMRIGHTMAX</a></div><div class="ttdeci">#define VSTRIMRIGHTMAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00840">ash.c:840</a></div></div>
<div class="ttc" id="aash_8c_html_af1cdd7f1f03ead14cd403b108f4fb51e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af1cdd7f1f03ead14cd403b108f4fb51e">heredoc::striptabs</a></div><div class="ttdeci">smallint striptabs</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11765">ash.c:11765</a></div></div>
<div class="ttc" id="aash_8c_html_af1f38b4cc0d0bffc1ad092cf5fc21506"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af1f38b4cc0d0bffc1ad092cf5fc21506">NODE_EOF</a></div><div class="ttdeci">#define NODE_EOF</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01016">ash.c:1016</a></div></div>
<div class="ttc" id="aash_8c_html_af259ce0501aada6b201083fec4b3805f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af259ce0501aada6b201083fec4b3805f">redirnode</a></div><div class="ttdeci">static union node * redirnode</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11774">ash.c:11774</a></div></div>
<div class="ttc" id="aash_8c_html_af2fe42c651f99042a7514fcc15da0fb5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af2fe42c651f99042a7514fcc15da0fb5">CVAR</a></div><div class="ttdeci">#define CVAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03019">ash.c:3019</a></div></div>
<div class="ttc" id="aash_8c_html_af335cb06ae42251334dfa7b2ea6e3007"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af335cb06ae42251334dfa7b2ea6e3007">argptr</a></div><div class="ttdeci">static char ** argptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01976">ash.c:1976</a></div></div>
<div class="ttc" id="aash_8c_html_af335cd3a3b482fe283251c36e943fd58"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af335cd3a3b482fe283251c36e943fd58">copyfunc</a></div><div class="ttdeci">static struct funcnode * copyfunc(union node *n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09188">ash.c:9188</a></div></div>
<div class="ttc" id="aash_8c_html_af36cd12454a274bc186175cf6def6e1f"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af36cd12454a274bc186175cf6def6e1f">reinit_unicode_for_ash</a></div><div class="ttdeci">#define reinit_unicode_for_ash()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02397">ash.c:2397</a></div></div>
<div class="ttc" id="aash_8c_html_af3ab4137bc0ae5cd20517d9a69247029"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af3ab4137bc0ae5cd20517d9a69247029">is_in_name</a></div><div class="ttdeci">#define is_in_name(c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00540">ash.c:540</a></div></div>
<div class="ttc" id="aash_8c_html_af41f62ae2962bc6044f208d8d4fc1e08"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af41f62ae2962bc6044f208d8d4fc1e08">redirtab::next</a></div><div class="ttdeci">struct redirtab * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05681">ash.c:5681</a></div></div>
<div class="ttc" id="aash_8c_html_af47d09d7fff889150d4c3c90c793a10c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af47d09d7fff889150d4c3c90c793a10c">cmdloop</a></div><div class="ttdeci">static int cmdloop(int top)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l13554">ash.c:13554</a></div></div>
<div class="ttc" id="aash_8c_html_af48e650e6f24d30b0200951712a569ef"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af48e650e6f24d30b0200951712a569ef">funcnode::n</a></div><div class="ttdeci">union node n</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01024">ash.c:1025</a></div></div>
<div class="ttc" id="aash_8c_html_af4c7c47ca39385cb235fdf6c528cc681"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af4c7c47ca39385cb235fdf6c528cc681">g_parsefile</a></div><div class="ttdeci">static struct parsefile * g_parsefile</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00618">ash.c:618</a></div></div>
<div class="ttc" id="aash_8c_html_af50fa8c9e19e13a35fec130fc6883faf"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af50fa8c9e19e13a35fec130fc6883faf">localvar_stack</a></div><div class="ttdeci">static struct localvar_list * localvar_stack</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09812">ash.c:9812</a></div></div>
<div class="ttc" id="aash_8c_html_af532232f0b65dc6296aedd2b60de7285"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af532232f0b65dc6296aedd2b60de7285">F_DUPFD_CLOEXEC</a></div><div class="ttdeci">#define F_DUPFD_CLOEXEC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00294">ash.c:294</a></div></div>
<div class="ttc" id="aash_8c_html_af6102579d4f7d723e78f1870f1e1427a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af6102579d4f7d723e78f1870f1e1427a">PARSEARITH</a></div><div class="ttdeci">#define PARSEARITH()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l12441">ash.c:12441</a></div></div>
<div class="ttc" id="aash_8c_html_af61e9df9938654d90a8a7af4d4fba191"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af61e9df9938654d90a8a7af4d4fba191">procargs</a></div><div class="ttdeci">static int procargs(char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l14532">ash.c:14532</a></div></div>
<div class="ttc" id="aash_8c_html_af6ef3779dc4dffc2aaedf8bf82dc5bb2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af6ef3779dc4dffc2aaedf8bf82dc5bb2">DO_NOFUNC</a></div><div class="ttdeci">#define DO_NOFUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08221">ash.c:8221</a></div></div>
<div class="ttc" id="aash_8c_html_af7a839500b65592c29df98ac85f8e6f2"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af7a839500b65592c29df98ac85f8e6f2">parsefile::linno</a></div><div class="ttdeci">int linno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00598">ash.c:598</a></div></div>
<div class="ttc" id="aash_8c_html_af7eac746230901939b6209281e40ac1c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af7eac746230901939b6209281e40ac1c">globals_misc::suppress_int</a></div><div class="ttdeci">volatile int suppress_int</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00415">ash.c:415</a></div></div>
<div class="ttc" id="aash_8c_html_af7fccc83bf37def78dcf72add66993ea"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af7fccc83bf37def78dcf72add66993ea">nfile::next</a></div><div class="ttdeci">union node * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00966">ash.c:966</a></div></div>
<div class="ttc" id="aash_8c_html_af8c26955d672a1c8831a939a493fc6cb"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af8c26955d672a1c8831a939a493fc6cb">subevalvar</a></div><div class="ttdeci">static char * subevalvar(char *start, char *str, int strloc, int startloc, int varflags, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l07041">ash.c:7041</a></div></div>
<div class="ttc" id="aash_8c_html_af8ce82ad63add721a0e29e821b7281be"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af8ce82ad63add721a0e29e821b7281be">pending_int</a></div><div class="ttdeci">#define pending_int</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00499">ash.c:499</a></div></div>
<div class="ttc" id="aash_8c_html_af8e0c2f98d35e88ca0e26b9a00059218"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af8e0c2f98d35e88ca0e26b9a00059218">SHOW_STDERR</a></div><div class="ttdeci">#define SHOW_STDERR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03613">ash.c:3613</a></div></div>
<div class="ttc" id="aash_8c_html_af91ae03406f0a47445aef069d27b5225"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af91ae03406f0a47445aef069d27b5225">g_stackp</a></div><div class="ttdeci">#define g_stackp</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01583">ash.c:1583</a></div></div>
<div class="ttc" id="aash_8c_html_af9265d6c3a5373cad84b09975e7c1f92"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af9265d6c3a5373cad84b09975e7c1f92">ifsfree</a></div><div class="ttdeci">static void ifsfree(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06224">ash.c:6224</a></div></div>
<div class="ttc" id="aash_8c_html_af9869b278358d63ab443a8f3ec9edd3b"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#af9869b278358d63ab443a8f3ec9edd3b">SHOW_CHANGED</a></div><div class="ttdeci">#define SHOW_CHANGED</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03612">ash.c:3612</a></div></div>
<div class="ttc" id="aash_8c_html_afa1ad49cc4809494f4867e1108ea5ee5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afa1ad49cc4809494f4867e1108ea5ee5">optnames</a></div><div class="ttdeci">#define optnames(n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00372">ash.c:372</a></div></div>
<div class="ttc" id="aash_8c_html_afa5bd6884d9d513f1517fa46f593de2a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afa5bd6884d9d513f1517fa46f593de2a">minusc</a></div><div class="ttdeci">#define minusc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00492">ash.c:492</a></div></div>
<div class="ttc" id="aash_8c_html_afa936a54ba7776ba8e648c06d605d100"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afa936a54ba7776ba8e648c06d605d100">funcnode::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01024">ash.c:1024</a></div></div>
<div class="ttc" id="aash_8c_html_afab146b0323a1b3d4e8382b781164270"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afab146b0323a1b3d4e8382b781164270">nfile::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00965">ash.c:965</a></div></div>
<div class="ttc" id="aash_8c_html_afaedf519df7ea26b193d96b185a024c6"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afaedf519df7ea26b193d96b185a024c6">out1fmt</a></div><div class="ttdeci">static int out1fmt(const char *,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00766">ash.c:766</a></div></div>
<div class="ttc" id="aash_8c_html_afb06f0cd3a3d17a978d351cd5ec6e7e5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afb06f0cd3a3d17a978d351cd5ec6e7e5">ndup::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00976">ash.c:976</a></div></div>
<div class="ttc" id="aash_8c_html_afb296c0b318d8182e768a56aaf9a38c5"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afb296c0b318d8182e768a56aaf9a38c5">freestrings</a></div><div class="ttdeci">static void freestrings(struct strpush *sp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10996">ash.c:10996</a></div></div>
<div class="ttc" id="aash_8c_html_afb874974a7382063010e1e0506cc4d20"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afb874974a7382063010e1e0506cc4d20">lookupvar</a></div><div class="ttdeci">static const char *FAST_FUNC lookupvar(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02350">ash.c:2350</a></div></div>
<div class="ttc" id="aash_8c_html_afbb561cd66b6398681da36474269617a"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afbb561cd66b6398681da36474269617a">fflag</a></div><div class="ttdeci">#define fflag</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00429">ash.c:429</a></div></div>
<div class="ttc" id="aash_8c_html_afbe010008d76200566a4df8793a06d38"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afbe010008d76200566a4df8793a06d38">SIT_ITEM</a></div><div class="ttdeci">#define SIT_ITEM(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l03034">ash.c:3034</a></div></div>
<div class="ttc" id="aash_8c_html_afcc4c7e97260f8285a5977e66db4c94e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afcc4c7e97260f8285a5977e66db4c94e">globals_misc::savestatus</a></div><div class="ttdeci">int savestatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00399">ash.c:399</a></div></div>
<div class="ttc" id="aash_8c_html_afd5a04c578932621aa48c7acd81e5c4e"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afd5a04c578932621aa48c7acd81e5c4e">add_squirrel_closed</a></div><div class="ttdeci">static void add_squirrel_closed(struct redirtab *sq, int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05688">ash.c:5688</a></div></div>
<div class="ttc" id="aash_8c_html_afe2a1d7191e7d1650da0e80017fc0b3c"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afe2a1d7191e7d1650da0e80017fc0b3c">globals_var::funcnamevar</a></div><div class="ttdeci">char funcnamevar[sizeof(&quot;FUNCNAME=&quot;)+64]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02176">ash.c:2176</a></div></div>
<div class="ttc" id="aash_8c_html_afe2d6e5974d7f6ec31be7bd725ee74ce"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afe2d6e5974d7f6ec31be7bd725ee74ce">ash_vmsg</a></div><div class="ttdeci">static void ash_vmsg(const char *msg, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01398">ash.c:1398</a></div></div>
<div class="ttc" id="aash_8c_html_afe99620860ed7135d0461a0cf9931207"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afe99620860ed7135d0461a0cf9931207">S_HARD_IGN</a></div><div class="ttdeci">#define S_HARD_IGN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00464">ash.c:464</a></div></div>
<div class="ttc" id="aash_8c_html_afeb00f189184e3e8a43c99bc278e53d1"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afeb00f189184e3e8a43c99bc278e53d1">returncmd</a></div><div class="ttdeci">static int FAST_FUNC returncmd(int argc UNUSED_PARAM, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l10100">ash.c:10100</a></div></div>
<div class="ttc" id="aash_8c_html_afedbb82cd16aaf9066a06b50ff7f7601"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#afedbb82cd16aaf9066a06b50ff7f7601">globals_var::redirlist</a></div><div class="ttdeci">struct redirtab * redirlist</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02170">ash.c:2170</a></div></div>
<div class="ttc" id="aash_8c_html_aff11407fe92548919ad11698e94121e9"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#aff11407fe92548919ad11698e94121e9">linenovar</a></div><div class="ttdeci">#define linenovar</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02189">ash.c:2189</a></div></div>
<div class="ttc" id="aash_8c_html_affaf64cb4e9c66b5c622874a9028d833"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#affaf64cb4e9c66b5c622874a9028d833">shparam::nparam</a></div><div class="ttdeci">int nparam</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02037">ash.c:2037</a></div></div>
<div class="ttc" id="aash_8c_html_affc1ad23277bd6ac90ab21c8f4501307"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#affc1ad23277bd6ac90ab21c8f4501307">unsetvar</a></div><div class="ttdeci">static void unsetvar(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02528">ash.c:2528</a></div></div>
<div class="ttc" id="aash_8c_html_d1/d19/structredirtab"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d1/d19/structredirtab">redirtab</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05680">ash.c:5680</a></div></div>
<div class="ttc" id="aash_8c_html_d1/d6d/structnarg"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d1/d6d/structnarg">narg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00953">ash.c:953</a></div></div>
<div class="ttc" id="aash_8c_html_d1/dbc/structnfile"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d1/dbc/structnfile">nfile</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00964">ash.c:964</a></div></div>
<div class="ttc" id="aash_8c_html_d2/d25/structlocalvar"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d2/d25/structlocalvar">localvar</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02073">ash.c:2073</a></div></div>
<div class="ttc" id="aash_8c_html_d2/d2d/structtblentry"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d2/d2d/structtblentry">tblentry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08239">ash.c:8239</a></div></div>
<div class="ttc" id="aash_8c_html_d3/d18/structnif"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d3/d18/structnif">nif</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00917">ash.c:917</a></div></div>
<div class="ttc" id="aash_8c_html_d3/d8c/structjob"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d3/d8c/structjob">job</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3a/jobs_8h_source.html#l00120">jobs.h:120</a></div></div>
<div class="ttc" id="aash_8c_html_d3/d9e/structprocstat"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d3/d9e/structprocstat">procstat</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3a/jobs_8h_source.html#l00180">jobs.h:180</a></div></div>
<div class="ttc" id="aash_8c_html_d3/daa/structfuncnode"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d3/daa/structfuncnode">funcnode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01023">ash.c:1023</a></div></div>
<div class="ttc" id="aash_8c_html_d3/df6/structnfor"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d3/df6/structnfor">nfor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00924">ash.c:924</a></div></div>
<div class="ttc" id="aash_8c_html_d3/df8/structarglist"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d3/df8/structarglist">arglist</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06112">ash.c:6112</a></div></div>
<div class="ttc" id="aash_8c_html_d4/d1f/structnpipe"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d4/d1f/structnpipe">npipe</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00898">ash.c:898</a></div></div>
<div class="ttc" id="aash_8c_html_d4/daf/structcmdentry"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d4/daf/structcmdentry">cmdentry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08200">ash.c:8200</a></div></div>
<div class="ttc" id="aash_8c_html_d5/d04/structheredoc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d5/d04/structheredoc">heredoc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11761">ash.c:11761</a></div></div>
<div class="ttc" id="aash_8c_html_d5/d58/structstack__block"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d5/d58/structstack__block">stack_block</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01562">ash.c:1562</a></div></div>
<div class="ttc" id="aash_8c_html_d5/db3/structnredir"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d5/db3/structnredir">nredir</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00904">ash.c:904</a></div></div>
<div class="ttc" id="aash_8c_html_d6/d85/structbuiltincmd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d6/d85/structbuiltincmd">builtincmd</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08189">ash.c:8189</a></div></div>
<div class="ttc" id="aash_8c_html_d6/dc9/structnclist"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d6/dc9/structnclist">nclist</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00939">ash.c:939</a></div></div>
<div class="ttc" id="aash_8c_html_d7/d46/structnbinary"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d7/d46/structnbinary">nbinary</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00911">ash.c:911</a></div></div>
<div class="ttc" id="aash_8c_html_d7/dd1/structparsefile"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d7/dd1/structparsefile">parsefile</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00596">ash.c:596</a></div></div>
<div class="ttc" id="aash_8c_html_d8/d0a/structnhere"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d8/d0a/structnhere">nhere</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00982">ash.c:982</a></div></div>
<div class="ttc" id="aash_8c_html_d8/da4/structncmd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d8/da4/structncmd">ncmd</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00890">ash.c:890</a></div></div>
<div class="ttc" id="aash_8c_html_d8/dc5/structndefun"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d8/dc5/structndefun">ndefun</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00946">ash.c:946</a></div></div>
<div class="ttc" id="aash_8c_html_d8/dd8/unioncmdentry_1_1param"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d8/dd8/unioncmdentry_1_1param">cmdentry::param</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l08202">ash.c:8202</a></div></div>
<div class="ttc" id="aash_8c_html_d8/de9/structifsregion"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d8/de9/structifsregion">ifsregion</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06105">ash.c:6105</a></div></div>
<div class="ttc" id="aash_8c_html_d8/df4/structncase"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d8/df4/structncase">ncase</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00932">ash.c:932</a></div></div>
<div class="ttc" id="aash_8c_html_d9/d9b/structndup"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#d9/d9b/structndup">ndup</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00973">ash.c:973</a></div></div>
<div class="ttc" id="aash_8c_html_da/d1f/structbackcmd"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#da/d1f/structbackcmd">backcmd</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l06558">ash.c:6558</a></div></div>
<div class="ttc" id="aash_8c_html_da/d23/structjmploc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#da/d23/structjmploc">jmploc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00390">ash.c:390</a></div></div>
<div class="ttc" id="aash_8c_html_da/dc1/structstrpush"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#da/dc1/structstrpush">strpush</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00573">ash.c:573</a></div></div>
<div class="ttc" id="aash_8c_html_da/de3/structvar"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#da/de3/structvar">var</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02065">ash.c:2065</a></div></div>
<div class="ttc" id="aash_8c_html_db/df2/structglobals__memstack"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#db/df2/structglobals__memstack">globals_memstack</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01574">ash.c:1574</a></div></div>
<div class="ttc" id="aash_8c_html_db/dfa/structglobals__misc"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#db/dfa/structglobals__misc">globals_misc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00394">ash.c:394</a></div></div>
<div class="ttc" id="aash_8c_html_dc/d7b/structshparam"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#dc/d7b/structshparam">shparam</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02036">ash.c:2036</a></div></div>
<div class="ttc" id="aash_8c_html_dd/d07/structglobals__var"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#dd/d07/structglobals__var">globals_var</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l02168">ash.c:2168</a></div></div>
<div class="ttc" id="aash_8c_html_dd/d31/structnodelist"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#dd/d31/structnodelist">nodelist</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01018">ash.c:1018</a></div></div>
<div class="ttc" id="aash_8c_html_dd/d5e/structstackmark"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#dd/d5e/structstackmark">stackmark</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l01567">ash.c:1567</a></div></div>
<div class="ttc" id="aash_8c_html_df/d15/structnnot"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#df/d15/structnnot">nnot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00989">ash.c:989</a></div></div>
<div class="ttc" id="aash_8c_html_df/d18/structsynstack"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#df/d18/structsynstack">synstack</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l11084">ash.c:11084</a></div></div>
<div class="ttc" id="aash_8c_html_df/d2b/structstrlist"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#df/d2b/structstrlist">strlist</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00566">ash.c:566</a></div></div>
<div class="ttc" id="aash_8c_html_df/dac/structlocalvar__list"><div class="ttname"><a href="../../d1/dbe/ash_8c.html#df/dac/structlocalvar__list">localvar_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l09807">ash.c:9807</a></div></div>
<div class="ttc" id="aawk_8c_html_a2e8d2426582aedb61af37935c1d60c1c"><div class="ttname"><a href="../../de/dcc/awk_8c.html#a2e8d2426582aedb61af37935c1d60c1c">var</a></div><div class="ttdeci">struct var_s var</div></div>
<div class="ttc" id="aawk_8c_html_aedbf5106655fdabdf6c75d6b0e126baf"><div class="ttname"><a href="../../de/dcc/awk_8c.html#aedbf5106655fdabdf6c75d6b0e126baf">func_s::body</a></div><div class="ttdeci">struct chain_s body</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/awk_8c_source.html#l00142">awk.c:143</a></div></div>
<div class="ttc" id="aawk_8c_html_dd/d55/structfunc__s"><div class="ttname"><a href="../../de/dcc/awk_8c.html#dd/d55/structfunc__s">func_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/awk_8c_source.html#l00140">awk.c:140</a></div></div>
<div class="ttc" id="abash_2expr_8c_html_a48eb585a5cc3f2f35661183d9e54a87b"><div class="ttname"><a href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a></div><div class="ttdeci">static char * tp</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc4/bash_2expr_8c_source.html#l00168">expr.c:168</a></div></div>
<div class="ttc" id="abash_2support_2printenv_8c_html_aa006daaf11f1e2e45a6ababaf463212b"><div class="ttname"><a href="../../dc/de7/bash_2support_2printenv_8c.html#aa006daaf11f1e2e45a6ababaf463212b">environ</a></div><div class="ttdeci">char ** environ</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd7/lib_8c_source.html#l00042">lib.c:42</a></div></div>
<div class="ttc" id="abash_2test_8c_html_a1910d262855b71da353ed0d07a6c7823"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#a1910d262855b71da353ed0d07a6c7823">pos</a></div><div class="ttdeci">static int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00108">test.c:108</a></div></div>
<div class="ttc" id="abash_2test_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">static int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00109">test.c:109</a></div></div>
<div class="ttc" id="abash_2test_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">static char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00110">test.c:110</a></div></div>
<div class="ttc" id="abashgetopt_8c_html_a024603cda52d9847e8d8df3c2e884b8c"><div class="ttname"><a href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a></div><div class="ttdeci">static int sp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df1/bashgetopt_8c_source.html#l00039">bashgetopt.c:39</a></div></div>
<div class="ttc" id="abashintl_8h_html_a1f59a437f49d38679f0b7a30d09bf697"><div class="ttname"><a href="../../d7/dcd/bashintl_8h.html#a1f59a437f49d38679f0b7a30d09bf697">setlocale</a></div><div class="ttdeci">#define setlocale(cat, loc)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcd/bashintl_8h_source.html#l00047">bashintl.h:47</a></div></div>
<div class="ttc" id="abuiltins_8h_html_d1/d47/structbuiltin"><div class="ttname"><a href="../../d7/d41/builtins_8h.html#d1/d47/structbuiltin">builtin</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d41/builtins_8h_source.html#l00053">builtins.h:53</a></div></div>
<div class="ttc" id="abusybox_2coreutils_2echo_8c_html_af09b6237a4ac954c881ae3a1b8c3b222"><div class="ttname"><a href="../../d7/d33/busybox_2coreutils_2echo_8c.html#af09b6237a4ac954c881ae3a1b8c3b222">echo_main</a></div><div class="ttdeci">int echo_main(int argc UNUSED_PARAM, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d33/busybox_2coreutils_2echo_8c_source.html#l00083">echo.c:83</a></div></div>
<div class="ttc" id="abusybox_2coreutils_2expr_8c_html_acb53d55632fab5ebfafa813740b488ab"><div class="ttname"><a href="../../da/deb/busybox_2coreutils_2expr_8c.html#acb53d55632fab5ebfafa813740b488ab">arith_t</a></div><div class="ttdeci">long arith_t</div><div class="ttdef"><b>Definition:</b> <a href="../../da/deb/busybox_2coreutils_2expr_8c_source.html#l00091">expr.c:91</a></div></div>
<div class="ttc" id="abusybox_2coreutils_2test_8c_html_a801e35a8df4386fb44c9678c3040afcd"><div class="ttname"><a href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a801e35a8df4386fb44c9678c3040afcd">syntax</a></div><div class="ttdeci">static void syntax(const char *op, const char *msg) NORETURN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9e/busybox_2coreutils_2test_8c_source.html#l00459">test.c:459</a></div></div>
<div class="ttc" id="abusybox_2coreutils_2test_8c_html_a864743be868901a372abae742cab5e89"><div class="ttname"><a href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a864743be868901a372abae742cab5e89">test_main</a></div><div class="ttdeci">int test_main(int argc, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9e/busybox_2coreutils_2test_8c_source.html#l00894">test.c:894</a></div></div>
<div class="ttc" id="abusybox_2coreutils_2test_8c_html_a87da3d8264af1c9427605148f20dd9c4"><div class="ttname"><a href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a87da3d8264af1c9427605148f20dd9c4">token</a></div><div class="ttdeci">token</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9e/busybox_2coreutils_2test_8c_source.html#l00159">test.c:159</a></div></div>
<div class="ttc" id="abusybox_2coreutils_2test_8c_html_a9377d79f306851de141662a690fa9114"><div class="ttname"><a href="../../d6/d9e/busybox_2coreutils_2test_8c.html#a9377d79f306851de141662a690fa9114">binop</a></div><div class="ttdeci">static int binop(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9e/busybox_2coreutils_2test_8c_source.html#l00557">test.c:557</a></div></div>
<div class="ttc" id="abusybox_2coreutils_2test_8c_html_acd08a6295eccfeb30c79985f047e4be5"><div class="ttname"><a href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a></div><div class="ttdeci">#define args</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9e/busybox_2coreutils_2test_8c_source.html#l00441">test.c:441</a></div></div>
<div class="ttc" id="abusybox_2libbb_2unicode_8c_html_a3956874ad716c82074e4d5a513dbe0c3"><div class="ttname"><a href="../../d9/dad/busybox_2libbb_2unicode_8c.html#a3956874ad716c82074e4d5a513dbe0c3">unicode_strlen</a></div><div class="ttdeci">size_t FAST_FUNC unicode_strlen(const char *string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dad/busybox_2libbb_2unicode_8c_source.html#l00996">unicode.c:996</a></div></div>
<div class="ttc" id="abusybox_2libbb_2unicode_8c_html_ae78a55c0917b659346cb649faf2ba97e"><div class="ttname"><a href="../../d9/dad/busybox_2libbb_2unicode_8c.html#ae78a55c0917b659346cb649faf2ba97e">unicode_status</a></div><div class="ttdeci">uint8_t unicode_status</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dad/busybox_2libbb_2unicode_8c_source.html#l00014">unicode.c:14</a></div></div>
<div class="ttc" id="abusybox_8h_html"><div class="ttname"><a href="../../d0/d8f/busybox_8h.html">busybox.h</a></div></div>
<div class="ttc" id="abusybox_8h_html_ab5dcfad9f4c51c225e5c3c579d498039"><div class="ttname"><a href="../../d0/d8f/busybox_8h.html#ab5dcfad9f4c51c225e5c3c579d498039">APPLET_IS_NOEXEC</a></div><div class="ttdeci">#define APPLET_IS_NOEXEC(i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8f/busybox_8h_source.html#l00029">busybox.h:29</a></div></div>
<div class="ttc" id="abusybox_8h_html_afd23ee64850e64b45b158dc2e9e5b2ff"><div class="ttname"><a href="../../d0/d8f/busybox_8h.html#afd23ee64850e64b45b158dc2e9e5b2ff">APPLET_IS_NOFORK</a></div><div class="ttdeci">#define APPLET_IS_NOFORK(i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8f/busybox_8h_source.html#l00028">busybox.h:28</a></div></div>
<div class="ttc" id="acargs_8h_html_a69437b5d572dd16d6d4fdbcbd066c7a9"><div class="ttname"><a href="../../d1/d37/cargs_8h.html#a69437b5d572dd16d6d4fdbcbd066c7a9">FILE</a></div><div class="ttdeci">unsigned int FILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d37/cargs_8h_source.html#l00038">cargs.h:38</a></div></div>
<div class="ttc" id="achardefs_8h_html_a6a0e6b80dd3d5ca395cf58151749f5e2"><div class="ttname"><a href="../../d7/d6e/chardefs_8h.html#a6a0e6b80dd3d5ca395cf58151749f5e2">RETURN</a></div><div class="ttdeci">#define RETURN</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6e/chardefs_8h_source.html#l00134">chardefs.h:134</a></div></div>
<div class="ttc" id="achartypes_8h_html_a992d0bf21267653eb2ea35a78816c09b"><div class="ttname"><a href="../../d4/dcb/chartypes_8h.html#a992d0bf21267653eb2ea35a78816c09b">isxdigit</a></div><div class="ttdeci">#define isxdigit(c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcb/chartypes_8h_source.html#l00061">chartypes.h:61</a></div></div>
<div class="ttc" id="achat_8c_html_a1f2fe1ef60b62dff9f19599f8a355331"><div class="ttname"><a href="../../de/dc7/chat_8c.html#a1f2fe1ef60b62dff9f19599f8a355331">exitcode</a></div><div class="ttdeci">#define exitcode</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc7/chat_8c_source.html#l00110">chat.c:110</a></div></div>
<div class="ttc" id="aclearenv_8c_html_a60abb3e1fd6a331e91966624c774920e"><div class="ttname"><a href="../../db/da1/clearenv_8c.html#a60abb3e1fd6a331e91966624c774920e">clearenv</a></div><div class="ttdeci">int clearenv()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/clearenv_8c_source.html#l00008">clearenv.c:8</a></div></div>
<div class="ttc" id="aconvert_8h_html_a06688b0d2444199f657ccb56b0ce11b3"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a06688b0d2444199f657ccb56b0ce11b3">strcpy</a></div><div class="ttdeci">#define strcpy(dest, src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d82/convert_8h_source.html#l00132">convert.h:132</a></div></div>
<div class="ttc" id="aconvert_8h_html_a2032d00bcff61b1b912628210432b5c0"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a2032d00bcff61b1b912628210432b5c0">atoi</a></div><div class="ttdeci">int atoi(const char *String)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc7/Convert_8cpp_source.html#l00540">Convert.cpp:540</a></div></div>
<div class="ttc" id="aconvert_8h_html_a309e07aa23e76adc2ad0830978663c45"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a></div><div class="ttdeci">#define memcpy(dest, src, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d82/convert_8h_source.html#l00116">convert.h:116</a></div></div>
<div class="ttc" id="aconvert_8h_html_a4a710d86541afc6b7dafddcdb4b1c94f"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a4a710d86541afc6b7dafddcdb4b1c94f">strstr</a></div><div class="ttdeci">char * strstr(const char *haystack, const char *needle)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc7/Convert_8cpp_source.html#l00131">Convert.cpp:131</a></div></div>
<div class="ttc" id="aconvert_8h_html_a73d3b899fd0ce1012c7cc634f62401ed"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a73d3b899fd0ce1012c7cc634f62401ed">strdup</a></div><div class="ttdeci">char * strdup(const char *String)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc7/Convert_8cpp_source.html#l00158">Convert.cpp:158</a></div></div>
<div class="ttc" id="aconvert_8h_html_a7dcc610f4b04a8ee418f03a6d9256629"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a></div><div class="ttdeci">long unsigned strlen(const char s[])</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc7/Convert_8cpp_source.html#l00064">Convert.cpp:64</a></div></div>
<div class="ttc" id="aconvert_8h_html_a88b07011b83b06b8856027f02d55a880"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a88b07011b83b06b8856027f02d55a880">strchr</a></div><div class="ttdeci">char * strchr(const char *String, int Char)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc7/Convert_8cpp_source.html#l00148">Convert.cpp:148</a></div></div>
<div class="ttc" id="aconvert_8h_html_a9afae77e412a26e6c01e26b89d5c2b47"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a9afae77e412a26e6c01e26b89d5c2b47">strncmp</a></div><div class="ttdeci">int strncmp(const char *s1, const char *s2, unsigned long n)</div></div>
<div class="ttc" id="aconvert_8h_html_aa7d767d03ce3929978c28f64e3a4b222"><div class="ttname"><a href="../../d3/d82/convert_8h.html#aa7d767d03ce3929978c28f64e3a4b222">strtoul</a></div><div class="ttdeci">unsigned long int strtoul(const char *str, char **endptr, int base)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc7/Convert_8cpp_source.html#l00240">Convert.cpp:240</a></div></div>
<div class="ttc" id="aconvert_8h_html_ac376fcece8fcc2d0f8b1cf3de18b10df"><div class="ttname"><a href="../../d3/d82/convert_8h.html#ac376fcece8fcc2d0f8b1cf3de18b10df">memcmp</a></div><div class="ttdeci">int memcmp(const void *vl, const void *vr, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc7/Convert_8cpp_source.html#l00030">Convert.cpp:30</a></div></div>
<div class="ttc" id="aconvert_8h_html_ac72cd3c233680f95fd1d168a22c912ad"><div class="ttname"><a href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a></div><div class="ttdeci">#define memset(dest, c, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d82/convert_8h_source.html#l00120">convert.h:120</a></div></div>
<div class="ttc" id="aconvert_8h_html_ade3705de59d35b8a437f71a8beff883c"><div class="ttname"><a href="../../d3/d82/convert_8h.html#ade3705de59d35b8a437f71a8beff883c">memmove</a></div><div class="ttdeci">#define memmove(dest, src, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d82/convert_8h_source.html#l00124">convert.h:124</a></div></div>
<div class="ttc" id="acramfs_8c_html_aa8df4166084b06f1e80d3510e5dcf7e1"><div class="ttname"><a href="../../da/d86/cramfs_8c.html#aa8df4166084b06f1e80d3510e5dcf7e1">off</a></div><div class="ttdeci">#define off</div></div>
<div class="ttc" id="adc_8c_html_a35e27a416e5c3aca93017b6212878377"><div class="ttname"><a href="../../d6/dae/dc_8c.html#a35e27a416e5c3aca93017b6212878377">push</a></div><div class="ttdeci">static void push(double a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dae/dc_8c_source.html#l00046">dc.c:46</a></div></div>
<div class="ttc" id="adc_8c_html_a75eb888902f992b6613fed5e90eca946"><div class="ttname"><a href="../../d6/dae/dc_8c.html#a75eb888902f992b6613fed5e90eca946">add</a></div><div class="ttdeci">static void add(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dae/dc_8c_source.html#l00060">dc.c:60</a></div></div>
<div class="ttc" id="adc_8c_html_ab151537536988a2190d2cac79f964c52"><div class="ttname"><a href="../../d6/dae/dc_8c.html#ab151537536988a2190d2cac79f964c52">stack</a></div><div class="ttdeci">#define stack</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dae/dc_8c_source.html#l00032">dc.c:32</a></div></div>
<div class="ttc" id="adcigettext_8c_html_a03a200320a749aaf2faa1d1719ffb4de"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#a03a200320a749aaf2faa1d1719ffb4de">alloca</a></div><div class="ttdeci">#define alloca(size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00362">dcigettext.c:362</a></div></div>
<div class="ttc" id="adcigettext_8c_html_a29736afead72cfc18f14dba7ee2d3309"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#a29736afead72cfc18f14dba7ee2d3309">getegid</a></div><div class="ttdeci">#define getegid()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00411">dcigettext.c:411</a></div></div>
<div class="ttc" id="adcigettext_8c_html_a33c6dca97bbc9e329d37013ac3088f66"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#a33c6dca97bbc9e329d37013ac3088f66">geteuid</a></div><div class="ttdeci">#define geteuid()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00408">dcigettext.c:408</a></div></div>
<div class="ttc" id="adcigettext_8c_html_a58257445f1a929304e537613b62ebb35"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a></div><div class="ttdeci">unsigned long int n</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00441">dcigettext.c:441</a></div></div>
<div class="ttc" id="adcigettext_8c_html_a6a0ea5b55dd05f7eb74408209466be2c"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#a6a0ea5b55dd05f7eb74408209466be2c">getgid</a></div><div class="ttdeci">#define getgid()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00405">dcigettext.c:405</a></div></div>
<div class="ttc" id="adcigettext_8c_html_a844d3dee17e8924300992d69b641f7aa"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#a844d3dee17e8924300992d69b641f7aa">getuid</a></div><div class="ttdeci">#define getuid()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00402">dcigettext.c:402</a></div></div>
<div class="ttc" id="adcigettext_8c_html_ad4a56f6b40d7a5953d0fd8c9b192f5f2"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#ad4a56f6b40d7a5953d0fd8c9b192f5f2">getcwd</a></div><div class="ttdeci">#define getcwd(buf, max)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00155">dcigettext.c:155</a></div></div>
<div class="ttc" id="adcigettext_8c_html_ad5eff09b2cfcc7c8e5c3662ac9ee4564"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#ad5eff09b2cfcc7c8e5c3662ac9ee4564">stpcpy</a></div><div class="ttdeci">stpcpy(mempcpy(stpcpy(stpcpy(xdomainname, categoryname), &quot;/&quot;), domainname, domainname_len), &quot;.mo&quot;)</div></div>
<div class="ttc" id="adcigettext_8c_html_afc953590cd5aa97b094d5efe72ceea6e"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a></div><div class="ttdeci">char * retval</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00453">dcigettext.c:453</a></div></div>
<div class="ttc" id="add_8c_html_aca953b4d1629f79e7c2e9a5f9ae30c69"><div class="ttname"><a href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a></div><div class="ttdeci">#define skip</div></div>
<div class="ttc" id="adhcpd_8c_html_ae48a1c0f252dd523b1ce191708de6f45"><div class="ttname"><a href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a></div><div class="ttdeci">#define stop</div></div>
<div class="ttc" id="adumpkmap_8c_html_abb0829cce9dd20a40ae0d86890ae85c6"><div class="ttname"><a href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a></div><div class="ttdeci">#define flags</div></div>
<div class="ttc" id="adynlink_8c_html_a1b739878adcdb46fb5d209af7ce79628"><div class="ttname"><a href="../../d5/db0/dynlink_8c.html#a1b739878adcdb46fb5d209af7ce79628">realloc</a></div><div class="ttdeci">#define realloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/dynlink_8c_source.html#l00035">dynlink.c:35</a></div></div>
<div class="ttc" id="adynlink_8c_html_a2c6efa7679f8cd9f61af96e105017560"><div class="ttname"><a href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a></div><div class="ttdeci">#define free</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/dynlink_8c_source.html#l00036">dynlink.c:36</a></div></div>
<div class="ttc" id="adynlink_8c_html_af3054366f27929432795c5ae420a5294"><div class="ttname"><a href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a></div><div class="ttdeci">#define strcmp(l, r)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/dynlink_8c_source.html#l00174">dynlink.c:174</a></div></div>
<div class="ttc" id="aed_8c_html_af5d098a5d7ce46dd9363982fbd6b230d"><div class="ttname"><a href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a></div><div class="ttdeci">#define prompt</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d98/ed_8c_source.html#l00061">ed.c:61</a></div></div>
<div class="ttc" id="aerr_8h_html_aa31bca214cc8f135a43aa7fbea017326"><div class="ttname"><a href="../../d6/d40/err_8h.html#aa31bca214cc8f135a43aa7fbea017326">err</a></div><div class="ttdeci">_Noreturn void err(int, const char *,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d80/err_8c_source.html#l00053">err.c:53</a></div></div>
<div class="ttc" id="aerrlist_8c_html_a558c31d07190c0a536ec2a340b1eae07"><div class="ttname"><a href="../../df/d3a/errlist_8c.html#a558c31d07190c0a536ec2a340b1eae07">strerror</a></div><div class="ttdeci">char * strerror()</div></div>
<div class="ttc" id="aexcallback_8c_html_a0a96a7fecf1aeddf6219c3ca92bd67a3"><div class="ttname"><a href="../../d6/d4f/excallback_8c.html#a0a96a7fecf1aeddf6219c3ca92bd67a3">term</a></div><div class="ttdeci">struct termios term</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/excallback_8c_source.html#l00101">excallback.c:102</a></div></div>
<div class="ttc" id="aexcallback_8c_html_afcf80a6d91178952d107ad00b165752b"><div class="ttname"><a href="../../d6/d4f/excallback_8c.html#afcf80a6d91178952d107ad00b165752b">STDIN_FILENO</a></div><div class="ttdeci">#define STDIN_FILENO</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/excallback_8c_source.html#l00062">excallback.c:62</a></div></div>
<div class="ttc" id="aexpr_8h_html_d7/d3a/structfile"><div class="ttname"><a href="../../d4/d78/expr_8h.html#d7/d3a/structfile">file</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/expr_8h_source.html#l00018">expr.h:18</a></div></div>
<div class="ttc" id="afdflags_8c_html_a39d33ce33804efd4d52606d59071c6d8"><div class="ttname"><a href="../../d2/d59/fdflags_8c.html#a39d33ce33804efd4d52606d59071c6d8">O_NONBLOCK</a></div><div class="ttdeci">#define O_NONBLOCK</div></div>
<div class="ttc" id="afdisk_8c_html_a2f4ab7bf743142dae2e459aa18f9f1d4"><div class="ttname"><a href="../../d6/d86/fdisk_8c.html#a2f4ab7bf743142dae2e459aa18f9f1d4">action</a></div><div class="ttdeci">action</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/fdisk_8c_source.html#l00284">fdisk.c:284</a></div></div>
<div class="ttc" id="afileman_8c_html_a5992b274cfdcacdbc1fa8347fd01ebde"><div class="ttname"><a href="../../d1/d47/fileman_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a></div><div class="ttdeci">int done</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d47/fileman_8c_source.html#l00115">fileman.c:115</a></div></div>
<div class="ttc" id="afileno_8c_html_a8262871768d894c0962fa898b9680ce4"><div class="ttname"><a href="../../d7/d6b/fileno_8c.html#a8262871768d894c0962fa898b9680ce4">fileno</a></div><div class="ttdeci">int fileno(FILE *f)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6b/fileno_8c_source.html#l00004">fileno.c:4</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a11b644a8526139c4cc1850dac1271ced"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a11b644a8526139c4cc1850dac1271ced">O_WRONLY</a></div><div class="ttdeci">#define O_WRONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00051">filesystem.hpp:51</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a1cf6b1de1fffedaa1d26b189e9a8d2cc"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a1cf6b1de1fffedaa1d26b189e9a8d2cc">O_CREAT</a></div><div class="ttdeci">#define O_CREAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00053">filesystem.hpp:53</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a3746cdc5aac871e6f6504fbcbd29ef1d"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a3746cdc5aac871e6f6504fbcbd29ef1d">S_ISDIR</a></div><div class="ttdeci">#define S_ISDIR(mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00069">filesystem.hpp:69</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a7a68c9ffaac7dbcd652225dd7c06a54b"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a></div><div class="ttdeci">#define O_RDONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00050">filesystem.hpp:50</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_a9f5acfe79fafe14b6694447bd0e9f10b"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#a9f5acfe79fafe14b6694447bd0e9f10b">O_EXCL</a></div><div class="ttdeci">#define O_EXCL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00054">filesystem.hpp:54</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_aad0f32c2c182238f2ff71c83e6ab65a0"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#aad0f32c2c182238f2ff71c83e6ab65a0">S_ISREG</a></div><div class="ttdeci">#define S_ISREG(mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00072">filesystem.hpp:72</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_abb0586253488ee61072b73557eeb873b"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a></div><div class="ttdeci">#define O_RDWR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00052">filesystem.hpp:52</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_ad1d67e453fb3031f40f8cd3403773813"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#ad1d67e453fb3031f40f8cd3403773813">O_TRUNC</a></div><div class="ttdeci">#define O_TRUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00055">filesystem.hpp:55</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_ae036f789407d21f07b211552d67b3214"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#ae036f789407d21f07b211552d67b3214">O_APPEND</a></div><div class="ttdeci">#define O_APPEND</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00056">filesystem.hpp:56</a></div></div>
<div class="ttc" id="afilesystem_8hpp_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../d1/d85/filesystem_8hpp.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d85/filesystem_8hpp_source.html#l00031">filesystem.hpp:31</a></div></div>
<div class="ttc" id="afind_8c_html_dd/d87/structaction"><div class="ttname"><a href="../../d3/d0a/find_8c.html#dd/d87/structaction">action</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0a/find_8c_source.html#l00432">find.c:432</a></div></div>
<div class="ttc" id="afinfo_8c_html_acc6113e98e7cd24d9dcfa520749a5d3f"><div class="ttname"><a href="../../d2/d2a/finfo_8c.html#acc6113e98e7cd24d9dcfa520749a5d3f">prog</a></div><div class="ttdeci">static char * prog</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2a/finfo_8c_source.html#l00067">finfo.c:67</a></div></div>
<div class="ttc" id="afma_8c_html_d6/df8/structnum"><div class="ttname"><a href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da1/fma_8c_source.html#l00009">fma.c:9</a></div></div>
<div class="ttc" id="afnmatch_8h_html"><div class="ttname"><a href="../../d6/d3d/fnmatch_8h.html">fnmatch.h</a></div></div>
<div class="ttc" id="afsck__minix_8c_html_ae35b977157df01917b1e9c24cb65d288"><div class="ttname"><a href="../../dc/d72/fsck__minix_8c.html#ae35b977157df01917b1e9c24cb65d288">namelen</a></div><div class="ttdeci">#define namelen</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d72/fsck__minix_8c_source.html#l00196">fsck_minix.c:196</a></div></div>
<div class="ttc" id="agconf_8c_html_a880efc1795d900be549017ddf66a03e3"><div class="ttname"><a href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a></div><div class="ttdeci">static GtkTreeIter found</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd9/gconf_8c_source.html#l01348">gconf.c:1348</a></div></div>
<div class="ttc" id="agetconf_8c_html_a0dbe8c864fc9ffebb6477b4c8949abec"><div class="ttname"><a href="../../dd/d83/getconf_8c.html#a0dbe8c864fc9ffebb6477b4c8949abec">vars</a></div><div class="ttdeci">static const struct conf vars[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d83/getconf_8c_source.html#l00035">getconf.c:53</a></div></div>
<div class="ttc" id="agetpwent_8c_html_a0f5d496f5ae62c9dae4068efbf3ff5b6"><div class="ttname"><a href="../../d7/d06/getpwent_8c.html#a0f5d496f5ae62c9dae4068efbf3ff5b6">pw</a></div><div class="ttdeci">static struct passwd pw</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d06/getpwent_8c_source.html#l00004">getpwent.c:5</a></div></div>
<div class="ttc" id="agettextP_8h_html_a68428151ad44e31b19041cdeb8972a91"><div class="ttname"><a href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a></div><div class="ttdeci">static nls_uint32 nls_uint32 i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d71/gettextP_8h_source.html#l00074">gettextP.h:74</a></div></div>
<div class="ttc" id="agetusershell_8c_html_a3efb0e1a16208deecbd84c15401f7cf8"><div class="ttname"><a href="../../d0/dd9/getusershell_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a></div><div class="ttdeci">static FILE * f</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd9/getusershell_8c_source.html#l00009">getusershell.c:9</a></div></div>
<div class="ttc" id="aglob__loop_8c_html_a2019d0836036f2693a231fe5c7c65e20"><div class="ttname"><a href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a></div><div class="ttdeci">register GCHAR c</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/glob__loop_8c_source.html#l00028">glob_loop.c:26</a></div></div>
<div class="ttc" id="aglob__loop_8c_html_ac483f6ce851c9ecd9fb835ff7551737c"><div class="ttname"><a href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a></div><div class="ttdeci">p</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/glob__loop_8c_source.html#l00031">glob_loop.c:31</a></div></div>
<div class="ttc" id="aglob__loop_8c_html_ac5ea133c26adb9b160cb33f3db9301f6"><div class="ttname"><a href="../../d8/d64/glob__loop_8c.html#ac5ea133c26adb9b160cb33f3db9301f6">while</a></div><div class="ttdeci">while((c=*p++) !=L('\0'))</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/glob__loop_8c_source.html#l00034">glob_loop.c:34</a></div></div>
<div class="ttc" id="agm__loop_8c_html_a0c69486e80dbaad02c69f1caebb5064d"><div class="ttname"><a href="../../d6/dec/gm__loop_8c.html#a0c69486e80dbaad02c69f1caebb5064d">switch</a></div><div class="ttdeci">switch(c= *pat++)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dec/gm__loop_8c_source.html#l00054">gm_loop.c:54</a></div></div>
<div class="ttc" id="agm__loop_8c_html_aa03b39c334809f39a10a82e201e43f10"><div class="ttname"><a href="../../d6/dec/gm__loop_8c.html#aa03b39c334809f39a10a82e201e43f10">string</a></div><div class="ttdeci">int CHAR * string</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dec/gm__loop_8c_source.html#l00046">gm_loop.c:46</a></div></div>
<div class="ttc" id="agm__loop_8c_html_ac310d9181e916ba43604099aee272c71"><div class="ttname"><a href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a></div><div class="ttdeci">int t</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dec/gm__loop_8c_source.html#l00079">gm_loop.c:79</a></div></div>
<div class="ttc" id="agzip_8c_html_af88f48c99c7c7681bfdde40d55c11a08"><div class="ttname"><a href="../../d6/dd0/gzip_8c.html#af88f48c99c7c7681bfdde40d55c11a08">ofd</a></div><div class="ttdeci">#define ofd</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd0/gzip_8c_source.html#l00386">gzip.c:386</a></div></div>
<div class="ttc" id="ahash-string_8h_html_a537825d894fc8d6a786f28a99ce8af2c"><div class="ttname"><a href="../../de/d72/hash-string_8h.html#a537825d894fc8d6a786f28a99ce8af2c">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d72/hash-string_8h_source.html#l00045">hash-string.h:45</a></div></div>
<div class="ttc" id="ahash-string_8h_html_a73c18c59a39b18382081ec00bb456d43"><div class="ttname"><a href="../../de/d72/hash-string_8h.html#a73c18c59a39b18382081ec00bb456d43">g</a></div><div class="ttdeci">g</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d72/hash-string_8h_source.html#l00053">hash-string.h:53</a></div></div>
<div class="ttc" id="ahdparm_8c_html_aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42"><div class="ttname"><a href="../../d2/db3/hdparm_8c.html#aa63d6dae9e652d4cc15eb849ab1dbda5a1e4d60e5b05464d07a30096747025a42">fd</a></div><div class="ttdeci">@ fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/hdparm_8c_source.html#l00352">hdparm.c:352</a></div></div>
<div class="ttc" id="ahdparm_8c_html_af00fdbe0edb384d1bea5deec647d60c7"><div class="ttname"><a href="../../d2/db3/hdparm_8c.html#af00fdbe0edb384d1bea5deec647d60c7">keep</a></div><div class="ttdeci">#define keep</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/hdparm_8c_source.html#l00452">hdparm.c:452</a></div></div>
<div class="ttc" id="ahttpd_8c_html_afe0534ca994b08a0ec5edf614aa48e9c"><div class="ttname"><a href="../../d1/de7/httpd_8c.html#afe0534ca994b08a0ec5edf614aa48e9c">verbose</a></div><div class="ttdeci">#define verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de7/httpd_8c_source.html#l00511">httpd.c:511</a></div></div>
<div class="ttc" id="ahu__stuff_8c_html_aff39d864a6594bc5f4a5e365282e00fe"><div class="ttname"><a href="../../d3/dbb/hu__stuff_8c.html#aff39d864a6594bc5f4a5e365282e00fe">tail</a></div><div class="ttdeci">static int tail</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbb/hu__stuff_8c_source.html#l00479">hu_stuff.c:479</a></div></div>
<div class="ttc" id="ahush_8c_html_a3ddfa830342505fb06ef18baded22976"><div class="ttname"><a href="../../d6/d90/hush_8c.html#a3ddfa830342505fb06ef18baded22976">squirrel::moved_to</a></div><div class="ttdeci">int moved_to</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05678">ash.c:5678</a></div></div>
<div class="ttc" id="ahush_8c_html_a63573b8e4d6bd1efc2657355a72c032e"><div class="ttname"><a href="../../d6/d90/hush_8c.html#a63573b8e4d6bd1efc2657355a72c032e">indent</a></div><div class="ttdeci">#define indent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/hush_8c_source.html#l01258">hush.c:1258</a></div></div>
<div class="ttc" id="ahush_8c_html_a68a6fe9a6bebef00e2d95656549a9fc9"><div class="ttname"><a href="../../d6/d90/hush_8c.html#a68a6fe9a6bebef00e2d95656549a9fc9">squirrel::orig_fd</a></div><div class="ttdeci">int orig_fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05677">ash.c:5677</a></div></div>
<div class="ttc" id="ahush_8c_html_d2/d6c/structsquirrel"><div class="ttname"><a href="../../d6/d90/hush_8c.html#d2/d6c/structsquirrel">squirrel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l05676">ash.c:5676</a></div></div>
<div class="ttc" id="ahush_8c_html_dc/d76/structcommand"><div class="ttname"><a href="../../d6/d90/hush_8c.html#dc/d76/structcommand">command</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d09/command_8h_source.html#l00197">command.h:197</a></div></div>
<div class="ttc" id="ahypot_8c_html_a21bf7addc3b6db27d985b468ccaf0076"><div class="ttname"><a href="../../d1/db2/hypot_8c.html#a21bf7addc3b6db27d985b468ccaf0076">sq</a></div><div class="ttdeci">static void sq(double_t *hi, double_t *lo, double x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db2/hypot_8c_source.html#l00011">hypot.c:11</a></div></div>
<div class="ttc" id="ainclude_2ansi__stdlib_8h_html_a3ab230aa1fbe4b7e1694e678ed275af1"><div class="ttname"><a href="../../d9/df8/include_2ansi__stdlib_8h.html#a3ab230aa1fbe4b7e1694e678ed275af1">qsort</a></div><div class="ttdeci">void qsort()</div></div>
<div class="ttc" id="ainclude_2ansi__stdlib_8h_html_ac54f53dc342019e8db34f4aa581a5792"><div class="ttname"><a href="../../d9/df8/include_2ansi__stdlib_8h.html#ac54f53dc342019e8db34f4aa581a5792">abort</a></div><div class="ttdeci">void abort()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd7/lib_8c_source.html#l00009">lib.c:9</a></div></div>
<div class="ttc" id="ainclude_2termios_8h_html_aa589fa770349629dbf3a029336dd85f5"><div class="ttname"><a href="../../d2/d4e/include_2termios_8h.html#aa589fa770349629dbf3a029336dd85f5">tcgetattr</a></div><div class="ttdeci">int tcgetattr(int, struct termios *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df9/tcgetattr_8c_source.html#l00004">tcgetattr.c:4</a></div></div>
<div class="ttc" id="ainclude_2termios_8h_html_aaa46283af4d7f1b245c66d27c49faf44"><div class="ttname"><a href="../../d2/d4e/include_2termios_8h.html#aaa46283af4d7f1b245c66d27c49faf44">tcsetattr</a></div><div class="ttdeci">int tcsetattr(int, int, const struct termios *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de8/tcsetattr_8c_source.html#l00005">tcsetattr.c:5</a></div></div>
<div class="ttc" id="aip_8h_html_d5/d5b/structip"><div class="ttname"><a href="../../da/d2f/ip_8h.html#d5/d5b/structip">ip</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2f/ip_8h_source.html#l00043">ip.h:43</a></div></div>
<div class="ttc" id="aiperl_8c_html_a6c8ec3c3e77241328358d43697f6f840"><div class="ttname"><a href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a></div><div class="ttdeci">static int first</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d00/iperl_8c_source.html#l00010">iperl.c:10</a></div></div>
<div class="ttc" id="aiplink_8c_html_aec4225eba42962b83346996c2300ae4e"><div class="ttname"><a href="../../dc/de1/iplink_8c.html#aec4225eba42962b83346996c2300ae4e">do_set</a></div><div class="ttdeci">static int do_set(char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/iplink_8c_source.html#l00245">iplink.c:245</a></div></div>
<div class="ttc" id="ajobs_8c_html_a30c3edb2b02399d64b5e8eaaf7fe40e6"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a30c3edb2b02399d64b5e8eaaf7fe40e6">tcgetpgrp</a></div><div class="ttdeci">pid_t tcgetpgrp(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l00358">jobs.c:358</a></div></div>
<div class="ttc" id="ajobs_8c_html_a701bcb628c909e9932c9f53c133be6bf"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a701bcb628c909e9932c9f53c133be6bf">tcsetpgrp</a></div><div class="ttdeci">#define tcsetpgrp(fd, pgrp)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l00355">jobs.c:355</a></div></div>
<div class="ttc" id="ajobs_8c_html_a98276db28c5fb03624f84aabe134de90"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#a98276db28c5fb03624f84aabe134de90">job_signal_status</a></div><div class="ttdeci">static WAIT job_signal_status(int job)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l02813">jobs.c:2813</a></div></div>
<div class="ttc" id="ajobs_8c_html_ab9dc901cdc105f8060eafdc6301fe2de"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#ab9dc901cdc105f8060eafdc6301fe2de">set_tty_state</a></div><div class="ttdeci">int set_tty_state()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l02508">jobs.c:2508</a></div></div>
<div class="ttc" id="ajobs_8c_html_ad9fe5481268cb2aed5102ece6ef18bbb"><div class="ttname"><a href="../../df/d8e/jobs_8c.html#ad9fe5481268cb2aed5102ece6ef18bbb">shell_tty_info</a></div><div class="ttdeci">static TTYSTRUCT shell_tty_info</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8e/jobs_8c_source.html#l02416">jobs.c:2416</a></div></div>
<div class="ttc" id="ajobs_8h_html_a04629be7bde8f11cbf56e09e66a62dcc"><div class="ttname"><a href="../../d3/d3a/jobs_8h.html#a04629be7bde8f11cbf56e09e66a62dcc">fork</a></div><div class="ttdeci">pid_t fork()</div></div>
<div class="ttc" id="ajobs_8h_html_a744446ac24606c182bbd911772a04ca0"><div class="ttname"><a href="../../d3/d3a/jobs_8h.html#a744446ac24606c182bbd911772a04ca0">getpgrp</a></div><div class="ttdeci">pid_t getpgrp()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4d/getpgrp_8c_source.html#l00004">getpgrp.c:4</a></div></div>
<div class="ttc" id="ajobs_8h_html_add1dc6545057b7f1c7f91352536fb060"><div class="ttname"><a href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid</a></div><div class="ttdeci">pid_t getpid()</div></div>
<div class="ttc" id="aldstart_8c_html_ad847d936639f9d68db8792d4be7a79a1"><div class="ttname"><a href="../../d8/d34/ldstart_8c.html#ad847d936639f9d68db8792d4be7a79a1">_exit</a></div><div class="ttdeci">void _exit(int Code)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d34/ldstart_8c_source.html#l00028">ldstart.c:28</a></div></div>
<div class="ttc" id="alib_2readline_2posixtime_8h_html_d1/d1b/structtimeval"><div class="ttname"><a href="../../dc/d3d/lib_2readline_2posixtime_8h.html#d1/d1b/structtimeval">timeval</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbc/include_2posixtime_8h_source.html#l00044">posixtime.h:45</a></div></div>
<div class="ttc" id="alibbb_8h_html_a02b2cea12480132c204282d07978f959"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a02b2cea12480132c204282d07978f959">fputs</a></div><div class="ttdeci">#define fputs(s, stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00238">libbb.h:238</a></div></div>
<div class="ttc" id="alibbb_8h_html_a0b8e699e4dfd158acee3d6526fe671c2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a0b8e699e4dfd158acee3d6526fe671c2">putc</a></div><div class="ttdeci">#define putc(c, stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00225">libbb.h:225</a></div></div>
<div class="ttc" id="alibbb_8h_html_a10d406bcbbd961accf0b4a5be8500cc2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a10d406bcbbd961accf0b4a5be8500cc2">close_on_exec_on</a></div><div class="ttdeci">void close_on_exec_on(int fd) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6d/xfuncs_8c_source.html#l00044">xfuncs.c:44</a></div></div>
<div class="ttc" id="alibbb_8h_html_a2f7ceb642982f0aab3b8cdf1e2d008ca"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a2f7ceb642982f0aab3b8cdf1e2d008ca">ferror</a></div><div class="ttdeci">#define ferror(stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00245">libbb.h:245</a></div></div>
<div class="ttc" id="alibbb_8h_html_a3db1d3e3db557d4493cd4084bce8834c"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a3db1d3e3db557d4493cd4084bce8834c">isalnum</a></div><div class="ttdeci">#define isalnum(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02460">libbb.h:2460</a></div></div>
<div class="ttc" id="alibbb_8h_html_a406e6e7d1c51da582c1e82632b1f2bce"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a406e6e7d1c51da582c1e82632b1f2bce">xwrite</a></div><div class="ttdeci">void xwrite(int fd, const void *buf, size_t count) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00247">xfuncs_printf.c:247</a></div></div>
<div class="ttc" id="alibbb_8h_html_a427068bf1a37249b0a95ed1a4bebe70d"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a427068bf1a37249b0a95ed1a4bebe70d">endofname</a></div><div class="ttdeci">const char * endofname(const char *name) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dad/endofname_8c_source.html#l00017">endofname.c:17</a></div></div>
<div class="ttc" id="alibbb_8h_html_a44635e509c1985127803624f4a0b3e64"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a44635e509c1985127803624f4a0b3e64">sigaction_set</a></div><div class="ttdeci">int sigaction_set(int sig, const struct sigaction *act) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/busybox_2libbb_2signals_8c_source.html#l00022">signals.c:22</a></div></div>
<div class="ttc" id="alibbb_8h_html_a48fa7a14d70959378e8e0179bcd8aef5"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a48fa7a14d70959378e8e0179bcd8aef5">xmemdup</a></div><div class="ttdeci">void * xmemdup(const void *s, size_t n) FAST_FUNC RETURNS_MALLOC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00106">xfuncs_printf.c:106</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4e7c66a9217fd1d9691aba910654d2e2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4e7c66a9217fd1d9691aba910654d2e2">bb_dev_null</a></div><div class="ttdeci">#define bb_dev_null</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02273">libbb.h:2273</a></div></div>
<div class="ttc" id="alibbb_8h_html_a50bff3dbf83ecbd070954b228becba4e"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a50bff3dbf83ecbd070954b228becba4e">MAIN_EXTERNALLY_VISIBLE</a></div><div class="ttdeci">#define MAIN_EXTERNALLY_VISIBLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01500">libbb.h:1500</a></div></div>
<div class="ttc" id="alibbb_8h_html_a53290ac2df2384738b8769c76622f803"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a53290ac2df2384738b8769c76622f803">barrier</a></div><div class="ttdeci">#define barrier()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02299">libbb.h:2299</a></div></div>
<div class="ttc" id="alibbb_8h_html_a563a8bcdfd4a8c67dc22fae580195a71"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a563a8bcdfd4a8c67dc22fae580195a71">basename</a></div><div class="ttdeci">#define basename</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00040">libbb.h:40</a></div></div>
<div class="ttc" id="alibbb_8h_html_a5e5328ce4942c9f0978a9427b26fd73a"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a5e5328ce4942c9f0978a9427b26fd73a">bb_clk_tck</a></div><div class="ttdeci">unsigned bb_clk_tck(void) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d41/apps_2base_2busybox_2libbb_2sysconf_8c_source.html#l00027">sysconf.c:27</a></div></div>
<div class="ttc" id="alibbb_8h_html_a655274a64423dc76aeb9eb2ae117c2d3"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a655274a64423dc76aeb9eb2ae117c2d3">bb_parse_mode</a></div><div class="ttdeci">int bb_parse_mode(const char *s, unsigned cur_mode) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/parse__mode_8c_source.html#l00017">parse_mode.c:17</a></div></div>
<div class="ttc" id="alibbb_8h_html_a6a348efdbef0f748166f8a204b05ec0a"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a6a348efdbef0f748166f8a204b05ec0a">_exit_SUCCESS</a></div><div class="ttdeci">void _exit_SUCCESS(void) NORETURN FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6d/xfuncs_8c_source.html#l00432">xfuncs.c:432</a></div></div>
<div class="ttc" id="alibbb_8h_html_a88328fb97a5c6cf94ed1b7581602f569"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a88328fb97a5c6cf94ed1b7581602f569">get_script_content</a></div><div class="ttdeci">char * get_script_content(unsigned n) FAST_FUNC</div></div>
<div class="ttc" id="alibbb_8h_html_a89ec5ec9e0740df0a49184529997db64"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a89ec5ec9e0740df0a49184529997db64">BB_GLOBAL_CONST</a></div><div class="ttdeci">#define BB_GLOBAL_CONST</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00383">libbb.h:383</a></div></div>
<div class="ttc" id="alibbb_8h_html_a8e1240ef7e70d7d55a00ce3b75b26cb2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a8e1240ef7e70d7d55a00ce3b75b26cb2">concat_path_file</a></div><div class="ttdeci">char * concat_path_file(const char *path, const char *filename) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d14/concat__path__file_8c_source.html#l00018">concat_path_file.c:18</a></div></div>
<div class="ttc" id="alibbb_8h_html_a8f037f44db72dcde4db67b3cb5dee815"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a8f037f44db72dcde4db67b3cb5dee815">fflush_all</a></div><div class="ttdeci">int fflush_all(void) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00307">xfuncs_printf.c:307</a></div></div>
<div class="ttc" id="alibbb_8h_html_a94a607b4c69c9d6883ee67ee8d46aec4"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a94a607b4c69c9d6883ee67ee8d46aec4">xfunc_die</a></div><div class="ttdeci">void xfunc_die(void) NORETURN FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d42/xfunc__die_8c_source.html#l00016">xfunc_die.c:16</a></div></div>
<div class="ttc" id="alibbb_8h_html_a9698ea0b41ac5badbc1d64fb2fe0fd47"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a9698ea0b41ac5badbc1d64fb2fe0fd47">get_signum</a></div><div class="ttdeci">int get_signum(const char *name) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/u__signal__names_8c_source.html#l00152">u_signal_names.c:152</a></div></div>
<div class="ttc" id="alibbb_8h_html_a9744543d77c55ee34a4d600507794d00"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a9744543d77c55ee34a4d600507794d00">run_nofork_applet</a></div><div class="ttdeci">int run_nofork_applet(int applet_no, char **argv) FAST_FUNC</div></div>
<div class="ttc" id="alibbb_8h_html_a9e5609718f2d1fe5ead7714b3d45223b"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div><div class="ttdeci">void FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01427">libbb.h:1427</a></div></div>
<div class="ttc" id="alibbb_8h_html_aa9d080ff5d8f5d8a11af2b96168b13a6"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#aa9d080ff5d8f5d8a11af2b96168b13a6">xgettimeofday</a></div><div class="ttdeci">void xgettimeofday(struct timeval *tv) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00733">xfuncs_printf.c:733</a></div></div>
<div class="ttc" id="alibbb_8h_html_aae498fef9d264b5d4d6eab3ae8bf18b1"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#aae498fef9d264b5d4d6eab3ae8bf18b1">read_line_input</a></div><div class="ttdeci">#define read_line_input(state, prompt, command, maxsize)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01999">libbb.h:1999</a></div></div>
<div class="ttc" id="alibbb_8h_html_ab28e63149c482eda66860fdc469d0929"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ab28e63149c482eda66860fdc469d0929">get_signame</a></div><div class="ttdeci">const char * get_signame(int number) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/u__signal__names_8c_source.html#l00234">u_signal_names.c:234</a></div></div>
<div class="ttc" id="alibbb_8h_html_abee8e38e713314dce814d218fdd4224e"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#abee8e38e713314dce814d218fdd4224e">utoa</a></div><div class="ttdeci">char * utoa(unsigned n) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6d/xfuncs_8c_source.html#l00116">xfuncs.c:116</a></div></div>
<div class="ttc" id="alibbb_8h_html_ac0fb1532543612fda21fd93e91e58b65"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ac0fb1532543612fda21fd93e91e58b65">kill_main</a></div><div class="ttdeci">int kill_main(int argc, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d69/apps_2base_2busybox_2procps_2kill_8c_source.html#l00107">kill.c:107</a></div></div>
<div class="ttc" id="alibbb_8h_html_ac499c09b9f5c0b5566f96f26c4c079f9"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ac499c09b9f5c0b5566f96f26c4c079f9">sigprocmask2</a></div><div class="ttdeci">int sigprocmask2(int how, sigset_t *set) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/busybox_2libbb_2signals_8c_source.html#l00034">signals.c:34</a></div></div>
<div class="ttc" id="alibbb_8h_html_ac5a8e6b3da3579554a4a56124d9ca438"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ac5a8e6b3da3579554a4a56124d9ca438">bb_process_escape_sequence</a></div><div class="ttdeci">char bb_process_escape_sequence(const char **ptr) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d28/process__escape__sequence_8c_source.html#l00018">process_escape_sequence.c:18</a></div></div>
<div class="ttc" id="alibbb_8h_html_acb9185987af33e12308a33f722327010"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#acb9185987af33e12308a33f722327010">safe_strncpy</a></div><div class="ttdeci">char * safe_strncpy(char *dst, const char *src, size_t size) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db9/safe__strncpy_8c_source.html#l00012">safe_strncpy.c:12</a></div></div>
<div class="ttc" id="alibbb_8h_html_ad132052ee46a5de0e2cbcf6f3e40e49e"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ad132052ee46a5de0e2cbcf6f3e40e49e">safe_write</a></div><div class="ttdeci">ssize_t safe_write(int fd, const void *buf, size_t count) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/safe__write_8c_source.html#l00011">safe_write.c:11</a></div></div>
<div class="ttc" id="alibbb_8h_html_ad49994f8b56c9bd1080b2d0899cf0801"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ad49994f8b56c9bd1080b2d0899cf0801">sigprocmask_allsigs</a></div><div class="ttdeci">int sigprocmask_allsigs(int how) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/busybox_2libbb_2signals_8c_source.html#l00027">signals.c:27</a></div></div>
<div class="ttc" id="alibbb_8h_html_ad53b4a1026ef264bd6bf4b4219f76486"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ad53b4a1026ef264bd6bf4b4219f76486">nonblock_immune_read</a></div><div class="ttdeci">ssize_t nonblock_immune_read(int fd, void *buf, size_t count) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de6/read__printf_8c_source.html#l00048">read_printf.c:48</a></div></div>
<div class="ttc" id="alibbb_8h_html_ad8abad30153469959152fb2e11105502"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ad8abad30153469959152fb2e11105502">bb_default_path</a></div><div class="ttdeci">#define bb_default_path</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02285">libbb.h:2285</a></div></div>
<div class="ttc" id="alibbb_8h_html_adae9c0880ef4b6c635af9441eb3dcfbc"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#adae9c0880ef4b6c635af9441eb3dcfbc">run_noexec_applet_and_exit</a></div><div class="ttdeci">void run_noexec_applet_and_exit(int a, const char *name, char **argv) NORETURN FAST_FUNC</div></div>
<div class="ttc" id="alibbb_8h_html_adda54c033215173332478fed15ec2fa5"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#adda54c033215173332478fed15ec2fa5">bb_simple_error_msg</a></div><div class="ttdeci">void bb_simple_error_msg(const char *s) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db5/verror__msg_8c_source.html#l00207">verror_msg.c:207</a></div></div>
<div class="ttc" id="alibbb_8h_html_adebb97edb6719239f551a4318163a71e"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#adebb97edb6719239f551a4318163a71e">bb_got_signal</a></div><div class="ttdeci">smallint bb_got_signal</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/busybox_2libbb_2signals_8c_source.html#l00014">signals.c:14</a></div></div>
<div class="ttc" id="alibbb_8h_html_ae3c705adc31efb61b8a23829e028028e"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ae3c705adc31efb61b8a23829e028028e">LONE_DASH</a></div><div class="ttdeci">#define LONE_DASH(s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00937">libbb.h:937</a></div></div>
<div class="ttc" id="alibbb_8h_html_aefb5fe894e4d5f0e52d5853f99200d96"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a></div><div class="ttdeci">#define isdigit(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02447">libbb.h:2447</a></div></div>
<div class="ttc" id="alibbb_8h_html_af46900e10a7a4add55921df952a3309b"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#af46900e10a7a4add55921df952a3309b">find_applet_by_name</a></div><div class="ttdeci">int find_applet_by_name(const char *name) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6c/appletlib_8c_source.html#l00177">appletlib.c:177</a></div></div>
<div class="ttc" id="alibbb_8h_html_afdf3617bc90f082e6d0decbc4398f076"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#afdf3617bc90f082e6d0decbc4398f076">LONE_CHAR</a></div><div class="ttdeci">#define LONE_CHAR(s, c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00939">libbb.h:939</a></div></div>
<div class="ttc" id="alibc_2include_2setjmp_8h_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../db/d5e/libc_2include_2setjmp_8h.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5e/libc_2include_2setjmp_8h_source.html#l00032">setjmp.h:32</a></div></div>
<div class="ttc" id="alibc_2include_2setjmp_8h_html_da/db0/structjmp__buf"><div class="ttname"><a href="../../db/d5e/libc_2include_2setjmp_8h.html#da/db0/structjmp__buf">jmp_buf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5e/libc_2include_2setjmp_8h_source.html#l00006">setjmp.h:7</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_a024f43063003e753afc6cca1acd6e104"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#a024f43063003e753afc6cca1acd6e104">SIGCONT</a></div><div class="ttdeci">#define SIGCONT</div><div class="ttdoc">Continue if stopped.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00061">signal.h:61</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_a0e63521a64cc8bc2b91d36a87d32c9f8"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#a0e63521a64cc8bc2b91d36a87d32c9f8">SIGCHLD</a></div><div class="ttdeci">#define SIGCHLD</div><div class="ttdoc">Child stopped or terminated.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00058">signal.h:58</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_a136c64ec2d1306de745e39d6aee362ca"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#a136c64ec2d1306de745e39d6aee362ca">SIGHUP</a></div><div class="ttdeci">#define SIGHUP</div><div class="ttdoc">Hangup detected on controlling or death of controlling process.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00010">signal.h:10</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_a2c146e34a6b5a78dfba41cded3331181"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#a2c146e34a6b5a78dfba41cded3331181">SIGTTIN</a></div><div class="ttdeci">#define SIGTTIN</div><div class="ttdoc">Terminal input for background process.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00070">signal.h:70</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_a487309e3e9e0527535644115204a639a"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a></div><div class="ttdeci">#define SIGINT</div><div class="ttdoc">Interrupt from keyboard.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00013">signal.h:13</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_a57e9c8c5fa13bf86bc779a9f6f408b7c"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#a57e9c8c5fa13bf86bc779a9f6f408b7c">SIGPIPE</a></div><div class="ttdeci">#define SIGPIPE</div><div class="ttdoc">Broken pipe: write to pipe with no readers.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00046">signal.h:46</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_a62045b465be11891160d53c10861b16c"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#a62045b465be11891160d53c10861b16c">SIGQUIT</a></div><div class="ttdeci">#define SIGQUIT</div><div class="ttdoc">Quit from keyboard.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00016">signal.h:16</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_a682182a5e5f38fd61f4311501e9dac5d"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#a682182a5e5f38fd61f4311501e9dac5d">SIGTERM</a></div><div class="ttdeci">#define SIGTERM</div><div class="ttdoc">Termination signal.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00052">signal.h:52</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_a782864287613e2c5c030411fa9c5e9b1"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#a782864287613e2c5c030411fa9c5e9b1">SIGTTOU</a></div><div class="ttdeci">#define SIGTTOU</div><div class="ttdoc">Terminal output for background process.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00073">signal.h:73</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_abe65c086e01f0d286b7a785a7e3cdd1a"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#abe65c086e01f0d286b7a785a7e3cdd1a">SIGTSTP</a></div><div class="ttdeci">#define SIGTSTP</div><div class="ttdoc">Stop typed at terminal.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00067">signal.h:67</a></div></div>
<div class="ttc" id="alibc_2include_2sys_2wait_8h_html_a3b0bf87bfa87bef2f83452175a34bf2d"><div class="ttname"><a href="../../d1/d7b/libc_2include_2sys_2wait_8h.html#a3b0bf87bfa87bef2f83452175a34bf2d">waitpid</a></div><div class="ttdeci">pid_t waitpid(pid_t pid, int *wstatus, int options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df1/libc_2src_2std_2sys_2wait_8c_source.html#l00008">wait.c:8</a></div></div>
<div class="ttc" id="alocale_8h_html_a07c66689961056725d7f50231d740ba9"><div class="ttname"><a href="../../db/d9f/locale_8h.html#a07c66689961056725d7f50231d740ba9">LC_CTYPE</a></div><div class="ttdeci">#define LC_CTYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d9f/locale_8h_source.html#l00018">locale.h:18</a></div></div>
<div class="ttc" id="alocale_8h_html_a9cc5213b5dca4f8e48e64586ee444c33"><div class="ttname"><a href="../../db/d9f/locale_8h.html#a9cc5213b5dca4f8e48e64586ee444c33">LC_ALL</a></div><div class="ttdeci">#define LC_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d9f/locale_8h_source.html#l00024">locale.h:24</a></div></div>
<div class="ttc" id="amail_8c_html_a6943d6e2e83995c648644bc0a4d36f53"><div class="ttname"><a href="../../d7/d5b/mail_8c.html#a6943d6e2e83995c648644bc0a4d36f53">status</a></div><div class="ttdeci">#define status</div></div>
<div class="ttc" id="aman2html_8c_html_a687984f47d8cce148d1b914d2b79612a"><div class="ttname"><a href="../../d9/d84/man2html_8c.html#a687984f47d8cce148d1b914d2b79612a">EXIT_SUCCESS</a></div><div class="ttdeci">#define EXIT_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d84/man2html_8c_source.html#l00095">man2html.c:95</a></div></div>
<div class="ttc" id="aman2html_8c_html_ae96bbe3347b319ee7bdbd1f2e2ba9f5b"><div class="ttname"><a href="../../d9/d84/man2html_8c.html#ae96bbe3347b319ee7bdbd1f2e2ba9f5b">fname</a></div><div class="ttdeci">static char * fname</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d84/man2html_8c_source.html#l00298">man2html.c:298</a></div></div>
<div class="ttc" id="amath_8c_html_a6409d948329459455a2e2c41b1b0b650"><div class="ttname"><a href="../../d6/da3/math_8c.html#a6409d948329459455a2e2c41b1b0b650">arith</a></div><div class="ttdeci">arith_t FAST_FUNC arith(arith_state_t *math_state, const char *expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/math_8c_source.html#l00819">math.c:819</a></div></div>
<div class="ttc" id="amaxpath_8h_html_ac64541bdd81c961304b9babef1402640"><div class="ttname"><a href="../../d0/daa/maxpath_8h.html#ac64541bdd81c961304b9babef1402640">NAME_MAX</a></div><div class="ttdeci">#define NAME_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/maxpath_8h_source.html#l00067">maxpath.h:67</a></div></div>
<div class="ttc" id="amconf_8c_html_ae0d46a978d5cd6707411f276ad869b9c"><div class="ttname"><a href="../../d0/d43/mconf_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a></div><div class="ttdeci">pid_t pid</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/mconf_8c_source.html#l00450">mconf.c:450</a></div></div>
<div class="ttc" id="amempcpy_8c_html_a7ac7c0f43132e3acf013e0c71a58cdc9"><div class="ttname"><a href="../../d0/dfd/mempcpy_8c.html#a7ac7c0f43132e3acf013e0c71a58cdc9">mempcpy</a></div><div class="ttdeci">void * mempcpy(void *dest, const void *src, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dfd/mempcpy_8c_source.html#l00004">mempcpy.c:4</a></div></div>
<div class="ttc" id="amksignames_8c_html_ab83b88daaecc469d1edb90a527ab4a39"><div class="ttname"><a href="../../dc/da4/mksignames_8c.html#ab83b88daaecc469d1edb90a527ab4a39">NSIG</a></div><div class="ttdeci">#define NSIG</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da4/mksignames_8c_source.html#l00036">mksignames.c:36</a></div></div>
<div class="ttc" id="amultiboot_8h_html_a6de3a6d27a7e07942958b912d39792e6"><div class="ttname"><a href="../../d1/dc0/multiboot_8h.html#a6de3a6d27a7e07942958b912d39792e6">len</a></div><div class="ttdeci">multiboot_uint64_t len</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc0/multiboot_8h_source.html#l00002">multiboot.h:2</a></div></div>
<div class="ttc" id="amusl_2arch_2aarch64_2bits_2fcntl_8h_html_a025fad21a889c79f02ec53abe3526c32"><div class="ttname"><a href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#a025fad21a889c79f02ec53abe3526c32">F_GETFL</a></div><div class="ttdeci">#define F_GETFL</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h_source.html#l00025">fcntl.h:25</a></div></div>
<div class="ttc" id="amusl_2arch_2aarch64_2bits_2fcntl_8h_html_ab93a8621587aba90181efd7d3aeea67e"><div class="ttname"><a href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#ab93a8621587aba90181efd7d3aeea67e">F_DUPFD</a></div><div class="ttdeci">#define F_DUPFD</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h_source.html#l00022">fcntl.h:22</a></div></div>
<div class="ttc" id="amusl_2arch_2aarch64_2bits_2fcntl_8h_html_af2939853c650561d3495ed40f68f6249"><div class="ttname"><a href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#af2939853c650561d3495ed40f68f6249">F_SETFL</a></div><div class="ttdeci">#define F_SETFL</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h_source.html#l00026">fcntl.h:26</a></div></div>
<div class="ttc" id="amusl_2include_2fcntl_8h_html_aa138ddaa9bbe8b8ccca32ed43e75b72c"><div class="ttname"><a href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a></div><div class="ttdeci">int open(const char *, int,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/deb/open_8c_source.html#l00005">open.c:5</a></div></div>
<div class="ttc" id="amusl_2include_2fcntl_8h_html_aa7a55dad56032ce4c5a40eab1d9c8e01"><div class="ttname"><a href="../../d2/d44/musl_2include_2fcntl_8h.html#aa7a55dad56032ce4c5a40eab1d9c8e01">fcntl</a></div><div class="ttdeci">int fcntl(int, int,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de6/fcntl_8c_source.html#l00007">fcntl.c:7</a></div></div>
<div class="ttc" id="amusl_2include_2glob_8h_html_a6ae33d17ffd323f7cd4e2775d77f47c3"><div class="ttname"><a href="../../df/dc1/musl_2include_2glob_8h.html#a6ae33d17ffd323f7cd4e2775d77f47c3">globfree</a></div><div class="ttdeci">void globfree(glob_t *)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d00/musl_2src_2regex_2glob_8c_source.html#l00300">glob.c:300</a></div></div>
<div class="ttc" id="amusl_2include_2glob_8h_html_abd9ba3e5bd7a4767af2cd3dd98a2a64f"><div class="ttname"><a href="../../df/dc1/musl_2include_2glob_8h.html#abd9ba3e5bd7a4767af2cd3dd98a2a64f">glob_t::gl_pathv</a></div><div class="ttdeci">char ** gl_pathv</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc1/musl_2include_2glob_8h_source.html#l00016">glob.h:16</a></div></div>
<div class="ttc" id="amusl_2include_2glob_8h_html_ad44dea1f5a1fe6b65f989873605492d1"><div class="ttname"><a href="../../df/dc1/musl_2include_2glob_8h.html#ad44dea1f5a1fe6b65f989873605492d1">glob</a></div><div class="ttdeci">int glob(const char *__restrict, int, int(*)(const char *, int), glob_t *__restrict)</div></div>
<div class="ttc" id="amusl_2include_2glob_8h_html_aed760cf90fd4398067cdb679ebe60312"><div class="ttname"><a href="../../df/dc1/musl_2include_2glob_8h.html#aed760cf90fd4398067cdb679ebe60312">GLOB_NOMATCH</a></div><div class="ttdeci">#define GLOB_NOMATCH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc1/musl_2include_2glob_8h_source.html#l00039">glob.h:39</a></div></div>
<div class="ttc" id="amusl_2include_2glob_8h_html_d6/d23/structglob__t"><div class="ttname"><a href="../../df/dc1/musl_2include_2glob_8h.html#d6/d23/structglob__t">glob_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc1/musl_2include_2glob_8h_source.html#l00014">glob.h:14</a></div></div>
<div class="ttc" id="amusl_2include_2setjmp_8h_html_aaf56e20169cc5a6d5c1a968e24d04623"><div class="ttname"><a href="../../d5/d00/musl_2include_2setjmp_8h.html#aaf56e20169cc5a6d5c1a968e24d04623">longjmp</a></div><div class="ttdeci">_Noreturn void longjmp(jmp_buf, int)</div></div>
<div class="ttc" id="amusl_2include_2setjmp_8h_html_ac7cd296b63b31ab3d8cd447e40d0eedc"><div class="ttname"><a href="../../d5/d00/musl_2include_2setjmp_8h.html#ac7cd296b63b31ab3d8cd447e40d0eedc">setjmp</a></div><div class="ttdeci">#define setjmp</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d00/musl_2include_2setjmp_8h_source.html#l00041">setjmp.h:41</a></div></div>
<div class="ttc" id="amusl_2include_2signal_8h_html_a27d5dc561093d6243542e6a2465bc0f8"><div class="ttname"><a href="../../de/d2b/musl_2include_2signal_8h.html#a27d5dc561093d6243542e6a2465bc0f8">SIG_DFL</a></div><div class="ttdeci">#define SIG_DFL</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2b/musl_2include_2signal_8h_source.html#l00284">signal.h:284</a></div></div>
<div class="ttc" id="amusl_2include_2signal_8h_html_a6fc82cd60ac4b31003cf10983a4d5cde"><div class="ttname"><a href="../../de/d2b/musl_2include_2signal_8h.html#a6fc82cd60ac4b31003cf10983a4d5cde">signal</a></div><div class="ttdeci">void(*)(int) signal(int, void(*)(int))</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2b/musl_2include_2signal_8h_source.html#l00289">signal.h:289</a></div></div>
<div class="ttc" id="amusl_2include_2signal_8h_html_acf0e499b0ac946b366b4f47a3b3e8b9e"><div class="ttname"><a href="../../de/d2b/musl_2include_2signal_8h.html#acf0e499b0ac946b366b4f47a3b3e8b9e">SIG_IGN</a></div><div class="ttdeci">#define SIG_IGN</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2b/musl_2include_2signal_8h_source.html#l00285">signal.h:285</a></div></div>
<div class="ttc" id="amusl_2include_2sys_2wait_8h_html_a73ebb4027187aeb15c97a00f51591591"><div class="ttname"><a href="../../d7/d0e/musl_2include_2sys_2wait_8h.html#a73ebb4027187aeb15c97a00f51591591">WCOREDUMP</a></div><div class="ttdeci">#define WCOREDUMP(s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0e/musl_2include_2sys_2wait_8h_source.html#l00051">wait.h:51</a></div></div>
<div class="ttc" id="amusl_2src_2prng_2random_8c_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a></div><div class="ttdeci">static int j</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/musl_2src_2prng_2random_8c_source.html#l00024">random.c:24</a></div></div>
<div class="ttc" id="amusl_2src_2regex_2glob_8c_html_de/d90/structmatch"><div class="ttname"><a href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d00/musl_2src_2regex_2glob_8c_source.html#l00014">glob.c:15</a></div></div>
<div class="ttc" id="amusl_2src_2stdio_2setlinebuf_8c_html_a2e13e101d5a57cfccf1bab51f8768a5d"><div class="ttname"><a href="../../de/d10/musl_2src_2stdio_2setlinebuf_8c.html#a2e13e101d5a57cfccf1bab51f8768a5d">setlinebuf</a></div><div class="ttdeci">void setlinebuf(FILE *f)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d10/musl_2src_2stdio_2setlinebuf_8c_source.html#l00004">setlinebuf.c:4</a></div></div>
<div class="ttc" id="anamespaceDriver_html_ab729393050904fd1bdaf3625252f2e19"><div class="ttname"><a href="../../d1/d48/namespaceDriver.html#ab729393050904fd1bdaf3625252f2e19">Driver::void</a></div><div class="ttdeci">int void(Handle.InterruptCallback))(&amp;regs)</div></div>
<div class="ttc" id="anc_8c_html_aee95051bab9d52640b37995884ab6979"><div class="ttname"><a href="../../d9/dbf/nc_8c.html#aee95051bab9d52640b37995884ab6979">timeout</a></div><div class="ttdeci">static void timeout(int signum UNUSED_PARAM)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbf/nc_8c_source.html#l00113">nc.c:113</a></div></div>
<div class="ttc" id="andir_8h_html_a3a5031d0d62880cd74a956187d87876c"><div class="ttname"><a href="../../d5/d70/ndir_8h.html#a3a5031d0d62880cd74a956187d87876c">opendir</a></div><div class="ttdeci">DIR * opendir()</div></div>
<div class="ttc" id="andir_8h_html_a465842e71bfbc792d360b2c763786a03"><div class="ttname"><a href="../../d5/d70/ndir_8h.html#a465842e71bfbc792d360b2c763786a03">readdir</a></div><div class="ttdeci">struct direct * readdir()</div></div>
<div class="ttc" id="andir_8h_html_a7f1547bdd6ef6a5deb4cf679772b8302"><div class="ttname"><a href="../../d5/d70/ndir_8h.html#a7f1547bdd6ef6a5deb4cf679772b8302">closedir</a></div><div class="ttdeci">void closedir()</div></div>
<div class="ttc" id="andir_8h_html_dd/dfe/structDIR"><div class="ttname"><a href="../../d5/d70/ndir_8h.html#dd/dfe/structDIR">DIR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d70/ndir_8h_source.html#l00038">ndir.h:38</a></div></div>
<div class="ttc" id="anmeter_8c_html_a6b9d817d08c1417f5c533eb8ad775312"><div class="ttname"><a href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a></div><div class="ttdeci">char opt</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcd/nmeter_8c_source.html#l00626">nmeter.c:626</a></div></div>
<div class="ttc" id="anmeter_8c_html_a9f42c0960c4e20484468e09947a3f876"><div class="ttname"><a href="../../d4/dcd/nmeter_8c.html#a9f42c0960c4e20484468e09947a3f876">outbuf</a></div><div class="ttdeci">#define outbuf</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcd/nmeter_8c_source.html#l00114">nmeter.c:114</a></div></div>
<div class="ttc" id="anojobs_8c_html_ac8c6f4edd72509256c94b90c17c95092"><div class="ttname"><a href="../../d8/d8d/nojobs_8c.html#ac8c6f4edd72509256c94b90c17c95092">killpg</a></div><div class="ttdeci">#define killpg(pg, sig)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/nojobs_8c_source.html#l00057">nojobs.c:57</a></div></div>
<div class="ttc" id="aoslib_8c_html_a4ce97c88892c43f0e127dd3a6dc54b96"><div class="ttname"><a href="../../d9/d9c/oslib_8c.html#a4ce97c88892c43f0e127dd3a6dc54b96">dup2</a></div><div class="ttdeci">int dup2(int fd1, int fd2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9c/oslib_8c_source.html#l00088">oslib.c:88</a></div></div>
<div class="ttc" id="ap__spec_8h_html_a61be60bd0fc3c2a1b8637d2bee8ea317a3961740aa293a50c701d278225f7050a"><div class="ttname"><a href="../../d2/d78/p__spec_8h.html#a61be60bd0fc3c2a1b8637d2bee8ea317a3961740aa293a50c701d278225f7050a">top</a></div><div class="ttdeci">@ top</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d78/p__spec_8h_source.html#l00217">p_spec.h:217</a></div></div>
<div class="ttc" id="apathchk_8c_html_ac7a701bce03d77bad6b57003d0fe73df"><div class="ttname"><a href="../../dc/dd1/pathchk_8c.html#ac7a701bce03d77bad6b57003d0fe73df">xstrdup</a></div><div class="ttdeci">static char * xstrdup(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd1/pathchk_8c_source.html#l00258">pathchk.c:258</a></div></div>
<div class="ttc" id="apaths_8h_html_a9c4e239f8d90361c0337784e238fa6df"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a9c4e239f8d90361c0337784e238fa6df">_PATH_TTY</a></div><div class="ttdeci">#define _PATH_TTY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df2/paths_8h_source.html#l00020">paths.h:20</a></div></div>
<div class="ttc" id="aplatform_8c_html_af1b4f0dac9021fe09231221cf0c6d9e3"><div class="ttname"><a href="../../dc/d3f/platform_8c.html#af1b4f0dac9021fe09231221cf0c6d9e3">stpncpy</a></div><div class="ttdeci">char *FAST_FUNC stpncpy(char *p, const char *to_add, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3f/platform_8c_source.html#l00170">platform.c:170</a></div></div>
<div class="ttc" id="aplatform_8h_html_a031e405077a475ca789f91a86b0ca9ed"><div class="ttname"><a href="../../de/d03/platform_8h.html#a031e405077a475ca789f91a86b0ca9ed">DEV_FD_PREFIX</a></div><div class="ttdeci">#define DEV_FD_PREFIX</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00433">platform.h:433</a></div></div>
<div class="ttc" id="aplatform_8h_html_a1b173d22e57d9395897acbd8de62d505"><div class="ttname"><a href="../../de/d03/platform_8h.html#a1b173d22e57d9395897acbd8de62d505">NOINLINE</a></div><div class="ttdeci">#define NOINLINE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00085">platform.h:85</a></div></div>
<div class="ttc" id="aplatform_8h_html_a32dce3380228f1a23cdc1f784263762b"><div class="ttname"><a href="../../de/d03/platform_8h.html#a32dce3380228f1a23cdc1f784263762b">UNUSED_PARAM</a></div><div class="ttdeci">#define UNUSED_PARAM</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00050">platform.h:50</a></div></div>
<div class="ttc" id="aplatform_8h_html_a58820235b1f9fd1fab6f64ceb375f893"><div class="ttname"><a href="../../de/d03/platform_8h.html#a58820235b1f9fd1fab6f64ceb375f893">bb_unreachable</a></div><div class="ttdeci">#define bb_unreachable(altcode)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00056">platform.h:56</a></div></div>
<div class="ttc" id="aplatform_8h_html_a64ca60148755cc31a03b9bb0a44aafc3"><div class="ttname"><a href="../../de/d03/platform_8h.html#a64ca60148755cc31a03b9bb0a44aafc3">smalluint</a></div><div class="ttdeci">unsigned smalluint</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00290">platform.h:290</a></div></div>
<div class="ttc" id="aplatform_8h_html_aa1728270d73c5d1598de1fd691762eb1"><div class="ttname"><a href="../../de/d03/platform_8h.html#aa1728270d73c5d1598de1fd691762eb1">NORETURN</a></div><div class="ttdeci">#define NORETURN</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00051">platform.h:51</a></div></div>
<div class="ttc" id="aplatform_8h_html_aa1dec568e79152c892dcf63f445cbd7a"><div class="ttname"><a href="../../de/d03/platform_8h.html#aa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a></div><div class="ttdeci">#define ALWAYS_INLINE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00084">platform.h:84</a></div></div>
<div class="ttc" id="aplatform_8h_html_ad05b39cab98c2ea86551b631e839efbf"><div class="ttname"><a href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a></div><div class="ttdeci">int smallint</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00289">platform.h:289</a></div></div>
<div class="ttc" id="aplatform_8h_html_ae3c75c78b327ce2fb4a176530e9fc2a2"><div class="ttname"><a href="../../de/d03/platform_8h.html#ae3c75c78b327ce2fb4a176530e9fc2a2">fdprintf</a></div><div class="ttdeci">#define fdprintf</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00334">platform.h:334</a></div></div>
<div class="ttc" id="apleval_8c_html_d7/deb/structst"><div class="ttname"><a href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d63/pleval_8c_source.html#l00026">pleval.c:26</a></div></div>
<div class="ttc" id="aposix__spawn_8c_html_d8/d08/structargs"><div class="ttname"><a href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d51/mq__notify_8c_source.html#l00010">mq_notify.c:10</a></div></div>
<div class="ttc" id="aposixwait_8h_html_aecac6945e3b08baa2602557c684d6bfe"><div class="ttname"><a href="../../d9/dab/posixwait_8h.html#aecac6945e3b08baa2602557c684d6bfe">WUNTRACED</a></div><div class="ttdeci">#define WUNTRACED</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dab/posixwait_8h_source.html#l00048">posixwait.h:48</a></div></div>
<div class="ttc" id="aposixwait_8h_html_afa288d86b242c3005425a9c0f1682544"><div class="ttname"><a href="../../d9/dab/posixwait_8h.html#afa288d86b242c3005425a9c0f1682544">WNOHANG</a></div><div class="ttdeci">#define WNOHANG</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dab/posixwait_8h_source.html#l00047">posixwait.h:47</a></div></div>
<div class="ttc" id="aproto_8c_html_ae40354a1051342eb5a9db005715dcfa9"><div class="ttname"><a href="../../dc/d3d/proto_8c.html#ae40354a1051342eb5a9db005715dcfa9">idx</a></div><div class="ttdeci">static int idx</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3d/proto_8c_source.html#l00006">proto.c:6</a></div></div>
<div class="ttc" id="aputenv_8c_html_a8a382cc6123c7cf09a144e28fdfe5bc1"><div class="ttname"><a href="../../df/def/putenv_8c.html#a8a382cc6123c7cf09a144e28fdfe5bc1">putenv</a></div><div class="ttdeci">int putenv(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/def/putenv_8c_source.html#l00041">putenv.c:41</a></div></div>
<div class="ttc" id="apwd_8h_html_afa7bb51f592e9199dc776ccc763352a7"><div class="ttname"><a href="../../d9/dc9/pwd_8h.html#afa7bb51f592e9199dc776ccc763352a7">passwd::pw_dir</a></div><div class="ttdeci">char * pw_dir</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc9/pwd_8h_source.html#l00026">pwd.h:26</a></div></div>
<div class="ttc" id="apwd_8h_html_d6/d85/structpasswd"><div class="ttname"><a href="../../d9/dc9/pwd_8h.html#d6/d85/structpasswd">passwd</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc9/pwd_8h_source.html#l00020">pwd.h:20</a></div></div>
<div class="ttc" id="apwd___8h_html_afa6183bc8f20fc62f2e63821d93b8ff1"><div class="ttname"><a href="../../d1/dd6/pwd___8h.html#afa6183bc8f20fc62f2e63821d93b8ff1">getpwnam</a></div><div class="ttdeci">#define getpwnam</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dd6/pwd___8h_source.html#l00038">pwd_.h:38</a></div></div>
<div class="ttc" id="areadprofile_8c_html_a2f905a9c4868f5f248b12d584a78dfbd"><div class="ttname"><a href="../../da/d18/readprofile_8c.html#a2f905a9c4868f5f248b12d584a78dfbd">next</a></div><div class="ttdeci">#define next</div></div>
<div class="ttc" id="arl_8c_html_ad5e1c16213bbee2d5e8cc363309f418c"><div class="ttname"><a href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a></div><div class="ttdeci">int optind</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dee/musl_2src_2misc_2getopt_8c_source.html#l00011">getopt.c:11</a></div></div>
<div class="ttc" id="arlconf_8h_html_a09946416f97c38266159c647ddacefb9"><div class="ttname"><a href="../../dc/dbe/rlconf_8h.html#a09946416f97c38266159c647ddacefb9">VI_MODE</a></div><div class="ttdeci">#define VI_MODE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbe/rlconf_8h_source.html#l00026">rlconf.h:26</a></div></div>
<div class="ttc" id="arun__parts_8c_html_a6e357f839ebe13390815f0b749845972"><div class="ttname"><a href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a></div><div class="ttdeci">#define cmd</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d6d/run__parts_8c_source.html#l00100">run_parts.c:100</a></div></div>
<div class="ttc" id="arun__parts_8c_html_aebb430e97b99bf93dae6e06780fb7ab9"><div class="ttname"><a href="../../d0/d6d/run__parts_8c.html#aebb430e97b99bf93dae6e06780fb7ab9">act</a></div><div class="ttdeci">static int FAST_FUNC act(struct recursive_state *state, const char *file, struct stat *statbuf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d6d/run__parts_8c_source.html#l00145">run_parts.c:145</a></div></div>
<div class="ttc" id="arunsv_8c_html_ad45ef284071e5bd5627127837e94bc27"><div class="ttname"><a href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a></div><div class="ttdeci">#define dir</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dde/runsv_8c_source.html#l00121">runsv.c:121</a></div></div>
<div class="ttc" id="arunsvdir_8c_html_a5fda060af3f4608c7053b8ab9bd7fdd7"><div class="ttname"><a href="../../d1/d23/runsvdir_8c.html#a5fda060af3f4608c7053b8ab9bd7fdd7">sv</a></div><div class="ttdeci">#define sv</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d23/runsvdir_8c_source.html#l00089">runsvdir.c:89</a></div></div>
<div class="ttc" id="asearch_8h_html_d3/d96/structentry"><div class="ttname"><a href="../../d9/d85/search_8h.html#d3/d96/structentry">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00016">search.h:16</a></div></div>
<div class="ttc" id="asetfiles_8c_html_a664f27beea6c9e79a7b11a701f4ae054"><div class="ttname"><a href="../../d3/d31/setfiles_8c.html#a664f27beea6c9e79a7b11a701f4ae054">match</a></div><div class="ttdeci">static int match(const char *name, struct stat *sb, char **con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/setfiles_8c_source.html#l00233">setfiles.c:233</a></div></div>
<div class="ttc" id="ashell__common_8c_html_a1becfde5c4560030cba5f6e79ecdb74b"><div class="ttname"><a href="../../dd/dc1/shell__common_8c.html#a1becfde5c4560030cba5f6e79ecdb74b">shell_builtin_read</a></div><div class="ttdeci">const char *FAST_FUNC shell_builtin_read(struct builtin_read_params *params)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc1/shell__common_8c_source.html#l00036">shell_common.c:36</a></div></div>
<div class="ttc" id="ashell__common_8c_html_a5b1772e89541da8a1a8948a94c659518"><div class="ttname"><a href="../../dd/dc1/shell__common_8c.html#a5b1772e89541da8a1a8948a94c659518">shell_builtin_ulimit</a></div><div class="ttdeci">int FAST_FUNC shell_builtin_ulimit(char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc1/shell__common_8c_source.html#l00529">shell_common.c:529</a></div></div>
<div class="ttc" id="ashell__common_8h_html"><div class="ttname"><a href="../../d3/de6/shell__common_8h.html">shell_common.h</a></div></div>
<div class="ttc" id="ashell__common_8h_html_a70226c021572a6eca0c9b0b49e2e4a33a2673ced02edd17222cc83295210bd34f"><div class="ttname"><a href="../../d3/de6/shell__common_8h.html#a70226c021572a6eca0c9b0b49e2e4a33a2673ced02edd17222cc83295210bd34f">BUILTIN_READ_RAW</a></div><div class="ttdeci">@ BUILTIN_READ_RAW</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00044">shell_common.h:44</a></div></div>
<div class="ttc" id="ashell__common_8h_html_a70226c021572a6eca0c9b0b49e2e4a33a2c107762984bd41e98f09e5abecab217"><div class="ttname"><a href="../../d3/de6/shell__common_8h.html#a70226c021572a6eca0c9b0b49e2e4a33a2c107762984bd41e98f09e5abecab217">BUILTIN_READ_SILENT</a></div><div class="ttdeci">@ BUILTIN_READ_SILENT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00043">shell_common.h:43</a></div></div>
<div class="ttc" id="ashell__common_8h_html_a784a5162f09c72f5889b012596306bfb"><div class="ttname"><a href="../../d3/de6/shell__common_8h.html#a784a5162f09c72f5889b012596306bfb">defifs</a></div><div class="ttdeci">#define defifs</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00025">shell_common.h:25</a></div></div>
<div class="ttc" id="asig_8c_html_a011fc3b4395063b580099bf602135a22"><div class="ttname"><a href="../../da/d12/sig_8c.html#a011fc3b4395063b580099bf602135a22">sigprocmask</a></div><div class="ttdeci">sigprocmask(int operation, int *newset, int *oldset)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d12/sig_8c_source.html#l00762">sig.c:762</a></div></div>
<div class="ttc" id="asig_8h_html_a37750b78b7ae75fe02ad26e70f6cc845"><div class="ttname"><a href="../../de/d62/sig_8h.html#a37750b78b7ae75fe02ad26e70f6cc845">SIG_SETMASK</a></div><div class="ttdeci">#define SIG_SETMASK</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d62/sig_8h_source.html#l00059">sig.h:59</a></div></div>
<div class="ttc" id="asigfillset_8c_html_a88d7bbc77ea1569ee21c90db549ea023"><div class="ttname"><a href="../../d1/d5e/sigfillset_8c.html#a88d7bbc77ea1569ee21c90db549ea023">sigfillset</a></div><div class="ttdeci">int sigfillset(sigset_t *set)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5e/sigfillset_8c_source.html#l00004">sigfillset.c:4</a></div></div>
<div class="ttc" id="asigset__t_8h_html_a9140a5882f847f67b8155c759ac6aa05"><div class="ttname"><a href="../../d8/d90/sigset__t_8h.html#a9140a5882f847f67b8155c759ac6aa05">sigset_t</a></div><div class="ttdeci">unsigned long sigset_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d90/sigset__t_8h_source.html#l00004">sigset_t.h:4</a></div></div>
<div class="ttc" id="asigsuspend_8c_html_ae5f92586ad50092a7813465eeef792c0"><div class="ttname"><a href="../../dd/df2/sigsuspend_8c.html#ae5f92586ad50092a7813465eeef792c0">sigsuspend</a></div><div class="ttdeci">int sigsuspend(const sigset_t *mask)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df2/sigsuspend_8c_source.html#l00004">sigsuspend.c:4</a></div></div>
<div class="ttc" id="asm__loop_8c_html_ac27eda88ff3c79f2d9f14fb5c682c418"><div class="ttname"><a href="../../db/dd4/sm__loop_8c.html#ac27eda88ff3c79f2d9f14fb5c682c418">vp</a></div><div class="ttdeci">INT * vp</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd4/sm__loop_8c_source.html#l00384">sm_loop.c:384</a></div></div>
<div class="ttc" id="asm__loop_8c_html_acb906433e1289aa1c251dc5057746a88"><div class="ttname"><a href="../../db/dd4/sm__loop_8c.html#acb906433e1289aa1c251dc5057746a88">val</a></div><div class="ttdeci">INT val</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd4/sm__loop_8c_source.html#l00387">sm_loop.c:385</a></div></div>
<div class="ttc" id="asm__loop_8c_html_aeca4af21addf3ecee5f37bd8f75d1950"><div class="ttname"><a href="../../db/dd4/sm__loop_8c.html#aeca4af21addf3ecee5f37bd8f75d1950">pattern</a></div><div class="ttdeci">int CHAR * pattern</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd4/sm__loop_8c_source.html#l00040">sm_loop.c:40</a></div></div>
<div class="ttc" id="astart__stop__daemon_8c_html_a1d4bc184faa8b248bbbb7655c8a36917"><div class="ttname"><a href="../../dd/d8d/start__stop__daemon_8c.html#a1d4bc184faa8b248bbbb7655c8a36917">check</a></div><div class="ttdeci">static void check(int pid)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d8d/start__stop__daemon_8c_source.html#l00257">start_stop_daemon.c:257</a></div></div>
<div class="ttc" id="astart__stop__daemon_8c_html_a72640e2782214980b146a98d83765c82"><div class="ttname"><a href="../../dd/d8d/start__stop__daemon_8c.html#a72640e2782214980b146a98d83765c82">cmdname</a></div><div class="ttdeci">#define cmdname</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d8d/start__stop__daemon_8c_source.html#l00166">start_stop_daemon.c:166</a></div></div>
<div class="ttc" id="astdc_8h_html_a9d373a9b65ff25b2db84c07394e1c212"><div class="ttname"><a href="../../d9/de8/stdc_8h.html#a9d373a9b65ff25b2db84c07394e1c212">__attribute__</a></div><div class="ttdeci">#define __attribute__(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de8/stdc_8h_source.html#l00071">stdc.h:71</a></div></div>
<div class="ttc" id="astrsignal_8c_html_ad647aebab60b282ad59755747a1a9d78"><div class="ttname"><a href="../../dc/d7a/strsignal_8c.html#ad647aebab60b282ad59755747a1a9d78">strsignal</a></div><div class="ttdeci">char * strsignal(int signum)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/strsignal_8c_source.html#l00116">strsignal.c:116</a></div></div>
<div class="ttc" id="astrtoimax_8c_html_a2b7c0b217d9ec9df7042018b3eeb5e40"><div class="ttname"><a href="../../dd/d81/strtoimax_8c.html#a2b7c0b217d9ec9df7042018b3eeb5e40">verify</a></div><div class="ttdeci">#define verify(name, assertion)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d81/strtoimax_8c_source.html#l00042">strtoimax.c:42</a></div></div>
<div class="ttc" id="astrtok__r_8c_html_abf7949e9b8a6fe0db9f4422eb256104e"><div class="ttname"><a href="../../d5/db2/strtok__r_8c.html#abf7949e9b8a6fe0db9f4422eb256104e">strtok_r</a></div><div class="ttdeci">char * strtok_r(char *restrict s, const char *restrict sep, char **restrict p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db2/strtok__r_8c_source.html#l00003">strtok_r.c:3</a></div></div>
<div class="ttc" id="astructbuiltin__read__params_html"><div class="ttname"><a href="../../d8/dc3/structbuiltin__read__params.html">builtin_read_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00031">shell_common.h:31</a></div></div>
<div class="ttc" id="astructbuiltin__read__params_html_a1a716920ba53f61336f7f1a7f1410179"><div class="ttname"><a href="../../d8/dc3/structbuiltin__read__params.html#a1a716920ba53f61336f7f1a7f1410179">builtin_read_params::argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00034">shell_common.h:34</a></div></div>
<div class="ttc" id="astructbuiltin__read__params_html_a1ecc6da307966b913d79e143b34c1ed4"><div class="ttname"><a href="../../d8/dc3/structbuiltin__read__params.html#a1ecc6da307966b913d79e143b34c1ed4">builtin_read_params::opt_u</a></div><div class="ttdeci">const char * opt_u</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00039">shell_common.h:39</a></div></div>
<div class="ttc" id="astructbuiltin__read__params_html_a497c1a2a4f093c366ac208c598cb9cbc"><div class="ttname"><a href="../../d8/dc3/structbuiltin__read__params.html#a497c1a2a4f093c366ac208c598cb9cbc">builtin_read_params::opt_p</a></div><div class="ttdeci">const char * opt_p</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00037">shell_common.h:37</a></div></div>
<div class="ttc" id="astructbuiltin__read__params_html_a6f68bd48713412a5060dcafb76826d7a"><div class="ttname"><a href="../../d8/dc3/structbuiltin__read__params.html#a6f68bd48713412a5060dcafb76826d7a">builtin_read_params::setvar</a></div><div class="ttdeci">void FAST_FUNC(* setvar)(const char *name, const char *val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00033">shell_common.h:33</a></div></div>
<div class="ttc" id="astructbuiltin__read__params_html_a92fd183eb0b862aa790170a32448a3e1"><div class="ttname"><a href="../../d8/dc3/structbuiltin__read__params.html#a92fd183eb0b862aa790170a32448a3e1">builtin_read_params::read_flags</a></div><div class="ttdeci">int read_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00032">shell_common.h:32</a></div></div>
<div class="ttc" id="astructbuiltin__read__params_html_a9370219cf1cded6a705a4683df9cbc16"><div class="ttname"><a href="../../d8/dc3/structbuiltin__read__params.html#a9370219cf1cded6a705a4683df9cbc16">builtin_read_params::ifs</a></div><div class="ttdeci">const char * ifs</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00035">shell_common.h:35</a></div></div>
<div class="ttc" id="astructbuiltin__read__params_html_ac446818b5a3c0a4edd96b2bd42b9d37b"><div class="ttname"><a href="../../d8/dc3/structbuiltin__read__params.html#ac446818b5a3c0a4edd96b2bd42b9d37b">builtin_read_params::opt_n</a></div><div class="ttdeci">const char * opt_n</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00036">shell_common.h:36</a></div></div>
<div class="ttc" id="astructbuiltin__read__params_html_aecf373cdd6f18fafdd069c95e162495c"><div class="ttname"><a href="../../d8/dc3/structbuiltin__read__params.html#aecf373cdd6f18fafdd069c95e162495c">builtin_read_params::opt_t</a></div><div class="ttdeci">const char * opt_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00038">shell_common.h:38</a></div></div>
<div class="ttc" id="astructbuiltin__read__params_html_aef9a79823317451fd14148c812517f15"><div class="ttname"><a href="../../d8/dc3/structbuiltin__read__params.html#aef9a79823317451fd14148c812517f15">builtin_read_params::opt_d</a></div><div class="ttdeci">const char * opt_d</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/shell__common_8h_source.html#l00040">shell_common.h:40</a></div></div>
<div class="ttc" id="astructdebug_html"><div class="ttname"><a href="../../d6/d66/structdebug.html">debug</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/dynlink_8c_source.html#l00048">dynlink.c:48</a></div></div>
<div class="ttc" id="asvlogd_8c_html_a80e4f7e9bf963c8bf4982cee5bf830bb"><div class="ttname"><a href="../../d4/d7c/svlogd_8c.html#a80e4f7e9bf963c8bf4982cee5bf830bb">repl</a></div><div class="ttdeci">#define repl</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7c/svlogd_8c_source.html#l00238">svlogd.c:238</a></div></div>
<div class="ttc" id="atermcap_8c_html_dd/da2/structbuffer"><div class="ttname"><a href="../../d6/dc6/termcap_8c.html#dd/da2/structbuffer">buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc6/termcap_8c_source.html#l00384">termcap.c:385</a></div></div>
<div class="ttc" id="atgmath_8h_html_afd8bf2ee8004f952446a6df0cbec3dc4"><div class="ttname"><a href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a></div><div class="ttdeci">#define exp(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d10/tgmath_8h_source.html#l00228">tgmath.h:228</a></div></div>
<div class="ttc" id="atimes_8h_html"><div class="ttname"><a href="../../d3/d15/times_8h.html">times.h</a></div></div>
<div class="ttc" id="atimes_8h_html_d8/d15/structtms"><div class="ttname"><a href="../../d3/d15/times_8h.html#d8/d15/structtms">tms</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5b/systimes_8h_source.html#l00038">systimes.h:39</a></div></div>
<div class="ttc" id="atls__aesgcm_8c_html_a1cb503ddd20ff3cf9588d2b5abd202d8"><div class="ttname"><a href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a></div><div class="ttdeci">#define l</div></div>
<div class="ttc" id="atsearch_8h_html_a0f2e446d6c6f0ba6663e8d1a52bfc44e"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#a0f2e446d6c6f0ba6663e8d1a52bfc44e">node::nfile</a></div><div class="ttdeci">struct nfile nfile</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:1006</a></div></div>
<div class="ttc" id="atsearch_8h_html_a610572f584b8f6537e718eda9b1034cc"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#a610572f584b8f6537e718eda9b1034cc">node::nnot</a></div><div class="ttdeci">struct nnot nnot</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:1009</a></div></div>
<div class="ttc" id="atsearch_8h_html_a658b42e6c528c24e45756339b1a0e41f"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#a658b42e6c528c24e45756339b1a0e41f">node::nfor</a></div><div class="ttdeci">struct nfor nfor</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:1001</a></div></div>
<div class="ttc" id="atsearch_8h_html_a7a61c365acd3f3a72842a12e157184bb"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#a7a61c365acd3f3a72842a12e157184bb">node::ncase</a></div><div class="ttdeci">struct ncase ncase</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:1002</a></div></div>
<div class="ttc" id="atsearch_8h_html_a815ab299535b0a354240257a5cdeee31"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#a815ab299535b0a354240257a5cdeee31">node::narg</a></div><div class="ttdeci">struct narg narg</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:1005</a></div></div>
<div class="ttc" id="atsearch_8h_html_aa3e8aa83f864292b5a01210f4453fcc0"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#aa3e8aa83f864292b5a01210f4453fcc0">node::next</a></div><div class="ttdeci">struct node * next</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d83/insque_8c_source.html#l00004">insque.c:4</a></div></div>
<div class="ttc" id="atsearch_8h_html_aaa8a68ca9d46985bd22f5ed5eab945e2"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#aaa8a68ca9d46985bd22f5ed5eab945e2">node::nclist</a></div><div class="ttdeci">struct nclist nclist</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:1003</a></div></div>
<div class="ttc" id="atsearch_8h_html_aafb86ba1e51c3113c513a03d9588ca71"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#aafb86ba1e51c3113c513a03d9588ca71">node::nhere</a></div><div class="ttdeci">struct nhere nhere</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:1008</a></div></div>
<div class="ttc" id="atsearch_8h_html_ab10df406e71898874813b7ec63936c70"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#ab10df406e71898874813b7ec63936c70">node::ndup</a></div><div class="ttdeci">struct ndup ndup</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:1007</a></div></div>
<div class="ttc" id="atsearch_8h_html_ab8fdc0857530d2a1234b79ac86f1da41"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#ab8fdc0857530d2a1234b79ac86f1da41">node::npipe</a></div><div class="ttdeci">struct npipe npipe</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:997</a></div></div>
<div class="ttc" id="atsearch_8h_html_ae26db6b787cfb7d30161158d5a421256"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#ae26db6b787cfb7d30161158d5a421256">node::nredir</a></div><div class="ttdeci">struct nredir nredir</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:998</a></div></div>
<div class="ttc" id="atsearch_8h_html_ae9eca4538af3d4f6446cb4b1440c760e"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#ae9eca4538af3d4f6446cb4b1440c760e">node::nbinary</a></div><div class="ttdeci">struct nbinary nbinary</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:999</a></div></div>
<div class="ttc" id="atsearch_8h_html_aee05b9f9ad413ccbe4462b153cdd347e"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#aee05b9f9ad413ccbe4462b153cdd347e">node::type</a></div><div class="ttdeci">smallint type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:995</a></div></div>
<div class="ttc" id="atsearch_8h_html_af8612c0bc0c0d0efcbb514f34548f211"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#af8612c0bc0c0d0efcbb514f34548f211">node::nif</a></div><div class="ttdeci">struct nif nif</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbe/ash_8c_source.html#l00995">ash.c:1000</a></div></div>
<div class="ttc" id="atsearch_8h_html_d5/da1/structnode"><div class="ttname"><a href="../../d3/ddd/tsearch_8h.html#d5/da1/structnode">node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d24/tsort_8c_source.html#l00033">tsort.c:33</a></div></div>
<div class="ttc" id="aunicode_8h_html"><div class="ttname"><a href="../../dd/d90/unicode_8h.html">unicode.h</a></div></div>
<div class="ttc" id="aunicode_8h_html_aa8926c0886bec1199b1a99fa2523d455a9bb6ba752343b75838ca9d9eb88b8c05"><div class="ttname"><a href="../../dd/d90/unicode_8h.html#aa8926c0886bec1199b1a99fa2523d455a9bb6ba752343b75838ca9d9eb88b8c05">UNICODE_ON</a></div><div class="ttdeci">@ UNICODE_ON</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d90/unicode_8h_source.html#l00018">unicode.h:18</a></div></div>
<div class="ttc" id="aunicode_8h_html_ae2516de511027c02a1364012541f2292"><div class="ttname"><a href="../../dd/d90/unicode_8h.html#ae2516de511027c02a1364012541f2292">reinit_unicode</a></div><div class="ttdeci">#define reinit_unicode(LANG)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d90/unicode_8h_source.html#l00030">unicode.h:30</a></div></div>
<div class="ttc" id="aunionwait_8h_html_a2c6d84ce222454bb6387fc20d930f5b7"><div class="ttname"><a href="../../d7/d23/unionwait_8h.html#a2c6d84ce222454bb6387fc20d930f5b7">WSTOPSIG</a></div><div class="ttdeci">#define WSTOPSIG(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d23/unionwait_8h_source.html#l00094">unionwait.h:94</a></div></div>
<div class="ttc" id="aunionwait_8h_html_a6953e62fd0dec274a397678d31c344b4"><div class="ttname"><a href="../../d7/d23/unionwait_8h.html#a6953e62fd0dec274a397678d31c344b4">WIFSIGNALED</a></div><div class="ttdeci">#define WIFSIGNALED(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d23/unionwait_8h_source.html#l00091">unionwait.h:91</a></div></div>
<div class="ttc" id="aunionwait_8h_html_ae0c8840076dd63d5e2367fff4f7f46f3"><div class="ttname"><a href="../../d7/d23/unionwait_8h.html#ae0c8840076dd63d5e2367fff4f7f46f3">WEXITSTATUS</a></div><div class="ttdeci">#define WEXITSTATUS(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d23/unionwait_8h_source.html#l00095">unionwait.h:95</a></div></div>
<div class="ttc" id="aunionwait_8h_html_ae2b610235f988f4f3109f02a2f395727"><div class="ttname"><a href="../../d7/d23/unionwait_8h.html#ae2b610235f988f4f3109f02a2f395727">WIFSTOPPED</a></div><div class="ttdeci">#define WIFSTOPPED(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d23/unionwait_8h_source.html#l00089">unionwait.h:89</a></div></div>
<div class="ttc" id="aunionwait_8h_html_aeba4d421572a9d681c73c347f24ad348"><div class="ttname"><a href="../../d7/d23/unionwait_8h.html#aeba4d421572a9d681c73c347f24ad348">WTERMSIG</a></div><div class="ttdeci">#define WTERMSIG(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d23/unionwait_8h_source.html#l00093">unionwait.h:93</a></div></div>
<div class="ttc" id="aunionwait_8h_html_af9a4ddf9eee6c4a3bc9be070d59b7ccf"><div class="ttname"><a href="../../d7/d23/unionwait_8h.html#af9a4ddf9eee6c4a3bc9be070d59b7ccf">WIFEXITED</a></div><div class="ttdeci">#define WIFEXITED(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d23/unionwait_8h_source.html#l00090">unionwait.h:90</a></div></div>
<div class="ttc" id="autsname_8h_html"><div class="ttname"><a href="../../d5/d3d/utsname_8h.html">utsname.h</a></div></div>
<div class="ttc" id="autsname_8h_html_a883b5b5a1cd4a1f6a5837c1cf98ede1c"><div class="ttname"><a href="../../d5/d3d/utsname_8h.html#a883b5b5a1cd4a1f6a5837c1cf98ede1c">uname</a></div><div class="ttdeci">int uname(struct utsname *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d63/musl_2src_2misc_2uname_8c_source.html#l00004">uname.c:4</a></div></div>
<div class="ttc" id="autsname_8h_html_a89e7cdb3e9b91748cf5a1a58279cf048"><div class="ttname"><a href="../../d5/d3d/utsname_8h.html#a89e7cdb3e9b91748cf5a1a58279cf048">utsname::nodename</a></div><div class="ttdeci">char nodename[32]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc1/apps_2base_2bash_2examples_2loadables_2uname_8c_source.html#l00036">uname.c:36</a></div></div>
<div class="ttc" id="autsname_8h_html_db/d19/structutsname"><div class="ttname"><a href="../../d5/d3d/utsname_8h.html#db/d19/structutsname">utsname</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc1/apps_2base_2bash_2examples_2loadables_2uname_8c_source.html#l00034">uname.c:34</a></div></div>
<div class="ttc" id="avfprintf_8c_html_ad834e8db1d9c585ad9e072f5256c24b2"><div class="ttname"><a href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a></div><div class="ttdeci">static void out(FILE *f, const char *s, size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d61/vfprintf_8c_source.html#l00133">vfprintf.c:133</a></div></div>
<div class="ttc" id="avfwprintf_8c_html_d9/ddc/unionarg"><div class="ttname"><a href="../../d1/d40/vfwprintf_8c.html#d9/ddc/unionarg">arg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d61/vfprintf_8c_source.html#l00102">vfprintf.c:103</a></div></div>
<div class="ttc" id="avi_8c_html_a1144b296168b3bd3f9c04d75f4d5b94c"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a></div><div class="ttdeci">#define text</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00468">vi.c:468</a></div></div>
<div class="ttc" id="avi_8c_html_a2fb839951208a8400aa14d71d7c6f974"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a></div><div class="ttdeci">#define end</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00470">vi.c:470</a></div></div>
<div class="ttc" id="avi_8c_html_a3d691545b0775d09f5585c1c10ebdb76"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a></div><div class="ttdeci">#define mark</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00523">vi.c:523</a></div></div>
<div class="ttc" id="avi_8c_html_aae6364a195a181790fe7379c6b44a343"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a></div><div class="ttdeci">#define offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00486">vi.c:486</a></div></div>
<div class="ttc" id="avi_8c_html_af8c7a32b62c2d0375a34ec94ce25d68b"><div class="ttname"><a href="../../d4/d49/vi_8c.html#af8c7a32b62c2d0375a34ec94ce25d68b">restart</a></div><div class="ttdeci">#define restart</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00524">vi.c:524</a></div></div>
<div class="ttc" id="awi__stuff_8c_html_a102a30241e29b7ae7a452418431f728d"><div class="ttname"><a href="../../d6/d23/wi__stuff_8c.html#a102a30241e29b7ae7a452418431f728d">state</a></div><div class="ttdeci">static stateenum_t state</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/wi__stuff_8c_source.html#l00309">wi_stuff.c:309</a></div></div>
<div class="ttc" id="awi__stuff_8c_html_a807c7086c013f84fc8e3cc36e9969a26"><div class="ttname"><a href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a></div><div class="ttdeci">static patch_t * colon</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/wi__stuff_8c_source.html#l00348">wi_stuff.c:348</a></div></div>
<div class="ttc" id="awi__stuff_8c_html_a9cfbb269728dc4185236d28be58d9eab"><div class="ttname"><a href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a></div><div class="ttdeci">static int cnt</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/wi__stuff_8c_source.html#l00317">wi_stuff.c:317</a></div></div>
<div class="ttc" id="awi__stuff_8c_html_aaf825a665c491e6d28245b43f85b5402"><div class="ttname"><a href="../../d6/d23/wi__stuff_8c.html#aaf825a665c491e6d28245b43f85b5402">num</a></div><div class="ttdeci">static patch_t * num[10]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/wi__stuff_8c_source.html#l00351">wi_stuff.c:351</a></div></div>
<div class="ttc" id="awi__stuff_8c_html_add9c8a7eca9ed0c51c315ff7a4daf06f"><div class="ttname"><a href="../../d6/d23/wi__stuff_8c.html#add9c8a7eca9ed0c51c315ff7a4daf06f">bp</a></div><div class="ttdeci">static patch_t * bp[MAXPLAYERS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/wi__stuff_8c_source.html#l00389">wi_stuff.c:389</a></div></div>
<div class="ttc" id="axatonum_8h_html_a78de70f235ee408d67835ac4a7121141"><div class="ttname"><a href="../../dd/d15/xatonum_8h.html#a78de70f235ee408d67835ac4a7121141">bb_strtou</a></div><div class="ttdeci">static ALWAYS_INLINE unsigned bb_strtou(const char *arg, char **endp, int base)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d15/xatonum_8h_source.html#l00144">xatonum.h:144</a></div></div>
<div class="ttc" id="axz__config_8h_html_abb702d8b501669a23aa0ab3b281b9384"><div class="ttname"><a href="../../da/d5c/xz__config_8h.html#abb702d8b501669a23aa0ab3b281b9384">min</a></div><div class="ttdeci">#define min(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5c/xz__config_8h_source.html#l00037">xz_config.h:37</a></div></div>
<div class="ttc" id="ay_8tab_8c_html_a37cab0766979dccd60d3f89f0e2c2c8c"><div class="ttname"><a href="../../d5/def/y_8tab_8c.html#a37cab0766979dccd60d3f89f0e2c2c8c">redir</a></div><div class="ttdeci">static REDIRECTEE redir</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/def/y_8tab_8c_source.html#l00382">y.tab.c:382</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97d86ce2f18c7710ea326fa47777d7d7.html">Userspace</a></li><li class="navelem"><a class="el" href="../../dir_0276b9b7d706caf6f8b101518c949f15.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_825a5fc57f8484006531699dcb39fa0d.html">base</a></li><li class="navelem"><a class="el" href="../../dir_87e330aa425985c7f88c27f5b355b004.html">busybox</a></li><li class="navelem"><a class="el" href="../../dir_b67c2e21b1ca45ba2d9bd61ef7a580c2.html">shell</a></li><li class="navelem"><a class="el" href="../../d1/dbe/ash_8c.html">ash.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
