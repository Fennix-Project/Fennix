<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fennix: Userspace/apps/base/busybox/archival/libarchive/unxz/xz.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fennix
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Opeating System from scratch made in C and C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('db/d7b/xz_8h.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">xz.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="../../db/d7b/xz_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:de/de2/structxz__buf"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a></td></tr>
<tr class="separator:de/de2/structxz__buf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5d62956a444aa50523b08c3ef4da2fff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a>&#160;&#160;&#160;extern</td></tr>
<tr class="separator:a5d62956a444aa50523b08c3ef4da2fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cdd365f58f13391287c0c303b92bf42"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a></td></tr>
<tr class="separator:a2cdd365f58f13391287c0c303b92bf42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192bb141705a30dd1e7b0a097c6e5fee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7b/xz_8h.html#a192bb141705a30dd1e7b0a097c6e5fee">XZ_INTERNAL_CRC32</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a192bb141705a30dd1e7b0a097c6e5fee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a29c5e106d87545a553dec4a72635f000"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000">xz_mode</a> { <a class="el" href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000a033cfc12370e1fff4990fb2b80829730">XZ_SINGLE</a>
, <a class="el" href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000af5b55d5835ec235edd6f6c1e021c03fd">XZ_PREALLOC</a>
, <a class="el" href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000a89c549958bd50eb0a6562eb8f0adcfcf">XZ_DYNALLOC</a>
 }</td></tr>
<tr class="separator:a29c5e106d87545a553dec4a72635f000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74778511fa1debaf363eae550af9e6b1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> { <br />
&#160;&#160;<a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>
, <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>
, <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a3b7946db676511de1b4e59d5ab4953f7">XZ_UNSUPPORTED_CHECK</a>
, <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5a41c04a0fc7ccb245f4b497c3332fee">XZ_MEM_ERROR</a>
, <br />
&#160;&#160;<a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a45badfdf230ce1dbbbc12e005ebe6453">XZ_MEMLIMIT_ERROR</a>
, <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a9c220bf7e6b8aa17f124bcba98d59083">XZ_FORMAT_ERROR</a>
, <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a>
, <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>
, <br />
&#160;&#160;<a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a654c437f60cd19eb883536cdf1f040df">XZ_BUF_ERROR</a>
<br />
 }</td></tr>
<tr class="separator:a74778511fa1debaf363eae550af9e6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8f3d35afd62b962744c18f366c7d4143"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init</a> (enum <a class="el" href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000">xz_mode</a> mode, <a class="el" href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> dict_max)</td></tr>
<tr class="separator:a8f3d35afd62b962744c18f366c7d4143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d26e7418a2fa9a7518e51c0ea759f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *b)</td></tr>
<tr class="separator:a05d26e7418a2fa9a7518e51c0ea759f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40fb5ff9229a8c21a3cd689234fed180"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> void <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7b/xz_8h.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</td></tr>
<tr class="separator:a40fb5ff9229a8c21a3cd689234fed180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a37f30730e43b41fe699eebc0fe3a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> void <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7b/xz_8h.html#a70a37f30730e43b41fe699eebc0fe3a1">xz_dec_end</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</td></tr>
<tr class="separator:a70a37f30730e43b41fe699eebc0fe3a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fcc360c8b92c2f2ba0b49e227a4d3d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> void <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7b/xz_8h.html#a9fcc360c8b92c2f2ba0b49e227a4d3d2">xz_crc32_init</a> (void)</td></tr>
<tr class="separator:a9fcc360c8b92c2f2ba0b49e227a4d3d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a330dfa70beff6f9b693106e27df16526"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> <a class="el" href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d7b/xz_8h.html#a330dfa70beff6f9b693106e27df16526">xz_crc32</a> (const <a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *<a class="el" href="../../db/d16/stdout_8c.html#ae55dcb4c1b5d453b604861dc603ee9bf">buf</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> <a class="el" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>, <a class="el" href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> crc)</td></tr>
<tr class="separator:a330dfa70beff6f9b693106e27df16526"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="de/de2/structxz__buf" id="de/de2/structxz__buf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#de/de2/structxz__buf">&#9670;&nbsp;</a></span>xz_buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct xz_buf</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> - Passing input and output buffers to XZ code @in: Beginning of the input buffer. This may be NULL if and only if in_pos is equal to in_size. @in_pos: Current position in the input buffer. This must not exceed in_size. @in_size: Size of the input buffer @out: Beginning of the output buffer. This may be NULL if and only if out_pos is equal to out_size. @out_pos: Current position in the output buffer. This must not exceed out_size. @out_size: Size of the output buffer</p>
<p>Only the contents of the output buffer from out[out_pos] onward, and the variables in_pos and out_pos are modified by the XZ code. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d7b/xz_8h_source.html#l00145">145</a> of file <a class="el" href="../../db/d7b/xz_8h_source.html">xz.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a58ea98100d1d4593f4b7c6f276006272"></a>const <a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *</td>
<td class="fieldname">
in</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a4f4b3b9f56ab8d89c9edca5ffd27ac79"></a><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a></td>
<td class="fieldname">
in_pos</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ae7665726ded714572c56c90244f71f11"></a><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a></td>
<td class="fieldname">
in_size</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ad64100f202716e86b8416b7d7a072a24"></a><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *</td>
<td class="fieldname">
out</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7c4005a0998bef480271332efe506f8f"></a><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a></td>
<td class="fieldname">
out_pos</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7d55c01a4ec95fa6ed0ba10945a9d07d"></a><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a></td>
<td class="fieldname">
out_size</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5d62956a444aa50523b08c3ef4da2fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d62956a444aa50523b08c3ef4da2fff">&#9670;&nbsp;</a></span>XZ_EXTERN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XZ_EXTERN&#160;&#160;&#160;extern</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d7b/xz_8h_source.html#l00028">28</a> of file <a class="el" href="../../db/d7b/xz_8h_source.html">xz.h</a>.</p>

</div>
</div>
<a id="a2cdd365f58f13391287c0c303b92bf42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cdd365f58f13391287c0c303b92bf42">&#9670;&nbsp;</a></span>XZ_FUNC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XZ_FUNC</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d7b/xz_8h_source.html#l00033">33</a> of file <a class="el" href="../../db/d7b/xz_8h_source.html">xz.h</a>.</p>

</div>
</div>
<a id="a192bb141705a30dd1e7b0a097c6e5fee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192bb141705a30dd1e7b0a097c6e5fee">&#9670;&nbsp;</a></span>XZ_INTERNAL_CRC32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XZ_INTERNAL_CRC32&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d7b/xz_8h_source.html#l00256">256</a> of file <a class="el" href="../../db/d7b/xz_8h_source.html">xz.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a29c5e106d87545a553dec4a72635f000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29c5e106d87545a553dec4a72635f000">&#9670;&nbsp;</a></span>xz_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000">xz_mode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>enum xz_mode - Operation mode</p>
<p>@XZ_SINGLE: Single-call mode. This uses less RAM than than multi-call modes, because the LZMA2 dictionary doesn't need to be allocated as part of the decoder state. All required data structures are allocated at initialization, so <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> cannot return XZ_MEM_ERROR. @XZ_PREALLOC: Multi-call mode with preallocated LZMA2 dictionary buffer. All data structures are allocated at initialization, so <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> cannot return XZ_MEM_ERROR. @XZ_DYNALLOC: Multi-call mode. The LZMA2 dictionary is allocated once the required size has been parsed from the stream headers. If the allocation fails, <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> will return XZ_MEM_ERROR.</p>
<p>It is possible to enable support only for a subset of the above modes at compile time by defining XZ_DEC_SINGLE, XZ_DEC_PREALLOC, or XZ_DEC_DYNALLOC. The <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> kernel module is always compiled with support for all operation modes, but the preboot code may be built with fewer features to minimize code size. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a29c5e106d87545a553dec4a72635f000a033cfc12370e1fff4990fb2b80829730"></a>XZ_SINGLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a29c5e106d87545a553dec4a72635f000af5b55d5835ec235edd6f6c1e021c03fd"></a>XZ_PREALLOC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a29c5e106d87545a553dec4a72635f000a89c549958bd50eb0a6562eb8f0adcfcf"></a>XZ_DYNALLOC&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../db/d7b/xz_8h_source.html#l00061">61</a> of file <a class="el" href="../../db/d7b/xz_8h_source.html">xz.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;             {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000a033cfc12370e1fff4990fb2b80829730">XZ_SINGLE</a>,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000af5b55d5835ec235edd6f6c1e021c03fd">XZ_PREALLOC</a>,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000a89c549958bd50eb0a6562eb8f0adcfcf">XZ_DYNALLOC</a></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;};</div>
<div class="ttc" id="axz_8h_html_a29c5e106d87545a553dec4a72635f000a033cfc12370e1fff4990fb2b80829730"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000a033cfc12370e1fff4990fb2b80829730">XZ_SINGLE</a></div><div class="ttdeci">@ XZ_SINGLE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00062">xz.h:62</a></div></div>
<div class="ttc" id="axz_8h_html_a29c5e106d87545a553dec4a72635f000a89c549958bd50eb0a6562eb8f0adcfcf"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000a89c549958bd50eb0a6562eb8f0adcfcf">XZ_DYNALLOC</a></div><div class="ttdeci">@ XZ_DYNALLOC</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00065">xz.h:64</a></div></div>
<div class="ttc" id="axz_8h_html_a29c5e106d87545a553dec4a72635f000af5b55d5835ec235edd6f6c1e021c03fd"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000af5b55d5835ec235edd6f6c1e021c03fd">XZ_PREALLOC</a></div><div class="ttdeci">@ XZ_PREALLOC</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00063">xz.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a74778511fa1debaf363eae550af9e6b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74778511fa1debaf363eae550af9e6b1">&#9670;&nbsp;</a></span>xz_ret</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>enum xz_ret - Return codes @XZ_OK: Everything is OK so far. More input or more output space is required to continue. This return code is possible only in multi-call mode (XZ_PREALLOC or XZ_DYNALLOC). @XZ_STREAM_END: Operation finished successfully. @XZ_UNSUPPORTED_CHECK: Integrity check type is not supported. Decoding is still possible in multi-call mode by simply calling <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> again. Note that this return value is used only if XZ_DEC_ANY_CHECK was defined at build time, which is not used in the kernel. Unsupported check types return XZ_OPTIONS_ERROR if XZ_DEC_ANY_CHECK was not defined at build time. @XZ_MEM_ERROR: Allocating memory failed. This return code is possible only if the decoder was initialized with XZ_DYNALLOC. The amount of memory that was tried to be allocated was no more than the dict_max argument given to <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a>. @XZ_MEMLIMIT_ERROR: A bigger LZMA2 dictionary would be needed than allowed by the dict_max argument given to <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a>. This return value is possible only in multi-call mode (XZ_PREALLOC or XZ_DYNALLOC); the single-call mode (XZ_SINGLE) ignores the dict_max argument. @XZ_FORMAT_ERROR: File format was not recognized (wrong magic bytes). @XZ_OPTIONS_ERROR: This implementation doesn't support the requested compression options. In the decoder this means that the header CRC32 matches, but the header itself specifies something that we don't support. @XZ_DATA_ERROR: Compressed data is corrupt. @XZ_BUF_ERROR: Cannot make any progress. Details are slightly different between multi-call and single-call mode; more information below.</p>
<p>In multi-call mode, XZ_BUF_ERROR is returned when two consecutive calls to XZ code cannot consume any input and cannot produce any new output. This happens when there is no new input available, or the output buffer is full while at least one output byte is still pending. Assuming your code is not buggy, you can get this error only when decoding a compressed stream that is truncated or otherwise corrupt.</p>
<p>In single-call mode, XZ_BUF_ERROR is returned only when the output buffer is too small or the compressed input is corrupt in a way that makes the decoder produce more output than the caller expected. When it is (relatively) clear that the compressed input is truncated, XZ_DATA_ERROR is used instead of XZ_BUF_ERROR. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec"></a>XZ_OK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02"></a>XZ_STREAM_END&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a74778511fa1debaf363eae550af9e6b1a3b7946db676511de1b4e59d5ab4953f7"></a>XZ_UNSUPPORTED_CHECK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a74778511fa1debaf363eae550af9e6b1a5a41c04a0fc7ccb245f4b497c3332fee"></a>XZ_MEM_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a74778511fa1debaf363eae550af9e6b1a45badfdf230ce1dbbbc12e005ebe6453"></a>XZ_MEMLIMIT_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a74778511fa1debaf363eae550af9e6b1a9c220bf7e6b8aa17f124bcba98d59083"></a>XZ_FORMAT_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0"></a>XZ_OPTIONS_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895"></a>XZ_DATA_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a74778511fa1debaf363eae550af9e6b1a654c437f60cd19eb883536cdf1f040df"></a>XZ_BUF_ERROR&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../db/d7b/xz_8h_source.html#l00117">117</a> of file <a class="el" href="../../db/d7b/xz_8h_source.html">xz.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a3b7946db676511de1b4e59d5ab4953f7">XZ_UNSUPPORTED_CHECK</a>,</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5a41c04a0fc7ccb245f4b497c3332fee">XZ_MEM_ERROR</a>,</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a45badfdf230ce1dbbbc12e005ebe6453">XZ_MEMLIMIT_ERROR</a>,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a9c220bf7e6b8aa17f124bcba98d59083">XZ_FORMAT_ERROR</a>,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a>,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a654c437f60cd19eb883536cdf1f040df">XZ_BUF_ERROR</a></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;};</div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1a3b7946db676511de1b4e59d5ab4953f7"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a3b7946db676511de1b4e59d5ab4953f7">XZ_UNSUPPORTED_CHECK</a></div><div class="ttdeci">@ XZ_UNSUPPORTED_CHECK</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00120">xz.h:120</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1a45badfdf230ce1dbbbc12e005ebe6453"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a45badfdf230ce1dbbbc12e005ebe6453">XZ_MEMLIMIT_ERROR</a></div><div class="ttdeci">@ XZ_MEMLIMIT_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00122">xz.h:122</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a></div><div class="ttdeci">@ XZ_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00118">xz.h:118</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1a5a41c04a0fc7ccb245f4b497c3332fee"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5a41c04a0fc7ccb245f4b497c3332fee">XZ_MEM_ERROR</a></div><div class="ttdeci">@ XZ_MEM_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00121">xz.h:121</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a></div><div class="ttdeci">@ XZ_DATA_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00125">xz.h:125</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1a654c437f60cd19eb883536cdf1f040df"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a654c437f60cd19eb883536cdf1f040df">XZ_BUF_ERROR</a></div><div class="ttdeci">@ XZ_BUF_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00127">xz.h:126</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1a9c220bf7e6b8aa17f124bcba98d59083"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a9c220bf7e6b8aa17f124bcba98d59083">XZ_FORMAT_ERROR</a></div><div class="ttdeci">@ XZ_FORMAT_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00123">xz.h:123</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a></div><div class="ttdeci">@ XZ_STREAM_END</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00119">xz.h:119</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a></div><div class="ttdeci">@ XZ_OPTIONS_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00124">xz.h:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a330dfa70beff6f9b693106e27df16526"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a330dfa70beff6f9b693106e27df16526">&#9670;&nbsp;</a></span>xz_crc32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> <a class="el" href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> xz_crc32 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>crc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00346">crc32_validate()</a>.</p>

</div>
</div>
<a id="a9fcc360c8b92c2f2ba0b49e227a4d3d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fcc360c8b92c2f2ba0b49e227a4d3d2">&#9670;&nbsp;</a></span>xz_crc32_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> void <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> xz_crc32_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a70a37f30730e43b41fe699eebc0fe3a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a37f30730e43b41fe699eebc0fe3a1">&#9670;&nbsp;</a></span>xz_dec_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> void <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> xz_dec_end </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="../../db/d7b/xz_8h.html#a70a37f30730e43b41fe699eebc0fe3a1">xz_dec_end()</a> - Free the memory allocated for the decoder state @s: Decoder state allocated using <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a>. If s is NULL, this function does nothing. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00811">811</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;{</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> != <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <a class="code" href="../../d2/de0/xz__dec__lzma2_8c.html#af29fa265799d20e0489bf149100dac51">xz_dec_lzma2_end</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;lzma2);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="preprocessor">#ifdef XZ_DEC_BCJ</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        xz_dec_bcj_end(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <a class="code" href="../../d9/df8/Kernel_2include_2memory_8hpp.html#aef27615e6561e63428541f98e7e60b88">kfree</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;}</div>
<div class="ttc" id="aKernel_2include_2memory_8hpp_html_aef27615e6561e63428541f98e7e60b88"><div class="ttname"><a href="../../d9/df8/Kernel_2include_2memory_8hpp.html#aef27615e6561e63428541f98e7e60b88">kfree</a></div><div class="ttdeci">#define kfree(Address)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/Kernel_2include_2memory_8hpp_source.html#l00097">memory.hpp:97</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">types.h:37</a></div></div>
<div class="ttc" id="aarpping_8c_html_ac9562ee4ecb3b8aeebeb04656e7e57a9"><div class="ttname"><a href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a></div><div class="ttdeci">#define s</div></div>
<div class="ttc" id="axz__dec__lzma2_8c_html_af29fa265799d20e0489bf149100dac51"><div class="ttname"><a href="../../d2/de0/xz__dec__lzma2_8c.html#af29fa265799d20e0489bf149100dac51">xz_dec_lzma2_end</a></div><div class="ttdeci">XZ_EXTERN void XZ_FUNC xz_dec_lzma2_end(struct xz_dec_lzma2 *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de0/xz__dec__lzma2_8c_source.html#l01165">xz_dec_lzma2.c:1165</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/df8/Kernel_2include_2memory_8hpp_source.html#l00097">kfree</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, and <a class="el" href="../../d2/de0/xz__dec__lzma2_8c_source.html#l01165">xz_dec_lzma2_end()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4f/decompress__unxz_8c_source.html#l00045">IF_DESKTOP()</a>.</p>

</div>
</div>
<a id="a8f3d35afd62b962744c18f366c7d4143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f3d35afd62b962744c18f366c7d4143">&#9670;&nbsp;</a></span>xz_dec_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a>* <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> xz_dec_init </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000">xz_mode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/ddd/arithmetic__operations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>dict_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a> - Allocate and initialize a XZ decoder state @mode: Operation mode @dict_max: Maximum size of the LZMA2 dictionary (history buffer) for multi-call decoding. This is ignored in single-call mode (mode == XZ_SINGLE). LZMA2 dictionary is always 2^n bytes or 2^n + 2^(n-1) bytes (the latter sizes are less common in practice), so other values for dict_max don't make sense. In the kernel, dictionary sizes of 64 KiB, 128 KiB, 256 KiB, 512 KiB, and 1 MiB are probably the only reasonable values, except for kernel and initramfs images where a bigger dictionary can be fine and useful.</p>
<p>Single-call mode (XZ_SINGLE): <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> decodes the whole stream at once. The caller must provide enough output space or the decoding will fail. The output space is used as the dictionary buffer, which is why there is no need to allocate the dictionary as part of the decoder's internal state.</p>
<p>Because the output buffer is used as the workspace, streams encoded using a big dictionary are not a problem in single-call mode. It is enough that the output buffer is big enough to hold the actual uncompressed data; it can be smaller than the dictionary size stored in the stream headers.</p>
<p>Multi-call mode with preallocated dictionary (XZ_PREALLOC): dict_max bytes of memory is preallocated for the LZMA2 dictionary. This way there is no risk that <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> could run out of memory, since <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> will never allocate any memory. Instead, if the preallocated dictionary is too small for decoding the given input stream, <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> will return XZ_MEMLIMIT_ERROR. Thus, it is important to know what kind of data will be decoded to avoid allocating excessive amount of memory for the dictionary.</p>
<p>Multi-call mode with dynamically allocated dictionary (XZ_DYNALLOC): dict_max specifies the maximum allowed dictionary size that <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> may allocate once it has parsed the dictionary size from the stream headers. This way excessive allocations can be avoided while still limiting the maximum memory usage to a sane value to prevent running the system out of memory when decompressing streams from untrusted sources.</p>
<p>On success, <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a> returns a pointer to struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a>, which is ready to be used with <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a>. If memory allocation fails, <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a> returns NULL. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00768">768</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;{</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../d9/df8/Kernel_2include_2memory_8hpp.html#aa700d7a085f4fa2439650b7675228b88">kmalloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>), GFP_KERNEL);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;mode = <a class="code" href="../../d4/d6e/structxz__dec.html#a5684a84ff9e8cab7322f0f8dc33c85b2">mode</a>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="preprocessor">#ifdef XZ_DEC_BCJ</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj = xz_dec_bcj_create(<a class="code" href="../../dd/db8/xz__private_8h.html#a11a26749bdd63fd2a17a9d2c9cc881b0">DEC_IS_SINGLE</a>(<a class="code" href="../../d4/d6e/structxz__dec.html#a5684a84ff9e8cab7322f0f8dc33c85b2">mode</a>));</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">goto</span> error_bcj;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;lzma2 = <a class="code" href="../../d2/de0/xz__dec__lzma2_8c.html#a76ec7d6a5a7a44935a98ab1f280f65f4">xz_dec_lzma2_create</a>(<a class="code" href="../../d4/d6e/structxz__dec.html#a5684a84ff9e8cab7322f0f8dc33c85b2">mode</a>, dict_max);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;lzma2 == <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">goto</span> error_lzma2;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;error_lzma2:</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="preprocessor">#ifdef XZ_DEC_BCJ</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    xz_dec_bcj_end(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;error_bcj:</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="../../d9/df8/Kernel_2include_2memory_8hpp.html#aef27615e6561e63428541f98e7e60b88">kfree</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div>
<div class="ttc" id="aKernel_2include_2memory_8hpp_html_aa700d7a085f4fa2439650b7675228b88"><div class="ttname"><a href="../../d9/df8/Kernel_2include_2memory_8hpp.html#aa700d7a085f4fa2439650b7675228b88">kmalloc</a></div><div class="ttdeci">#define kmalloc(Size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/Kernel_2include_2memory_8hpp_source.html#l00094">memory.hpp:94</a></div></div>
<div class="ttc" id="astructxz__dec_html"><div class="ttname"><a href="../../d4/d6e/structxz__dec.html">xz_dec</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00020">xz_dec_stream.c:20</a></div></div>
<div class="ttc" id="astructxz__dec_html_a5684a84ff9e8cab7322f0f8dc33c85b2"><div class="ttname"><a href="../../d4/d6e/structxz__dec.html#a5684a84ff9e8cab7322f0f8dc33c85b2">xz_dec::mode</a></div><div class="ttdeci">enum xz_mode mode</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00046">xz_dec_stream.c:52</a></div></div>
<div class="ttc" id="axz__dec__lzma2_8c_html_a76ec7d6a5a7a44935a98ab1f280f65f4"><div class="ttname"><a href="../../d2/de0/xz__dec__lzma2_8c.html#a76ec7d6a5a7a44935a98ab1f280f65f4">xz_dec_lzma2_create</a></div><div class="ttdeci">XZ_EXTERN struct xz_dec_lzma2 *XZ_FUNC xz_dec_lzma2_create(enum xz_mode mode, uint32_t dict_max)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de0/xz__dec__lzma2_8c_source.html#l01103">xz_dec_lzma2.c:1103</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_a40fb5ff9229a8c21a3cd689234fed180"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset</a></div><div class="ttdeci">XZ_EXTERN void XZ_FUNC xz_dec_reset(struct xz_dec *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00799">xz_dec_stream.c:799</a></div></div>
<div class="ttc" id="axz__private_8h_html_a11a26749bdd63fd2a17a9d2c9cc881b0"><div class="ttname"><a href="../../dd/db8/xz__private_8h.html#a11a26749bdd63fd2a17a9d2c9cc881b0">DEC_IS_SINGLE</a></div><div class="ttdeci">#define DEC_IS_SINGLE(mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/xz__private_8h_source.html#l00072">xz_private.h:72</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/db8/xz__private_8h_source.html#l00072">DEC_IS_SINGLE</a>, <a class="el" href="../../d9/df8/Kernel_2include_2memory_8hpp_source.html#l00097">kfree</a>, <a class="el" href="../../d9/df8/Kernel_2include_2memory_8hpp_source.html#l00094">kmalloc</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00052">xz_dec::mode</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00037">NULL</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="el" href="../../d2/de0/xz__dec__lzma2_8c_source.html#l01103">xz_dec_lzma2_create()</a>, and <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00799">xz_dec_reset()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4f/decompress__unxz_8c_source.html#l00045">IF_DESKTOP()</a>.</p>

</div>
</div>
<a id="a40fb5ff9229a8c21a3cd689234fed180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40fb5ff9229a8c21a3cd689234fed180">&#9670;&nbsp;</a></span>xz_dec_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> void <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> xz_dec_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="../../db/d7b/xz_8h.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset()</a> - Reset an already allocated decoder state @s: Decoder state allocated using <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a></p>
<p>This function can be used to reset the multi-call decoder state without freeing and reallocating memory with <a class="el" href="../../db/d7b/xz_8h.html#a70a37f30730e43b41fe699eebc0fe3a1">xz_dec_end()</a> and <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a>.</p>
<p>In single-call mode, <a class="el" href="../../db/d7b/xz_8h.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset()</a> is always called in the beginning of <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a>. Thus, explicit call to <a class="el" href="../../db/d7b/xz_8h.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset()</a> is useful only in multi-call mode. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00799">799</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;{</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence = SEQ_STREAM_HEADER;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;allow_buf_error = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos = 0;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;crc32 = 0;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="../../da/d5c/xz__config_8h.html#a015615e16e694c0590f01b9e8b43632f">memzero</a>(&amp;<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block));</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="../../da/d5c/xz__config_8h.html#a015615e16e694c0590f01b9e8b43632f">memzero</a>(&amp;<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index));</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos = 0;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size = <a class="code" href="../../d9/da3/xz__stream_8h.html#a3b585e315e695d71caa6d9a3d8bb7355">STREAM_HEADER_SIZE</a>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;}</div>
<div class="ttc" id="axz__config_8h_html_a015615e16e694c0590f01b9e8b43632f"><div class="ttname"><a href="../../da/d5c/xz__config_8h.html#a015615e16e694c0590f01b9e8b43632f">memzero</a></div><div class="ttdeci">#define memzero(buf, size)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5c/xz__config_8h_source.html#l00033">xz_config.h:33</a></div></div>
<div class="ttc" id="axz__stream_8h_html_a3b585e315e695d71caa6d9a3d8bb7355"><div class="ttname"><a href="../../d9/da3/xz__stream_8h.html#a3b585e315e695d71caa6d9a3d8bb7355">STREAM_HEADER_SIZE</a></div><div class="ttdeci">#define STREAM_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da3/xz__stream_8h_source.html#l00026">xz_stream.h:26</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d5c/xz__config_8h_source.html#l00033">memzero</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00023">xz_dec::SEQ_STREAM_HEADER</a>, and <a class="el" href="../../d9/da3/xz__stream_8h_source.html#l00026">STREAM_HEADER_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4f/decompress__unxz_8c_source.html#l00045">IF_DESKTOP()</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00768">xz_dec_init()</a>, and <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00733">xz_dec_run()</a>.</p>

</div>
</div>
<a id="a05d26e7418a2fa9a7518e51c0ea759f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d26e7418a2fa9a7518e51c0ea759f2">&#9670;&nbsp;</a></span>xz_dec_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> xz_dec_run </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> - Run the XZ decoder @s: Decoder state allocated using <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a> <b></b>: Input and output buffers</p>
<p>The possible return values depend on build options and operation mode. See enum xz_ret for details.</p>
<p>Note that if an error occurs in single-call mode (return value is not XZ_STREAM_END), b-&gt;in_pos and b-&gt;out_pos are not modified and the contents of the output buffer from b-&gt;out[b-&gt;out_pos] onward are undefined. This is true even after XZ_BUF_ERROR, because with some filter chains, there may be a second pass over the output buffer, and this pass cannot be properly done if the output buffer is truncated. Thus, you cannot give the single-call decoder a too small buffer and then expect to get that amount valid data from the beginning of the stream. You must use the multi-call decoder if you don't want to uncompress the whole stream. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00733">733</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;{</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordtype">size_t</span> in_start;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordtype">size_t</span> out_start;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keyword">enum</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> ret;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/db8/xz__private_8h.html#a11a26749bdd63fd2a17a9d2c9cc881b0">DEC_IS_SINGLE</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;mode))</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    in_start = b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    out_start = b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a7c4005a0998bef480271332efe506f8f">out_pos</a>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    ret = <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a33e05a673528700699af3e78bee55e96">dec_main</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/db8/xz__private_8h.html#a11a26749bdd63fd2a17a9d2c9cc881b0">DEC_IS_SINGLE</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;mode)) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordflow">if</span> (ret == <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>)</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            ret = b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> == b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#ae7665726ded714572c56c90244f71f11">in_size</a></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                    ? <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a> : <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a654c437f60cd19eb883536cdf1f040df">XZ_BUF_ERROR</a>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="keywordflow">if</span> (ret != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> = in_start;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a7c4005a0998bef480271332efe506f8f">out_pos</a> = out_start;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a> &amp;&amp; in_start == b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            &amp;&amp; out_start == b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a7c4005a0998bef480271332efe506f8f">out_pos</a>) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;allow_buf_error)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            ret = <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a654c437f60cd19eb883536cdf1f040df">XZ_BUF_ERROR</a>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;allow_buf_error = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;allow_buf_error = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div>
<div class="ttc" id="axz_8h_html_a4f4b3b9f56ab8d89c9edca5ffd27ac79"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">xz_buf::in_pos</a></div><div class="ttdeci">size_t in_pos</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00147">xz.h:147</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a></div><div class="ttdeci">xz_ret</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00117">xz.h:117</a></div></div>
<div class="ttc" id="axz_8h_html_a7c4005a0998bef480271332efe506f8f"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a7c4005a0998bef480271332efe506f8f">xz_buf::out_pos</a></div><div class="ttdeci">size_t out_pos</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00151">xz.h:151</a></div></div>
<div class="ttc" id="axz_8h_html_ae7665726ded714572c56c90244f71f11"><div class="ttname"><a href="../../db/d7b/xz_8h.html#ae7665726ded714572c56c90244f71f11">xz_buf::in_size</a></div><div class="ttdeci">size_t in_size</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00148">xz.h:148</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_a33e05a673528700699af3e78bee55e96"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#a33e05a673528700699af3e78bee55e96">dec_main</a></div><div class="ttdeci">static NOINLINE enum xz_ret XZ_FUNC dec_main(struct xz_dec *s, struct xz_buf *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">xz_dec_stream.c:548</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/db8/xz__private_8h_source.html#l00072">DEC_IS_SINGLE</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">dec_main()</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00147">xz_buf::in_pos</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00148">xz_buf::in_size</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00151">xz_buf::out_pos</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00126">XZ_BUF_ERROR</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00125">XZ_DATA_ERROR</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00799">xz_dec_reset()</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00118">XZ_OK</a>, and <a class="el" href="../../db/d7b/xz_8h_source.html#l00119">XZ_STREAM_END</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4f/decompress__unxz_8c_source.html#l00045">IF_DESKTOP()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97d86ce2f18c7710ea326fa47777d7d7.html">Userspace</a></li><li class="navelem"><a class="el" href="../../dir_0276b9b7d706caf6f8b101518c949f15.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_825a5fc57f8484006531699dcb39fa0d.html">base</a></li><li class="navelem"><a class="el" href="../../dir_87e330aa425985c7f88c27f5b355b004.html">busybox</a></li><li class="navelem"><a class="el" href="../../dir_fb7611e8dc699bb7e6b65315cf0049ad.html">archival</a></li><li class="navelem"><a class="el" href="../../dir_bfa9332fca7deb7f0e928d4a150f8148.html">libarchive</a></li><li class="navelem"><a class="el" href="../../dir_593693e10dc20c51df0da799bc448b7f.html">unxz</a></li><li class="navelem"><a class="el" href="../../db/d7b/xz_8h.html">xz.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
