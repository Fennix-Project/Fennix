<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fennix: Userspace/apps/base/busybox/networking/udhcp/d6_common.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fennix
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Opeating System from scratch made in C and C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d4/dc3/d6__common_8h.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">d6_common.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="../../d0/dca/ip6_8h_source.html">netinet/ip6.h</a>&gt;</code><br />
</div>
<p><a href="../../d4/dc3/d6__common_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:d2/d6c/structd6__packet"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#d2/d6c/structd6__packet">d6_packet</a></td></tr>
<tr class="separator:d2/d6c/structd6__packet"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d0/d27/structip6__udp__d6__packet"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#d0/d27/structip6__udp__d6__packet">ip6_udp_d6_packet</a></td></tr>
<tr class="separator:d0/d27/structip6__udp__d6__packet"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:db/d0a/structudp__d6__packet"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#db/d0a/structudp__d6__packet">udp_d6_packet</a></td></tr>
<tr class="separator:db/d0a/structudp__d6__packet"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d7/d12/structd6__option"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#d7/d12/structd6__option">d6_option</a></td></tr>
<tr class="separator:d7/d12/structd6__option"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:df/d55/structclient6__data__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#df/d55/structclient6__data__t">client6_data_t</a></td></tr>
<tr class="separator:df/d55/structclient6__data__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d2/d72/uniond6__packet_8d6__u"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#d2/d72/uniond6__packet_8d6__u">d6_packet.d6_u</a></td></tr>
<tr class="separator:d2/d72/uniond6__packet_8d6__u"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab2f2c4e36aff66d5642657e2d28e7e81"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#ab2f2c4e36aff66d5642657e2d28e7e81">D6_MSG_SOLICIT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ab2f2c4e36aff66d5642657e2d28e7e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc31c50b707e890c8ac63c0cfe6539ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#abc31c50b707e890c8ac63c0cfe6539ba">D6_MSG_ADVERTISE</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:abc31c50b707e890c8ac63c0cfe6539ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b1ff3e20bf02123558a4e9b49c4924c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a6b1ff3e20bf02123558a4e9b49c4924c">D6_MSG_REQUEST</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a6b1ff3e20bf02123558a4e9b49c4924c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a472b293976f902f26efa282d5974344f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a472b293976f902f26efa282d5974344f">D6_MSG_CONFIRM</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a472b293976f902f26efa282d5974344f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d5cbb2931f69680e4f67fd10f5a387"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a60d5cbb2931f69680e4f67fd10f5a387">D6_MSG_RENEW</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a60d5cbb2931f69680e4f67fd10f5a387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a147e580799c14c3621f111ddfcb6f2e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a147e580799c14c3621f111ddfcb6f2e3">D6_MSG_REBIND</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a147e580799c14c3621f111ddfcb6f2e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a974d859ba107d79be2616a181aad5b5f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a974d859ba107d79be2616a181aad5b5f">D6_MSG_REPLY</a>&#160;&#160;&#160;7</td></tr>
<tr class="separator:a974d859ba107d79be2616a181aad5b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b8ae608d2af5b540c221855ea200a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a83b8ae608d2af5b540c221855ea200a1">D6_MSG_RELEASE</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a83b8ae608d2af5b540c221855ea200a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab5c3d82a00b81d208f37141be63ef94"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#aab5c3d82a00b81d208f37141be63ef94">D6_MSG_DECLINE</a>&#160;&#160;&#160;9</td></tr>
<tr class="separator:aab5c3d82a00b81d208f37141be63ef94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6fbf2dbdf1d97a60285a2292a722e7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#af6fbf2dbdf1d97a60285a2292a722e7f">D6_MSG_RECONFIGURE</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:af6fbf2dbdf1d97a60285a2292a722e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4010540c186df1ec87b870a8442a67e2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a4010540c186df1ec87b870a8442a67e2">D6_MSG_INFORMATION_REQUEST</a>&#160;&#160;&#160;11</td></tr>
<tr class="separator:a4010540c186df1ec87b870a8442a67e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa91f9009b8f34c7539e8ff99ba73983e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#aa91f9009b8f34c7539e8ff99ba73983e">D6_MSG_RELAY_FORW</a>&#160;&#160;&#160;12</td></tr>
<tr class="separator:aa91f9009b8f34c7539e8ff99ba73983e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7c251c1f6889c2772f457c544f8ea3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#aca7c251c1f6889c2772f457c544f8ea3">D6_MSG_RELAY_REPL</a>&#160;&#160;&#160;13</td></tr>
<tr class="separator:aca7c251c1f6889c2772f457c544f8ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8cb421ab784d855668b90db907b3aa5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#aa8cb421ab784d855668b90db907b3aa5">d6_msg_type</a>&#160;&#160;&#160;d6_u.d6_msg_type</td></tr>
<tr class="separator:aa8cb421ab784d855668b90db907b3aa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e22ebf4b09794db90889f5ac361134"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a90e22ebf4b09794db90889f5ac361134">d6_xid32</a>&#160;&#160;&#160;d6_u.d6_xid32</td></tr>
<tr class="separator:a90e22ebf4b09794db90889f5ac361134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc5482fdb0140786df3e4a5f1da9399"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#addc5482fdb0140786df3e4a5f1da9399">D6_OPT_CLIENTID</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:addc5482fdb0140786df3e4a5f1da9399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8503b47af83827f4cf0b7467dd649335"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a8503b47af83827f4cf0b7467dd649335">D6_OPT_SERVERID</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a8503b47af83827f4cf0b7467dd649335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d518866bd3ee978ba0410473155abed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a0d518866bd3ee978ba0410473155abed">D6_OPT_IA_NA</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a0d518866bd3ee978ba0410473155abed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb775f58d2b941b7a6d4a8988f06eb8a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#aeb775f58d2b941b7a6d4a8988f06eb8a">D6_OPT_IAADDR</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:aeb775f58d2b941b7a6d4a8988f06eb8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a284f9f691e3272d56c2974341df041db"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a284f9f691e3272d56c2974341df041db">D6_OPT_ORO</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a284f9f691e3272d56c2974341df041db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00174a258cdb0db1cd31fa1855a36d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#ae00174a258cdb0db1cd31fa1855a36d1">D6_OPT_ELAPSED_TIME</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ae00174a258cdb0db1cd31fa1855a36d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4318a2c94a53e356b248cccf1e86a346"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a4318a2c94a53e356b248cccf1e86a346">D6_OPT_STATUS_CODE</a>&#160;&#160;&#160;13</td></tr>
<tr class="separator:a4318a2c94a53e356b248cccf1e86a346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59cd0dcaec1cae8f3917b5a3206dac06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a59cd0dcaec1cae8f3917b5a3206dac06">D6_OPT_DNS_SERVERS</a>&#160;&#160;&#160;23</td></tr>
<tr class="separator:a59cd0dcaec1cae8f3917b5a3206dac06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c9bd4a9c0a3cc5aabdd1900be444b62"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a4c9bd4a9c0a3cc5aabdd1900be444b62">D6_OPT_DOMAIN_LIST</a>&#160;&#160;&#160;24</td></tr>
<tr class="separator:a4c9bd4a9c0a3cc5aabdd1900be444b62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa59ab7d0d695936ffadfb0af4ec6288"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#aaa59ab7d0d695936ffadfb0af4ec6288">D6_OPT_IA_PD</a>&#160;&#160;&#160;25</td></tr>
<tr class="separator:aaa59ab7d0d695936ffadfb0af4ec6288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20895b63b922dcbe2a64ef9e5a58d87e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a20895b63b922dcbe2a64ef9e5a58d87e">D6_OPT_IAPREFIX</a>&#160;&#160;&#160;26</td></tr>
<tr class="separator:a20895b63b922dcbe2a64ef9e5a58d87e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5aeca949e1493e3db1a3f5fccc1412"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a9e5aeca949e1493e3db1a3f5fccc1412">D6_OPT_CLIENT_FQDN</a>&#160;&#160;&#160;39</td></tr>
<tr class="separator:a9e5aeca949e1493e3db1a3f5fccc1412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ffd1359f0ac6bc39d40234ebf1ce53"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a33ffd1359f0ac6bc39d40234ebf1ce53">D6_OPT_TZ_POSIX</a>&#160;&#160;&#160;41</td></tr>
<tr class="separator:a33ffd1359f0ac6bc39d40234ebf1ce53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b494d6983f68f0af7f7d9f21ff34425"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a4b494d6983f68f0af7f7d9f21ff34425">D6_OPT_TZ_NAME</a>&#160;&#160;&#160;42</td></tr>
<tr class="separator:a4b494d6983f68f0af7f7d9f21ff34425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd717b0935cad05e4c8e8436c60783e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#acd717b0935cad05e4c8e8436c60783e1">D6_OPT_BOOT_URL</a>&#160;&#160;&#160;59</td></tr>
<tr class="separator:acd717b0935cad05e4c8e8436c60783e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d9a6de3973e779c421d702b992efc97"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a5d9a6de3973e779c421d702b992efc97">D6_OPT_BOOT_PARAM</a>&#160;&#160;&#160;60</td></tr>
<tr class="separator:a5d9a6de3973e779c421d702b992efc97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a966f50563f47991887055412a7799897"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a966f50563f47991887055412a7799897">client6_data</a>&#160;&#160;&#160;(*(struct <a class="el" href="../../d4/dc3/d6__common_8h.html#df/d55/structclient6__data__t">client6_data_t</a>*)(&amp;bb_common_bufsiz1[COMMON_BUFSIZE - sizeof(struct <a class="el" href="../../d4/dc3/d6__common_8h.html#df/d55/structclient6__data__t">client6_data_t</a>)]))</td></tr>
<tr class="separator:a966f50563f47991887055412a7799897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f33ff70a03154fed24fa0c27219b2d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a0f33ff70a03154fed24fa0c27219b2d8">d6_dump_packet</a>(packet)&#160;&#160;&#160;((void)0)</td></tr>
<tr class="separator:a0f33ff70a03154fed24fa0c27219b2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6e175fffc9cfa8c6bf715d64c3c8e01e"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a6e175fffc9cfa8c6bf715d64c3c8e01e">d6_read_interface</a> (const char *<a class="el" href="../../dd/dda/interface_8c.html#d9/dbe/structinterface">interface</a>, int *ifindex, struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a> *nip6, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *mac)</td></tr>
<tr class="separator:a6e175fffc9cfa8c6bf715d64c3c8e01e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69a03de3b42e0f0892bea7f65980ac31"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a69a03de3b42e0f0892bea7f65980ac31">d6_listen_socket</a> (int <a class="el" href="../../d1/d4c/traceroute_8c.html#a2ed8e46b717479f8e2ef47a52d28d9ca">port</a>, const char *inf)</td></tr>
<tr class="separator:a69a03de3b42e0f0892bea7f65980ac31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e74426a64ee74e3d3f0da6dd88db378"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a6e74426a64ee74e3d3f0da6dd88db378">d6_recv_kernel_packet</a> (struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a> *peer_ipv6, struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d2/d6c/structd6__packet">d6_packet</a> *packet, int <a class="el" href="../../d3/d46/textbox_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>)</td></tr>
<tr class="separator:a6e74426a64ee74e3d3f0da6dd88db378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43d362d6837dd1503d33ab769c7b37b8"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a43d362d6837dd1503d33ab769c7b37b8">d6_send_raw_packet_from_client_data_ifindex</a> (struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d2/d6c/structd6__packet">d6_packet</a> *d6_pkt, unsigned d6_pkt_size, struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a> *src_ipv6, int source_port, struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a> *dst_ipv6, int dest_port, const <a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *dest_arp)</td></tr>
<tr class="separator:a43d362d6837dd1503d33ab769c7b37b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed4b1c54d3a3f6bc61b9bb82012bb1ea"><td class="memItemLeft" align="right" valign="top">int <a class="el" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#aed4b1c54d3a3f6bc61b9bb82012bb1ea">d6_send_kernel_packet_from_client_data_ifindex</a> (struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d2/d6c/structd6__packet">d6_packet</a> *d6_pkt, unsigned d6_pkt_size, struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a> *src_ipv6, int source_port, struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a> *dst_ipv6, int dest_port)</td></tr>
<tr class="separator:aed4b1c54d3a3f6bc61b9bb82012bb1ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adda333026f32f61a9c66b634575914d2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d2/d6c/structd6__packet">d6_packet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#adda333026f32f61a9c66b634575914d2">PACKED</a></td></tr>
<tr class="separator:adda333026f32f61a9c66b634575914d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3951f21cd278dbd0a52b4cff20a4c220"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/dc3/d6__common_8h.html#df/d55/structclient6__data__t">client6_data_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc3/d6__common_8h.html#a3951f21cd278dbd0a52b4cff20a4c220">FIX_ALIASING</a></td></tr>
<tr class="separator:a3951f21cd278dbd0a52b4cff20a4c220"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="d2/d6c/structd6__packet" id="d2/d6c/structd6__packet"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d2/d6c/structd6__packet">&#9670;&nbsp;</a></span>d6_packet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct d6_packet</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00032">32</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a2e2d8a29ec0b26062608cadf2ca48138"></a><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a></td>
<td class="fieldname">
d6_options[576 - sizeof(struct <a class="el" href="../../d0/dca/ip6_8h.html#d2/d9c/structip6__hdr">ip6_hdr</a>) - sizeof(struct <a class="el" href="../../d2/da7/udp_8h.html#d9/d22/structudphdr">udphdr</a>) - 4+CONFIG_UDHCPC_SLACK_FOR_BUGGY_SERVERS]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa8ae0f75ae743a0569c5da2fdcbae9f6"></a>union <a class="el" href="../../d4/dc3/d6__common_8h.html#d2/d72/uniond6__packet_8d6__u">d6_packet</a></td>
<td class="fieldname">
d6_u</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d0/d27/structip6__udp__d6__packet" id="d0/d27/structip6__udp__d6__packet"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d0/d27/structip6__udp__d6__packet">&#9670;&nbsp;</a></span>ip6_udp_d6_packet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ip6_udp_d6_packet</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00043">43</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a1f82f7e435be314ac823b6c7e0a6fb24"></a>struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d2/d6c/structd6__packet">d6_packet</a></td>
<td class="fieldname">
data</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a8fa639c9b2e842d947e62410907c0ba6"></a>struct <a class="el" href="../../d0/dca/ip6_8h.html#d2/d9c/structip6__hdr">ip6_hdr</a></td>
<td class="fieldname">
ip6</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a26b298d368c20aa489af1fe1eb19a31c"></a>struct <a class="el" href="../../d2/da7/udp_8h.html#d9/d22/structudphdr">udphdr</a></td>
<td class="fieldname">
udp</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="db/d0a/structudp__d6__packet" id="db/d0a/structudp__d6__packet"></a>
<h2 class="memtitle"><span class="permalink"><a href="#db/d0a/structudp__d6__packet">&#9670;&nbsp;</a></span>udp_d6_packet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct udp_d6_packet</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00049">49</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="add439357a275c670ef038e274414c3a4"></a>struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d2/d6c/structd6__packet">d6_packet</a></td>
<td class="fieldname">
data</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7c6d202bac4ed61dc2264d964a2c3784"></a>struct <a class="el" href="../../d2/da7/udp_8h.html#d9/d22/structudphdr">udphdr</a></td>
<td class="fieldname">
udp</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d7/d12/structd6__option" id="d7/d12/structd6__option"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d7/d12/structd6__option">&#9670;&nbsp;</a></span>d6_option</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct d6_option</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00056">56</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a673bd277e3953312fb5d6d9c27e76192"></a><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a></td>
<td class="fieldname">
code</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ade444b7feca1b1afe3cde2e500d818a5"></a><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a></td>
<td class="fieldname">
code_hi</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a55e1d3bea844333270065a77c4e6c685"></a><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a></td>
<td class="fieldname">
data[1]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a3bd23267f9d96b503006f08ece6c4cca"></a><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a></td>
<td class="fieldname">
len</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ad19c5f5c4f8014c2890977e740e774a9"></a><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a></td>
<td class="fieldname">
len_hi</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="df/d55/structclient6__data__t" id="df/d55/structclient6__data__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#df/d55/structclient6__data__t">&#9670;&nbsp;</a></span>client6_data_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct client6_data_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00153">153</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ad9fbf2e62075a8864c93dbde097188e5"></a>unsigned</td>
<td class="fieldname">
env_idx</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac23d3c4de010bffbd89ae1f0f584edc5"></a>char **</td>
<td class="fieldname">
env_ptr</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7e3c15ed1912c5ddfc681cf2389aa04e"></a>struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d7/d12/structd6__option">d6_option</a> *</td>
<td class="fieldname">
ia_na</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a579e306ba700309f50ab6a0741960dfa"></a>struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d7/d12/structd6__option">d6_option</a> *</td>
<td class="fieldname">
ia_pd</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a056388751773d3d778de31344ddb6792"></a>struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a></td>
<td class="fieldname">
ll_ip6</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aedd74d0895a1bacbddd5382958dad9fd"></a>struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d7/d12/structd6__option">d6_option</a> *</td>
<td class="fieldname">
server_id</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d2/d72/uniond6__packet_8d6__u" id="d2/d72/uniond6__packet_8d6__u"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d2/d72/uniond6__packet_8d6__u">&#9670;&nbsp;</a></span>d6_packet.d6_u</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union d6_packet.d6_u</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00033">33</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a380c2f4a3659a19e6f41db3c38ca0701"></a><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a></td>
<td class="fieldname">
d6_msg_type</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a06ebff7ed9236b35418bd60e01fe6327"></a><a class="el" href="../../d0/d18/ArithmeticOperations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>
<td class="fieldname">
d6_xid32</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a966f50563f47991887055412a7799897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a966f50563f47991887055412a7799897">&#9670;&nbsp;</a></span>client6_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define client6_data&#160;&#160;&#160;(*(struct <a class="el" href="../../d4/dc3/d6__common_8h.html#df/d55/structclient6__data__t">client6_data_t</a>*)(&amp;bb_common_bufsiz1[COMMON_BUFSIZE - sizeof(struct <a class="el" href="../../d4/dc3/d6__common_8h.html#df/d55/structclient6__data__t">client6_data_t</a>)]))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00163">163</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a0f33ff70a03154fed24fa0c27219b2d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f33ff70a03154fed24fa0c27219b2d8">&#9670;&nbsp;</a></span>d6_dump_packet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define d6_dump_packet</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">packet</td><td>)</td>
          <td>&#160;&#160;&#160;((void)0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00194">194</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="abc31c50b707e890c8ac63c0cfe6539ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc31c50b707e890c8ac63c0cfe6539ba">&#9670;&nbsp;</a></span>D6_MSG_ADVERTISE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_ADVERTISE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00019">19</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a472b293976f902f26efa282d5974344f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a472b293976f902f26efa282d5974344f">&#9670;&nbsp;</a></span>D6_MSG_CONFIRM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_CONFIRM&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00021">21</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="aab5c3d82a00b81d208f37141be63ef94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab5c3d82a00b81d208f37141be63ef94">&#9670;&nbsp;</a></span>D6_MSG_DECLINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_DECLINE&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00026">26</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a4010540c186df1ec87b870a8442a67e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4010540c186df1ec87b870a8442a67e2">&#9670;&nbsp;</a></span>D6_MSG_INFORMATION_REQUEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_INFORMATION_REQUEST&#160;&#160;&#160;11</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00028">28</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a147e580799c14c3621f111ddfcb6f2e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a147e580799c14c3621f111ddfcb6f2e3">&#9670;&nbsp;</a></span>D6_MSG_REBIND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_REBIND&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00023">23</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="af6fbf2dbdf1d97a60285a2292a722e7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6fbf2dbdf1d97a60285a2292a722e7f">&#9670;&nbsp;</a></span>D6_MSG_RECONFIGURE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_RECONFIGURE&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00027">27</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="aa91f9009b8f34c7539e8ff99ba73983e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa91f9009b8f34c7539e8ff99ba73983e">&#9670;&nbsp;</a></span>D6_MSG_RELAY_FORW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_RELAY_FORW&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00029">29</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="aca7c251c1f6889c2772f457c544f8ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca7c251c1f6889c2772f457c544f8ea3">&#9670;&nbsp;</a></span>D6_MSG_RELAY_REPL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_RELAY_REPL&#160;&#160;&#160;13</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00030">30</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a83b8ae608d2af5b540c221855ea200a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b8ae608d2af5b540c221855ea200a1">&#9670;&nbsp;</a></span>D6_MSG_RELEASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_RELEASE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00025">25</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a60d5cbb2931f69680e4f67fd10f5a387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60d5cbb2931f69680e4f67fd10f5a387">&#9670;&nbsp;</a></span>D6_MSG_RENEW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_RENEW&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00022">22</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a974d859ba107d79be2616a181aad5b5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a974d859ba107d79be2616a181aad5b5f">&#9670;&nbsp;</a></span>D6_MSG_REPLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_REPLY&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00024">24</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a6b1ff3e20bf02123558a4e9b49c4924c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b1ff3e20bf02123558a4e9b49c4924c">&#9670;&nbsp;</a></span>D6_MSG_REQUEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_REQUEST&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00020">20</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="ab2f2c4e36aff66d5642657e2d28e7e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2f2c4e36aff66d5642657e2d28e7e81">&#9670;&nbsp;</a></span>D6_MSG_SOLICIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_MSG_SOLICIT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00018">18</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="aa8cb421ab784d855668b90db907b3aa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8cb421ab784d855668b90db907b3aa5">&#9670;&nbsp;</a></span>d6_msg_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define d6_msg_type&#160;&#160;&#160;d6_u.d6_msg_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00040">40</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a5d9a6de3973e779c421d702b992efc97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d9a6de3973e779c421d702b992efc97">&#9670;&nbsp;</a></span>D6_OPT_BOOT_PARAM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_BOOT_PARAM&#160;&#160;&#160;60</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00149">149</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="acd717b0935cad05e4c8e8436c60783e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd717b0935cad05e4c8e8436c60783e1">&#9670;&nbsp;</a></span>D6_OPT_BOOT_URL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_BOOT_URL&#160;&#160;&#160;59</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00148">148</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a9e5aeca949e1493e3db1a3f5fccc1412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5aeca949e1493e3db1a3f5fccc1412">&#9670;&nbsp;</a></span>D6_OPT_CLIENT_FQDN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_CLIENT_FQDN&#160;&#160;&#160;39</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00143">143</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="addc5482fdb0140786df3e4a5f1da9399"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addc5482fdb0140786df3e4a5f1da9399">&#9670;&nbsp;</a></span>D6_OPT_CLIENTID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_CLIENTID&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00064">64</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a59cd0dcaec1cae8f3917b5a3206dac06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59cd0dcaec1cae8f3917b5a3206dac06">&#9670;&nbsp;</a></span>D6_OPT_DNS_SERVERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_DNS_SERVERS&#160;&#160;&#160;23</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00098">98</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a4c9bd4a9c0a3cc5aabdd1900be444b62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c9bd4a9c0a3cc5aabdd1900be444b62">&#9670;&nbsp;</a></span>D6_OPT_DOMAIN_LIST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_DOMAIN_LIST&#160;&#160;&#160;24</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00099">99</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="ae00174a258cdb0db1cd31fa1855a36d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae00174a258cdb0db1cd31fa1855a36d1">&#9670;&nbsp;</a></span>D6_OPT_ELAPSED_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_ELAPSED_TIME&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00078">78</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a0d518866bd3ee978ba0410473155abed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d518866bd3ee978ba0410473155abed">&#9670;&nbsp;</a></span>D6_OPT_IA_NA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_IA_NA&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00068">68</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="aaa59ab7d0d695936ffadfb0af4ec6288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa59ab7d0d695936ffadfb0af4ec6288">&#9670;&nbsp;</a></span>D6_OPT_IA_PD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_IA_PD&#160;&#160;&#160;25</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00103">103</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="aeb775f58d2b941b7a6d4a8988f06eb8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb775f58d2b941b7a6d4a8988f06eb8a">&#9670;&nbsp;</a></span>D6_OPT_IAADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_IAADDR&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00074">74</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a20895b63b922dcbe2a64ef9e5a58d87e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20895b63b922dcbe2a64ef9e5a58d87e">&#9670;&nbsp;</a></span>D6_OPT_IAPREFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_IAPREFIX&#160;&#160;&#160;26</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00105">105</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a284f9f691e3272d56c2974341df041db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a284f9f691e3272d56c2974341df041db">&#9670;&nbsp;</a></span>D6_OPT_ORO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_ORO&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00076">76</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a8503b47af83827f4cf0b7467dd649335"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8503b47af83827f4cf0b7467dd649335">&#9670;&nbsp;</a></span>D6_OPT_SERVERID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_SERVERID&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00065">65</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a4318a2c94a53e356b248cccf1e86a346"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4318a2c94a53e356b248cccf1e86a346">&#9670;&nbsp;</a></span>D6_OPT_STATUS_CODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_STATUS_CODE&#160;&#160;&#160;13</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00087">87</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a4b494d6983f68f0af7f7d9f21ff34425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b494d6983f68f0af7f7d9f21ff34425">&#9670;&nbsp;</a></span>D6_OPT_TZ_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_TZ_NAME&#160;&#160;&#160;42</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00146">146</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a33ffd1359f0ac6bc39d40234ebf1ce53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33ffd1359f0ac6bc39d40234ebf1ce53">&#9670;&nbsp;</a></span>D6_OPT_TZ_POSIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D6_OPT_TZ_POSIX&#160;&#160;&#160;41</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00145">145</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<a id="a90e22ebf4b09794db90889f5ac361134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90e22ebf4b09794db90889f5ac361134">&#9670;&nbsp;</a></span>d6_xid32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define d6_xid32&#160;&#160;&#160;d6_u.d6_xid32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00041">41</a> of file <a class="el" href="../../d4/dc3/d6__common_8h_source.html">d6_common.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a69a03de3b42e0f0892bea7f65980ac31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69a03de3b42e0f0892bea7f65980ac31">&#9670;&nbsp;</a></span>d6_listen_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a> d6_listen_socket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/dc9/d6__socket_8c_source.html#l00105">105</a> of file <a class="el" href="../../db/dc9/d6__socket_8c_source.html">d6_socket.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/d10/in_8h.html#d0/d26/structsockaddr__in6">sockaddr_in6</a> <a class="code" href="../../dd/daa/amd64_2Bootstrap_2Multiboot_21_2multiboot_8h.html#a8286ae6db03c34c4bb161accbfbfbbcd">addr</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../df/d31/busybox_2networking_2udhcp_2common_8h.html#a0f33114b48a079433e7703140bb82990">log2</a>(<span class="stringliteral">&quot;opening listen socket on *:%d %s&quot;</span>, <a class="code" href="../../d1/d4c/traceroute_8c.html#a2ed8e46b717479f8e2ef47a52d28d9ca">port</a>, inf);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#ae6f2fdc30cc9961e4a13768dc1eb32d6">xsocket</a>(<a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#a323f2649198fc7e64b19881869265618">PF_INET6</a>, <a class="code" href="../../d6/d46/arch_2mips_2bits_2socket_8h.html#a4db8b9a846c67404db0b6f014f9a9fdf">SOCK_DGRAM</a>, <a class="code" href="../../d1/d10/in_8h.html#ab332d40b15142f33a88d4fcb1d6a5920">IPPROTO_UDP</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a24d16a0c13f833d1e87e2b03be62f9cb">setsockopt_reuseaddr</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#a442b6a101d107ac4a7071a4d0949e61e">setsockopt_broadcast</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>) == -1)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a908d5535f4c6167da1ac613b29f4b7e4">bb_simple_perror_msg_and_die</a>(<span class="stringliteral">&quot;SO_BROADCAST&quot;</span>);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">/* SO_BINDTODEVICE doesn&#39;t work on ethernet aliases (ethN:M) */</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a> = <a class="code" href="../../d3/d82/convert_8h.html#a104a20698dd8f00e7d2711c811ea72ac">strrchr</a>(inf, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a>)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        *<a class="code" href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#a47b574df850e6aceae031a8e455e3947">setsockopt_bindtodevice</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>, inf))</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a94a607b4c69c9d6883ee67ee8d46aec4">xfunc_die</a>(); <span class="comment">/* warning is already printed */</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a>)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        *<a class="code" href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a> = <span class="charliteral">&#39;:&#39;</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a>(&amp;<a class="code" href="../../dd/daa/amd64_2Bootstrap_2Multiboot_21_2multiboot_8h.html#a8286ae6db03c34c4bb161accbfbfbbcd">addr</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/daa/amd64_2Bootstrap_2Multiboot_21_2multiboot_8h.html#a8286ae6db03c34c4bb161accbfbfbbcd">addr</a>));</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="../../dd/daa/amd64_2Bootstrap_2Multiboot_21_2multiboot_8h.html#a8286ae6db03c34c4bb161accbfbfbbcd">addr</a>.sin6_family = <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="../../dd/daa/amd64_2Bootstrap_2Multiboot_21_2multiboot_8h.html#a8286ae6db03c34c4bb161accbfbfbbcd">addr</a>.sin6_port = <a class="code" href="../../d8/d16/include_2arpa_2inet_8h.html#aec437835f2f42f362241b7c4535524ac">htons</a>(<a class="code" href="../../d1/d4c/traceroute_8c.html#a2ed8e46b717479f8e2ef47a52d28d9ca">port</a>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">/* addr.sin6_addr is all-zeros */</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a501589c7becaaada3bc8b150519be83d">xbind</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>, (<span class="keyword">struct</span> <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#d5/dad/structsockaddr">sockaddr</a> *)&amp;<a class="code" href="../../dd/daa/amd64_2Bootstrap_2Multiboot_21_2multiboot_8h.html#a8286ae6db03c34c4bb161accbfbfbbcd">addr</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/daa/amd64_2Bootstrap_2Multiboot_21_2multiboot_8h.html#a8286ae6db03c34c4bb161accbfbfbbcd">addr</a>));</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="ttc" id="aamd64_2Bootstrap_2Multiboot_21_2multiboot_8h_html_a8286ae6db03c34c4bb161accbfbfbbcd"><div class="ttname"><a href="../../dd/daa/amd64_2Bootstrap_2Multiboot_21_2multiboot_8h.html#a8286ae6db03c34c4bb161accbfbfbbcd">addr</a></div><div class="ttdeci">multiboot_uint64_t addr</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/daa/amd64_2Bootstrap_2Multiboot_21_2multiboot_8h_source.html#l00001">multiboot.h:1</a></div></div>
<div class="ttc" id="aarch_2mips_2bits_2socket_8h_html_a4db8b9a846c67404db0b6f014f9a9fdf"><div class="ttname"><a href="../../d6/d46/arch_2mips_2bits_2socket_8h.html#a4db8b9a846c67404db0b6f014f9a9fdf">SOCK_DGRAM</a></div><div class="ttdeci">#define SOCK_DGRAM</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d46/arch_2mips_2bits_2socket_8h_source.html#l00002">socket.h:2</a></div></div>
<div class="ttc" id="abusybox_2networking_2udhcp_2common_8h_html_a0f33114b48a079433e7703140bb82990"><div class="ttname"><a href="../../df/d31/busybox_2networking_2udhcp_2common_8h.html#a0f33114b48a079433e7703140bb82990">log2</a></div><div class="ttdeci">#define log2(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d31/busybox_2networking_2udhcp_2common_8h_source.html#l00322">common.h:322</a></div></div>
<div class="ttc" id="aconvert_8h_html_a104a20698dd8f00e7d2711c811ea72ac"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a104a20698dd8f00e7d2711c811ea72ac">strrchr</a></div><div class="ttdeci">char * strrchr(const char *String, int Char)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l00113">string.c:113</a></div></div>
<div class="ttc" id="aconvert_8h_html_ac72cd3c233680f95fd1d168a22c912ad"><div class="ttname"><a href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a></div><div class="ttdeci">#define memset(dest, c, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d82/convert_8h_source.html#l00120">convert.h:120</a></div></div>
<div class="ttc" id="ahdparm_8c_html_a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42"><div class="ttname"><a href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a></div><div class="ttdeci">@ fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/hdparm_8c_source.html#l00352">hdparm.c:352</a></div></div>
<div class="ttc" id="ain_8h_html_ab332d40b15142f33a88d4fcb1d6a5920"><div class="ttname"><a href="../../d1/d10/in_8h.html#ab332d40b15142f33a88d4fcb1d6a5920">IPPROTO_UDP</a></div><div class="ttdeci">#define IPPROTO_UDP</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d10/in_8h_source.html#l00082">in.h:82</a></div></div>
<div class="ttc" id="ain_8h_html_d0/d26/structsockaddr__in6"><div class="ttname"><a href="../../d1/d10/in_8h.html#d0/d26/structsockaddr__in6">sockaddr_in6</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d10/in_8h_source.html#l00034">in.h:34</a></div></div>
<div class="ttc" id="ainclude_2arpa_2inet_8h_html_aec437835f2f42f362241b7c4535524ac"><div class="ttname"><a href="../../d8/d16/include_2arpa_2inet_8h.html#aec437835f2f42f362241b7c4535524ac">htons</a></div><div class="ttdeci">uint16_t htons(uint16_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de8/htons_8c_source.html#l00004">htons.c:4</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_a323f2649198fc7e64b19881869265618"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#a323f2649198fc7e64b19881869265618">PF_INET6</a></div><div class="ttdeci">#define PF_INET6</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/include_2sys_2socket_8h_source.html#l00111">socket.h:111</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_aa03706b2738b9a58d4985dfbe99e1bac"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a></div><div class="ttdeci">#define AF_INET6</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/include_2sys_2socket_8h_source.html#l00161">socket.h:161</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_d5/dad/structsockaddr"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#d5/dad/structsockaddr">sockaddr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/include_2sys_2socket_8h_source.html#l00369">socket.h:369</a></div></div>
<div class="ttc" id="alibbb_8h_html_a24d16a0c13f833d1e87e2b03be62f9cb"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a24d16a0c13f833d1e87e2b03be62f9cb">setsockopt_reuseaddr</a></div><div class="ttdeci">void setsockopt_reuseaddr(int fd) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/xconnect_8c_source.html#l00036">xconnect.c:36</a></div></div>
<div class="ttc" id="alibbb_8h_html_a442b6a101d107ac4a7071a4d0949e61e"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a442b6a101d107ac4a7071a4d0949e61e">setsockopt_broadcast</a></div><div class="ttdeci">int setsockopt_broadcast(int fd) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4c/xconnect_8c_source.html#l00040">xconnect.c:40</a></div></div>
<div class="ttc" id="alibbb_8h_html_a47b574df850e6aceae031a8e455e3947"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a47b574df850e6aceae031a8e455e3947">setsockopt_bindtodevice</a></div><div class="ttdeci">int setsockopt_bindtodevice(int fd, const char *iface) FAST_FUNC</div></div>
<div class="ttc" id="alibbb_8h_html_a501589c7becaaada3bc8b150519be83d"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a501589c7becaaada3bc8b150519be83d">xbind</a></div><div class="ttdeci">void xbind(int sockfd, struct sockaddr *my_addr, socklen_t addrlen) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00493">xfuncs_printf.c:493</a></div></div>
<div class="ttc" id="alibbb_8h_html_a908d5535f4c6167da1ac613b29f4b7e4"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a908d5535f4c6167da1ac613b29f4b7e4">bb_simple_perror_msg_and_die</a></div><div class="ttdeci">void bb_simple_perror_msg_and_die(const char *s) NORETURN FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d45/perror__msg_8c_source.html#l00037">perror_msg.c:37</a></div></div>
<div class="ttc" id="alibbb_8h_html_a94a607b4c69c9d6883ee67ee8d46aec4"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a94a607b4c69c9d6883ee67ee8d46aec4">xfunc_die</a></div><div class="ttdeci">void xfunc_die(void) NORETURN FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d42/xfunc__die_8c_source.html#l00016">xfunc_die.c:16</a></div></div>
<div class="ttc" id="alibbb_8h_html_ae6f2fdc30cc9961e4a13768dc1eb32d6"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ae6f2fdc30cc9961e4a13768dc1eb32d6">xsocket</a></div><div class="ttdeci">int xsocket(int domain, int type, int protocol) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00468">xfuncs_printf.c:468</a></div></div>
<div class="ttc" id="atraceroute_8c_html_a2ed8e46b717479f8e2ef47a52d28d9ca"><div class="ttname"><a href="../../d1/d4c/traceroute_8c.html#a2ed8e46b717479f8e2ef47a52d28d9ca">port</a></div><div class="ttdeci">#define port</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4c/traceroute_8c_source.html#l00429">traceroute.c:429</a></div></div>
<div class="ttc" id="awi__stuff_8c_html_a807c7086c013f84fc8e3cc36e9969a26"><div class="ttname"><a href="../../d6/d23/wi__stuff_8c.html#a807c7086c013f84fc8e3cc36e9969a26">colon</a></div><div class="ttdeci">static patch_t * colon</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/wi__stuff_8c_source.html#l00348">wi_stuff.c:348</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/daa/amd64_2Bootstrap_2Multiboot_21_2multiboot_8h_source.html#l00001">addr</a>, <a class="el" href="../../d4/d92/include_2sys_2socket_8h_source.html#l00161">AF_INET6</a>, <a class="el" href="../../d9/d45/perror__msg_8c_source.html#l00037">bb_simple_perror_msg_and_die()</a>, <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00348">colon</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../d7/de8/htons_8c_source.html#l00004">htons()</a>, <a class="el" href="../../d1/d10/in_8h_source.html#l00082">IPPROTO_UDP</a>, <a class="el" href="../../df/d31/busybox_2networking_2udhcp_2common_8h_source.html#l00322">log2</a>, <a class="el" href="../../d3/d82/convert_8h_source.html#l00120">memset</a>, <a class="el" href="../../d4/d92/include_2sys_2socket_8h_source.html#l00111">PF_INET6</a>, <a class="el" href="../../d1/d4c/traceroute_8c_source.html#l00429">port</a>, <a class="el" href="../../d7/dd7/libbb_8h.html#a47b574df850e6aceae031a8e455e3947">setsockopt_bindtodevice()</a>, <a class="el" href="../../d8/d4c/xconnect_8c_source.html#l00040">setsockopt_broadcast()</a>, <a class="el" href="../../d8/d4c/xconnect_8c_source.html#l00036">setsockopt_reuseaddr()</a>, <a class="el" href="../../d6/d46/arch_2mips_2bits_2socket_8h_source.html#l00002">SOCK_DGRAM</a>, <a class="el" href="../../d1/db0/string_8c_source.html#l00113">strrchr()</a>, <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00493">xbind()</a>, <a class="el" href="../../d8/d42/xfunc__die_8c_source.html#l00016">xfunc_die()</a>, and <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00468">xsocket()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d3a/d6__dhcpc_8c_source.html#l01071">change_listen_mode()</a>.</p>

</div>
</div>
<a id="a6e175fffc9cfa8c6bf715d64c3c8e01e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e175fffc9cfa8c6bf715d64c3c8e01e">&#9670;&nbsp;</a></span>d6_read_interface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a> d6_read_interface </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ifindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a> *&#160;</td>
          <td class="paramname"><em>nip6</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>mac</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/dc9/d6__socket_8c_source.html#l00013">13</a> of file <a class="el" href="../../db/dc9/d6__socket_8c_source.html">d6_socket.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;{</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> = 3;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../dd/d5c/ifaddrs_8h.html#dc/d6f/structifaddrs">ifaddrs</a> *ifap, *ifa;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <a class="code" href="../../dd/d5c/ifaddrs_8h.html#ac533fb655ec25cc3cb569abe0a0ac32b">getifaddrs</a>(&amp;ifap);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keywordflow">for</span> (ifa = ifap; ifa; ifa = ifa-&gt;<a class="code" href="../../dd/d5c/ifaddrs_8h.html#a56ad9ba85e2c8f8634b8f15fc53b6447">ifa_next</a>) {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d1/d10/in_8h.html#d0/d26/structsockaddr__in6">sockaddr_in6</a> *sip6;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keywordflow">if</span> (!ifa-&gt;<a class="code" href="../../dd/d5c/ifaddrs_8h.html#a12d148f51adf48cee024fc6204f42c94">ifa_addr</a> || (<a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(ifa-&gt;<a class="code" href="../../dd/d5c/ifaddrs_8h.html#a15b0944beb947aaef5e8532635889f6f">ifa_name</a>, <a class="code" href="../../dd/dda/interface_8c.html#d9/dbe/structinterface">interface</a>) != 0))</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <span class="keywordflow">if</span> (ifa-&gt;<a class="code" href="../../dd/d5c/ifaddrs_8h.html#a12d148f51adf48cee024fc6204f42c94">ifa_addr</a>-&gt;<a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#ac6ef02e9a2e90a30218132ffd7b5a5c5">sa_family</a> == <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#aa89aa4cd481fe17260c3f5d493cc23f5">AF_PACKET</a>) {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d3/d76/packet_8h.html#dd/dd0/structsockaddr__ll">sockaddr_ll</a> *sll = (<span class="keywordtype">void</span>*)(ifa-&gt;<a class="code" href="../../dd/d5c/ifaddrs_8h.html#a12d148f51adf48cee024fc6204f42c94">ifa_addr</a>);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(mac, sll-&gt;<a class="code" href="../../d3/d76/packet_8h.html#a1ea2f1bc3ca923ee475495248ab567b7">sll_addr</a>, 6);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;            <a class="code" href="../../df/d31/busybox_2networking_2udhcp_2common_8h.html#a0f33114b48a079433e7703140bb82990">log2</a>(<span class="stringliteral">&quot;MAC %02x:%02x:%02x:%02x:%02x:%02x&quot;</span>,</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                mac[0], mac[1], mac[2], mac[3], mac[4], mac[5]</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            );</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            *ifindex = sll-&gt;<a class="code" href="../../d3/d76/packet_8h.html#a93b4976ed8e9d58cdcc620f5d1987f68">sll_ifindex</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            <a class="code" href="../../df/d31/busybox_2networking_2udhcp_2common_8h.html#a0f33114b48a079433e7703140bb82990">log2</a>(<span class="stringliteral">&quot;ifindex %d&quot;</span>, *ifindex);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> &amp;= (3 - (1&lt;&lt;0));</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">if</span> (ifa-&gt;<a class="code" href="../../dd/d5c/ifaddrs_8h.html#a12d148f51adf48cee024fc6204f42c94">ifa_addr</a>-&gt;<a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#ac6ef02e9a2e90a30218132ffd7b5a5c5">sa_family</a> == <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#a9930604d0e32588eae76f43ca38e7826">AF_INET</a>) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            *nip = ((<span class="keyword">struct </span><a class="code" href="../../d1/d10/in_8h.html#de/d38/structsockaddr__in">sockaddr_in</a> *)ifa-&gt;<a class="code" href="../../dd/d5c/ifaddrs_8h.html#a12d148f51adf48cee024fc6204f42c94">ifa_addr</a>)-&gt;sin_addr.s_addr;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            <a class="code" href="../../df/d31/busybox_2networking_2udhcp_2common_8h.html#a4a08134d33de38ac729a078692e7a1fa">log1</a>(<span class="stringliteral">&quot;IP %s&quot;</span>, <a class="code" href="../../d8/d16/include_2arpa_2inet_8h.html#a79933e019d4b9a6d268aed877fef85fc">inet_ntoa</a>(((<span class="keyword">struct</span> <a class="code" href="../../d1/d10/in_8h.html#de/d38/structsockaddr__in">sockaddr_in</a> *)ifa-&gt;<a class="code" href="../../dd/d5c/ifaddrs_8h.html#a12d148f51adf48cee024fc6204f42c94">ifa_addr</a>)-&gt;sin_addr));</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">/* RFC 3315</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> * 16. Client Source Address and Interface Selection</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> * &quot;When a client sends a DHCP message to the</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * All_DHCP_Relay_Agents_and_Servers address, ... ... The client</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> * MUST use a link-local address assigned to the interface for which it</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * is requesting configuration information as the source address in the</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> * header of the IP datagram.&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        sip6 = (<span class="keywordtype">void</span>*)(ifa-&gt;<a class="code" href="../../dd/d5c/ifaddrs_8h.html#a12d148f51adf48cee024fc6204f42c94">ifa_addr</a>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">if</span> (ifa-&gt;<a class="code" href="../../dd/d5c/ifaddrs_8h.html#a12d148f51adf48cee024fc6204f42c94">ifa_addr</a>-&gt;<a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#ac6ef02e9a2e90a30218132ffd7b5a5c5">sa_family</a> == <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;         &amp;&amp; <a class="code" href="../../d1/d10/in_8h.html#a4e1270776e869cc63ec5845d00b9354f">IN6_IS_ADDR_LINKLOCAL</a>(&amp;sip6-&gt;<a class="code" href="../../d1/d10/in_8h.html#a219e7f3ecd6d7dcf8fc2465475be490f">sin6_addr</a>)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        ) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            *nip6 = sip6-&gt;<a class="code" href="../../d1/d10/in_8h.html#a219e7f3ecd6d7dcf8fc2465475be490f">sin6_addr</a>; <span class="comment">/* struct copy */</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <a class="code" href="../../df/d31/busybox_2networking_2udhcp_2common_8h.html#a4a08134d33de38ac729a078692e7a1fa">log1</a>(</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                <span class="stringliteral">&quot;IPv6 %02x%02x:%02x%02x:%02x%02x:%02x%02x:%02x%02x:%02x%02x:%02x%02x:%02x%02x&quot;</span>,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                nip6-&gt;s6_addr[0], nip6-&gt;s6_addr[1],</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                nip6-&gt;s6_addr[2], nip6-&gt;s6_addr[3],</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                nip6-&gt;s6_addr[4], nip6-&gt;s6_addr[5],</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                nip6-&gt;s6_addr[6], nip6-&gt;s6_addr[7],</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                nip6-&gt;s6_addr[8], nip6-&gt;s6_addr[9],</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                nip6-&gt;s6_addr[10], nip6-&gt;s6_addr[11],</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                nip6-&gt;s6_addr[12], nip6-&gt;s6_addr[13],</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                nip6-&gt;s6_addr[14], nip6-&gt;s6_addr[15]</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            );</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> &amp;= (3 - (1&lt;&lt;1));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="../../dd/d5c/ifaddrs_8h.html#aae1ab42dec3f001575a7f51f61800f12">freeifaddrs</a>(ifap);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> &amp; (1&lt;&lt;0)) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">/* This iface has no MAC (e.g. ppp), generate a random one */</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keyword">struct </span>ifreq <a class="code" href="../../dd/db1/zcip_8c.html#a5d470f4f9c6ca695acff52d4cd494aa0">ifr</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="comment">/*memset(&amp;ifr, 0, sizeof(ifr)); - SIOCGIFINDEX does not need to clear all */</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#ae3b04012bba464fb9a083791195f1b05">strncpy_IFNAMSIZ</a>(<a class="code" href="../../dd/db1/zcip_8c.html#a5d470f4f9c6ca695acff52d4cd494aa0">ifr</a>.ifr_name, <a class="code" href="../../dd/dda/interface_8c.html#d9/dbe/structinterface">interface</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#ae6f2fdc30cc9961e4a13768dc1eb32d6">xsocket</a>(<a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>, <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#a346f84e37c42f88e91e7304c3d77fde8">SOCK_RAW</a>, <a class="code" href="../../d1/d10/in_8h.html#a0154c93d7a162b8576ee47e10be53239">IPPROTO_RAW</a>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/Userspace_2musl_2include_2stropts_8h.html#ae3a230c65883ec8edc50e3a09ca80003">ioctl</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d3/d9a/include_2sys_2ioctl_8h.html#aee74ae50c8ea0a6aee277c6f124a3866">SIOCGIFINDEX</a>, &amp;<a class="code" href="../../dd/db1/zcip_8c.html#a5d470f4f9c6ca695acff52d4cd494aa0">ifr</a>) == 0) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            *ifindex = <a class="code" href="../../dd/db1/zcip_8c.html#a5d470f4f9c6ca695acff52d4cd494aa0">ifr</a>.ifr_ifindex;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <a class="code" href="../../df/d31/busybox_2networking_2udhcp_2common_8h.html#a0f33114b48a079433e7703140bb82990">log2</a>(<span class="stringliteral">&quot;ifindex %d&quot;</span>, *ifindex);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">if</span> (((<a class="code" href="../../d0/d18/ArithmeticOperations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>*)mac)[0] == 0) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="comment">/* invent a fictitious MAC (once) */</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                ((<a class="code" href="../../d0/d18/ArithmeticOperations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>*)mac)[0] = <a class="code" href="../../d1/d7a/Userspace_2musl_2include_2stdlib_8h.html#ae23144bcbb8e3742b00eb687c36654d1">rand</a>();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                ((<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a5debae8b2a1ec20a6694c0c443ee399e">uint16_t</a>*)mac)[2] = <a class="code" href="../../d1/d7a/Userspace_2musl_2include_2stdlib_8h.html#ae23144bcbb8e3742b00eb687c36654d1">rand</a>();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                mac[0] &amp;= 0xfc; <span class="comment">/* make sure it&#39;s not bcast */</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> &amp;= (3 - (1&lt;&lt;0));</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> &amp; (1&lt;&lt;0))</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#aecf5d6000202e19c5831942dd4c87a87">bb_error_msg</a>(<span class="stringliteral">&quot;can&#39;t get %s&quot;</span>, <span class="stringliteral">&quot;MAC&quot;</span>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a> &amp; (1&lt;&lt;1))</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#aecf5d6000202e19c5831942dd4c87a87">bb_error_msg</a>(<span class="stringliteral">&quot;can&#39;t get %s&quot;</span>, <span class="stringliteral">&quot;link-local IPv6 address&quot;</span>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="ttc" id="aArithmeticOperations_8c_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="../../d0/d18/ArithmeticOperations_8c.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d18/ArithmeticOperations_8c_source.html#l00295">ArithmeticOperations.c:295</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a5debae8b2a1ec20a6694c0c443ee399e"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a5debae8b2a1ec20a6694c0c443ee399e">uint16_t</a></div><div class="ttdeci">__UINT16_TYPE__ uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00161">types.h:161</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2stdlib_8h_html_ae23144bcbb8e3742b00eb687c36654d1"><div class="ttname"><a href="../../d1/d7a/Userspace_2musl_2include_2stdlib_8h.html#ae23144bcbb8e3742b00eb687c36654d1">rand</a></div><div class="ttdeci">int rand(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df4/rand_8c_source.html#l00011">rand.c:11</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2stropts_8h_html_ae3a230c65883ec8edc50e3a09ca80003"><div class="ttname"><a href="../../d6/dfe/Userspace_2musl_2include_2stropts_8h.html#ae3a230c65883ec8edc50e3a09ca80003">ioctl</a></div><div class="ttdeci">int ioctl(int, int,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d32/ioctl_8c_source.html#l00128">ioctl.c:128</a></div></div>
<div class="ttc" id="aUserspace_2musl_2include_2unistd_8h_html_ae152484c890a24e4d9b4980e7b965be0"><div class="ttname"><a href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a></div><div class="ttdeci">int close(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d22/close_8c_source.html#l00013">close.c:13</a></div></div>
<div class="ttc" id="abusybox_2networking_2udhcp_2common_8h_html_a4a08134d33de38ac729a078692e7a1fa"><div class="ttname"><a href="../../df/d31/busybox_2networking_2udhcp_2common_8h.html#a4a08134d33de38ac729a078692e7a1fa">log1</a></div><div class="ttdeci">#define log1(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d31/busybox_2networking_2udhcp_2common_8h_source.html#l00320">common.h:320</a></div></div>
<div class="ttc" id="aconvert_8h_html_a309e07aa23e76adc2ad0830978663c45"><div class="ttname"><a href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a></div><div class="ttdeci">#define memcpy(dest, src, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d82/convert_8h_source.html#l00116">convert.h:116</a></div></div>
<div class="ttc" id="adcigettext_8c_html_afc953590cd5aa97b094d5efe72ceea6e"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#afc953590cd5aa97b094d5efe72ceea6e">retval</a></div><div class="ttdeci">char * retval</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00453">dcigettext.c:453</a></div></div>
<div class="ttc" id="adynlink_8c_html_af3054366f27929432795c5ae420a5294"><div class="ttname"><a href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a></div><div class="ttdeci">#define strcmp(l, r)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/dynlink_8c_source.html#l00174">dynlink.c:174</a></div></div>
<div class="ttc" id="aifaddrs_8h_html_a12d148f51adf48cee024fc6204f42c94"><div class="ttname"><a href="../../dd/d5c/ifaddrs_8h.html#a12d148f51adf48cee024fc6204f42c94">ifaddrs::ifa_addr</a></div><div class="ttdeci">struct sockaddr * ifa_addr</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/ifaddrs_8h_source.html#l00016">ifaddrs.h:16</a></div></div>
<div class="ttc" id="aifaddrs_8h_html_a15b0944beb947aaef5e8532635889f6f"><div class="ttname"><a href="../../dd/d5c/ifaddrs_8h.html#a15b0944beb947aaef5e8532635889f6f">ifaddrs::ifa_name</a></div><div class="ttdeci">char * ifa_name</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/ifaddrs_8h_source.html#l00014">ifaddrs.h:14</a></div></div>
<div class="ttc" id="aifaddrs_8h_html_a56ad9ba85e2c8f8634b8f15fc53b6447"><div class="ttname"><a href="../../dd/d5c/ifaddrs_8h.html#a56ad9ba85e2c8f8634b8f15fc53b6447">ifaddrs::ifa_next</a></div><div class="ttdeci">struct ifaddrs * ifa_next</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/ifaddrs_8h_source.html#l00013">ifaddrs.h:13</a></div></div>
<div class="ttc" id="aifaddrs_8h_html_aae1ab42dec3f001575a7f51f61800f12"><div class="ttname"><a href="../../dd/d5c/ifaddrs_8h.html#aae1ab42dec3f001575a7f51f61800f12">freeifaddrs</a></div><div class="ttdeci">void freeifaddrs(struct ifaddrs *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de3/getifaddrs_8c_source.html#l00047">getifaddrs.c:47</a></div></div>
<div class="ttc" id="aifaddrs_8h_html_ac533fb655ec25cc3cb569abe0a0ac32b"><div class="ttname"><a href="../../dd/d5c/ifaddrs_8h.html#ac533fb655ec25cc3cb569abe0a0ac32b">getifaddrs</a></div><div class="ttdeci">int getifaddrs(struct ifaddrs **)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de3/getifaddrs_8c_source.html#l00207">getifaddrs.c:207</a></div></div>
<div class="ttc" id="aifaddrs_8h_html_dc/d6f/structifaddrs"><div class="ttname"><a href="../../dd/d5c/ifaddrs_8h.html#dc/d6f/structifaddrs">ifaddrs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5c/ifaddrs_8h_source.html#l00012">ifaddrs.h:12</a></div></div>
<div class="ttc" id="ain_8h_html_a0154c93d7a162b8576ee47e10be53239"><div class="ttname"><a href="../../d1/d10/in_8h.html#a0154c93d7a162b8576ee47e10be53239">IPPROTO_RAW</a></div><div class="ttdeci">#define IPPROTO_RAW</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d10/in_8h_source.html#l00106">in.h:106</a></div></div>
<div class="ttc" id="ain_8h_html_a219e7f3ecd6d7dcf8fc2465475be490f"><div class="ttname"><a href="../../d1/d10/in_8h.html#a219e7f3ecd6d7dcf8fc2465475be490f">sockaddr_in6::sin6_addr</a></div><div class="ttdeci">struct in6_addr sin6_addr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d10/in_8h_source.html#l00037">in.h:38</a></div></div>
<div class="ttc" id="ain_8h_html_a4e1270776e869cc63ec5845d00b9354f"><div class="ttname"><a href="../../d1/d10/in_8h.html#a4e1270776e869cc63ec5845d00b9354f">IN6_IS_ADDR_LINKLOCAL</a></div><div class="ttdeci">#define IN6_IS_ADDR_LINKLOCAL(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d10/in_8h_source.html#l00122">in.h:122</a></div></div>
<div class="ttc" id="ain_8h_html_de/d38/structsockaddr__in"><div class="ttname"><a href="../../d1/d10/in_8h.html#de/d38/structsockaddr__in">sockaddr_in</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d10/in_8h_source.html#l00016">in.h:16</a></div></div>
<div class="ttc" id="ainclude_2arpa_2inet_8h_html_a79933e019d4b9a6d268aed877fef85fc"><div class="ttname"><a href="../../d8/d16/include_2arpa_2inet_8h.html#a79933e019d4b9a6d268aed877fef85fc">inet_ntoa</a></div><div class="ttdeci">char * inet_ntoa(struct in_addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d40/inet__ntoa_8c_source.html#l00004">inet_ntoa.c:4</a></div></div>
<div class="ttc" id="ainclude_2sys_2ioctl_8h_html_aee74ae50c8ea0a6aee277c6f124a3866"><div class="ttname"><a href="../../d3/d9a/include_2sys_2ioctl_8h.html#aee74ae50c8ea0a6aee277c6f124a3866">SIOCGIFINDEX</a></div><div class="ttdeci">#define SIOCGIFINDEX</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d9a/include_2sys_2ioctl_8h_source.html#l00084">ioctl.h:84</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_a346f84e37c42f88e91e7304c3d77fde8"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#a346f84e37c42f88e91e7304c3d77fde8">SOCK_RAW</a></div><div class="ttdeci">#define SOCK_RAW</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/include_2sys_2socket_8h_source.html#l00088">socket.h:88</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_a9930604d0e32588eae76f43ca38e7826"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#a9930604d0e32588eae76f43ca38e7826">AF_INET</a></div><div class="ttdeci">#define AF_INET</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/include_2sys_2socket_8h_source.html#l00153">socket.h:153</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_aa89aa4cd481fe17260c3f5d493cc23f5"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#aa89aa4cd481fe17260c3f5d493cc23f5">AF_PACKET</a></div><div class="ttdeci">#define AF_PACKET</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/include_2sys_2socket_8h_source.html#l00169">socket.h:169</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_ac6ef02e9a2e90a30218132ffd7b5a5c5"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#ac6ef02e9a2e90a30218132ffd7b5a5c5">sockaddr::sa_family</a></div><div class="ttdeci">sa_family_t sa_family</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/include_2sys_2socket_8h_source.html#l00370">socket.h:370</a></div></div>
<div class="ttc" id="ainterface_8c_html_d9/dbe/structinterface"><div class="ttname"><a href="../../dd/dda/interface_8c.html#d9/dbe/structinterface">interface</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dda/interface_8c_source.html#l00316">interface.c:316</a></div></div>
<div class="ttc" id="alibbb_8h_html_ae3b04012bba464fb9a083791195f1b05"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ae3b04012bba464fb9a083791195f1b05">strncpy_IFNAMSIZ</a></div><div class="ttdeci">char * strncpy_IFNAMSIZ(char *dst, const char *src) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6d/xfuncs_8c_source.html#l00049">xfuncs.c:49</a></div></div>
<div class="ttc" id="alibbb_8h_html_aecf5d6000202e19c5831942dd4c87a87"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#aecf5d6000202e19c5831942dd4c87a87">bb_error_msg</a></div><div class="ttdeci">void bb_error_msg(const char *s,...) __attribute__((format(printf</div></div>
<div class="ttc" id="apacket_8h_html_a1ea2f1bc3ca923ee475495248ab567b7"><div class="ttname"><a href="../../d3/d76/packet_8h.html#a1ea2f1bc3ca923ee475495248ab567b7">sockaddr_ll::sll_addr</a></div><div class="ttdeci">unsigned char sll_addr[8]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d76/packet_8h_source.html#l00013">packet.h:13</a></div></div>
<div class="ttc" id="apacket_8h_html_a93b4976ed8e9d58cdcc620f5d1987f68"><div class="ttname"><a href="../../d3/d76/packet_8h.html#a93b4976ed8e9d58cdcc620f5d1987f68">sockaddr_ll::sll_ifindex</a></div><div class="ttdeci">int sll_ifindex</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d76/packet_8h_source.html#l00010">packet.h:10</a></div></div>
<div class="ttc" id="apacket_8h_html_dd/dd0/structsockaddr__ll"><div class="ttname"><a href="../../d3/d76/packet_8h.html#dd/dd0/structsockaddr__ll">sockaddr_ll</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d76/packet_8h_source.html#l00008">packet.h:8</a></div></div>
<div class="ttc" id="azcip_8c_html_a5d470f4f9c6ca695acff52d4cd494aa0"><div class="ttname"><a href="../../dd/db1/zcip_8c.html#a5d470f4f9c6ca695acff52d4cd494aa0">ifr</a></div><div class="ttdeci">#define ifr</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d92/include_2sys_2socket_8h_source.html#l00153">AF_INET</a>, <a class="el" href="../../d4/d92/include_2sys_2socket_8h_source.html#l00161">AF_INET6</a>, <a class="el" href="../../d4/d92/include_2sys_2socket_8h_source.html#l00169">AF_PACKET</a>, <a class="el" href="../../d7/dd7/libbb_8h.html#aecf5d6000202e19c5831942dd4c87a87">bb_error_msg()</a>, <a class="el" href="../../d9/d22/close_8c_source.html#l00013">close()</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../d3/de3/getifaddrs_8c_source.html#l00047">freeifaddrs()</a>, <a class="el" href="../../d3/de3/getifaddrs_8c_source.html#l00207">getifaddrs()</a>, <a class="el" href="../../dd/d5c/ifaddrs_8h_source.html#l00016">ifaddrs::ifa_addr</a>, <a class="el" href="../../dd/d5c/ifaddrs_8h_source.html#l00014">ifaddrs::ifa_name</a>, <a class="el" href="../../dd/d5c/ifaddrs_8h_source.html#l00013">ifaddrs::ifa_next</a>, <a class="el" href="../../dd/db1/zcip_8c.html#a5d470f4f9c6ca695acff52d4cd494aa0">ifr</a>, <a class="el" href="../../d1/d10/in_8h_source.html#l00122">IN6_IS_ADDR_LINKLOCAL</a>, <a class="el" href="../../d9/d40/inet__ntoa_8c_source.html#l00004">inet_ntoa()</a>, <a class="el" href="../../dc/d32/ioctl_8c_source.html#l00128">ioctl()</a>, <a class="el" href="../../d1/d10/in_8h_source.html#l00106">IPPROTO_RAW</a>, <a class="el" href="../../df/d31/busybox_2networking_2udhcp_2common_8h_source.html#l00320">log1</a>, <a class="el" href="../../df/d31/busybox_2networking_2udhcp_2common_8h_source.html#l00322">log2</a>, <a class="el" href="../../d3/d82/convert_8h_source.html#l00116">memcpy</a>, <a class="el" href="../../d6/df4/rand_8c_source.html#l00011">rand()</a>, <a class="el" href="../../d0/d32/dcigettext_8c_source.html#l00453">retval</a>, <a class="el" href="../../d4/d92/include_2sys_2socket_8h_source.html#l00370">sockaddr::sa_family</a>, <a class="el" href="../../d1/d10/in_8h_source.html#l00038">sockaddr_in6::sin6_addr</a>, <a class="el" href="../../d3/d9a/include_2sys_2ioctl_8h_source.html#l00084">SIOCGIFINDEX</a>, <a class="el" href="../../d3/d76/packet_8h_source.html#l00013">sockaddr_ll::sll_addr</a>, <a class="el" href="../../d3/d76/packet_8h_source.html#l00010">sockaddr_ll::sll_ifindex</a>, <a class="el" href="../../d4/d92/include_2sys_2socket_8h_source.html#l00088">SOCK_RAW</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00174">strcmp</a>, <a class="el" href="../../df/d6d/xfuncs_8c_source.html#l00049">strncpy_IFNAMSIZ()</a>, and <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00468">xsocket()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d3a/d6__dhcpc_8c_source.html#l01176">udhcpc6_main()</a>.</p>

</div>
</div>
<a id="a6e74426a64ee74e3d3f0da6dd88db378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e74426a64ee74e3d3f0da6dd88db378">&#9670;&nbsp;</a></span>d6_recv_kernel_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a> d6_recv_kernel_packet </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a> *&#160;</td>
          <td class="paramname"><em>peer_ipv6</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d2/d6c/structd6__packet">d6_packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../de/d3a/d6__dhcpc_8c_source.html#l01176">udhcpc6_main()</a>.</p>

</div>
</div>
<a id="aed4b1c54d3a3f6bc61b9bb82012bb1ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed4b1c54d3a3f6bc61b9bb82012bb1ea">&#9670;&nbsp;</a></span>d6_send_kernel_packet_from_client_data_ifindex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a> d6_send_kernel_packet_from_client_data_ifindex </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d2/d6c/structd6__packet">d6_packet</a> *&#160;</td>
          <td class="paramname"><em>d6_pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>d6_pkt_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a> *&#160;</td>
          <td class="paramname"><em>src_ipv6</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a> *&#160;</td>
          <td class="paramname"><em>dst_ipv6</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dest_port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d59/d6__packet_8c_source.html#l00139">139</a> of file <a class="el" href="../../da/d59/d6__packet_8c_source.html">d6_packet.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/d10/in_8h.html#d0/d26/structsockaddr__in6">sockaddr_in6</a> sa;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordtype">int</span> result = -1;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *msg;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#ad8757ba7b643ff8279abf9593f543494">socket</a>(<a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#a323f2649198fc7e64b19881869265618">PF_INET6</a>, <a class="code" href="../../d6/d46/arch_2mips_2bits_2socket_8h.html#a4db8b9a846c67404db0b6f014f9a9fdf">SOCK_DGRAM</a>, <a class="code" href="../../d1/d10/in_8h.html#ab332d40b15142f33a88d4fcb1d6a5920">IPPROTO_UDP</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        msg = <span class="stringliteral">&quot;socket(%s)&quot;</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">goto</span> ret_msg;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a24d16a0c13f833d1e87e2b03be62f9cb">setsockopt_reuseaddr</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a>(&amp;sa, 0, <span class="keyword">sizeof</span>(sa));</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    sa.sin6_family = <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    sa.sin6_port = <a class="code" href="../../d8/d16/include_2arpa_2inet_8h.html#aec437835f2f42f362241b7c4535524ac">htons</a>(source_port);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    sa.sin6_addr = *src_ipv6; <span class="comment">/* struct copy */</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#a094a361ee16e223113c7d037ef90e4a0">bind</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>, (<span class="keyword">struct</span> <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#d5/dad/structsockaddr">sockaddr</a> *)&amp;sa, <span class="keyword">sizeof</span>(sa)) == -1) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        msg = <span class="stringliteral">&quot;bind(%s)&quot;</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">goto</span> ret_close;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a>(&amp;sa, 0, <span class="keyword">sizeof</span>(sa));</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    sa.sin6_family = <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    sa.sin6_port = <a class="code" href="../../d8/d16/include_2arpa_2inet_8h.html#aec437835f2f42f362241b7c4535524ac">htons</a>(dest_port);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    sa.sin6_addr = *dst_ipv6; <span class="comment">/* struct copy */</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    sa.sin6_scope_id = <a class="code" href="../../d2/d83/dhcpc_8h.html#aad5c1aabc9e81ae15c8b47f72ace9975">client_data</a>.ifindex;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#a7ca3c7f46ede783d48a99ee5a98bd2b0">connect</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>, (<span class="keyword">struct</span> <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#d5/dad/structsockaddr">sockaddr</a> *)&amp;sa, <span class="keyword">sizeof</span>(sa)) == -1) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        msg = <span class="stringliteral">&quot;connect&quot;</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">goto</span> ret_close;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="../../d4/dc3/d6__common_8h.html#a0f33ff70a03154fed24fa0c27219b2d8">d6_dump_packet</a>(d6_pkt);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    result = <a class="code" href="../../d7/dd7/libbb_8h.html#ad132052ee46a5de0e2cbcf6f3e40e49e">safe_write</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>, d6_pkt, d6_pkt_size);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    msg = <span class="stringliteral">&quot;write&quot;</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; ret_close:</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; ret_msg:</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#ae66d6488a9b5fcf4653c6bbc2fc4365b">bb_perror_msg</a>(msg, <span class="stringliteral">&quot;UDP&quot;</span>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="ttc" id="ad6__common_8h_html_a0f33ff70a03154fed24fa0c27219b2d8"><div class="ttname"><a href="../../d4/dc3/d6__common_8h.html#a0f33ff70a03154fed24fa0c27219b2d8">d6_dump_packet</a></div><div class="ttdeci">#define d6_dump_packet(packet)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc3/d6__common_8h_source.html#l00194">d6_common.h:194</a></div></div>
<div class="ttc" id="adhcpc_8h_html_aad5c1aabc9e81ae15c8b47f72ace9975"><div class="ttname"><a href="../../d2/d83/dhcpc_8h.html#aad5c1aabc9e81ae15c8b47f72ace9975">client_data</a></div><div class="ttdeci">#define client_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d83/dhcpc_8h_source.html#l00032">dhcpc.h:32</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_a094a361ee16e223113c7d037ef90e4a0"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#a094a361ee16e223113c7d037ef90e4a0">bind</a></div><div class="ttdeci">int bind(int, const struct sockaddr *, socklen_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d6e/musl_2src_2network_2bind_8c_source.html#l00004">bind.c:4</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_a7ca3c7f46ede783d48a99ee5a98bd2b0"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#a7ca3c7f46ede783d48a99ee5a98bd2b0">connect</a></div><div class="ttdeci">int connect(int, const struct sockaddr *, socklen_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc3/connect_8c_source.html#l00004">connect.c:4</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_ad8757ba7b643ff8279abf9593f543494"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#ad8757ba7b643ff8279abf9593f543494">socket</a></div><div class="ttdeci">int socket(int, int, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df0/musl_2src_2network_2socket_8c_source.html#l00006">socket.c:6</a></div></div>
<div class="ttc" id="alibbb_8h_html_ad132052ee46a5de0e2cbcf6f3e40e49e"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ad132052ee46a5de0e2cbcf6f3e40e49e">safe_write</a></div><div class="ttdeci">ssize_t safe_write(int fd, const void *buf, size_t count) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/safe__write_8c_source.html#l00011">safe_write.c:11</a></div></div>
<div class="ttc" id="alibbb_8h_html_ae66d6488a9b5fcf4653c6bbc2fc4365b"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ae66d6488a9b5fcf4653c6bbc2fc4365b">bb_perror_msg</a></div><div class="ttdeci">void bb_perror_msg(const char *s,...) __attribute__((format(printf</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d92/include_2sys_2socket_8h_source.html#l00161">AF_INET6</a>, <a class="el" href="../../d7/dd7/libbb_8h.html#ae66d6488a9b5fcf4653c6bbc2fc4365b">bb_perror_msg()</a>, <a class="el" href="../../db/d6e/musl_2src_2network_2bind_8c_source.html#l00004">bind()</a>, <a class="el" href="../../d2/d83/dhcpc_8h_source.html#l00032">client_data</a>, <a class="el" href="../../d9/d22/close_8c_source.html#l00013">close()</a>, <a class="el" href="../../d0/dc3/connect_8c_source.html#l00004">connect()</a>, <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00194">d6_dump_packet</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../d7/de8/htons_8c_source.html#l00004">htons()</a>, <a class="el" href="../../d1/d10/in_8h_source.html#l00082">IPPROTO_UDP</a>, <a class="el" href="../../d3/d82/convert_8h_source.html#l00120">memset</a>, <a class="el" href="../../d4/d92/include_2sys_2socket_8h_source.html#l00111">PF_INET6</a>, <a class="el" href="../../d2/d5a/safe__write_8c_source.html#l00011">safe_write()</a>, <a class="el" href="../../d8/d4c/xconnect_8c_source.html#l00036">setsockopt_reuseaddr()</a>, <a class="el" href="../../d1/d10/in_8h_source.html#l00038">sockaddr_in6::sin6_addr</a>, <a class="el" href="../../d1/d10/in_8h_source.html#l00035">sockaddr_in6::sin6_family</a>, <a class="el" href="../../d1/d10/in_8h_source.html#l00036">sockaddr_in6::sin6_port</a>, <a class="el" href="../../d1/d10/in_8h_source.html#l00039">sockaddr_in6::sin6_scope_id</a>, <a class="el" href="../../d6/d46/arch_2mips_2bits_2socket_8h_source.html#l00002">SOCK_DGRAM</a>, and <a class="el" href="../../dd/df0/musl_2src_2network_2socket_8c_source.html#l00006">socket()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d3a/d6__dhcpc_8c_source.html#l00876">send_d6_release()</a>, and <a class="el" href="../../de/d3a/d6__dhcpc_8c_source.html#l00841">send_d6_renew()</a>.</p>

</div>
</div>
<a id="a43d362d6837dd1503d33ab769c7b37b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43d362d6837dd1503d33ab769c7b37b8">&#9670;&nbsp;</a></span>d6_send_raw_packet_from_client_data_ifindex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a> d6_send_raw_packet_from_client_data_ifindex </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d2/d6c/structd6__packet">d6_packet</a> *&#160;</td>
          <td class="paramname"><em>d6_pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>d6_pkt_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a> *&#160;</td>
          <td class="paramname"><em>src_ipv6</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/d10/in_8h.html#d4/d7d/structin6__addr">in6_addr</a> *&#160;</td>
          <td class="paramname"><em>dst_ipv6</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dest_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>dest_arp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d59/d6__packet_8c_source.html#l00054">54</a> of file <a class="el" href="../../da/d59/d6__packet_8c_source.html">d6_packet.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/d76/packet_8h.html#dd/dd0/structsockaddr__ll">sockaddr_ll</a> dest_sll;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/dc3/d6__common_8h.html#d0/d27/structip6__udp__d6__packet">ip6_udp_d6_packet</a> packet;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordtype">int</span> result = -1;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *msg;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#ad8757ba7b643ff8279abf9593f543494">socket</a>(<a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#a8e297adb5fe2e28b0d9d921a5d56a8e9">PF_PACKET</a>, <a class="code" href="../../d6/d46/arch_2mips_2bits_2socket_8h.html#a4db8b9a846c67404db0b6f014f9a9fdf">SOCK_DGRAM</a>, <a class="code" href="../../d8/d16/include_2arpa_2inet_8h.html#aec437835f2f42f362241b7c4535524ac">htons</a>(<a class="code" href="../../d9/dfa/if__ether_8h.html#a576495a8af5ed315a5db5dd9520b6b61">ETH_P_IPV6</a>));</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        msg = <span class="stringliteral">&quot;socket(%s)&quot;</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">goto</span> ret_msg;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a>(&amp;dest_sll, 0, <span class="keyword">sizeof</span>(dest_sll));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#ac72cd3c233680f95fd1d168a22c912ad">memset</a>(&amp;packet, 0, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#afd049f7ad59dbe455f460807475c2841">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/dc3/d6__common_8h.html#d0/d27/structip6__udp__d6__packet">ip6_udp_d6_packet</a>, <a class="code" href="../../d4/dc3/d6__common_8h.html#a1f82f7e435be314ac823b6c7e0a6fb24">data</a>));</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    packet.data = *d6_pkt; <span class="comment">/* struct copy */</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    dest_sll.sll_family = <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#aa89aa4cd481fe17260c3f5d493cc23f5">AF_PACKET</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    dest_sll.sll_protocol = <a class="code" href="../../d8/d16/include_2arpa_2inet_8h.html#aec437835f2f42f362241b7c4535524ac">htons</a>(<a class="code" href="../../d9/dfa/if__ether_8h.html#a576495a8af5ed315a5db5dd9520b6b61">ETH_P_IPV6</a>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    dest_sll.sll_ifindex = <a class="code" href="../../d2/d83/dhcpc_8h.html#aad5c1aabc9e81ae15c8b47f72ace9975">client_data</a>.ifindex;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">/*dest_sll.sll_hatype = ARPHRD_???;*/</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">/*dest_sll.sll_pkttype = PACKET_???;*/</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    dest_sll.sll_halen = 6;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="../../d3/d82/convert_8h.html#a309e07aa23e76adc2ad0830978663c45">memcpy</a>(dest_sll.sll_addr, dest_arp, 6);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">//TODO: is bind() necessary? we sendto() to this destination, should work anyway</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#a094a361ee16e223113c7d037ef90e4a0">bind</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>, (<span class="keyword">struct</span> <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#d5/dad/structsockaddr">sockaddr</a> *)&amp;dest_sll, <span class="keyword">sizeof</span>(dest_sll)) &lt; 0) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        msg = <span class="stringliteral">&quot;bind(%s)&quot;</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">goto</span> ret_close;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    packet.ip6.ip6_vfc = (6 &lt;&lt; 4); <span class="comment">/* 4 bits version, top 4 bits of tclass */</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">// In case we have no IPv6 on our interface at all, we can try</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">// to fill &quot;all hosts&quot; mcast address as source:</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">//  /* FF02::1 is Link-local &quot;All_Nodes&quot; address */</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">//  packet.ip6.ip6_dst.s6_addr[0] = 0xff;</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">//  packet.ip6.ip6_dst.s6_addr[1] = 0x02;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">//  packet.ip6.ip6_dst.s6_addr[15] = 0x01;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">// Maybe some servers will be able to respond to us this way?</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">// Users report that leaving ::0 address there makes servers try to reply to ::0,</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">// which doesn&#39;t work.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (src_ipv6)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        packet.ip6.ip6_src = *src_ipv6; <span class="comment">/* struct copy */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    packet.ip6.ip6_dst = *dst_ipv6; <span class="comment">/* struct copy */</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    packet.udp.source = <a class="code" href="../../d8/d16/include_2arpa_2inet_8h.html#aec437835f2f42f362241b7c4535524ac">htons</a>(source_port);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    packet.udp.dest = <a class="code" href="../../d8/d16/include_2arpa_2inet_8h.html#aec437835f2f42f362241b7c4535524ac">htons</a>(dest_port);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">/* size, excluding IP header: */</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    packet.udp.len = <a class="code" href="../../d8/d16/include_2arpa_2inet_8h.html#aec437835f2f42f362241b7c4535524ac">htons</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/da7/udp_8h.html#d9/d22/structudphdr">udphdr</a>) + d6_pkt_size);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    packet.ip6.ip6_plen = packet.udp.len;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">     * Someone was smoking weed (at least) while inventing UDP checksumming:</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">     * UDP checksum skips first four bytes of IPv6 header.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">     * &#39;next header&#39; field should be summed as if it is one more byte</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">     * to the right, therefore we write its value (IPPROTO_UDP)</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">     * into ip6_hlim, and its &#39;real&#39; location remains zero-filled for now.</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    packet.ip6.ip6_hlim = <a class="code" href="../../d1/d10/in_8h.html#ab332d40b15142f33a88d4fcb1d6a5920">IPPROTO_UDP</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    packet.udp.check = <a class="code" href="../../d7/dd7/libbb_8h.html#acb6ac7d9715acaf68142eb32016c9161">inet_cksum</a>(</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            (<a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *)&amp;packet + 4,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#afd049f7ad59dbe455f460807475c2841">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/dc3/d6__common_8h.html#d0/d27/structip6__udp__d6__packet">ip6_udp_d6_packet</a>, <a class="code" href="../../d4/dc3/d6__common_8h.html#a1f82f7e435be314ac823b6c7e0a6fb24">data</a>) - 4 + d6_pkt_size</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    );</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">/* fix &#39;hop limit&#39; and &#39;next header&#39; after UDP checksumming */</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    packet.ip6.ip6_hlim = 1; <span class="comment">/* observed Windows machines to use hlim=1 */</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    packet.ip6.ip6_nxt = <a class="code" href="../../d1/d10/in_8h.html#ab332d40b15142f33a88d4fcb1d6a5920">IPPROTO_UDP</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="../../d4/dc3/d6__common_8h.html#a0f33ff70a03154fed24fa0c27219b2d8">d6_dump_packet</a>(d6_pkt);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    result = <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#ab0461963b6a05a6f0c14c42ffbc5d87b">sendto</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>, &amp;packet, <a class="code" href="../../d0/df4/Kernel_2include_2types_8h.html#afd049f7ad59dbe455f460807475c2841">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/dc3/d6__common_8h.html#d0/d27/structip6__udp__d6__packet">ip6_udp_d6_packet</a>, <a class="code" href="../../d4/dc3/d6__common_8h.html#a1f82f7e435be314ac823b6c7e0a6fb24">data</a>) + d6_pkt_size,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="comment">/*flags:*/</span> 0,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            (<span class="keyword">struct</span> <a class="code" href="../../d4/d92/include_2sys_2socket_8h.html#d5/dad/structsockaddr">sockaddr</a> *) &amp;dest_sll, <span class="keyword">sizeof</span>(dest_sll)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    );</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    msg = <span class="stringliteral">&quot;sendto&quot;</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; ret_close:</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="../../db/dad/Userspace_2musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a4f1fe3896ed1cc62474c5180fcfc5fdda1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; ret_msg:</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#ae66d6488a9b5fcf4653c6bbc2fc4365b">bb_perror_msg</a>(msg, <span class="stringliteral">&quot;PACKET&quot;</span>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="ttc" id="aKernel_2include_2types_8h_html_a3cb4a16b0e8d6af0af86d4fd6ba5fd9d"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a></div><div class="ttdeci">__UINT8_TYPE__ uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00160">types.h:160</a></div></div>
<div class="ttc" id="aKernel_2include_2types_8h_html_afd049f7ad59dbe455f460807475c2841"><div class="ttname"><a href="../../d0/df4/Kernel_2include_2types_8h.html#afd049f7ad59dbe455f460807475c2841">offsetof</a></div><div class="ttdeci">#define offsetof(type, member)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00083">types.h:83</a></div></div>
<div class="ttc" id="ad6__common_8h_html_a1f82f7e435be314ac823b6c7e0a6fb24"><div class="ttname"><a href="../../d4/dc3/d6__common_8h.html#a1f82f7e435be314ac823b6c7e0a6fb24">ip6_udp_d6_packet::data</a></div><div class="ttdeci">struct d6_packet data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc3/d6__common_8h_source.html#l00035">d6_common.h:46</a></div></div>
<div class="ttc" id="ad6__common_8h_html_d0/d27/structip6__udp__d6__packet"><div class="ttname"><a href="../../d4/dc3/d6__common_8h.html#d0/d27/structip6__udp__d6__packet">ip6_udp_d6_packet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc3/d6__common_8h_source.html#l00043">d6_common.h:43</a></div></div>
<div class="ttc" id="aif__ether_8h_html_a576495a8af5ed315a5db5dd9520b6b61"><div class="ttname"><a href="../../d9/dfa/if__ether_8h.html#a576495a8af5ed315a5db5dd9520b6b61">ETH_P_IPV6</a></div><div class="ttdeci">#define ETH_P_IPV6</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dfa/if__ether_8h_source.html#l00043">if_ether.h:43</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_a8e297adb5fe2e28b0d9d921a5d56a8e9"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#a8e297adb5fe2e28b0d9d921a5d56a8e9">PF_PACKET</a></div><div class="ttdeci">#define PF_PACKET</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d92/include_2sys_2socket_8h_source.html#l00119">socket.h:119</a></div></div>
<div class="ttc" id="ainclude_2sys_2socket_8h_html_ab0461963b6a05a6f0c14c42ffbc5d87b"><div class="ttname"><a href="../../d4/d92/include_2sys_2socket_8h.html#ab0461963b6a05a6f0c14c42ffbc5d87b">sendto</a></div><div class="ttdeci">ssize_t sendto(int, const void *, size_t, int, const struct sockaddr *, socklen_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/sendto_8c_source.html#l00004">sendto.c:4</a></div></div>
<div class="ttc" id="alibbb_8h_html_acb6ac7d9715acaf68142eb32016c9161"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#acb6ac7d9715acaf68142eb32016c9161">inet_cksum</a></div><div class="ttdeci">uint16_t inet_cksum(const void *addr, int len) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/inet__cksum_8c_source.html#l00009">inet_cksum.c:9</a></div></div>
<div class="ttc" id="audp_8h_html_d9/d22/structudphdr"><div class="ttname"><a href="../../d2/da7/udp_8h.html#d9/d22/structudphdr">udphdr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da7/udp_8h_source.html#l00018">udp.h:18</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d92/include_2sys_2socket_8h_source.html#l00169">AF_PACKET</a>, <a class="el" href="../../d7/dd7/libbb_8h.html#ae66d6488a9b5fcf4653c6bbc2fc4365b">bb_perror_msg()</a>, <a class="el" href="../../db/d6e/musl_2src_2network_2bind_8c_source.html#l00004">bind()</a>, <a class="el" href="../../d2/d83/dhcpc_8h_source.html#l00032">client_data</a>, <a class="el" href="../../d9/d22/close_8c_source.html#l00013">close()</a>, <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00194">d6_dump_packet</a>, <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00046">ip6_udp_d6_packet::data</a>, <a class="el" href="../../d9/dfa/if__ether_8h_source.html#l00043">ETH_P_IPV6</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../d7/de8/htons_8c_source.html#l00004">htons()</a>, <a class="el" href="../../d7/d20/inet__cksum_8c_source.html#l00009">inet_cksum()</a>, <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00044">ip6_udp_d6_packet::ip6</a>, <a class="el" href="../../d0/dca/ip6_8h_source.html#l00022">ip6_hdr::ip6_dst</a>, <a class="el" href="../../d0/dca/ip6_8h_source.html#l00021">ip6_hdr::ip6_src</a>, <a class="el" href="../../d1/d10/in_8h_source.html#l00082">IPPROTO_UDP</a>, <a class="el" href="../../d3/d82/convert_8h_source.html#l00116">memcpy</a>, <a class="el" href="../../d3/d82/convert_8h_source.html#l00120">memset</a>, <a class="el" href="../../d0/df4/Kernel_2include_2types_8h_source.html#l00083">offsetof</a>, <a class="el" href="../../d4/d92/include_2sys_2socket_8h_source.html#l00119">PF_PACKET</a>, <a class="el" href="../../d9/d63/sendto_8c_source.html#l00004">sendto()</a>, <a class="el" href="../../d3/d76/packet_8h_source.html#l00013">sockaddr_ll::sll_addr</a>, <a class="el" href="../../d3/d76/packet_8h_source.html#l00009">sockaddr_ll::sll_family</a>, <a class="el" href="../../d3/d76/packet_8h_source.html#l00012">sockaddr_ll::sll_halen</a>, <a class="el" href="../../d3/d76/packet_8h_source.html#l00010">sockaddr_ll::sll_ifindex</a>, <a class="el" href="../../d3/d76/packet_8h_source.html#l00009">sockaddr_ll::sll_protocol</a>, <a class="el" href="../../d6/d46/arch_2mips_2bits_2socket_8h_source.html#l00002">SOCK_DGRAM</a>, <a class="el" href="../../dd/df0/musl_2src_2network_2socket_8c_source.html#l00006">socket()</a>, and <a class="el" href="../../d4/dc3/d6__common_8h_source.html#l00045">ip6_udp_d6_packet::udp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d3a/d6__dhcpc_8c_source.html#l00548">d6_mcast_from_client_data_ifindex()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3951f21cd278dbd0a52b4cff20a4c220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3951f21cd278dbd0a52b4cff20a4c220">&#9670;&nbsp;</a></span>FIX_ALIASING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/dc3/d6__common_8h.html#df/d55/structclient6__data__t">client6_data_t</a> <a class="el" href="../../d8/d83/get__header__tar_8c.html#af230a4e6036a0e13213958c0ad0632fe">FIX_ALIASING</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adda333026f32f61a9c66b634575914d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adda333026f32f61a9c66b634575914d2">&#9670;&nbsp;</a></span>PACKED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/dc3/d6__common_8h.html#d7/d12/structd6__option">d6_option</a> <a class="el" href="../../d8/ded/decompress__unlzma_8c.html#d5/d21/structPACKED">PACKED</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97d86ce2f18c7710ea326fa47777d7d7.html">Userspace</a></li><li class="navelem"><a class="el" href="../../dir_0276b9b7d706caf6f8b101518c949f15.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_825a5fc57f8484006531699dcb39fa0d.html">base</a></li><li class="navelem"><a class="el" href="../../dir_87e330aa425985c7f88c27f5b355b004.html">busybox</a></li><li class="navelem"><a class="el" href="../../dir_e8fbedeaf6f588ea7cb6456e98eed78d.html">networking</a></li><li class="navelem"><a class="el" href="../../dir_d8f6c4f4da94ec9b8e8183c1e42712f4.html">udhcp</a></li><li class="navelem"><a class="el" href="../../d4/dc3/d6__common_8h.html">d6_common.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
