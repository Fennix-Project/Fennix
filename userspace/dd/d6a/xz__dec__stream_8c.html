<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fennix Userspace: Userspace/apps/base/busybox/archival/libarchive/unxz/xz_dec_stream.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fennix Userspace
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Fennix Userspace Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dd/d6a/xz__dec__stream_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">xz_dec_stream.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../dd/db8/xz__private_8h_source.html">xz_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/da3/xz__stream_8h_source.html">xz_stream.h</a>&quot;</code><br />
</div>
<p><a href="../../dd/d6a/xz__dec__stream_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:dc/da3/structxz__dec__hash"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#dc/da3/structxz__dec__hash">xz_dec_hash</a></td></tr>
<tr class="separator:dc/da3/structxz__dec__hash"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d4/d31/structxz__dec_8block__header"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#d4/d31/structxz__dec_8block__header">xz_dec.block_header</a></td></tr>
<tr class="separator:d4/d31/structxz__dec_8block__header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dc/d1a/structxz__dec_8block"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#dc/d1a/structxz__dec_8block">xz_dec.block</a></td></tr>
<tr class="separator:dc/d1a/structxz__dec_8block"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d7/d87/structxz__dec_8index"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#d7/d87/structxz__dec_8index">xz_dec.index</a></td></tr>
<tr class="separator:d7/d87/structxz__dec_8index"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d9/d36/structxz__dec_8temp"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#d9/d36/structxz__dec_8temp">xz_dec.temp</a></td></tr>
<tr class="separator:d9/d36/structxz__dec_8temp"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad0234ff9ee2e20c68dddb136a7c15422"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d5e/stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#ad0234ff9ee2e20c68dddb136a7c15422">fill_temp</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *b)</td></tr>
<tr class="separator:ad0234ff9ee2e20c68dddb136a7c15422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d7cac1670eac4cf65083e55e5e12eb"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#ae6d7cac1670eac4cf65083e55e5e12eb">dec_vli</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, const <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *in, <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> *in_pos, <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> in_size)</td></tr>
<tr class="separator:ae6d7cac1670eac4cf65083e55e5e12eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af71dc255c540cdc1b573e0bde1ca433a"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#af71dc255c540cdc1b573e0bde1ca433a">dec_block</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *b)</td></tr>
<tr class="separator:af71dc255c540cdc1b573e0bde1ca433a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87cb98298bc1ec3d8db7eb3a50a4d0da"><td class="memItemLeft" align="right" valign="top">static void <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#a87cb98298bc1ec3d8db7eb3a50a4d0da">index_update</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, const struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *b)</td></tr>
<tr class="separator:a87cb98298bc1ec3d8db7eb3a50a4d0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f445dc9b552e1b0540cbfbc4d1d07c1"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#a2f445dc9b552e1b0540cbfbc4d1d07c1">dec_index</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *b)</td></tr>
<tr class="separator:a2f445dc9b552e1b0540cbfbc4d1d07c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac186a664120301d55df0f69ec50c1b34"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#ac186a664120301d55df0f69ec50c1b34">crc32_validate</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *b)</td></tr>
<tr class="separator:ac186a664120301d55df0f69ec50c1b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aa943ee28243f15ac5bbc6ff9d569ca"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d5e/stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#a5aa943ee28243f15ac5bbc6ff9d569ca">check_skip</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *b)</td></tr>
<tr class="separator:a5aa943ee28243f15ac5bbc6ff9d569ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9eb5900617b7ab073d5c12af5d628e4"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#af9eb5900617b7ab073d5c12af5d628e4">dec_stream_header</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</td></tr>
<tr class="separator:af9eb5900617b7ab073d5c12af5d628e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6577c100b45c6eb069f1987e915cd5d2"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#a6577c100b45c6eb069f1987e915cd5d2">dec_stream_footer</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</td></tr>
<tr class="separator:a6577c100b45c6eb069f1987e915cd5d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b251f01af3b3749e60c7eef8c573181"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#a5b251f01af3b3749e60c7eef8c573181">dec_block_header</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</td></tr>
<tr class="separator:a5b251f01af3b3749e60c7eef8c573181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33e05a673528700699af3e78bee55e96"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d03/platform_8h.html#a1b173d22e57d9395897acbd8de62d505">NOINLINE</a> enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#a33e05a673528700699af3e78bee55e96">dec_main</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *b)</td></tr>
<tr class="separator:a33e05a673528700699af3e78bee55e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d26e7418a2fa9a7518e51c0ea759f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *b)</td></tr>
<tr class="separator:a05d26e7418a2fa9a7518e51c0ea759f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f3d35afd62b962744c18f366c7d4143"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init</a> (enum <a class="el" href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000">xz_mode</a> mode, <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> dict_max)</td></tr>
<tr class="separator:a8f3d35afd62b962744c18f366c7d4143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40fb5ff9229a8c21a3cd689234fed180"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> void <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</td></tr>
<tr class="separator:a40fb5ff9229a8c21a3cd689234fed180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a37f30730e43b41fe699eebc0fe3a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> void <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#a70a37f30730e43b41fe699eebc0fe3a1">xz_dec_end</a> (struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</td></tr>
<tr class="separator:a70a37f30730e43b41fe699eebc0fe3a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1933e4a7082b1ab5f9a8cd96131ab190"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#a1933e4a7082b1ab5f9a8cd96131ab190">check_sizes</a> [16]</td></tr>
<tr class="separator:a1933e4a7082b1ab5f9a8cd96131ab190"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="dc/da3/structxz__dec__hash" id="dc/da3/structxz__dec__hash"></a>
<h2 class="memtitle"><span class="permalink"><a href="#dc/da3/structxz__dec__hash">&#9670;&nbsp;</a></span>xz_dec_hash</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct xz_dec_hash</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00014">14</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a77ef1ef1e8ac907de7e435829cf95931"></a><a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a></td>
<td class="fieldname">
crc32</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="abed4005f9ca563ca7afcfaa067baac2d"></a><a class="el" href="../../d9/da3/xz__stream_8h.html#a1465e1ab413f7e770a7449cb8ee72264">vli_type</a></td>
<td class="fieldname">
uncompressed</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a9c5080ff62e3b7517ae3d6d176f97a72"></a><a class="el" href="../../d9/da3/xz__stream_8h.html#a1465e1ab413f7e770a7449cb8ee72264">vli_type</a></td>
<td class="fieldname">
unpadded</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d4/d31/structxz__dec_8block__header" id="d4/d31/structxz__dec_8block__header"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d4/d31/structxz__dec_8block__header">&#9670;&nbsp;</a></span>xz_dec.block_header</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct xz_dec.block_header</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00061">61</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a2b98a4ad988a18c42682f388901f2672"></a><a class="el" href="../../d9/da3/xz__stream_8h.html#a1465e1ab413f7e770a7449cb8ee72264">vli_type</a></td>
<td class="fieldname">
compressed</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af7bd60b75b29d79b660a2859395c1a24"></a><a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a></td>
<td class="fieldname">
size</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="adfd25ff244b001be7beece9729517779"></a><a class="el" href="../../d9/da3/xz__stream_8h.html#a1465e1ab413f7e770a7449cb8ee72264">vli_type</a></td>
<td class="fieldname">
uncompressed</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="dc/d1a/structxz__dec_8block" id="dc/d1a/structxz__dec_8block"></a>
<h2 class="memtitle"><span class="permalink"><a href="#dc/d1a/structxz__dec_8block">&#9670;&nbsp;</a></span>xz_dec.block</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct xz_dec.block</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00079">79</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a2b98a4ad988a18c42682f388901f2672"></a><a class="el" href="../../d9/da3/xz__stream_8h.html#a1465e1ab413f7e770a7449cb8ee72264">vli_type</a></td>
<td class="fieldname">
compressed</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ae2942a04780e223b215eb8b663cf5353"></a><a class="el" href="../../d9/da3/xz__stream_8h.html#a1465e1ab413f7e770a7449cb8ee72264">vli_type</a></td>
<td class="fieldname">
count</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0800fc577294c34e0b28ad2839435945"></a>struct <a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#dc/da3/structxz__dec__hash">xz_dec_hash</a></td>
<td class="fieldname">
hash</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="adfd25ff244b001be7beece9729517779"></a><a class="el" href="../../d9/da3/xz__stream_8h.html#a1465e1ab413f7e770a7449cb8ee72264">vli_type</a></td>
<td class="fieldname">
uncompressed</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d7/d87/structxz__dec_8index" id="d7/d87/structxz__dec_8index"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d7/d87/structxz__dec_8index">&#9670;&nbsp;</a></span>xz_dec.index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct xz_dec.index</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00097">97</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ae2942a04780e223b215eb8b663cf5353"></a><a class="el" href="../../d9/da3/xz__stream_8h.html#a1465e1ab413f7e770a7449cb8ee72264">vli_type</a></td>
<td class="fieldname">
count</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0800fc577294c34e0b28ad2839435945"></a>struct <a class="el" href="../../dd/d6a/xz__dec__stream_8c.html#dc/da3/structxz__dec__hash">xz_dec_hash</a></td>
<td class="fieldname">
hash</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="afa1c731ead93e333a9180e16f968c01e"></a>enum <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a></td>
<td class="fieldname">
sequence</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af7bd60b75b29d79b660a2859395c1a24"></a><a class="el" href="../../d9/da3/xz__stream_8h.html#a1465e1ab413f7e770a7449cb8ee72264">vli_type</a></td>
<td class="fieldname">
size</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="d9/d36/structxz__dec_8temp" id="d9/d36/structxz__dec_8temp"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d9/d36/structxz__dec_8temp">&#9670;&nbsp;</a></span>xz_dec.temp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct xz_dec.temp</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00125">125</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a9ac1633098cfac5800e8d321db41d267"></a><a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a></td>
<td class="fieldname">
buf[1024]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a5e0bdcbddccca4d66d74ba8c1cee1a68"></a><a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a></td>
<td class="fieldname">
pos</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af7bd60b75b29d79b660a2859395c1a24"></a><a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a></td>
<td class="fieldname">
size</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5aa943ee28243f15ac5bbc6ff9d569ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aa943ee28243f15ac5bbc6ff9d569ca">&#9670;&nbsp;</a></span>check_skip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/d5e/stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> check_skip </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00369">369</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;{</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos &lt; <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a1933e4a7082b1ab5f9a8cd96131ab190">check_sizes</a>[<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;check_type]) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">if</span> (b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> == b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#ae7665726ded714572c56c90244f71f11">in_size</a>)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        ++b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        ++<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos = 0;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;}</div>
<div class="ttc" id="aarpping_8c_html_ac9562ee4ecb3b8aeebeb04656e7e57a9"><div class="ttname"><a href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a></div><div class="ttdeci">#define s</div></div>
<div class="ttc" id="axz_8h_html_a4f4b3b9f56ab8d89c9edca5ffd27ac79"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">xz_buf::in_pos</a></div><div class="ttdeci">size_t in_pos</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00147">xz.h:147</a></div></div>
<div class="ttc" id="axz_8h_html_ae7665726ded714572c56c90244f71f11"><div class="ttname"><a href="../../db/d7b/xz_8h.html#ae7665726ded714572c56c90244f71f11">xz_buf::in_size</a></div><div class="ttdeci">size_t in_size</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00148">xz.h:148</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_a1933e4a7082b1ab5f9a8cd96131ab190"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#a1933e4a7082b1ab5f9a8cd96131ab190">check_sizes</a></div><div class="ttdeci">static const uint8_t check_sizes[16]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00141">xz_dec_stream.c:141</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00141">check_sizes</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00147">xz_buf::in_pos</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00148">xz_buf::in_size</a>, and <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">dec_main()</a>.</p>

</div>
</div>
<a id="ac186a664120301d55df0f69ec50c1b34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac186a664120301d55df0f69ec50c1b34">&#9670;&nbsp;</a></span>crc32_validate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> crc32_validate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00281">281</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;{</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">if</span> (b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> == b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#ae7665726ded714572c56c90244f71f11">in_size</a>)</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">if</span> (((<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;crc32 &gt;&gt; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos) &amp; 0xFF) != b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a58ea98100d1d4593f4b7c6f276006272">in</a>[b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>++])</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos += 8;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos &lt; 32);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;crc32 = 0;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos = 0;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div>
<div class="ttc" id="axz_8h_html_a58ea98100d1d4593f4b7c6f276006272"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a58ea98100d1d4593f4b7c6f276006272">xz_buf::in</a></div><div class="ttdeci">const uint8_t * in</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00146">xz.h:146</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a></div><div class="ttdeci">@ XZ_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00118">xz.h:118</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a></div><div class="ttdeci">@ XZ_DATA_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00125">xz.h:125</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a></div><div class="ttdeci">@ XZ_STREAM_END</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00119">xz.h:119</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d7b/xz_8h_source.html#l00146">xz_buf::in</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00147">xz_buf::in_pos</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, and <a class="el" href="../../db/d7b/xz_8h.html#a330dfa70beff6f9b693106e27df16526">xz_crc32()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">dec_main()</a>.</p>

</div>
</div>
<a id="af71dc255c540cdc1b573e0bde1ca433a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af71dc255c540cdc1b573e0bde1ca433a">&#9670;&nbsp;</a></span>dec_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> dec_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00157">157</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keyword">enum</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> ret;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;in_start = b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;out_start = b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a7c4005a0998bef480271332efe506f8f">out_pos</a>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="preprocessor">#ifdef XZ_DEC_BCJ</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj_active)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        ret = xz_dec_bcj_run(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;lzma2, b);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        ret = <a class="code" href="../../d2/de0/xz__dec__lzma2_8c.html#aeaa56d4bca5f0a22747c71c4c942ac2d">xz_dec_lzma2_run</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;lzma2, b);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.compressed += b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> - <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;in_start;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.uncompressed += b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a7c4005a0998bef480271332efe506f8f">out_pos</a> - <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;out_start;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">     * There is no need to separately check for VLI_UNKNOWN, since</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">     * the observed sizes are always smaller than VLI_UNKNOWN.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.compressed &gt; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.compressed</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            || <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.uncompressed</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                &gt; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.uncompressed)</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;check_type == <a class="code" href="../../d9/da3/xz__stream_8h.html#aede4401cd64d68210625535e0dabb840ac4a518d6249ba4ccacf146b805e07030">XZ_CHECK_CRC32</a>)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;crc32 = <a class="code" href="../../db/d7b/xz_8h.html#a330dfa70beff6f9b693106e27df16526">xz_crc32</a>(b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#ad64100f202716e86b8416b7d7a072a24">out</a> + <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;out_start,</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a7c4005a0998bef480271332efe506f8f">out_pos</a> - <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;out_start, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;crc32);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">if</span> (ret == <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.compressed != <a class="code" href="../../d9/da3/xz__stream_8h.html#adbafc63454c0e75496fdd4cf6076651d">VLI_UNKNOWN</a></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                &amp;&amp; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.compressed</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    != <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.compressed)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.uncompressed != <a class="code" href="../../d9/da3/xz__stream_8h.html#adbafc63454c0e75496fdd4cf6076651d">VLI_UNKNOWN</a></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                &amp;&amp; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.uncompressed</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    != <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.uncompressed)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.hash.unpadded += <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.size</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                + <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.compressed;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="preprocessor">#ifdef XZ_DEC_ANY_CHECK</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.hash.unpadded += <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a1933e4a7082b1ab5f9a8cd96131ab190">check_sizes</a>[<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;check_type];</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;check_type == <a class="code" href="../../d9/da3/xz__stream_8h.html#aede4401cd64d68210625535e0dabb840ac4a518d6249ba4ccacf146b805e07030">XZ_CHECK_CRC32</a>)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.hash.unpadded += 4;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.hash.uncompressed += <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.uncompressed;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.hash.crc32 = <a class="code" href="../../db/d7b/xz_8h.html#a330dfa70beff6f9b693106e27df16526">xz_crc32</a>(</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                (<span class="keyword">const</span> <a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *)&amp;<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.hash,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <span class="keyword">sizeof</span>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.hash), <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.hash.crc32);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        ++<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.count;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="ttc" id="alibc_2include_2inttypes_8h_html_a3cb4a16b0e8d6af0af86d4fd6ba5fd9d"><div class="ttname"><a href="../../d4/df0/libc_2include_2inttypes_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a></div><div class="ttdeci">__UINT8_TYPE__ uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df0/libc_2include_2inttypes_8h_source.html#l00008">inttypes.h:8</a></div></div>
<div class="ttc" id="axz_8h_html_a330dfa70beff6f9b693106e27df16526"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a330dfa70beff6f9b693106e27df16526">xz_crc32</a></div><div class="ttdeci">XZ_EXTERN uint32_t XZ_FUNC xz_crc32(const uint8_t *buf, size_t size, uint32_t crc)</div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a></div><div class="ttdeci">xz_ret</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00117">xz.h:117</a></div></div>
<div class="ttc" id="axz_8h_html_a7c4005a0998bef480271332efe506f8f"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a7c4005a0998bef480271332efe506f8f">xz_buf::out_pos</a></div><div class="ttdeci">size_t out_pos</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00151">xz.h:151</a></div></div>
<div class="ttc" id="axz_8h_html_ad64100f202716e86b8416b7d7a072a24"><div class="ttname"><a href="../../db/d7b/xz_8h.html#ad64100f202716e86b8416b7d7a072a24">xz_buf::out</a></div><div class="ttdeci">uint8_t * out</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00150">xz.h:150</a></div></div>
<div class="ttc" id="axz__dec__lzma2_8c_html_aeaa56d4bca5f0a22747c71c4c942ac2d"><div class="ttname"><a href="../../d2/de0/xz__dec__lzma2_8c.html#aeaa56d4bca5f0a22747c71c4c942ac2d">xz_dec_lzma2_run</a></div><div class="ttdeci">XZ_EXTERN NOINLINE enum xz_ret XZ_FUNC xz_dec_lzma2_run(struct xz_dec_lzma2 *s, struct xz_buf *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de0/xz__dec__lzma2_8c_source.html#l00933">xz_dec_lzma2.c:933</a></div></div>
<div class="ttc" id="axz__stream_8h_html_adbafc63454c0e75496fdd4cf6076651d"><div class="ttname"><a href="../../d9/da3/xz__stream_8h.html#adbafc63454c0e75496fdd4cf6076651d">VLI_UNKNOWN</a></div><div class="ttdeci">#define VLI_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da3/xz__stream_8h_source.html#l00046">xz_stream.h:46</a></div></div>
<div class="ttc" id="axz__stream_8h_html_aede4401cd64d68210625535e0dabb840ac4a518d6249ba4ccacf146b805e07030"><div class="ttname"><a href="../../d9/da3/xz__stream_8h.html#aede4401cd64d68210625535e0dabb840ac4a518d6249ba4ccacf146b805e07030">XZ_CHECK_CRC32</a></div><div class="ttdeci">@ XZ_CHECK_CRC32</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da3/xz__stream_8h_source.html#l00054">xz_stream.h:54</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d7b/xz_8h_source.html#l00146">xz_buf::in</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00147">xz_buf::in_pos</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00148">xz_buf::in_size</a>, <a class="el" href="../../d4/d7b/fcts_8c_source.html#l00083">memcpy()</a>, <a class="el" href="../../da/d5c/xz__config_8h_source.html#l00038">min_t</a>, and <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">dec_main()</a>.</p>

</div>
</div>
<a id="a5b251f01af3b3749e60c7eef8c573181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b251f01af3b3749e60c7eef8c573181">&#9670;&nbsp;</a></span>dec_block_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> dec_block_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00369">369</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;{</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keyword">enum</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> ret;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">     * Validate the CRC32. We know that the temp buffer is at least</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">     * eight bytes so this is safe.</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size -= 4;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d7b/xz_8h.html#a330dfa70beff6f9b693106e27df16526">xz_crc32</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size, 0)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            != <a class="code" href="../../da/d5c/xz__config_8h.html#a1ccbdcba7d98278325e4fc42e70af887">get_le32</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf + <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size))</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos = 2;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">     * Catch unsupported Block Flags. We support only one or two filters</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">     * in the chain, so we catch that with the same test.</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor">#ifdef XZ_DEC_BCJ</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[1] &amp; 0x3E)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[1] &amp; 0x3F)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">/* Compressed Size */</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[1] &amp; 0x40) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#ae6d7cac1670eac4cf65083e55e5e12eb">dec_vli</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf, &amp;<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                    != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>)</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.compressed = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;vli;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.compressed = <a class="code" href="../../d9/da3/xz__stream_8h.html#adbafc63454c0e75496fdd4cf6076651d">VLI_UNKNOWN</a>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="comment">/* Uncompressed Size */</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[1] &amp; 0x80) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#ae6d7cac1670eac4cf65083e55e5e12eb">dec_vli</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf, &amp;<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.uncompressed = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;vli;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.uncompressed = <a class="code" href="../../d9/da3/xz__stream_8h.html#adbafc63454c0e75496fdd4cf6076651d">VLI_UNKNOWN</a>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="preprocessor">#ifdef XZ_DEC_BCJ</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">/* If there are two filters, the first one must be a BCJ filter. */</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj_active = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[1] &amp; 0x01;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj_active) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size - <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos &lt; 2)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        ret = xz_dec_bcj_reset(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos++]);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">if</span> (ret != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>)</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">         * We don&#39;t support custom start offset,</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">         * so Size of Properties must be zero.</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos++] != 0x00)</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">/* Valid Filter Flags always take at least two bytes. */</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size - <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos &lt; 2)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="comment">/* Filter ID = LZMA2 */</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos++] != 0x21)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">/* Size of Properties = 1-byte Filter Properties */</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos++] != 0x01)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="comment">/* Filter Properties contains LZMA2 dictionary size. */</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size - <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos &lt; 1)</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    ret = <a class="code" href="../../d2/de0/xz__dec__lzma2_8c.html#a0927bb5508c5a357362b39a12d63ce4c">xz_dec_lzma2_reset</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;lzma2, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos++]);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">if</span> (ret != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">/* The rest must be Header Padding. */</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos &lt; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos++] != 0x00)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos = 0;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.compressed = 0;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.uncompressed = 0;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a></div><div class="ttdeci">@ XZ_OPTIONS_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00124">xz.h:124</a></div></div>
<div class="ttc" id="axz__config_8h_html_a1ccbdcba7d98278325e4fc42e70af887"><div class="ttname"><a href="../../da/d5c/xz__config_8h.html#a1ccbdcba7d98278325e4fc42e70af887">get_le32</a></div><div class="ttdeci">#define get_le32</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5c/xz__config_8h_source.html#l00120">xz_config.h:120</a></div></div>
<div class="ttc" id="axz__dec__lzma2_8c_html_a0927bb5508c5a357362b39a12d63ce4c"><div class="ttname"><a href="../../d2/de0/xz__dec__lzma2_8c.html#a0927bb5508c5a357362b39a12d63ce4c">xz_dec_lzma2_reset</a></div><div class="ttdeci">XZ_EXTERN enum xz_ret XZ_FUNC xz_dec_lzma2_reset(struct xz_dec_lzma2 *s, uint8_t props)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de0/xz__dec__lzma2_8c_source.html#l01127">xz_dec_lzma2.c:1127</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_ae6d7cac1670eac4cf65083e55e5e12eb"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#ae6d7cac1670eac4cf65083e55e5e12eb">dec_vli</a></div><div class="ttdeci">static enum xz_ret XZ_FUNC dec_vli(struct xz_dec *s, const uint8_t *in, size_t *in_pos, size_t in_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00157">xz_dec_stream.c:175</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">dec_main()</a>.</p>

</div>
</div>
<a id="a2f445dc9b552e1b0540cbfbc4d1d07c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f445dc9b552e1b0540cbfbc4d1d07c1">&#9670;&nbsp;</a></span>dec_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> dec_index </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00281">281</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;{</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keyword">enum</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> ret;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        ret = <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#ae6d7cac1670eac4cf65083e55e5e12eb">dec_vli</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a58ea98100d1d4593f4b7c6f276006272">in</a>, &amp;b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>, b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#ae7665726ded714572c56c90244f71f11">in_size</a>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">if</span> (ret != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a87cb98298bc1ec3d8db7eb3a50a4d0da">index_update</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.sequence) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">case</span> SEQ_INDEX_COUNT:</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.count = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;vli;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">             * Validate that the Number of Records field</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">             * indicates the same number of Records as</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">             * there were Blocks in the Stream.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.count != <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.count)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.sequence = SEQ_INDEX_UNPADDED;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">case</span> SEQ_INDEX_UNPADDED:</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.hash.unpadded += <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;vli;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.sequence = SEQ_INDEX_UNCOMPRESSED;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">case</span> SEQ_INDEX_UNCOMPRESSED:</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.hash.uncompressed += <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;vli;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.hash.crc32 = <a class="code" href="../../db/d7b/xz_8h.html#a330dfa70beff6f9b693106e27df16526">xz_crc32</a>(</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    (<span class="keyword">const</span> <a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *)&amp;<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.hash,</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                    <span class="keyword">sizeof</span>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.hash),</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.hash.crc32);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            --<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.count;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.sequence = SEQ_INDEX_UNPADDED;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.count &gt; 0);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="ttc" id="axz__dec__stream_8c_html_a87cb98298bc1ec3d8db7eb3a50a4d0da"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#a87cb98298bc1ec3d8db7eb3a50a4d0da">index_update</a></div><div class="ttdeci">static void XZ_FUNC index_update(struct xz_dec *s, const struct xz_buf *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00281">xz_dec_stream.c:281</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">dec_main()</a>.</p>

</div>
</div>
<a id="a33e05a673528700699af3e78bee55e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33e05a673528700699af3e78bee55e96">&#9670;&nbsp;</a></span>dec_main()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../de/d03/platform_8h.html#a1b173d22e57d9395897acbd8de62d505">NOINLINE</a> enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> dec_main </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">548</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;{</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keyword">enum</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> ret;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">     * Store the start position for the case when we are in the middle</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">     * of the Index field.</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;in_start = b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">case</span> SEQ_STREAM_HEADER:</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">             * Stream Header is copied to s-&gt;temp, and then</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">             * decoded from there. This way if the caller</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">             * gives us only little input at a time, we can</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">             * still keep the Stream Header decoding code</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">             * simple. Similar approach is used in many places</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">             * in this file.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#ad0234ff9ee2e20c68dddb136a7c15422">fill_temp</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b))</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">             * If dec_stream_header() returns</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">             * XZ_UNSUPPORTED_CHECK, it is still possible</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">             * to continue decoding if working in multi-call</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">             * mode. Thus, update s-&gt;sequence before calling</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">             * dec_stream_header().</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence = SEQ_BLOCK_START;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            ret = <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#af9eb5900617b7ab073d5c12af5d628e4">dec_stream_header</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">if</span> (ret != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">case</span> SEQ_BLOCK_START:</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="comment">/* We need one byte of input to continue. */</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="keywordflow">if</span> (b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> == b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#ae7665726ded714572c56c90244f71f11">in_size</a>)</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="comment">/* See if this is the beginning of the Index field. */</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">if</span> (b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a58ea98100d1d4593f4b7c6f276006272">in</a>[b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>] == 0) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;in_start = b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>++;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence = SEQ_INDEX;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">             * Calculate the size of the Block Header and</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">             * prepare to decode it.</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.size</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                = ((<a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>)b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a58ea98100d1d4593f4b7c6f276006272">in</a>[b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>] + 1) * 4;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block_header.size;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos = 0;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence = SEQ_BLOCK_HEADER;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordflow">case</span> SEQ_BLOCK_HEADER:</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#ad0234ff9ee2e20c68dddb136a7c15422">fill_temp</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b))</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            ret = <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a5b251f01af3b3749e60c7eef8c573181">dec_block_header</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <span class="keywordflow">if</span> (ret != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence = SEQ_BLOCK_UNCOMPRESS;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="keywordflow">case</span> SEQ_BLOCK_UNCOMPRESS:</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            ret = <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#af71dc255c540cdc1b573e0bde1ca433a">dec_block</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <span class="keywordflow">if</span> (ret != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence = SEQ_BLOCK_PADDING;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">case</span> SEQ_BLOCK_PADDING:</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">             * Size of Compressed Data + Block Padding</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">             * must be a multiple of four. We don&#39;t need</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">             * s-&gt;block.compressed for anything else</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">             * anymore, so we use it here to test the size</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">             * of the Block Padding field.</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.compressed &amp; 3) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                <span class="keywordflow">if</span> (b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> == b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#ae7665726ded714572c56c90244f71f11">in_size</a>)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                <span class="keywordflow">if</span> (b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a58ea98100d1d4593f4b7c6f276006272">in</a>[b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>++] != 0)</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                ++<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.compressed;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence = SEQ_BLOCK_CHECK;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keywordflow">case</span> SEQ_BLOCK_CHECK:</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;check_type == <a class="code" href="../../d9/da3/xz__stream_8h.html#aede4401cd64d68210625535e0dabb840ac4a518d6249ba4ccacf146b805e07030">XZ_CHECK_CRC32</a>) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                ret = <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#ac186a664120301d55df0f69ec50c1b34">crc32_validate</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <span class="keywordflow">if</span> (ret != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>)</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="preprocessor">#ifdef XZ_DEC_ANY_CHECK</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a5aa943ee28243f15ac5bbc6ff9d569ca">check_skip</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b)) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence = SEQ_BLOCK_START;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">case</span> SEQ_INDEX:</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            ret = <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a2f445dc9b552e1b0540cbfbc4d1d07c1">dec_index</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <span class="keywordflow">if</span> (ret != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>)</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence = SEQ_INDEX_PADDING;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="keywordflow">case</span> SEQ_INDEX_PADDING:</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <span class="keywordflow">while</span> ((<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.size + (b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> - <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;in_start))</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    &amp; 3) {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                <span class="keywordflow">if</span> (b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> == b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#ae7665726ded714572c56c90244f71f11">in_size</a>) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a87cb98298bc1ec3d8db7eb3a50a4d0da">index_update</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160; </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <span class="keywordflow">if</span> (b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a58ea98100d1d4593f4b7c6f276006272">in</a>[b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>++] != 0)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="comment">/* Finish the CRC32 value and Index size. */</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a87cb98298bc1ec3d8db7eb3a50a4d0da">index_update</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="comment">/* Compare the hashes to validate the Index field. */</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../da/d5c/xz__config_8h.html#a3be1aa24460974548c35023be7a88198">memeq</a>(&amp;<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.hash, &amp;<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.hash,</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                    <span class="keyword">sizeof</span>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block.hash)))</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence = SEQ_INDEX_CRC32;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keywordflow">case</span> SEQ_INDEX_CRC32:</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            ret = <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#ac186a664120301d55df0f69ec50c1b34">crc32_validate</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <span class="keywordflow">if</span> (ret != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size = <a class="code" href="../../d9/da3/xz__stream_8h.html#a3b585e315e695d71caa6d9a3d8bb7355">STREAM_HEADER_SIZE</a>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence = SEQ_STREAM_FOOTER;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">case</span> SEQ_STREAM_FOOTER:</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#ad0234ff9ee2e20c68dddb136a7c15422">fill_temp</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b))</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a6577c100b45c6eb069f1987e915cd5d2">dec_stream_footer</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">/* Never reached */</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;}</div>
<div class="ttc" id="alibc_2include_2inttypes_8h_html_a0a8582351ac627ee8bde2973c825e47f"><div class="ttname"><a href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a></div><div class="ttdeci">__UINT32_TYPE__ uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df0/libc_2include_2inttypes_8h_source.html#l00010">inttypes.h:10</a></div></div>
<div class="ttc" id="axz__config_8h_html_a3be1aa24460974548c35023be7a88198"><div class="ttname"><a href="../../da/d5c/xz__config_8h.html#a3be1aa24460974548c35023be7a88198">memeq</a></div><div class="ttdeci">#define memeq(a, b, size)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5c/xz__config_8h_source.html#l00032">xz_config.h:32</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_a2f445dc9b552e1b0540cbfbc4d1d07c1"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#a2f445dc9b552e1b0540cbfbc4d1d07c1">dec_index</a></div><div class="ttdeci">static enum xz_ret XZ_FUNC dec_index(struct xz_dec *s, struct xz_buf *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00281">xz_dec_stream.c:296</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_a5aa943ee28243f15ac5bbc6ff9d569ca"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#a5aa943ee28243f15ac5bbc6ff9d569ca">check_skip</a></div><div class="ttdeci">static bool XZ_FUNC check_skip(struct xz_dec *s, struct xz_buf *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00369">xz_dec_stream.c:369</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_a5b251f01af3b3749e60c7eef8c573181"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#a5b251f01af3b3749e60c7eef8c573181">dec_block_header</a></div><div class="ttdeci">static enum xz_ret XZ_FUNC dec_block_header(struct xz_dec *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00369">xz_dec_stream.c:448</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_a6577c100b45c6eb069f1987e915cd5d2"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#a6577c100b45c6eb069f1987e915cd5d2">dec_stream_footer</a></div><div class="ttdeci">static enum xz_ret XZ_FUNC dec_stream_footer(struct xz_dec *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00369">xz_dec_stream.c:421</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_ac186a664120301d55df0f69ec50c1b34"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#ac186a664120301d55df0f69ec50c1b34">crc32_validate</a></div><div class="ttdeci">static enum xz_ret XZ_FUNC crc32_validate(struct xz_dec *s, struct xz_buf *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00281">xz_dec_stream.c:346</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_ad0234ff9ee2e20c68dddb136a7c15422"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#ad0234ff9ee2e20c68dddb136a7c15422">fill_temp</a></div><div class="ttdeci">static bool XZ_FUNC fill_temp(struct xz_dec *s, struct xz_buf *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00157">xz_dec_stream.c:157</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_af71dc255c540cdc1b573e0bde1ca433a"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#af71dc255c540cdc1b573e0bde1ca433a">dec_block</a></div><div class="ttdeci">static enum xz_ret XZ_FUNC dec_block(struct xz_dec *s, struct xz_buf *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00157">xz_dec_stream.c:218</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_af9eb5900617b7ab073d5c12af5d628e4"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#af9eb5900617b7ab073d5c12af5d628e4">dec_stream_header</a></div><div class="ttdeci">static enum xz_ret XZ_FUNC dec_stream_header(struct xz_dec *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00369">xz_dec_stream.c:386</a></div></div>
<div class="ttc" id="axz__stream_8h_html_a3b585e315e695d71caa6d9a3d8bb7355"><div class="ttname"><a href="../../d9/da3/xz__stream_8h.html#a3b585e315e695d71caa6d9a3d8bb7355">STREAM_HEADER_SIZE</a></div><div class="ttdeci">#define STREAM_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da3/xz__stream_8h_source.html#l00026">xz_stream.h:26</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00369">check_skip()</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00346">crc32_validate()</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00218">dec_block()</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00448">dec_block_header()</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00296">dec_index()</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00421">dec_stream_footer()</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00386">dec_stream_header()</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00157">fill_temp()</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00146">xz_buf::in</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00147">xz_buf::in_pos</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00148">xz_buf::in_size</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00281">index_update()</a>, <a class="el" href="../../da/d5c/xz__config_8h_source.html#l00032">memeq</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="el" href="../../d9/da3/xz__stream_8h_source.html#l00026">STREAM_HEADER_SIZE</a>, <a class="el" href="../../d9/da3/xz__stream_8h_source.html#l00054">XZ_CHECK_CRC32</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00125">XZ_DATA_ERROR</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00118">XZ_OK</a>, and <a class="el" href="../../db/d7b/xz_8h_source.html#l00119">XZ_STREAM_END</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00733">xz_dec_run()</a>.</p>

</div>
</div>
<a id="a6577c100b45c6eb069f1987e915cd5d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6577c100b45c6eb069f1987e915cd5d2">&#9670;&nbsp;</a></span>dec_stream_footer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> dec_stream_footer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00369">369</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;{</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../da/d5c/xz__config_8h.html#a3be1aa24460974548c35023be7a88198">memeq</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf + 10, <a class="code" href="../../d9/da3/xz__stream_8h.html#af566f91618631c7ecbc81f89933b4dc6">FOOTER_MAGIC</a>, <a class="code" href="../../d9/da3/xz__stream_8h.html#aa34c346be129efe450a772b9c2df69e3">FOOTER_MAGIC_SIZE</a>))</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d7b/xz_8h.html#a330dfa70beff6f9b693106e27df16526">xz_crc32</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf + 4, 6, 0) != <a class="code" href="../../da/d5c/xz__config_8h.html#a1ccbdcba7d98278325e4fc42e70af887">get_le32</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf))</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">     * Validate Backward Size. Note that we never added the size of the</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">     * Index CRC32 field to s-&gt;index.size, thus we use s-&gt;index.size / 4</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">     * instead of s-&gt;index.size / 4 - 1.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.size &gt;&gt; 2) != <a class="code" href="../../da/d5c/xz__config_8h.html#a1ccbdcba7d98278325e4fc42e70af887">get_le32</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf + 4))</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[8] != 0 || <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[9] != <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;check_type)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">     * Use XZ_STREAM_END instead of XZ_OK to be more convenient</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">     * for the caller.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;}</div>
<div class="ttc" id="axz__stream_8h_html_aa34c346be129efe450a772b9c2df69e3"><div class="ttname"><a href="../../d9/da3/xz__stream_8h.html#aa34c346be129efe450a772b9c2df69e3">FOOTER_MAGIC_SIZE</a></div><div class="ttdeci">#define FOOTER_MAGIC_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da3/xz__stream_8h_source.html#l00032">xz_stream.h:32</a></div></div>
<div class="ttc" id="axz__stream_8h_html_af566f91618631c7ecbc81f89933b4dc6"><div class="ttname"><a href="../../d9/da3/xz__stream_8h.html#af566f91618631c7ecbc81f89933b4dc6">FOOTER_MAGIC</a></div><div class="ttdeci">#define FOOTER_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da3/xz__stream_8h_source.html#l00031">xz_stream.h:31</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">dec_main()</a>.</p>

</div>
</div>
<a id="af9eb5900617b7ab073d5c12af5d628e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9eb5900617b7ab073d5c12af5d628e4">&#9670;&nbsp;</a></span>dec_stream_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> dec_stream_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00369">369</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;{</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../da/d5c/xz__config_8h.html#a3be1aa24460974548c35023be7a88198">memeq</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf, <a class="code" href="../../d9/da3/xz__stream_8h.html#ae218e4314a5cdf2d32d77d2a4f52dc79">HEADER_MAGIC</a>, <a class="code" href="../../d9/da3/xz__stream_8h.html#a1482abc11626d764e78b6d2d8e7d7954">HEADER_MAGIC_SIZE</a>))</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a9c220bf7e6b8aa17f124bcba98d59083">XZ_FORMAT_ERROR</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d7b/xz_8h.html#a330dfa70beff6f9b693106e27df16526">xz_crc32</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf + <a class="code" href="../../d9/da3/xz__stream_8h.html#a1482abc11626d764e78b6d2d8e7d7954">HEADER_MAGIC_SIZE</a>, 2, 0)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            != <a class="code" href="../../da/d5c/xz__config_8h.html#a1ccbdcba7d98278325e4fc42e70af887">get_le32</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf + <a class="code" href="../../d9/da3/xz__stream_8h.html#a1482abc11626d764e78b6d2d8e7d7954">HEADER_MAGIC_SIZE</a> + 2))</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[<a class="code" href="../../d9/da3/xz__stream_8h.html#a1482abc11626d764e78b6d2d8e7d7954">HEADER_MAGIC_SIZE</a>] != 0)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">     * Of integrity checks, we support only none (Check ID = 0) and</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">     * CRC32 (Check ID = 1). However, if XZ_DEC_ANY_CHECK is defined,</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">     * we will accept other check types too, but then the check won&#39;t</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">     * be verified and a warning (XZ_UNSUPPORTED_CHECK) will be given.</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;check_type = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf[<a class="code" href="../../d9/da3/xz__stream_8h.html#a1482abc11626d764e78b6d2d8e7d7954">HEADER_MAGIC_SIZE</a> + 1];</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="preprocessor">#ifdef XZ_DEC_ANY_CHECK</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;check_type &gt; <a class="code" href="../../d9/da3/xz__stream_8h.html#aea534859e860c97fe75d474b52697e1e">XZ_CHECK_MAX</a>)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;check_type &gt; <a class="code" href="../../d9/da3/xz__stream_8h.html#aede4401cd64d68210625535e0dabb840ac4a518d6249ba4ccacf146b805e07030">XZ_CHECK_CRC32</a>)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a3b7946db676511de1b4e59d5ab4953f7">XZ_UNSUPPORTED_CHECK</a>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;check_type &gt; <a class="code" href="../../d9/da3/xz__stream_8h.html#aede4401cd64d68210625535e0dabb840ac4a518d6249ba4ccacf146b805e07030">XZ_CHECK_CRC32</a>)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ae8412b3a6d5e2c6b036b55ff17d0b9d0">XZ_OPTIONS_ERROR</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1a3b7946db676511de1b4e59d5ab4953f7"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a3b7946db676511de1b4e59d5ab4953f7">XZ_UNSUPPORTED_CHECK</a></div><div class="ttdeci">@ XZ_UNSUPPORTED_CHECK</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00120">xz.h:120</a></div></div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1a9c220bf7e6b8aa17f124bcba98d59083"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a9c220bf7e6b8aa17f124bcba98d59083">XZ_FORMAT_ERROR</a></div><div class="ttdeci">@ XZ_FORMAT_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00123">xz.h:123</a></div></div>
<div class="ttc" id="axz__stream_8h_html_a1482abc11626d764e78b6d2d8e7d7954"><div class="ttname"><a href="../../d9/da3/xz__stream_8h.html#a1482abc11626d764e78b6d2d8e7d7954">HEADER_MAGIC_SIZE</a></div><div class="ttdeci">#define HEADER_MAGIC_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da3/xz__stream_8h_source.html#l00029">xz_stream.h:29</a></div></div>
<div class="ttc" id="axz__stream_8h_html_ae218e4314a5cdf2d32d77d2a4f52dc79"><div class="ttname"><a href="../../d9/da3/xz__stream_8h.html#ae218e4314a5cdf2d32d77d2a4f52dc79">HEADER_MAGIC</a></div><div class="ttdeci">#define HEADER_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da3/xz__stream_8h_source.html#l00028">xz_stream.h:28</a></div></div>
<div class="ttc" id="axz__stream_8h_html_aea534859e860c97fe75d474b52697e1e"><div class="ttname"><a href="../../d9/da3/xz__stream_8h.html#aea534859e860c97fe75d474b52697e1e">XZ_CHECK_MAX</a></div><div class="ttdeci">#define XZ_CHECK_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da3/xz__stream_8h_source.html#l00060">xz_stream.h:60</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">dec_main()</a>.</p>

</div>
</div>
<a id="ae6d7cac1670eac4cf65083e55e5e12eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6d7cac1670eac4cf65083e55e5e12eb">&#9670;&nbsp;</a></span>dec_vli()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> dec_vli </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> *&#160;</td>
          <td class="paramname"><em>in_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>in_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00157">157</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> <a class="code" href="../../d6/d8c/telnet_8c.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos == 0)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;vli = 0;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">while</span> (*in_pos &lt; in_size) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordtype">byte</span> = in[*in_pos];</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        ++*in_pos;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;vli |= (<a class="code" href="../../d9/da3/xz__stream_8h.html#a1465e1ab413f7e770a7449cb8ee72264">vli_type</a>)(<span class="keywordtype">byte</span> &amp; 0x7F) &lt;&lt; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">byte</span> &amp; 0x80) == 0) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="comment">/* Don&#39;t allow non-minimal encodings. */</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keywordflow">if</span> (<span class="keywordtype">byte</span> == 0 &amp;&amp; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos != 0)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos = 0;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos += 7;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos == 7 * <a class="code" href="../../d9/da3/xz__stream_8h.html#ad580ecb3b7ef90375487cda291d1fbbf">VLI_BYTES_MAX</a>)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
<div class="ttc" id="atelnet_8c_html_a0c8186d9b9b7880309c27230bbb5e69d"><div class="ttname"><a href="../../d6/d8c/telnet_8c.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a></div><div class="ttdeci">unsigned char byte</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8c/telnet_8c_source.html#l00112">telnet.c:112</a></div></div>
<div class="ttc" id="axz__stream_8h_html_a1465e1ab413f7e770a7449cb8ee72264"><div class="ttname"><a href="../../d9/da3/xz__stream_8h.html#a1465e1ab413f7e770a7449cb8ee72264">vli_type</a></div><div class="ttdeci">uint64_t vli_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da3/xz__stream_8h_source.html#l00043">xz_stream.h:43</a></div></div>
<div class="ttc" id="axz__stream_8h_html_ad580ecb3b7ef90375487cda291d1fbbf"><div class="ttname"><a href="../../d9/da3/xz__stream_8h.html#ad580ecb3b7ef90375487cda291d1fbbf">VLI_BYTES_MAX</a></div><div class="ttdeci">#define VLI_BYTES_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da3/xz__stream_8h_source.html#l00049">xz_stream.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0234ff9ee2e20c68dddb136a7c15422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0234ff9ee2e20c68dddb136a7c15422">&#9670;&nbsp;</a></span>fill_temp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/d5e/stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> fill_temp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00157">157</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordtype">size_t</span> copy_size = <a class="code" href="../../da/d5c/xz__config_8h.html#a571fb08c9d47c410a616edec580ff121">min_t</a>(<span class="keywordtype">size_t</span>,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#ae7665726ded714572c56c90244f71f11">in_size</a> - b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size - <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="../../d4/d7b/fcts_8c.html#a14938524dcbeb59d7117ba5e151ad1b1">memcpy</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.buf + <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos, b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a58ea98100d1d4593f4b7c6f276006272">in</a> + b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>, copy_size);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> += copy_size;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos += copy_size;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos == <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos = 0;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="ttc" id="afcts_8c_html_a14938524dcbeb59d7117ba5e151ad1b1"><div class="ttname"><a href="../../d4/d7b/fcts_8c.html#a14938524dcbeb59d7117ba5e151ad1b1">memcpy</a></div><div class="ttdeci">void * memcpy(void *dest, const void *src, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7b/fcts_8c_source.html#l00083">fcts.c:83</a></div></div>
<div class="ttc" id="axz__config_8h_html_a571fb08c9d47c410a616edec580ff121"><div class="ttname"><a href="../../da/d5c/xz__config_8h.html#a571fb08c9d47c410a616edec580ff121">min_t</a></div><div class="ttdeci">#define min_t(type, x, y)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5c/xz__config_8h_source.html#l00038">xz_config.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">dec_main()</a>.</p>

</div>
</div>
<a id="a87cb98298bc1ec3d8db7eb3a50a4d0da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87cb98298bc1ec3d8db7eb3a50a4d0da">&#9670;&nbsp;</a></span>index_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> index_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00281">281</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;{</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordtype">size_t</span> in_used = b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> - <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;in_start;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index.size += in_used;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;crc32 = <a class="code" href="../../db/d7b/xz_8h.html#a330dfa70beff6f9b693106e27df16526">xz_crc32</a>(b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a58ea98100d1d4593f4b7c6f276006272">in</a> + <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;in_start, in_used, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;crc32);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">dec_main()</a>.</p>

</div>
</div>
<a id="a70a37f30730e43b41fe699eebc0fe3a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a37f30730e43b41fe699eebc0fe3a1">&#9670;&nbsp;</a></span>xz_dec_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> void <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> xz_dec_end </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="../../db/d7b/xz_8h.html#a70a37f30730e43b41fe699eebc0fe3a1">xz_dec_end()</a> - Free the memory allocated for the decoder state @s: Decoder state allocated using <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a>. If s is NULL, this function does nothing. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00811">811</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;{</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> != <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <a class="code" href="../../d2/de0/xz__dec__lzma2_8c.html#af29fa265799d20e0489bf149100dac51">xz_dec_lzma2_end</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;lzma2);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="preprocessor">#ifdef XZ_DEC_BCJ</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        xz_dec_bcj_end(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <a class="code" href="../../da/d5c/xz__config_8h.html#a345fbe1bf6780b30a87dbe018ec22008">kfree</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;}</div>
<div class="ttc" id="ageneral_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d14/general_8h_source.html#l00053">general.h:53</a></div></div>
<div class="ttc" id="axz__config_8h_html_a345fbe1bf6780b30a87dbe018ec22008"><div class="ttname"><a href="../../da/d5c/xz__config_8h.html#a345fbe1bf6780b30a87dbe018ec22008">kfree</a></div><div class="ttdeci">#define kfree(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5c/xz__config_8h_source.html#l00028">xz_config.h:28</a></div></div>
<div class="ttc" id="axz__dec__lzma2_8c_html_af29fa265799d20e0489bf149100dac51"><div class="ttname"><a href="../../d2/de0/xz__dec__lzma2_8c.html#af29fa265799d20e0489bf149100dac51">xz_dec_lzma2_end</a></div><div class="ttdeci">XZ_EXTERN void XZ_FUNC xz_dec_lzma2_end(struct xz_dec_lzma2 *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de0/xz__dec__lzma2_8c_source.html#l01165">xz_dec_lzma2.c:1165</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d5c/xz__config_8h_source.html#l00028">kfree</a>, <a class="el" href="../../d9/d14/general_8h_source.html#l00053">NULL</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, and <a class="el" href="../../d2/de0/xz__dec__lzma2_8c_source.html#l01165">xz_dec_lzma2_end()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4f/decompress__unxz_8c_source.html#l00045">IF_DESKTOP()</a>.</p>

</div>
</div>
<a id="a8f3d35afd62b962744c18f366c7d4143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f3d35afd62b962744c18f366c7d4143">&#9670;&nbsp;</a></span>xz_dec_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a>* <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> xz_dec_init </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../db/d7b/xz_8h.html#a29c5e106d87545a553dec4a72635f000">xz_mode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a>&#160;</td>
          <td class="paramname"><em>dict_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a> - Allocate and initialize a XZ decoder state @mode: Operation mode @dict_max: Maximum size of the LZMA2 dictionary (history buffer) for multi-call decoding. This is ignored in single-call mode (mode == XZ_SINGLE). LZMA2 dictionary is always 2^n bytes or 2^n + 2^(n-1) bytes (the latter sizes are less common in practice), so other values for dict_max don't make sense. In the kernel, dictionary sizes of 64 KiB, 128 KiB, 256 KiB, 512 KiB, and 1 MiB are probably the only reasonable values, except for kernel and initramfs images where a bigger dictionary can be fine and useful.</p>
<p>Single-call mode (XZ_SINGLE): <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> decodes the whole stream at once. The caller must provide enough output space or the decoding will fail. The output space is used as the dictionary buffer, which is why there is no need to allocate the dictionary as part of the decoder's internal state.</p>
<p>Because the output buffer is used as the workspace, streams encoded using a big dictionary are not a problem in single-call mode. It is enough that the output buffer is big enough to hold the actual uncompressed data; it can be smaller than the dictionary size stored in the stream headers.</p>
<p>Multi-call mode with preallocated dictionary (XZ_PREALLOC): dict_max bytes of memory is preallocated for the LZMA2 dictionary. This way there is no risk that <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> could run out of memory, since <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> will never allocate any memory. Instead, if the preallocated dictionary is too small for decoding the given input stream, <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> will return XZ_MEMLIMIT_ERROR. Thus, it is important to know what kind of data will be decoded to avoid allocating excessive amount of memory for the dictionary.</p>
<p>Multi-call mode with dynamically allocated dictionary (XZ_DYNALLOC): dict_max specifies the maximum allowed dictionary size that <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> may allocate once it has parsed the dictionary size from the stream headers. This way excessive allocations can be avoided while still limiting the maximum memory usage to a sane value to prevent running the system out of memory when decompressing streams from untrusted sources.</p>
<p>On success, <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a> returns a pointer to struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a>, which is ready to be used with <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a>. If memory allocation fails, <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a> returns NULL. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00768">768</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;{</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../da/d5c/xz__config_8h.html#a454f45c6964953eececcaea3d800617f">kmalloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>), GFP_KERNEL);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;mode = <a class="code" href="../../d4/d6e/structxz__dec.html#a5684a84ff9e8cab7322f0f8dc33c85b2">mode</a>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="preprocessor">#ifdef XZ_DEC_BCJ</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj = xz_dec_bcj_create(<a class="code" href="../../dd/db8/xz__private_8h.html#a11a26749bdd63fd2a17a9d2c9cc881b0">DEC_IS_SINGLE</a>(<a class="code" href="../../d4/d6e/structxz__dec.html#a5684a84ff9e8cab7322f0f8dc33c85b2">mode</a>));</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">goto</span> error_bcj;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;lzma2 = <a class="code" href="../../d2/de0/xz__dec__lzma2_8c.html#a76ec7d6a5a7a44935a98ab1f280f65f4">xz_dec_lzma2_create</a>(<a class="code" href="../../d4/d6e/structxz__dec.html#a5684a84ff9e8cab7322f0f8dc33c85b2">mode</a>, dict_max);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;lzma2 == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">goto</span> error_lzma2;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;error_lzma2:</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="preprocessor">#ifdef XZ_DEC_BCJ</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    xz_dec_bcj_end(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;bcj);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;error_bcj:</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="../../da/d5c/xz__config_8h.html#a345fbe1bf6780b30a87dbe018ec22008">kfree</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div>
<div class="ttc" id="astructxz__dec_html"><div class="ttname"><a href="../../d4/d6e/structxz__dec.html">xz_dec</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00020">xz_dec_stream.c:20</a></div></div>
<div class="ttc" id="astructxz__dec_html_a5684a84ff9e8cab7322f0f8dc33c85b2"><div class="ttname"><a href="../../d4/d6e/structxz__dec.html#a5684a84ff9e8cab7322f0f8dc33c85b2">xz_dec::mode</a></div><div class="ttdeci">enum xz_mode mode</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00046">xz_dec_stream.c:52</a></div></div>
<div class="ttc" id="axz__config_8h_html_a454f45c6964953eececcaea3d800617f"><div class="ttname"><a href="../../da/d5c/xz__config_8h.html#a454f45c6964953eececcaea3d800617f">kmalloc</a></div><div class="ttdeci">#define kmalloc(size, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5c/xz__config_8h_source.html#l00027">xz_config.h:27</a></div></div>
<div class="ttc" id="axz__dec__lzma2_8c_html_a76ec7d6a5a7a44935a98ab1f280f65f4"><div class="ttname"><a href="../../d2/de0/xz__dec__lzma2_8c.html#a76ec7d6a5a7a44935a98ab1f280f65f4">xz_dec_lzma2_create</a></div><div class="ttdeci">XZ_EXTERN struct xz_dec_lzma2 *XZ_FUNC xz_dec_lzma2_create(enum xz_mode mode, uint32_t dict_max)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de0/xz__dec__lzma2_8c_source.html#l01103">xz_dec_lzma2.c:1103</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_a40fb5ff9229a8c21a3cd689234fed180"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset</a></div><div class="ttdeci">XZ_EXTERN void XZ_FUNC xz_dec_reset(struct xz_dec *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00799">xz_dec_stream.c:799</a></div></div>
<div class="ttc" id="axz__private_8h_html_a11a26749bdd63fd2a17a9d2c9cc881b0"><div class="ttname"><a href="../../dd/db8/xz__private_8h.html#a11a26749bdd63fd2a17a9d2c9cc881b0">DEC_IS_SINGLE</a></div><div class="ttdeci">#define DEC_IS_SINGLE(mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/xz__private_8h_source.html#l00072">xz_private.h:72</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/db8/xz__private_8h_source.html#l00072">DEC_IS_SINGLE</a>, <a class="el" href="../../da/d5c/xz__config_8h_source.html#l00028">kfree</a>, <a class="el" href="../../da/d5c/xz__config_8h_source.html#l00027">kmalloc</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00052">xz_dec::mode</a>, <a class="el" href="../../d9/d14/general_8h_source.html#l00053">NULL</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="el" href="../../d2/de0/xz__dec__lzma2_8c_source.html#l01103">xz_dec_lzma2_create()</a>, and <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00799">xz_dec_reset()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4f/decompress__unxz_8c_source.html#l00045">IF_DESKTOP()</a>.</p>

</div>
</div>
<a id="a40fb5ff9229a8c21a3cd689234fed180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40fb5ff9229a8c21a3cd689234fed180">&#9670;&nbsp;</a></span>xz_dec_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> void <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> xz_dec_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="../../db/d7b/xz_8h.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset()</a> - Reset an already allocated decoder state @s: Decoder state allocated using <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a></p>
<p>This function can be used to reset the multi-call decoder state without freeing and reallocating memory with <a class="el" href="../../db/d7b/xz_8h.html#a70a37f30730e43b41fe699eebc0fe3a1">xz_dec_end()</a> and <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a>.</p>
<p>In single-call mode, <a class="el" href="../../db/d7b/xz_8h.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset()</a> is always called in the beginning of <a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a>. Thus, explicit call to <a class="el" href="../../db/d7b/xz_8h.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset()</a> is useful only in multi-call mode. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00799">799</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;{</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;sequence = SEQ_STREAM_HEADER;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;allow_buf_error = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;pos = 0;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;crc32 = 0;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="../../da/d5c/xz__config_8h.html#a015615e16e694c0590f01b9e8b43632f">memzero</a>(&amp;<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;block));</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="../../da/d5c/xz__config_8h.html#a015615e16e694c0590f01b9e8b43632f">memzero</a>(&amp;<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;index));</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.pos = 0;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;temp.size = <a class="code" href="../../d9/da3/xz__stream_8h.html#a3b585e315e695d71caa6d9a3d8bb7355">STREAM_HEADER_SIZE</a>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;}</div>
<div class="ttc" id="axz__config_8h_html_a015615e16e694c0590f01b9e8b43632f"><div class="ttname"><a href="../../da/d5c/xz__config_8h.html#a015615e16e694c0590f01b9e8b43632f">memzero</a></div><div class="ttdeci">#define memzero(buf, size)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5c/xz__config_8h_source.html#l00033">xz_config.h:33</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d5c/xz__config_8h_source.html#l00033">memzero</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00023">xz_dec::SEQ_STREAM_HEADER</a>, and <a class="el" href="../../d9/da3/xz__stream_8h_source.html#l00026">STREAM_HEADER_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4f/decompress__unxz_8c_source.html#l00045">IF_DESKTOP()</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00768">xz_dec_init()</a>, and <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00733">xz_dec_run()</a>.</p>

</div>
</div>
<a id="a05d26e7418a2fa9a7518e51c0ea759f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d26e7418a2fa9a7518e51c0ea759f2">&#9670;&nbsp;</a></span>xz_dec_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d7b/xz_8h.html#a5d62956a444aa50523b08c3ef4da2fff">XZ_EXTERN</a> enum <a class="el" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> <a class="el" href="../../db/d7b/xz_8h.html#a2cdd365f58f13391287c0c303b92bf42">XZ_FUNC</a> xz_dec_run </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d6e/structxz__dec.html">xz_dec</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d7b/xz_8h.html#de/de2/structxz__buf">xz_buf</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="../../db/d7b/xz_8h.html#a05d26e7418a2fa9a7518e51c0ea759f2">xz_dec_run()</a> - Run the XZ decoder @s: Decoder state allocated using <a class="el" href="../../db/d7b/xz_8h.html#a8f3d35afd62b962744c18f366c7d4143">xz_dec_init()</a> <b></b>: Input and output buffers</p>
<p>The possible return values depend on build options and operation mode. See enum xz_ret for details.</p>
<p>Note that if an error occurs in single-call mode (return value is not XZ_STREAM_END), b-&gt;in_pos and b-&gt;out_pos are not modified and the contents of the output buffer from b-&gt;out[b-&gt;out_pos] onward are undefined. This is true even after XZ_BUF_ERROR, because with some filter chains, there may be a second pass over the output buffer, and this pass cannot be properly done if the output buffer is truncated. Thus, you cannot give the single-call decoder a too small buffer and then expect to get that amount valid data from the beginning of the stream. You must use the multi-call decoder if you don't want to uncompress the whole stream. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00733">733</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;{</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordtype">size_t</span> in_start;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordtype">size_t</span> out_start;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keyword">enum</span> <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1">xz_ret</a> ret;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/db8/xz__private_8h.html#a11a26749bdd63fd2a17a9d2c9cc881b0">DEC_IS_SINGLE</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;mode))</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a40fb5ff9229a8c21a3cd689234fed180">xz_dec_reset</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    in_start = b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    out_start = b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a7c4005a0998bef480271332efe506f8f">out_pos</a>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    ret = <a class="code" href="../../dd/d6a/xz__dec__stream_8c.html#a33e05a673528700699af3e78bee55e96">dec_main</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, b);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/db8/xz__private_8h.html#a11a26749bdd63fd2a17a9d2c9cc881b0">DEC_IS_SINGLE</a>(<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;mode)) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordflow">if</span> (ret == <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a>)</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            ret = b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> == b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#ae7665726ded714572c56c90244f71f11">in_size</a></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                    ? <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a5ecfb7c8ce57b4d17606d29a57225895">XZ_DATA_ERROR</a> : <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a654c437f60cd19eb883536cdf1f040df">XZ_BUF_ERROR</a>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="keywordflow">if</span> (ret != <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1ad07bddff234df4f83067f6854dd15e02">XZ_STREAM_END</a>) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a> = in_start;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a7c4005a0998bef480271332efe506f8f">out_pos</a> = out_start;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a4ddbe0d7f41308df0508a67c32341aec">XZ_OK</a> &amp;&amp; in_start == b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a4f4b3b9f56ab8d89c9edca5ffd27ac79">in_pos</a></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            &amp;&amp; out_start == b-&gt;<a class="code" href="../../db/d7b/xz_8h.html#a7c4005a0998bef480271332efe506f8f">out_pos</a>) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;allow_buf_error)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            ret = <a class="code" href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a654c437f60cd19eb883536cdf1f040df">XZ_BUF_ERROR</a>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;allow_buf_error = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>-&gt;allow_buf_error = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div>
<div class="ttc" id="axz_8h_html_a74778511fa1debaf363eae550af9e6b1a654c437f60cd19eb883536cdf1f040df"><div class="ttname"><a href="../../db/d7b/xz_8h.html#a74778511fa1debaf363eae550af9e6b1a654c437f60cd19eb883536cdf1f040df">XZ_BUF_ERROR</a></div><div class="ttdeci">@ XZ_BUF_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7b/xz_8h_source.html#l00127">xz.h:126</a></div></div>
<div class="ttc" id="axz__dec__stream_8c_html_a33e05a673528700699af3e78bee55e96"><div class="ttname"><a href="../../dd/d6a/xz__dec__stream_8c.html#a33e05a673528700699af3e78bee55e96">dec_main</a></div><div class="ttdeci">static NOINLINE enum xz_ret XZ_FUNC dec_main(struct xz_dec *s, struct xz_buf *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">xz_dec_stream.c:548</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/db8/xz__private_8h_source.html#l00072">DEC_IS_SINGLE</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00548">dec_main()</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00147">xz_buf::in_pos</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00148">xz_buf::in_size</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00151">xz_buf::out_pos</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00126">XZ_BUF_ERROR</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00125">XZ_DATA_ERROR</a>, <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00799">xz_dec_reset()</a>, <a class="el" href="../../db/d7b/xz_8h_source.html#l00118">XZ_OK</a>, and <a class="el" href="../../db/d7b/xz_8h_source.html#l00119">XZ_STREAM_END</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d4f/decompress__unxz_8c_source.html#l00045">IF_DESKTOP()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1933e4a7082b1ab5f9a8cd96131ab190"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1933e4a7082b1ab5f9a8cd96131ab190">&#9670;&nbsp;</a></span>check_sizes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a3cb4a16b0e8d6af0af86d4fd6ba5fd9d">uint8_t</a> check_sizes[16]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    0,</div>
<div class="line">    4, 4, 4,</div>
<div class="line">    8, 8, 8,</div>
<div class="line">    16, 16, 16,</div>
<div class="line">    32, 32, 32,</div>
<div class="line">    64, 64, 64</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00141">141</a> of file <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html">xz_dec_stream.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d6a/xz__dec__stream_8c_source.html#l00369">check_skip()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97d86ce2f18c7710ea326fa47777d7d7.html">Userspace</a></li><li class="navelem"><a class="el" href="../../dir_0276b9b7d706caf6f8b101518c949f15.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_825a5fc57f8484006531699dcb39fa0d.html">base</a></li><li class="navelem"><a class="el" href="../../dir_87e330aa425985c7f88c27f5b355b004.html">busybox</a></li><li class="navelem"><a class="el" href="../../dir_fb7611e8dc699bb7e6b65315cf0049ad.html">archival</a></li><li class="navelem"><a class="el" href="../../dir_bfa9332fca7deb7f0e928d4a150f8148.html">libarchive</a></li><li class="navelem"><a class="el" href="../../dir_593693e10dc20c51df0da799bc448b7f.html">unxz</a></li><li class="navelem"><a class="el" href="../../dd/d6a/xz__dec__stream_8c.html">xz_dec_stream.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
