<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fennix Userspace: Userspace/apps/base/busybox/libbb/getopt32.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fennix Userspace
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Userspace Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d4/d7f/getopt32_8c_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">getopt32.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d4/d7f/getopt32_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* vi: set sw=4 ts=4: */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * universal getopt32 implementation for busybox</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Copyright (C) 2003-2005  Vladimir Oleynik  &lt;dzo@simtreas.ru&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Licensed under GPLv2 or later, see file LICENSE in this source tree.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#if ENABLE_LONG_OPTS</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor"># include &lt;getopt.h&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/dd7/libbb_8h.html">libbb.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//kbuild:lib-y += getopt32.o</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/*      Documentation</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">uint32_t</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">getopt32(char **argv, const char *applet_opts, ...)</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">        The command line options are passed as the applet_opts string.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">        If one of the given options is found, a flag value is added to</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">        the return value.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">        The flag value is determined by the position of the char in</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">        applet_opts string.  For example:</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">        flags = getopt32(argv, &quot;rnug&quot;);</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">        &quot;r&quot; will set 1    (bit 0)</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">        &quot;n&quot; will set 2    (bit 1)</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">        &quot;u&quot; will set 4    (bit 2)</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">        &quot;g&quot; will set 8    (bit 3)</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">        and so on.  You can also look at the return value as a bit</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">        field and each option sets one bit.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">        On exit, global variable optind is set so that if you</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">        will do argc -= optind; argv += optind; then</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">        argc will be equal to number of remaining non-option</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">        arguments, first one would be in argv[0], next in argv[1] and so on</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">        (options and their parameters will be moved into argv[]</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">        positions prior to argv[optind]).</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> &quot;o:&quot;   If one of the options requires an argument, then add a &quot;:&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">        after the char in applet_opts and provide a pointer to store</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">        the argument.  For example:</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">        char *pointer_to_arg_for_a;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">        char *pointer_to_arg_for_b;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">        char *pointer_to_arg_for_c;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">        char *pointer_to_arg_for_d;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">        flags = getopt32(argv, &quot;a:b:c:d:&quot;,</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">                        &amp;pointer_to_arg_for_a, &amp;pointer_to_arg_for_b,</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">                        &amp;pointer_to_arg_for_c, &amp;pointer_to_arg_for_d);</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">        The type of the pointer may be controlled by &quot;o::&quot; or &quot;o+&quot; in</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">        the external string opt_complementary (see below for more info).</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"> &quot;o::&quot;  If option can have an *optional* argument, then add a &quot;::&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">        after its char in applet_opts and provide a pointer to store</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">        the argument.  Note that optional arguments _must_</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">        immediately follow the option: -oparam, not -o param.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"> &quot;o:+&quot;  This means that the parameter for this option is a nonnegative integer.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">        It will be processed with xatoi_positive() - allowed range</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">        is 0..INT_MAX.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">        int param;  // &quot;unsigned param;&quot; will also work</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">        getopt32(argv, &quot;p:+&quot;, &amp;param);</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> &quot;o:*&quot;  This means that the option can occur multiple times. Each occurrence</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">        will be saved as a llist_t element instead of char*.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">        For example:</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">        The grep applet can have one or more &quot;-e pattern&quot; arguments.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">        In this case you should use getopt32() as follows:</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">        llist_t *patterns = NULL;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">        (this pointer must be initializated to NULL if the list is empty</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">        as required by llist_add_to_end(llist_t **old_head, char *new_item).)</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">        getopt32(argv, &quot;e:*&quot;, &amp;patterns);</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">        $ grep -e user -e root /etc/passwd</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">        root:x:0:0:root:/root:/bin/bash</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">        user:x:500:500::/home/user:/bin/bash</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment"> &quot;^&quot;    options string is &quot;^optchars&quot;&quot;\0&quot;&quot;opt_complementary&quot;.</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment"> &quot;!&quot;    If the first character in the applet_opts string is a &#39;!&#39;,</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">        report bad options, missing required options,</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">        inconsistent options with all-ones return value (instead of abort.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"> &quot;+&quot;    If the first character in the applet_opts string is a plus,</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">        then option processing will stop as soon as a non-option is</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">        encountered in the argv array.  Useful for applets like env</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">        which should not process arguments to subprograms:</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">        env -i ls -d /</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">        Here we want env to process just the &#39;-i&#39;, not the &#39;-d&#39;.</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">        (The order of multiple prefixes must be &quot;^!+...&quot;)</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">uint32_t</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">getopt32long(char **argv, const char *applet_opts, const char *logopts...)</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">        This allows you to define long options:</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">        static const char applet_longopts[] ALIGN1 =</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">                //&quot;name\0&quot;  has_arg     val</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">                &quot;verbose\0&quot; No_argument &quot;v&quot;</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">                ;</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">        opt = getopt32long(argv, applet_opts, applet_longopts, ...);</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">        The last element (val) typically is set to</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">        matching short option from applet_opts. If there is no matching</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">        char in applet_opts, then:</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">        - return bit has next position after short options</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">        - if has_arg is not &quot;No_argument&quot;, use ptr for arg also</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">        - opt_complementary affects it too</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">        Note: a good applet will make long options configurable via the</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">        config process and not a required feature.  The current standard</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">        is to name the config option CONFIG_FEATURE_&lt;applet&gt;_LONG_OPTIONS.</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">opt_complementary - option modifiers.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"> &quot;:&quot;    The colon (&quot;:&quot;) is used to separate groups of two or more chars</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">        and/or groups of chars and special characters (stating some</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">        conditions to be checked).</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"> &quot;abc&quot;  If groups of two or more chars are specified, the first char</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">        is the main option and the other chars are secondary options.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">        Their flags will be turned on if the main option is found even</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">        if they are not specified on the command line.  For example:</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">        flags = getopt32(argv, &quot;^abcd&quot;&quot;\0&quot;&quot;abc&quot;)</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">        If getopt() finds &quot;-a&quot; on the command line, then</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">        getopt32&#39;s return value will be as if &quot;-a -b -c&quot; were</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">        found.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"> &quot;ww&quot;   Adjacent double options have a counter associated which indicates</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">        the number of occurrences of the option.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">        For example the ps applet needs:</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">        if w is given once, GNU ps sets the width to 132,</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">        if w is given more than once, it is &quot;unlimited&quot;</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">        int w_counter = 0; // must be initialized!</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">        getopt32(argv, &quot;^w&quot;&quot;\0&quot;&quot;ww&quot;, &amp;w_counter);</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">        if (w_counter)</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">                width = (w_counter == 1) ? 132 : INT_MAX;</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">        else</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">                get_terminal_width(...&amp;width...);</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">        w_counter is a pointer to an integer. It has to be passed to</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">        getopt32() after all other option argument sinks.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">        For example: accept multiple -v to indicate the level of verbosity</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">        and for each -b optarg, add optarg to my_b. Finally, if b is given,</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">        turn off c and vice versa:</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">        llist_t *my_b = NULL;</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">        int verbose_level = 0;</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">        f = getopt32(argv, &quot;^vb:*c&quot;</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">            &quot;\0&quot;&quot;vv:b-c:c-b&quot;</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">            , &amp;my_b, &amp;verbose_level);</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">        if (f &amp; 2)       // -c after -b unsets -b flag</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">                while (my_b) dosomething_with(llist_pop(&amp;my_b));</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">        if (my_b)        // but llist is stored if -b is specified</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">                free_llist(my_b);</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">        if (verbose_level) printf(&quot;verbose level is %d\n&quot;, verbose_level);</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">Special characters:</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"> &quot;-N&quot;   A dash as the first char in a opt_complementary group followed</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">        by a single digit (0-9) means that at least N non-option</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">        arguments must be present on the command line</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"> &quot;=N&quot;   An equal sign as the first char in a opt_complementary group followed</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">        by a single digit (0-9) means that exactly N non-option</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">        arguments must be present on the command line</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"> &quot;?N&quot;   A &quot;?&quot; as the first char in a opt_complementary group followed</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">        by a single digit (0-9) means that at most N arguments must be present</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">        on the command line.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"> &quot;V-&quot;   An option with dash before colon or end-of-line results in</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">        bb_show_usage() being called if this option is encountered.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">        This is typically used to implement &quot;print verbose usage message</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">        and exit&quot; option.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"> &quot;a-b&quot;  A dash between two options causes the second of the two</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">        to be unset (and ignored) if it is given on the command line.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">        [FIXME: what if they are the same? like &quot;x-x&quot;? Is it ever useful?]</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">        For example:</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">        The du applet has the options &quot;-s&quot; and &quot;-d depth&quot;.  If</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">        getopt32 finds -s, then -d is unset or if it finds -d</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">        then -s is unset.  (Note:  busybox implements the GNU</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">        &quot;--max-depth&quot; option as &quot;-d&quot;.)  To obtain this behavior, you</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">        set opt_complementary to &quot;s-d:d-s&quot;.  Only one flag value is</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">        added to getopt32&#39;s return value depending on the</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">        position of the options on the command line.  If one of the</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">        two options requires an argument pointer (&quot;:&quot; in applet_opts</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">        as in &quot;d:&quot;) optarg is set accordingly.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">        char *smax_print_depth;</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">        opt = getopt32(argv, &quot;^sd:x&quot;&quot;\0&quot;&quot;s-d:d-s:x-x&quot;, &amp;smax_print_depth);</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">        if (opt &amp; 2)</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">                max_print_depth = atoi(smax_print_depth);</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">        if (opt &amp; 4)</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">                printf(&quot;Detected odd -x usage\n&quot;);</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"> &quot;a--b&quot; A double dash between two options, or between an option and a group</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">        of options, means that they are mutually exclusive.  Unlike</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">        the &quot;-&quot; case above, an error will be forced if the options</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">        are used together.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">        For example:</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">        The cut applet must have only one type of list specified, so</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">        -b, -c and -f are mutually exclusive and should raise an error</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">        if specified together.  In this case you must set</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">        opt_complementary to &quot;b--cf:c--bf:f--bc&quot;.  If two of the</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">        mutually exclusive options are found, getopt32 will call</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">        bb_show_usage() and die.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment"> &quot;x--x&quot; Variation of the above, it means that -x option should occur</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">        at most once.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"> &quot;o+&quot;   A plus after a char in opt_complementary means that the parameter</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">        for this option is a nonnegative integer. It will be processed</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">        with xatoi_positive() - allowed range is 0..INT_MAX.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">        int param;  // &quot;unsigned param;&quot; will also work</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">        getopt32(argv, &quot;^p:&quot;&quot;\0&quot;&quot;p+&quot;, &amp;param);</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"> &quot;o::&quot;  A double colon after a char in opt_complementary means that the</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">        option can occur multiple times. Each occurrence will be saved as</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">        a llist_t element instead of char*.</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">        For example:</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">        The grep applet can have one or more &quot;-e pattern&quot; arguments.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">        In this case you should use getopt32() as follows:</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">        llist_t *patterns = NULL;</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">        (this pointer must be initializated to NULL if the list is empty</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">        as required by llist_add_to_end(llist_t **old_head, char *new_item).)</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">        getopt32(argv, &quot;^e:&quot;&quot;\0&quot;&quot;e::&quot;, &amp;patterns);</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">        $ grep -e user -e root /etc/passwd</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">        root:x:0:0:root:/root:/bin/bash</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">        user:x:500:500::/home/user:/bin/bash</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">        &quot;o+&quot; and &quot;o::&quot; can be handled by &quot;o:+&quot; and &quot;o:*&quot; specifiers</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">        in option string (and it is preferred), but this does not work</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">        for &quot;long options only&quot; cases, such as tar --exclude=PATTERN,</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">        wget --header=HDR cases.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"> &quot;a?b&quot;  A &quot;?&quot; between an option and a group of options means that</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">        at least one of them is required to occur if the first option</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">        occurs in preceding command line arguments.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">        For example from &quot;id&quot; applet:</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">        // Don&#39;t allow -n -r -rn -ug -rug -nug -rnug</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">        flags = getopt32(argv, &quot;^rnug&quot;&quot;\0&quot;&quot;r?ug:n?ug:u--g:g--u&quot;);</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">        This example allowed only:</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">        $ id; id -u; id -g; id -ru; id -nu; id -rg; id -ng; id -rnu; id -rng</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"> &quot;X&quot;    A opt_complementary group with just a single letter means</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">        that this option is required. If more than one such group exists,</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">        at least one option is required to occur (not all of them).</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">        For example from &quot;start-stop-daemon&quot; applet:</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">        // Don&#39;t allow -KS -SK, but -S or -K is required</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">        flags = getopt32(argv, &quot;^KS...&quot;&quot;\0&quot;&quot;K:S:K--S:S--K&quot;);</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">        Don&#39;t forget to use &#39;:&#39;. For example, &quot;?322-22-23X-x-a&quot;</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">        is interpreted as &quot;?3:22:-2:2-2:2-3Xa:2--x&quot; -</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">        max 3 args; count uses of &#39;-2&#39;; min 2 args; if there is</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">        a &#39;-2&#39; option then unset &#39;-3&#39;, &#39;-X&#39; and &#39;-a&#39;; if there is</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">        a &#39;-2&#39; and after it a &#39;-x&#39; then error out.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">        But it&#39;s far too obfuscated. Use &#39;:&#39; to separate groups.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">/* Code here assumes that &#39;unsigned&#39; is at least 32 bits wide */</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#a294cdd7960ba485bbf8285a68cba204e">  299</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4b0510a407bc0d6cc13f6f735867e59b">bb_argv_dash</a>[] <a class="code" href="../../d4/d7f/getopt32_8c.html#a294cdd7960ba485bbf8285a68cba204e">ALIGN_PTR</a> = { <span class="stringliteral">&quot;-&quot;</span>, <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> };</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1a41ea6148800ac1712f504ea3821a47bd">  302</a></span>&#160;    <a class="code" href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1a41ea6148800ac1712f504ea3821a47bd">PARAM_STRING</a>,</div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1ad3063b0c170d7a504599d76e6f9fe86e">  303</a></span>&#160;    <a class="code" href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1ad3063b0c170d7a504599d76e6f9fe86e">PARAM_LIST</a>,</div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1a5ce327928fe80556981b8e4c9dfa024f">  304</a></span>&#160;    <a class="code" href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1a5ce327928fe80556981b8e4c9dfa024f">PARAM_INT</a>,</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;};</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html">  307</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#aa337d564a0abe8dd8db99f4e0a3612e7">  308</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../d4/d7f/getopt32_8c.html#aa337d564a0abe8dd8db99f4e0a3612e7">opt_char</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#a29f33bcf5eae2b2d7856319e752d6647">  309</a></span>&#160;    <a class="code" href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a> <a class="code" href="../../d4/d7f/getopt32_8c.html#a29f33bcf5eae2b2d7856319e752d6647">param_type</a>;</div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#ace81eff278acae5720bdc00cc66a9a92">  310</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d4/d7f/getopt32_8c.html#ace81eff278acae5720bdc00cc66a9a92">switch_on</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#a16bf6dc1a5ac5ccf7e49703d11fdba30">  311</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d4/d7f/getopt32_8c.html#a16bf6dc1a5ac5ccf7e49703d11fdba30">switch_off</a>;</div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#a4fbf9c2c81e49952d3a8dffaf86a68a9">  312</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d4/d7f/getopt32_8c.html#a4fbf9c2c81e49952d3a8dffaf86a68a9">incongruously</a>;</div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#ab9b31c62ff200bf346834149c9957ee4">  313</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d4/d7f/getopt32_8c.html#ab9b31c62ff200bf346834149c9957ee4">requires</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#a3aad5ae5f5b8472ebeffb1b8e332ec0c">  314</a></span>&#160;    <span class="keywordtype">void</span> **<a class="code" href="../../d4/d7f/getopt32_8c.html#a3aad5ae5f5b8472ebeffb1b8e332ec0c">optarg</a>;  <span class="comment">/* char**, llist_t** or int *. */</span></div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#afffd2b054c3ed7c0c0eaf7abb9029d1b">  315</a></span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="../../d4/d7f/getopt32_8c.html#afffd2b054c3ed7c0c0eaf7abb9029d1b">counter</a>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;} <a class="code" href="../../d4/d7f/getopt32_8c.html#db/d6b/structt__complementary">t_complementary</a>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="../../d7/dd7/libbb_8h.html#a55eba7ff429ebe3c6b543eba53c1a5d9">  318</a></span>&#160;<a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> <a class="code" href="../../d4/d7f/getopt32_8c.html#a55eba7ff429ebe3c6b543eba53c1a5d9">option_mask32</a>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">#if ENABLE_LONG_OPTS</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#d6/d43/structoption">option</a> bb_null_long_options[1] = {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    { 0, 0, 0, 0 }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;};</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#a1da08cdf7ff734031bd8c430ebe0200e">  325</a></span>&#160;<span class="preprocessor">#define vgetopt32(argv,applet_opts,applet_long_options,p) \</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">    vgetopt32(argv,applet_opts,p)</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">/* Please keep getopt32 free from xmalloc */</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a></div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="../../d4/d7f/getopt32_8c.html#ad07c6030474a8e1389324045dc87fba4">  332</a></span>&#160;<a class="code" href="../../d4/d7f/getopt32_8c.html#a1da08cdf7ff734031bd8c430ebe0200e">vgetopt32</a>(<span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *applet_opts, <span class="keyword">const</span> <span class="keywordtype">char</span> *applet_long_options, <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;{</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> = 0;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordtype">unsigned</span> requires = 0;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordtype">unsigned</span> len;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="../../d4/d7f/getopt32_8c.html#db/d6b/structt__complementary">t_complementary</a> complementary[33]; <span class="comment">/* last stays zero-filled */</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">char</span> dont_die_flag;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *opt_complementary;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="../../d4/d7f/getopt32_8c.html#db/d6b/structt__complementary">t_complementary</a> *<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor">#if ENABLE_LONG_OPTS</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#d6/d43/structoption">option</a> *l_o;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#d6/d43/structoption">option</a> *long_options = (<span class="keyword">struct </span><a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#d6/d43/structoption">option</a> *) &amp;bb_null_long_options;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordtype">unsigned</span> trigger;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordtype">int</span> min_arg = 0;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordtype">int</span> max_arg = -1;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordtype">int</span> spec_flgs = 0;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="preprocessor">#define SHOW_USAGE_IF_ERROR     1</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a> = complementary;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c.html#a19588d2006eb37347ebae632befc20e5">memset</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>, 0, <span class="keyword">sizeof</span>(complementary));</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    len = <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a>(applet_opts);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">/* skip bbox extension */</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    opt_complementary = <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> (applet_opts[0] == <span class="charliteral">&#39;^&#39;</span>) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        applet_opts++;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="comment">/* point it past terminating NUL */</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        opt_complementary = applet_opts + len;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">/* skip another bbox extension */</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    dont_die_flag = applet_opts[0];</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> (dont_die_flag == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        applet_opts++;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    applet_opts = <a class="code" href="../../d6/ddf/gen-helpfiles_8c.html#add539a5755e4c4070b0c8ca97477fe47">strcpy</a>(<a class="code" href="../../d0/d32/dcigettext_8c.html#a03a200320a749aaf2faa1d1719ffb4de">alloca</a>(len + 1), applet_opts);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">/* skip GNU extension */</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)applet_opts;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;+&#39;</span> || *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = 0;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">while</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &gt;= 32)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;opt_char = *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;switch_on = (1U &lt;&lt; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">if</span> (*++<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;optarg = <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#a81ebe6ea6253b0c6618e29de70fe10eb">va_arg</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keywordtype">void</span> **);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[1] == <span class="charliteral">&#39;+&#39;</span> || <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[1] == <span class="charliteral">&#39;*&#39;</span>) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                <span class="comment">/* &#39;o:+&#39; or &#39;o:*&#39; */</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;param_type = (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[1] == <span class="charliteral">&#39;+&#39;</span>) ?</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                    <a class="code" href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1a5ce327928fe80556981b8e4c9dfa024f">PARAM_INT</a> : <a class="code" href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1ad3063b0c170d7a504599d76e6f9fe86e">PARAM_LIST</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a9f80115b3cb2f6290449fa0b62fee8ba">overlapping_strcpy</a>((<span class="keywordtype">char</span>*)<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> + 1, (<span class="keywordtype">char</span>*)<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> + 2);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <span class="comment">/* skip possible &#39;o::&#39; (or &#39;o:+:&#39; !) */</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordflow">while</span> (*++<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>++;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>++;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="preprocessor">#if ENABLE_LONG_OPTS</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (applet_long_options) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *optstr;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> = 1;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        optstr = applet_long_options;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">while</span> (optstr[0]) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            optstr += <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a>(optstr) + 3; <span class="comment">/* skip NUL, has_arg, val */</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>++;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="comment">/* count == no. of longopts + 1 */</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        long_options = <a class="code" href="../../d0/d32/dcigettext_8c.html#a03a200320a749aaf2faa1d1719ffb4de">alloca</a>(<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> * <span class="keyword">sizeof</span>(*long_options));</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c.html#a19588d2006eb37347ebae632befc20e5">memset</a>(long_options, 0, <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a> * <span class="keyword">sizeof</span>(*long_options));</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        optstr = applet_long_options;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">while</span> (--<a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            long_options[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].<a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#adc503659d37af8017fb4b86d61c99086">name</a> = optstr;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            optstr += <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a>(optstr) + 1;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            long_options[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].<a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#a90d7ee9a51eea5c002682dbd0af149e4">has_arg</a> = (<span class="keywordtype">unsigned</span> char)(*optstr++);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <span class="comment">/* long_options[i].flag = NULL; */</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            long_options[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].<a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#a13bd155ec3b405d29c41ab8d0793be11">val</a> = (<span class="keywordtype">unsigned</span> char)(*optstr++);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">for</span> (l_o = long_options; l_o-&gt;<a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#adc503659d37af8017fb4b86d61c99086">name</a>; l_o++) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <span class="keywordflow">if</span> (l_o-&gt;<a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#ab366eea5fe7be25c1928328ba715e353">flag</a>)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a> = complementary; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;opt_char; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>++)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;opt_char == l_o-&gt;<a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#a13bd155ec3b405d29c41ab8d0793be11">val</a>)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                    <span class="keywordflow">goto</span> next_long;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &gt;= 32)</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;opt_char = l_o-&gt;<a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#a13bd155ec3b405d29c41ab8d0793be11">val</a>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;switch_on = (1U &lt;&lt; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">if</span> (l_o-&gt;<a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#a90d7ee9a51eea5c002682dbd0af149e4">has_arg</a> != <a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#a3bc1d5f667b5b4ca4b4abb685dc874ce">no_argument</a>)</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;optarg = <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#a81ebe6ea6253b0c6618e29de70fe10eb">va_arg</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keywordtype">void</span> **);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>++;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; next_long: ;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ENABLE_LONG_OPTS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)opt_complementary;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) <span class="keywordflow">for</span> (; *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <a class="code" href="../../d4/d7f/getopt32_8c.html#db/d6b/structt__complementary">t_complementary</a> *pair;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordtype">unsigned</span> *pair_switch;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[1];</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;?&#39;</span>) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">if</span> (c &lt; &#39;0&#39; || c &gt; <span class="charliteral">&#39;9&#39;</span>) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                spec_flgs |= <a class="code" href="../../d4/d7f/getopt32_8c.html#a66bca134fd0f39078b89a1b91f8d86b2">SHOW_USAGE_IF_ERROR</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                max_arg = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &lt;= <span class="charliteral">&#39;9&#39;</span>) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                min_arg = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;=&#39;</span>) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            min_arg = max_arg = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a> = complementary; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;opt_char; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>++)</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;opt_char == *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <span class="keywordflow">goto</span> found_opt;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="comment">/* Without this, diagnostic of such bugs is not easy */</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a1992b68ae7d01f7da91e31e351ca3b33">bb_error_msg_and_die</a>(<span class="stringliteral">&quot;NO OPT %c!&quot;</span>, *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; found_opt:</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;:&#39;</span> &amp;&amp; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[2] == <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;param_type = <a class="code" href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1ad3063b0c170d7a504599d76e6f9fe86e">PARAM_LIST</a>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;+&#39;</span> &amp;&amp; (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[2] == <span class="charliteral">&#39;:&#39;</span> || <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[2] == <span class="charliteral">&#39;\0&#39;</span>)) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;param_type = <a class="code" href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1a5ce327928fe80556981b8e4c9dfa024f">PARAM_INT</a>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;:&#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            requires |= <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;switch_on;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;-&#39;</span> &amp;&amp; (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[2] == <span class="charliteral">&#39;:&#39;</span> || <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[2] == <span class="charliteral">&#39;\0&#39;</span>)) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> |= <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;switch_on;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;incongruously |= <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;switch_on;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;counter = <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#a81ebe6ea6253b0c6618e29de70fe10eb">va_arg</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="keywordtype">int</span> *);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        pair = <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        pair_switch = &amp;pair-&gt;<a class="code" href="../../d4/d7f/getopt32_8c.html#ace81eff278acae5720bdc00cc66a9a92">switch_on</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++; *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> &amp;&amp; *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> != <span class="charliteral">&#39;:&#39;</span>; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;?&#39;</span>) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                pair_switch = &amp;pair-&gt;<a class="code" href="../../d4/d7f/getopt32_8c.html#ab9b31c62ff200bf346834149c9957ee4">requires</a>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                <span class="keywordflow">if</span> (pair_switch == &amp;pair-&gt;<a class="code" href="../../d4/d7f/getopt32_8c.html#a16bf6dc1a5ac5ccf7e49703d11fdba30">switch_off</a>)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                    pair_switch = &amp;pair-&gt;<a class="code" href="../../d4/d7f/getopt32_8c.html#a4fbf9c2c81e49952d3a8dffaf86a68a9">incongruously</a>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                    pair_switch = &amp;pair-&gt;<a class="code" href="../../d4/d7f/getopt32_8c.html#a16bf6dc1a5ac5ccf7e49703d11fdba30">switch_off</a>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a> = complementary; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;opt_char; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>++)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;opt_char == *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                        *pair_switch |= <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;switch_on;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>--;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="comment">/* In case getopt32 was already called:</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">     * reset libc getopt() internal state.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">     * run_nofork_applet() does this, but we might end up here</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">     * also via gunzip_main() -&gt; gzip_main(). Play safe.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#ac594a362982be6ed25880d16a1144f1c">GETOPT_RESET</a>();</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">/* skip 0: some applets cheat: they do not actually HAVE argv[0] */</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> = 1 + <a class="code" href="../../d7/dd7/libbb_8h.html#a9bd29eb8b45c427cd470c11da3d62393">string_array_len</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> + 1);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="comment">/* Note: just &quot;getopt() &lt;= 0&quot; will not work well for</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">     * &quot;fake&quot; short options, like this one:</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">     * wget $&#39;-\203&#39; &quot;Test: test&quot; http://kernel.org/</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">     * (supposed to act as --header, but doesn&#39;t) */</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="preprocessor">#if ENABLE_LONG_OPTS</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#a5f683e7897fb551b02ba936456387cc3">getopt_long</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, applet_opts,</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            long_options, <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) != -1) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d4/d31/musl_2include_2getopt_8h.html#acbd3b0584888b80a8e7f16d4d794eb2c">getopt</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, applet_opts)) != -1) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="comment">/* getopt prints &quot;option requires an argument -- X&quot;</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">         * and returns &#39;?&#39; if an option has no arg, but one is reqd */</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &amp;= 0xff; <span class="comment">/* fight libc&#39;s sign extension */</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a> = complementary; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;opt_char != <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>++) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <span class="comment">/* c can be NUL if long opt has non-NULL -&gt;flag,</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">             * but we construct long opts so that flag</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">             * is always NULL (see above) */</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;opt_char == <span class="charliteral">&#39;\0&#39;</span> <span class="comment">/* &amp;&amp; c != &#39;\0&#39; */</span>) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <span class="comment">/* c is probably &#39;?&#39; - &quot;bad option&quot; */</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="../../d2/d8a/dlfcn_8c.html#a37a27b523e8aff433c8a4adda2295f0d">error</a>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;incongruously)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d2/d8a/dlfcn_8c.html#a37a27b523e8aff433c8a4adda2295f0d">error</a>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        trigger = <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;switch_on &amp; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;switch_off;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp;= ~(<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;switch_off ^ trigger);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> |= <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;switch_on ^ trigger;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> ^= trigger;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;counter)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            (*(<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;counter))++;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d50/rl_8c.html#adb50a0eab9fed92fc3bfc7dfa4f2c410">optarg</a>) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;param_type == <a class="code" href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1ad3063b0c170d7a504599d76e6f9fe86e">PARAM_LIST</a>) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a936c6dcc18423660015b12788ce6aa00">llist_add_to_end</a>((<a class="code" href="../../d7/dd7/libbb_8h.html#da/d28/structllist__t">llist_t</a> **)(<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;optarg), <a class="code" href="../../d8/d50/rl_8c.html#adb50a0eab9fed92fc3bfc7dfa4f2c410">optarg</a>);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;param_type == <a class="code" href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1a5ce327928fe80556981b8e4c9dfa024f">PARAM_INT</a>) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">//TODO: xatoi_positive indirectly pulls in printf machinery</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                *(<span class="keywordtype">unsigned</span>*)(<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;optarg) = <a class="code" href="../../d7/dd7/libbb_8h.html#ad119877cd997e61e2d1c40f28130a384">xatoi_positive</a>(<a class="code" href="../../d8/d50/rl_8c.html#adb50a0eab9fed92fc3bfc7dfa4f2c410">optarg</a>);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;optarg) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                *(<span class="keywordtype">char</span> **)(<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;optarg) = <a class="code" href="../../d8/d50/rl_8c.html#adb50a0eab9fed92fc3bfc7dfa4f2c410">optarg</a>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">/* check depending requires for given options */</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a> = complementary; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;opt_char; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>++) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;requires</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;         &amp;&amp; (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;switch_on)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;         &amp;&amp; (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; <a class="code" href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a>-&gt;requires) == 0</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        ) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d2/d8a/dlfcn_8c.html#a37a27b523e8aff433c8a4adda2295f0d">error</a>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">if</span> (requires &amp;&amp; (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> &amp; requires) == 0)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d2/d8a/dlfcn_8c.html#a37a27b523e8aff433c8a4adda2295f0d">error</a>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> -= <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> &lt; min_arg || (max_arg &gt;= 0 &amp;&amp; <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> &gt; max_arg))</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d2/d8a/dlfcn_8c.html#a37a27b523e8aff433c8a4adda2295f0d">error</a>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="../../d4/d7f/getopt32_8c.html#a55eba7ff429ebe3c6b543eba53c1a5d9">option_mask32</a> = <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; <a class="code" href="../../d2/d8a/dlfcn_8c.html#a37a27b523e8aff433c8a4adda2295f0d">error</a>:</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">if</span> (dont_die_flag != <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <a class="code" href="../../d9/d65/individual_8c.html#a8323cea1cd613c0e2005086064a4b730">bb_show_usage</a>();</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0c18914b3041c2f583aba76f418399c2">int32_t</a>)-1;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="../../d7/dd7/libbb_8h.html#ae9d64bed6edb4d6ec066d5d7c3653fd2">  599</a></span>&#160;<a class="code" href="../../d4/d7f/getopt32_8c.html#a8431503a5287a32095eadef59c293f96">getopt32</a>(<span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *applet_opts, ...)</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;{</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#ade24ac546ea93fde2353ed2db8e89c66">va_start</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, applet_opts);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> = <a class="code" href="../../d4/d7f/getopt32_8c.html#a1da08cdf7ff734031bd8c430ebe0200e">vgetopt32</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, applet_opts, <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#acd9b3b9085ec072324c5fdac2b40304e">va_end</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="preprocessor">#if ENABLE_LONG_OPTS</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> <a class="code" href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<a class="code" href="../../d7/dd7/libbb_8h.html#a99d9bd14a37504e4b26bb3f2e8dc287f">getopt32long</a>(<span class="keywordtype">char</span> **<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *applet_opts, <span class="keyword">const</span> <span class="keywordtype">char</span> *longopts, ...)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;{</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#ade24ac546ea93fde2353ed2db8e89c66">va_start</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, longopts);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a> = <a class="code" href="../../d4/d7f/getopt32_8c.html#a1da08cdf7ff734031bd8c430ebe0200e">vgetopt32</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, applet_opts, longopts, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#acd9b3b9085ec072324c5fdac2b40304e">va_end</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2memset_8c_html_a19588d2006eb37347ebae632befc20e5"><div class="ttname"><a href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c.html#a19588d2006eb37347ebae632befc20e5">memset</a></div><div class="ttdeci">char * memset(char *str, int c, unsigned int len)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c_source.html#l00022">memset.c:22</a></div></div>
<div class="ttc" id="aarpping_8c_html_ac9562ee4ecb3b8aeebeb04656e7e57a9"><div class="ttname"><a href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a></div><div class="ttdeci">#define s</div></div>
<div class="ttc" id="abash_2test_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">static int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00109">test.c:109</a></div></div>
<div class="ttc" id="abash_2test_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">static char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00110">test.c:110</a></div></div>
<div class="ttc" id="adcigettext_8c_html_a03a200320a749aaf2faa1d1719ffb4de"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#a03a200320a749aaf2faa1d1719ffb4de">alloca</a></div><div class="ttdeci">#define alloca(size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00362">dcigettext.c:362</a></div></div>
<div class="ttc" id="add_8c_html_ac74ae34e9c58234aacabb6867b245c58"><div class="ttname"><a href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a></div><div class="ttdeci">#define count</div></div>
<div class="ttc" id="adlfcn_8c_html_a37a27b523e8aff433c8a4adda2295f0d"><div class="ttname"><a href="../../d2/d8a/dlfcn_8c.html#a37a27b523e8aff433c8a4adda2295f0d">error</a></div><div class="ttdeci">static char * error</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d8a/dlfcn_8c_source.html#l00003">dlfcn.c:3</a></div></div>
<div class="ttc" id="adumpkmap_8c_html_abb0829cce9dd20a40ae0d86890ae85c6"><div class="ttname"><a href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a></div><div class="ttdeci">#define flags</div></div>
<div class="ttc" id="agen-helpfiles_8c_html_add539a5755e4c4070b0c8ca97477fe47"><div class="ttname"><a href="../../d6/ddf/gen-helpfiles_8c.html#add539a5755e4c4070b0c8ca97477fe47">strcpy</a></div><div class="ttdeci">char * strcpy()</div></div>
<div class="ttc" id="ageneral_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d14/general_8h_source.html#l00053">general.h:53</a></div></div>
<div class="ttc" id="agetopt32_8c_html_a16bf6dc1a5ac5ccf7e49703d11fdba30"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a16bf6dc1a5ac5ccf7e49703d11fdba30">t_complementary::switch_off</a></div><div class="ttdeci">unsigned switch_off</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00311">getopt32.c:311</a></div></div>
<div class="ttc" id="agetopt32_8c_html_a1da08cdf7ff734031bd8c430ebe0200e"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a1da08cdf7ff734031bd8c430ebe0200e">vgetopt32</a></div><div class="ttdeci">#define vgetopt32(argv, applet_opts, applet_long_options, p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00325">getopt32.c:325</a></div></div>
<div class="ttc" id="agetopt32_8c_html_a294cdd7960ba485bbf8285a68cba204e"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a294cdd7960ba485bbf8285a68cba204e">ALIGN_PTR</a></div><div class="ttdeci">const char *const bb_argv_dash[] ALIGN_PTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00299">getopt32.c:299</a></div></div>
<div class="ttc" id="agetopt32_8c_html_a29f33bcf5eae2b2d7856319e752d6647"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a29f33bcf5eae2b2d7856319e752d6647">t_complementary::param_type</a></div><div class="ttdeci">smallint param_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00309">getopt32.c:309</a></div></div>
<div class="ttc" id="agetopt32_8c_html_a3aad5ae5f5b8472ebeffb1b8e332ec0c"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a3aad5ae5f5b8472ebeffb1b8e332ec0c">t_complementary::optarg</a></div><div class="ttdeci">void ** optarg</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00314">getopt32.c:314</a></div></div>
<div class="ttc" id="agetopt32_8c_html_a4fbf9c2c81e49952d3a8dffaf86a68a9"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a4fbf9c2c81e49952d3a8dffaf86a68a9">t_complementary::incongruously</a></div><div class="ttdeci">unsigned incongruously</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00312">getopt32.c:312</a></div></div>
<div class="ttc" id="agetopt32_8c_html_a55eba7ff429ebe3c6b543eba53c1a5d9"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a55eba7ff429ebe3c6b543eba53c1a5d9">option_mask32</a></div><div class="ttdeci">uint32_t option_mask32</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00318">getopt32.c:318</a></div></div>
<div class="ttc" id="agetopt32_8c_html_a592aba11ab30da4dbf57e9736c8387a1a41ea6148800ac1712f504ea3821a47bd"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1a41ea6148800ac1712f504ea3821a47bd">PARAM_STRING</a></div><div class="ttdeci">@ PARAM_STRING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00302">getopt32.c:302</a></div></div>
<div class="ttc" id="agetopt32_8c_html_a592aba11ab30da4dbf57e9736c8387a1a5ce327928fe80556981b8e4c9dfa024f"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1a5ce327928fe80556981b8e4c9dfa024f">PARAM_INT</a></div><div class="ttdeci">@ PARAM_INT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00304">getopt32.c:304</a></div></div>
<div class="ttc" id="agetopt32_8c_html_a592aba11ab30da4dbf57e9736c8387a1ad3063b0c170d7a504599d76e6f9fe86e"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a592aba11ab30da4dbf57e9736c8387a1ad3063b0c170d7a504599d76e6f9fe86e">PARAM_LIST</a></div><div class="ttdeci">@ PARAM_LIST</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00303">getopt32.c:303</a></div></div>
<div class="ttc" id="agetopt32_8c_html_a66bca134fd0f39078b89a1b91f8d86b2"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a66bca134fd0f39078b89a1b91f8d86b2">SHOW_USAGE_IF_ERROR</a></div><div class="ttdeci">#define SHOW_USAGE_IF_ERROR</div></div>
<div class="ttc" id="agetopt32_8c_html_a8431503a5287a32095eadef59c293f96"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#a8431503a5287a32095eadef59c293f96">getopt32</a></div><div class="ttdeci">uint32_t FAST_FUNC getopt32(char **argv, const char *applet_opts,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00599">getopt32.c:599</a></div></div>
<div class="ttc" id="agetopt32_8c_html_aa337d564a0abe8dd8db99f4e0a3612e7"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#aa337d564a0abe8dd8db99f4e0a3612e7">t_complementary::opt_char</a></div><div class="ttdeci">unsigned char opt_char</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00308">getopt32.c:308</a></div></div>
<div class="ttc" id="agetopt32_8c_html_ab9b31c62ff200bf346834149c9957ee4"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#ab9b31c62ff200bf346834149c9957ee4">t_complementary::requires</a></div><div class="ttdeci">unsigned requires</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00313">getopt32.c:313</a></div></div>
<div class="ttc" id="agetopt32_8c_html_ace81eff278acae5720bdc00cc66a9a92"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#ace81eff278acae5720bdc00cc66a9a92">t_complementary::switch_on</a></div><div class="ttdeci">unsigned switch_on</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00310">getopt32.c:310</a></div></div>
<div class="ttc" id="agetopt32_8c_html_afffd2b054c3ed7c0c0eaf7abb9029d1b"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#afffd2b054c3ed7c0c0eaf7abb9029d1b">t_complementary::counter</a></div><div class="ttdeci">int * counter</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00315">getopt32.c:315</a></div></div>
<div class="ttc" id="agetopt32_8c_html_db/d6b/structt__complementary"><div class="ttname"><a href="../../d4/d7f/getopt32_8c.html#db/d6b/structt__complementary">t_complementary</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00307">getopt32.c:307</a></div></div>
<div class="ttc" id="agettextP_8h_html_a68428151ad44e31b19041cdeb8972a91"><div class="ttname"><a href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a></div><div class="ttdeci">static nls_uint32 nls_uint32 i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d71/gettextP_8h_source.html#l00074">gettextP.h:74</a></div></div>
<div class="ttc" id="aglob__loop_8c_html_a2019d0836036f2693a231fe5c7c65e20"><div class="ttname"><a href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a></div><div class="ttdeci">register GCHAR c</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/glob__loop_8c_source.html#l00028">glob_loop.c:26</a></div></div>
<div class="ttc" id="aglob__loop_8c_html_ac483f6ce851c9ecd9fb835ff7551737c"><div class="ttname"><a href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a></div><div class="ttdeci">p</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/glob__loop_8c_source.html#l00031">glob_loop.c:31</a></div></div>
<div class="ttc" id="ahdparm_8c_html_a8773686d77be664ec1a1b6fd17d64604"><div class="ttname"><a href="../../d2/db3/hdparm_8c.html#a8773686d77be664ec1a1b6fd17d64604">on_off</a></div><div class="ttdeci">static void on_off(int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/hdparm_8c_source.html#l00518">hdparm.c:518</a></div></div>
<div class="ttc" id="aindividual_8c_html_a8323cea1cd613c0e2005086064a4b730"><div class="ttname"><a href="../../d9/d65/individual_8c.html#a8323cea1cd613c0e2005086064a4b730">bb_show_usage</a></div><div class="ttdeci">void bb_show_usage(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d65/individual_8c_source.html#l00020">individual.c:20</a></div></div>
<div class="ttc" id="alibbb_8h_html"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html">libbb.h</a></div></div>
<div class="ttc" id="alibbb_8h_html_a1992b68ae7d01f7da91e31e351ca3b33"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a1992b68ae7d01f7da91e31e351ca3b33">bb_error_msg_and_die</a></div><div class="ttdeci">void bb_error_msg_and_die(const char *s,...) __attribute__((noreturn</div></div>
<div class="ttc" id="alibbb_8h_html_a4b0510a407bc0d6cc13f6f735867e59b"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4b0510a407bc0d6cc13f6f735867e59b">bb_argv_dash</a></div><div class="ttdeci">const char *const bb_argv_dash[]</div></div>
<div class="ttc" id="alibbb_8h_html_a936c6dcc18423660015b12788ce6aa00"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a936c6dcc18423660015b12788ce6aa00">llist_add_to_end</a></div><div class="ttdeci">void llist_add_to_end(llist_t **list_head, void *data) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de1/llist_8c_source.html#l00025">llist.c:25</a></div></div>
<div class="ttc" id="alibbb_8h_html_a99d9bd14a37504e4b26bb3f2e8dc287f"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a99d9bd14a37504e4b26bb3f2e8dc287f">getopt32long</a></div><div class="ttdeci">#define getopt32long(argv, optstring, longopts,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01354">libbb.h:1354</a></div></div>
<div class="ttc" id="alibbb_8h_html_a9bd29eb8b45c427cd470c11da3d62393"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a9bd29eb8b45c427cd470c11da3d62393">string_array_len</a></div><div class="ttdeci">unsigned string_array_len(char **argv) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6c/appletlib_8c_source.html#l00094">appletlib.c:94</a></div></div>
<div class="ttc" id="alibbb_8h_html_a9e5609718f2d1fe5ead7714b3d45223b"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a9e5609718f2d1fe5ead7714b3d45223b">FAST_FUNC</a></div><div class="ttdeci">void FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01427">libbb.h:1427</a></div></div>
<div class="ttc" id="alibbb_8h_html_a9f80115b3cb2f6290449fa0b62fee8ba"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a9f80115b3cb2f6290449fa0b62fee8ba">overlapping_strcpy</a></div><div class="ttdeci">void overlapping_strcpy(char *dst, const char *src) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db9/safe__strncpy_8c_source.html#l00020">safe_strncpy.c:20</a></div></div>
<div class="ttc" id="alibbb_8h_html_ac594a362982be6ed25880d16a1144f1c"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ac594a362982be6ed25880d16a1144f1c">GETOPT_RESET</a></div><div class="ttdeci">#define GETOPT_RESET()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01373">libbb.h:1373</a></div></div>
<div class="ttc" id="alibbb_8h_html_ad119877cd997e61e2d1c40f28130a384"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ad119877cd997e61e2d1c40f28130a384">xatoi_positive</a></div><div class="ttdeci">int xatoi_positive(const char *numstr) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/xatonum_8c_source.html#l00061">xatonum.c:61</a></div></div>
<div class="ttc" id="alibbb_8h_html_da/d28/structllist__t"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#da/d28/structllist__t">llist_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01383">libbb.h:1383</a></div></div>
<div class="ttc" id="alibc_2include_2inttypes_8h_html_a0a8582351ac627ee8bde2973c825e47f"><div class="ttname"><a href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a></div><div class="ttdeci">__UINT32_TYPE__ uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df0/libc_2include_2inttypes_8h_source.html#l00010">inttypes.h:10</a></div></div>
<div class="ttc" id="alibc_2include_2inttypes_8h_html_a0c18914b3041c2f583aba76f418399c2"><div class="ttname"><a href="../../d4/df0/libc_2include_2inttypes_8h.html#a0c18914b3041c2f583aba76f418399c2">int32_t</a></div><div class="ttdeci">__INT32_TYPE__ int32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df0/libc_2include_2inttypes_8h_source.html#l00006">inttypes.h:6</a></div></div>
<div class="ttc" id="alibc_2include_2stdarg_8h_html_a81ebe6ea6253b0c6618e29de70fe10eb"><div class="ttname"><a href="../../d1/dba/libc_2include_2stdarg_8h.html#a81ebe6ea6253b0c6618e29de70fe10eb">va_arg</a></div><div class="ttdeci">#define va_arg(ap, type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dba/libc_2include_2stdarg_8h_source.html#l00010">stdarg.h:10</a></div></div>
<div class="ttc" id="alibc_2include_2stdarg_8h_html_acd9b3b9085ec072324c5fdac2b40304e"><div class="ttname"><a href="../../d1/dba/libc_2include_2stdarg_8h.html#acd9b3b9085ec072324c5fdac2b40304e">va_end</a></div><div class="ttdeci">#define va_end(ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dba/libc_2include_2stdarg_8h_source.html#l00009">stdarg.h:9</a></div></div>
<div class="ttc" id="alibc_2include_2stdarg_8h_html_ade24ac546ea93fde2353ed2db8e89c66"><div class="ttname"><a href="../../d1/dba/libc_2include_2stdarg_8h.html#ade24ac546ea93fde2353ed2db8e89c66">va_start</a></div><div class="ttdeci">#define va_start(ap, last)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dba/libc_2include_2stdarg_8h_source.html#l00008">stdarg.h:8</a></div></div>
<div class="ttc" id="alibc_2include_2stdarg_8h_html_af53f622e3b6c080daeb167c1955d7ec1"><div class="ttname"><a href="../../d1/dba/libc_2include_2stdarg_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a></div><div class="ttdeci">__builtin_va_list va_list</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dba/libc_2include_2stdarg_8h_source.html#l00005">stdarg.h:5</a></div></div>
<div class="ttc" id="alibc_2include_2string_8h_html_a008e171a518fe0e0352f31b245e03875"><div class="ttname"><a href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a></div><div class="ttdeci">size_t strlen(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l00005">string.c:5</a></div></div>
<div class="ttc" id="amusl_2include_2getopt_8h_html_a13bd155ec3b405d29c41ab8d0793be11"><div class="ttname"><a href="../../d4/d31/musl_2include_2getopt_8h.html#a13bd155ec3b405d29c41ab8d0793be11">option::val</a></div><div class="ttdeci">int val</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d31/musl_2include_2getopt_8h_source.html#l00016">getopt.h:16</a></div></div>
<div class="ttc" id="amusl_2include_2getopt_8h_html_a3bc1d5f667b5b4ca4b4abb685dc874ce"><div class="ttname"><a href="../../d4/d31/musl_2include_2getopt_8h.html#a3bc1d5f667b5b4ca4b4abb685dc874ce">no_argument</a></div><div class="ttdeci">#define no_argument</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d31/musl_2include_2getopt_8h_source.html#l00022">getopt.h:22</a></div></div>
<div class="ttc" id="amusl_2include_2getopt_8h_html_a5f683e7897fb551b02ba936456387cc3"><div class="ttname"><a href="../../d4/d31/musl_2include_2getopt_8h.html#a5f683e7897fb551b02ba936456387cc3">getopt_long</a></div><div class="ttdeci">int getopt_long(int, char *const *, const char *, const struct option *, int *)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de0/getopt__long_8c_source.html#l00140">getopt_long.c:140</a></div></div>
<div class="ttc" id="amusl_2include_2getopt_8h_html_a90d7ee9a51eea5c002682dbd0af149e4"><div class="ttname"><a href="../../d4/d31/musl_2include_2getopt_8h.html#a90d7ee9a51eea5c002682dbd0af149e4">option::has_arg</a></div><div class="ttdeci">int has_arg</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d31/musl_2include_2getopt_8h_source.html#l00014">getopt.h:14</a></div></div>
<div class="ttc" id="amusl_2include_2getopt_8h_html_ab366eea5fe7be25c1928328ba715e353"><div class="ttname"><a href="../../d4/d31/musl_2include_2getopt_8h.html#ab366eea5fe7be25c1928328ba715e353">option::flag</a></div><div class="ttdeci">int * flag</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d31/musl_2include_2getopt_8h_source.html#l00015">getopt.h:15</a></div></div>
<div class="ttc" id="amusl_2include_2getopt_8h_html_acbd3b0584888b80a8e7f16d4d794eb2c"><div class="ttname"><a href="../../d4/d31/musl_2include_2getopt_8h.html#acbd3b0584888b80a8e7f16d4d794eb2c">getopt</a></div><div class="ttdeci">int getopt(int, char *const [], const char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dee/musl_2src_2misc_2getopt_8c_source.html#l00028">getopt.c:28</a></div></div>
<div class="ttc" id="amusl_2include_2getopt_8h_html_adc503659d37af8017fb4b86d61c99086"><div class="ttname"><a href="../../d4/d31/musl_2include_2getopt_8h.html#adc503659d37af8017fb4b86d61c99086">option::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d31/musl_2include_2getopt_8h_source.html#l00013">getopt.h:13</a></div></div>
<div class="ttc" id="amusl_2include_2getopt_8h_html_d6/d43/structoption"><div class="ttname"><a href="../../d4/d31/musl_2include_2getopt_8h.html#d6/d43/structoption">option</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d31/musl_2include_2getopt_8h_source.html#l00012">getopt.h:12</a></div></div>
<div class="ttc" id="anmeter_8c_html_a6b9d817d08c1417f5c533eb8ad775312"><div class="ttname"><a href="../../d4/dcd/nmeter_8c.html#a6b9d817d08c1417f5c533eb8ad775312">opt</a></div><div class="ttdeci">char opt</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcd/nmeter_8c_source.html#l00626">nmeter.c:626</a></div></div>
<div class="ttc" id="aplatform_8h_html_ad05b39cab98c2ea86551b631e839efbf"><div class="ttname"><a href="../../de/d03/platform_8h.html#ad05b39cab98c2ea86551b631e839efbf">smallint</a></div><div class="ttdeci">int smallint</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/platform_8h_source.html#l00289">platform.h:289</a></div></div>
<div class="ttc" id="arl_8c_html_ad5e1c16213bbee2d5e8cc363309f418c"><div class="ttname"><a href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a></div><div class="ttdeci">int optind</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dee/musl_2src_2misc_2getopt_8c_source.html#l00011">getopt.c:11</a></div></div>
<div class="ttc" id="arl_8c_html_adb50a0eab9fed92fc3bfc7dfa4f2c410"><div class="ttname"><a href="../../d8/d50/rl_8c.html#adb50a0eab9fed92fc3bfc7dfa4f2c410">optarg</a></div><div class="ttdeci">char * optarg</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dee/musl_2src_2misc_2getopt_8c_source.html#l00010">getopt.c:10</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97d86ce2f18c7710ea326fa47777d7d7.html">Userspace</a></li><li class="navelem"><a class="el" href="../../dir_0276b9b7d706caf6f8b101518c949f15.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_825a5fc57f8484006531699dcb39fa0d.html">base</a></li><li class="navelem"><a class="el" href="../../dir_87e330aa425985c7f88c27f5b355b004.html">busybox</a></li><li class="navelem"><a class="el" href="../../dir_b8ba32dae580865efe537582ff8ab5a5.html">libbb</a></li><li class="navelem"><a class="el" href="../../d4/d7f/getopt32_8c.html">getopt32.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
