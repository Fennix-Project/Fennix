<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fennix Userspace: Userspace/apps/base/busybox/editors/vi.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fennix Userspace
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Fennix Userspace Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d4/d49/vi_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vi.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d7/dd7/libbb_8h_source.html">libbb.h</a>&quot;</code><br />
</div>
<p><a href="../../d4/d49/vi_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d11/structglobals.html">globals</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a33679e479871b1ee390c63eef35b0830"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a33679e479871b1ee390c63eef35b0830">ENABLE_FEATURE_VI_CRASHME</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a33679e479871b1ee390c63eef35b0830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ca3331838eaae3f068b4836040e811"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a06ca3331838eaae3f068b4836040e811">IF_FEATURE_VI_CRASHME</a>(...)</td></tr>
<tr class="separator:a06ca3331838eaae3f068b4836040e811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d85e9e3b928359f42768e35bed8b58"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a70d85e9e3b928359f42768e35bed8b58">Isprint</a>(<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)&#160;&#160;&#160;((unsigned char)(<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) &gt;= ' ' &amp;&amp; (unsigned char)(<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) &lt; 0x7f)</td></tr>
<tr class="separator:a70d85e9e3b928359f42768e35bed8b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab72d18b3c16ac6360ab95232710b8f82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ab72d18b3c16ac6360ab95232710b8f82">isbackspace</a>(<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)&#160;&#160;&#160;((<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) == term_orig.c_cc[<a class="el" href="../../db/d49/arch_2powerpc64_2bits_2termios_8h.html#a6e11c405d7ddff22c2318c8623c3affa">VERASE</a>] || (<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) == 8 || (<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) == 127)</td></tr>
<tr class="separator:ab72d18b3c16ac6360ab95232710b8f82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af1b6159e447ba72652bb7fcdfa726e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&#160;&#160;&#160;&quot;\033&quot;</td></tr>
<tr class="separator:a4af1b6159e447ba72652bb7fcdfa726e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3536901061a978f1600280105b44618"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ab3536901061a978f1600280105b44618">ESC_BOLD_TEXT</a>&#160;&#160;&#160;<a class="el" href="../../d1/dc9/dialog_8h.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&quot;[7m&quot;</td></tr>
<tr class="separator:ab3536901061a978f1600280105b44618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29587da82d1cde6f82af54abd33f8187"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a29587da82d1cde6f82af54abd33f8187">ESC_NORM_TEXT</a>&#160;&#160;&#160;<a class="el" href="../../d1/dc9/dialog_8h.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&quot;[m&quot;</td></tr>
<tr class="separator:a29587da82d1cde6f82af54abd33f8187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c17a859f6cbbb256e064fd0f08ed932"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a9c17a859f6cbbb256e064fd0f08ed932">ESC_BELL</a>&#160;&#160;&#160;&quot;\007&quot;</td></tr>
<tr class="separator:a9c17a859f6cbbb256e064fd0f08ed932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac05496b0a5b24975dc335b8a728563db"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ac05496b0a5b24975dc335b8a728563db">ESC_CLEAR2EOL</a>&#160;&#160;&#160;<a class="el" href="../../d1/dc9/dialog_8h.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&quot;[K&quot;</td></tr>
<tr class="separator:ac05496b0a5b24975dc335b8a728563db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a27a185d6cc29e71283452bb044d6c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a1a27a185d6cc29e71283452bb044d6c4">ESC_CLEAR2EOS</a>&#160;&#160;&#160;<a class="el" href="../../d1/dc9/dialog_8h.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&quot;[J&quot;</td></tr>
<tr class="separator:a1a27a185d6cc29e71283452bb044d6c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc0372bb32e648b40d17cfcfaf44029f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#afc0372bb32e648b40d17cfcfaf44029f">ESC_SET_CURSOR_POS</a>&#160;&#160;&#160;<a class="el" href="../../d1/dc9/dialog_8h.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&quot;[%u;%uH&quot;</td></tr>
<tr class="separator:afc0372bb32e648b40d17cfcfaf44029f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd9a6a53add95e7b5ba29c2a1ccb04d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aadd9a6a53add95e7b5ba29c2a1ccb04d">ESC_SET_CURSOR_TOPLEFT</a>&#160;&#160;&#160;<a class="el" href="../../d1/dc9/dialog_8h.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&quot;[H&quot;</td></tr>
<tr class="separator:aadd9a6a53add95e7b5ba29c2a1ccb04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a454c3daa0eb1551f19a051fcf7e577fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a454c3daa0eb1551f19a051fcf7e577fc">autoindent</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:a454c3daa0eb1551f19a051fcf7e577fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab0e5c322b891a067a1a7a0f3c50865"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a9ab0e5c322b891a067a1a7a0f3c50865">expandtab</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:a9ab0e5c322b891a067a1a7a0f3c50865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37141f0e9b16a984c21e9bad75b87010"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a37141f0e9b16a984c21e9bad75b87010">err_method</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:a37141f0e9b16a984c21e9bad75b87010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c8e541a9abefc083d2b22493592694"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ab7c8e541a9abefc083d2b22493592694">ignorecase</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:ab7c8e541a9abefc083d2b22493592694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac73ee8bc0ba8f02e1dfd781e6e7ed6d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ac73ee8bc0ba8f02e1dfd781e6e7ed6d5">SET_READONLY_FILE</a>(<a class="el" href="../../db/dd4/sm__loop_8c.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a>)&#160;&#160;&#160;((void)0)</td></tr>
<tr class="separator:ac73ee8bc0ba8f02e1dfd781e6e7ed6d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5592ebc4405adc1672c9c1e0fb2030e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a5592ebc4405adc1672c9c1e0fb2030e3">SET_READONLY_MODE</a>(<a class="el" href="../../db/dd4/sm__loop_8c.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a>)&#160;&#160;&#160;((void)0)</td></tr>
<tr class="separator:a5592ebc4405adc1672c9c1e0fb2030e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f92a05df8ff94c9479014721906687"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a75f92a05df8ff94c9479014721906687">UNSET_READONLY_FILE</a>(<a class="el" href="../../db/dd4/sm__loop_8c.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a>)&#160;&#160;&#160;((void)0)</td></tr>
<tr class="separator:a75f92a05df8ff94c9479014721906687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7db220f8ddad54e13345795ce9eaf7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ad7db220f8ddad54e13345795ce9eaf7d">STATUS_BUFFER_LEN</a>&#160;&#160;&#160;200</td></tr>
<tr class="separator:ad7db220f8ddad54e13345795ce9eaf7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed9ea78689ecce0b7264c02c7f8a9a54"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>&#160;&#160;&#160;(*<a class="el" href="../../d5/ded/ptr__to__globals_8c.html#aff79e45ec02a9716e59b3aca1c9b6808">ptr_to_globals</a>)</td></tr>
<tr class="separator:aed9ea78689ecce0b7264c02c7f8a9a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1144b296168b3bd3f9c04d75f4d5b94c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>&#160;&#160;&#160;(G.text          )</td></tr>
<tr class="separator:a1144b296168b3bd3f9c04d75f4d5b94c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176a37bacb55f480893e743ae5bb55db"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a176a37bacb55f480893e743ae5bb55db">text_size</a>&#160;&#160;&#160;(G.text_size     )</td></tr>
<tr class="separator:a176a37bacb55f480893e743ae5bb55db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb839951208a8400aa14d71d7c6f974"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>&#160;&#160;&#160;(G.end           )</td></tr>
<tr class="separator:a2fb839951208a8400aa14d71d7c6f974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adecf5d6273480fb438d640425e20b40d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>&#160;&#160;&#160;(G.dot           )</td></tr>
<tr class="separator:adecf5d6273480fb438d640425e20b40d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff5e7d5e615b883b132d7ef1a74beb55"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>&#160;&#160;&#160;(G.reg           )</td></tr>
<tr class="separator:aff5e7d5e615b883b132d7ef1a74beb55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a2378c5028c3530a75a64d945bb424"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a51a2378c5028c3530a75a64d945bb424">vi_setops</a>&#160;&#160;&#160;(G.vi_setops          )</td></tr>
<tr class="separator:a51a2378c5028c3530a75a64d945bb424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b92a0469f43b8ef5034e21cf946489"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a>&#160;&#160;&#160;(G.editing            )</td></tr>
<tr class="separator:a58b92a0469f43b8ef5034e21cf946489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8d23f2b372457d97e558d69064aaf22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a>&#160;&#160;&#160;(G.cmd_mode           )</td></tr>
<tr class="separator:ae8d23f2b372457d97e558d69064aaf22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f29a242999740b9621d87e6e30aee1b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a>&#160;&#160;&#160;(G.modified_count     )</td></tr>
<tr class="separator:a3f29a242999740b9621d87e6e30aee1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34d865d51c5bf0f08072559f08ca6f4e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a34d865d51c5bf0f08072559f08ca6f4e">last_modified_count</a>&#160;&#160;&#160;(G.last_modified_count)</td></tr>
<tr class="separator:a34d865d51c5bf0f08072559f08ca6f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e55fb5626444e70dbe569582bfc6a84"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a4e55fb5626444e70dbe569582bfc6a84">cmdline_filecnt</a>&#160;&#160;&#160;(G.cmdline_filecnt    )</td></tr>
<tr class="separator:a4e55fb5626444e70dbe569582bfc6a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad971950d0b434d5b86d72aae0b07ff59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a>&#160;&#160;&#160;(G.cmdcnt             )</td></tr>
<tr class="separator:ad971950d0b434d5b86d72aae0b07ff59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7e727a46b4ca854c44fa1c900b08584"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ae7e727a46b4ca854c44fa1c900b08584">rstart</a>&#160;&#160;&#160;(G.rstart             )</td></tr>
<tr class="separator:ae7e727a46b4ca854c44fa1c900b08584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a709f915a8f591c9ec3208128ee246b89"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a>&#160;&#160;&#160;(G.rows               )</td></tr>
<tr class="separator:a709f915a8f591c9ec3208128ee246b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7237396536dfa0df44aa7bd40f5338f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a>&#160;&#160;&#160;(G.columns            )</td></tr>
<tr class="separator:a7237396536dfa0df44aa7bd40f5338f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8c5c0c3e9f5d391a53f4ff60125ddf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a9a8c5c0c3e9f5d391a53f4ff60125ddf">crow</a>&#160;&#160;&#160;(G.crow               )</td></tr>
<tr class="separator:a9a8c5c0c3e9f5d391a53f4ff60125ddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a973859d8182591b126603d6b61fd10e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a973859d8182591b126603d6b61fd10e5">ccol</a>&#160;&#160;&#160;(G.ccol               )</td></tr>
<tr class="separator:a973859d8182591b126603d6b61fd10e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae6364a195a181790fe7379c6b44a343"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>&#160;&#160;&#160;(G.offset             )</td></tr>
<tr class="separator:aae6364a195a181790fe7379c6b44a343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693fa1e8775df2e851f5a7c6b0513c49"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a693fa1e8775df2e851f5a7c6b0513c49">status_buffer</a>&#160;&#160;&#160;(G.status_buffer      )</td></tr>
<tr class="separator:a693fa1e8775df2e851f5a7c6b0513c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d16a56855050344314149f02356e55"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#af4d16a56855050344314149f02356e55">have_status_msg</a>&#160;&#160;&#160;(G.have_status_msg    )</td></tr>
<tr class="separator:af4d16a56855050344314149f02356e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4d4f22923d4539c7b5c43a571fefa7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aaf4d4f22923d4539c7b5c43a571fefa7">last_status_cksum</a>&#160;&#160;&#160;(G.last_status_cksum  )</td></tr>
<tr class="separator:aaf4d4f22923d4539c7b5c43a571fefa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a6186ac14c982c1d3791b78cc754fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a>&#160;&#160;&#160;(G.current_filename   )</td></tr>
<tr class="separator:a20a6186ac14c982c1d3791b78cc754fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f8b0d4c4fa88e05773a57c65b9b1e1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a3f8b0d4c4fa88e05773a57c65b9b1e1f">alt_filename</a>&#160;&#160;&#160;(G.alt_filename       )</td></tr>
<tr class="separator:a3f8b0d4c4fa88e05773a57c65b9b1e1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae1f81549ca17120e92a19d55dc5ea0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a1ae1f81549ca17120e92a19d55dc5ea0">screen</a>&#160;&#160;&#160;(G.screen             )</td></tr>
<tr class="separator:a1ae1f81549ca17120e92a19d55dc5ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af31d38e57b08d4c61af7ffc2527141c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#af31d38e57b08d4c61af7ffc2527141c7">screensize</a>&#160;&#160;&#160;(G.screensize         )</td></tr>
<tr class="separator:af31d38e57b08d4c61af7ffc2527141c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d7320ed3de0137dde51b0f0e0d9f52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>&#160;&#160;&#160;(G.screenbegin        )</td></tr>
<tr class="separator:a59d7320ed3de0137dde51b0f0e0d9f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc65003a08feeae1233d9e219487cda"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>&#160;&#160;&#160;(G.tabstop            )</td></tr>
<tr class="separator:aabc65003a08feeae1233d9e219487cda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae156b770d4caef33210b1de701d446b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ae156b770d4caef33210b1de701d446b8">last_search_char</a>&#160;&#160;&#160;(G.last_search_char   )</td></tr>
<tr class="separator:ae156b770d4caef33210b1de701d446b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc21967b64a6738747dd0f4aab3bab5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aefc21967b64a6738747dd0f4aab3bab5">last_search_cmd</a>&#160;&#160;&#160;(G.last_search_cmd    )</td></tr>
<tr class="separator:aefc21967b64a6738747dd0f4aab3bab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387a583ec3c8cb3c426774703d490d12"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a387a583ec3c8cb3c426774703d490d12">readonly_mode</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a387a583ec3c8cb3c426774703d490d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6dca3f82b924523933b5bb5a03e7fd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a1a6dca3f82b924523933b5bb5a03e7fd">adding2q</a>&#160;&#160;&#160;(G.adding2q           )</td></tr>
<tr class="separator:a1a6dca3f82b924523933b5bb5a03e7fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309ee9a471190f59d4573964ba110fb3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a309ee9a471190f59d4573964ba110fb3">lmc_len</a>&#160;&#160;&#160;(G.lmc_len            )</td></tr>
<tr class="separator:a309ee9a471190f59d4573964ba110fb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3aaffa8bcb1e8c470cffdfe2d57d538"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#af3aaffa8bcb1e8c470cffdfe2d57d538">ioq</a>&#160;&#160;&#160;(G.ioq                )</td></tr>
<tr class="separator:af3aaffa8bcb1e8c470cffdfe2d57d538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac90e98b4c94ada16d3aa63a977708fb2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ac90e98b4c94ada16d3aa63a977708fb2">ioq_start</a>&#160;&#160;&#160;(G.ioq_start          )</td></tr>
<tr class="separator:ac90e98b4c94ada16d3aa63a977708fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813c72457c5d09815635bd437c397d84"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a813c72457c5d09815635bd437c397d84">dotcnt</a>&#160;&#160;&#160;(G.dotcnt             )</td></tr>
<tr class="separator:a813c72457c5d09815635bd437c397d84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d02b1107826da1d41cc2897ba004d78"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a>&#160;&#160;&#160;(G.last_search_pattern)</td></tr>
<tr class="separator:a0d02b1107826da1d41cc2897ba004d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fb06dd4f68e400c2bf968bb01f9fc75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a3fb06dd4f68e400c2bf968bb01f9fc75">char_insert__indentcol</a>&#160;&#160;&#160;(G.char_insert__indentcol)</td></tr>
<tr class="separator:a3fb06dd4f68e400c2bf968bb01f9fc75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c43ce4d9721b44116befccf5ebbeb5e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a1c43ce4d9721b44116befccf5ebbeb5e">newindent</a>&#160;&#160;&#160;(G.newindent          )</td></tr>
<tr class="separator:a1c43ce4d9721b44116befccf5ebbeb5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a3a3679b4c255ea5824f382746fd696"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a2a3a3679b4c255ea5824f382746fd696">cmd_error</a>&#160;&#160;&#160;(G.cmd_error          )</td></tr>
<tr class="separator:a2a3a3679b4c255ea5824f382746fd696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a558ba5ca6994112862f668efbce3ea04"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a558ba5ca6994112862f668efbce3ea04">edit_file__cur_line</a>&#160;&#160;&#160;(G.edit_file__cur_line)</td></tr>
<tr class="separator:a558ba5ca6994112862f668efbce3ea04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c54c412b27c1f8897013953afb090a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a43c54c412b27c1f8897013953afb090a">refresh__old_offset</a>&#160;&#160;&#160;(G.refresh__old_offset)</td></tr>
<tr class="separator:a43c54c412b27c1f8897013953afb090a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a5d5f8820b4a1b4b4c82f986e5c425"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a35a5d5f8820b4a1b4b4c82f986e5c425">format_edit_status__tot</a>&#160;&#160;&#160;(G.format_edit_status__tot)</td></tr>
<tr class="separator:a35a5d5f8820b4a1b4b4c82f986e5c425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56a7a575f78c49a2c707d4b2a5f3edcb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a>&#160;&#160;&#160;(G.YDreg         )</td></tr>
<tr class="separator:a56a7a575f78c49a2c707d4b2a5f3edcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b7ee56b477ef4822c69bbdbf774f6b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a5b7ee56b477ef4822c69bbdbf774f6b7">regtype</a>&#160;&#160;&#160;(G.regtype       )</td></tr>
<tr class="separator:a5b7ee56b477ef4822c69bbdbf774f6b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d691545b0775d09f5585c1c10ebdb76"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>&#160;&#160;&#160;(G.mark          )</td></tr>
<tr class="separator:a3d691545b0775d09f5585c1c10ebdb76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8c7a32b62c2d0375a34ec94ce25d68b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#af8c7a32b62c2d0375a34ec94ce25d68b">restart</a>&#160;&#160;&#160;(G.restart       )</td></tr>
<tr class="separator:af8c7a32b62c2d0375a34ec94ce25d68b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3db1de0cc1a6773c52365417eb47059f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a3db1de0cc1a6773c52365417eb47059f">term_orig</a>&#160;&#160;&#160;(G.term_orig     )</td></tr>
<tr class="separator:a3db1de0cc1a6773c52365417eb47059f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99433a7a79752aa95954d6cd58f30ac3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a99433a7a79752aa95954d6cd58f30ac3">cindex</a>&#160;&#160;&#160;(G.cindex        )</td></tr>
<tr class="separator:a99433a7a79752aa95954d6cd58f30ac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff6bd83665841f3fd66753c75999d9a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aff6bd83665841f3fd66753c75999d9a4">keep_index</a>&#160;&#160;&#160;(G.keep_index    )</td></tr>
<tr class="separator:aff6bd83665841f3fd66753c75999d9a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a351cf5915739f33379dcc339cbb796a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a351cf5915739f33379dcc339cbb796a7">initial_cmds</a>&#160;&#160;&#160;(G.initial_cmds  )</td></tr>
<tr class="separator:a351cf5915739f33379dcc339cbb796a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a091d89b956341a32222130bfcf73b297"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a091d89b956341a32222130bfcf73b297">readbuffer</a>&#160;&#160;&#160;(G.readbuffer    )</td></tr>
<tr class="separator:a091d89b956341a32222130bfcf73b297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6fada95ff10a2baa65ff8939e0f92fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ab6fada95ff10a2baa65ff8939e0f92fa">scr_out_buf</a>&#160;&#160;&#160;(G.scr_out_buf   )</td></tr>
<tr class="separator:ab6fada95ff10a2baa65ff8939e0f92fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae556635fc5c6909f10335ba1e80fc52d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ae556635fc5c6909f10335ba1e80fc52d">last_modifying_cmd</a>&#160;&#160;&#160;(G.last_modifying_cmd )</td></tr>
<tr class="separator:ae556635fc5c6909f10335ba1e80fc52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89bd808eb561832a48f7926db31b95df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a89bd808eb561832a48f7926db31b95df">get_input_line__buf</a>&#160;&#160;&#160;(G.get_input_line__buf)</td></tr>
<tr class="separator:a89bd808eb561832a48f7926db31b95df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d017e5ed76fae1ae7cec57e0d600c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a39d017e5ed76fae1ae7cec57e0d600c4">INIT_G</a>()</td></tr>
<tr class="separator:a39d017e5ed76fae1ae7cec57e0d600c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ff0d9e62e7900a8cf1b1c133eea544f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a3ff0d9e62e7900a8cf1b1c133eea544f">old_offset</a>&#160;&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a43c54c412b27c1f8897013953afb090a">refresh__old_offset</a></td></tr>
<tr class="separator:a3ff0d9e62e7900a8cf1b1c133eea544f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcda1fea3e2dd884044228d8ac1d3317"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>()&#160;&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a40229f07960a030f2e145c46a3e00400">readit</a>()</td></tr>
<tr class="separator:adcda1fea3e2dd884044228d8ac1d3317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa29b866765bdc5bdf87b7eb666d66093"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>&#160;&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a89bd808eb561832a48f7926db31b95df">get_input_line__buf</a></td></tr>
<tr class="separator:aa29b866765bdc5bdf87b7eb666d66093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae64135f428b22a128a13f6942d22e0da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ae64135f428b22a128a13f6942d22e0da">tot</a>&#160;&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a35a5d5f8820b4a1b4b4c82f986e5c425">format_edit_status__tot</a></td></tr>
<tr class="separator:ae64135f428b22a128a13f6942d22e0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe52c08c000faad742b964b8dd6f1739"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(a,  b,  <a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)&#160;&#160;&#160;text_hole_delete(a,b)</td></tr>
<tr class="separator:abe52c08c000faad742b964b8dd6f1739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a7648997421fe6505865a36d3c2c2ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a8a7648997421fe6505865a36d3c2c2ca">flush_undo_data</a>()&#160;&#160;&#160;((void)0)</td></tr>
<tr class="separator:a8a7648997421fe6505865a36d3c2c2ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0e0c69941abe84b62d1b5881f6ba461"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>()&#160;&#160;&#160;((void)0)</td></tr>
<tr class="separator:ac0e0c69941abe84b62d1b5881f6ba461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af847082e04ebe9584caf411986c683ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a>()&#160;&#160;&#160;((void)0)</td></tr>
<tr class="separator:af847082e04ebe9584caf411986c683ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012a4ed72fe7b7da3abae82c63854851"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a012a4ed72fe7b7da3abae82c63854851">yank_delete</a>(a,  b,  <a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>,  d,  e)&#160;&#160;&#160;yank_delete(a,b,<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>,d)</td></tr>
<tr class="separator:a012a4ed72fe7b7da3abae82c63854851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0381cc12de9ffd942a052716417c097a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a0381cc12de9ffd942a052716417c097a">char_insert</a>(a,  b,  <a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)&#160;&#160;&#160;char_insert(a,b)</td></tr>
<tr class="separator:a0381cc12de9ffd942a052716417c097a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97698f0518f065e8927cdbe96e9a542"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#af97698f0518f065e8927cdbe96e9a542">init_filename</a>(<a class="el" href="../../d7/d06/getpwent_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a>)&#160;&#160;&#160;((void)(0))</td></tr>
<tr class="separator:af97698f0518f065e8927cdbe96e9a542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694f7ceae3e7a10ee220994a6f435ff9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a694f7ceae3e7a10ee220994a6f435ff9">strchr_backslash</a>(<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>,  <a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)&#160;&#160;&#160;<a class="el" href="../../d6/d7b/strchr_8c.html#a12871ed234858ef0e363d2b8aa572fc1">strchr</a>(<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)</td></tr>
<tr class="separator:a694f7ceae3e7a10ee220994a6f435ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a2a99db276033745bf468f8771967f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ab9a2a99db276033745bf468f8771967f">VI_OPTSTR</a></td></tr>
<tr class="separator:ab9a2a99db276033745bf468f8771967f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a78372742882dccd1c13323dbd66c25c5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5ab94e536814bd9a7bf53ca2db903c3d92">MAX_TABSTOP</a> = 32
, <a class="el" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5af73f6b535ce775bb2ab54a7d6fee82e4">MAX_INPUT_LEN</a> = 128
, <a class="el" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5abb1ca5ad427ca4e64f60c29dec23ce5c">MAX_SCR_COLS</a> = CONFIG_FEATURE_VI_MAX_LEN
, <a class="el" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5aa921d0cdd90f0fd5e62c7b3afd19c9db">MAX_SCR_ROWS</a> = CONFIG_FEATURE_VI_MAX_LEN
 }</td></tr>
<tr class="separator:a78372742882dccd1c13323dbd66c25c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d5492e116eebd5075f247d21fb9db26"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a5c40e8dae221eebf56a817cb640997f6">YANKONLY</a> = FALSE
, <a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26adc08ce18342637f2c8099493de7377a5">YANKDEL</a> = TRUE
, <a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a> = 1
, <a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ac921ff2cfc571c1d19b0485d7f6926ee">BACK</a> = -1
, <br />
&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a60c5b7ea6c1c8aebb8cfb3dbd6d52a25">LIMITED</a> = 0
, <a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ad08f8ac0aa8dfb59589824359772459e">FULL</a> = 1
, <a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159">PARTIAL</a> = 0
, <a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e">WHOLE</a> = 1
, <br />
&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a3b6e3be2dfacfb1d14722ea50147ac05">MULTI</a> = 2
, <a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a7de52873ec9f71888a746f2337df20c6">S_BEFORE_WS</a> = 1
, <a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26af88abd34792ec71e8a04c3dc91e5d093">S_TO_WS</a> = 2
, <a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a0283513cf1fd655e84b06227b76c1509">S_OVER_WS</a> = 3
, <br />
&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aaf3788ac457b09dac5c03864912ca46d">S_END_PUNCT</a> = 4
, <a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a46505f6996b5515edaaa7c2eb5c7fa64">S_END_ALNUM</a> = 5
, <a class="el" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a3074190524afad7b57b77f61b8f2db86">C_END</a> = -1
<br />
 }</td></tr>
<tr class="separator:a2d5492e116eebd5075f247d21fb9db26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c53bacb25588538843a1dcfe5f382b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba8e552666c3139993bf978a9a739830b6">OPTBIT_H</a>
, <a class="el" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba70efa89847b63c35d69989896f6b4801">OPTBIT_h</a>
, <a class="el" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382bac612068cfab553ab17be89dd3f2526ac">OPT_C</a> = IF_FEATURE_VI_CRASHME( (1 &lt;&lt; OPTBIT_C)) + 0
, <a class="el" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba2987c8e6ded5783c2841674e167a005a">OPT_c</a> = IF_FEATURE_VI_COLON( (1 &lt;&lt; OPTBIT_c)) + 0
, <br />
&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382babc3f4c4e17f06dfbd1176848143ae44a">OPT_H</a> = 1 &lt;&lt; OPTBIT_H
, <a class="el" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba630cb8f4f3b593d83dfcb0cbdb5eb825">OPT_h</a> = 1 &lt;&lt; OPTBIT_h
, <a class="el" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382baf2daf604562796c6f788c5c826517e00">OPT_R</a> = IF_FEATURE_VI_READONLY( (1 &lt;&lt; OPTBIT_R)) + 0
<br />
 }</td></tr>
<tr class="separator:a73c53bacb25588538843a1dcfe5f382b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad753fe263484b1e27f01b1c9ffe42896"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ad753fe263484b1e27f01b1c9ffe42896">show_status_line</a> (void)</td></tr>
<tr class="separator:ad753fe263484b1e27f01b1c9ffe42896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9041ca5a23c28d5813bdb824af192732"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a> (const char *,...)</td></tr>
<tr class="separator:a9041ca5a23c28d5813bdb824af192732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef20148be3ae52ac456c42f8217b8a95"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aef20148be3ae52ac456c42f8217b8a95">show_help</a> (void)</td></tr>
<tr class="separator:aef20148be3ae52ac456c42f8217b8a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f17e22b66e894981b01f6846a38fcc1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a> (const char *<a class="el" href="../../d1/d40/vfwprintf_8c.html#a195983007bfad176a961e6e9a6fdae38">out</a>)</td></tr>
<tr class="separator:a5f17e22b66e894981b01f6846a38fcc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a8f4bda6d5cbd321425bf13a1ff94f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d03/platform_8h.html#aa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a51a8f4bda6d5cbd321425bf13a1ff94f">query_screen_dimensions</a> (void)</td></tr>
<tr class="separator:a51a8f4bda6d5cbd321425bf13a1ff94f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4b513eb1b04ddf8eedde2fbceee7d1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a6c4b513eb1b04ddf8eedde2fbceee7d1">mysleep</a> (int hund)</td></tr>
<tr class="separator:a6c4b513eb1b04ddf8eedde2fbceee7d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a618f0d730a2df27e73abdb2e37f7e85c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a618f0d730a2df27e73abdb2e37f7e85c">rawmode</a> (void)</td></tr>
<tr class="separator:a618f0d730a2df27e73abdb2e37f7e85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04687ece399adb6b65109d746cabd3ea"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a04687ece399adb6b65109d746cabd3ea">cookmode</a> (void)</td></tr>
<tr class="separator:a04687ece399adb6b65109d746cabd3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa493b93eb4b1fe63d7610847a8f9aec5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aa493b93eb4b1fe63d7610847a8f9aec5">place_cursor</a> (int row, int col)</td></tr>
<tr class="separator:aa493b93eb4b1fe63d7610847a8f9aec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f8e85ebd627b5fe219ade24f18117b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ab6f8e85ebd627b5fe219ade24f18117b">clear_to_eol</a> (void)</td></tr>
<tr class="separator:ab6f8e85ebd627b5fe219ade24f18117b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa449f2a9f07e51bbf0e6b1164d6d341c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aa449f2a9f07e51bbf0e6b1164d6d341c">go_bottom_and_clear_to_eol</a> (void)</td></tr>
<tr class="separator:aa449f2a9f07e51bbf0e6b1164d6d341c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20e57b2851879bf297617db156c5b36c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a20e57b2851879bf297617db156c5b36c">standout_start</a> (void)</td></tr>
<tr class="separator:a20e57b2851879bf297617db156c5b36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c90500cf92ec036217d38dffaada952"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a5c90500cf92ec036217d38dffaada952">standout_end</a> (void)</td></tr>
<tr class="separator:a5c90500cf92ec036217d38dffaada952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f791442a01e8eafeae00420094ab909"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>)</td></tr>
<tr class="separator:a1f791442a01e8eafeae00420094ab909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbea9b09fa2d326562af1639f370d89f"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>)</td></tr>
<tr class="separator:adbea9b09fa2d326562af1639f370d89f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed4e62bb2e16b9614d2245177e49e1c"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#afed4e62bb2e16b9614d2245177e49e1c">dollar_line</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>)</td></tr>
<tr class="separator:afed4e62bb2e16b9614d2245177e49e1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e8c259cf056452fe3e5aad83ba754ac"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a0e8c259cf056452fe3e5aad83ba754ac">prev_line</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>)</td></tr>
<tr class="separator:a0e8c259cf056452fe3e5aad83ba754ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a7de582792b9ba301b4a05967ed023"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>)</td></tr>
<tr class="separator:ab0a7de582792b9ba301b4a05967ed023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e2d56f2a97a8bd72844e70fb6cffc2"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a17e2d56f2a97a8bd72844e70fb6cffc2">end_screen</a> (void)</td></tr>
<tr class="separator:a17e2d56f2a97a8bd72844e70fb6cffc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05c9aaf25dba40a8cbd839a140c43125"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a> (char *<a class="el" href="../../d6/d55/timer__create_8c.html#a862825732eabf145fca1429ba415f69f">start</a>, char *<a class="el" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>)</td></tr>
<tr class="separator:a05c9aaf25dba40a8cbd839a140c43125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a290787ec170e01cbd8defae6ef2fe08e"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a290787ec170e01cbd8defae6ef2fe08e">find_line</a> (int li)</td></tr>
<tr class="separator:a290787ec170e01cbd8defae6ef2fe08e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae627518ccc5dfeb1b4808576b9b6ae5b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ae627518ccc5dfeb1b4808576b9b6ae5b">next_tabstop</a> (int col)</td></tr>
<tr class="separator:ae627518ccc5dfeb1b4808576b9b6ae5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a645aa43f44692541d949176a8431c0a6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a645aa43f44692541d949176a8431c0a6">prev_tabstop</a> (int col)</td></tr>
<tr class="separator:a645aa43f44692541d949176a8431c0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c502207fbcf87ab0b68f5f30052be9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a23c502207fbcf87ab0b68f5f30052be9">next_column</a> (char <a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, int co)</td></tr>
<tr class="separator:a23c502207fbcf87ab0b68f5f30052be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a925a179e3def5fac0f162bc3070660c4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a925a179e3def5fac0f162bc3070660c4">get_column</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>)</td></tr>
<tr class="separator:a925a179e3def5fac0f162bc3070660c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360763d9ffdb0b82eae7fc76affb6dbd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a360763d9ffdb0b82eae7fc76affb6dbd">screen_erase</a> (void)</td></tr>
<tr class="separator:a360763d9ffdb0b82eae7fc76affb6dbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad674bf5c7dbc9eba3ed14f2a06d064b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aad674bf5c7dbc9eba3ed14f2a06d064b">new_screen</a> (int ro, int co)</td></tr>
<tr class="separator:aad674bf5c7dbc9eba3ed14f2a06d064b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4cc20d1c9ae66e9e6fb1da6991fb3b4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aa4cc20d1c9ae66e9e6fb1da6991fb3b4">sync_cursor</a> (char *d, int *row, int *col)</td></tr>
<tr class="separator:aa4cc20d1c9ae66e9e6fb1da6991fb3b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cea294e1d80800dd5692826567fa46a"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a6cea294e1d80800dd5692826567fa46a">format_line</a> (char *<a class="el" href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>)</td></tr>
<tr class="separator:a6cea294e1d80800dd5692826567fa46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70132b5539a35c5dd3bf69009246e1d2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a70132b5539a35c5dd3bf69009246e1d2">refresh</a> (int full_screen)</td></tr>
<tr class="separator:a70132b5539a35c5dd3bf69009246e1d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49ded8ca0547d8b80ee00fa1b0ab267a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a49ded8ca0547d8b80ee00fa1b0ab267a">redraw</a> (int full_screen)</td></tr>
<tr class="separator:a49ded8ca0547d8b80ee00fa1b0ab267a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1769bd4b408e87a5b74be117538555e1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a1769bd4b408e87a5b74be117538555e1">flash</a> (int <a class="el" href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a>)</td></tr>
<tr class="separator:a1769bd4b408e87a5b74be117538555e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd0c4f00b2cc2a65e6bff554cc0abd4f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a> (void)</td></tr>
<tr class="separator:afd0c4f00b2cc2a65e6bff554cc0abd4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40229f07960a030f2e145c46a3e00400"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a40229f07960a030f2e145c46a3e00400">readit</a> (void)</td></tr>
<tr class="separator:a40229f07960a030f2e145c46a3e00400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f5e2c2bddddfb386cf348db06d7f21"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a25f5e2c2bddddfb386cf348db06d7f21">get_motion_char</a> (void)</td></tr>
<tr class="separator:a25f5e2c2bddddfb386cf348db06d7f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a396a2ab0882a1bb635892a7857d5168e"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a396a2ab0882a1bb635892a7857d5168e">get_input_line</a> (const char *<a class="el" href="../../d0/dde/rl-callbacktest_8c.html#a5c0a0d2a5f917da7806df3849670f95c">prompt</a>)</td></tr>
<tr class="separator:a396a2ab0882a1bb635892a7857d5168e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35b4be87d829828ce4ff316df99835f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ad35b4be87d829828ce4ff316df99835f">Hit_Return</a> (void)</td></tr>
<tr class="separator:ad35b4be87d829828ce4ff316df99835f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c79cb13284a46a9b158eb549372ab0f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a0c79cb13284a46a9b158eb549372ab0f">format_edit_status</a> (void)</td></tr>
<tr class="separator:a0c79cb13284a46a9b158eb549372ab0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8429703ec62fadc8c3f4c3beca32fd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aba8429703ec62fadc8c3f4c3beca32fd">bufsum</a> (char *<a class="el" href="../../db/d16/stdout_8c.html#ae55dcb4c1b5d453b604861dc603ee9bf">buf</a>, int <a class="el" href="../../d8/d48/at__quick__exit_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>)</td></tr>
<tr class="separator:aba8429703ec62fadc8c3f4c3beca32fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ca2ee11518986d893b2f73f5635708d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a2ca2ee11518986d893b2f73f5635708d">status_line</a> (const char *<a class="el" href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format</a>,...)</td></tr>
<tr class="separator:a2ca2ee11518986d893b2f73f5635708d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18a15e3113b6bfdc363fb6fff2ee59d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ae18a15e3113b6bfdc363fb6fff2ee59d">status_line_bold_errno</a> (const char *fn)</td></tr>
<tr class="separator:ae18a15e3113b6bfdc363fb6fff2ee59d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad387b31421df4418f7e36aecf48976da"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ad387b31421df4418f7e36aecf48976da">print_literal</a> (char *<a class="el" href="../../db/d16/stdout_8c.html#ae55dcb4c1b5d453b604861dc603ee9bf">buf</a>, const char *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</td></tr>
<tr class="separator:ad387b31421df4418f7e36aecf48976da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e781a4da224422617f1d7e6d6353b9f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a4e781a4da224422617f1d7e6d6353b9f">not_implemented</a> (const char *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</td></tr>
<tr class="separator:a4e781a4da224422617f1d7e6d6353b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a535e35451728e670d268af8ac16cde04"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a535e35451728e670d268af8ac16cde04">text_hole_make</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, int <a class="el" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>)</td></tr>
<tr class="separator:a535e35451728e670d268af8ac16cde04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f35a95195def1d9fe421aac6d099729"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a1f35a95195def1d9fe421aac6d099729">text_hole_delete</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, char *q, int <a class="el" href="../../d2/d60/pthread__once_8c.html#ae2ed4090fde6c55fadf82e57ce0c1743">undo</a>)</td></tr>
<tr class="separator:a1f35a95195def1d9fe421aac6d099729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab239ba4a705ee104311c671d6b7099c8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ab239ba4a705ee104311c671d6b7099c8">dot_left</a> (void)</td></tr>
<tr class="separator:ab239ba4a705ee104311c671d6b7099c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad99c4fe0d6a2f6e439cffd6f11fd6483"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ad99c4fe0d6a2f6e439cffd6f11fd6483">dot_right</a> (void)</td></tr>
<tr class="separator:ad99c4fe0d6a2f6e439cffd6f11fd6483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35ea55298a5b0aea3735d429640ca572"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a> (void)</td></tr>
<tr class="separator:a35ea55298a5b0aea3735d429640ca572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a794d3dbac057bc5d52089c5cccfd1ada"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a794d3dbac057bc5d52089c5cccfd1ada">dot_end</a> (void)</td></tr>
<tr class="separator:a794d3dbac057bc5d52089c5cccfd1ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bdae210f1d5f34d58b3f948c5d5129b"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a2bdae210f1d5f34d58b3f948c5d5129b">move_to_col</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, int <a class="el" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>)</td></tr>
<tr class="separator:a2bdae210f1d5f34d58b3f948c5d5129b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c1ee23a97ff4a90d9fc9723c848343"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ad4c1ee23a97ff4a90d9fc9723c848343">dot_next</a> (void)</td></tr>
<tr class="separator:ad4c1ee23a97ff4a90d9fc9723c848343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d0c8dbe821cefc2e3dab6007949fd42"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a1d0c8dbe821cefc2e3dab6007949fd42">dot_prev</a> (void)</td></tr>
<tr class="separator:a1d0c8dbe821cefc2e3dab6007949fd42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf981355a37fc7a87050f020f4c8146"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a> (void)</td></tr>
<tr class="separator:abcf981355a37fc7a87050f020f4c8146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5cac8f38e4e6ed68e19fe8c4b7bd80d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ad5cac8f38e4e6ed68e19fe8c4b7bd80d">dot_to_char</a> (int <a class="el" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>)</td></tr>
<tr class="separator:ad5cac8f38e4e6ed68e19fe8c4b7bd80d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c3eeecb545a51290c3d5b675dc37b7d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a1c3eeecb545a51290c3d5b675dc37b7d">dot_scroll</a> (int <a class="el" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>, int <a class="el" href="../../d4/d7c/svlogd_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>)</td></tr>
<tr class="separator:a1c3eeecb545a51290c3d5b675dc37b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af05e9768f0fb1258630e7b044341a87c"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#af05e9768f0fb1258630e7b044341a87c">bound_dot</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>)</td></tr>
<tr class="separator:af05e9768f0fb1258630e7b044341a87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a94e0d923538203ce41d1917b1a6658"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a6a94e0d923538203ce41d1917b1a6658">yank_delete</a> (char *<a class="el" href="../../d6/d55/timer__create_8c.html#a862825732eabf145fca1429ba415f69f">start</a>, char *<a class="el" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>, int buftype, int yf, int <a class="el" href="../../d2/d60/pthread__once_8c.html#ae2ed4090fde6c55fadf82e57ce0c1743">undo</a>)</td></tr>
<tr class="separator:a6a94e0d923538203ce41d1917b1a6658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e287cb54b22a4f306a94ff90671cf9c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a1e287cb54b22a4f306a94ff90671cf9c">file_insert</a> (const char *fn, char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, int initial)</td></tr>
<tr class="separator:a1e287cb54b22a4f306a94ff90671cf9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5151aa6f3e9c236a5d0b0c29a3649ea2"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a5151aa6f3e9c236a5d0b0c29a3649ea2">find_pair</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, const char <a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)</td></tr>
<tr class="separator:a5151aa6f3e9c236a5d0b0c29a3649ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a707447733211ea2e7dae8b635fc87b9e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a707447733211ea2e7dae8b635fc87b9e">stupid_insert</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, char <a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)</td></tr>
<tr class="separator:a707447733211ea2e7dae8b635fc87b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45225cfcd88fae5e653468c7179b32d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#af45225cfcd88fae5e653468c7179b32d">indent_len</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>)</td></tr>
<tr class="separator:af45225cfcd88fae5e653468c7179b32d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad80f075262e6d875b38ede6342f5e58a"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ad80f075262e6d875b38ede6342f5e58a">char_insert</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, char <a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, int <a class="el" href="../../d2/d60/pthread__once_8c.html#ae2ed4090fde6c55fadf82e57ce0c1743">undo</a>)</td></tr>
<tr class="separator:ad80f075262e6d875b38ede6342f5e58a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6634ad3ce3cb3a9cc5d89491e8ad0f9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ac6634ad3ce3cb3a9cc5d89491e8ad0f9">update_filename</a> (char *fn)</td></tr>
<tr class="separator:ac6634ad3ce3cb3a9cc5d89491e8ad0f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a086ccc9748e09f107642b4d8f12f0986"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a086ccc9748e09f107642b4d8f12f0986">init_text_buffer</a> (char *fn)</td></tr>
<tr class="separator:a086ccc9748e09f107642b4d8f12f0986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed30e883a3eaa2707ecd58759a476ca6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#aed30e883a3eaa2707ecd58759a476ca6">file_write</a> (char *fn, char *<a class="el" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a>, char *<a class="el" href="../../df/d84/arping_8c.html#a66d3fd8f1383b174b0226daecfb6c487">last</a>)</td></tr>
<tr class="separator:aed30e883a3eaa2707ecd58759a476ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66faaba423ea9e70473243c419593dc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#af66faaba423ea9e70473243c419593dc">colon</a> (char *<a class="el" href="../../db/d16/stdout_8c.html#ae55dcb4c1b5d453b604861dc603ee9bf">buf</a>)</td></tr>
<tr class="separator:af66faaba423ea9e70473243c419593dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a437a2f9ad28f0752a3f90e2a0408e19a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a437a2f9ad28f0752a3f90e2a0408e19a">st_test</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, int <a class="el" href="../../df/df9/chcon_8c.html#a23506fc4821ab6d9671f3e6222591a96">type</a>, int <a class="el" href="../../d4/d7c/svlogd_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, char *tested)</td></tr>
<tr class="separator:a437a2f9ad28f0752a3f90e2a0408e19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ce46489d09d76d6600f3834a25472e4"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a2ce46489d09d76d6600f3834a25472e4">skip_thing</a> (char *<a class="el" href="../../d6/d23/wi__stuff_8c.html#a5f53dec9fe800012c2be6ab5167d2cfd">p</a>, int linecnt, int <a class="el" href="../../d4/d7c/svlogd_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, int <a class="el" href="../../df/df9/chcon_8c.html#a23506fc4821ab6d9671f3e6222591a96">type</a>)</td></tr>
<tr class="separator:a2ce46489d09d76d6600f3834a25472e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9eaa734aefcfbef7239a3faa6cebca7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ad9eaa734aefcfbef7239a3faa6cebca7">do_cmd</a> (int <a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)</td></tr>
<tr class="separator:ad9eaa734aefcfbef7239a3faa6cebca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad28f694c2a537205d07b27e0ee88d51c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ad28f694c2a537205d07b27e0ee88d51c">at_eof</a> (const char *<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>)</td></tr>
<tr class="separator:ad28f694c2a537205d07b27e0ee88d51c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f7db8a301746863644244734893c06d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a4f7db8a301746863644244734893c06d">find_range</a> (char **<a class="el" href="../../d6/d55/timer__create_8c.html#a862825732eabf145fca1429ba415f69f">start</a>, char **<a class="el" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>, int <a class="el" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>)</td></tr>
<tr class="separator:a4f7db8a301746863644244734893c06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f007b850625c809edc8ef751de80cc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#ad2f007b850625c809edc8ef751de80cc">edit_file</a> (char *fn)</td></tr>
<tr class="separator:ad2f007b850625c809edc8ef751de80cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af9eeb36c8812284bee1b8f2d08d492"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/vi_8c.html#a6af9eeb36c8812284bee1b8f2d08d492">vi_main</a> (int <a class="el" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, char **<a class="el" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>) <a class="el" href="../../d7/dd7/libbb_8h.html#a50bff3dbf83ecbd070954b228becba4e">MAIN_EXTERNALLY_VISIBLE</a></td></tr>
<tr class="separator:a6af9eeb36c8812284bee1b8f2d08d492"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1a6dca3f82b924523933b5bb5a03e7fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a6dca3f82b924523933b5bb5a03e7fd">&#9670;&nbsp;</a></span>adding2q</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define adding2q&#160;&#160;&#160;(G.adding2q           )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00506">506</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a3f8b0d4c4fa88e05773a57c65b9b1e1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f8b0d4c4fa88e05773a57c65b9b1e1f">&#9670;&nbsp;</a></span>alt_filename</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define alt_filename&#160;&#160;&#160;(G.alt_filename       )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00491">491</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a454c3daa0eb1551f19a051fcf7e577fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a454c3daa0eb1551f19a051fcf7e577fc">&#9670;&nbsp;</a></span>autoindent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define autoindent&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00322">322</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="aa29b866765bdc5bdf87b7eb666d66093"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa29b866765bdc5bdf87b7eb666d66093">&#9670;&nbsp;</a></span>buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf&#160;&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a89bd808eb561832a48f7926db31b95df">get_input_line__buf</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a973859d8182591b126603d6b61fd10e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a973859d8182591b126603d6b61fd10e5">&#9670;&nbsp;</a></span>ccol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ccol&#160;&#160;&#160;(G.ccol               )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00485">485</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a0381cc12de9ffd942a052716417c097a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0381cc12de9ffd942a052716417c097a">&#9670;&nbsp;</a></span>char_insert</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define char_insert</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;char_insert(a,b)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l02115">2115</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a3fb06dd4f68e400c2bf968bb01f9fc75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb06dd4f68e400c2bf968bb01f9fc75">&#9670;&nbsp;</a></span>char_insert__indentcol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define char_insert__indentcol&#160;&#160;&#160;(G.char_insert__indentcol)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00512">512</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a99433a7a79752aa95954d6cd58f30ac3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99433a7a79752aa95954d6cd58f30ac3">&#9670;&nbsp;</a></span>cindex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cindex&#160;&#160;&#160;(G.cindex        )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00526">526</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a2a3a3679b4c255ea5824f382746fd696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a3a3679b4c255ea5824f382746fd696">&#9670;&nbsp;</a></span>cmd_error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cmd_error&#160;&#160;&#160;(G.cmd_error          )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00514">514</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ae8d23f2b372457d97e558d69064aaf22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8d23f2b372457d97e558d69064aaf22">&#9670;&nbsp;</a></span>cmd_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cmd_mode&#160;&#160;&#160;(G.cmd_mode           )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00476">476</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ad971950d0b434d5b86d72aae0b07ff59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad971950d0b434d5b86d72aae0b07ff59">&#9670;&nbsp;</a></span>cmdcnt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cmdcnt&#160;&#160;&#160;(G.cmdcnt             )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00480">480</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a4e55fb5626444e70dbe569582bfc6a84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e55fb5626444e70dbe569582bfc6a84">&#9670;&nbsp;</a></span>cmdline_filecnt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cmdline_filecnt&#160;&#160;&#160;(G.cmdline_filecnt    )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00479">479</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a7237396536dfa0df44aa7bd40f5338f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7237396536dfa0df44aa7bd40f5338f1">&#9670;&nbsp;</a></span>columns</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define columns&#160;&#160;&#160;(G.columns            )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00483">483</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a9a8c5c0c3e9f5d391a53f4ff60125ddf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8c5c0c3e9f5d391a53f4ff60125ddf">&#9670;&nbsp;</a></span>crow</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define crow&#160;&#160;&#160;(G.crow               )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00484">484</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a20a6186ac14c982c1d3791b78cc754fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20a6186ac14c982c1d3791b78cc754fc">&#9670;&nbsp;</a></span>current_filename</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define current_filename&#160;&#160;&#160;(G.current_filename   )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00490">490</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="adecf5d6273480fb438d640425e20b40d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adecf5d6273480fb438d640425e20b40d">&#9670;&nbsp;</a></span>dot</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define dot&#160;&#160;&#160;(G.dot           )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">471</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a813c72457c5d09815635bd437c397d84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a813c72457c5d09815635bd437c397d84">&#9670;&nbsp;</a></span>dotcnt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define dotcnt&#160;&#160;&#160;(G.dotcnt             )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00510">510</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a558ba5ca6994112862f668efbce3ea04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a558ba5ca6994112862f668efbce3ea04">&#9670;&nbsp;</a></span>edit_file__cur_line</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define edit_file__cur_line&#160;&#160;&#160;(G.edit_file__cur_line)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00516">516</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a58b92a0469f43b8ef5034e21cf946489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58b92a0469f43b8ef5034e21cf946489">&#9670;&nbsp;</a></span>editing</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define editing&#160;&#160;&#160;(G.editing            )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00475">475</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a33679e479871b1ee390c63eef35b0830"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33679e479871b1ee390c63eef35b0830">&#9670;&nbsp;</a></span>ENABLE_FEATURE_VI_CRASHME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENABLE_FEATURE_VI_CRASHME&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00203">203</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a2fb839951208a8400aa14d71d7c6f974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb839951208a8400aa14d71d7c6f974">&#9670;&nbsp;</a></span>end</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define end&#160;&#160;&#160;(G.end           )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">470</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="af847082e04ebe9584caf411986c683ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af847082e04ebe9584caf411986c683ca">&#9670;&nbsp;</a></span>end_cmd_q</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define end_cmd_q</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;((void)0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01950">1950</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a37141f0e9b16a984c21e9bad75b87010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37141f0e9b16a984c21e9bad75b87010">&#9670;&nbsp;</a></span>err_method</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define err_method&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00324">324</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a4af1b6159e447ba72652bb7fcdfa726e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4af1b6159e447ba72652bb7fcdfa726e">&#9670;&nbsp;</a></span>ESC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC&#160;&#160;&#160;&quot;\033&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00242">242</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a9c17a859f6cbbb256e064fd0f08ed932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c17a859f6cbbb256e064fd0f08ed932">&#9670;&nbsp;</a></span>ESC_BELL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC_BELL&#160;&#160;&#160;&quot;\007&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00247">247</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ab3536901061a978f1600280105b44618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3536901061a978f1600280105b44618">&#9670;&nbsp;</a></span>ESC_BOLD_TEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC_BOLD_TEXT&#160;&#160;&#160;<a class="el" href="../../d1/dc9/dialog_8h.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&quot;[7m&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00244">244</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ac05496b0a5b24975dc335b8a728563db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac05496b0a5b24975dc335b8a728563db">&#9670;&nbsp;</a></span>ESC_CLEAR2EOL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC_CLEAR2EOL&#160;&#160;&#160;<a class="el" href="../../d1/dc9/dialog_8h.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&quot;[K&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00249">249</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a1a27a185d6cc29e71283452bb044d6c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a27a185d6cc29e71283452bb044d6c4">&#9670;&nbsp;</a></span>ESC_CLEAR2EOS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC_CLEAR2EOS&#160;&#160;&#160;<a class="el" href="../../d1/dc9/dialog_8h.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&quot;[J&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00254">254</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a29587da82d1cde6f82af54abd33f8187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29587da82d1cde6f82af54abd33f8187">&#9670;&nbsp;</a></span>ESC_NORM_TEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC_NORM_TEXT&#160;&#160;&#160;<a class="el" href="../../d1/dc9/dialog_8h.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&quot;[m&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00245">245</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="afc0372bb32e648b40d17cfcfaf44029f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc0372bb32e648b40d17cfcfaf44029f">&#9670;&nbsp;</a></span>ESC_SET_CURSOR_POS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC_SET_CURSOR_POS&#160;&#160;&#160;<a class="el" href="../../d1/dc9/dialog_8h.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&quot;[%u;%uH&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00256">256</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="aadd9a6a53add95e7b5ba29c2a1ccb04d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadd9a6a53add95e7b5ba29c2a1ccb04d">&#9670;&nbsp;</a></span>ESC_SET_CURSOR_TOPLEFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESC_SET_CURSOR_TOPLEFT&#160;&#160;&#160;<a class="el" href="../../d1/dc9/dialog_8h.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a>&quot;[H&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00257">257</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a9ab0e5c322b891a067a1a7a0f3c50865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ab0e5c322b891a067a1a7a0f3c50865">&#9670;&nbsp;</a></span>expandtab</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define expandtab&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00323">323</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a8a7648997421fe6505865a36d3c2c2ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a7648997421fe6505865a36d3c2c2ca">&#9670;&nbsp;</a></span>flush_undo_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define flush_undo_data</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;((void)0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01804">1804</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a35a5d5f8820b4a1b4b4c82f986e5c425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35a5d5f8820b4a1b4b4c82f986e5c425">&#9670;&nbsp;</a></span>format_edit_status__tot</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define format_edit_status__tot&#160;&#160;&#160;(G.format_edit_status__tot)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00518">518</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="aed9ea78689ecce0b7264c02c7f8a9a54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed9ea78689ecce0b7264c02c7f8a9a54">&#9670;&nbsp;</a></span>G</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define G&#160;&#160;&#160;(*<a class="el" href="../../d5/ded/ptr__to__globals_8c.html#aff79e45ec02a9716e59b3aca1c9b6808">ptr_to_globals</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00467">467</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a89bd808eb561832a48f7926db31b95df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89bd808eb561832a48f7926db31b95df">&#9670;&nbsp;</a></span>get_input_line__buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define get_input_line__buf&#160;&#160;&#160;(G.get_input_line__buf)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00532">532</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="adcda1fea3e2dd884044228d8ac1d3317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcda1fea3e2dd884044228d8ac1d3317">&#9670;&nbsp;</a></span>get_one_char</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define get_one_char</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a40229f07960a030f2e145c46a3e00400">readit</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01179">1179</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="af4d16a56855050344314149f02356e55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4d16a56855050344314149f02356e55">&#9670;&nbsp;</a></span>have_status_msg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define have_status_msg&#160;&#160;&#160;(G.have_status_msg    )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00488">488</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a06ca3331838eaae3f068b4836040e811"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06ca3331838eaae3f068b4836040e811">&#9670;&nbsp;</a></span>IF_FEATURE_VI_CRASHME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IF_FEATURE_VI_CRASHME</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00204">204</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ab7c8e541a9abefc083d2b22493592694"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7c8e541a9abefc083d2b22493592694">&#9670;&nbsp;</a></span>ignorecase</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ignorecase&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00325">325</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="af97698f0518f065e8927cdbe96e9a542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af97698f0518f065e8927cdbe96e9a542">&#9670;&nbsp;</a></span>init_filename</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define init_filename</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d7/d06/getpwent_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a></td><td>)</td>
          <td>&#160;&#160;&#160;((void)(0))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l02283">2283</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a39d017e5ed76fae1ae7cec57e0d600c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39d017e5ed76fae1ae7cec57e0d600c4">&#9670;&nbsp;</a></span>INIT_G</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INIT_G</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">    SET_PTR_TO_GLOBALS(<a class="code" href="../../d7/dd7/libbb_8h.html#a6b9d12af476b8fa4b9de87028b0ac27c">xzalloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d49/vi_8c.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>))); \</div>
<div class="line">    last_modified_count--; \</div>
<div class="line">    <span class="comment">/* &quot;&quot; but has space for 2 chars: */</span> \</div>
<div class="line">    IF_FEATURE_VI_SEARCH(<a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a6b9d12af476b8fa4b9de87028b0ac27c">xzalloc</a>(2);) \</div>
<div class="line">    <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a> = 8; \</div>
<div class="line">    IF_FEATURE_VI_SETOPTS(<a class="code" href="../../d4/d49/vi_8c.html#a1c43ce4d9721b44116befccf5ebbeb5e">newindent</a>--;) \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="alibbb_8h_html_a6b9d12af476b8fa4b9de87028b0ac27c"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a6b9d12af476b8fa4b9de87028b0ac27c">xzalloc</a></div><div class="ttdeci">void * xzalloc(size_t size) FAST_FUNC RETURNS_MALLOC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00069">xfuncs_printf.c:69</a></div></div>
<div class="ttc" id="avi_8c_html_a0d02b1107826da1d41cc2897ba004d78"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a></div><div class="ttdeci">#define last_search_pattern</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00511">vi.c:511</a></div></div>
<div class="ttc" id="avi_8c_html_a1c43ce4d9721b44116befccf5ebbeb5e"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a1c43ce4d9721b44116befccf5ebbeb5e">newindent</a></div><div class="ttdeci">#define newindent</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00513">vi.c:513</a></div></div>
<div class="ttc" id="avi_8c_html_aabc65003a08feeae1233d9e219487cda"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a></div><div class="ttdeci">#define tabstop</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00495">vi.c:495</a></div></div>
<div class="ttc" id="avi_8c_html_aed9ea78689ecce0b7264c02c7f8a9a54"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a></div><div class="ttdeci">#define G</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00467">vi.c:467</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00544">544</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a351cf5915739f33379dcc339cbb796a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a351cf5915739f33379dcc339cbb796a7">&#9670;&nbsp;</a></span>initial_cmds</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define initial_cmds&#160;&#160;&#160;(G.initial_cmds  )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00528">528</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="af3aaffa8bcb1e8c470cffdfe2d57d538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3aaffa8bcb1e8c470cffdfe2d57d538">&#9670;&nbsp;</a></span>ioq</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ioq&#160;&#160;&#160;(G.ioq                )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00508">508</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ac90e98b4c94ada16d3aa63a977708fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac90e98b4c94ada16d3aa63a977708fb2">&#9670;&nbsp;</a></span>ioq_start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ioq_start&#160;&#160;&#160;(G.ioq_start          )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00509">509</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ab72d18b3c16ac6360ab95232710b8f82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab72d18b3c16ac6360ab95232710b8f82">&#9670;&nbsp;</a></span>isbackspace</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define isbackspace</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a></td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) == term_orig.c_cc[<a class="el" href="../../db/d49/arch_2powerpc64_2bits_2termios_8h.html#a6e11c405d7ddff22c2318c8623c3affa">VERASE</a>] || (<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) == 8 || (<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) == 127)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00227">227</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a70d85e9e3b928359f42768e35bed8b58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70d85e9e3b928359f42768e35bed8b58">&#9670;&nbsp;</a></span>Isprint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Isprint</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a></td><td>)</td>
          <td>&#160;&#160;&#160;((unsigned char)(<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) &gt;= ' ' &amp;&amp; (unsigned char)(<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) &lt; 0x7f)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00222">222</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="aff6bd83665841f3fd66753c75999d9a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff6bd83665841f3fd66753c75999d9a4">&#9670;&nbsp;</a></span>keep_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define keep_index&#160;&#160;&#160;(G.keep_index    )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00527">527</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a34d865d51c5bf0f08072559f08ca6f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34d865d51c5bf0f08072559f08ca6f4e">&#9670;&nbsp;</a></span>last_modified_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define last_modified_count&#160;&#160;&#160;(G.last_modified_count)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00478">478</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ae556635fc5c6909f10335ba1e80fc52d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae556635fc5c6909f10335ba1e80fc52d">&#9670;&nbsp;</a></span>last_modifying_cmd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define last_modifying_cmd&#160;&#160;&#160;(G.last_modifying_cmd )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00531">531</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ae156b770d4caef33210b1de701d446b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae156b770d4caef33210b1de701d446b8">&#9670;&nbsp;</a></span>last_search_char</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define last_search_char&#160;&#160;&#160;(G.last_search_char   )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00496">496</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="aefc21967b64a6738747dd0f4aab3bab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefc21967b64a6738747dd0f4aab3bab5">&#9670;&nbsp;</a></span>last_search_cmd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define last_search_cmd&#160;&#160;&#160;(G.last_search_cmd    )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00497">497</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a0d02b1107826da1d41cc2897ba004d78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d02b1107826da1d41cc2897ba004d78">&#9670;&nbsp;</a></span>last_search_pattern</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define last_search_pattern&#160;&#160;&#160;(G.last_search_pattern)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00511">511</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="aaf4d4f22923d4539c7b5c43a571fefa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf4d4f22923d4539c7b5c43a571fefa7">&#9670;&nbsp;</a></span>last_status_cksum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define last_status_cksum&#160;&#160;&#160;(G.last_status_cksum  )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00489">489</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a309ee9a471190f59d4573964ba110fb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a309ee9a471190f59d4573964ba110fb3">&#9670;&nbsp;</a></span>lmc_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define lmc_len&#160;&#160;&#160;(G.lmc_len            )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00507">507</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a3d691545b0775d09f5585c1c10ebdb76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d691545b0775d09f5585c1c10ebdb76">&#9670;&nbsp;</a></span>mark</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mark&#160;&#160;&#160;(G.mark          )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00523">523</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a3f29a242999740b9621d87e6e30aee1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f29a242999740b9621d87e6e30aee1b">&#9670;&nbsp;</a></span>modified_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define modified_count&#160;&#160;&#160;(G.modified_count     )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00477">477</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a1c43ce4d9721b44116befccf5ebbeb5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c43ce4d9721b44116befccf5ebbeb5e">&#9670;&nbsp;</a></span>newindent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define newindent&#160;&#160;&#160;(G.newindent          )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00513">513</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="aae6364a195a181790fe7379c6b44a343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae6364a195a181790fe7379c6b44a343">&#9670;&nbsp;</a></span>offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define offset&#160;&#160;&#160;(G.offset             )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00486">486</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a3ff0d9e62e7900a8cf1b1c133eea544f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ff0d9e62e7900a8cf1b1c133eea544f">&#9670;&nbsp;</a></span>old_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define old_offset&#160;&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a43c54c412b27c1f8897013953afb090a">refresh__old_offset</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a091d89b956341a32222130bfcf73b297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a091d89b956341a32222130bfcf73b297">&#9670;&nbsp;</a></span>readbuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define readbuffer&#160;&#160;&#160;(G.readbuffer    )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00529">529</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a387a583ec3c8cb3c426774703d490d12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387a583ec3c8cb3c426774703d490d12">&#9670;&nbsp;</a></span>readonly_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define readonly_mode&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00504">504</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a43c54c412b27c1f8897013953afb090a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43c54c412b27c1f8897013953afb090a">&#9670;&nbsp;</a></span>refresh__old_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define refresh__old_offset&#160;&#160;&#160;(G.refresh__old_offset)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00517">517</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="aff5e7d5e615b883b132d7ef1a74beb55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff5e7d5e615b883b132d7ef1a74beb55">&#9670;&nbsp;</a></span>reg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define reg&#160;&#160;&#160;(G.reg           )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00472">472</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a5b7ee56b477ef4822c69bbdbf774f6b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b7ee56b477ef4822c69bbdbf774f6b7">&#9670;&nbsp;</a></span>regtype</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define regtype&#160;&#160;&#160;(G.regtype       )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00522">522</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="af8c7a32b62c2d0375a34ec94ce25d68b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8c7a32b62c2d0375a34ec94ce25d68b">&#9670;&nbsp;</a></span>restart</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define restart&#160;&#160;&#160;(G.restart       )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00524">524</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a709f915a8f591c9ec3208128ee246b89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a709f915a8f591c9ec3208128ee246b89">&#9670;&nbsp;</a></span>rows</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rows&#160;&#160;&#160;(G.rows               )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00482">482</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ae7e727a46b4ca854c44fa1c900b08584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7e727a46b4ca854c44fa1c900b08584">&#9670;&nbsp;</a></span>rstart</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rstart&#160;&#160;&#160;(G.rstart             )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00481">481</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ab6fada95ff10a2baa65ff8939e0f92fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6fada95ff10a2baa65ff8939e0f92fa">&#9670;&nbsp;</a></span>scr_out_buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define scr_out_buf&#160;&#160;&#160;(G.scr_out_buf   )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00530">530</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a1ae1f81549ca17120e92a19d55dc5ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ae1f81549ca17120e92a19d55dc5ea0">&#9670;&nbsp;</a></span>screen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define screen&#160;&#160;&#160;(G.screen             )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00492">492</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a59d7320ed3de0137dde51b0f0e0d9f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59d7320ed3de0137dde51b0f0e0d9f52">&#9670;&nbsp;</a></span>screenbegin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define screenbegin&#160;&#160;&#160;(G.screenbegin        )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00494">494</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="af31d38e57b08d4c61af7ffc2527141c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af31d38e57b08d4c61af7ffc2527141c7">&#9670;&nbsp;</a></span>screensize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define screensize&#160;&#160;&#160;(G.screensize         )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00493">493</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ac73ee8bc0ba8f02e1dfd781e6e7ed6d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac73ee8bc0ba8f02e1dfd781e6e7ed6d5">&#9670;&nbsp;</a></span>SET_READONLY_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_READONLY_FILE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../db/dd4/sm__loop_8c.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a></td><td>)</td>
          <td>&#160;&#160;&#160;((void)0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00334">334</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a5592ebc4405adc1672c9c1e0fb2030e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5592ebc4405adc1672c9c1e0fb2030e3">&#9670;&nbsp;</a></span>SET_READONLY_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_READONLY_MODE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../db/dd4/sm__loop_8c.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a></td><td>)</td>
          <td>&#160;&#160;&#160;((void)0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00335">335</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a693fa1e8775df2e851f5a7c6b0513c49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a693fa1e8775df2e851f5a7c6b0513c49">&#9670;&nbsp;</a></span>status_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define status_buffer&#160;&#160;&#160;(G.status_buffer      )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00487">487</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ad7db220f8ddad54e13345795ce9eaf7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7db220f8ddad54e13345795ce9eaf7d">&#9670;&nbsp;</a></span>STATUS_BUFFER_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATUS_BUFFER_LEN&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00420">420</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a694f7ceae3e7a10ee220994a6f435ff9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a694f7ceae3e7a10ee220994a6f435ff9">&#9670;&nbsp;</a></span>strchr_backslash</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define strchr_backslash</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d6/d7b/strchr_8c.html#a12871ed234858ef0e363d2b8aa572fc1">strchr</a>(<a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l02786">2786</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="aabc65003a08feeae1233d9e219487cda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabc65003a08feeae1233d9e219487cda">&#9670;&nbsp;</a></span>tabstop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tabstop&#160;&#160;&#160;(G.tabstop            )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00495">495</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a3db1de0cc1a6773c52365417eb47059f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3db1de0cc1a6773c52365417eb47059f">&#9670;&nbsp;</a></span>term_orig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define term_orig&#160;&#160;&#160;(G.term_orig     )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00525">525</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a1144b296168b3bd3f9c04d75f4d5b94c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1144b296168b3bd3f9c04d75f4d5b94c">&#9670;&nbsp;</a></span>text</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define text&#160;&#160;&#160;(G.text          )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">468</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="abe52c08c000faad742b964b8dd6f1739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe52c08c000faad742b964b8dd6f1739">&#9670;&nbsp;</a></span>text_hole_delete</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define text_hole_delete</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;text_hole_delete(a,b)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01530">1530</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a176a37bacb55f480893e743ae5bb55db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a176a37bacb55f480893e743ae5bb55db">&#9670;&nbsp;</a></span>text_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define text_size&#160;&#160;&#160;(G.text_size     )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00469">469</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ae64135f428b22a128a13f6942d22e0da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae64135f428b22a128a13f6942d22e0da">&#9670;&nbsp;</a></span>tot</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tot&#160;&#160;&#160;<a class="el" href="../../d4/d49/vi_8c.html#a35a5d5f8820b4a1b4b4c82f986e5c425">format_edit_status__tot</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac0e0c69941abe84b62d1b5881f6ba461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0e0c69941abe84b62d1b5881f6ba461">&#9670;&nbsp;</a></span>undo_queue_commit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define undo_queue_commit</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;((void)0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01805">1805</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a75f92a05df8ff94c9479014721906687"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f92a05df8ff94c9479014721906687">&#9670;&nbsp;</a></span>UNSET_READONLY_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNSET_READONLY_FILE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../db/dd4/sm__loop_8c.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a></td><td>)</td>
          <td>&#160;&#160;&#160;((void)0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00336">336</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="ab9a2a99db276033745bf468f8771967f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9a2a99db276033745bf468f8771967f">&#9670;&nbsp;</a></span>VI_OPTSTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VI_OPTSTR</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code" href="../../d4/d49/vi_8c.html#a06ca3331838eaae3f068b4836040e811">IF_FEATURE_VI_CRASHME</a>(<span class="stringliteral">&quot;C&quot;</span>) \</div>
<div class="line">    IF_FEATURE_VI_COLON(<span class="stringliteral">&quot;c:*&quot;</span>) \</div>
<div class="line">    <span class="stringliteral">&quot;Hh&quot;</span> \</div>
<div class="line">    IF_FEATURE_VI_READONLY(<span class="stringliteral">&quot;R&quot;</span>)</div>
<div class="ttc" id="avi_8c_html_a06ca3331838eaae3f068b4836040e811"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a06ca3331838eaae3f068b4836040e811">IF_FEATURE_VI_CRASHME</a></div><div class="ttdeci">#define IF_FEATURE_VI_CRASHME(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00204">vi.c:204</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l04935">4935</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a51a2378c5028c3530a75a64d945bb424"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51a2378c5028c3530a75a64d945bb424">&#9670;&nbsp;</a></span>vi_setops</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define vi_setops&#160;&#160;&#160;(G.vi_setops          )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00474">474</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a012a4ed72fe7b7da3abae82c63854851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a012a4ed72fe7b7da3abae82c63854851">&#9670;&nbsp;</a></span>yank_delete</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define yank_delete</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">d, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;yank_delete(a,b,<a class="el" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>,d)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01956">1956</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<a id="a56a7a575f78c49a2c707d4b2a5f3edcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56a7a575f78c49a2c707d4b2a5f3edcb">&#9670;&nbsp;</a></span>YDreg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define YDreg&#160;&#160;&#160;(G.YDreg         )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00520">520</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a73c53bacb25588538843a1dcfe5f382b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c53bacb25588538843a1dcfe5f382b">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a73c53bacb25588538843a1dcfe5f382ba8e552666c3139993bf978a9a739830b6"></a>OPTBIT_H&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a73c53bacb25588538843a1dcfe5f382ba70efa89847b63c35d69989896f6b4801"></a>OPTBIT_h&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a73c53bacb25588538843a1dcfe5f382bac612068cfab553ab17be89dd3f2526ac"></a>OPT_C&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a73c53bacb25588538843a1dcfe5f382ba2987c8e6ded5783c2841674e167a005a"></a>OPT_c&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a73c53bacb25588538843a1dcfe5f382babc3f4c4e17f06dfbd1176848143ae44a"></a>OPT_H&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a73c53bacb25588538843a1dcfe5f382ba630cb8f4f3b593d83dfcb0cbdb5eb825"></a>OPT_h&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a73c53bacb25588538843a1dcfe5f382baf2daf604562796c6f788c5c826517e00"></a>OPT_R&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l04941">4941</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;     {</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a06ca3331838eaae3f068b4836040e811">IF_FEATURE_VI_CRASHME</a>(OPTBIT_C,)</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;    IF_FEATURE_VI_COLON(<a class="code" href="../../de/d77/ls_8c.html#afa9be5679ab03d785820f2474c5ccc6eaf36f1bb321ef6ae0c9a215e90d1a3471">OPTBIT_c</a>,)</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba8e552666c3139993bf978a9a739830b6">OPTBIT_H</a>,</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba70efa89847b63c35d69989896f6b4801">OPTBIT_h</a>,</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;    IF_FEATURE_VI_READONLY(<a class="code" href="../../de/d77/ls_8c.html#afa9be5679ab03d785820f2474c5ccc6ea27d7c25ea05304093595002efb1d52af">OPTBIT_R</a>,)</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382bac612068cfab553ab17be89dd3f2526ac">OPT_C</a> = <a class="code" href="../../d4/d49/vi_8c.html#a06ca3331838eaae3f068b4836040e811">IF_FEATURE_VI_CRASHME</a>(  (1 &lt;&lt; OPTBIT_C)) + 0,</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba2987c8e6ded5783c2841674e167a005a">OPT_c</a> = IF_FEATURE_VI_COLON(    (1 &lt;&lt; <a class="code" href="../../de/d77/ls_8c.html#afa9be5679ab03d785820f2474c5ccc6eaf36f1bb321ef6ae0c9a215e90d1a3471">OPTBIT_c</a>)) + 0,</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382babc3f4c4e17f06dfbd1176848143ae44a">OPT_H</a> = 1 &lt;&lt; <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba8e552666c3139993bf978a9a739830b6">OPTBIT_H</a>,</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba630cb8f4f3b593d83dfcb0cbdb5eb825">OPT_h</a> = 1 &lt;&lt; <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba70efa89847b63c35d69989896f6b4801">OPTBIT_h</a>,</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382baf2daf604562796c6f788c5c826517e00">OPT_R</a> = IF_FEATURE_VI_READONLY( (1 &lt;&lt; <a class="code" href="../../de/d77/ls_8c.html#afa9be5679ab03d785820f2474c5ccc6ea27d7c25ea05304093595002efb1d52af">OPTBIT_R</a>)) + 0,</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;};</div>
<div class="ttc" id="als_8c_html_afa9be5679ab03d785820f2474c5ccc6ea27d7c25ea05304093595002efb1d52af"><div class="ttname"><a href="../../de/d77/ls_8c.html#afa9be5679ab03d785820f2474c5ccc6ea27d7c25ea05304093595002efb1d52af">OPTBIT_R</a></div><div class="ttdeci">@ OPTBIT_R</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d77/ls_8c_source.html#l00237">ls.c:237</a></div></div>
<div class="ttc" id="als_8c_html_afa9be5679ab03d785820f2474c5ccc6eaf36f1bb321ef6ae0c9a215e90d1a3471"><div class="ttname"><a href="../../de/d77/ls_8c.html#afa9be5679ab03d785820f2474c5ccc6eaf36f1bb321ef6ae0c9a215e90d1a3471">OPTBIT_c</a></div><div class="ttdeci">@ OPTBIT_c</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d77/ls_8c_source.html#l00240">ls.c:240</a></div></div>
<div class="ttc" id="avi_8c_html_a73c53bacb25588538843a1dcfe5f382ba2987c8e6ded5783c2841674e167a005a"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba2987c8e6ded5783c2841674e167a005a">OPT_c</a></div><div class="ttdeci">@ OPT_c</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l04948">vi.c:4948</a></div></div>
<div class="ttc" id="avi_8c_html_a73c53bacb25588538843a1dcfe5f382ba630cb8f4f3b593d83dfcb0cbdb5eb825"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba630cb8f4f3b593d83dfcb0cbdb5eb825">OPT_h</a></div><div class="ttdeci">@ OPT_h</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l04950">vi.c:4950</a></div></div>
<div class="ttc" id="avi_8c_html_a73c53bacb25588538843a1dcfe5f382ba70efa89847b63c35d69989896f6b4801"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba70efa89847b63c35d69989896f6b4801">OPTBIT_h</a></div><div class="ttdeci">@ OPTBIT_h</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l04945">vi.c:4945</a></div></div>
<div class="ttc" id="avi_8c_html_a73c53bacb25588538843a1dcfe5f382ba8e552666c3139993bf978a9a739830b6"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba8e552666c3139993bf978a9a739830b6">OPTBIT_H</a></div><div class="ttdeci">@ OPTBIT_H</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l04944">vi.c:4944</a></div></div>
<div class="ttc" id="avi_8c_html_a73c53bacb25588538843a1dcfe5f382babc3f4c4e17f06dfbd1176848143ae44a"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382babc3f4c4e17f06dfbd1176848143ae44a">OPT_H</a></div><div class="ttdeci">@ OPT_H</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l04949">vi.c:4949</a></div></div>
<div class="ttc" id="avi_8c_html_a73c53bacb25588538843a1dcfe5f382bac612068cfab553ab17be89dd3f2526ac"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382bac612068cfab553ab17be89dd3f2526ac">OPT_C</a></div><div class="ttdeci">@ OPT_C</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l04947">vi.c:4947</a></div></div>
<div class="ttc" id="avi_8c_html_a73c53bacb25588538843a1dcfe5f382baf2daf604562796c6f788c5c826517e00"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382baf2daf604562796c6f788c5c826517e00">OPT_R</a></div><div class="ttdeci">@ OPT_R</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l04951">vi.c:4951</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a78372742882dccd1c13323dbd66c25c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78372742882dccd1c13323dbd66c25c5">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a78372742882dccd1c13323dbd66c25c5ab94e536814bd9a7bf53ca2db903c3d92"></a>MAX_TABSTOP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a78372742882dccd1c13323dbd66c25c5af73f6b535ce775bb2ab54a7d6fee82e4"></a>MAX_INPUT_LEN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a78372742882dccd1c13323dbd66c25c5abb1ca5ad427ca4e64f60c29dec23ce5c"></a>MAX_SCR_COLS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a78372742882dccd1c13323dbd66c25c5aa921d0cdd90f0fd5e62c7b3afd19c9db"></a>MAX_SCR_ROWS&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00229">229</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;     {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5ab94e536814bd9a7bf53ca2db903c3d92">MAX_TABSTOP</a> = 32, <span class="comment">// sanity limit</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// User input len. Need not be extra big.</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">// Lines in file being edited *can* be bigger than this.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5af73f6b535ce775bb2ab54a7d6fee82e4">MAX_INPUT_LEN</a> = 128,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// Sanity limits. We have only one buffer of this size.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5abb1ca5ad427ca4e64f60c29dec23ce5c">MAX_SCR_COLS</a> = CONFIG_FEATURE_VI_MAX_LEN,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5aa921d0cdd90f0fd5e62c7b3afd19c9db">MAX_SCR_ROWS</a> = CONFIG_FEATURE_VI_MAX_LEN,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;};</div>
<div class="ttc" id="avi_8c_html_a78372742882dccd1c13323dbd66c25c5aa921d0cdd90f0fd5e62c7b3afd19c9db"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5aa921d0cdd90f0fd5e62c7b3afd19c9db">MAX_SCR_ROWS</a></div><div class="ttdeci">@ MAX_SCR_ROWS</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00236">vi.c:236</a></div></div>
<div class="ttc" id="avi_8c_html_a78372742882dccd1c13323dbd66c25c5ab94e536814bd9a7bf53ca2db903c3d92"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5ab94e536814bd9a7bf53ca2db903c3d92">MAX_TABSTOP</a></div><div class="ttdeci">@ MAX_TABSTOP</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00230">vi.c:230</a></div></div>
<div class="ttc" id="avi_8c_html_a78372742882dccd1c13323dbd66c25c5abb1ca5ad427ca4e64f60c29dec23ce5c"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5abb1ca5ad427ca4e64f60c29dec23ce5c">MAX_SCR_COLS</a></div><div class="ttdeci">@ MAX_SCR_COLS</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00235">vi.c:235</a></div></div>
<div class="ttc" id="avi_8c_html_a78372742882dccd1c13323dbd66c25c5af73f6b535ce775bb2ab54a7d6fee82e4"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5af73f6b535ce775bb2ab54a7d6fee82e4">MAX_INPUT_LEN</a></div><div class="ttdeci">@ MAX_INPUT_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00233">vi.c:233</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d5492e116eebd5075f247d21fb9db26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d5492e116eebd5075f247d21fb9db26">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26a5c40e8dae221eebf56a817cb640997f6"></a>YANKONLY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26adc08ce18342637f2c8099493de7377a5"></a>YANKDEL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1"></a>FORWARD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26ac921ff2cfc571c1d19b0485d7f6926ee"></a>BACK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26a60c5b7ea6c1c8aebb8cfb3dbd6d52a25"></a>LIMITED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26ad08f8ac0aa8dfb59589824359772459e"></a>FULL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159"></a>PARTIAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e"></a>WHOLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26a3b6e3be2dfacfb1d14722ea50147ac05"></a>MULTI&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26a7de52873ec9f71888a746f2337df20c6"></a>S_BEFORE_WS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26af88abd34792ec71e8a04c3dc91e5d093"></a>S_TO_WS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26a0283513cf1fd655e84b06227b76c1509"></a>S_OVER_WS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26aaf3788ac457b09dac5c03864912ca46d"></a>S_END_PUNCT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26a46505f6996b5515edaaa7c2eb5c7fa64"></a>S_END_ALNUM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2d5492e116eebd5075f247d21fb9db26a3074190524afad7b57b77f61b8f2db86"></a>C_END&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00268">268</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;     {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a5c40e8dae221eebf56a817cb640997f6">YANKONLY</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26adc08ce18342637f2c8099493de7377a5">YANKDEL</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a> = 1,    <span class="comment">// code depends on &quot;1&quot;  for array index</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ac921ff2cfc571c1d19b0485d7f6926ee">BACK</a> = -1,  <span class="comment">// code depends on &quot;-1&quot; for array index</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a60c5b7ea6c1c8aebb8cfb3dbd6d52a25">LIMITED</a> = 0,    <span class="comment">// char_search() only current line</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ad08f8ac0aa8dfb59589824359772459e">FULL</a> = 1,   <span class="comment">// char_search() to the end/beginning of entire text</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159">PARTIAL</a> = 0,    <span class="comment">// buffer contains partial line</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e">WHOLE</a> = 1,  <span class="comment">// buffer contains whole lines</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a3b6e3be2dfacfb1d14722ea50147ac05">MULTI</a> = 2,  <span class="comment">// buffer may include newlines</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a7de52873ec9f71888a746f2337df20c6">S_BEFORE_WS</a> = 1,    <span class="comment">// used in skip_thing() for moving &quot;dot&quot;</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26af88abd34792ec71e8a04c3dc91e5d093">S_TO_WS</a> = 2,        <span class="comment">// used in skip_thing() for moving &quot;dot&quot;</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a0283513cf1fd655e84b06227b76c1509">S_OVER_WS</a> = 3,      <span class="comment">// used in skip_thing() for moving &quot;dot&quot;</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aaf3788ac457b09dac5c03864912ca46d">S_END_PUNCT</a> = 4,    <span class="comment">// used in skip_thing() for moving &quot;dot&quot;</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a46505f6996b5515edaaa7c2eb5c7fa64">S_END_ALNUM</a> = 5,    <span class="comment">// used in skip_thing() for moving &quot;dot&quot;</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a3074190524afad7b57b77f61b8f2db86">C_END</a> = -1, <span class="comment">// cursor is at end of line due to &#39;$&#39; command</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;};</div>
<div class="ttc" id="abash_2test_8c_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00095">test.c:95</a></div></div>
<div class="ttc" id="abash_2test_8c_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00096">test.c:96</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26a0283513cf1fd655e84b06227b76c1509"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a0283513cf1fd655e84b06227b76c1509">S_OVER_WS</a></div><div class="ttdeci">@ S_OVER_WS</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00281">vi.c:281</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e">WHOLE</a></div><div class="ttdeci">@ WHOLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00276">vi.c:276</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26a3074190524afad7b57b77f61b8f2db86"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a3074190524afad7b57b77f61b8f2db86">C_END</a></div><div class="ttdeci">@ C_END</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00285">vi.c:285</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159">PARTIAL</a></div><div class="ttdeci">@ PARTIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00275">vi.c:275</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26a3b6e3be2dfacfb1d14722ea50147ac05"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a3b6e3be2dfacfb1d14722ea50147ac05">MULTI</a></div><div class="ttdeci">@ MULTI</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00277">vi.c:277</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26a46505f6996b5515edaaa7c2eb5c7fa64"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a46505f6996b5515edaaa7c2eb5c7fa64">S_END_ALNUM</a></div><div class="ttdeci">@ S_END_ALNUM</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00283">vi.c:283</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26a5c40e8dae221eebf56a817cb640997f6"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a5c40e8dae221eebf56a817cb640997f6">YANKONLY</a></div><div class="ttdeci">@ YANKONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00269">vi.c:269</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26a60c5b7ea6c1c8aebb8cfb3dbd6d52a25"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a60c5b7ea6c1c8aebb8cfb3dbd6d52a25">LIMITED</a></div><div class="ttdeci">@ LIMITED</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00273">vi.c:273</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26a7de52873ec9f71888a746f2337df20c6"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a7de52873ec9f71888a746f2337df20c6">S_BEFORE_WS</a></div><div class="ttdeci">@ S_BEFORE_WS</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00279">vi.c:279</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a></div><div class="ttdeci">@ FORWARD</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00271">vi.c:271</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26aaf3788ac457b09dac5c03864912ca46d"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aaf3788ac457b09dac5c03864912ca46d">S_END_PUNCT</a></div><div class="ttdeci">@ S_END_PUNCT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00282">vi.c:282</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26ac921ff2cfc571c1d19b0485d7f6926ee"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ac921ff2cfc571c1d19b0485d7f6926ee">BACK</a></div><div class="ttdeci">@ BACK</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00272">vi.c:272</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26ad08f8ac0aa8dfb59589824359772459e"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ad08f8ac0aa8dfb59589824359772459e">FULL</a></div><div class="ttdeci">@ FULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00274">vi.c:274</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26adc08ce18342637f2c8099493de7377a5"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26adc08ce18342637f2c8099493de7377a5">YANKDEL</a></div><div class="ttdeci">@ YANKDEL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00270">vi.c:270</a></div></div>
<div class="ttc" id="avi_8c_html_a2d5492e116eebd5075f247d21fb9db26af88abd34792ec71e8a04c3dc91e5d093"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26af88abd34792ec71e8a04c3dc91e5d093">S_TO_WS</a></div><div class="ttdeci">@ S_TO_WS</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00280">vi.c:280</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad28f694c2a537205d07b27e0ee88d51c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad28f694c2a537205d07b27e0ee88d51c">&#9670;&nbsp;</a></span>at_eof()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int at_eof </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l03552">3552</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;{</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    <span class="comment">// does &#39;s&#39; point to end of file, even with no terminating newline?</span></div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    <span class="keywordflow">return</span> ((<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 2 &amp;&amp; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[1] == <span class="charliteral">&#39;\n&#39;</span>) || <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1);</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;}</div>
<div class="ttc" id="aarpping_8c_html_ac9562ee4ecb3b8aeebeb04656e7e57a9"><div class="ttname"><a href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a></div><div class="ttdeci">#define s</div></div>
<div class="ttc" id="avi_8c_html_a2fb839951208a8400aa14d71d7c6f974"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a></div><div class="ttdeci">#define end</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00470">vi.c:470</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, and <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03558">find_range()</a>.</p>

</div>
</div>
<a id="a1f791442a01e8eafeae00420094ab909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f791442a01e8eafeae00420094ab909">&#9670;&nbsp;</a></span>begin_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* begin_line </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">691</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;{</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt; <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../dc/d3f/platform_8c.html#a4d42e1f16acaf0a6444e607abdbe24e6">memrchr</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <span class="charliteral">&#39;\n&#39;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + 1;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;}</div>
<div class="ttc" id="aglob__loop_8c_html_ac483f6ce851c9ecd9fb835ff7551737c"><div class="ttname"><a href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a></div><div class="ttdeci">p</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/glob__loop_8c_source.html#l00031">glob_loop.c:31</a></div></div>
<div class="ttc" id="aplatform_8c_html_a4d42e1f16acaf0a6444e607abdbe24e6"><div class="ttname"><a href="../../dc/d3f/platform_8c.html#a4d42e1f16acaf0a6444e607abdbe24e6">memrchr</a></div><div class="ttdeci">void *FAST_FUNC memrchr(const void *s, int c, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3f/platform_8c_source.html#l00089">platform.c:89</a></div></div>
<div class="ttc" id="avi_8c_html_a1144b296168b3bd3f9c04d75f4d5b94c"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a></div><div class="ttdeci">#define text</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00468">vi.c:468</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d3f/platform_8c_source.html#l00089">memrchr()</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02117">char_insert()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00712">dollar_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01823">dot_begin()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01895">dot_scroll()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03558">find_range()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00803">get_column()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01835">move_to_col()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00721">prev_line()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00841">sync_cursor()</a>.</p>

</div>
</div>
<a id="af05e9768f0fb1258630e7b044341a87c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af05e9768f0fb1258630e7b044341a87c">&#9670;&nbsp;</a></span>bound_dot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* bound_dot </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01920">1920</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;{</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt;= <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> &gt; <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>) {</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    }</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>) {</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    }</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_afd0c4f00b2cc2a65e6bff554cc0abd4f"><div class="ttname"><a href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a></div><div class="ttdeci">static void indicate_error(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01107">vi.c:1107</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01107">indicate_error()</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="aba8429703ec62fadc8c3f4c3beca32fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba8429703ec62fadc8c3f4c3beca32fd">&#9670;&nbsp;</a></span>bufsum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bufsum </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01315">1315</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;{</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keywordtype">int</span> sum = 0;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordtype">char</span> *e = <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> + <a class="code" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> &lt; e)</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        sum += (<span class="keywordtype">unsigned</span> char) *<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>++;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">return</span> sum;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;}</div>
<div class="ttc" id="add_8c_html_ac74ae34e9c58234aacabb6867b245c58"><div class="ttname"><a href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a></div><div class="ttdeci">#define count</div></div>
<div class="ttc" id="avi_8c_html_aa29b866765bdc5bdf87b7eb666d66093"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a></div><div class="ttdeci">#define buf</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, and <a class="el" href="../../d2/dd6/dd_8c.html#ac74ae34e9c58234aacabb6867b245c58">count</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l01324">show_status_line()</a>.</p>

</div>
</div>
<a id="ad80f075262e6d875b38ede6342f5e58a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad80f075262e6d875b38ede6342f5e58a">&#9670;&nbsp;</a></span>char_insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* char_insert </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>undo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l02117">2117</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;{</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<span class="preprocessor"># define indentcol char_insert__indentcol</span></div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    <span class="keywordtype">size_t</span> len;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="keywordtype">int</span> col, ntab, nspc;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordtype">char</span> *bol = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160; </div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 22) {      <span class="comment">// Is this an ctrl-V?</span></div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += <a class="code" href="../../d4/d49/vi_8c.html#a707447733211ea2e7dae8b635fc87b9e">stupid_insert</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="charliteral">&#39;^&#39;</span>); <span class="comment">// use ^ to indicate literal next</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a70132b5539a35c5dd3bf69009246e1d2">refresh</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>); <span class="comment">// show the ^</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>();</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;        *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        undo_push_insert(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, 1, <a class="code" href="../../d2/d60/pthread__once_8c.html#ae2ed4090fde6c55fadf82e57ce0c1743">undo</a>);</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a>++;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 27) {   <span class="comment">// Is this an ESC?</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> = 0;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> = 0;</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a>();    <span class="comment">// stop adding to q</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aaf4d4f22923d4539c7b5c43a571fefa7">last_status_cksum</a> = 0;  <span class="comment">// force status update</span></div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> &gt; <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>) &amp;&amp; (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[-1] != <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>--;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        }</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a454c3daa0eb1551f19a051fcf7e577fc">autoindent</a>) {</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;            len = <a class="code" href="../../d4/d49/vi_8c.html#af45225cfcd88fae5e653468c7179b32d">indent_len</a>(bol);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;            col = <a class="code" href="../../d4/d49/vi_8c.html#a925a179e3def5fac0f162bc3070660c4">get_column</a>(bol + len);</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;            <span class="keywordflow">if</span> (len &amp;&amp; col == indentcol &amp;&amp; bol[len] == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;                <span class="comment">// remove autoindent from otherwise empty line</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(bol, bol + len - 1, <a class="code" href="../../d2/d60/pthread__once_8c.html#ae2ed4090fde6c55fadf82e57ce0c1743">undo</a>);</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = bol;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;            }</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;        }</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 4) {    <span class="comment">// ctrl-D reduces indentation</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;        <span class="keywordtype">char</span> *r = bol + <a class="code" href="../../d4/d49/vi_8c.html#af45225cfcd88fae5e653468c7179b32d">indent_len</a>(bol);</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;        <span class="keywordtype">int</span> prev = <a class="code" href="../../d4/d49/vi_8c.html#a645aa43f44692541d949176a8431c0a6">prev_tabstop</a>(<a class="code" href="../../d4/d49/vi_8c.html#a925a179e3def5fac0f162bc3070660c4">get_column</a>(r));</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        <span class="keywordflow">while</span> (r &gt; bol &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#a925a179e3def5fac0f162bc3070660c4">get_column</a>(r) &gt; prev) {</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt; bol)</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>--;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            r--;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            r = <a class="code" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(r, r, ALLOW_UNDO_QUEUED);</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;        }</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160; </div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a454c3daa0eb1551f19a051fcf7e577fc">autoindent</a> &amp;&amp; indentcol &amp;&amp; r == <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)) {</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;            <span class="comment">// record changed size of autoindent</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;            indentcol = <a class="code" href="../../d4/d49/vi_8c.html#a925a179e3def5fac0f162bc3070660c4">get_column</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;        }</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\t&#39;</span> &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#a9ab0e5c322b891a067a1a7a0f3c50865">expandtab</a>) {    <span class="comment">// expand tab</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        col = <a class="code" href="../../d4/d49/vi_8c.html#a925a179e3def5fac0f162bc3070660c4">get_column</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;        col = <a class="code" href="../../d4/d49/vi_8c.html#ae627518ccc5dfeb1b4808576b9b6ae5b">next_tabstop</a>(col) - col + 1;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;        <span class="keywordflow">while</span> (col--) {</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;            undo_push_insert(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, 1, <a class="code" href="../../d2/d60/pthread__once_8c.html#ae2ed4090fde6c55fadf82e57ce0c1743">undo</a>);</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a>++;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += 1 + <a class="code" href="../../d4/d49/vi_8c.html#a707447733211ea2e7dae8b635fc87b9e">stupid_insert</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;        }</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ab72d18b3c16ac6360ab95232710b8f82">isbackspace</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> == 2) {</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;            <span class="comment">// special treatment for backspace in Replace mode</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt; <a class="code" href="../../d4/d49/vi_8c.html#ae7e727a46b4ca854c44fa1c900b08584">rstart</a>) {</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>--;</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;                undo_pop();</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;            }</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt; <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>) {</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>--;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, ALLOW_UNDO_QUEUED);  <span class="comment">// shrink buffer 1 char</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;        }</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        <span class="comment">// insert a char into text[]</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 13)</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;\n&#39;</span>;   <span class="comment">// translate \r to \n</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_UNDO_QUEUE</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;        undo_push_insert(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, 1, <a class="code" href="../../d2/d60/pthread__once_8c.html#ae2ed4090fde6c55fadf82e57ce0c1743">undo</a>);</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a>++;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += 1 + <a class="code" href="../../d4/d49/vi_8c.html#a707447733211ea2e7dae8b635fc87b9e">stupid_insert</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);   <span class="comment">// insert the char</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        <span class="keywordflow">if</span> (showmatch &amp;&amp; <a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(<span class="stringliteral">&quot;)]}&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) != <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;            showmatching(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - 1);</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        }</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a454c3daa0eb1551f19a051fcf7e577fc">autoindent</a> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\n&#39;</span>) {  <span class="comment">// auto indent the new line</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a1c43ce4d9721b44116befccf5ebbeb5e">newindent</a> &lt; 0) {</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                <span class="comment">// use indent of previous line</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                bol = <a class="code" href="../../d4/d49/vi_8c.html#a0e8c259cf056452fe3e5aad83ba754ac">prev_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                len = <a class="code" href="../../d4/d49/vi_8c.html#af45225cfcd88fae5e653468c7179b32d">indent_len</a>(bol);</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                col = <a class="code" href="../../d4/d49/vi_8c.html#a925a179e3def5fac0f162bc3070660c4">get_column</a>(bol + len);</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160; </div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;                <span class="keywordflow">if</span> (len &amp;&amp; col == indentcol) {</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                    <span class="comment">// previous line was empty except for autoindent</span></div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;                    <span class="comment">// move the indent to the current line</span></div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;                    <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a802c986820d3866639922b6bc9484f90">memmove</a>(bol + 1, bol, len);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;                    *bol = <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;                }</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;                <span class="comment">// for &#39;O&#39;/&#39;cc&#39; commands add indent before newly inserted NL</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1)   <span class="comment">// but not for &#39;cc&#39; at EOF</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;                    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>--;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;                col = <a class="code" href="../../d4/d49/vi_8c.html#a1c43ce4d9721b44116befccf5ebbeb5e">newindent</a>;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;            }</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160; </div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;            <span class="keywordflow">if</span> (col) {</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                <span class="comment">// only record indent if in insert/replace mode or for</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                <span class="comment">// the &#39;o&#39;/&#39;O&#39;/&#39;cc&#39; commands, which are switched to</span></div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;                <span class="comment">// insert mode early.</span></div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;                indentcol = <a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> != 0 ? col : 0;</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a9ab0e5c322b891a067a1a7a0f3c50865">expandtab</a>) {</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;                    ntab = 0;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;                    nspc = col;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                    ntab = col / <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                    nspc = col % <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>;</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                }</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += <a class="code" href="../../d4/d49/vi_8c.html#a535e35451728e670d268af8ac16cde04">text_hole_make</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, ntab + nspc);</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;                undo_push_insert(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, ntab + nspc, <a class="code" href="../../d2/d60/pthread__once_8c.html#ae2ed4090fde6c55fadf82e57ce0c1743">undo</a>);</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;                <a class="code" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c.html#a19588d2006eb37347ebae632befc20e5">memset</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="charliteral">&#39;\t&#39;</span>, ntab);</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += ntab;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;                <a class="code" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c.html#a19588d2006eb37347ebae632befc20e5">memset</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="charliteral">&#39; &#39;</span>, nspc);</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + nspc;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;            }</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        }</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    }</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    indentcol = 0;</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<span class="preprocessor"># undef indentcol</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;}</div>
<div class="ttc" id="aapps_2base_2bash_2lib_2readline_2bind_8c_html_a58f035966ee1771c6b3bb7a84fb13019"><div class="ttname"><a href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a></div><div class="ttdeci">char * strchr()</div></div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2memset_8c_html_a19588d2006eb37347ebae632befc20e5"><div class="ttname"><a href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c.html#a19588d2006eb37347ebae632befc20e5">memset</a></div><div class="ttdeci">char * memset(char *str, int c, unsigned int len)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c_source.html#l00022">memset.c:22</a></div></div>
<div class="ttc" id="ageneral_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d14/general_8h_source.html#l00053">general.h:53</a></div></div>
<div class="ttc" id="aglob__loop_8c_html_a2019d0836036f2693a231fe5c7c65e20"><div class="ttname"><a href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a></div><div class="ttdeci">register GCHAR c</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d64/glob__loop_8c_source.html#l00028">glob_loop.c:26</a></div></div>
<div class="ttc" id="alibc_2include_2string_8h_html_a802c986820d3866639922b6bc9484f90"><div class="ttname"><a href="../../dc/da4/libc_2include_2string_8h.html#a802c986820d3866639922b6bc9484f90">memmove</a></div><div class="ttdeci">void * memmove(void *dest, const void *src, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de5/memop_8c_source.html#l00290">memop.c:290</a></div></div>
<div class="ttc" id="apthread__once_8c_html_ae2ed4090fde6c55fadf82e57ce0c1743"><div class="ttname"><a href="../../d2/d60/pthread__once_8c.html#ae2ed4090fde6c55fadf82e57ce0c1743">undo</a></div><div class="ttdeci">static void undo(void *control)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d60/pthread__once_8c_source.html#l00003">pthread_once.c:3</a></div></div>
<div class="ttc" id="avi_8c_html_a0e8c259cf056452fe3e5aad83ba754ac"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a0e8c259cf056452fe3e5aad83ba754ac">prev_line</a></div><div class="ttdeci">static char * prev_line(char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00721">vi.c:721</a></div></div>
<div class="ttc" id="avi_8c_html_a1f791442a01e8eafeae00420094ab909"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a></div><div class="ttdeci">static char * begin_line(char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00691">vi.c:691</a></div></div>
<div class="ttc" id="avi_8c_html_a3f29a242999740b9621d87e6e30aee1b"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a></div><div class="ttdeci">#define modified_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00477">vi.c:477</a></div></div>
<div class="ttc" id="avi_8c_html_a454c3daa0eb1551f19a051fcf7e577fc"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a454c3daa0eb1551f19a051fcf7e577fc">autoindent</a></div><div class="ttdeci">#define autoindent</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00322">vi.c:322</a></div></div>
<div class="ttc" id="avi_8c_html_a535e35451728e670d268af8ac16cde04"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a535e35451728e670d268af8ac16cde04">text_hole_make</a></div><div class="ttdeci">static uintptr_t text_hole_make(char *p, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01496">vi.c:1496</a></div></div>
<div class="ttc" id="avi_8c_html_a645aa43f44692541d949176a8431c0a6"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a645aa43f44692541d949176a8431c0a6">prev_tabstop</a></div><div class="ttdeci">static int prev_tabstop(int col)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00789">vi.c:789</a></div></div>
<div class="ttc" id="avi_8c_html_a70132b5539a35c5dd3bf69009246e1d2"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a70132b5539a35c5dd3bf69009246e1d2">refresh</a></div><div class="ttdeci">static void refresh(int full_screen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00993">vi.c:993</a></div></div>
<div class="ttc" id="avi_8c_html_a707447733211ea2e7dae8b635fc87b9e"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a707447733211ea2e7dae8b635fc87b9e">stupid_insert</a></div><div class="ttdeci">static uintptr_t stupid_insert(char *p, char c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l02095">vi.c:2095</a></div></div>
<div class="ttc" id="avi_8c_html_a925a179e3def5fac0f162bc3070660c4"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a925a179e3def5fac0f162bc3070660c4">get_column</a></div><div class="ttdeci">static int get_column(char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00803">vi.c:803</a></div></div>
<div class="ttc" id="avi_8c_html_a9ab0e5c322b891a067a1a7a0f3c50865"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a9ab0e5c322b891a067a1a7a0f3c50865">expandtab</a></div><div class="ttdeci">#define expandtab</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00323">vi.c:323</a></div></div>
<div class="ttc" id="avi_8c_html_aaf4d4f22923d4539c7b5c43a571fefa7"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aaf4d4f22923d4539c7b5c43a571fefa7">last_status_cksum</a></div><div class="ttdeci">#define last_status_cksum</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00489">vi.c:489</a></div></div>
<div class="ttc" id="avi_8c_html_ab72d18b3c16ac6360ab95232710b8f82"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ab72d18b3c16ac6360ab95232710b8f82">isbackspace</a></div><div class="ttdeci">#define isbackspace(c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00227">vi.c:227</a></div></div>
<div class="ttc" id="avi_8c_html_abe52c08c000faad742b964b8dd6f1739"><div class="ttname"><a href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a></div><div class="ttdeci">#define text_hole_delete(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01530">vi.c:1530</a></div></div>
<div class="ttc" id="avi_8c_html_ac0e0c69941abe84b62d1b5881f6ba461"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a></div><div class="ttdeci">#define undo_queue_commit()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01805">vi.c:1805</a></div></div>
<div class="ttc" id="avi_8c_html_ad971950d0b434d5b86d72aae0b07ff59"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a></div><div class="ttdeci">#define cmdcnt</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00480">vi.c:480</a></div></div>
<div class="ttc" id="avi_8c_html_adbea9b09fa2d326562af1639f370d89f"><div class="ttname"><a href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a></div><div class="ttdeci">static char * end_line(char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00702">vi.c:702</a></div></div>
<div class="ttc" id="avi_8c_html_adcda1fea3e2dd884044228d8ac1d3317"><div class="ttname"><a href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a></div><div class="ttdeci">#define get_one_char()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01179">vi.c:1179</a></div></div>
<div class="ttc" id="avi_8c_html_adecf5d6273480fb438d640425e20b40d"><div class="ttname"><a href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a></div><div class="ttdeci">#define dot</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00471">vi.c:471</a></div></div>
<div class="ttc" id="avi_8c_html_ae627518ccc5dfeb1b4808576b9b6ae5b"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ae627518ccc5dfeb1b4808576b9b6ae5b">next_tabstop</a></div><div class="ttdeci">static int next_tabstop(int col)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00784">vi.c:784</a></div></div>
<div class="ttc" id="avi_8c_html_ae7e727a46b4ca854c44fa1c900b08584"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ae7e727a46b4ca854c44fa1c900b08584">rstart</a></div><div class="ttdeci">#define rstart</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00481">vi.c:481</a></div></div>
<div class="ttc" id="avi_8c_html_ae8d23f2b372457d97e558d69064aaf22"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a></div><div class="ttdeci">#define cmd_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00476">vi.c:476</a></div></div>
<div class="ttc" id="avi_8c_html_af45225cfcd88fae5e653468c7179b32d"><div class="ttname"><a href="../../d4/d49/vi_8c.html#af45225cfcd88fae5e653468c7179b32d">indent_len</a></div><div class="ttdeci">static size_t indent_len(char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l02105">vi.c:2105</a></div></div>
<div class="ttc" id="avi_8c_html_af847082e04ebe9584caf411986c683ca"><div class="ttname"><a href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a></div><div class="ttdeci">#define end_cmd_q()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01950">vi.c:1950</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00322">autoindent</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">begin_line()</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00476">cmd_mode</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00480">cmdcnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01950">end_cmd_q</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00702">end_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00323">expandtab</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00803">get_column()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01179">get_one_char</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02105">indent_len()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00227">isbackspace</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00489">last_status_cksum</a>, <a class="el" href="../../d1/de5/memop_8c_source.html#l00290">memmove()</a>, <a class="el" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c_source.html#l00022">memset()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00477">modified_count</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00513">newindent</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00784">next_tabstop()</a>, <a class="el" href="../../d9/d14/general_8h_source.html#l00053">NULL</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00721">prev_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00789">prev_tabstop()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00993">refresh()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00481">rstart</a>, <a class="el" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02095">stupid_insert()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00495">tabstop</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01530">text_hole_delete</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01496">text_hole_make()</a>, <a class="el" href="../../d2/d60/pthread__once_8c_source.html#l00003">undo()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01805">undo_queue_commit</a>.</p>

</div>
</div>
<a id="ab6f8e85ebd627b5fe219ade24f18117b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6f8e85ebd627b5fe219ade24f18117b">&#9670;&nbsp;</a></span>clear_to_eol()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void clear_to_eol </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00667">667</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;{</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<a class="code" href="../../d4/d49/vi_8c.html#ac05496b0a5b24975dc335b8a728563db">ESC_CLEAR2EOL</a>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_a5f17e22b66e894981b01f6846a38fcc1"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a></div><div class="ttdeci">static void write1(const char *out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00593">vi.c:593</a></div></div>
<div class="ttc" id="avi_8c_html_ac05496b0a5b24975dc335b8a728563db"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ac05496b0a5b24975dc335b8a728563db">ESC_CLEAR2EOL</a></div><div class="ttdeci">#define ESC_CLEAR2EOL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00249">vi.c:249</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00249">ESC_CLEAR2EOL</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">write1()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l00672">go_bottom_and_clear_to_eol()</a>.</p>

</div>
</div>
<a id="af66faaba423ea9e70473243c419593dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af66faaba423ea9e70473243c419593dc">&#9670;&nbsp;</a></span>colon()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void colon </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">2790</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;{</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;<span class="preprocessor">#if !ENABLE_FEATURE_VI_COLON</span></div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;    <span class="comment">// Simple &quot;:cmd&quot; handler with minimal set of commands</span></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>;</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160; </div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;    <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> == 0)</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="stringliteral">&quot;quit&quot;</span>, <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>) == 0</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;     || <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="stringliteral">&quot;q!&quot;</span>) == 0</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    ) {</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1] != <span class="charliteral">&#39;!&#39;</span>) {</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No write since last change (:%s! overrides)&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> = 0;</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;        }</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    }</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="stringliteral">&quot;write&quot;</span>, <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>) == 0</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;     || <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="stringliteral">&quot;wq&quot;</span>) == 0</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;     || <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="stringliteral">&quot;wn&quot;</span>) == 0</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;     || (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0] == <span class="charliteral">&#39;x&#39;</span> &amp;&amp; !<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1])</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    ) {</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a> != 0 || <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0] != <span class="charliteral">&#39;x&#39;</span>) {</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;            <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../d4/d49/vi_8c.html#aed30e883a3eaa2707ecd58759a476ca6">file_write</a>(<a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a>, <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1);</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;        }</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &lt; 0) {</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> == -1)</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;Write error: &quot;</span><a class="code" href="../../d7/dd7/libbb_8h.html#a87af092f4a86dc07fb3f493a036574ae">STRERROR_FMT</a> <a class="code" href="../../d7/dd7/libbb_8h.html#adf1beb18f45b3941040ec3bc203ffb37">STRERROR_ERRNO</a>);</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a> = 0;</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a34d865d51c5bf0f08072559f08ca6f4e">last_modified_count</a> = -1;</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a2ca2ee11518986d893b2f73f5635708d">status_line</a>(<span class="stringliteral">&quot;&#39;%s&#39; %uL, %uC&quot;</span>,</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a>,</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1), <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;            );</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0] == <span class="charliteral">&#39;x&#39;</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;             || <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1] == <span class="charliteral">&#39;q&#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[1] == <span class="charliteral">&#39;n&#39;</span></div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;            ) {</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> = 0;</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;            }</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;        }</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;    }</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="stringliteral">&quot;file&quot;</span>, <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>) == 0) {</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aaf4d4f22923d4539c7b5c43a571fefa7">last_status_cksum</a> = 0;  <span class="comment">// force status update</span></div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    }</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/d4d/libc_2include_2stdio_8h.html#acd369d6926dd1e1fb503821a8b167414">sscanf</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="stringliteral">&quot;%d&quot;</span>, &amp;<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>) &gt; 0) {</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a290787ec170e01cbd8defae6ef2fe08e">find_line</a>(<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>);</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    }</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a4e781a4da224422617f1d7e6d6353b9f">not_implemented</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160; </div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;<span class="comment">// check how many addresses we got</span></div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;<span class="preprocessor"># define GOT_ADDRESS (got &amp; 1)</span></div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;<span class="preprocessor"># define GOT_RANGE ((got &amp; 3) == 3)</span></div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160; </div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, *buf1, *q, *r;</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    <span class="keywordtype">char</span> *fn, <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>[<a class="code" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5af73f6b535ce775bb2ab54a7d6fee82e4">MAX_INPUT_LEN</a>], *cmdend, *<a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a>, *<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> = <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>, li, b, e;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> got;</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    <span class="keywordtype">int</span> useforce;</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160; </div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    <span class="comment">// :3154    // if (-e line 3154) goto it  else stay put</span></div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <span class="comment">// :4,33w! foo  // write a portion of buffer to file &quot;foo&quot;</span></div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;    <span class="comment">// :w       // write all of buffer to current file</span></div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    <span class="comment">// :q       // quit</span></div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <span class="comment">// :q!      // quit- dont care about modified file</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    <span class="comment">// :&#39;a,&#39;z!sort -u   // filter block through sort</span></div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    <span class="comment">// :&#39;f      // goto mark &quot;f&quot;</span></div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;    <span class="comment">// :&#39;fl     // list literal the mark &quot;f&quot; line</span></div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    <span class="comment">// :.r bar  // read file &quot;bar&quot; into buffer before dot</span></div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    <span class="comment">// :/123/,/abc/d    // delete lines from &quot;123&quot; line to &quot;abc&quot; line</span></div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <span class="comment">// :/xyz/   // goto the &quot;xyz&quot; line</span></div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    <span class="comment">// :s/find/replace/ // substitute pattern &quot;find&quot; with &quot;replace&quot;</span></div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    <span class="comment">// :!&lt;cmd&gt;  // run &lt;cmd&gt; then return</span></div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160; </div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;    <span class="keywordflow">while</span> (*<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>++;          <span class="comment">// move past leading colons</span></div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../dd/d09/syntax_8h.html#ad9bfbdeef8c6f05cee294530b92547bf">isblank</a>(*<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>))</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>++;          <span class="comment">// move past leading blanks</span></div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[0] || <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[0] == <span class="charliteral">&#39;&quot;&#39;</span>)</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;        <span class="keywordflow">goto</span> ret;       <span class="comment">// ignore empty lines or those starting with &#39;&quot;&#39;</span></div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160; </div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    li = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0;</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    b = e = -1;</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    got = 0;</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;    li = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1);</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    fn = <a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a>;</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160; </div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    <span class="comment">// look for optional address(es)  :.  :1  :1,9   :&#39;q,&#39;a   :%</span></div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> = <a class="code" href="../../d8/dde/sed_8c.html#a2e3c4b482996cb7f555f05c37af19447">get_address</a>(<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, &amp;b, &amp;e, &amp;got);</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;        <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;    }</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160; </div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    <span class="comment">// get the COMMAND into cmd[]</span></div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    <a class="code" href="../../d6/ddf/gen-helpfiles_8c.html#add539a5755e4c4070b0c8ca97477fe47">strcpy</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>);</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    buf1 = <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>;</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    <span class="keywordflow">while</span> (!<a class="code" href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a>(*buf1) &amp;&amp; *buf1 != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;        buf1++;</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    }</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    cmdend = buf1;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <span class="comment">// get any ARGuments</span></div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../dd/d09/syntax_8h.html#ad9bfbdeef8c6f05cee294530b92547bf">isblank</a>(*buf1))</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;        buf1++;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a> = buf1;</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    *cmdend = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    useforce = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    <span class="keywordflow">if</span> (cmdend &gt; <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> &amp;&amp; cmdend[-1] == <span class="charliteral">&#39;!&#39;</span>) {</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;        useforce = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        cmdend[-1] = <span class="charliteral">&#39;\0&#39;</span>;   <span class="comment">// get rid of !</span></div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    }</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <span class="comment">// assume the command will want a range, certain commands</span></div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    <span class="comment">// (read, substitute) need to adjust these assumptions</span></div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;    <span class="keywordflow">if</span> (!GOT_ADDRESS) {</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;        q = <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>;           <span class="comment">// no addr, use 1,$ for the range</span></div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;        r = <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1;</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;        <span class="comment">// at least one addr was given, get its details</span></div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;        <span class="keywordflow">if</span> (e &lt; 0 || e &gt; li) {</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;Invalid range&quot;</span>);</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;        }</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;        q = r = <a class="code" href="../../d4/d49/vi_8c.html#a290787ec170e01cbd8defae6ef2fe08e">find_line</a>(e);</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;        <span class="keywordflow">if</span> (!GOT_RANGE) {</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;            <span class="comment">// if there is only one addr, then it&#39;s the line</span></div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;            <span class="comment">// number of the single line the user wants.</span></div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;            <span class="comment">// Reset the end pointer to the end of that line.</span></div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;            r = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(q);</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;            li = 1;</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;            <span class="comment">// we were given two addrs.  change the</span></div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;            <span class="comment">// start pointer to the addr given by user.</span></div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;            <span class="keywordflow">if</span> (b &lt; 0 || b &gt; li || b &gt; e) {</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;Invalid range&quot;</span>);</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;                <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;            }</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;            q = <a class="code" href="../../d4/d49/vi_8c.html#a290787ec170e01cbd8defae6ef2fe08e">find_line</a>(b);   <span class="comment">// what line is #b</span></div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;            r = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(r);</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;            li = e - b + 1;</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;        }</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    }</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    <span class="comment">// ------------ now look for the command ------------</span></div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>);</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> == 0) {       <span class="comment">// :123CR goto line #123</span></div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;        <span class="keywordflow">if</span> (e &gt;= 0) {</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a290787ec170e01cbd8defae6ef2fe08e">find_line</a>(e); <span class="comment">// what line is #e</span></div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;        }</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    }</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_ALLOW_EXEC</span></div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>[0] == <span class="charliteral">&#39;!&#39;</span>) {   <span class="comment">// run a cmd</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;        <span class="keywordtype">int</span> retcode;</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;        <span class="comment">// :!ls   run the &lt;cmd&gt;</span></div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;        <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> = expand_args(<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> + 1);</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aa449f2a9f07e51bbf0e6b1164d6d341c">go_bottom_and_clear_to_eol</a>();</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a04687ece399adb6b65109d746cabd3ea">cookmode</a>();</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;        retcode = <a class="code" href="../../d7/d2f/libc_2include_2stdlib_8h.html#a0680e05faf0347c931689fb3fe3d7403">system</a>(<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>);  <span class="comment">// run the cmd</span></div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;        <span class="keywordflow">if</span> (retcode)</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;            <a class="code" href="../../dc/d4d/libc_2include_2stdio_8h.html#a98631211a4a8aee62f572375d5b637be">printf</a>(<span class="stringliteral">&quot;\nshell returned %i\n\n&quot;</span>, retcode);</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a618f0d730a2df27e73abdb2e37f7e85c">rawmode</a>();</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad35b4be87d829828ce4ff316df99835f">Hit_Return</a>();           <span class="comment">// let user see results</span></div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    }</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>[0] == <span class="charliteral">&#39;=&#39;</span> &amp;&amp; !<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>[1]) {    <span class="comment">// where is the address</span></div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;        <span class="keywordflow">if</span> (!GOT_ADDRESS) { <span class="comment">// no addr given- use defaults</span></div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;            e = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;        }</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a2ca2ee11518986d893b2f73f5635708d">status_line</a>(<span class="stringliteral">&quot;%d&quot;</span>, e);</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;delete&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0) {    <span class="comment">// delete lines</span></div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;        <span class="keywordflow">if</span> (!GOT_ADDRESS) { <span class="comment">// no addr given- use defaults</span></div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;            q = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);    <span class="comment">// assume .,. for the range</span></div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;            r = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;        }</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a012a4ed72fe7b7da3abae82c63854851">yank_delete</a>(q, r, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e">WHOLE</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26adc08ce18342637f2c8099493de7377a5">YANKDEL</a>, ALLOW_UNDO);    <span class="comment">// save, then delete lines</span></div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;edit&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0) {  <span class="comment">// Edit a file</span></div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160; </div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;        <span class="comment">// don&#39;t edit, if the current file has been modified</span></div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a> &amp;&amp; !useforce) {</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No write since last change (:%s! overrides)&quot;</span>, <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>);</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;        }</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[0]) {</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;            <span class="comment">// the user supplied a file name</span></div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;            fn = <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> = expand_args(<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>);</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;                <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;            <span class="comment">// no user file name, no current name- punt</span></div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No current filename&quot;</span>);</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;        }</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160; </div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;        <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a> = <a class="code" href="../../d4/d49/vi_8c.html#a086ccc9748e09f107642b4d8f12f0986">init_text_buffer</a>(fn);</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160; </div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;        <span class="keywordflow">if</span> (Ureg &gt;= 0 &amp;&amp; Ureg &lt; 28) {</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>[Ureg]);    <span class="comment">//   free orig line reg- for &#39;U&#39;</span></div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>[Ureg] = <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;        }</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;        <span class="comment">/*if (YDreg &lt; 28) - always true*/</span> {</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>[<a class="code" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a>]);   <span class="comment">//   free default yank/delete register</span></div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>[<a class="code" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a>] = <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;        }</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;        <span class="comment">// how many lines in text[]?</span></div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;        li = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1);</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a2ca2ee11518986d893b2f73f5635708d">status_line</a>(<span class="stringliteral">&quot;&#39;%s&#39;%s&quot;</span></div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;            IF_FEATURE_VI_READONLY(<span class="stringliteral">&quot;%s&quot;</span>)</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;            <span class="stringliteral">&quot; %uL, %uC&quot;</span>,</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;            fn,</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;            (<a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a> &lt; 0 ? <span class="stringliteral">&quot; [New file]&quot;</span> : <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;            IF_FEATURE_VI_READONLY(</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;                ((<a class="code" href="../../d4/d49/vi_8c.html#a387a583ec3c8cb3c426774703d490d12">readonly_mode</a>) ? <span class="stringliteral">&quot; [Readonly]&quot;</span> : <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;            )</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;            li, (<span class="keywordtype">int</span>)(<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>)</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;        );</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;file&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0) {  <span class="comment">// what File is this</span></div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;        <span class="keywordflow">if</span> (e &gt;= 0) {</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No address allowed on this command&quot;</span>);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;        }</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[0]) {</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;            <span class="comment">// user wants a new filename</span></div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;            <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> = expand_args(<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>);</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;                <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ac6634ad3ce3cb3a9cc5d89491e8ad0f9">update_filename</a>(<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>);</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;            <span class="comment">// user wants file status info</span></div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aaf4d4f22923d4539c7b5c43a571fefa7">last_status_cksum</a> = 0;  <span class="comment">// force status update</span></div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;        }</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;features&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0) {  <span class="comment">// what features are available</span></div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;        <span class="comment">// print out values of all features</span></div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aa449f2a9f07e51bbf0e6b1164d6d341c">go_bottom_and_clear_to_eol</a>();</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a04687ece399adb6b65109d746cabd3ea">cookmode</a>();</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aef20148be3ae52ac456c42f8217b8a95">show_help</a>();</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a618f0d730a2df27e73abdb2e37f7e85c">rawmode</a>();</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad35b4be87d829828ce4ff316df99835f">Hit_Return</a>();</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;list&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0) {  <span class="comment">// literal print line</span></div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;        <span class="keywordflow">if</span> (!GOT_ADDRESS) { <span class="comment">// no addr given- use defaults</span></div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;            q = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);    <span class="comment">// assume .,. for the range</span></div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;            r = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;        }</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aa449f2a9f07e51bbf0e6b1164d6d341c">go_bottom_and_clear_to_eol</a>();</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;        <a class="code" href="../../dc/d4d/libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;\r&quot;</span>);</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;        <span class="keywordflow">for</span> (; q &lt;= r; q++) {</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;            <span class="keywordtype">int</span> c_is_no_print;</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160; </div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *q;</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;            c_is_no_print = (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &amp; 0x80) &amp;&amp; !<a class="code" href="../../d4/d49/vi_8c.html#a70d85e9e3b928359f42768e35bed8b58">Isprint</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;            <span class="keywordflow">if</span> (c_is_no_print) {</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;.&#39;</span>;</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a20e57b2851879bf297617db156c5b36c">standout_start</a>();</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;            }</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<span class="stringliteral">&quot;$\r&quot;</span>);</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &lt; <span class="charliteral">&#39; &#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 127) {</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;                <a class="code" href="../../d7/dd7/libbb_8h.html#a19c664892b1aa6feda00823c67cd7e83">bb_putchar</a>(<span class="charliteral">&#39;^&#39;</span>);</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 127)</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;                    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;                    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> += <span class="charliteral">&#39;@&#39;</span>;</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;            }</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a19c664892b1aa6feda00823c67cd7e83">bb_putchar</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;            <span class="keywordflow">if</span> (c_is_no_print)</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a5c90500cf92ec036217d38dffaada952">standout_end</a>();</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;        }</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad35b4be87d829828ce4ff316df99835f">Hit_Return</a>();</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;quit&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0 <span class="comment">// quit</span></div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;            || <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;next&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0 <span class="comment">// edit next file</span></div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;            || <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;prev&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0 <span class="comment">// edit previous file</span></div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    ) {</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>;</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;        <span class="keywordflow">if</span> (useforce) {</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> == <span class="charliteral">&#39;q&#39;</span>) {</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;                <span class="comment">// force end of argv list</span></div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;                <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a> = <a class="code" href="../../d4/d49/vi_8c.html#a4e55fb5626444e70dbe569582bfc6a84">cmdline_filecnt</a>;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;            }</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> = 0;</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;        }</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;        <span class="comment">// don&#39;t exit if the file been modified</span></div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a>) {</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No write since last change (:%s! overrides)&quot;</span>, <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>);</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;        }</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;        <span class="comment">// are there other file to edit</span></div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;        <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d4/d49/vi_8c.html#a4e55fb5626444e70dbe569582bfc6a84">cmdline_filecnt</a> - <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a> - 1;</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> == <span class="charliteral">&#39;q&#39;</span> &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> &gt; 0) {</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;%u more file(s) to edit&quot;</span>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;        }</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> == <span class="charliteral">&#39;n&#39;</span> &amp;&amp; <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> &lt;= 0) {</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No more files to edit&quot;</span>);</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;        }</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> == <span class="charliteral">&#39;p&#39;</span>) {</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;            <span class="comment">// are there previous files to edit</span></div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a> &lt; 1) {</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No previous files to edit&quot;</span>);</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;                <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;            }</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;            <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a> -= 2;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;        }</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> = 0;</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;read&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0) {  <span class="comment">// read file into text[]</span></div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>, <a class="code" href="../../d6/d23/wi__stuff_8c.html#aaf825a665c491e6d28245b43f85b5402">num</a>;</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160; </div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[0]) {</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;            <span class="comment">// the user supplied a file name</span></div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;            fn = <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> = expand_args(<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>);</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;                <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#af97698f0518f065e8927cdbe96e9a542">init_filename</a>(fn);</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;            <span class="comment">// no user file name, no current name- punt</span></div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No current filename&quot;</span>);</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;        }</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;        <span class="keywordflow">if</span> (e == 0) {   <span class="comment">// user said &quot;:0r foo&quot;</span></div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;            q = <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>;</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;        } <span class="keywordflow">else</span> {    <span class="comment">// read after given line or current line if none given</span></div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;            q = <a class="code" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a>(GOT_ADDRESS ? <a class="code" href="../../d4/d49/vi_8c.html#a290787ec170e01cbd8defae6ef2fe08e">find_line</a>(e) : <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;            <span class="comment">// read after last line</span></div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;            <span class="keywordflow">if</span> (q == <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>-1)</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;                ++q;</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;        }</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;        <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a> = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, q);</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;        <span class="keywordflow">if</span> (q == <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>)</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;            <a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a>++;</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;        { <span class="comment">// dance around potentially-reallocated text[]</span></div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;            <a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a> ofs = q - <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>;</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;            <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1e287cb54b22a4f306a94ff90671cf9c">file_insert</a>(fn, q, 0);</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;            q = <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> + ofs;</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;        }</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a> &lt; 0)</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;            <span class="keywordflow">goto</span> ret;   <span class="comment">// nothing was inserted</span></div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;        <span class="comment">// how many lines in text[]?</span></div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;        li = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(q, q + <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a> - 1);</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a2ca2ee11518986d893b2f73f5635708d">status_line</a>(<span class="stringliteral">&quot;&#39;%s&#39;&quot;</span></div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;            IF_FEATURE_VI_READONLY(<span class="stringliteral">&quot;%s&quot;</span>)</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;            <span class="stringliteral">&quot; %uL, %uC&quot;</span>,</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;            fn,</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;            IF_FEATURE_VI_READONLY((<a class="code" href="../../d4/d49/vi_8c.html#a387a583ec3c8cb3c426774703d490d12">readonly_mode</a> ? <span class="stringliteral">&quot; [Readonly]&quot;</span> : <span class="stringliteral">&quot;&quot;</span>),)</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;            li, <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a></div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;        );</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a290787ec170e01cbd8defae6ef2fe08e">find_line</a>(<a class="code" href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a>);</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;rewind&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0) {    <span class="comment">// rewind cmd line args</span></div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a> &amp;&amp; !useforce) {</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No write since last change (:%s! overrides)&quot;</span>, <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>);</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;            <span class="comment">// reset the filenames to edit</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;            <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a> = -1; <span class="comment">// start from 0th file</span></div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> = 0;</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;        }</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_SET</span></div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;set&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0) {   <span class="comment">// set or clear features</span></div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;<span class="preprocessor">#  if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;        <span class="keywordtype">char</span> *argp, *argn, oldch;</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;        <span class="comment">// only blank is regarded as args delimiter. What about tab &#39;\t&#39;?</span></div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[0] || <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>, <span class="stringliteral">&quot;all&quot;</span>) == 0) {</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;            <span class="comment">// print out values of all options</span></div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;<span class="preprocessor">#  if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;                <span class="stringliteral">&quot;%sautoindent &quot;</span></div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;                <span class="stringliteral">&quot;%sexpandtab &quot;</span></div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;                <span class="stringliteral">&quot;%sflash &quot;</span></div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;                <span class="stringliteral">&quot;%signorecase &quot;</span></div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;                <span class="stringliteral">&quot;%sshowmatch &quot;</span></div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;                <span class="stringliteral">&quot;tabstop=%u&quot;</span>,</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a454c3daa0eb1551f19a051fcf7e577fc">autoindent</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>,</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a9ab0e5c322b891a067a1a7a0f3c50865">expandtab</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>,</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a37141f0e9b16a984c21e9bad75b87010">err_method</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>,</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#ab7c8e541a9abefc083d2b22493592694">ignorecase</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>,</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;                showmatch ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>,</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a></div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;            );</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;        }</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;<span class="preprocessor">#  if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;        argp = <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a>;</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;        <span class="keywordflow">while</span> (*argp) {</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;            <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0;</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;            <span class="keywordflow">if</span> (argp[0] == <span class="charliteral">&#39;n&#39;</span> &amp;&amp; argp[1] == <span class="charliteral">&#39;o&#39;</span>) <span class="comment">// &quot;noXXX&quot;</span></div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;                <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 2;</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;            argn = <a class="code" href="../../d7/dd7/libbb_8h.html#ae5c2ca851ea54787b4939eb38086d7ae">skip_non_whitespace</a>(argp);</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;            oldch = *argn;</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;            *argn = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;            setops(argp, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;            *argn = oldch;</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;            argp = <a class="code" href="../../d7/dd7/libbb_8h.html#a5a048a1ac844de188e4c3047a34dc673">skip_whitespace</a>(argn);</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;        }</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;<span class="preprocessor">#  endif </span><span class="comment">/* FEATURE_VI_SETOPTS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;<span class="preprocessor"># endif </span><span class="comment">/* FEATURE_VI_SET */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160; </div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_SEARCH</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>[0] == <span class="charliteral">&#39;s&#39;</span>) { <span class="comment">// substitute a pattern with a replacement pattern</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="../../d6/d46/hash__md5prime_8c.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, *<a class="code" href="../../d4/da4/factor_8c.html#a142a4cc0c683c44b1e92fd635ba4e01e">R</a>, *<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>;</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;        <span class="keywordtype">size_t</span> len_F, len_R;</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;        <span class="keywordtype">int</span> gflag = 0;      <span class="comment">// global replace flag</span></div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d9/d84/man2html_8c.html#a650a56c652078743734a6f6926940d3a">subs</a> = 0;   <span class="comment">// number of substitutions</span></div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;<span class="preprocessor">#  if ENABLE_FEATURE_VI_VERBOSE_STATUS</span></div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;        <span class="keywordtype">int</span> last_line = 0, <a class="code" href="../../d6/d98/ed_8c.html#a8bd4e3d53b1abf9b87f66320e8f1f204">lines</a> = 0;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;<span class="preprocessor">#  if ENABLE_FEATURE_VI_REGEX_SEARCH</span></div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;        <a class="code" href="../../d1/d21/regex_8h.html#db/d0e/structre__pattern__buffer">regex_t</a> preg;</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;        <span class="keywordtype">int</span> cflags;</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;        <span class="keywordtype">char</span> *Rorig;</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;<span class="preprocessor">#   if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d2/d60/pthread__once_8c.html#ae2ed4090fde6c55fadf82e57ce0c1743">undo</a> = 0;</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160; </div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;        <span class="comment">// F points to the &quot;find&quot; pattern</span></div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;        <span class="comment">// R points to the &quot;replace&quot; pattern</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;        <span class="comment">// replace the cmd line delimiters &quot;/&quot; with NULs</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[1]; <span class="comment">// what is the delimiter</span></div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;        <a class="code" href="../../d6/d46/hash__md5prime_8c.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> + 2;    <span class="comment">// start of &quot;find&quot;</span></div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;        <a class="code" href="../../d4/da4/factor_8c.html#a142a4cc0c683c44b1e92fd635ba4e01e">R</a> = <a class="code" href="../../d4/d49/vi_8c.html#a694f7ceae3e7a10ee220994a6f435ff9">strchr_backslash</a>(<a class="code" href="../../d6/d46/hash__md5prime_8c.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>); <span class="comment">// middle delimiter</span></div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d4/da4/factor_8c.html#a142a4cc0c683c44b1e92fd635ba4e01e">R</a>)</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;            <span class="keywordflow">goto</span> colon_s_fail;</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;        len_F = <a class="code" href="../../d4/da4/factor_8c.html#a142a4cc0c683c44b1e92fd635ba4e01e">R</a> - <a class="code" href="../../d6/d46/hash__md5prime_8c.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;        *<a class="code" href="../../d4/da4/factor_8c.html#a142a4cc0c683c44b1e92fd635ba4e01e">R</a>++ = <span class="charliteral">&#39;\0&#39;</span>;    <span class="comment">// terminate &quot;find&quot;</span></div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;        <a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a> = <a class="code" href="../../d4/d49/vi_8c.html#a694f7ceae3e7a10ee220994a6f435ff9">strchr_backslash</a>(<a class="code" href="../../d4/da4/factor_8c.html#a142a4cc0c683c44b1e92fd635ba4e01e">R</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>) {</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;            *<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>++ = <span class="charliteral">&#39;\0&#39;</span>;    <span class="comment">// terminate &quot;replace&quot;</span></div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;            gflag = *<a class="code" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>;</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;        }</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160; </div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;        <span class="keywordflow">if</span> (len_F) {    <span class="comment">// save &quot;find&quot; as last search pattern</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a>);</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a> = <a class="code" href="../../dc/dd1/pathchk_8c.html#ac7a701bce03d77bad6b57003d0fe73df">xstrdup</a>(<a class="code" href="../../d6/d46/hash__md5prime_8c.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> - 1);</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a>[0] = <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a>[1] == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No previous search&quot;</span>);</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;            <a class="code" href="../../d6/d46/hash__md5prime_8c.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a> + 1;</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;            len_F = <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a>(<a class="code" href="../../d6/d46/hash__md5prime_8c.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;        }</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160; </div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;        <span class="keywordflow">if</span> (!GOT_ADDRESS) { <span class="comment">// no addr given</span></div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;            q = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);      <span class="comment">// start with cur line</span></div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;            r = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;            b = e = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, q); <span class="comment">// cur line number</span></div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!GOT_RANGE) {    <span class="comment">// one addr given</span></div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;            b = e;</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;        }</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160; </div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;<span class="preprocessor">#  if ENABLE_FEATURE_VI_REGEX_SEARCH</span></div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;        Rorig = <a class="code" href="../../d4/da4/factor_8c.html#a142a4cc0c683c44b1e92fd635ba4e01e">R</a>;</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;        cflags = 0;</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ab7c8e541a9abefc083d2b22493592694">ignorecase</a>)</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;            cflags = <a class="code" href="../../d1/d21/regex_8h.html#a0c3e7b1d5bc9c2d278a544fe9b61b67a">REG_ICASE</a>;</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;        <a class="code" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c.html#a19588d2006eb37347ebae632befc20e5">memset</a>(&amp;preg, 0, <span class="keyword">sizeof</span>(preg));</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d21/regex_8h.html#a776bc3f45dc53703597724da2dc89835">regcomp</a>(&amp;preg, <a class="code" href="../../d6/d46/hash__md5prime_8c.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, cflags) != 0) {</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a2ca2ee11518986d893b2f73f5635708d">status_line</a>(<span class="stringliteral">&quot;:s bad search pattern&quot;</span>);</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;            <span class="keywordflow">goto</span> regex_search_end;</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;        }</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;<span class="preprocessor">#  else</span></div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;        len_R = <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a>(<a class="code" href="../../d4/da4/factor_8c.html#a142a4cc0c683c44b1e92fd635ba4e01e">R</a>);</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160; </div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = b; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt;= e; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++) {  <span class="comment">// so, :20,23 s \0 find \0 replace \0</span></div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;            <span class="keywordtype">char</span> *ls = q;       <span class="comment">// orig line start</span></div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;            <span class="keywordtype">char</span> *<a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a>;</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160; vc4:</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;<span class="preprocessor">#  if ENABLE_FEATURE_VI_REGEX_SEARCH</span></div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;            <a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a> = regex_search(q, &amp;preg, Rorig, &amp;len_F, &amp;len_R, &amp;<a class="code" href="../../d4/da4/factor_8c.html#a142a4cc0c683c44b1e92fd635ba4e01e">R</a>);</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;<span class="preprocessor">#  else</span></div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;            <a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a> = char_search(q, <a class="code" href="../../d6/d46/hash__md5prime_8c.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, (<a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a> &lt;&lt; 1) | <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a60c5b7ea6c1c8aebb8cfb3dbd6d52a25">LIMITED</a>);    <span class="comment">// search cur line only for &quot;find&quot;</span></div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a>) {</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;                <a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a> bias;</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;                <span class="comment">// we found the &quot;find&quot; pattern - delete it</span></div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;                <span class="comment">// For undo support, the first item should not be chained</span></div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;                <span class="comment">// This needs to be handled differently depending on</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;                <span class="comment">// whether or not regex support is enabled.</span></div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;<span class="preprocessor">#  if ENABLE_FEATURE_VI_REGEX_SEARCH</span></div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;<span class="preprocessor">#   define TEST_LEN_F len_F </span><span class="comment">// len_F may be zero</span></div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;<span class="preprocessor">#   define TEST_UNDO1 undo++</span></div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;<span class="preprocessor">#   define TEST_UNDO2 undo++</span></div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;<span class="preprocessor">#  else</span></div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;<span class="preprocessor">#   define TEST_LEN_F 1     </span><span class="comment">// len_F is never zero</span></div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;<span class="preprocessor">#   define TEST_UNDO1 subs</span></div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;<span class="preprocessor">#   define TEST_UNDO2 1</span></div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;                <span class="keywordflow">if</span> (TEST_LEN_F) <span class="comment">// match can be empty, no delete needed</span></div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(<a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a>, <a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a> + len_F - 1,</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;                                TEST_UNDO1 ? ALLOW_UNDO_CHAIN : ALLOW_UNDO);</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;                <span class="keywordflow">if</span> (len_R != 0) {   <span class="comment">// insert the &quot;replace&quot; pattern, if required</span></div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;                    bias = string_insert(<a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a>, <a class="code" href="../../d4/da4/factor_8c.html#a142a4cc0c683c44b1e92fd635ba4e01e">R</a>,</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;                                TEST_UNDO2 ? ALLOW_UNDO_CHAIN : ALLOW_UNDO);</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;                    <a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a> += bias;</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;                    ls += bias;</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;                    <span class="comment">//q += bias; - recalculated anyway</span></div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;                }</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;<span class="preprocessor">#  if ENABLE_FEATURE_VI_REGEX_SEARCH</span></div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;                <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d4/da4/factor_8c.html#a142a4cc0c683c44b1e92fd635ba4e01e">R</a>);</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;                <span class="keywordflow">if</span> (TEST_LEN_F || len_R != 0) {</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = ls;</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;                    <a class="code" href="../../d9/d84/man2html_8c.html#a650a56c652078743734a6f6926940d3a">subs</a>++;</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;<span class="preprocessor">#  if ENABLE_FEATURE_VI_VERBOSE_STATUS</span></div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;                    <span class="keywordflow">if</span> (last_line != <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) {</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;                        last_line = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;                        ++<a class="code" href="../../d6/d98/ed_8c.html#a8bd4e3d53b1abf9b87f66320e8f1f204">lines</a>;</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;                    }</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;                }</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;                <span class="comment">// check for &quot;global&quot;  :s/foo/bar/g</span></div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;                <span class="keywordflow">if</span> (gflag == <span class="charliteral">&#39;g&#39;</span>) {</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;                    <span class="keywordflow">if</span> ((<a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a> + len_R) &lt; <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(ls)) {</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;                        q = <a class="code" href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a> + len_R;</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;                        <span class="keywordflow">goto</span> vc4;   <span class="comment">// don&#39;t let q move past cur line</span></div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;                    }</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;                }</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;            }</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;            q = <a class="code" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a>(ls);</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;        }</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d84/man2html_8c.html#a650a56c652078743734a6f6926940d3a">subs</a> == 0) {</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No match&quot;</span>);</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;<span class="preprocessor">#  if ENABLE_FEATURE_VI_VERBOSE_STATUS</span></div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d84/man2html_8c.html#a650a56c652078743734a6f6926940d3a">subs</a> &gt; 1)</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a2ca2ee11518986d893b2f73f5635708d">status_line</a>(<span class="stringliteral">&quot;%d substitutions on %d lines&quot;</span>, <a class="code" href="../../d9/d84/man2html_8c.html#a650a56c652078743734a6f6926940d3a">subs</a>, <a class="code" href="../../d6/d98/ed_8c.html#a8bd4e3d53b1abf9b87f66320e8f1f204">lines</a>);</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;        }</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;<span class="preprocessor">#  if ENABLE_FEATURE_VI_REGEX_SEARCH</span></div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160; regex_search_end:</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;        <a class="code" href="../../d1/d21/regex_8h.html#a066c5e045d5a38b1a7bb7a1fc5b235e1">regfree</a>(&amp;preg);</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;<span class="preprocessor"># endif </span><span class="comment">/* FEATURE_VI_SEARCH */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;version&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0) {  <span class="comment">// show software version</span></div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a2ca2ee11518986d893b2f73f5635708d">status_line</a>(BB_VER);</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;write&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0  <span class="comment">// write text to file</span></div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;            || <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;wq&quot;</span>) == 0</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;            || <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;wn&quot;</span>) == 0</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;            || (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>[0] == <span class="charliteral">&#39;x&#39;</span> &amp;&amp; !<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>[1])</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;    ) {</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>;</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;        <span class="comment">//int forced = FALSE;</span></div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160; </div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;        <span class="comment">// is there a file name to write to?</span></div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>[0]) {</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../dd/d15/musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> statbuf;</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160; </div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;            <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> = expand_args(<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>);</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;                <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;            <span class="keywordflow">if</span> (!useforce &amp;&amp; (fn == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(fn, <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>) != 0) &amp;&amp;</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;                    <a class="code" href="../../d6/d59/musl_2include_2sys_2stat_8h.html#ac4ed3f2f8f55cc9484373a88a0e4e6a5">stat</a>(<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>, &amp;statbuf) == 0) {</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;File exists (:w! overrides)&quot;</span>);</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;                <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;            }</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;            fn = <a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>;</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#af97698f0518f065e8927cdbe96e9a542">init_filename</a>(fn);</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;        }</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_READONLY</span></div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a387a583ec3c8cb3c426774703d490d12">readonly_mode</a> &amp;&amp; !useforce &amp;&amp; fn) {</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;&#39;%s&#39; is read only&quot;</span>, fn);</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;        }</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;        <span class="comment">//if (useforce) {</span></div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;            <span class="comment">// if &quot;fn&quot; is not write-able, chmod u+w</span></div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;            <span class="comment">// sprintf(syscmd, &quot;chmod u+w %s&quot;, fn);</span></div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;            <span class="comment">// system(syscmd);</span></div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;            <span class="comment">// forced = TRUE;</span></div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;        <span class="comment">//}</span></div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a> != 0 || <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>[0] != <span class="charliteral">&#39;x&#39;</span>) {</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;            <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a> = r - q + 1;</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;            <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = <a class="code" href="../../d4/d49/vi_8c.html#aed30e883a3eaa2707ecd58759a476ca6">file_write</a>(fn, q, r);</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;            <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a> = 0;</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;            <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> = 0;</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;        }</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;        <span class="comment">//if (useforce &amp;&amp; forced) {</span></div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;            <span class="comment">// chmod u-w</span></div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;            <span class="comment">// sprintf(syscmd, &quot;chmod u-w %s&quot;, fn);</span></div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;            <span class="comment">// system(syscmd);</span></div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;            <span class="comment">// forced = FALSE;</span></div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;        <span class="comment">//}</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> &lt; 0) {</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> == -1)</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#ae18a15e3113b6bfdc363fb6fff2ee59d">status_line_bold_errno</a>(fn);</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;            <span class="comment">// how many lines written</span></div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;            li = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(q, q + <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> - 1);</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a2ca2ee11518986d893b2f73f5635708d">status_line</a>(<span class="stringliteral">&quot;&#39;%s&#39; %uL, %uC&quot;</span>, fn, li, <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>);</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> == <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>) {</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;                <span class="keywordflow">if</span> (q == <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> &amp;&amp; q + <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>) {</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a> = 0;</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#a34d865d51c5bf0f08072559f08ca6f4e">last_modified_count</a> = -1;</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;                }</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>[1] == <span class="charliteral">&#39;n&#39;</span>) {</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> = 0;</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>[0] == <span class="charliteral">&#39;x&#39;</span> || <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>[1] == <span class="charliteral">&#39;q&#39;</span>) {</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;                    <span class="comment">// are there other files to edit?</span></div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> = <a class="code" href="../../d4/d49/vi_8c.html#a4e55fb5626444e70dbe569582bfc6a84">cmdline_filecnt</a> - <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a> - 1;</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a> &gt; 0) {</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;                        <span class="keywordflow">if</span> (useforce) {</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;                            <span class="comment">// force end of argv list</span></div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;                            <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a> = <a class="code" href="../../d4/d49/vi_8c.html#a4e55fb5626444e70dbe569582bfc6a84">cmdline_filecnt</a>;</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;                            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;%u more file(s) to edit&quot;</span>, <a class="code" href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>);</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;                            <span class="keywordflow">goto</span> ret;</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;                        }</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;                    }</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> = 0;</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;                }</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;            }</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;        }</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>, <span class="stringliteral">&quot;yank&quot;</span>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>) == 0) {  <span class="comment">// yank lines</span></div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;        <span class="keywordflow">if</span> (!GOT_ADDRESS) { <span class="comment">// no addr given- use defaults</span></div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;            q = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);    <span class="comment">// assume .,. for the range</span></div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;            r = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;        }</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;        text_yank(q, r, <a class="code" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e">WHOLE</a>);</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;        li = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(q, r);</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a2ca2ee11518986d893b2f73f5635708d">status_line</a>(<span class="stringliteral">&quot;Yank %d lines (%d chars) into [%c]&quot;</span>,</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;                li, <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a>(<a class="code" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>[<a class="code" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a>]), what_reg());</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;        <span class="comment">// cmd unknown</span></div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a4e781a4da224422617f1d7e6d6353b9f">not_implemented</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>);</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    }</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160; ret:</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_COLON_EXPAND</span></div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a>);</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#af05e9768f0fb1258630e7b044341a87c">bound_dot</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);   <span class="comment">// make sure &quot;dot&quot; is valid</span></div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_SEARCH</span></div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160; colon_s_fail:</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2ca2ee11518986d893b2f73f5635708d">status_line</a>(<span class="stringliteral">&quot;:s expression missing delimiters&quot;</span>);</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* FEATURE_VI_COLON */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;}</div>
<div class="ttc" id="abusybox_2coreutils_2test_8c_html_acd08a6295eccfeb30c79985f047e4be5"><div class="ttname"><a href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a></div><div class="ttdeci">#define args</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9e/busybox_2coreutils_2test_8c_source.html#l00441">test.c:441</a></div></div>
<div class="ttc" id="achartypes_8h_html_a0c009fd6c0f22a1da6995c59b701a58f"><div class="ttname"><a href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a></div><div class="ttdeci">#define isspace(c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcb/chartypes_8h_source.html#l00041">chartypes.h:41</a></div></div>
<div class="ttc" id="adcigettext_8c_html_a58257445f1a929304e537613b62ebb35"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a></div><div class="ttdeci">unsigned long int n</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00441">dcigettext.c:441</a></div></div>
<div class="ttc" id="adumpkmap_8c_html_abb0829cce9dd20a40ae0d86890ae85c6"><div class="ttname"><a href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a></div><div class="ttdeci">#define flags</div></div>
<div class="ttc" id="adynlink_8c_html_a2c6efa7679f8cd9f61af96e105017560"><div class="ttname"><a href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a></div><div class="ttdeci">#define free</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/dynlink_8c_source.html#l00036">dynlink.c:36</a></div></div>
<div class="ttc" id="adynlink_8c_html_af3054366f27929432795c5ae420a5294"><div class="ttname"><a href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a></div><div class="ttdeci">#define strcmp(l, r)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/dynlink_8c_source.html#l00174">dynlink.c:174</a></div></div>
<div class="ttc" id="aed_8c_html_a8bd4e3d53b1abf9b87f66320e8f1f204"><div class="ttname"><a href="../../d6/d98/ed_8c.html#a8bd4e3d53b1abf9b87f66320e8f1f204">lines</a></div><div class="ttdeci">#define lines</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d98/ed_8c_source.html#l00067">ed.c:67</a></div></div>
<div class="ttc" id="afactor_8c_html_a142a4cc0c683c44b1e92fd635ba4e01e"><div class="ttname"><a href="../../d4/da4/factor_8c.html#a142a4cc0c683c44b1e92fd635ba4e01e">R</a></div><div class="ttdeci">#define R(a, b, c, d, e, f, g, h, i, j, A, B, C, D, E, F, G, H, I, J)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da4/factor_8c_source.html#l00051">factor.c:51</a></div></div>
<div class="ttc" id="afma_8c_html_d6/df8/structnum"><div class="ttname"><a href="../../d7/da1/fma_8c.html#d6/df8/structnum">num</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da1/fma_8c_source.html#l00009">fma.c:9</a></div></div>
<div class="ttc" id="agconf_8c_html_a880efc1795d900be549017ddf66a03e3"><div class="ttname"><a href="../../d9/dd9/gconf_8c.html#a880efc1795d900be549017ddf66a03e3">found</a></div><div class="ttdeci">static GtkTreeIter found</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd9/gconf_8c_source.html#l01348">gconf.c:1348</a></div></div>
<div class="ttc" id="agen-helpfiles_8c_html_add539a5755e4c4070b0c8ca97477fe47"><div class="ttname"><a href="../../d6/ddf/gen-helpfiles_8c.html#add539a5755e4c4070b0c8ca97477fe47">strcpy</a></div><div class="ttdeci">char * strcpy()</div></div>
<div class="ttc" id="agetpwent_8c_html_a854352f53b148adc24983a58a1866d66"><div class="ttname"><a href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a></div><div class="ttdeci">static size_t size</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d06/getpwent_8c_source.html#l00006">getpwent.c:6</a></div></div>
<div class="ttc" id="agettextP_8h_html_a68428151ad44e31b19041cdeb8972a91"><div class="ttname"><a href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a></div><div class="ttdeci">static nls_uint32 nls_uint32 i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d71/gettextP_8h_source.html#l00074">gettextP.h:74</a></div></div>
<div class="ttc" id="ahash__md5prime_8c_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="../../d6/d46/hash__md5prime_8c.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d46/hash__md5prime_8c_source.html#l00118">hash_md5prime.c:118</a></div></div>
<div class="ttc" id="alibbb_8h_html_a19c664892b1aa6feda00823c67cd7e83"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a19c664892b1aa6feda00823c67cd7e83">bb_putchar</a></div><div class="ttdeci">int bb_putchar(int ch) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00313">xfuncs_printf.c:313</a></div></div>
<div class="ttc" id="alibbb_8h_html_a5a048a1ac844de188e4c3047a34dc673"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a5a048a1ac844de188e4c3047a34dc673">skip_whitespace</a></div><div class="ttdeci">char * skip_whitespace(const char *) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7a/skip__whitespace_8c_source.html#l00011">skip_whitespace.c:11</a></div></div>
<div class="ttc" id="alibbb_8h_html_a87af092f4a86dc07fb3f493a036574ae"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a87af092f4a86dc07fb3f493a036574ae">STRERROR_FMT</a></div><div class="ttdeci">#define STRERROR_FMT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00175">libbb.h:175</a></div></div>
<div class="ttc" id="alibbb_8h_html_adf1beb18f45b3941040ec3bc203ffb37"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#adf1beb18f45b3941040ec3bc203ffb37">STRERROR_ERRNO</a></div><div class="ttdeci">#define STRERROR_ERRNO</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l00176">libbb.h:176</a></div></div>
<div class="ttc" id="alibbb_8h_html_ae5c2ca851ea54787b4939eb38086d7ae"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ae5c2ca851ea54787b4939eb38086d7ae">skip_non_whitespace</a></div><div class="ttdeci">char * skip_non_whitespace(const char *) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7a/skip__whitespace_8c_source.html#l00025">skip_whitespace.c:25</a></div></div>
<div class="ttc" id="alibc_2include_2inttypes_8h_html_a4788399d1d0b37ccf098a7da82254808"><div class="ttname"><a href="../../d4/df0/libc_2include_2inttypes_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a></div><div class="ttdeci">__UINTPTR_TYPE__ uintptr_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df0/libc_2include_2inttypes_8h_source.html#l00032">inttypes.h:32</a></div></div>
<div class="ttc" id="alibc_2include_2stdio_8h_html_a98631211a4a8aee62f572375d5b637be"><div class="ttname"><a href="../../dc/d4d/libc_2include_2stdio_8h.html#a98631211a4a8aee62f572375d5b637be">printf</a></div><div class="ttdeci">int printf(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dae/libc_2src_2print_2printf_8c_source.html#l01554">printf.c:1554</a></div></div>
<div class="ttc" id="alibc_2include_2stdio_8h_html_acd369d6926dd1e1fb503821a8b167414"><div class="ttname"><a href="../../dc/d4d/libc_2include_2stdio_8h.html#acd369d6926dd1e1fb503821a8b167414">sscanf</a></div><div class="ttdeci">int sscanf(const char *s, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00125">file.c:125</a></div></div>
<div class="ttc" id="alibc_2include_2stdio_8h_html_ad41876f99f190c7488e64ef39c50a23f"><div class="ttname"><a href="../../dc/d4d/libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a></div><div class="ttdeci">int puts(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d79/put_8c_source.html#l00027">put.c:27</a></div></div>
<div class="ttc" id="alibc_2include_2stdlib_8h_html_a0680e05faf0347c931689fb3fe3d7403"><div class="ttname"><a href="../../d7/d2f/libc_2include_2stdlib_8h.html#a0680e05faf0347c931689fb3fe3d7403">system</a></div><div class="ttdeci">int system(const char *command)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd7/lib_8c_source.html#l00067">lib.c:67</a></div></div>
<div class="ttc" id="alibc_2include_2string_8h_html_a008e171a518fe0e0352f31b245e03875"><div class="ttname"><a href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a></div><div class="ttdeci">size_t strlen(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l00005">string.c:5</a></div></div>
<div class="ttc" id="alibc_2include_2string_8h_html_a07f4a84c11c106e95c32b6ab509346ef"><div class="ttname"><a href="../../dc/da4/libc_2include_2string_8h.html#a07f4a84c11c106e95c32b6ab509346ef">strncmp</a></div><div class="ttdeci">int strncmp(const char *s1, const char *s2, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l00021">string.c:21</a></div></div>
<div class="ttc" id="aman2html_8c_html_a650a56c652078743734a6f6926940d3a"><div class="ttname"><a href="../../d9/d84/man2html_8c.html#a650a56c652078743734a6f6926940d3a">subs</a></div><div class="ttdeci">static int subs</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d84/man2html_8c_source.html#l02114">man2html.c:2114</a></div></div>
<div class="ttc" id="amusl_2arch_2x86__64_2bits_2stat_8h_html_da/de7/structstat"><div class="ttname"><a href="../../dd/d15/musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/da5/musl_2arch_2aarch64_2bits_2stat_8h_source.html#l00001">stat.h:1</a></div></div>
<div class="ttc" id="amusl_2include_2sys_2stat_8h_html_ac4ed3f2f8f55cc9484373a88a0e4e6a5"><div class="ttname"><a href="../../d6/d59/musl_2include_2sys_2stat_8h.html#ac4ed3f2f8f55cc9484373a88a0e4e6a5">stat</a></div><div class="ttdeci">int stat(const char *__restrict, struct stat *__restrict)</div></div>
<div class="ttc" id="apathchk_8c_html_ac7a701bce03d77bad6b57003d0fe73df"><div class="ttname"><a href="../../dc/dd1/pathchk_8c.html#ac7a701bce03d77bad6b57003d0fe73df">xstrdup</a></div><div class="ttdeci">static char * xstrdup(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd1/pathchk_8c_source.html#l00258">pathchk.c:258</a></div></div>
<div class="ttc" id="aposix__spawn_8c_html_d8/d08/structargs"><div class="ttname"><a href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d51/mq__notify_8c_source.html#l00010">mq_notify.c:10</a></div></div>
<div class="ttc" id="aregex_8h_html_a066c5e045d5a38b1a7bb7a1fc5b235e1"><div class="ttname"><a href="../../d1/d21/regex_8h.html#a066c5e045d5a38b1a7bb7a1fc5b235e1">regfree</a></div><div class="ttdeci">void regfree(regex_t *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d86/regcomp_8c_source.html#l02907">regcomp.c:2907</a></div></div>
<div class="ttc" id="aregex_8h_html_a0c3e7b1d5bc9c2d278a544fe9b61b67a"><div class="ttname"><a href="../../d1/d21/regex_8h.html#a0c3e7b1d5bc9c2d278a544fe9b61b67a">REG_ICASE</a></div><div class="ttdeci">#define REG_ICASE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d21/regex_8h_source.html#l00028">regex.h:28</a></div></div>
<div class="ttc" id="aregex_8h_html_a776bc3f45dc53703597724da2dc89835"><div class="ttname"><a href="../../d1/d21/regex_8h.html#a776bc3f45dc53703597724da2dc89835">regcomp</a></div><div class="ttdeci">int regcomp(regex_t *__restrict, const char *__restrict, int)</div></div>
<div class="ttc" id="aregex_8h_html_db/d0e/structre__pattern__buffer"><div class="ttname"><a href="../../d1/d21/regex_8h.html#db/d0e/structre__pattern__buffer">re_pattern_buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d21/regex_8h_source.html#l00015">regex.h:15</a></div></div>
<div class="ttc" id="arl_8c_html_ad5e1c16213bbee2d5e8cc363309f418c"><div class="ttname"><a href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a></div><div class="ttdeci">int optind</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dee/musl_2src_2misc_2getopt_8c_source.html#l00011">getopt.c:11</a></div></div>
<div class="ttc" id="arun__parts_8c_html_a6e357f839ebe13390815f0b749845972"><div class="ttname"><a href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a></div><div class="ttdeci">#define cmd</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d6d/run__parts_8c_source.html#l00100">run_parts.c:100</a></div></div>
<div class="ttc" id="ased_8c_html_a2e3c4b482996cb7f555f05c37af19447"><div class="ttname"><a href="../../d8/dde/sed_8c.html#a2e3c4b482996cb7f555f05c37af19447">get_address</a></div><div class="ttdeci">static int get_address(const char *my_str, int *linenum, regex_t **regex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dde/sed_8c_source.html#l00378">sed.c:378</a></div></div>
<div class="ttc" id="asyntax_8h_html_ad9bfbdeef8c6f05cee294530b92547bf"><div class="ttname"><a href="../../dd/d09/syntax_8h.html#ad9bfbdeef8c6f05cee294530b92547bf">isblank</a></div><div class="ttdeci">#define isblank(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d09/syntax_8h_source.html#l00103">syntax.h:103</a></div></div>
<div class="ttc" id="atgmath_8h_html_afd8bf2ee8004f952446a6df0cbec3dc4"><div class="ttname"><a href="../../d9/d10/tgmath_8h.html#afd8bf2ee8004f952446a6df0cbec3dc4">exp</a></div><div class="ttdeci">#define exp(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d10/tgmath_8h_source.html#l00228">tgmath.h:228</a></div></div>
<div class="ttc" id="atls__aesgcm_8c_html_a1cb503ddd20ff3cf9588d2b5abd202d8"><div class="ttname"><a href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a></div><div class="ttdeci">#define l</div></div>
<div class="ttc" id="avi_8c_html_a012a4ed72fe7b7da3abae82c63854851"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a012a4ed72fe7b7da3abae82c63854851">yank_delete</a></div><div class="ttdeci">#define yank_delete(a, b, c, d, e)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01956">vi.c:1956</a></div></div>
<div class="ttc" id="avi_8c_html_a04687ece399adb6b65109d746cabd3ea"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a04687ece399adb6b65109d746cabd3ea">cookmode</a></div><div class="ttdeci">static void cookmode(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00635">vi.c:635</a></div></div>
<div class="ttc" id="avi_8c_html_a05c9aaf25dba40a8cbd839a140c43125"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a></div><div class="ttdeci">static int count_lines(char *start, char *stop)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00753">vi.c:753</a></div></div>
<div class="ttc" id="avi_8c_html_a086ccc9748e09f107642b4d8f12f0986"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a086ccc9748e09f107642b4d8f12f0986">init_text_buffer</a></div><div class="ttdeci">static int init_text_buffer(char *fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l02307">vi.c:2307</a></div></div>
<div class="ttc" id="avi_8c_html_a1e287cb54b22a4f306a94ff90671cf9c"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a1e287cb54b22a4f306a94ff90671cf9c">file_insert</a></div><div class="ttdeci">static int file_insert(const char *fn, char *p, int initial)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01982">vi.c:1982</a></div></div>
<div class="ttc" id="avi_8c_html_a20a6186ac14c982c1d3791b78cc754fc"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a></div><div class="ttdeci">#define current_filename</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00490">vi.c:490</a></div></div>
<div class="ttc" id="avi_8c_html_a20e57b2851879bf297617db156c5b36c"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a20e57b2851879bf297617db156c5b36c">standout_start</a></div><div class="ttdeci">static void standout_start(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00679">vi.c:679</a></div></div>
<div class="ttc" id="avi_8c_html_a290787ec170e01cbd8defae6ef2fe08e"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a290787ec170e01cbd8defae6ef2fe08e">find_line</a></div><div class="ttdeci">static char * find_line(int li)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00774">vi.c:774</a></div></div>
<div class="ttc" id="avi_8c_html_a2ca2ee11518986d893b2f73f5635708d"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2ca2ee11518986d893b2f73f5635708d">status_line</a></div><div class="ttdeci">static void status_line(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01352">vi.c:1352</a></div></div>
<div class="ttc" id="avi_8c_html_a34d865d51c5bf0f08072559f08ca6f4e"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a34d865d51c5bf0f08072559f08ca6f4e">last_modified_count</a></div><div class="ttdeci">#define last_modified_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00478">vi.c:478</a></div></div>
<div class="ttc" id="avi_8c_html_a37141f0e9b16a984c21e9bad75b87010"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a37141f0e9b16a984c21e9bad75b87010">err_method</a></div><div class="ttdeci">#define err_method</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00324">vi.c:324</a></div></div>
<div class="ttc" id="avi_8c_html_a387a583ec3c8cb3c426774703d490d12"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a387a583ec3c8cb3c426774703d490d12">readonly_mode</a></div><div class="ttdeci">#define readonly_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00504">vi.c:504</a></div></div>
<div class="ttc" id="avi_8c_html_a4e55fb5626444e70dbe569582bfc6a84"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a4e55fb5626444e70dbe569582bfc6a84">cmdline_filecnt</a></div><div class="ttdeci">#define cmdline_filecnt</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00479">vi.c:479</a></div></div>
<div class="ttc" id="avi_8c_html_a4e781a4da224422617f1d7e6d6353b9f"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a4e781a4da224422617f1d7e6d6353b9f">not_implemented</a></div><div class="ttdeci">static void not_implemented(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01408">vi.c:1408</a></div></div>
<div class="ttc" id="avi_8c_html_a56a7a575f78c49a2c707d4b2a5f3edcb"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a></div><div class="ttdeci">#define YDreg</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00520">vi.c:520</a></div></div>
<div class="ttc" id="avi_8c_html_a58b92a0469f43b8ef5034e21cf946489"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a></div><div class="ttdeci">#define editing</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00475">vi.c:475</a></div></div>
<div class="ttc" id="avi_8c_html_a5c90500cf92ec036217d38dffaada952"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a5c90500cf92ec036217d38dffaada952">standout_end</a></div><div class="ttdeci">static void standout_end(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00685">vi.c:685</a></div></div>
<div class="ttc" id="avi_8c_html_a618f0d730a2df27e73abdb2e37f7e85c"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a618f0d730a2df27e73abdb2e37f7e85c">rawmode</a></div><div class="ttdeci">static void rawmode(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00629">vi.c:629</a></div></div>
<div class="ttc" id="avi_8c_html_a694f7ceae3e7a10ee220994a6f435ff9"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a694f7ceae3e7a10ee220994a6f435ff9">strchr_backslash</a></div><div class="ttdeci">#define strchr_backslash(s, c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l02786">vi.c:2786</a></div></div>
<div class="ttc" id="avi_8c_html_a70d85e9e3b928359f42768e35bed8b58"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a70d85e9e3b928359f42768e35bed8b58">Isprint</a></div><div class="ttdeci">#define Isprint(c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00222">vi.c:222</a></div></div>
<div class="ttc" id="avi_8c_html_a9041ca5a23c28d5813bdb824af192732"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a></div><div class="ttdeci">static void status_line_bold(const char *,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01362">vi.c:1362</a></div></div>
<div class="ttc" id="avi_8c_html_aa449f2a9f07e51bbf0e6b1164d6d341c"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aa449f2a9f07e51bbf0e6b1164d6d341c">go_bottom_and_clear_to_eol</a></div><div class="ttdeci">static void go_bottom_and_clear_to_eol(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00672">vi.c:672</a></div></div>
<div class="ttc" id="avi_8c_html_ab0a7de582792b9ba301b4a05967ed023"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a></div><div class="ttdeci">static char * next_line(char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00730">vi.c:730</a></div></div>
<div class="ttc" id="avi_8c_html_ab7c8e541a9abefc083d2b22493592694"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ab7c8e541a9abefc083d2b22493592694">ignorecase</a></div><div class="ttdeci">#define ignorecase</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00325">vi.c:325</a></div></div>
<div class="ttc" id="avi_8c_html_abcf981355a37fc7a87050f020f4c8146"><div class="ttname"><a href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a></div><div class="ttdeci">static void dot_skip_over_ws(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01861">vi.c:1861</a></div></div>
<div class="ttc" id="avi_8c_html_ac6634ad3ce3cb3a9cc5d89491e8ad0f9"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ac6634ad3ce3cb3a9cc5d89491e8ad0f9">update_filename</a></div><div class="ttdeci">static void update_filename(char *fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l02286">vi.c:2286</a></div></div>
<div class="ttc" id="avi_8c_html_ad35b4be87d829828ce4ff316df99835f"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ad35b4be87d829828ce4ff316df99835f">Hit_Return</a></div><div class="ttdeci">static void Hit_Return(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01241">vi.c:1241</a></div></div>
<div class="ttc" id="avi_8c_html_ae18a15e3113b6bfdc363fb6fff2ee59d"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ae18a15e3113b6bfdc363fb6fff2ee59d">status_line_bold_errno</a></div><div class="ttdeci">static void status_line_bold_errno(const char *fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01377">vi.c:1377</a></div></div>
<div class="ttc" id="avi_8c_html_aed30e883a3eaa2707ecd58759a476ca6"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aed30e883a3eaa2707ecd58759a476ca6">file_write</a></div><div class="ttdeci">static int file_write(char *fn, char *first, char *last)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l02357">vi.c:2357</a></div></div>
<div class="ttc" id="avi_8c_html_aef20148be3ae52ac456c42f8217b8a95"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aef20148be3ae52ac456c42f8217b8a95">show_help</a></div><div class="ttdeci">static void show_help(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00560">vi.c:560</a></div></div>
<div class="ttc" id="avi_8c_html_af05e9768f0fb1258630e7b044341a87c"><div class="ttname"><a href="../../d4/d49/vi_8c.html#af05e9768f0fb1258630e7b044341a87c">bound_dot</a></div><div class="ttdeci">static char * bound_dot(char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01920">vi.c:1920</a></div></div>
<div class="ttc" id="avi_8c_html_af97698f0518f065e8927cdbe96e9a542"><div class="ttname"><a href="../../d4/d49/vi_8c.html#af97698f0518f065e8927cdbe96e9a542">init_filename</a></div><div class="ttdeci">#define init_filename(f)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l02283">vi.c:2283</a></div></div>
<div class="ttc" id="avi_8c_html_aff5e7d5e615b883b132d7ef1a74beb55"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a></div><div class="ttdeci">#define reg</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00472">vi.c:472</a></div></div>
<div class="ttc" id="awi__stuff_8c_html_a9cfbb269728dc4185236d28be58d9eab"><div class="ttname"><a href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a></div><div class="ttdeci">static int cnt</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/wi__stuff_8c_source.html#l00317">wi_stuff.c:317</a></div></div>
<div class="ttc" id="awi__stuff_8c_html_aaf825a665c491e6d28245b43f85b5402"><div class="ttname"><a href="../../d6/d23/wi__stuff_8c.html#aaf825a665c491e6d28245b43f85b5402">num</a></div><div class="ttdeci">static patch_t * num[10]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/wi__stuff_8c_source.html#l00351">wi_stuff.c:351</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d9e/busybox_2coreutils_2test_8c_source.html#l00441">args</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00322">autoindent</a>, <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00313">bb_putchar()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">begin_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01920">bound_dot()</a>, <a class="el" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d0/d6d/run__parts_8c_source.html#l00100">cmd</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00479">cmdline_filecnt</a>, <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00317">cnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00635">cookmode()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00753">count_lines()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00490">current_filename</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01861">dot_skip_over_ws()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00475">editing</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00702">end_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00324">err_method</a>, <a class="el" href="../../d9/d10/tgmath_8h_source.html#l00228">exp</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00323">expandtab</a>, <a class="el" href="../../d6/d46/hash__md5prime_8c_source.html#l00118">F</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01982">file_insert()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02357">file_write()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00774">find_line()</a>, <a class="el" href="../../db/d66/dumpkmap_8c.html#abb0829cce9dd20a40ae0d86890ae85c6">flags</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00271">FORWARD</a>, <a class="el" href="../../d9/dd9/gconf_8c_source.html#l01348">found</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../d8/dde/sed_8c_source.html#l00378">get_address()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00672">go_bottom_and_clear_to_eol()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01241">Hit_Return()</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00325">ignorecase</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02283">init_filename</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02307">init_text_buffer()</a>, <a class="el" href="../../dd/d09/syntax_8h_source.html#l00103">isblank</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00222">Isprint</a>, <a class="el" href="../../d4/dcb/chartypes_8h_source.html#l00041">isspace</a>, <a class="el" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00478">last_modified_count</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00511">last_search_pattern</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00489">last_status_cksum</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00273">LIMITED</a>, <a class="el" href="../../d6/d98/ed_8c_source.html#l00067">lines</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00233">MAX_INPUT_LEN</a>, <a class="el" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c_source.html#l00022">memset()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00477">modified_count</a>, <a class="el" href="../../d0/d32/dcigettext_8c_source.html#l00441">n</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00730">next_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01408">not_implemented()</a>, <a class="el" href="../../d9/d14/general_8h_source.html#l00053">NULL</a>, <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00351">num</a>, <a class="el" href="../../d7/dee/musl_2src_2misc_2getopt_8c_source.html#l00011">optind</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d1/dae/libc_2src_2print_2printf_8c_source.html#l01554">printf()</a>, <a class="el" href="../../df/d79/put_8c_source.html#l00027">puts()</a>, <a class="el" href="../../d4/da4/factor_8c_source.html#l00051">R</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00629">rawmode()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00504">readonly_mode</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00472">reg</a>, <a class="el" href="../../d1/d21/regex_8h_source.html#l00028">REG_ICASE</a>, <a class="el" href="../../d1/d21/regex_8h.html#a776bc3f45dc53703597724da2dc89835">regcomp()</a>, <a class="el" href="../../d0/d86/regcomp_8c_source.html#l02907">regfree()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00560">show_help()</a>, <a class="el" href="../../d7/d06/getpwent_8c_source.html#l00006">size</a>, <a class="el" href="../../d0/d7a/skip__whitespace_8c_source.html#l00025">skip_non_whitespace()</a>, <a class="el" href="../../d0/d7a/skip__whitespace_8c_source.html#l00011">skip_whitespace()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00125">sscanf()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00685">standout_end()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00679">standout_start()</a>, <a class="el" href="../../d6/d59/musl_2include_2sys_2stat_8h.html#ac4ed3f2f8f55cc9484373a88a0e4e6a5">stat()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01352">status_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01362">status_line_bold()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01377">status_line_bold_errno()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02786">strchr_backslash</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00174">strcmp</a>, <a class="el" href="../../d6/ddf/gen-helpfiles_8c.html#add539a5755e4c4070b0c8ca97477fe47">strcpy()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l00176">STRERROR_ERRNO</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l00175">STRERROR_FMT</a>, <a class="el" href="../../d1/db0/string_8c_source.html#l00005">strlen()</a>, <a class="el" href="../../d1/db0/string_8c_source.html#l00021">strncmp()</a>, <a class="el" href="../../d9/d84/man2html_8c_source.html#l02114">subs</a>, <a class="el" href="../../de/dd7/lib_8c_source.html#l00067">system()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00495">tabstop</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01530">text_hole_delete</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>, <a class="el" href="../../d2/d60/pthread__once_8c_source.html#l00003">undo()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02286">update_filename()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00276">WHOLE</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">write1()</a>, <a class="el" href="../../dc/dd1/pathchk_8c_source.html#l00258">xstrdup()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01956">yank_delete</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00270">YANKDEL</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00520">YDreg</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="a04687ece399adb6b65109d746cabd3ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04687ece399adb6b65109d746cabd3ea">&#9670;&nbsp;</a></span>cookmode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cookmode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00635">635</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;{</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a8f037f44db72dcde4db67b3cb5dee815">fflush_all</a>();</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a6eccc40f7370a351150635b34ede9ce2">tcsetattr_stdin_TCSANOW</a>(&amp;<a class="code" href="../../d4/d49/vi_8c.html#a3db1de0cc1a6773c52365417eb47059f">term_orig</a>);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div>
<div class="ttc" id="alibbb_8h_html_a6eccc40f7370a351150635b34ede9ce2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a6eccc40f7370a351150635b34ede9ce2">tcsetattr_stdin_TCSANOW</a></div><div class="ttdeci">int tcsetattr_stdin_TCSANOW(const struct termios *tp) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6d/xfuncs_8c_source.html#l00312">xfuncs.c:312</a></div></div>
<div class="ttc" id="alibbb_8h_html_a8f037f44db72dcde4db67b3cb5dee815"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a8f037f44db72dcde4db67b3cb5dee815">fflush_all</a></div><div class="ttdeci">int fflush_all(void) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00307">xfuncs_printf.c:307</a></div></div>
<div class="ttc" id="avi_8c_html_a3db1de0cc1a6773c52365417eb47059f"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a3db1de0cc1a6773c52365417eb47059f">term_orig</a></div><div class="ttdeci">#define term_orig</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00525">vi.c:525</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00307">fflush_all()</a>, <a class="el" href="../../df/d6d/xfuncs_8c_source.html#l00312">tcsetattr_stdin_TCSANOW()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00525">term_orig</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01122">readit()</a>.</p>

</div>
</div>
<a id="a05c9aaf25dba40a8cbd839a140c43125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05c9aaf25dba40a8cbd839a140c43125">&#9670;&nbsp;</a></span>count_lines()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int count_lines </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>stop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00753">753</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;{</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a> &lt; <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>) { <span class="comment">// start and stop are backwards- reverse them</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        q = <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a> = q;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = 0;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a> = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> &lt;= <a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a> &amp;&amp; <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> &lt;= <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>++;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>++;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;}</div>
<div class="ttc" id="aarping_8c_html_a317b24157e7f590740c6e329bfe668dc"><div class="ttname"><a href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a></div><div class="ttdeci">#define start</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/arping_8c_source.html#l00095">arping.c:95</a></div></div>
<div class="ttc" id="adhcpd_8c_html_ae48a1c0f252dd523b1ce191708de6f45"><div class="ttname"><a href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a></div><div class="ttdeci">#define stop</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00317">cnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00702">end_line()</a>, <a class="el" href="../../df/d84/arping_8c_source.html#l00095">start</a>, and <a class="el" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01255">format_edit_status()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00841">sync_cursor()</a>.</p>

</div>
</div>
<a id="ad9eaa734aefcfbef7239a3faa6cebca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9eaa734aefcfbef7239a3faa6cebca7">&#9670;&nbsp;</a></span>do_cmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_cmd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">3683</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;{</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, *q, *save_dot;</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[12];</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>;</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>;</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    <span class="keywordtype">int</span> c1;</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;    <span class="keywordtype">char</span> *orig_dot = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>;</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    <span class="keywordtype">int</span> allow_undo = ALLOW_UNDO;</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;    <span class="keywordtype">int</span> undo_del = UNDO_DEL;</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160; </div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;<span class="comment">//  c1 = c; // quiet the compiler</span></div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;<span class="comment">//  cnt = yf = 0; // quiet the compiler</span></div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;<span class="comment">//  p = q = save_dot = buf; // quiet the compiler</span></div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    <a class="code" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c.html#a19588d2006eb37347ebae632befc20e5">memset</a>(<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <span class="charliteral">&#39;\0&#39;</span>, <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>));</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#aff6bd83665841f3fd66753c75999d9a4">keep_index</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2a3a3679b4c255ea5824f382746fd696">cmd_error</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160; </div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ad753fe263484b1e27f01b1c9ffe42896">show_status_line</a>();</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160; </div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;    <span class="comment">// if this is a cursor key, skip these checks</span></div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a4a39425f8ecc8e5dd0b72049df4abc4f">KEYCODE_UP</a>:</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66adc69d40be65a8e4518771039339d1e57">KEYCODE_DOWN</a>:</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a2a87ecdfccd6376e92551956e3398a4d">KEYCODE_LEFT</a>:</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a969efe3dbdba07ba64976390e9d435ee">KEYCODE_RIGHT</a>:</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66af5d946e21ae23d3d13d254632a5ef696">KEYCODE_HOME</a>:</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a23afbaf7b924aaaffbe06a99745cbd6a">KEYCODE_END</a>:</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66abdabde36148817315cde173567bf4945">KEYCODE_PAGEUP</a>:</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a61f5c2ce8b0281510d109c3c7eb10983">KEYCODE_PAGEDOWN</a>:</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a82405ac6fa311db429a08268fea1eea9">KEYCODE_DELETE</a>:</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;            <span class="keywordflow">goto</span> key_cmd_mode;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;    }</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160; </div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> == 2) {</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;        <span class="comment">//  flip-flop Insert/Replace mode</span></div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66abc4092b2303177529b4469ee6beefe6e">KEYCODE_INSERT</a>)</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;            <span class="keywordflow">goto</span> dc_i;</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;        <span class="comment">// we are &#39;R&#39;eplacing the current *dot with new char</span></div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;            <span class="comment">// don&#39;t Replace past E-o-l</span></div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> = 1;   <span class="comment">// convert to insert</span></div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;            <span class="keywordflow">if</span> (1 &lt;= <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> || <a class="code" href="../../d4/d49/vi_8c.html#a70d85e9e3b928359f42768e35bed8b58">Isprint</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != 27 &amp;&amp; !<a class="code" href="../../d4/d49/vi_8c.html#ab72d18b3c16ac6360ab95232710b8f82">isbackspace</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>))</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a012a4ed72fe7b7da3abae82c63854851">yank_delete</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159">PARTIAL</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26adc08ce18342637f2c8099493de7377a5">YANKDEL</a>, ALLOW_UNDO);</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0381cc12de9ffd942a052716417c097a">char_insert</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, ALLOW_UNDO_CHAIN);</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;            }</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;            <span class="keywordflow">goto</span> dc1;</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;        }</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;    }</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> == 1) {</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;        <span class="comment">// hitting &quot;Insert&quot; twice means &quot;R&quot; replace mode</span></div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66abc4092b2303177529b4469ee6beefe6e">KEYCODE_INSERT</a>) <span class="keywordflow">goto</span> dc5;</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;        <span class="comment">// insert the char c at &quot;dot&quot;</span></div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;        <span class="keywordflow">if</span> (1 &lt;= <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> || <a class="code" href="../../d4/d49/vi_8c.html#a70d85e9e3b928359f42768e35bed8b58">Isprint</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0381cc12de9ffd942a052716417c097a">char_insert</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, ALLOW_UNDO_QUEUED);</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;        }</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;        <span class="keywordflow">goto</span> dc1;</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;    }</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160; </div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160; key_cmd_mode:</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) {</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;        <span class="comment">//case 0x01:    // soh</span></div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;        <span class="comment">//case 0x09:    // ht</span></div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;        <span class="comment">//case 0x0b:    // vt</span></div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;        <span class="comment">//case 0x0e:    // so</span></div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;        <span class="comment">//case 0x0f:    // si</span></div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;        <span class="comment">//case 0x10:    // dle</span></div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;        <span class="comment">//case 0x11:    // dc1</span></div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;        <span class="comment">//case 0x13:    // dc3</span></div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_CRASHME</span></div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    <span class="keywordflow">case</span> 0x14:          <span class="comment">// dc4  ctrl-T</span></div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;        crashme = (crashme == 0) ? 1 : 0;</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;        <span class="comment">//case 0x16:    // syn</span></div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;        <span class="comment">//case 0x17:    // etb</span></div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;        <span class="comment">//case 0x18:    // can</span></div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;        <span class="comment">//case 0x1c:    // fs</span></div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;        <span class="comment">//case 0x1d:    // gs</span></div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;        <span class="comment">//case 0x1e:    // rs</span></div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;        <span class="comment">//case 0x1f:    // us</span></div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;        <span class="comment">//case &#39;!&#39;: // !-</span></div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;        <span class="comment">//case &#39;#&#39;: // #-</span></div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;        <span class="comment">//case &#39;&amp;&#39;: // &amp;-</span></div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;        <span class="comment">//case &#39;(&#39;: // (-</span></div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;        <span class="comment">//case &#39;)&#39;: // )-</span></div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;        <span class="comment">//case &#39;*&#39;: // *-</span></div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;        <span class="comment">//case &#39;=&#39;: // =-</span></div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;        <span class="comment">//case &#39;@&#39;: // @-</span></div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;        <span class="comment">//case &#39;K&#39;: // K-</span></div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;        <span class="comment">//case &#39;Q&#39;: // Q-</span></div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;        <span class="comment">//case &#39;S&#39;: // S-</span></div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;        <span class="comment">//case &#39;V&#39;: // V-</span></div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;        <span class="comment">//case &#39;[&#39;: // [-</span></div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;        <span class="comment">//case &#39;\\&#39;:    // \-</span></div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;        <span class="comment">//case &#39;]&#39;: // ]-</span></div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;        <span class="comment">//case &#39;_&#39;: // _-</span></div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;        <span class="comment">//case &#39;`&#39;: // `-</span></div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;        <span class="comment">//case &#39;v&#39;: // v-</span></div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;    <span class="keywordflow">default</span>:            <span class="comment">// unrecognized command</span></div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[0] = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a4e781a4da224422617f1d7e6d6353b9f">not_implemented</a>(<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>);</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a>();    <span class="comment">// stop adding to q</span></div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    <span class="keywordflow">case</span> 0x00:          <span class="comment">// nul- ignore</span></div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;    <span class="keywordflow">case</span> 2:         <span class="comment">// ctrl-B  scroll up   full screen</span></div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66abdabde36148817315cde173567bf4945">KEYCODE_PAGEUP</a>:    <span class="comment">// Cursor Key Page Up</span></div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a1c3eeecb545a51290c3d5b675dc37b7d">dot_scroll</a>(<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 2, -1);</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;    <span class="keywordflow">case</span> 4:         <span class="comment">// ctrl-D  scroll down half screen</span></div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a1c3eeecb545a51290c3d5b675dc37b7d">dot_scroll</a>((<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 2) / 2, 1);</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;    <span class="keywordflow">case</span> 5:         <span class="comment">// ctrl-E  scroll down one line</span></div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a1c3eeecb545a51290c3d5b675dc37b7d">dot_scroll</a>(1, 1);</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;    <span class="keywordflow">case</span> 6:         <span class="comment">// ctrl-F  scroll down full screen</span></div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a61f5c2ce8b0281510d109c3c7eb10983">KEYCODE_PAGEDOWN</a>:  <span class="comment">// Cursor Key Page Down</span></div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a1c3eeecb545a51290c3d5b675dc37b7d">dot_scroll</a>(<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 2, 1);</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;    <span class="keywordflow">case</span> 7:         <span class="comment">// ctrl-G  show current status</span></div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aaf4d4f22923d4539c7b5c43a571fefa7">last_status_cksum</a> = 0;  <span class="comment">// force status update</span></div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:           <span class="comment">// h- move left</span></div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a2a87ecdfccd6376e92551956e3398a4d">KEYCODE_LEFT</a>:  <span class="comment">// cursor key Left</span></div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    <span class="keywordflow">case</span> 8:     <span class="comment">// ctrl-H- move left    (This may be ERASE char)</span></div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;    <span class="keywordflow">case</span> 0x7f:  <span class="comment">// DEL- move left   (This may be ERASE char)</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ab239ba4a705ee104311c671d6b7099c8">dot_left</a>();</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;    <span class="keywordflow">case</span> 10:            <span class="comment">// Newline ^J</span></div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;j&#39;</span>:           <span class="comment">// j- goto next line, same col</span></div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66adc69d40be65a8e4518771039339d1e57">KEYCODE_DOWN</a>:  <span class="comment">// cursor key Down</span></div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;    <span class="keywordflow">case</span> 13:            <span class="comment">// Carriage Return ^M</span></div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;+&#39;</span>:           <span class="comment">// +- goto next line</span></div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;        q = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>;</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a>(q);</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(q)) {</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;                <span class="keywordflow">goto</span> dc1;</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;            }</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;            q = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = q;</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 13 || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;+&#39;</span>) {</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;            <span class="comment">// try to stay in saved column</span></div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a99433a7a79752aa95954d6cd58f30ac3">cindex</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a3074190524afad7b57b77f61b8f2db86">C_END</a> ? <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>) : <a class="code" href="../../d4/d49/vi_8c.html#a2bdae210f1d5f34d58b3f948c5d5129b">move_to_col</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#a99433a7a79752aa95954d6cd58f30ac3">cindex</a>);</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aff6bd83665841f3fd66753c75999d9a4">keep_index</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;        }</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;    <span class="keywordflow">case</span> 12:            <span class="comment">// ctrl-L  force redraw whole screen</span></div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    <span class="keywordflow">case</span> 18:            <span class="comment">// ctrl-R  force redraw</span></div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a49ded8ca0547d8b80ee00fa1b0ab267a">redraw</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);   <span class="comment">// this will redraw the entire display</span></div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    <span class="keywordflow">case</span> 21:            <span class="comment">// ctrl-U  scroll up half screen</span></div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a1c3eeecb545a51290c3d5b675dc37b7d">dot_scroll</a>((<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 2) / 2, -1);</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;    <span class="keywordflow">case</span> 25:            <span class="comment">// ctrl-Y  scroll up one line</span></div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a1c3eeecb545a51290c3d5b675dc37b7d">dot_scroll</a>(1, -1);</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;    <span class="keywordflow">case</span> 27:            <span class="comment">// esc</span></div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> == 0)</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> = 0;   <span class="comment">// stop inserting</span></div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a>();</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aaf4d4f22923d4539c7b5c43a571fefa7">last_status_cksum</a> = 0;  <span class="comment">// force status update</span></div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39; &#39;</span>:           <span class="comment">// move right</span></div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>:           <span class="comment">// move right</span></div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a969efe3dbdba07ba64976390e9d435ee">KEYCODE_RIGHT</a>: <span class="comment">// Cursor Key Right</span></div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ad99c4fe0d6a2f6e439cffd6f11fd6483">dot_right</a>();</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;&quot;&#39;</span>:           <span class="comment">// &quot;- name a register to use for Delete/Yank</span></div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;        c1 = (<a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>() | 0x20) - <span class="charliteral">&#39;a&#39;</span>; <span class="comment">// | 0x20 is tolower()</span></div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)c1 &lt;= 25) { <span class="comment">// a-z?</span></div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a> = c1;</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;        }</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;\&#39;&#39;</span>:          <span class="comment">// &#39;- goto a specific mark</span></div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;        c1 = (<a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>() | 0x20);</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)(c1 - <span class="charliteral">&#39;a&#39;</span>) &lt;= 25) { <span class="comment">// a-z?</span></div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;            c1 = (c1 - <span class="charliteral">&#39;a&#39;</span>);</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;            <span class="comment">// get the b-o-l</span></div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;            q = <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>[c1];</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> &lt;= q &amp;&amp; q &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>) {</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = q;</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a>();    <span class="comment">// go to B-o-l</span></div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;            }</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c1 == <span class="charliteral">&#39;\&#39;&#39;</span>) {    <span class="comment">// goto previous context</span></div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = swap_context(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);    <span class="comment">// swap current and previous context</span></div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a>();    <span class="comment">// go to B-o-l</span></div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;            orig_dot = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>; <span class="comment">// this doesn&#39;t update stored contexts</span></div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;        }</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:           <span class="comment">// m- Mark a line</span></div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;        <span class="comment">// this is really stupid.  If there are any inserts or deletes</span></div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;        <span class="comment">// between text[0] and dot then this mark will not point to the</span></div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;        <span class="comment">// correct location! It could be off by many lines!</span></div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;        <span class="comment">// Well..., at least its quick and dirty.</span></div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;        c1 = (<a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>() | 0x20) - <span class="charliteral">&#39;a&#39;</span>;</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)c1 &lt;= 25) { <span class="comment">// a-z?</span></div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;            <span class="comment">// remember the line</span></div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>[c1] = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>;</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;        }</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>:           <span class="comment">// P- Put register before</span></div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:           <span class="comment">// p- put register after</span></div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>[<a class="code" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a>];</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;Nothing in register %c&quot;</span>, what_reg());</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;        }</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;        <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = 0;</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;        <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> ?: 1;</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;        <span class="comment">// are we putting whole lines or strings</span></div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a5b7ee56b477ef4822c69bbdbf774f6b7">regtype</a>[<a class="code" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a>] == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e">WHOLE</a>) {</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;P&#39;</span>) {</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a>();    <span class="comment">// putting lines- Put above</span></div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;            }</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;            <span class="keywordflow">else</span> <span class="comment">/* if ( c == &#39;p&#39;) */</span> {</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;                <span class="comment">// are we putting after very last line?</span></div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>) == (<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1)) {</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>;  <span class="comment">// force dot to end of text[]</span></div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#ad4c1ee23a97ff4a90d9fc9723c848343">dot_next</a>(); <span class="comment">// next line, then put before</span></div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;                }</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;            }</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;p&#39;</span>)</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#ad99c4fe0d6a2f6e439cffd6f11fd6483">dot_right</a>();    <span class="comment">// move to right, can move to NL</span></div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;            <span class="comment">// how far to move cursor if register doesn&#39;t have a NL</span></div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="charliteral">&#39;\n&#39;</span>) == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;                <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> * <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) - 1;</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;        }</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;            <span class="comment">// dot is adjusted if text[] is reallocated so we don&#39;t have to</span></div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;            string_insert(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, allow_undo);  <span class="comment">// insert the string</span></div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;            allow_undo = ALLOW_UNDO_CHAIN;</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> += <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>;</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_YANKMARK &amp;&amp; ENABLE_FEATURE_VI_VERBOSE_STATUS</span></div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;        yank_status(<span class="stringliteral">&quot;Put&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>);</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a>();    <span class="comment">// stop adding to q</span></div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;U&#39;</span>:           <span class="comment">// U- Undo; replace current line with original version</span></div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>[Ureg] != <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;            q = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, q, ALLOW_UNDO); <span class="comment">// delete cur line</span></div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += string_insert(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>[Ureg], ALLOW_UNDO_CHAIN); <span class="comment">// insert orig line</span></div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_YANKMARK &amp;&amp; ENABLE_FEATURE_VI_VERBOSE_STATUS</span></div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;            yank_status(<span class="stringliteral">&quot;Undo&quot;</span>, <a class="code" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>[Ureg], 1);</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;        }</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* FEATURE_VI_YANKMARK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;u&#39;</span>:   <span class="comment">// u- undo last operation</span></div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;        undo_pop();</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;$&#39;</span>:           <span class="comment">// $- goto end of line</span></div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a23afbaf7b924aaaffbe06a99745cbd6a">KEYCODE_END</a>:       <span class="comment">// Cursor Key End</span></div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;            <span class="keywordflow">if</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &lt;= 0)</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ad4c1ee23a97ff4a90d9fc9723c848343">dot_next</a>();</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;        }</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a99433a7a79752aa95954d6cd58f30ac3">cindex</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a3074190524afad7b57b77f61b8f2db86">C_END</a>;</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aff6bd83665841f3fd66753c75999d9a4">keep_index</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;%&#39;</span>:           <span class="comment">// %- find matching char of pair () [] {}</span></div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;        <span class="keywordflow">for</span> (q = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>; q &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> &amp;&amp; *q != <span class="charliteral">&#39;\n&#39;</span>; q++) {</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(<span class="stringliteral">&quot;()[]{}&quot;</span>, *q) != <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;                <span class="comment">// we found half of a pair</span></div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a5151aa6f3e9c236a5d0b0c29a3649ea2">find_pair</a>(q, *q);</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;                }</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;            }</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;        }</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;        <span class="keywordflow">if</span> (*q == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:           <span class="comment">// f- forward to a user specified char</span></div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;F&#39;</span>:           <span class="comment">// F- backward to a user specified char</span></div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:           <span class="comment">// t- move to char prior to next x</span></div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>:           <span class="comment">// T- move to char after previous x</span></div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ae156b770d4caef33210b1de701d446b8">last_search_char</a> = <a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>();  <span class="comment">// get the search char</span></div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aefc21967b64a6738747dd0f4aab3bab5">last_search_cmd</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;        <span class="comment">// fall through</span></div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;;&#39;</span>:           <span class="comment">// ;- look at rest of line for last search char</span></div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;,&#39;</span>:           <span class="comment">// ,- repeat latest search in opposite direction</span></div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad5cac8f38e4e6ed68e19fe8c4b7bd80d">dot_to_char</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;,&#39;</span> ? <a class="code" href="../../d4/d49/vi_8c.html#aefc21967b64a6738747dd0f4aab3bab5">last_search_cmd</a> : <a class="code" href="../../d4/d49/vi_8c.html#aefc21967b64a6738747dd0f4aab3bab5">last_search_cmd</a> ^ 0x20);</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_DOT_CMD</span></div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;.&#39;</span>:           <span class="comment">// .- repeat the last modifying command</span></div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;        <span class="comment">// Stuff the last_modifying_cmd back into stdin</span></div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;        <span class="comment">// and let it be re-executed.</span></div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a309ee9a471190f59d4573964ba110fb3">lmc_len</a> != 0) {</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a>) <span class="comment">// update saved count if current count is non-zero</span></div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a813c72457c5d09815635bd437c397d84">dotcnt</a> = <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a>;</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ae556635fc5c6909f10335ba1e80fc52d">last_modifying_cmd</a>[<a class="code" href="../../d4/d49/vi_8c.html#a309ee9a471190f59d4573964ba110fb3">lmc_len</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#af3aaffa8bcb1e8c470cffdfe2d57d538">ioq</a> = <a class="code" href="../../d4/d49/vi_8c.html#ac90e98b4c94ada16d3aa63a977708fb2">ioq_start</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a4d828f2f187169b160c384cde2d0b0b0">xasprintf</a>(<span class="stringliteral">&quot;%u%s&quot;</span>, <a class="code" href="../../d4/d49/vi_8c.html#a813c72457c5d09815635bd437c397d84">dotcnt</a>, <a class="code" href="../../d4/d49/vi_8c.html#ae556635fc5c6909f10335ba1e80fc52d">last_modifying_cmd</a>);</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;        }</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_SEARCH</span></div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;N&#39;</span>:           <span class="comment">// N- backward search for last pattern</span></div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;        <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a>[0] == <span class="charliteral">&#39;/&#39;</span> ? <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ac921ff2cfc571c1d19b0485d7f6926ee">BACK</a> : <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a>;</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;        <span class="keywordflow">goto</span> dc4;       <span class="comment">// now search for pattern</span></div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;?&#39;</span>:           <span class="comment">// ?- backward search for a pattern</span></div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>:           <span class="comment">// /- forward search for a pattern</span></div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[0] = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;        q = <a class="code" href="../../d4/d49/vi_8c.html#a396a2ab0882a1bb635892a7857d5168e">get_input_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>);    <span class="comment">// get input line- use &quot;status line&quot;</span></div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;        <span class="keywordflow">if</span> (!q[0])  <span class="comment">// user changed mind and erased the &quot;/&quot;-  do nothing</span></div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;        <span class="keywordflow">if</span> (!q[1]) {    <span class="comment">// if no pat re-use old pat</span></div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a>[0])</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a>[0] = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;        } <span class="keywordflow">else</span> {    <span class="comment">// strlen(q) &gt; 1: new pat- save it and find</span></div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a>);</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a> = <a class="code" href="../../dc/dd1/pathchk_8c.html#ac7a701bce03d77bad6b57003d0fe73df">xstrdup</a>(q);</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;        }</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;        <span class="comment">// fall through</span></div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:           <span class="comment">// n- repeat search for last pattern</span></div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;        <span class="comment">// search rest of text[] starting at next char</span></div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;        <span class="comment">// if search fails &quot;dot&quot; is unchanged</span></div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;        <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a>[0] == <span class="charliteral">&#39;/&#39;</span> ? <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a> : <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ac921ff2cfc571c1d19b0485d7f6926ee">BACK</a>;</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160; dc4:</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a>[1] == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No previous search&quot;</span>);</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;        }</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;            q = char_search(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> + <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, <a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a> + 1,</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;                        (<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> &lt;&lt; 1) | <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ad08f8ac0aa8dfb59589824359772459e">FULL</a>);</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;            <span class="keywordflow">if</span> (q != <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = q;    <span class="comment">// good search, update &quot;dot&quot;</span></div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;                <span class="comment">// no pattern found between &quot;dot&quot; and top/bottom of file</span></div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;                <span class="comment">// continue from other end of file</span></div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *msg;</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;                q = char_search(<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a> ? <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> : <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1,</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;                        <a class="code" href="../../d4/d49/vi_8c.html#a0d02b1107826da1d41cc2897ba004d78">last_search_pattern</a> + 1, (<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> &lt;&lt; 1) | <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ad08f8ac0aa8dfb59589824359772459e">FULL</a>);</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;                <span class="keywordflow">if</span> (q != <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {    <span class="comment">// found something</span></div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = q;    <span class="comment">// found new pattern- goto it</span></div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;                    msg = <span class="stringliteral">&quot;search hit %s, continuing at %s&quot;</span>;</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;                } <span class="keywordflow">else</span> {    <span class="comment">// pattern is nowhere in file</span></div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> = 0; <span class="comment">// force exit from loop</span></div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;                    msg = <span class="stringliteral">&quot;Pattern not found&quot;</span>;</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;                }</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a>)</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(msg, <span class="stringliteral">&quot;BOTTOM&quot;</span>, <span class="stringliteral">&quot;TOP&quot;</span>);</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(msg, <span class="stringliteral">&quot;TOP&quot;</span>, <span class="stringliteral">&quot;BOTTOM&quot;</span>);</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;            }</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;{&#39;</span>:           <span class="comment">// {- move backward paragraph</span></div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;}&#39;</span>:           <span class="comment">// }- move forward paragraph</span></div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;        <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;}&#39;</span> ? <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a> : <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ac921ff2cfc571c1d19b0485d7f6926ee">BACK</a>;</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">// initially skip consecutive empty lines</span></div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a> ? dot &lt; end - 1 : dot &gt; <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>) {</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;                <span class="keywordflow">if</span> (*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> == <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>[<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>] == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a>) {</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a>)</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;                            ++<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>;  <span class="comment">// move to next blank line</span></div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;                        <span class="keywordflow">goto</span> dc2;</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;                    }</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;                }</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;                    <a class="code" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;                }</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> += <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>;</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;            }</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;            <span class="keywordflow">goto</span> dc6; <span class="comment">// end of file</span></div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160; dc2:       <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* FEATURE_VI_SEARCH */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>:           <span class="comment">// 0- goto beginning of line</span></div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>:           <span class="comment">// 1-</span></div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>:           <span class="comment">// 2-</span></div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>:           <span class="comment">// 3-</span></div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>:           <span class="comment">// 4-</span></div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;5&#39;</span>:           <span class="comment">// 5-</span></div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;6&#39;</span>:           <span class="comment">// 6-</span></div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;7&#39;</span>:           <span class="comment">// 7-</span></div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;8&#39;</span>:           <span class="comment">// 8-</span></div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;9&#39;</span>:           <span class="comment">// 9-</span></div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &lt; 1) {</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a>();    <span class="comment">// this was a standalone zero</span></div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> = <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> * 10 + (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> - <span class="charliteral">&#39;0&#39;</span>);   <span class="comment">// this 0 is part of a number</span></div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;        }</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;:&#39;</span>:           <span class="comment">// :- the colon mode commands</span></div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a396a2ab0882a1bb635892a7857d5168e">get_input_line</a>(<span class="stringliteral">&quot;:&quot;</span>);    <span class="comment">// get input line- use &quot;status line&quot;</span></div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#af66faaba423ea9e70473243c419593dc">colon</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);       <span class="comment">// execute the command</span></div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>:           <span class="comment">// &lt;- Left  shift something</span></div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;&gt;&#39;</span>:           <span class="comment">// &gt;- Right shift something</span></div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;        <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);   <span class="comment">// remember what line we are on</span></div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a4f7db8a301746863644244734893c06d">find_range</a>(&amp;<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, &amp;q, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) == -1)</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;            <span class="keywordflow">goto</span> dc6;</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;        <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, q);  <span class="comment">// # of lines we are shifting</span></div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>); <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &gt; 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>--, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)) {</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;&lt;&#39;</span>) {</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;                <span class="comment">// shift left- remove tab or tabstop spaces</span></div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;                <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\t&#39;</span>) {</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;                    <span class="comment">// shrink buffer 1 char</span></div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, allow_undo);</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;                    <span class="comment">// we should be calculating columns, not just SPACE</span></div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = 0; *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39; &#39;</span> &amp;&amp; <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>; <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>++) {</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;                        <a class="code" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, allow_undo);</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;                        allow_undo = ALLOW_UNDO_CHAIN;</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;                    }</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;                }</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="comment">/* c == &#39;&gt;&#39; &amp;&amp; */</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)) {</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;                <span class="comment">// shift right -- add tab or tabstop spaces on non-empty lines</span></div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a0381cc12de9ffd942a052716417c097a">char_insert</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="charliteral">&#39;\t&#39;</span>, allow_undo);</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;            }</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;            allow_undo = ALLOW_UNDO_CHAIN;</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;        }</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a290787ec170e01cbd8defae6ef2fe08e">find_line</a>(<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>);   <span class="comment">// what line were we on</span></div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a>();    <span class="comment">// stop adding to q</span></div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>:           <span class="comment">// A- append at e-o-l</span></div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a794d3dbac057bc5d52089c5cccfd1ada">dot_end</a>();      <span class="comment">// go to e-o-l</span></div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;        <span class="comment">//**** fall through to ... &#39;a&#39;</span></div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:           <span class="comment">// a- append after current char</span></div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> != <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>++;</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;        <span class="keywordflow">goto</span> dc_i;</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>:           <span class="comment">// B- back a blank-delimited Word</span></div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>:           <span class="comment">// E- end of a blank-delimited word</span></div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;W&#39;</span>:           <span class="comment">// W- forward a blank-delimited word</span></div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;        <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a>;</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;B&#39;</span>)</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;            <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ac921ff2cfc571c1d19b0485d7f6926ee">BACK</a>;</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;W&#39;</span> || <a class="code" href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>[<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>])) {</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2ce46489d09d76d6600f3834a25472e4">skip_thing</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, 1, <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26af88abd34792ec71e8a04c3dc91e5d093">S_TO_WS</a>);</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2ce46489d09d76d6600f3834a25472e4">skip_thing</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, 2, <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a0283513cf1fd655e84b06227b76c1509">S_OVER_WS</a>);</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;            }</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;W&#39;</span>)</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2ce46489d09d76d6600f3834a25472e4">skip_thing</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, 1, <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a7de52873ec9f71888a746f2337df20c6">S_BEFORE_WS</a>);</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:           <span class="comment">// C- Change to e-o-l</span></div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:           <span class="comment">// D- delete to e-o-l</span></div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;        save_dot = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>;</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#afed4e62bb2e16b9614d2245177e49e1c">dollar_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>); <span class="comment">// move to before NL</span></div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;        <span class="comment">// copy text into a register and delete</span></div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a012a4ed72fe7b7da3abae82c63854851">yank_delete</a>(save_dot, <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159">PARTIAL</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26adc08ce18342637f2c8099493de7377a5">YANKDEL</a>, ALLOW_UNDO); <span class="comment">// delete to e-o-l</span></div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;C&#39;</span>)</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;            <span class="keywordflow">goto</span> dc_i;  <span class="comment">// start inserting</span></div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_DOT_CMD</span></div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;D&#39;</span>)</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a>();    <span class="comment">// stop adding to q</span></div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>: <span class="comment">// &#39;gg&#39; goto a line number (vim) (default: very first line)</span></div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;        c1 = <a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>();</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;        <span class="keywordflow">if</span> (c1 != <span class="charliteral">&#39;g&#39;</span>) {</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[0] = <span class="charliteral">&#39;g&#39;</span>;</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;            <span class="comment">// c1 &lt; 0 if the key was special. Try &quot;g&lt;up-arrow&gt;&quot;</span></div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;            <span class="comment">// TODO: if Unicode?</span></div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[1] = (c1 &gt;= 0 ? c1 : <span class="charliteral">&#39;*&#39;</span>);</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[2] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a4e781a4da224422617f1d7e6d6353b9f">not_implemented</a>(<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>);</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a2a3a3679b4c255ea5824f382746fd696">cmd_error</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;        }</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> == 0)</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> = 1;</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;        <span class="comment">// fall through</span></div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;G&#39;</span>:       <span class="comment">// G- goto to a line number (default= E-O-F)</span></div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1;              <span class="comment">// assume E-O-F</span></div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0) {</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a290787ec170e01cbd8defae6ef2fe08e">find_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a>);    <span class="comment">// what line is #cmdcnt</span></div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;        }</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a>();</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;H&#39;</span>:           <span class="comment">// H- goto top line on screen</span></div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>;</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; (<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 1)) {</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> = (<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 1);</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;        }</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;        <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0) {</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ad4c1ee23a97ff4a90d9fc9723c848343">dot_next</a>();</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;        }</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a>();</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>:           <span class="comment">// I- insert before first non-blank</span></div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a>();    <span class="comment">// 0</span></div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;        <span class="comment">//**** fall through to ... &#39;i&#39;</span></div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:           <span class="comment">// i- insert before current char</span></div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66abc4092b2303177529b4469ee6beefe6e">KEYCODE_INSERT</a>:    <span class="comment">// Cursor Key Insert</span></div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160; dc_i:</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a1c43ce4d9721b44116befccf5ebbeb5e">newindent</a> = -1;</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> = 1;   <span class="comment">// start inserting</span></div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();    <span class="comment">// commit queue when cmd_mode changes</span></div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;J&#39;</span>:           <span class="comment">// J- join current and next lines together</span></div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a794d3dbac057bc5d52089c5cccfd1ada">dot_end</a>();      <span class="comment">// move to NL</span></div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1) {    <span class="comment">// make sure not last char in text[]</span></div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;                undo_push(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, 1, UNDO_DEL);</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;                *<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>++ = <span class="charliteral">&#39; &#39;</span>;   <span class="comment">// replace NL with space</span></div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;                undo_push((<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> - 1), 1, UNDO_INS_CHAIN);</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;                *<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>++ = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a>++;</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;                <span class="keywordflow">while</span> (<a class="code" href="../../dd/d09/syntax_8h.html#ad9bfbdeef8c6f05cee294530b92547bf">isblank</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>)) { <span class="comment">// delete leading WS</span></div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, ALLOW_UNDO_CHAIN);</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;                }</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;            }</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a>();    <span class="comment">// stop adding to q</span></div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;L&#39;</span>:           <span class="comment">// L- goto bottom line on screen</span></div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a17e2d56f2a97a8bd72844e70fb6cffc2">end_screen</a>();</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; (<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 1)) {</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> = (<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 1);</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;        }</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;        <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0) {</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a1d0c8dbe821cefc2e3dab6007949fd42">dot_prev</a>();</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;        }</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a>();</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>:           <span class="comment">// M- goto middle line on screen</span></div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>;</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = 0; <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &lt; (<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a>-1) / 2; <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>++)</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>:           <span class="comment">// O- open an empty line above</span></div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a>();</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;        <span class="comment">// special case: use indent of current line</span></div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a1c43ce4d9721b44116befccf5ebbeb5e">newindent</a> = <a class="code" href="../../d4/d49/vi_8c.html#a925a179e3def5fac0f162bc3070660c4">get_column</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> + <a class="code" href="../../d4/d49/vi_8c.html#af45225cfcd88fae5e653468c7179b32d">indent_len</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>));</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;        <span class="keywordflow">goto</span> dc3;</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>:           <span class="comment">// o- open an empty line below</span></div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a794d3dbac057bc5d52089c5cccfd1ada">dot_end</a>();</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160; dc3:</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> = 1;   <span class="comment">// switch to insert mode early</span></div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0381cc12de9ffd942a052716417c097a">char_insert</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <span class="charliteral">&#39;\n&#39;</span>, ALLOW_UNDO);</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;O&#39;</span> &amp;&amp; !<a class="code" href="../../d4/d49/vi_8c.html#a454c3daa0eb1551f19a051fcf7e577fc">autoindent</a>) {</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;            <span class="comment">// done in char_insert() for &#39;O&#39;+autoindent</span></div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a1d0c8dbe821cefc2e3dab6007949fd42">dot_prev</a>();</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;        }</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;        <span class="keywordflow">goto</span> dc_i;</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;R&#39;</span>:           <span class="comment">// R- continuous Replace char</span></div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160; dc5:</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> = 2;</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ae7e727a46b4ca854c44fa1c900b08584">rstart</a> = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>;</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a82405ac6fa311db429a08268fea1eea9">KEYCODE_DELETE</a>:</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1)</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a012a4ed72fe7b7da3abae82c63854851">yank_delete</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159">PARTIAL</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26adc08ce18342637f2c8099493de7377a5">YANKDEL</a>, ALLOW_UNDO);</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>:           <span class="comment">// X- delete char before dot</span></div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:           <span class="comment">// x- delete the current char</span></div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:           <span class="comment">// s- substitute the current char</span></div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;        <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = 0;</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;X&#39;</span>)</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;            <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = -1;</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>[<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>] != <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;X&#39;</span>)</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>--;  <span class="comment">// delete prev char</span></div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a012a4ed72fe7b7da3abae82c63854851">yank_delete</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159">PARTIAL</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26adc08ce18342637f2c8099493de7377a5">YANKDEL</a>, allow_undo);  <span class="comment">// delete char</span></div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;                allow_undo = ALLOW_UNDO_CHAIN;</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;            }</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a>();    <span class="comment">// stop adding to q</span></div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;s&#39;</span>)</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;            <span class="keywordflow">goto</span> dc_i;  <span class="comment">// start inserting</span></div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;Z&#39;</span>:           <span class="comment">// Z- if modified, {write}; exit</span></div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;        c1 = <a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>();</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;        <span class="comment">// ZQ means to exit without saving</span></div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;        <span class="keywordflow">if</span> (c1 == <span class="charliteral">&#39;Q&#39;</span>) {</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> = 0;</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;            <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a> = <a class="code" href="../../d4/d49/vi_8c.html#a4e55fb5626444e70dbe569582bfc6a84">cmdline_filecnt</a>;</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;        }</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;        <span class="comment">// ZZ means to save file (if necessary), then exit</span></div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;        <span class="keywordflow">if</span> (c1 != <span class="charliteral">&#39;Z&#39;</span>) {</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;        }</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a>) {</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;            <span class="keywordflow">if</span> (ENABLE_FEATURE_VI_READONLY &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#a387a583ec3c8cb3c426774703d490d12">readonly_mode</a> &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a>) {</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;&#39;%s&#39; is read only&quot;</span>, <a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a>);</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;            }</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;            <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../d4/d49/vi_8c.html#aed30e883a3eaa2707ecd58759a476ca6">file_write</a>(<a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a>, <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1);</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &lt; 0) {</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> == -1)</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;Write error: &quot;</span><a class="code" href="../../d7/dd7/libbb_8h.html#a87af092f4a86dc07fb3f493a036574ae">STRERROR_FMT</a> <a class="code" href="../../d7/dd7/libbb_8h.html#adf1beb18f45b3941040ec3bc203ffb37">STRERROR_ERRNO</a>);</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> == (<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1 - <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> + 1)) {</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> = 0;</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;            }</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> = 0;</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;        }</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;        <span class="comment">// are there other files to edit?</span></div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;        <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> = <a class="code" href="../../d4/d49/vi_8c.html#a4e55fb5626444e70dbe569582bfc6a84">cmdline_filecnt</a> - <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a> - 1;</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> == 0 &amp;&amp; <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a> &gt; 0) {</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> = 1;</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a> = 0;</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a34d865d51c5bf0f08072559f08ca6f4e">last_modified_count</a> = -1;</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;%u more file(s) to edit&quot;</span>, <a class="code" href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a>);</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;        }</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;^&#39;</span>:           <span class="comment">// ^- move to first non-blank on line</span></div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a>();</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:           <span class="comment">// b- back a word</span></div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>:           <span class="comment">// e- end of word</span></div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;        <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a>;</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;b&#39;</span>)</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;            <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ac921ff2cfc571c1d19b0485d7f6926ee">BACK</a>;</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> + <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>) &lt; <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> || (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> + <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>) &gt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1)</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> += <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>;</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>)) {</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2ce46489d09d76d6600f3834a25472e4">skip_thing</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;e&#39;</span>) ? 2 : 1, <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a0283513cf1fd655e84b06227b76c1509">S_OVER_WS</a>);</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;            }</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#a3db1d3e3db557d4493cd4084bce8834c">isalnum</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>) || *<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> == <span class="charliteral">&#39;_&#39;</span>) {</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2ce46489d09d76d6600f3834a25472e4">skip_thing</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, 1, <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a46505f6996b5515edaaa7c2eb5c7fa64">S_END_ALNUM</a>);</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#a02f39718083d6eb8017229cd78ca4421">ispunct</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>)) {</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2ce46489d09d76d6600f3834a25472e4">skip_thing</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, 1, <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aaf3788ac457b09dac5c03864912ca46d">S_END_PUNCT</a>);</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;            }</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:           <span class="comment">// c- change something</span></div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:           <span class="comment">// d- delete something</span></div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>:           <span class="comment">// y- yank   something</span></div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;Y&#39;</span>:           <span class="comment">// Y- Yank a line</span></div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;    {</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;        <span class="keywordtype">int</span> yf = <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26adc08ce18342637f2c8099493de7377a5">YANKDEL</a>;   <span class="comment">// assume either &quot;c&quot; or &quot;d&quot;</span></div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;        <span class="keywordtype">int</span> buftype;</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_VERBOSE_STATUS</span></div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;        <span class="keywordtype">char</span> *savereg = <a class="code" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>[<a class="code" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a>];</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;y&#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;Y&#39;</span>)</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;            yf = <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a5c40e8dae221eebf56a817cb640997f6">YANKONLY</a>;</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;        <span class="comment">// determine range, and whether it spans lines</span></div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;        buftype = <a class="code" href="../../d4/d49/vi_8c.html#a4f7db8a301746863644244734893c06d">find_range</a>(&amp;<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, &amp;q, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;        <span class="keywordflow">if</span> (buftype == -1)  <span class="comment">// invalid range</span></div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;            <span class="keywordflow">goto</span> dc6;</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;        <span class="keywordflow">if</span> (buftype == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e">WHOLE</a>) {</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;            save_dot = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;   <span class="comment">// final cursor position is start of range</span></div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;c&#39;</span>)   <span class="comment">// special case: use indent of current line</span></div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a1c43ce4d9721b44116befccf5ebbeb5e">newindent</a> = <a class="code" href="../../d4/d49/vi_8c.html#a925a179e3def5fac0f162bc3070660c4">get_column</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + <a class="code" href="../../d4/d49/vi_8c.html#af45225cfcd88fae5e653468c7179b32d">indent_len</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>));</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;            q = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(q);</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;        }</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a012a4ed72fe7b7da3abae82c63854851">yank_delete</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, q, buftype, yf, ALLOW_UNDO);   <span class="comment">// delete word</span></div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;        <span class="keywordflow">if</span> (buftype == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e">WHOLE</a>) {</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;c&#39;</span>) {</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_SETOPTS</span></div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> = 1;   <span class="comment">// switch to insert mode early</span></div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0381cc12de9ffd942a052716417c097a">char_insert</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <span class="charliteral">&#39;\n&#39;</span>, ALLOW_UNDO_CHAIN);</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;                <span class="comment">// on the last line of file don&#39;t move to prev line,</span></div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;                <span class="comment">// handled in char_insert() if autoindent is enabled</span></div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> != (<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>-1) &amp;&amp; !<a class="code" href="../../d4/d49/vi_8c.html#a454c3daa0eb1551f19a051fcf7e577fc">autoindent</a>) {</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#a1d0c8dbe821cefc2e3dab6007949fd42">dot_prev</a>();</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;                }</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;d&#39;</span>) {</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a>();</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = save_dot;</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;            }</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;        }</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;        <span class="comment">// if CHANGING, not deleting, start inserting after the delete</span></div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;c&#39;</span>) {</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;            <span class="keywordflow">goto</span> dc_i;  <span class="comment">// start inserting</span></div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;        }</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK &amp;&amp; ENABLE_FEATURE_VI_VERBOSE_STATUS</span></div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;        <span class="comment">// only update status if a yank has actually happened</span></div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>[<a class="code" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a>] != savereg)</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;            yank_status(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;d&#39;</span> ? <span class="stringliteral">&quot;Delete&quot;</span> : <span class="stringliteral">&quot;Yank&quot;</span>, <a class="code" href="../../d4/d49/vi_8c.html#aff5e7d5e615b883b132d7ef1a74beb55">reg</a>[<a class="code" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a>], 1);</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160; dc6:</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a>();    <span class="comment">// stop adding to q</span></div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;    }</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;k&#39;</span>:           <span class="comment">// k- goto prev line, same col</span></div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a4a39425f8ecc8e5dd0b72049df4abc4f">KEYCODE_UP</a>:        <span class="comment">// cursor key Up</span></div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;-&#39;</span>:           <span class="comment">// -- goto prev line</span></div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;        q = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>;</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0e8c259cf056452fe3e5aad83ba754ac">prev_line</a>(q);</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(q)) {</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;                <span class="keywordflow">goto</span> dc1;</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;            }</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;            q = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = q;</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;            <span class="comment">// try to stay in saved column</span></div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a99433a7a79752aa95954d6cd58f30ac3">cindex</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a3074190524afad7b57b77f61b8f2db86">C_END</a> ? <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>) : <a class="code" href="../../d4/d49/vi_8c.html#a2bdae210f1d5f34d58b3f948c5d5129b">move_to_col</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#a99433a7a79752aa95954d6cd58f30ac3">cindex</a>);</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aff6bd83665841f3fd66753c75999d9a4">keep_index</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;        }</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:           <span class="comment">// r- replace the current char with user input</span></div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;        c1 = <a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>();    <span class="comment">// get the replacement char</span></div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;        <span class="keywordflow">if</span> (c1 != 27) {</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>) - <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> &lt; (<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> ?: 1)) {</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;                <span class="keywordflow">goto</span> dc6;</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;            }</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, allow_undo);</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;                allow_undo = ALLOW_UNDO_CHAIN;</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0381cc12de9ffd942a052716417c097a">char_insert</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, c1, allow_undo);</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;            } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ab239ba4a705ee104311c671d6b7099c8">dot_left</a>();</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;        }</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a>();    <span class="comment">// stop adding to q</span></div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>:           <span class="comment">// w- forward a word</span></div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#a3db1d3e3db557d4493cd4084bce8834c">isalnum</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>) || *<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> == <span class="charliteral">&#39;_&#39;</span>) { <span class="comment">// we are on ALNUM</span></div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2ce46489d09d76d6600f3834a25472e4">skip_thing</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, 1, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a46505f6996b5515edaaa7c2eb5c7fa64">S_END_ALNUM</a>);</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#a02f39718083d6eb8017229cd78ca4421">ispunct</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>)) { <span class="comment">// we are on PUNCT</span></div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2ce46489d09d76d6600f3834a25472e4">skip_thing</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, 1, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aaf3788ac457b09dac5c03864912ca46d">S_END_PUNCT</a>);</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;            }</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1)</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>++;      <span class="comment">// move over word</span></div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>)) {</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2ce46489d09d76d6600f3834a25472e4">skip_thing</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, 2, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a0283513cf1fd655e84b06227b76c1509">S_OVER_WS</a>);</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;            }</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>:           <span class="comment">// z-</span></div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;        c1 = <a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>();    <span class="comment">// get the replacement char</span></div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;        <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = 0;</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;        <span class="keywordflow">if</span> (c1 == <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;            <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = (<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 2) / 2;   <span class="comment">// put dot at center</span></div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;        <span class="keywordflow">if</span> (c1 == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;            <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 2; <span class="comment">// put dot at bottom</span></div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);  <span class="comment">// start dot at top</span></div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a1c3eeecb545a51290c3d5b675dc37b7d">dot_scroll</a>(<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>, -1);</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;|&#39;</span>:           <span class="comment">// |- move to column &quot;cmdcnt&quot;</span></div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2bdae210f1d5f34d58b3f948c5d5129b">move_to_col</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> - 1); <span class="comment">// try to move to column</span></div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;~&#39;</span>:           <span class="comment">// ~- flip the case of letters   a-z -&gt; A-Z</span></div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#a195193447efef4f373aff481e14eebea">isalpha</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>)) {</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;                undo_push(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, 1, undo_del);</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;                *<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a8fdce7e252be8578d44a56e216ce77dc">islower</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>) ? <a class="code" href="../../d7/dd7/libbb_8h.html#a7d4384458e05fd7190ac7b978b10afa0">toupper</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>) : <a class="code" href="../../d7/dd7/libbb_8h.html#a113f48c77cbedc6cdb44a29b20a25415">tolower</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;                undo_push(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, 1, UNDO_INS_CHAIN);</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;                undo_del = UNDO_DEL_CHAIN;</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;            }</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#a8fdce7e252be8578d44a56e216ce77dc">islower</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>)) {</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;                *<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a7d4384458e05fd7190ac7b978b10afa0">toupper</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a>++;</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#a23b029464c59ab05cafd35d799019714">isupper</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>)) {</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;                *<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a113f48c77cbedc6cdb44a29b20a25415">tolower</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a>++;</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;            }</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ad99c4fe0d6a2f6e439cffd6f11fd6483">dot_right</a>();</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;        } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#af847082e04ebe9584caf411986c683ca">end_cmd_q</a>();    <span class="comment">// stop adding to q</span></div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;        <span class="comment">//----- The Cursor and Function Keys -----------------------------</span></div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66af5d946e21ae23d3d13d254632a5ef696">KEYCODE_HOME</a>:  <span class="comment">// Cursor Key Home</span></div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a>();</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;        <span class="comment">// The Fn keys could point to do_macro which could translate them</span></div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;    <span class="keywordflow">case</span> KEYCODE_FUN1:  <span class="comment">// Function Key F1</span></div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;    <span class="keywordflow">case</span> KEYCODE_FUN2:  <span class="comment">// Function Key F2</span></div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;    <span class="keywordflow">case</span> KEYCODE_FUN3:  <span class="comment">// Function Key F3</span></div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;    <span class="keywordflow">case</span> KEYCODE_FUN4:  <span class="comment">// Function Key F4</span></div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;    <span class="keywordflow">case</span> KEYCODE_FUN5:  <span class="comment">// Function Key F5</span></div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;    <span class="keywordflow">case</span> KEYCODE_FUN6:  <span class="comment">// Function Key F6</span></div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;    <span class="keywordflow">case</span> KEYCODE_FUN7:  <span class="comment">// Function Key F7</span></div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;    <span class="keywordflow">case</span> KEYCODE_FUN8:  <span class="comment">// Function Key F8</span></div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;    <span class="keywordflow">case</span> KEYCODE_FUN9:  <span class="comment">// Function Key F9</span></div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;    <span class="keywordflow">case</span> KEYCODE_FUN10: <span class="comment">// Function Key F10</span></div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;    <span class="keywordflow">case</span> KEYCODE_FUN11: <span class="comment">// Function Key F11</span></div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;    <span class="keywordflow">case</span> KEYCODE_FUN12: <span class="comment">// Function Key F12</span></div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;    }</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160; </div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160; dc1:</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;    <span class="comment">// if text[] just became empty, add back an empty line</span></div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> == <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>) {</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a0381cc12de9ffd942a052716417c097a">char_insert</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <span class="charliteral">&#39;\n&#39;</span>, NO_UNDO);   <span class="comment">// start empty buf with dummy line</span></div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>;</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;    }</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;    <span class="comment">// it is OK for dot to exactly equal to end, otherwise check dot validity</span></div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> != <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>) {</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#af05e9768f0fb1258630e7b044341a87c">bound_dot</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);   <span class="comment">// make sure &quot;dot&quot; is valid</span></div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;    }</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> != orig_dot)</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;        check_context(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);   <span class="comment">// update the current context</span></div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160; </div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>))</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> = 0;     <span class="comment">// cmd was not a number, reset cmdcnt</span></div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;    <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> - <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;    <span class="comment">// Try to stay off of the Newline</span></div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> == <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &gt; 0 &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> == 0)</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>--;</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;}</div>
<div class="ttc" id="add_8c_html_aca953b4d1629f79e7c2e9a5f9ae30c69"><div class="ttname"><a href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a></div><div class="ttdeci">#define skip</div></div>
<div class="ttc" id="alibbb_8h_html_a02f39718083d6eb8017229cd78ca4421"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a02f39718083d6eb8017229cd78ca4421">ispunct</a></div><div class="ttdeci">#define ispunct(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02458">libbb.h:2458</a></div></div>
<div class="ttc" id="alibbb_8h_html_a113f48c77cbedc6cdb44a29b20a25415"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a113f48c77cbedc6cdb44a29b20a25415">tolower</a></div><div class="ttdeci">#define tolower(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02486">libbb.h:2486</a></div></div>
<div class="ttc" id="alibbb_8h_html_a195193447efef4f373aff481e14eebea"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a195193447efef4f373aff481e14eebea">isalpha</a></div><div class="ttdeci">#define isalpha(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02450">libbb.h:2450</a></div></div>
<div class="ttc" id="alibbb_8h_html_a23b029464c59ab05cafd35d799019714"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a23b029464c59ab05cafd35d799019714">isupper</a></div><div class="ttdeci">#define isupper(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02448">libbb.h:2448</a></div></div>
<div class="ttc" id="alibbb_8h_html_a3db1d3e3db557d4493cd4084bce8834c"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a3db1d3e3db557d4493cd4084bce8834c">isalnum</a></div><div class="ttdeci">#define isalnum(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02460">libbb.h:2460</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4d828f2f187169b160c384cde2d0b0b0"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4d828f2f187169b160c384cde2d0b0b0">xasprintf</a></div><div class="ttdeci">char * xasprintf(const char *format,...) __attribute__((format(printf</div></div>
<div class="ttc" id="alibbb_8h_html_a4f79453548dc20926be4b5a000ecbd66a23afbaf7b924aaaffbe06a99745cbd6a"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a23afbaf7b924aaaffbe06a99745cbd6a">KEYCODE_END</a></div><div class="ttdeci">@ KEYCODE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01855">libbb.h:1855</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4f79453548dc20926be4b5a000ecbd66a2a87ecdfccd6376e92551956e3398a4d"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a2a87ecdfccd6376e92551956e3398a4d">KEYCODE_LEFT</a></div><div class="ttdeci">@ KEYCODE_LEFT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01853">libbb.h:1853</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4f79453548dc20926be4b5a000ecbd66a4a39425f8ecc8e5dd0b72049df4abc4f"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a4a39425f8ecc8e5dd0b72049df4abc4f">KEYCODE_UP</a></div><div class="ttdeci">@ KEYCODE_UP</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01850">libbb.h:1850</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4f79453548dc20926be4b5a000ecbd66a61f5c2ce8b0281510d109c3c7eb10983"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a61f5c2ce8b0281510d109c3c7eb10983">KEYCODE_PAGEDOWN</a></div><div class="ttdeci">@ KEYCODE_PAGEDOWN</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01859">libbb.h:1859</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4f79453548dc20926be4b5a000ecbd66a82405ac6fa311db429a08268fea1eea9"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a82405ac6fa311db429a08268fea1eea9">KEYCODE_DELETE</a></div><div class="ttdeci">@ KEYCODE_DELETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01857">libbb.h:1857</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4f79453548dc20926be4b5a000ecbd66a969efe3dbdba07ba64976390e9d435ee"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a969efe3dbdba07ba64976390e9d435ee">KEYCODE_RIGHT</a></div><div class="ttdeci">@ KEYCODE_RIGHT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01852">libbb.h:1852</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4f79453548dc20926be4b5a000ecbd66abc4092b2303177529b4469ee6beefe6e"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66abc4092b2303177529b4469ee6beefe6e">KEYCODE_INSERT</a></div><div class="ttdeci">@ KEYCODE_INSERT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01856">libbb.h:1856</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4f79453548dc20926be4b5a000ecbd66abdabde36148817315cde173567bf4945"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66abdabde36148817315cde173567bf4945">KEYCODE_PAGEUP</a></div><div class="ttdeci">@ KEYCODE_PAGEUP</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01858">libbb.h:1858</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4f79453548dc20926be4b5a000ecbd66adc69d40be65a8e4518771039339d1e57"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66adc69d40be65a8e4518771039339d1e57">KEYCODE_DOWN</a></div><div class="ttdeci">@ KEYCODE_DOWN</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01851">libbb.h:1851</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4f79453548dc20926be4b5a000ecbd66af5d946e21ae23d3d13d254632a5ef696"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66af5d946e21ae23d3d13d254632a5ef696">KEYCODE_HOME</a></div><div class="ttdeci">@ KEYCODE_HOME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01854">libbb.h:1854</a></div></div>
<div class="ttc" id="alibbb_8h_html_a7d4384458e05fd7190ac7b978b10afa0"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a7d4384458e05fd7190ac7b978b10afa0">toupper</a></div><div class="ttdeci">#define toupper(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02478">libbb.h:2478</a></div></div>
<div class="ttc" id="alibbb_8h_html_a8fdce7e252be8578d44a56e216ce77dc"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a8fdce7e252be8578d44a56e216ce77dc">islower</a></div><div class="ttdeci">#define islower(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02449">libbb.h:2449</a></div></div>
<div class="ttc" id="alibbb_8h_html_aefb5fe894e4d5f0e52d5853f99200d96"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a></div><div class="ttdeci">#define isdigit(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l02447">libbb.h:2447</a></div></div>
<div class="ttc" id="amusl_2src_2prng_2random_8c_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="../../dc/da2/musl_2src_2prng_2random_8c.html#a37d972ae0b47b9099e30983131d31916">j</a></div><div class="ttdeci">static int j</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da2/musl_2src_2prng_2random_8c_source.html#l00024">random.c:24</a></div></div>
<div class="ttc" id="arunsv_8c_html_ad45ef284071e5bd5627127837e94bc27"><div class="ttname"><a href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a></div><div class="ttdeci">#define dir</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dde/runsv_8c_source.html#l00121">runsv.c:121</a></div></div>
<div class="ttc" id="avi_8c_html_a0381cc12de9ffd942a052716417c097a"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a0381cc12de9ffd942a052716417c097a">char_insert</a></div><div class="ttdeci">#define char_insert(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l02115">vi.c:2115</a></div></div>
<div class="ttc" id="avi_8c_html_a17e2d56f2a97a8bd72844e70fb6cffc2"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a17e2d56f2a97a8bd72844e70fb6cffc2">end_screen</a></div><div class="ttdeci">static char * end_screen(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00739">vi.c:739</a></div></div>
<div class="ttc" id="avi_8c_html_a1c3eeecb545a51290c3d5b675dc37b7d"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a1c3eeecb545a51290c3d5b675dc37b7d">dot_scroll</a></div><div class="ttdeci">static void dot_scroll(int cnt, int dir)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01895">vi.c:1895</a></div></div>
<div class="ttc" id="avi_8c_html_a1d0c8dbe821cefc2e3dab6007949fd42"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a1d0c8dbe821cefc2e3dab6007949fd42">dot_prev</a></div><div class="ttdeci">static void dot_prev(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01855">vi.c:1855</a></div></div>
<div class="ttc" id="avi_8c_html_a2a3a3679b4c255ea5824f382746fd696"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2a3a3679b4c255ea5824f382746fd696">cmd_error</a></div><div class="ttdeci">#define cmd_error</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00514">vi.c:514</a></div></div>
<div class="ttc" id="avi_8c_html_a2bdae210f1d5f34d58b3f948c5d5129b"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2bdae210f1d5f34d58b3f948c5d5129b">move_to_col</a></div><div class="ttdeci">static char * move_to_col(char *p, int l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01835">vi.c:1835</a></div></div>
<div class="ttc" id="avi_8c_html_a2ce46489d09d76d6600f3834a25472e4"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a2ce46489d09d76d6600f3834a25472e4">skip_thing</a></div><div class="ttdeci">static char * skip_thing(char *p, int linecnt, int dir, int type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l03491">vi.c:3491</a></div></div>
<div class="ttc" id="avi_8c_html_a309ee9a471190f59d4573964ba110fb3"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a309ee9a471190f59d4573964ba110fb3">lmc_len</a></div><div class="ttdeci">#define lmc_len</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00507">vi.c:507</a></div></div>
<div class="ttc" id="avi_8c_html_a35ea55298a5b0aea3735d429640ca572"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a35ea55298a5b0aea3735d429640ca572">dot_begin</a></div><div class="ttdeci">static void dot_begin(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01823">vi.c:1823</a></div></div>
<div class="ttc" id="avi_8c_html_a396a2ab0882a1bb635892a7857d5168e"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a396a2ab0882a1bb635892a7857d5168e">get_input_line</a></div><div class="ttdeci">static char * get_input_line(const char *prompt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01204">vi.c:1204</a></div></div>
<div class="ttc" id="avi_8c_html_a3d691545b0775d09f5585c1c10ebdb76"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a></div><div class="ttdeci">#define mark</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00523">vi.c:523</a></div></div>
<div class="ttc" id="avi_8c_html_a49ded8ca0547d8b80ee00fa1b0ab267a"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a49ded8ca0547d8b80ee00fa1b0ab267a">redraw</a></div><div class="ttdeci">static void redraw(int full_screen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01087">vi.c:1087</a></div></div>
<div class="ttc" id="avi_8c_html_a4f7db8a301746863644244734893c06d"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a4f7db8a301746863644244734893c06d">find_range</a></div><div class="ttdeci">static int find_range(char **start, char **stop, int cmd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l03558">vi.c:3558</a></div></div>
<div class="ttc" id="avi_8c_html_a5151aa6f3e9c236a5d0b0c29a3649ea2"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a5151aa6f3e9c236a5d0b0c29a3649ea2">find_pair</a></div><div class="ttdeci">static char * find_pair(char *p, const char c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l02044">vi.c:2044</a></div></div>
<div class="ttc" id="avi_8c_html_a59d7320ed3de0137dde51b0f0e0d9f52"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a></div><div class="ttdeci">#define screenbegin</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00494">vi.c:494</a></div></div>
<div class="ttc" id="avi_8c_html_a5b7ee56b477ef4822c69bbdbf774f6b7"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a5b7ee56b477ef4822c69bbdbf774f6b7">regtype</a></div><div class="ttdeci">#define regtype</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00522">vi.c:522</a></div></div>
<div class="ttc" id="avi_8c_html_a709f915a8f591c9ec3208128ee246b89"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a></div><div class="ttdeci">#define rows</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00482">vi.c:482</a></div></div>
<div class="ttc" id="avi_8c_html_a794d3dbac057bc5d52089c5cccfd1ada"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a794d3dbac057bc5d52089c5cccfd1ada">dot_end</a></div><div class="ttdeci">static void dot_end(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01829">vi.c:1829</a></div></div>
<div class="ttc" id="avi_8c_html_a813c72457c5d09815635bd437c397d84"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a813c72457c5d09815635bd437c397d84">dotcnt</a></div><div class="ttdeci">#define dotcnt</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00510">vi.c:510</a></div></div>
<div class="ttc" id="avi_8c_html_a99433a7a79752aa95954d6cd58f30ac3"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a99433a7a79752aa95954d6cd58f30ac3">cindex</a></div><div class="ttdeci">#define cindex</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00526">vi.c:526</a></div></div>
<div class="ttc" id="avi_8c_html_ab239ba4a705ee104311c671d6b7099c8"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ab239ba4a705ee104311c671d6b7099c8">dot_left</a></div><div class="ttdeci">static void dot_left(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01809">vi.c:1809</a></div></div>
<div class="ttc" id="avi_8c_html_ac90e98b4c94ada16d3aa63a977708fb2"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ac90e98b4c94ada16d3aa63a977708fb2">ioq_start</a></div><div class="ttdeci">#define ioq_start</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00509">vi.c:509</a></div></div>
<div class="ttc" id="avi_8c_html_ad4c1ee23a97ff4a90d9fc9723c848343"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ad4c1ee23a97ff4a90d9fc9723c848343">dot_next</a></div><div class="ttdeci">static void dot_next(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01849">vi.c:1849</a></div></div>
<div class="ttc" id="avi_8c_html_ad5cac8f38e4e6ed68e19fe8c4b7bd80d"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ad5cac8f38e4e6ed68e19fe8c4b7bd80d">dot_to_char</a></div><div class="ttdeci">static void dot_to_char(int cmd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01868">vi.c:1868</a></div></div>
<div class="ttc" id="avi_8c_html_ad753fe263484b1e27f01b1c9ffe42896"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ad753fe263484b1e27f01b1c9ffe42896">show_status_line</a></div><div class="ttdeci">static void show_status_line(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01324">vi.c:1324</a></div></div>
<div class="ttc" id="avi_8c_html_ad99c4fe0d6a2f6e439cffd6f11fd6483"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ad99c4fe0d6a2f6e439cffd6f11fd6483">dot_right</a></div><div class="ttdeci">static void dot_right(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01816">vi.c:1816</a></div></div>
<div class="ttc" id="avi_8c_html_ae156b770d4caef33210b1de701d446b8"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ae156b770d4caef33210b1de701d446b8">last_search_char</a></div><div class="ttdeci">#define last_search_char</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00496">vi.c:496</a></div></div>
<div class="ttc" id="avi_8c_html_ae556635fc5c6909f10335ba1e80fc52d"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ae556635fc5c6909f10335ba1e80fc52d">last_modifying_cmd</a></div><div class="ttdeci">#define last_modifying_cmd</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00531">vi.c:531</a></div></div>
<div class="ttc" id="avi_8c_html_aefc21967b64a6738747dd0f4aab3bab5"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aefc21967b64a6738747dd0f4aab3bab5">last_search_cmd</a></div><div class="ttdeci">#define last_search_cmd</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00497">vi.c:497</a></div></div>
<div class="ttc" id="avi_8c_html_af3aaffa8bcb1e8c470cffdfe2d57d538"><div class="ttname"><a href="../../d4/d49/vi_8c.html#af3aaffa8bcb1e8c470cffdfe2d57d538">ioq</a></div><div class="ttdeci">#define ioq</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00508">vi.c:508</a></div></div>
<div class="ttc" id="avi_8c_html_af66faaba423ea9e70473243c419593dc"><div class="ttname"><a href="../../d4/d49/vi_8c.html#af66faaba423ea9e70473243c419593dc">colon</a></div><div class="ttdeci">static void colon(char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l02790">vi.c:2790</a></div></div>
<div class="ttc" id="avi_8c_html_afed4e62bb2e16b9614d2245177e49e1c"><div class="ttname"><a href="../../d4/d49/vi_8c.html#afed4e62bb2e16b9614d2245177e49e1c">dollar_line</a></div><div class="ttdeci">static char * dollar_line(char *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00712">vi.c:712</a></div></div>
<div class="ttc" id="avi_8c_html_aff6bd83665841f3fd66753c75999d9a4"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aff6bd83665841f3fd66753c75999d9a4">keep_index</a></div><div class="ttdeci">#define keep_index</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00527">vi.c:527</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00322">autoindent</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00272">BACK</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">begin_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01920">bound_dot()</a>, <a class="el" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00285">C_END</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02115">char_insert</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00526">cindex</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00514">cmd_error</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00476">cmd_mode</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00480">cmdcnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00479">cmdline_filecnt</a>, <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00317">cnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00753">count_lines()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00490">current_filename</a>, <a class="el" href="../../df/dde/runsv_8c_source.html#l00121">dir</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00712">dollar_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01823">dot_begin()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01829">dot_end()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01809">dot_left()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01849">dot_next()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01855">dot_prev()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01816">dot_right()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01895">dot_scroll()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01861">dot_skip_over_ws()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01868">dot_to_char()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00510">dotcnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00475">editing</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01950">end_cmd_q</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00702">end_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00739">end_screen()</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02357">file_write()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00774">find_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02044">find_pair()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03558">find_range()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00271">FORWARD</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00274">FULL</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00803">get_column()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01204">get_input_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01179">get_one_char</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02105">indent_len()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01107">indicate_error()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00508">ioq</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00509">ioq_start</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02460">isalnum</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02450">isalpha</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00227">isbackspace</a>, <a class="el" href="../../dd/d09/syntax_8h_source.html#l00103">isblank</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02447">isdigit</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02449">islower</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00222">Isprint</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02458">ispunct</a>, <a class="el" href="../../d4/dcb/chartypes_8h_source.html#l00041">isspace</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02448">isupper</a>, <a class="el" href="../../dc/da2/musl_2src_2prng_2random_8c_source.html#l00024">j</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00527">keep_index</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01857">KEYCODE_DELETE</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01851">KEYCODE_DOWN</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01855">KEYCODE_END</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01854">KEYCODE_HOME</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01856">KEYCODE_INSERT</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01853">KEYCODE_LEFT</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01859">KEYCODE_PAGEDOWN</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01858">KEYCODE_PAGEUP</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01852">KEYCODE_RIGHT</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01850">KEYCODE_UP</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00478">last_modified_count</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00531">last_modifying_cmd</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00496">last_search_char</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00497">last_search_cmd</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00511">last_search_pattern</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00489">last_status_cksum</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00507">lmc_len</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00523">mark</a>, <a class="el" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c_source.html#l00022">memset()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00477">modified_count</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01835">move_to_col()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00513">newindent</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00730">next_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01408">not_implemented()</a>, <a class="el" href="../../d9/d14/general_8h_source.html#l00053">NULL</a>, <a class="el" href="../../d7/dee/musl_2src_2misc_2getopt_8c_source.html#l00011">optind</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00275">PARTIAL</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00721">prev_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00504">readonly_mode</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01087">redraw()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00472">reg</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00522">regtype</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00482">rows</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00481">rstart</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00279">S_BEFORE_WS</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00283">S_END_ALNUM</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00282">S_END_PUNCT</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00281">S_OVER_WS</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00280">S_TO_WS</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00494">screenbegin</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01324">show_status_line()</a>, <a class="el" href="../../d2/dd6/dd_8c.html#aca953b4d1629f79e7c2e9a5f9ae30c69">skip</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03491">skip_thing()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01362">status_line_bold()</a>, <a class="el" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l00176">STRERROR_ERRNO</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l00175">STRERROR_FMT</a>, <a class="el" href="../../d1/db0/string_8c_source.html#l00005">strlen()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00495">tabstop</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01530">text_hole_delete</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02486">tolower</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02478">toupper</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01805">undo_queue_commit</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00276">WHOLE</a>, <a class="el" href="../../d7/dd7/libbb_8h.html#a4d828f2f187169b160c384cde2d0b0b0">xasprintf()</a>, <a class="el" href="../../dc/dd1/pathchk_8c_source.html#l00258">xstrdup()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01956">yank_delete</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00270">YANKDEL</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00269">YANKONLY</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00520">YDreg</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l03558">find_range()</a>.</p>

</div>
</div>
<a id="afed4e62bb2e16b9614d2245177e49e1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed4e62bb2e16b9614d2245177e49e1c">&#9670;&nbsp;</a></span>dollar_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* dollar_line </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00712">712</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;{</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">// Try to stay off of the Newline</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)) &gt; 0)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>--;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">begin_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00702">end_line()</a>, and <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="a35ea55298a5b0aea3735d429640ca572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35ea55298a5b0aea3735d429640ca572">&#9670;&nbsp;</a></span>dot_begin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dot_begin </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01823">1823</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;{</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);  <span class="comment">// return pointer to first char cur line</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">begin_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01805">undo_queue_commit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="a794d3dbac057bc5d52089c5cccfd1ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a794d3dbac057bc5d52089c5cccfd1ada">&#9670;&nbsp;</a></span>dot_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dot_end </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01829">1829</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;{</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);    <span class="comment">// return pointer to last char cur line</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00702">end_line()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01805">undo_queue_commit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="ab239ba4a705ee104311c671d6b7099c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab239ba4a705ee104311c671d6b7099c8">&#9670;&nbsp;</a></span>dot_left()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dot_left </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01809">1809</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;{</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> &gt; <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>[-1] != <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>--;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01805">undo_queue_commit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01868">dot_to_char()</a>.</p>

</div>
</div>
<a id="ad4c1ee23a97ff4a90d9fc9723c848343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4c1ee23a97ff4a90d9fc9723c848343">&#9670;&nbsp;</a></span>dot_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dot_next </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01849">1849</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;{</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00730">next_line()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01805">undo_queue_commit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="a1d0c8dbe821cefc2e3dab6007949fd42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d0c8dbe821cefc2e3dab6007949fd42">&#9670;&nbsp;</a></span>dot_prev()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dot_prev </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01855">1855</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;{</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0e8c259cf056452fe3e5aad83ba754ac">prev_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00721">prev_line()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01805">undo_queue_commit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="ad99c4fe0d6a2f6e439cffd6f11fd6483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad99c4fe0d6a2f6e439cffd6f11fd6483">&#9670;&nbsp;</a></span>dot_right()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dot_right </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01816">1816</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;{</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1 &amp;&amp; *<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> != <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>++;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01805">undo_queue_commit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01868">dot_to_char()</a>.</p>

</div>
</div>
<a id="a1c3eeecb545a51290c3d5b675dc37b7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c3eeecb545a51290c3d5b675dc37b7d">&#9670;&nbsp;</a></span>dot_scroll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dot_scroll </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01895">1895</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;{</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160; </div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ac0e0c69941abe84b62d1b5881f6ba461">undo_queue_commit</a>();</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &gt; 0; <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>--) {</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> &lt; 0) {</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            <span class="comment">// scroll Backwards</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            <span class="comment">// ctrl-Y scroll up one line</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0e8c259cf056452fe3e5aad83ba754ac">prev_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            <span class="comment">// scroll Forwards</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            <span class="comment">// ctrl-E scroll down one line</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a> = <a class="code" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>);</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        }</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    }</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="comment">// make sure &quot;dot&quot; stays on the screen so we dont scroll off</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>)</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    q = <a class="code" href="../../d4/d49/vi_8c.html#a17e2d56f2a97a8bd72844e70fb6cffc2">end_screen</a>();   <span class="comment">// find new bottom line</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> &gt; q)</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(q);    <span class="comment">// is dot is below bottom line?</span></div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#abcf981355a37fc7a87050f020f4c8146">dot_skip_over_ws</a>();</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">begin_line()</a>, <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00317">cnt</a>, <a class="el" href="../../df/dde/runsv_8c_source.html#l00121">dir</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01861">dot_skip_over_ws()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00739">end_screen()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00730">next_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00721">prev_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00494">screenbegin</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01805">undo_queue_commit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="abcf981355a37fc7a87050f020f4c8146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcf981355a37fc7a87050f020f4c8146">&#9670;&nbsp;</a></span>dot_skip_over_ws()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dot_skip_over_ws </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01861">1861</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;{</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="comment">// skip WS</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>) &amp;&amp; *<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1)</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>++;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, and <a class="el" href="../../d4/dcb/chartypes_8h_source.html#l00041">isspace</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01895">dot_scroll()</a>.</p>

</div>
</div>
<a id="ad5cac8f38e4e6ed68e19fe8c4b7bd80d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5cac8f38e4e6ed68e19fe8c4b7bd80d">&#9670;&nbsp;</a></span>dot_to_char()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dot_to_char </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01868">1868</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;{</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="keywordtype">char</span> *q = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a8fdce7e252be8578d44a56e216ce77dc">islower</a>(<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a>) ? <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a> : <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26ac921ff2cfc571c1d19b0485d7f6926ee">BACK</a>;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160; </div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ae156b770d4caef33210b1de701d446b8">last_search_char</a> == 0)</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160; </div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            q += <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aa26736999186daf8146f809e863712a1">FORWARD</a> ? q &gt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1 : q &lt; <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>) || *q == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;            }</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        } <span class="keywordflow">while</span> (*q != <a class="code" href="../../d4/d49/vi_8c.html#ae156b770d4caef33210b1de701d446b8">last_search_char</a>);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    } <span class="keywordflow">while</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0);</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160; </div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = q;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160; </div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="comment">// place cursor before/after char as required</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> == <span class="charliteral">&#39;t&#39;</span>)</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ab239ba4a705ee104311c671d6b7099c8">dot_left</a>();</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> == <span class="charliteral">&#39;T&#39;</span>)</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad99c4fe0d6a2f6e439cffd6f11fd6483">dot_right</a>();</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00272">BACK</a>, <a class="el" href="../../d0/d6d/run__parts_8c_source.html#l00100">cmd</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00480">cmdcnt</a>, <a class="el" href="../../df/dde/runsv_8c_source.html#l00121">dir</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01809">dot_left()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01816">dot_right()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00271">FORWARD</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01107">indicate_error()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02449">islower</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00496">last_search_char</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="ad2f007b850625c809edc8ef751de80cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2f007b850625c809edc8ef751de80cc">&#9670;&nbsp;</a></span>edit_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void edit_file </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">4801</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;{</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;<span class="preprocessor">#define cur_line edit_file__cur_line</span></div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_USE_SIGNALS</span></div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;    <span class="keywordtype">int</span> sig;</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160; </div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> = 1;    <span class="comment">// 0 = exit, 1 = one file, 2 = multiple files</span></div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a618f0d730a2df27e73abdb2e37f7e85c">rawmode</a>();</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> = 24;</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> = 80;</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;    IF_FEATURE_VI_ASK_TERMINAL(<a class="code" href="../../d4/d49/vi_8c.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>.get_rowcol_error =) <a class="code" href="../../d4/d49/vi_8c.html#a51a8f4bda6d5cbd321425bf13a1ff94f">query_screen_dimensions</a>();</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_ASK_TERMINAL</span></div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>.get_rowcol_error <span class="comment">/* TODO? &amp;&amp; no input on stdin */</span>) {</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;        <a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a> <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a13b230ea1d237595fb236c951a0849e0">k</a>;</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<a class="code" href="../../d4/d49/vi_8c.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a><span class="stringliteral">&quot;[999;999H&quot;</span> <a class="code" href="../../d4/d49/vi_8c.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a><span class="stringliteral">&quot;[6n&quot;</span>);</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a8f037f44db72dcde4db67b3cb5dee815">fflush_all</a>();</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;        <a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a13b230ea1d237595fb236c951a0849e0">k</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#ae52beb56eb034c5bef3f4812c33ecc80">safe_read_key</a>(<a class="code" href="../../d6/d4f/excallback_8c.html#afcf80a6d91178952d107ad00b165752b">STDIN_FILENO</a>, <a class="code" href="../../d4/d49/vi_8c.html#a091d89b956341a32222130bfcf73b297">readbuffer</a>, <span class="comment">/*timeout_ms:*/</span> 100);</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0c18914b3041c2f583aba76f418399c2">int32_t</a>)<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a13b230ea1d237595fb236c951a0849e0">k</a> == <a class="code" href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a05a4afd4d60b8b238f3d988cf2b16663">KEYCODE_CURSOR_POS</a>) {</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;            <a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a> <a class="code" href="../../d1/dda/sv_8c.html#a9578f88fefb44e6c3f1fb1a83c939855">rc</a> = (<a class="code" href="../../d6/dcc/decompress__gunzip_8c.html#a13b230ea1d237595fb236c951a0849e0">k</a> &gt;&gt; 32);</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> = (<a class="code" href="../../d1/dda/sv_8c.html#a9578f88fefb44e6c3f1fb1a83c939855">rc</a> &amp; 0x7fff);</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> &gt; <a class="code" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5abb1ca5ad427ca4e64f60c29dec23ce5c">MAX_SCR_COLS</a>)</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> = <a class="code" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5abb1ca5ad427ca4e64f60c29dec23ce5c">MAX_SCR_COLS</a>;</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> = ((<a class="code" href="../../d1/dda/sv_8c.html#a9578f88fefb44e6c3f1fb1a83c939855">rc</a> &gt;&gt; 16) &amp; 0x7fff);</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> &gt; <a class="code" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5aa921d0cdd90f0fd5e62c7b3afd19c9db">MAX_SCR_ROWS</a>)</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> = <a class="code" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5aa921d0cdd90f0fd5e62c7b3afd19c9db">MAX_SCR_ROWS</a>;</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;        }</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;    }</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#aad674bf5c7dbc9eba3ed14f2a06d064b">new_screen</a>(<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a>, <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a>);  <span class="comment">// get memory for virtual screen</span></div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a086ccc9748e09f107642b4d8f12f0986">init_text_buffer</a>(fn);</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160; </div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a> = 26;         <span class="comment">// default Yank/Delete reg</span></div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;<span class="comment">//  Ureg = 27; - const      // hold orig line for &quot;U&quot; cmd</span></div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>[26] = <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>[27] = <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>; <span class="comment">// init &quot;previous context&quot;</span></div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160; </div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_CRASHME</span></div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;    last_input_char = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a9a8c5c0c3e9f5d391a53f4ff60125ddf">crow</a> = 0;</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a973859d8182591b126603d6b61fd10e5">ccol</a> = 0;</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160; </div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_USE_SIGNALS</span></div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;    <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#a6fc82cd60ac4b31003cf10983a4d5cde">signal</a>(<a class="code" href="../../d0/d43/mconf_8c.html#a13ba0e7c4365813312eb4566907bce4f">SIGWINCH</a>, <a class="code" href="../../d0/d43/mconf_8c.html#a97ef9c79456321e73a23eaeb2a8972a3">winch_handler</a>);</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;    <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#a6fc82cd60ac4b31003cf10983a4d5cde">signal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#abe65c086e01f0d286b7a785a7e3cdd1a">SIGTSTP</a>, tstp_handler);</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;    sig = sigsetjmp(<a class="code" href="../../d4/d49/vi_8c.html#af8c7a32b62c2d0375a34ec94ce25d68b">restart</a>, 1);</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;    <span class="keywordflow">if</span> (sig != 0) {</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a> = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>;</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;    }</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;    <span class="comment">// int_handler() can jump to &quot;restart&quot;,</span></div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;    <span class="comment">// must install handler *after* initializing &quot;restart&quot;</span></div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;    <a class="code" href="../../de/d2b/musl_2include_2signal_8h.html#a6fc82cd60ac4b31003cf10983a4d5cde">signal</a>(<a class="code" href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a>, int_handler);</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160; </div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> = 0;       <span class="comment">// 0=command  1=insert  2=&#39;R&#39;eplace</span></div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> = 0;</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a> = 0;         <span class="comment">// no horizontal offset</span></div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_DOT_CMD</span></div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d4/d49/vi_8c.html#ac90e98b4c94ada16d3aa63a977708fb2">ioq_start</a>);</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ac90e98b4c94ada16d3aa63a977708fb2">ioq_start</a> = <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a1a6dca3f82b924523933b5bb5a03e7fd">adding2q</a> = 0;</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160; </div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_COLON</span></div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d4/d49/vi_8c.html#a351cf5915739f33379dcc339cbb796a7">initial_cmds</a>)</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;        run_cmds((<span class="keywordtype">char</span> *)<a class="code" href="../../d7/dd7/libbb_8h.html#ab9294d11217bf4ddf96d4a6e3bdb6475">llist_pop</a>(&amp;<a class="code" href="../../d4/d49/vi_8c.html#a351cf5915739f33379dcc339cbb796a7">initial_cmds</a>));</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a49ded8ca0547d8b80ee00fa1b0ab267a">redraw</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);          <span class="comment">// dont force every col re-draw</span></div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;    <span class="comment">//------This is the main Vi cmd handling loop -----------------------</span></div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d4/d49/vi_8c.html#a58b92a0469f43b8ef5034e21cf946489">editing</a> &gt; 0) {</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_CRASHME</span></div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;        <span class="keywordflow">if</span> (crashme &gt; 0) {</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>) &gt; 1) {</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;                crash_dummy();  <span class="comment">// generate a random command</span></div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;                crashme = 0;</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;                string_insert(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <span class="stringliteral">&quot;\n\n#####  Ran out of text to work on.  #####\n\n&quot;</span>, NO_UNDO);</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>;</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a70132b5539a35c5dd3bf69009246e1d2">refresh</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;            }</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;        }</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>(); <span class="comment">// get a cmd from user</span></div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_CRASHME</span></div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;        last_input_char = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;        <span class="comment">// save a copy of the current line- for the &#39;U&quot; command</span></div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>) != cur_line) {</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;            cur_line = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;            text_yank(<a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>), <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>), Ureg, <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159">PARTIAL</a>);</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;        }</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_DOT_CMD</span></div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;        <span class="comment">// If c is a command that changes text[],</span></div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;        <span class="comment">// (re)start remembering the input for the &quot;.&quot; command.</span></div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d49/vi_8c.html#a1a6dca3f82b924523933b5bb5a03e7fd">adding2q</a></div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;         &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#ac90e98b4c94ada16d3aa63a977708fb2">ioq_start</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;         &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> == 0 <span class="comment">// command mode</span></div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;         &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &gt; <span class="charliteral">&#39;\0&#39;</span> <span class="comment">// exclude NUL and non-ASCII chars</span></div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;         &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &lt; 0x7f <span class="comment">// (Unicode and such)</span></div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;         &amp;&amp; <a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(modifying_cmds, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;        ) {</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;            start_new_cmd_q(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;        }</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad9eaa734aefcfbef7239a3faa6cebca7">do_cmd</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);      <span class="comment">// execute the user command</span></div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160; </div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;        <span class="comment">// poll to see if there is input already waiting. if we are</span></div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;        <span class="comment">// not able to display output fast enough to keep up, skip</span></div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;        <span class="comment">// the display update until we catch up with input.</span></div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d49/vi_8c.html#a091d89b956341a32222130bfcf73b297">readbuffer</a>[0] &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#a6c4b513eb1b04ddf8eedde2fbceee7d1">mysleep</a>(0) == 0) {</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;            <span class="comment">// no input pending - so update output</span></div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a70132b5539a35c5dd3bf69009246e1d2">refresh</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ad753fe263484b1e27f01b1c9ffe42896">show_status_line</a>();</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;        }</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_CRASHME</span></div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;        <span class="keywordflow">if</span> (crashme &gt; 0)</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;            crash_test();   <span class="comment">// test editor variables</span></div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;    }</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;    <span class="comment">//-------------------------------------------------------------------</span></div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160; </div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#aa449f2a9f07e51bbf0e6b1164d6d341c">go_bottom_and_clear_to_eol</a>();</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a04687ece399adb6b65109d746cabd3ea">cookmode</a>();</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;<span class="preprocessor">#undef cur_line</span></div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;}</div>
<div class="ttc" id="adecompress__gunzip_8c_html_a13b230ea1d237595fb236c951a0849e0"><div class="ttname"><a href="../../d6/dcc/decompress__gunzip_8c.html#a13b230ea1d237595fb236c951a0849e0">k</a></div><div class="ttdeci">#define k</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dcc/decompress__gunzip_8c_source.html#l00508">decompress_gunzip.c:508</a></div></div>
<div class="ttc" id="aexcallback_8c_html_afcf80a6d91178952d107ad00b165752b"><div class="ttname"><a href="../../d6/d4f/excallback_8c.html#afcf80a6d91178952d107ad00b165752b">STDIN_FILENO</a></div><div class="ttdeci">#define STDIN_FILENO</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/excallback_8c_source.html#l00062">excallback.c:62</a></div></div>
<div class="ttc" id="alibbb_8h_html_a4f79453548dc20926be4b5a000ecbd66a05a4afd4d60b8b238f3d988cf2b16663"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a4f79453548dc20926be4b5a000ecbd66a05a4afd4d60b8b238f3d988cf2b16663">KEYCODE_CURSOR_POS</a></div><div class="ttdeci">@ KEYCODE_CURSOR_POS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01891">libbb.h:1891</a></div></div>
<div class="ttc" id="alibbb_8h_html_ab9294d11217bf4ddf96d4a6e3bdb6475"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ab9294d11217bf4ddf96d4a6e3bdb6475">llist_pop</a></div><div class="ttdeci">void * llist_pop(llist_t **elm) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de1/llist_8c_source.html#l00035">llist.c:35</a></div></div>
<div class="ttc" id="alibbb_8h_html_ae52beb56eb034c5bef3f4812c33ecc80"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ae52beb56eb034c5bef3f4812c33ecc80">safe_read_key</a></div><div class="ttdeci">int64_t safe_read_key(int fd, char *buffer, int timeout) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d54/read__key_8c_source.html#l00290">read_key.c:290</a></div></div>
<div class="ttc" id="alibc_2include_2inttypes_8h_html_a0a8582351ac627ee8bde2973c825e47f"><div class="ttname"><a href="../../d4/df0/libc_2include_2inttypes_8h.html#a0a8582351ac627ee8bde2973c825e47f">uint32_t</a></div><div class="ttdeci">__UINT32_TYPE__ uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df0/libc_2include_2inttypes_8h_source.html#l00010">inttypes.h:10</a></div></div>
<div class="ttc" id="alibc_2include_2inttypes_8h_html_a0c18914b3041c2f583aba76f418399c2"><div class="ttname"><a href="../../d4/df0/libc_2include_2inttypes_8h.html#a0c18914b3041c2f583aba76f418399c2">int32_t</a></div><div class="ttdeci">__INT32_TYPE__ int32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df0/libc_2include_2inttypes_8h_source.html#l00006">inttypes.h:6</a></div></div>
<div class="ttc" id="alibc_2include_2inttypes_8h_html_a2095b9bffea4b2656950c6c0419edbf1"><div class="ttname"><a href="../../d4/df0/libc_2include_2inttypes_8h.html#a2095b9bffea4b2656950c6c0419edbf1">uint64_t</a></div><div class="ttdeci">__UINT64_TYPE__ uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df0/libc_2include_2inttypes_8h_source.html#l00011">inttypes.h:11</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_a487309e3e9e0527535644115204a639a"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#a487309e3e9e0527535644115204a639a">SIGINT</a></div><div class="ttdeci">#define SIGINT</div><div class="ttdoc">Interrupt from keyboard.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00013">signal.h:13</a></div></div>
<div class="ttc" id="alibc_2include_2signal_8h_html_abe65c086e01f0d286b7a785a7e3cdd1a"><div class="ttname"><a href="../../df/dff/libc_2include_2signal_8h.html#abe65c086e01f0d286b7a785a7e3cdd1a">SIGTSTP</a></div><div class="ttdeci">#define SIGTSTP</div><div class="ttdoc">Stop typed at terminal.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/libc_2include_2signal_8h_source.html#l00067">signal.h:67</a></div></div>
<div class="ttc" id="amconf_8c_html_a13ba0e7c4365813312eb4566907bce4f"><div class="ttname"><a href="../../d0/d43/mconf_8c.html#a13ba0e7c4365813312eb4566907bce4f">SIGWINCH</a></div><div class="ttdeci">#define SIGWINCH</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/mconf_8c_source.html#l00031">mconf.c:31</a></div></div>
<div class="ttc" id="amconf_8c_html_a97ef9c79456321e73a23eaeb2a8972a3"><div class="ttname"><a href="../../d0/d43/mconf_8c.html#a97ef9c79456321e73a23eaeb2a8972a3">winch_handler</a></div><div class="ttdeci">static void winch_handler(int sig)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d43/mconf_8c_source.html#l00453">mconf.c:453</a></div></div>
<div class="ttc" id="amusl_2include_2signal_8h_html_a6fc82cd60ac4b31003cf10983a4d5cde"><div class="ttname"><a href="../../de/d2b/musl_2include_2signal_8h.html#a6fc82cd60ac4b31003cf10983a4d5cde">signal</a></div><div class="ttdeci">void(*)(int) signal(int, void(*)(int))</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2b/musl_2include_2signal_8h_source.html#l00289">signal.h:289</a></div></div>
<div class="ttc" id="asv_8c_html_a9578f88fefb44e6c3f1fb1a83c939855"><div class="ttname"><a href="../../d1/dda/sv_8c.html#a9578f88fefb44e6c3f1fb1a83c939855">rc</a></div><div class="ttdeci">#define rc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dda/sv_8c_source.html#l00210">sv.c:210</a></div></div>
<div class="ttc" id="avi_8c_html_a091d89b956341a32222130bfcf73b297"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a091d89b956341a32222130bfcf73b297">readbuffer</a></div><div class="ttdeci">#define readbuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00529">vi.c:529</a></div></div>
<div class="ttc" id="avi_8c_html_a1a6dca3f82b924523933b5bb5a03e7fd"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a1a6dca3f82b924523933b5bb5a03e7fd">adding2q</a></div><div class="ttdeci">#define adding2q</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00506">vi.c:506</a></div></div>
<div class="ttc" id="avi_8c_html_a351cf5915739f33379dcc339cbb796a7"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a351cf5915739f33379dcc339cbb796a7">initial_cmds</a></div><div class="ttdeci">#define initial_cmds</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00528">vi.c:528</a></div></div>
<div class="ttc" id="avi_8c_html_a4af1b6159e447ba72652bb7fcdfa726e"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a></div><div class="ttdeci">#define ESC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00242">vi.c:242</a></div></div>
<div class="ttc" id="avi_8c_html_a51a8f4bda6d5cbd321425bf13a1ff94f"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a51a8f4bda6d5cbd321425bf13a1ff94f">query_screen_dimensions</a></div><div class="ttdeci">static ALWAYS_INLINE int query_screen_dimensions(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00609">vi.c:609</a></div></div>
<div class="ttc" id="avi_8c_html_a6c4b513eb1b04ddf8eedde2fbceee7d1"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a6c4b513eb1b04ddf8eedde2fbceee7d1">mysleep</a></div><div class="ttdeci">static int mysleep(int hund)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00616">vi.c:616</a></div></div>
<div class="ttc" id="avi_8c_html_a7237396536dfa0df44aa7bd40f5338f1"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a></div><div class="ttdeci">#define columns</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00483">vi.c:483</a></div></div>
<div class="ttc" id="avi_8c_html_a973859d8182591b126603d6b61fd10e5"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a973859d8182591b126603d6b61fd10e5">ccol</a></div><div class="ttdeci">#define ccol</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00485">vi.c:485</a></div></div>
<div class="ttc" id="avi_8c_html_a9a8c5c0c3e9f5d391a53f4ff60125ddf"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a9a8c5c0c3e9f5d391a53f4ff60125ddf">crow</a></div><div class="ttdeci">#define crow</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00484">vi.c:484</a></div></div>
<div class="ttc" id="avi_8c_html_aad674bf5c7dbc9eba3ed14f2a06d064b"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aad674bf5c7dbc9eba3ed14f2a06d064b">new_screen</a></div><div class="ttdeci">static void new_screen(int ro, int co)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00819">vi.c:819</a></div></div>
<div class="ttc" id="avi_8c_html_aae6364a195a181790fe7379c6b44a343"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a></div><div class="ttdeci">#define offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00486">vi.c:486</a></div></div>
<div class="ttc" id="avi_8c_html_ad9eaa734aefcfbef7239a3faa6cebca7"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ad9eaa734aefcfbef7239a3faa6cebca7">do_cmd</a></div><div class="ttdeci">static void do_cmd(int c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l03683">vi.c:3683</a></div></div>
<div class="ttc" id="avi_8c_html_af8c7a32b62c2d0375a34ec94ce25d68b"><div class="ttname"><a href="../../d4/d49/vi_8c.html#af8c7a32b62c2d0375a34ec94ce25d68b">restart</a></div><div class="ttdeci">#define restart</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00524">vi.c:524</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00506">adding2q</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">begin_line()</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00485">ccol</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00476">cmd_mode</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00480">cmdcnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00483">columns</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00635">cookmode()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00484">crow</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00475">editing</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00702">end_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00242">ESC</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00307">fflush_all()</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00467">G</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01179">get_one_char</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00672">go_bottom_and_clear_to_eol()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02307">init_text_buffer()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00528">initial_cmds</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00509">ioq_start</a>, <a class="el" href="../../d6/dcc/decompress__gunzip_8c_source.html#l00508">k</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01891">KEYCODE_CURSOR_POS</a>, <a class="el" href="../../d4/de1/llist_8c_source.html#l00035">llist_pop()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00523">mark</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00235">MAX_SCR_COLS</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00236">MAX_SCR_ROWS</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00616">mysleep()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00819">new_screen()</a>, <a class="el" href="../../d9/d14/general_8h_source.html#l00053">NULL</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00486">offset</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00275">PARTIAL</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00609">query_screen_dimensions()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00629">rawmode()</a>, <a class="el" href="../../d1/dda/sv_8c_source.html#l00210">rc</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00529">readbuffer</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01087">redraw()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00993">refresh()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00524">restart</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00482">rows</a>, <a class="el" href="../../d7/d54/read__key_8c_source.html#l00290">safe_read_key()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00494">screenbegin</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01324">show_status_line()</a>, <a class="el" href="../../df/dff/libc_2include_2signal_8h_source.html#l00013">SIGINT</a>, <a class="el" href="../../de/d2b/musl_2include_2signal_8h_source.html#l00289">signal</a>, <a class="el" href="../../df/dff/libc_2include_2signal_8h_source.html#l00067">SIGTSTP</a>, <a class="el" href="../../d0/d43/mconf_8c_source.html#l00031">SIGWINCH</a>, <a class="el" href="../../d6/d4f/excallback_8c_source.html#l00062">STDIN_FILENO</a>, <a class="el" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>, <a class="el" href="../../d0/d43/mconf_8c_source.html#l00453">winch_handler()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">write1()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00520">YDreg</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l04955">vi_main()</a>.</p>

</div>
</div>
<a id="adbea9b09fa2d326562af1639f370d89f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbea9b09fa2d326562af1639f370d89f">&#9670;&nbsp;</a></span>end_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* end_line </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00702">702</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;{</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1) {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d6/d32/musl_2include_2string_8h.html#a55f618822d3f3615984dcaa02706a314">memchr</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="charliteral">&#39;\n&#39;</span>, <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> - 1);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div>
<div class="ttc" id="amusl_2include_2string_8h_html_a55f618822d3f3615984dcaa02706a314"><div class="ttname"><a href="../../d6/d32/musl_2include_2string_8h.html#a55f618822d3f3615984dcaa02706a314">memchr</a></div><div class="ttdeci">void * memchr(const void *, int, size_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd9/memchr_8c_source.html#l00011">memchr.c:11</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d9/dd9/memchr_8c_source.html#l00011">memchr()</a>, and <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02117">char_insert()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00753">count_lines()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00712">dollar_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01829">dot_end()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00739">end_screen()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00730">next_line()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00841">sync_cursor()</a>.</p>

</div>
</div>
<a id="a17e2d56f2a97a8bd72844e70fb6cffc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17e2d56f2a97a8bd72844e70fb6cffc2">&#9670;&nbsp;</a></span>end_screen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* end_screen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00739">739</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;{</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">// find new bottom line</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    q = <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = 0; <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 2; <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>++)</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        q = <a class="code" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a>(q);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    q = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(q);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span> q;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00317">cnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00702">end_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00730">next_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00482">rows</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00494">screenbegin</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01895">dot_scroll()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00841">sync_cursor()</a>.</p>

</div>
</div>
<a id="a1e287cb54b22a4f306a94ff90671cf9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e287cb54b22a4f306a94ff90671cf9c">&#9670;&nbsp;</a></span>file_insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int file_insert </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>initial</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01982">1982</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;{</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = -1;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../dd/d15/musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> statbuf;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160; </div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>)</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>)</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160; </div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <a class="code" href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(fn, <a class="code" href="../../d6/dc6/termcap_8c.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0) {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        <span class="keywordflow">if</span> (!initial)</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ae18a15e3113b6bfdc363fb6fff2ee59d">status_line_bold_errno</a>(fn);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    }</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160; </div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;    <span class="comment">// Validate file</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d59/musl_2include_2sys_2stat_8h.html#a8a0f92a50668f8517f90b9717df22ee1">fstat</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a>, &amp;statbuf) &lt; 0) {</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ae18a15e3113b6bfdc363fb6fff2ee59d">status_line_bold_errno</a>(fn);</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        <span class="keywordflow">goto</span> fi;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    }</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d59/musl_2include_2sys_2stat_8h.html#aad0f32c2c182238f2ff71c83e6ab65a0">S_ISREG</a>(statbuf.st_mode)) {</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;&#39;%s&#39; is not a regular file&quot;</span>, fn);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        <span class="keywordflow">goto</span> fi;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a> = (statbuf.st_size &lt; <a class="code" href="../../dc/d2c/typemax_8h.html#a9ec306f36d50c7375e74f0d1c55a3a67">INT_MAX</a> ? (int)statbuf.st_size : <a class="code" href="../../dc/d2c/typemax_8h.html#a9ec306f36d50c7375e74f0d1c55a3a67">INT_MAX</a>);</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += <a class="code" href="../../d4/d49/vi_8c.html#a535e35451728e670d268af8ac16cde04">text_hole_make</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>);</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#abe6961731446e93dff5a0554986b6eea">full_read</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>);</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &lt; 0) {</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ae18a15e3113b6bfdc363fb6fff2ee59d">status_line_bold_errno</a>(fn);</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a> - 1, NO_UNDO); <span class="comment">// un-do buffer insert</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &lt; <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>) {</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        <span class="comment">// There was a partial read, shrink unused space</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a> - 1, NO_UNDO);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;can&#39;t read &#39;%s&#39;&quot;</span>, fn);</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    }</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;        undo_push_insert(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>, ALLOW_UNDO);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    }</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160; fi:</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <a class="code" href="../../de/d97/musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160; </div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_READONLY</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <span class="keywordflow">if</span> (initial</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;     &amp;&amp; ((<a class="code" href="../../de/d97/musl_2include_2unistd_8h.html#a7b0e7db280374cea9894dcb2ec40a8c9">access</a>(fn, <a class="code" href="../../d9/d00/eaccess_8c.html#ae5acf4043c0903cda7436b108e29e8e6">W_OK</a>) &lt; 0) ||</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;        <span class="comment">// root will always have access()</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        <span class="comment">// so we check fileperms too</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        !(statbuf.st_mode &amp; (<a class="code" href="../../d9/d0b/include_2posixstat_8h.html#ad70001754261c15a1bdc8e876c6d09d7">S_IWUSR</a> | <a class="code" href="../../d9/d0b/include_2posixstat_8h.html#ae6774871a90d9442f00abe18b87fee6e">S_IWGRP</a> | <a class="code" href="../../d9/d0b/include_2posixstat_8h.html#a5303f49f26293acdb9533756c78322fb">S_IWOTH</a>))</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        )</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    ) {</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ac73ee8bc0ba8f02e1dfd781e6e7ed6d5">SET_READONLY_FILE</a>(<a class="code" href="../../d4/d49/vi_8c.html#a387a583ec3c8cb3c426774703d490d12">readonly_mode</a>);</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    }</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;}</div>
<div class="ttc" id="aeaccess_8c_html_ae5acf4043c0903cda7436b108e29e8e6"><div class="ttname"><a href="../../d9/d00/eaccess_8c.html#ae5acf4043c0903cda7436b108e29e8e6">W_OK</a></div><div class="ttdeci">#define W_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d00/eaccess_8c_source.html#l00050">eaccess.c:50</a></div></div>
<div class="ttc" id="ahdparm_8c_html_a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42"><div class="ttname"><a href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a></div><div class="ttdeci">@ fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db3/hdparm_8c_source.html#l00352">hdparm.c:352</a></div></div>
<div class="ttc" id="ainclude_2posixstat_8h_html_a5303f49f26293acdb9533756c78322fb"><div class="ttname"><a href="../../d9/d0b/include_2posixstat_8h.html#a5303f49f26293acdb9533756c78322fb">S_IWOTH</a></div><div class="ttdeci">#define S_IWOTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/include_2posixstat_8h_source.html#l00128">posixstat.h:128</a></div></div>
<div class="ttc" id="ainclude_2posixstat_8h_html_ad70001754261c15a1bdc8e876c6d09d7"><div class="ttname"><a href="../../d9/d0b/include_2posixstat_8h.html#ad70001754261c15a1bdc8e876c6d09d7">S_IWUSR</a></div><div class="ttdeci">#define S_IWUSR</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/include_2posixstat_8h_source.html#l00120">posixstat.h:120</a></div></div>
<div class="ttc" id="ainclude_2posixstat_8h_html_ae6774871a90d9442f00abe18b87fee6e"><div class="ttname"><a href="../../d9/d0b/include_2posixstat_8h.html#ae6774871a90d9442f00abe18b87fee6e">S_IWGRP</a></div><div class="ttdeci">#define S_IWGRP</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0b/include_2posixstat_8h_source.html#l00124">posixstat.h:124</a></div></div>
<div class="ttc" id="alibbb_8h_html_abe6961731446e93dff5a0554986b6eea"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#abe6961731446e93dff5a0554986b6eea">full_read</a></div><div class="ttdeci">ssize_t full_read(int fd, void *buf, size_t count) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df8/apps_2base_2busybox_2libbb_2read_8c_source.html#l00036">read.c:36</a></div></div>
<div class="ttc" id="amusl_2include_2fcntl_8h_html_aa138ddaa9bbe8b8ccca32ed43e75b72c"><div class="ttname"><a href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a></div><div class="ttdeci">int open(const char *, int,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/deb/open_8c_source.html#l00005">open.c:5</a></div></div>
<div class="ttc" id="amusl_2include_2sys_2stat_8h_html_a8a0f92a50668f8517f90b9717df22ee1"><div class="ttname"><a href="../../d6/d59/musl_2include_2sys_2stat_8h.html#a8a0f92a50668f8517f90b9717df22ee1">fstat</a></div><div class="ttdeci">int fstat(int, struct stat *)</div></div>
<div class="ttc" id="amusl_2include_2sys_2stat_8h_html_aad0f32c2c182238f2ff71c83e6ab65a0"><div class="ttname"><a href="../../d6/d59/musl_2include_2sys_2stat_8h.html#aad0f32c2c182238f2ff71c83e6ab65a0">S_ISREG</a></div><div class="ttdeci">#define S_ISREG(mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d59/musl_2include_2sys_2stat_8h_source.html#l00047">stat.h:47</a></div></div>
<div class="ttc" id="amusl_2include_2unistd_8h_html_a7b0e7db280374cea9894dcb2ec40a8c9"><div class="ttname"><a href="../../de/d97/musl_2include_2unistd_8h.html#a7b0e7db280374cea9894dcb2ec40a8c9">access</a></div><div class="ttdeci">int access(const char *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d85/access_8c_source.html#l00005">access.c:5</a></div></div>
<div class="ttc" id="amusl_2include_2unistd_8h_html_ae152484c890a24e4d9b4980e7b965be0"><div class="ttname"><a href="../../de/d97/musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a></div><div class="ttdeci">int close(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d22/close_8c_source.html#l00013">close.c:13</a></div></div>
<div class="ttc" id="atermcap_8c_html_a7a68c9ffaac7dbcd652225dd7c06a54b"><div class="ttname"><a href="../../d6/dc6/termcap_8c.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a></div><div class="ttdeci">#define O_RDONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc6/termcap_8c_source.html#l00086">termcap.c:86</a></div></div>
<div class="ttc" id="atypemax_8h_html_a9ec306f36d50c7375e74f0d1c55a3a67"><div class="ttname"><a href="../../dc/d2c/typemax_8h.html#a9ec306f36d50c7375e74f0d1c55a3a67">INT_MAX</a></div><div class="ttdeci">#define INT_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/typemax_8h_source.html#l00077">typemax.h:77</a></div></div>
<div class="ttc" id="avi_8c_html_ac73ee8bc0ba8f02e1dfd781e6e7ed6d5"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ac73ee8bc0ba8f02e1dfd781e6e7ed6d5">SET_READONLY_FILE</a></div><div class="ttdeci">#define SET_READONLY_FILE(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00334">vi.c:334</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d85/access_8c_source.html#l00005">access()</a>, <a class="el" href="../../d9/d22/close_8c_source.html#l00013">close()</a>, <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00317">cnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../d6/d59/musl_2include_2sys_2stat_8h.html#a8a0f92a50668f8517f90b9717df22ee1">fstat()</a>, <a class="el" href="../../df/df8/apps_2base_2busybox_2libbb_2read_8c_source.html#l00036">full_read()</a>, <a class="el" href="../../dc/d2c/typemax_8h_source.html#l00077">INT_MAX</a>, <a class="el" href="../../d6/dc6/termcap_8c_source.html#l00086">O_RDONLY</a>, <a class="el" href="../../da/deb/open_8c_source.html#l00005">open()</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00504">readonly_mode</a>, <a class="el" href="../../d6/d59/musl_2include_2sys_2stat_8h_source.html#l00047">S_ISREG</a>, <a class="el" href="../../d9/d0b/include_2posixstat_8h_source.html#l00124">S_IWGRP</a>, <a class="el" href="../../d9/d0b/include_2posixstat_8h_source.html#l00128">S_IWOTH</a>, <a class="el" href="../../d9/d0b/include_2posixstat_8h_source.html#l00120">S_IWUSR</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00334">SET_READONLY_FILE</a>, <a class="el" href="../../d7/d06/getpwent_8c_source.html#l00006">size</a>, <a class="el" href="../../de/da5/musl_2arch_2aarch64_2bits_2stat_8h_source.html#l00004">stat::st_mode</a>, <a class="el" href="../../de/da5/musl_2arch_2aarch64_2bits_2stat_8h_source.html#l00010">stat::st_size</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01362">status_line_bold()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01377">status_line_bold_errno()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01530">text_hole_delete</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01496">text_hole_make()</a>, and <a class="el" href="../../d9/d00/eaccess_8c_source.html#l00050">W_OK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l02307">init_text_buffer()</a>.</p>

</div>
</div>
<a id="aed30e883a3eaa2707ecd58759a476ca6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed30e883a3eaa2707ecd58759a476ca6">&#9670;&nbsp;</a></span>file_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int file_write </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l02357">2357</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;{</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>, charcnt;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160; </div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;    <span class="keywordflow">if</span> (fn == 0) {</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;No current filename&quot;</span>);</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;        <span class="keywordflow">return</span> -2;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    }</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <span class="comment">// By popular request we do not open file with O_TRUNC,</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <span class="comment">// but instead ftruncate() it _after_ successful write.</span></div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <span class="comment">// Might reduce amount of data lost on power fail etc.</span></div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <a class="code" href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a> = <a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#aa138ddaa9bbe8b8ccca32ed43e75b72c">open</a>(fn, (<a class="code" href="../../d2/d44/musl_2include_2fcntl_8h.html#a11b644a8526139c4cc1850dac1271ced">O_WRONLY</a> | <a class="code" href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#a1cf6b1de1fffedaa1d26b189e9a8d2cc">O_CREAT</a>), 0666);</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a> &lt; 0)</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../df/d84/arping_8c.html#a66d3fd8f1383b174b0226daecfb6c487">last</a> - <a class="code" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a> + 1;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    charcnt = <a class="code" href="../../d7/dd7/libbb_8h.html#a8d23358117d93e33f882d41a3af20b64">full_write</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a>, <a class="code" href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a>, <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>);</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <a class="code" href="../../de/d97/musl_2include_2unistd_8h.html#a76a347946c9ac1f133cfe409b505b172">ftruncate</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a>, charcnt);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <span class="keywordflow">if</span> (charcnt == <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>) {</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;        <span class="comment">// good write</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;        <span class="comment">//modified_count = FALSE;</span></div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        charcnt = 0;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    }</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <a class="code" href="../../de/d97/musl_2include_2unistd_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code" href="../../d2/db3/hdparm_8c.html#a3153161a0d848ec64bf4895db3cf1be4a1e4d60e5b05464d07a30096747025a42">fd</a>);</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <span class="keywordflow">return</span> charcnt;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;}</div>
<div class="ttc" id="aarping_8c_html_a66d3fd8f1383b174b0226daecfb6c487"><div class="ttname"><a href="../../df/d84/arping_8c.html#a66d3fd8f1383b174b0226daecfb6c487">last</a></div><div class="ttdeci">#define last</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/arping_8c_source.html#l00093">arping.c:93</a></div></div>
<div class="ttc" id="aiperl_8c_html_a6c8ec3c3e77241328358d43697f6f840"><div class="ttname"><a href="../../d1/d00/iperl_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a></div><div class="ttdeci">static int first</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d00/iperl_8c_source.html#l00010">iperl.c:10</a></div></div>
<div class="ttc" id="alibbb_8h_html_a8d23358117d93e33f882d41a3af20b64"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a8d23358117d93e33f882d41a3af20b64">full_write</a></div><div class="ttdeci">ssize_t full_write(int fd, const void *buf, size_t count) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db8/full__write_8c_source.html#l00017">full_write.c:17</a></div></div>
<div class="ttc" id="amusl_2arch_2aarch64_2bits_2fcntl_8h_html_a1cf6b1de1fffedaa1d26b189e9a8d2cc"><div class="ttname"><a href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h.html#a1cf6b1de1fffedaa1d26b189e9a8d2cc">O_CREAT</a></div><div class="ttdeci">#define O_CREAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h_source.html#l00001">fcntl.h:1</a></div></div>
<div class="ttc" id="amusl_2include_2fcntl_8h_html_a11b644a8526139c4cc1850dac1271ced"><div class="ttname"><a href="../../d2/d44/musl_2include_2fcntl_8h.html#a11b644a8526139c4cc1850dac1271ced">O_WRONLY</a></div><div class="ttdeci">#define O_WRONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d44/musl_2include_2fcntl_8h_source.html#l00045">fcntl.h:45</a></div></div>
<div class="ttc" id="amusl_2include_2unistd_8h_html_a76a347946c9ac1f133cfe409b505b172"><div class="ttname"><a href="../../de/d97/musl_2include_2unistd_8h.html#a76a347946c9ac1f133cfe409b505b172">ftruncate</a></div><div class="ttdeci">int ftruncate(int, off_t)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/ftruncate_8c_source.html#l00004">ftruncate.c:4</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d22/close_8c_source.html#l00013">close()</a>, <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00317">cnt</a>, <a class="el" href="../../d2/db3/hdparm_8c_source.html#l00352">fd</a>, <a class="el" href="../../d1/d00/iperl_8c_source.html#l00010">first</a>, <a class="el" href="../../db/d45/ftruncate_8c_source.html#l00004">ftruncate()</a>, <a class="el" href="../../d6/db8/full__write_8c_source.html#l00017">full_write()</a>, <a class="el" href="../../df/d84/arping_8c_source.html#l00093">last</a>, <a class="el" href="../../d7/d86/musl_2arch_2aarch64_2bits_2fcntl_8h_source.html#l00001">O_CREAT</a>, <a class="el" href="../../d2/d44/musl_2include_2fcntl_8h_source.html#l00045">O_WRONLY</a>, <a class="el" href="../../da/deb/open_8c_source.html#l00005">open()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01362">status_line_bold()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="a290787ec170e01cbd8defae6ef2fe08e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a290787ec170e01cbd8defae6ef2fe08e">&#9670;&nbsp;</a></span>find_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* find_line </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>li</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00774">774</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;{</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">for</span> (q = <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>; li &gt; 1; li--) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        q = <a class="code" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a>(q);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">return</span> q;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00730">next_line()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="a5151aa6f3e9c236a5d0b0c29a3649ea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5151aa6f3e9c236a5d0b0c29a3649ea2">&#9670;&nbsp;</a></span>find_pair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* find_pair </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l02044">2044</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;{</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *braces = <span class="stringliteral">&quot;()[]{}&quot;</span>;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d3/d31/setfiles_8c.html#a664f27beea6c9e79a7b11a701f4ae054">match</a>;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, level;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160; </div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = <a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(braces, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) - braces;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> ^= 1;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <a class="code" href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a> = braces[<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>];</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> = ((<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> &amp; 1) &lt;&lt; 1) - 1; <span class="comment">// 1 for ([{, -1 for )\}</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160; </div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="comment">// look for match, count levels of pairs  (( ))</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    level = 1;</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;        <span class="keywordflow">if</span> (p &lt; text || p &gt;= <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>)</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;            level++;    <span class="comment">// increase pair levels</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a>) {</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;            level--;    <span class="comment">// reduce pair level</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;            <span class="keywordflow">if</span> (level == 0)</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>; <span class="comment">// found matching pair</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        }</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;}</div>
<div class="ttc" id="amusl_2src_2regex_2glob_8c_html_de/d90/structmatch"><div class="ttname"><a href="../../dc/d00/musl_2src_2regex_2glob_8c.html#de/d90/structmatch">match</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d00/musl_2src_2regex_2glob_8c_source.html#l00014">glob.c:15</a></div></div>
<div class="ttc" id="asetfiles_8c_html_a664f27beea6c9e79a7b11a701f4ae054"><div class="ttname"><a href="../../d3/d31/setfiles_8c.html#a664f27beea6c9e79a7b11a701f4ae054">match</a></div><div class="ttdeci">static int match(const char *name, struct stat *sb, char **con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/setfiles_8c_source.html#l00233">setfiles.c:233</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../df/dde/runsv_8c_source.html#l00121">dir</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d3/d31/setfiles_8c_source.html#l00233">match()</a>, <a class="el" href="../../d9/d14/general_8h_source.html#l00053">NULL</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, and <a class="el" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="a4f7db8a301746863644244734893c06d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f7db8a301746863644244734893c06d">&#9670;&nbsp;</a></span>find_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int find_range </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>stop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l03558">3558</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;{</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, *q, *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    <span class="keywordtype">int</span> buftype = -1;</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160; </div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = q = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>;</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160; </div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> == <span class="charliteral">&#39;Y&#39;</span>) {</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;y&#39;</span>;</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;    {</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d4/d49/vi_8c.html#a25f5e2c2bddddfb386cf348db06d7f21">get_motion_char</a>();</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;    }</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160; </div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> == <span class="charliteral">&#39;Y&#39;</span> || <a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> == <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) &amp;&amp; <a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(<span class="stringliteral">&quot;cdy&gt;&lt;&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> == <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &amp;&amp; <a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(<span class="stringliteral">&quot;cd&gt;&lt;&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;        <span class="comment">// these cmds operate on whole lines</span></div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;        buftype = <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e">WHOLE</a>;</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;        <span class="keywordflow">if</span> (--<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> &gt; 0) {</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ad9eaa734aefcfbef7239a3faa6cebca7">do_cmd</a>(<span class="charliteral">&#39;j&#39;</span>);</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a2a3a3679b4c255ea5824f382746fd696">cmd_error</a>)</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;                buftype = -1;</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;        }</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(<span class="stringliteral">&quot;^%$0bBeEfFtThnN/?|{}\b\177&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;        <span class="comment">// Most operate on char positions within a line.  Of those that</span></div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;        <span class="comment">// don&#39;t &#39;%&#39; needs no special treatment, search commands are</span></div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;        <span class="comment">// marked as MULTI and  &quot;{}&quot; are handled below.</span></div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;        buftype = <a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(<span class="stringliteral">&quot;nN/?&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) ? <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a3b6e3be2dfacfb1d14722ea50147ac05">MULTI</a> : <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159">PARTIAL</a>;</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad9eaa734aefcfbef7239a3faa6cebca7">do_cmd</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);      <span class="comment">// execute movement cmd</span></div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>)   <span class="comment">// no movement is an error</span></div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;            buftype = -1;</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(<span class="stringliteral">&quot;wW&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;        buftype = <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a3b6e3be2dfacfb1d14722ea50147ac05">MULTI</a>;</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad9eaa734aefcfbef7239a3faa6cebca7">do_cmd</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);      <span class="comment">// execute movement cmd</span></div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;        <span class="comment">// step back one char, but not if we&#39;re at end of file,</span></div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;        <span class="comment">// or if we are at EOF and search was for &#39;w&#39; and we&#39;re at</span></div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;        <span class="comment">// the start of a &#39;W&#39; word.</span></div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> &gt; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &amp;&amp; (!<a class="code" href="../../d4/d49/vi_8c.html#ad28f694c2a537205d07b27e0ee88d51c">at_eof</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>) || (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;w&#39;</span> &amp;&amp; <a class="code" href="../../d7/dd7/libbb_8h.html#a02f39718083d6eb8017229cd78ca4421">ispunct</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>))))</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>--;</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>;</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;        <span class="comment">// don&#39;t include trailing WS as part of word</span></div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> &gt; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &amp;&amp; <a class="code" href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a>(*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>)) {</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;            <span class="keywordflow">if</span> (*<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>-- == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;                <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>;</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;        }</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;        <span class="comment">// for non-change operations WS after NL is not part of word</span></div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d6d/run__parts_8c.html#a6e357f839ebe13390815f0b749845972">cmd</a> != <span class="charliteral">&#39;c&#39;</span> &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> != <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> &amp;&amp; *<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> != <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(<span class="stringliteral">&quot;GHL+-gjk&#39;\r\n&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;        <span class="comment">// these operate on whole lines</span></div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;        buftype = <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e">WHOLE</a>;</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad9eaa734aefcfbef7239a3faa6cebca7">do_cmd</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);      <span class="comment">// execute movement cmd</span></div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a2a3a3679b4c255ea5824f382746fd696">cmd_error</a>)</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;            buftype = -1;</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39; &#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;l&#39;</span>) {</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;        <span class="comment">// forward motion by character</span></div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;        <span class="keywordtype">int</span> tmpcnt = (<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> ?: 1);</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;        buftype = <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159">PARTIAL</a>;</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad9eaa734aefcfbef7239a3faa6cebca7">do_cmd</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);      <span class="comment">// execute movement cmd</span></div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;        <span class="comment">// exclude last char unless range isn&#39;t what we expected</span></div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;        <span class="comment">// this indicates we&#39;ve hit EOL</span></div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;        <span class="keywordflow">if</span> (tmpcnt == <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> - <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>)</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>--;</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;    }</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160; </div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;    <span class="keywordflow">if</span> (buftype == -1) {</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != 27)</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#afd0c4f00b2cc2a65e6bff554cc0abd4f">indicate_error</a>();</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;        <span class="keywordflow">return</span> buftype;</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;    }</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160; </div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;    q = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>;</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;    <span class="keywordflow">if</span> (q &lt; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;        <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = q;</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;        q = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>;</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    }</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160; </div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;    <span class="comment">// movements which don&#39;t include end of range</span></div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;    <span class="keywordflow">if</span> (q &gt; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(<span class="stringliteral">&quot;^0bBFThnN/?|\b\177&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;            q--;</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr</a>(<span class="stringliteral">&quot;{}&quot;</span>, <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;            buftype = (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) &amp;&amp; (*q == <span class="charliteral">&#39;\n&#39;</span> || <a class="code" href="../../d4/d49/vi_8c.html#ad28f694c2a537205d07b27e0ee88d51c">at_eof</a>(q))) ?</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;                            <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a22e41d649f93ab26b3fef686f088703e">WHOLE</a> : <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a3b6e3be2dfacfb1d14722ea50147ac05">MULTI</a>;</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d49/vi_8c.html#ad28f694c2a537205d07b27e0ee88d51c">at_eof</a>(q)) {</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;                q--;</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;                <span class="keywordflow">if</span> (q &gt; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> != <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>))</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;                    q--;</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;            }</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;        }</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    }</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160; </div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;    *<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;    *<a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a> = q;</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;    <span class="keywordflow">return</span> buftype;</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;}</div>
<div class="ttc" id="agm__loop_8c_html_ac310d9181e916ba43604099aee272c71"><div class="ttname"><a href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a></div><div class="ttdeci">int t</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dec/gm__loop_8c_source.html#l00079">gm_loop.c:79</a></div></div>
<div class="ttc" id="avi_8c_html_a25f5e2c2bddddfb386cf348db06d7f21"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a25f5e2c2bddddfb386cf348db06d7f21">get_motion_char</a></div><div class="ttdeci">static int get_motion_char(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01183">vi.c:1183</a></div></div>
<div class="ttc" id="avi_8c_html_ad28f694c2a537205d07b27e0ee88d51c"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ad28f694c2a537205d07b27e0ee88d51c">at_eof</a></div><div class="ttdeci">static int at_eof(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l03552">vi.c:3552</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l03552">at_eof()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">begin_line()</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d0/d6d/run__parts_8c_source.html#l00100">cmd</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00514">cmd_error</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00480">cmdcnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01183">get_motion_char()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01107">indicate_error()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02458">ispunct</a>, <a class="el" href="../../d4/dcb/chartypes_8h_source.html#l00041">isspace</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00277">MULTI</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00275">PARTIAL</a>, <a class="el" href="../../df/d84/arping_8c_source.html#l00095">start</a>, <a class="el" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>, <a class="el" href="../../da/df6/apps_2base_2bash_2lib_2readline_2bind_8c.html#a58f035966ee1771c6b3bb7a84fb13019">strchr()</a>, <a class="el" href="../../d6/dec/gm__loop_8c_source.html#l00079">t</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00276">WHOLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="a1769bd4b408e87a5b74be117538555e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1769bd4b408e87a5b74be117538555e1">&#9670;&nbsp;</a></span>flash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void flash </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01098">1098</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;{</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a20e57b2851879bf297617db156c5b36c">standout_start</a>();</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a49ded8ca0547d8b80ee00fa1b0ab267a">redraw</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a6c4b513eb1b04ddf8eedde2fbceee7d1">mysleep</a>(<a class="code" href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a>);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a5c90500cf92ec036217d38dffaada952">standout_end</a>();</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a49ded8ca0547d8b80ee00fa1b0ab267a">redraw</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;}</div>
<div class="ttc" id="alzop_8c_html_a56dee7158d9de89b23535bf5ad318261"><div class="ttname"><a href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a></div><div class="ttdeci">#define h</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d76/lzop_8c.html#a56dee7158d9de89b23535bf5ad318261">h</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00616">mysleep()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01087">redraw()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00685">standout_end()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00679">standout_start()</a>, and <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d46/inputbox_8c_source.html#l00044">dialog_inputbox()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01107">indicate_error()</a>, <a class="el" href="../../dc/de6/p__lights_8c_source.html#l00117">P_SpawnLightFlash()</a>, <a class="el" href="../../dc/de6/p__lights_8c_source.html#l00175">P_SpawnStrobeFlash()</a>, <a class="el" href="../../dd/dc9/p__saveg_8c_source.html#l01793">P_UnArchiveSpecials()</a>, <a class="el" href="../../dc/de6/p__lights_8c_source.html#l00091">T_LightFlash()</a>, and <a class="el" href="../../dc/de6/p__lights_8c_source.html#l00148">T_StrobeFlash()</a>.</p>

</div>
</div>
<a id="a0c79cb13284a46a9b158eb549372ab0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c79cb13284a46a9b158eb549372ab0f">&#9670;&nbsp;</a></span>format_edit_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int format_edit_status </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01255">1255</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;{</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> cmd_mode_indicator[] <a class="code" href="../../d2/d21/usage__pod_8c.html#a048289fa87432e63cfa9a627c94be27c">ALIGN1</a> = <span class="stringliteral">&quot;-IR-&quot;</span>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="preprocessor">#define tot format_edit_status__tot</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d6d/run__parts_8c.html#a7d8e8245600399fc4f780a0167e38e3c">cur</a>, <a class="code" href="../../d6/d23/wi__stuff_8c.html#a46d307acdc3ce94cba5420e7eaef4e3b">percent</a>, ret, trunc_at;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="comment">// modified_count is now a counter rather than a flag.  this</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="comment">// helps reduce the amount of line counting we need to do.</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="comment">// (this will cause a mis-reporting of modified status</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="comment">// once every MAXINT editing operations.)</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="comment">// it would be nice to do a similar optimization here -- if</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="comment">// we haven&#39;t done a motion that could have changed which line</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="comment">// we&#39;re on, then we shouldn&#39;t have to do this count_lines()</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="../../d0/d6d/run__parts_8c.html#a7d8e8245600399fc4f780a0167e38e3c">cur</a> = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="comment">// count_lines() is expensive.</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="comment">// Call it only if something was changed since last time</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="comment">// we were here:</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a> != <a class="code" href="../../d4/d49/vi_8c.html#a34d865d51c5bf0f08072559f08ca6f4e">last_modified_count</a>) {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ae64135f428b22a128a13f6942d22e0da">tot</a> = <a class="code" href="../../d0/d6d/run__parts_8c.html#a7d8e8245600399fc4f780a0167e38e3c">cur</a> + <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1) - 1;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a34d865d51c5bf0f08072559f08ca6f4e">last_modified_count</a> = <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a>;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    }</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160; </div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="comment">//    current line         percent</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="comment">//   -------------    ~~ ----------</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="comment">//    total lines            100</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ae64135f428b22a128a13f6942d22e0da">tot</a> &gt; 0) {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <a class="code" href="../../d6/d23/wi__stuff_8c.html#a46d307acdc3ce94cba5420e7eaef4e3b">percent</a> = (100 * <a class="code" href="../../d0/d6d/run__parts_8c.html#a7d8e8245600399fc4f780a0167e38e3c">cur</a>) / <a class="code" href="../../d4/d49/vi_8c.html#ae64135f428b22a128a13f6942d22e0da">tot</a>;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <a class="code" href="../../d0/d6d/run__parts_8c.html#a7d8e8245600399fc4f780a0167e38e3c">cur</a> = <a class="code" href="../../d4/d49/vi_8c.html#ae64135f428b22a128a13f6942d22e0da">tot</a> = 0;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <a class="code" href="../../d6/d23/wi__stuff_8c.html#a46d307acdc3ce94cba5420e7eaef4e3b">percent</a> = 100;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    }</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160; </div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    trunc_at = <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#ad7db220f8ddad54e13345795ce9eaf7d">STATUS_BUFFER_LEN</a>-1 ?</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> : <a class="code" href="../../d4/d49/vi_8c.html#ad7db220f8ddad54e13345795ce9eaf7d">STATUS_BUFFER_LEN</a>-1;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    ret = <a class="code" href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c.html#a2f895806f62a5ee9e7ce6575b4963f6e">snprintf</a>(<a class="code" href="../../d4/d49/vi_8c.html#a693fa1e8775df2e851f5a7c6b0513c49">status_buffer</a>, trunc_at+1,</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;#<span class="keywordflow">if</span> ENABLE_FEATURE_VI_READONLY</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="stringliteral">&quot;%c %s%s%s %d/%d %d%%&quot;</span>,</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;#<span class="keywordflow">else</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        <span class="stringliteral">&quot;%c %s%s %d/%d %d%%&quot;</span>,</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;#endif</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        cmd_mode_indicator[<a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> &amp; 3],</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        (<a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a> != <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ? <a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a> : <span class="stringliteral">&quot;No file&quot;</span>),</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;#<span class="keywordflow">if</span> ENABLE_FEATURE_VI_READONLY</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        (<a class="code" href="../../d4/d49/vi_8c.html#a387a583ec3c8cb3c426774703d490d12">readonly_mode</a> ? <span class="stringliteral">&quot; [Readonly]&quot;</span> : <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;#endif</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        (<a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a> ? <span class="stringliteral">&quot; [Modified]&quot;</span> : <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        <a class="code" href="../../d0/d6d/run__parts_8c.html#a7d8e8245600399fc4f780a0167e38e3c">cur</a>, <a class="code" href="../../d4/d49/vi_8c.html#ae64135f428b22a128a13f6942d22e0da">tot</a>, <a class="code" href="../../d6/d23/wi__stuff_8c.html#a46d307acdc3ce94cba5420e7eaef4e3b">percent</a>);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">if</span> (ret &gt;= 0 &amp;&amp; ret &lt; trunc_at)</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keywordflow">return</span> ret;  <span class="comment">// it all fit</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordflow">return</span> trunc_at;  <span class="comment">// had to truncate</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="preprocessor">#undef tot</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;}</div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2snprintf_8c_html_a2f895806f62a5ee9e7ce6575b4963f6e"><div class="ttname"><a href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c.html#a2f895806f62a5ee9e7ce6575b4963f6e">snprintf</a></div><div class="ttdeci">int snprintf(char *string, size_t length, const char *format, va_alist)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c_source.html#l01727">snprintf.c:1727</a></div></div>
<div class="ttc" id="arun__parts_8c_html_a7d8e8245600399fc4f780a0167e38e3c"><div class="ttname"><a href="../../d0/d6d/run__parts_8c.html#a7d8e8245600399fc4f780a0167e38e3c">cur</a></div><div class="ttdeci">#define cur</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d6d/run__parts_8c_source.html#l00099">run_parts.c:99</a></div></div>
<div class="ttc" id="ausage__pod_8c_html_a048289fa87432e63cfa9a627c94be27c"><div class="ttname"><a href="../../d2/d21/usage__pod_8c.html#a048289fa87432e63cfa9a627c94be27c">ALIGN1</a></div><div class="ttdeci">#define ALIGN1</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d21/usage__pod_8c_source.html#l00016">usage_pod.c:16</a></div></div>
<div class="ttc" id="avi_8c_html_a693fa1e8775df2e851f5a7c6b0513c49"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a693fa1e8775df2e851f5a7c6b0513c49">status_buffer</a></div><div class="ttdeci">#define status_buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00487">vi.c:487</a></div></div>
<div class="ttc" id="avi_8c_html_ad7db220f8ddad54e13345795ce9eaf7d"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ad7db220f8ddad54e13345795ce9eaf7d">STATUS_BUFFER_LEN</a></div><div class="ttdeci">#define STATUS_BUFFER_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00420">vi.c:420</a></div></div>
<div class="ttc" id="avi_8c_html_ae64135f428b22a128a13f6942d22e0da"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ae64135f428b22a128a13f6942d22e0da">tot</a></div><div class="ttdeci">#define tot</div></div>
<div class="ttc" id="awi__stuff_8c_html_a46d307acdc3ce94cba5420e7eaef4e3b"><div class="ttname"><a href="../../d6/d23/wi__stuff_8c.html#a46d307acdc3ce94cba5420e7eaef4e3b">percent</a></div><div class="ttdeci">static patch_t * percent</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/wi__stuff_8c_source.html#l00347">wi_stuff.c:347</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d21/usage__pod_8c_source.html#l00016">ALIGN1</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00476">cmd_mode</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00483">columns</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00753">count_lines()</a>, <a class="el" href="../../d0/d6d/run__parts_8c_source.html#l00099">cur</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00490">current_filename</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00478">last_modified_count</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00477">modified_count</a>, <a class="el" href="../../d9/d14/general_8h_source.html#l00053">NULL</a>, <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00347">percent</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00504">readonly_mode</a>, <a class="el" href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c_source.html#l01727">snprintf()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00487">status_buffer</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00420">STATUS_BUFFER_LEN</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>, and <a class="el" href="../../d4/d49/vi_8c.html#ae64135f428b22a128a13f6942d22e0da">tot</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l01324">show_status_line()</a>.</p>

</div>
</div>
<a id="a6cea294e1d80800dd5692826567fa46a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cea294e1d80800dd5692826567fa46a">&#9670;&nbsp;</a></span>format_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* format_line </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>src</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00931">931</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;{</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordtype">int</span> co;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordtype">int</span> ofs = <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordtype">char</span> *dest = <a class="code" href="../../d4/d49/vi_8c.html#ab6fada95ff10a2baa65ff8939e0f92fa">scr_out_buf</a>; <span class="comment">// [MAX_SCR_COLS + MAX_TABSTOP * 2]</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;~&#39;</span>; <span class="comment">// char in col 0 in non-existent lines is &#39;~&#39;</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    co = 0;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">while</span> (co &lt; <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> + <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="comment">// have we gone past the end?</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>++;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &amp; 0x80) &amp;&amp; !<a class="code" href="../../d4/d49/vi_8c.html#a70d85e9e3b928359f42768e35bed8b58">Isprint</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;.&#39;</span>;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &lt; <span class="charliteral">&#39; &#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 0x7f) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\t&#39;</span>) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                    <span class="comment">//      co %    8     !=     7</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                    <span class="keywordflow">while</span> ((co % <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>) != (<a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a> - 1)) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                        dest[co++] = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                    }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                    dest[co++] = <span class="charliteral">&#39;^&#39;</span>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 0x7f)</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> += <span class="charliteral">&#39;@&#39;</span>; <span class="comment">// Ctrl-X -&gt; &#39;X&#39;</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        dest[co++] = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="comment">// discard scrolled-off-to-the-left portion,</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="comment">// in tabstop-sized pieces</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="keywordflow">if</span> (ofs &gt;= <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a> &amp;&amp; co &gt;= <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a802c986820d3866639922b6bc9484f90">memmove</a>(dest, dest + <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>, co);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            co -= <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            ofs -= <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> &gt;= <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>)</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="comment">// check &quot;short line, gigantic offset&quot; case</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">if</span> (co &lt; ofs)</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        ofs = co;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="comment">// discard last scrolled off part</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    co -= ofs;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    dest += ofs;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="comment">// fill the rest with spaces</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">if</span> (co &lt; <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a>)</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <a class="code" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c.html#a19588d2006eb37347ebae632befc20e5">memset</a>(&amp;dest[co], <span class="charliteral">&#39; &#39;</span>, <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> - co);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keywordflow">return</span> dest;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;}</div>
<div class="ttc" id="aarping_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/arping_8c_source.html#l00088">arping.c:88</a></div></div>
<div class="ttc" id="avi_8c_html_ab6fada95ff10a2baa65ff8939e0f92fa"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ab6fada95ff10a2baa65ff8939e0f92fa">scr_out_buf</a></div><div class="ttdeci">#define scr_out_buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00530">vi.c:530</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00483">columns</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00222">Isprint</a>, <a class="el" href="../../d1/de5/memop_8c_source.html#l00290">memmove()</a>, <a class="el" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c_source.html#l00022">memset()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00486">offset</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00530">scr_out_buf</a>, <a class="el" href="../../df/d84/arping_8c_source.html#l00088">src</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00495">tabstop</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l00993">refresh()</a>.</p>

</div>
</div>
<a id="a925a179e3def5fac0f162bc3070660c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a925a179e3def5fac0f162bc3070660c4">&#9670;&nbsp;</a></span>get_column()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_column </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00803">803</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;{</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *r;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordtype">int</span> co = 0;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">for</span> (r = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>); r &lt; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>; r++)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        co = <a class="code" href="../../d4/d49/vi_8c.html#a23c502207fbcf87ab0b68f5f30052be9">next_column</a>(*r, co);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">return</span> co;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_a23c502207fbcf87ab0b68f5f30052be9"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a23c502207fbcf87ab0b68f5f30052be9">next_column</a></div><div class="ttdeci">static int next_column(char c, int co)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00794">vi.c:794</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">begin_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00794">next_column()</a>, and <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02117">char_insert()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="a396a2ab0882a1bb635892a7857d5168e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a396a2ab0882a1bb635892a7857d5168e">&#9670;&nbsp;</a></span>get_input_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* get_input_line </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prompt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01204">1204</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;{</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="comment">// char [MAX_INPUT_LEN]</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="preprocessor">#define buf get_input_line__buf</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="../../d6/ddf/gen-helpfiles_8c.html#add539a5755e4c4070b0c8ca97477fe47">strcpy</a>(<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a>);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#aaf4d4f22923d4539c7b5c43a571fefa7">last_status_cksum</a> = 0;  <span class="comment">// force status update</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#aa449f2a9f07e51bbf0e6b1164d6d341c">go_bottom_and_clear_to_eol</a>();</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>);      <span class="comment">// write out the :, /, or ? prompt</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a>(<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>);</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5af73f6b535ce775bb2ab54a7d6fee82e4">MAX_INPUT_LEN</a> - 1) {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>();</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\n&#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\r&#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 27)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            <span class="keywordflow">break</span>;      <span class="comment">// this is end of input</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ab72d18b3c16ac6360ab95232710b8f82">isbackspace</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            <span class="comment">// user wants to erase prev char</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[--<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aa449f2a9f07e51bbf0e6b1164d6d341c">go_bottom_and_clear_to_eol</a>();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt;= 0) <span class="comment">// user backs up before b-o-l, exit</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &gt; 0 &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &lt; 256) { <span class="comment">// exclude Unicode</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            <span class="comment">// (TODO: need to handle Unicode)</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[++<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            <a class="code" href="../../d7/dd7/libbb_8h.html#a19c664892b1aa6feda00823c67cd7e83">bb_putchar</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a70132b5539a35c5dd3bf69009246e1d2">refresh</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="preprocessor">#undef buf</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;}</div>
<div class="ttc" id="aed_8c_html_af5d098a5d7ce46dd9363982fbd6b230d"><div class="ttname"><a href="../../d6/d98/ed_8c.html#af5d098a5d7ce46dd9363982fbd6b230d">prompt</a></div><div class="ttdeci">#define prompt</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d98/ed_8c_source.html#l00061">ed.c:61</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00313">bb_putchar()</a>, <a class="el" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01179">get_one_char</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00672">go_bottom_and_clear_to_eol()</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00227">isbackspace</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00489">last_status_cksum</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00233">MAX_INPUT_LEN</a>, <a class="el" href="../../d6/d98/ed_8c_source.html#l00061">prompt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00993">refresh()</a>, <a class="el" href="../../d6/ddf/gen-helpfiles_8c.html#add539a5755e4c4070b0c8ca97477fe47">strcpy()</a>, <a class="el" href="../../d1/db0/string_8c_source.html#l00005">strlen()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">write1()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="a25f5e2c2bddddfb386cf348db06d7f21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25f5e2c2bddddfb386cf348db06d7f21">&#9670;&nbsp;</a></span>get_motion_char()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_motion_char </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01183">1183</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;{</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>();</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;0&#39;</span>) {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            <span class="comment">// get any non-zero motion count</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = 0; <a class="code" href="../../d7/dd7/libbb_8h.html#aefb5fe894e4d5f0e52d5853f99200d96">isdigit</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>); <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>())</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> * 10 + (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> - <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> = (<a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> ?: 1) * <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;            <span class="comment">// ensure standalone &#39;0&#39; works</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#ad971950d0b434d5b86d72aae0b07ff59">cmdcnt</a> = 0;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00480">cmdcnt</a>, <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00317">cnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01179">get_one_char</a>, and <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02447">isdigit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03558">find_range()</a>.</p>

</div>
</div>
<a id="aa449f2a9f07e51bbf0e6b1164d6d341c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa449f2a9f07e51bbf0e6b1164d6d341c">&#9670;&nbsp;</a></span>go_bottom_and_clear_to_eol()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void go_bottom_and_clear_to_eol </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00672">672</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;{</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#aa493b93eb4b1fe63d7610847a8f9aec5">place_cursor</a>(<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 1, 0);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ab6f8e85ebd627b5fe219ade24f18117b">clear_to_eol</a>();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_aa493b93eb4b1fe63d7610847a8f9aec5"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aa493b93eb4b1fe63d7610847a8f9aec5">place_cursor</a></div><div class="ttdeci">static void place_cursor(int row, int col)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00653">vi.c:653</a></div></div>
<div class="ttc" id="avi_8c_html_ab6f8e85ebd627b5fe219ade24f18117b"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ab6f8e85ebd627b5fe219ade24f18117b">clear_to_eol</a></div><div class="ttdeci">static void clear_to_eol(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00667">vi.c:667</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00667">clear_to_eol()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00653">place_cursor()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00482">rows</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01204">get_input_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01122">readit()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01324">show_status_line()</a>.</p>

</div>
</div>
<a id="ad35b4be87d829828ce4ff316df99835f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad35b4be87d829828ce4ff316df99835f">&#9670;&nbsp;</a></span>Hit_Return()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Hit_Return </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01241">1241</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;{</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a20e57b2851879bf297617db156c5b36c">standout_start</a>();</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<span class="stringliteral">&quot;[Hit return to continue]&quot;</span>);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a5c90500cf92ec036217d38dffaada952">standout_end</a>();</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d4/d49/vi_8c.html#adcda1fea3e2dd884044228d8ac1d3317">get_one_char</a>()) != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a49ded8ca0547d8b80ee00fa1b0ab267a">redraw</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);       <span class="comment">// force redraw all</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01179">get_one_char</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01087">redraw()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00685">standout_end()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00679">standout_start()</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">write1()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01324">show_status_line()</a>.</p>

</div>
</div>
<a id="af45225cfcd88fae5e653468c7179b32d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af45225cfcd88fae5e653468c7179b32d">&#9670;&nbsp;</a></span>indent_len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> indent_len </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l02105">2105</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;{</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <span class="keywordtype">char</span> *r = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160; </div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keywordflow">while</span> (r &lt; (<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1) &amp;&amp; <a class="code" href="../../dd/d09/syntax_8h.html#ad9bfbdeef8c6f05cee294530b92547bf">isblank</a>(*r))</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        r++;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordflow">return</span> r - <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../dd/d09/syntax_8h_source.html#l00103">isblank</a>, and <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02117">char_insert()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="afd0c4f00b2cc2a65e6bff554cc0abd4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd0c4f00b2cc2a65e6bff554cc0abd4f">&#9670;&nbsp;</a></span>indicate_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void indicate_error </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01107">1107</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;{</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_CRASHME</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (crashme &gt; 0)</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2a3a3679b4c255ea5824f382746fd696">cmd_error</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d49/vi_8c.html#a37141f0e9b16a984c21e9bad75b87010">err_method</a>) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<a class="code" href="../../d4/d49/vi_8c.html#a9c17a859f6cbbb256e064fd0f08ed932">ESC_BELL</a>);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a1769bd4b408e87a5b74be117538555e1">flash</a>(10);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_a1769bd4b408e87a5b74be117538555e1"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a1769bd4b408e87a5b74be117538555e1">flash</a></div><div class="ttdeci">static void flash(int h)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01098">vi.c:1098</a></div></div>
<div class="ttc" id="avi_8c_html_a9c17a859f6cbbb256e064fd0f08ed932"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a9c17a859f6cbbb256e064fd0f08ed932">ESC_BELL</a></div><div class="ttdeci">#define ESC_BELL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00247">vi.c:247</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00514">cmd_error</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00324">err_method</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00247">ESC_BELL</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01098">flash()</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">write1()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l01920">bound_dot()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01868">dot_to_char()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l03558">find_range()</a>.</p>

</div>
</div>
<a id="a086ccc9748e09f107642b4d8f12f0986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a086ccc9748e09f107642b4d8f12f0986">&#9670;&nbsp;</a></span>init_text_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int init_text_buffer </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l02307">2307</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;{</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/dda/sv_8c.html#a9578f88fefb44e6c3f1fb1a83c939855">rc</a>;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160; </div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    <span class="comment">// allocate/reallocate text buffer</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a176a37bacb55f480893e743ae5bb55db">text_size</a> = 10240;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a> = <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a6b9d12af476b8fa4b9de87028b0ac27c">xzalloc</a>(<a class="code" href="../../d4/d49/vi_8c.html#a176a37bacb55f480893e743ae5bb55db">text_size</a>);</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160; </div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ac6634ad3ce3cb3a9cc5d89491e8ad0f9">update_filename</a>(fn);</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    <a class="code" href="../../d1/dda/sv_8c.html#a9578f88fefb44e6c3f1fb1a83c939855">rc</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1e287cb54b22a4f306a94ff90671cf9c">file_insert</a>(fn, <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, 1);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/dda/sv_8c.html#a9578f88fefb44e6c3f1fb1a83c939855">rc</a> &lt; 0) {</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        <span class="comment">// file doesnt exist. Start empty buf with dummy line</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a0381cc12de9ffd942a052716417c097a">char_insert</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <span class="charliteral">&#39;\n&#39;</span>, NO_UNDO);</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    }</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160; </div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a8a7648997421fe6505865a36d3c2c2ca">flush_undo_data</a>();</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a> = 0;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a34d865d51c5bf0f08072559f08ca6f4e">last_modified_count</a> = -1;</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <span class="comment">// init the marks</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <a class="code" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c.html#a19588d2006eb37347ebae632befc20e5">memset</a>(<a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>));</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/dda/sv_8c.html#a9578f88fefb44e6c3f1fb1a83c939855">rc</a>;</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_a176a37bacb55f480893e743ae5bb55db"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a176a37bacb55f480893e743ae5bb55db">text_size</a></div><div class="ttdeci">#define text_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00469">vi.c:469</a></div></div>
<div class="ttc" id="avi_8c_html_a8a7648997421fe6505865a36d3c2c2ca"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a8a7648997421fe6505865a36d3c2c2ca">flush_undo_data</a></div><div class="ttdeci">#define flush_undo_data()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01804">vi.c:1804</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l02115">char_insert</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01982">file_insert()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01804">flush_undo_data</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00478">last_modified_count</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00523">mark</a>, <a class="el" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c_source.html#l00022">memset()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00477">modified_count</a>, <a class="el" href="../../d1/dda/sv_8c_source.html#l00210">rc</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00494">screenbegin</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00469">text_size</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02286">update_filename()</a>, and <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00069">xzalloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l04955">vi_main()</a>.</p>

</div>
</div>
<a id="a2bdae210f1d5f34d58b3f948c5d5129b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bdae210f1d5f34d58b3f948c5d5129b">&#9670;&nbsp;</a></span>move_to_col()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* move_to_col </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>l</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01835">1835</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;{</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keywordtype">int</span> co;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160; </div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    co = 0;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\n&#39;</span>) <span class="comment">//vda || *p == &#39;\0&#39;)</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        co = <a class="code" href="../../d4/d49/vi_8c.html#a23c502207fbcf87ab0b68f5f30052be9">next_column</a>(*<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, co);</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    } <span class="keywordflow">while</span> (co &lt;= <a class="code" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++ &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">begin_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d5/dd2/tls__aesgcm_8c.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00794">next_column()</a>, and <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="a6c4b513eb1b04ddf8eedde2fbceee7d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c4b513eb1b04ddf8eedde2fbceee7d1">&#9670;&nbsp;</a></span>mysleep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int mysleep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hund</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00616">616</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;{</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/da4/include_2poll_8h.html#de/dd7/structpollfd">pollfd</a> <a class="code" href="../../d1/d23/runsvdir_8c.html#acd6e3a32bce0913efa3e4b2750479a39">pfd</a>[1];</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (hund != 0)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#a8f037f44db72dcde4db67b3cb5dee815">fflush_all</a>();</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="../../d1/d23/runsvdir_8c.html#acd6e3a32bce0913efa3e4b2750479a39">pfd</a>[0].fd = <a class="code" href="../../d6/d4f/excallback_8c.html#afcf80a6d91178952d107ad00b165752b">STDIN_FILENO</a>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="../../d1/d23/runsvdir_8c.html#acd6e3a32bce0913efa3e4b2750479a39">pfd</a>[0].events = <a class="code" href="../../d1/da4/include_2poll_8h.html#a52ac479a805051f59643588b096024ff">POLLIN</a>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/dd7/libbb_8h.html#a17790c4da72b3cd02302e9e352b63ab2">safe_poll</a>(<a class="code" href="../../d1/d23/runsvdir_8c.html#acd6e3a32bce0913efa3e4b2750479a39">pfd</a>, 1, hund*10) &gt; 0;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}</div>
<div class="ttc" id="ainclude_2poll_8h_html_a52ac479a805051f59643588b096024ff"><div class="ttname"><a href="../../d1/da4/include_2poll_8h.html#a52ac479a805051f59643588b096024ff">POLLIN</a></div><div class="ttdeci">#define POLLIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da4/include_2poll_8h_source.html#l00012">poll.h:12</a></div></div>
<div class="ttc" id="ainclude_2poll_8h_html_de/dd7/structpollfd"><div class="ttname"><a href="../../d1/da4/include_2poll_8h.html#de/dd7/structpollfd">pollfd</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da4/include_2poll_8h_source.html#l00031">poll.h:31</a></div></div>
<div class="ttc" id="alibbb_8h_html_a17790c4da72b3cd02302e9e352b63ab2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a17790c4da72b3cd02302e9e352b63ab2">safe_poll</a></div><div class="ttdeci">int safe_poll(struct pollfd *ufds, nfds_t nfds, int timeout_ms) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d1d/safe__poll_8c_source.html#l00014">safe_poll.c:14</a></div></div>
<div class="ttc" id="arunsvdir_8c_html_acd6e3a32bce0913efa3e4b2750479a39"><div class="ttname"><a href="../../d1/d23/runsvdir_8c.html#acd6e3a32bce0913efa3e4b2750479a39">pfd</a></div><div class="ttdeci">#define pfd</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d23/runsvdir_8c_source.html#l00094">runsvdir.c:94</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00307">fflush_all()</a>, <a class="el" href="../../d1/d23/runsvdir_8c_source.html#l00094">pfd</a>, <a class="el" href="../../d1/da4/include_2poll_8h_source.html#l00012">POLLIN</a>, <a class="el" href="../../dd/d1d/safe__poll_8c_source.html#l00014">safe_poll()</a>, and <a class="el" href="../../d6/d4f/excallback_8c_source.html#l00062">STDIN_FILENO</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01098">flash()</a>.</p>

</div>
</div>
<a id="aad674bf5c7dbc9eba3ed14f2a06d064b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad674bf5c7dbc9eba3ed14f2a06d064b">&#9670;&nbsp;</a></span>new_screen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void new_screen </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>co</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00819">819</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;{</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1ae1f81549ca17120e92a19d55dc5ea0">screen</a>);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#af31d38e57b08d4c61af7ffc2527141c7">screensize</a> = ro * co + 8;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1ae1f81549ca17120e92a19d55dc5ea0">screen</a> = <a class="code" href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a>(<a class="code" href="../../d4/d49/vi_8c.html#af31d38e57b08d4c61af7ffc2527141c7">screensize</a>);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="comment">// initialize the new screen. assume this will be a empty file.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a360763d9ffdb0b82eae7fc76affb6dbd">screen_erase</a>();</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="comment">// non-existent text[] lines start with a tilde (~).</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="comment">//screen[(1 * co) + 0] = &#39;~&#39;;</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="comment">//screen[(2 * co) + 0] = &#39;~&#39;;</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="comment">//..</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">//screen[((ro-2) * co) + 0] = &#39;~&#39;;</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    ro -= 2;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">while</span> (--ro &gt;= 0) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> += co;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="charliteral">&#39;~&#39;</span>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div>
<div class="ttc" id="atre_8h_html_a6af5faec3f9662b20ffc9903f923dec0"><div class="ttname"><a href="../../db/d0a/tre_8h.html#a6af5faec3f9662b20ffc9903f923dec0">xmalloc</a></div><div class="ttdeci">#define xmalloc</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0a/tre_8h_source.html#l00227">tre.h:227</a></div></div>
<div class="ttc" id="avi_8c_html_a1ae1f81549ca17120e92a19d55dc5ea0"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a1ae1f81549ca17120e92a19d55dc5ea0">screen</a></div><div class="ttdeci">#define screen</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00492">vi.c:492</a></div></div>
<div class="ttc" id="avi_8c_html_a360763d9ffdb0b82eae7fc76affb6dbd"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a360763d9ffdb0b82eae7fc76affb6dbd">screen_erase</a></div><div class="ttdeci">static void screen_erase(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00814">vi.c:814</a></div></div>
<div class="ttc" id="avi_8c_html_af31d38e57b08d4c61af7ffc2527141c7"><div class="ttname"><a href="../../d4/d49/vi_8c.html#af31d38e57b08d4c61af7ffc2527141c7">screensize</a></div><div class="ttdeci">#define screensize</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00493">vi.c:493</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00492">screen</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00814">screen_erase()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00493">screensize</a>, and <a class="el" href="../../db/d0a/tre_8h_source.html#l00227">xmalloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00993">refresh()</a>.</p>

</div>
</div>
<a id="a23c502207fbcf87ab0b68f5f30052be9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23c502207fbcf87ab0b68f5f30052be9">&#9670;&nbsp;</a></span>next_column()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int next_column </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>co</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00794">794</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;{</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\t&#39;</span>)</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        co = <a class="code" href="../../d4/d49/vi_8c.html#ae627518ccc5dfeb1b4808576b9b6ae5b">next_tabstop</a>(co);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &lt; <span class="charliteral">&#39; &#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 0x7f)</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        co++; <span class="comment">// display as ^X, use 2 columns</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">return</span> co + 1;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00784">next_tabstop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l00803">get_column()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01835">move_to_col()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00841">sync_cursor()</a>.</p>

</div>
</div>
<a id="ab0a7de582792b9ba301b4a05967ed023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0a7de582792b9ba301b4a05967ed023">&#9670;&nbsp;</a></span>next_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* next_line </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00730">730</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;{</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1 &amp;&amp; *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>++;            <span class="comment">// step to next line</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00702">end_line()</a>, and <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/da6/add-remove-shell_8c_source.html#l00049">add_remove_shell_main()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../de/dcc/busybox_2coreutils_2cut_8c_source.html#l00088">cut_file()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01849">dot_next()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01895">dot_scroll()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00739">end_screen()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00774">find_line()</a>, <a class="el" href="../../d9/d0c/paste_8c_source.html#l00070">paste_files_separate()</a>, <a class="el" href="../../d8/dde/sed_8c_source.html#l01108">process_files()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00841">sync_cursor()</a>.</p>

</div>
</div>
<a id="ae627518ccc5dfeb1b4808576b9b6ae5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae627518ccc5dfeb1b4808576b9b6ae5b">&#9670;&nbsp;</a></span>next_tabstop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int next_tabstop </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00784">784</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;{</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">return</span> col + ((<a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a> - 1) - (col % <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>));</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00495">tabstop</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02117">char_insert()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00794">next_column()</a>.</p>

</div>
</div>
<a id="a4e781a4da224422617f1d7e6d6353b9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e781a4da224422617f1d7e6d6353b9f">&#9670;&nbsp;</a></span>not_implemented()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void not_implemented </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01408">1408</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;{</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>[<a class="code" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5af73f6b535ce775bb2ab54a7d6fee82e4">MAX_INPUT_LEN</a>];</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ad387b31421df4418f7e36aecf48976da">print_literal</a>(<a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;&#39;%s&#39; is not implemented&quot;</span>, <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_ad387b31421df4418f7e36aecf48976da"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ad387b31421df4418f7e36aecf48976da">print_literal</a></div><div class="ttdeci">static void print_literal(char *buf, const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01383">vi.c:1383</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00233">MAX_INPUT_LEN</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01383">print_literal()</a>, <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01362">status_line_bold()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="aa493b93eb4b1fe63d7610847a8f9aec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa493b93eb4b1fe63d7610847a8f9aec5">&#9670;&nbsp;</a></span>place_cursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void place_cursor </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00653">653</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;{</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordtype">char</span> cm1[<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d49/vi_8c.html#afc0372bb32e648b40d17cfcfaf44029f">ESC_SET_CURSOR_POS</a>) + <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*3 * 2];</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">if</span> (row &lt; 0) row = 0;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">if</span> (row &gt;= <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a>) row = <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 1;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">if</span> (col &lt; 0) col = 0;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">if</span> (col &gt;= <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a>) col = <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> - 1;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="../../d1/dae/libc_2src_2print_2printf_8c.html#a9cafd44c2e1bfa384f71d56949e3b3fc">sprintf</a>(cm1, <a class="code" href="../../d4/d49/vi_8c.html#afc0372bb32e648b40d17cfcfaf44029f">ESC_SET_CURSOR_POS</a>, row + 1, col + 1);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(cm1);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div>
<div class="ttc" id="alibc_2src_2print_2printf_8c_html_a9cafd44c2e1bfa384f71d56949e3b3fc"><div class="ttname"><a href="../../d1/dae/libc_2src_2print_2printf_8c.html#a9cafd44c2e1bfa384f71d56949e3b3fc">sprintf</a></div><div class="ttdeci">int sprintf(char *s, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dae/libc_2src_2print_2printf_8c_source.html#l01563">printf.c:1563</a></div></div>
<div class="ttc" id="avi_8c_html_afc0372bb32e648b40d17cfcfaf44029f"><div class="ttname"><a href="../../d4/d49/vi_8c.html#afc0372bb32e648b40d17cfcfaf44029f">ESC_SET_CURSOR_POS</a></div><div class="ttdeci">#define ESC_SET_CURSOR_POS</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00256">vi.c:256</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00483">columns</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00256">ESC_SET_CURSOR_POS</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00482">rows</a>, <a class="el" href="../../d1/dae/libc_2src_2print_2printf_8c_source.html#l01563">sprintf()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">write1()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l00672">go_bottom_and_clear_to_eol()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00993">refresh()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01324">show_status_line()</a>.</p>

</div>
</div>
<a id="a0e8c259cf056452fe3e5aad83ba754ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e8c259cf056452fe3e5aad83ba754ac">&#9670;&nbsp;</a></span>prev_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* prev_line </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00721">721</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;{</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);  <span class="comment">// goto beginning of cur line</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt; <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[-1] == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>--;            <span class="comment">// step to prev line</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);  <span class="comment">// goto beginning of prev line</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">begin_line()</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02117">char_insert()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01855">dot_prev()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01895">dot_scroll()</a>, <a class="el" href="../../d8/d45/sort_8c_source.html#l00445">sort_main()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00841">sync_cursor()</a>.</p>

</div>
</div>
<a id="a645aa43f44692541d949176a8431c0a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a645aa43f44692541d949176a8431c0a6">&#9670;&nbsp;</a></span>prev_tabstop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int prev_tabstop </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00789">789</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;{</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">return</span> col - ((col % <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>) ?: <a class="code" href="../../d4/d49/vi_8c.html#aabc65003a08feeae1233d9e219487cda">tabstop</a>);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00495">tabstop</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02117">char_insert()</a>.</p>

</div>
</div>
<a id="ad387b31421df4418f7e36aecf48976da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad387b31421df4418f7e36aecf48976da">&#9670;&nbsp;</a></span>print_literal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void print_literal </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01383">1383</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;{</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="keywordtype">char</span> *d;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>[0])</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a> = <span class="stringliteral">&quot;(NULL)&quot;</span>;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    d = <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">for</span> (; *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>; <a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>++) {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = *<a class="code" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &amp; 0x80) &amp;&amp; !<a class="code" href="../../d4/d49/vi_8c.html#a70d85e9e3b928359f42768e35bed8b58">Isprint</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>))</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> &lt; <span class="charliteral">&#39; &#39;</span> || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 0x7f) {</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            *d++ = <span class="charliteral">&#39;^&#39;</span>;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> |= <span class="charliteral">&#39;@&#39;</span>; <span class="comment">// 0x40</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == 0x7f)</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        *d++ = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        *d = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <span class="keywordflow">if</span> (d - <a class="code" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a> &gt; <a class="code" href="../../d4/d49/vi_8c.html#a78372742882dccd1c13323dbd66c25c5af73f6b535ce775bb2ab54a7d6fee82e4">MAX_INPUT_LEN</a> - 10) <span class="comment">// paranoia</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c.html#aa29b866765bdc5bdf87b7eb666d66093">buf</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00222">Isprint</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00233">MAX_INPUT_LEN</a>, and <a class="el" href="../../df/d19/arpping_8c.html#ac9562ee4ecb3b8aeebeb04656e7e57a9">s</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l01408">not_implemented()</a>.</p>

</div>
</div>
<a id="a51a8f4bda6d5cbd321425bf13a1ff94f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51a8f4bda6d5cbd321425bf13a1ff94f">&#9670;&nbsp;</a></span>query_screen_dimensions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../de/d03/platform_8h.html#aa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> int query_screen_dimensions </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00609">609</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;{</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00993">refresh()</a>.</p>

</div>
</div>
<a id="a618f0d730a2df27e73abdb2e37f7e85c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a618f0d730a2df27e73abdb2e37f7e85c">&#9670;&nbsp;</a></span>rawmode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rawmode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00629">629</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;{</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="comment">// no TERMIOS_CLEAR_ISIG: leave ISIG on - allow signals</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a9aa9beb7ff1d064fb530505b5a8ad358">set_termios_to_raw</a>(<a class="code" href="../../d6/d4f/excallback_8c.html#afcf80a6d91178952d107ad00b165752b">STDIN_FILENO</a>, &amp;<a class="code" href="../../d4/d49/vi_8c.html#a3db1de0cc1a6773c52365417eb47059f">term_orig</a>, <a class="code" href="../../d7/dd7/libbb_8h.html#aa17ffe1abd0579278a530923f2da2f43">TERMIOS_RAW_CRNL</a>);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div>
<div class="ttc" id="alibbb_8h_html_a9aa9beb7ff1d064fb530505b5a8ad358"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a9aa9beb7ff1d064fb530505b5a8ad358">set_termios_to_raw</a></div><div class="ttdeci">int set_termios_to_raw(int fd, struct termios *oldterm, int flags) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6d/xfuncs_8c_source.html#l00385">xfuncs.c:385</a></div></div>
<div class="ttc" id="alibbb_8h_html_aa17ffe1abd0579278a530923f2da2f43"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#aa17ffe1abd0579278a530923f2da2f43">TERMIOS_RAW_CRNL</a></div><div class="ttdeci">#define TERMIOS_RAW_CRNL</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd7/libbb_8h_source.html#l01814">libbb.h:1814</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d6d/xfuncs_8c_source.html#l00385">set_termios_to_raw()</a>, <a class="el" href="../../d6/d4f/excallback_8c_source.html#l00062">STDIN_FILENO</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00525">term_orig</a>, and <a class="el" href="../../d7/dd7/libbb_8h_source.html#l01814">TERMIOS_RAW_CRNL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>.</p>

</div>
</div>
<a id="a40229f07960a030f2e145c46a3e00400"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40229f07960a030f2e145c46a3e00400">&#9670;&nbsp;</a></span>readit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int readit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01122">1122</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;{</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a8f037f44db72dcde4db67b3cb5dee815">fflush_all</a>();</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="comment">// Wait for input. TIMEOUT = -1 makes read_key wait even</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="comment">// on nonblocking stdin.</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="comment">// Note: read_key sets errno to 0 on success.</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; again:</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#ae52beb56eb034c5bef3f4812c33ecc80">safe_read_key</a>(<a class="code" href="../../d6/d4f/excallback_8c.html#afcf80a6d91178952d107ad00b165752b">STDIN_FILENO</a>, <a class="code" href="../../d4/d49/vi_8c.html#a091d89b956341a32222130bfcf73b297">readbuffer</a>, <span class="comment">/*timeout:*/</span> -1);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == -1) { <span class="comment">// EOF/error</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d8c/libc_2include_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a> == <a class="code" href="../../d7/d8c/libc_2include_2errno_8h.html#af0fac1cea1165b4debec7f686edf3313">EAGAIN</a>) <span class="comment">// paranoia</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            <span class="keywordflow">goto</span> again;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aa449f2a9f07e51bbf0e6b1164d6d341c">go_bottom_and_clear_to_eol</a>();</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a04687ece399adb6b65109d746cabd3ea">cookmode</a>(); <span class="comment">// terminal to &quot;cooked&quot;</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#aa7873f1b32526ae11612363558a2aa90">bb_simple_error_msg_and_die</a>(<span class="stringliteral">&quot;can&#39;t read user input&quot;</span>);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;}</div>
<div class="ttc" id="alibbb_8h_html_aa7873f1b32526ae11612363558a2aa90"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#aa7873f1b32526ae11612363558a2aa90">bb_simple_error_msg_and_die</a></div><div class="ttdeci">void bb_simple_error_msg_and_die(const char *s) NORETURN FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db5/verror__msg_8c_source.html#l00212">verror_msg.c:212</a></div></div>
<div class="ttc" id="alibc_2include_2errno_8h_html_ab03f640d90fbc5bcb75285d08a0f25ed"><div class="ttname"><a href="../../d7/d8c/libc_2include_2errno_8h.html#ab03f640d90fbc5bcb75285d08a0f25ed">errno</a></div><div class="ttdeci">#define errno</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8c/libc_2include_2errno_8h_source.html#l00135">errno.h:135</a></div></div>
<div class="ttc" id="alibc_2include_2errno_8h_html_af0fac1cea1165b4debec7f686edf3313"><div class="ttname"><a href="../../d7/d8c/libc_2include_2errno_8h.html#af0fac1cea1165b4debec7f686edf3313">EAGAIN</a></div><div class="ttdeci">#define EAGAIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8c/libc_2include_2errno_8h_source.html#l00014">errno.h:14</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/db5/verror__msg_8c_source.html#l00212">bb_simple_error_msg_and_die()</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00635">cookmode()</a>, <a class="el" href="../../d7/d8c/libc_2include_2errno_8h_source.html#l00014">EAGAIN</a>, <a class="el" href="../../d7/d8c/libc_2include_2errno_8h_source.html#l00135">errno</a>, <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00307">fflush_all()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00672">go_bottom_and_clear_to_eol()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00529">readbuffer</a>, <a class="el" href="../../d7/d54/read__key_8c_source.html#l00290">safe_read_key()</a>, and <a class="el" href="../../d6/d4f/excallback_8c_source.html#l00062">STDIN_FILENO</a>.</p>

</div>
</div>
<a id="a49ded8ca0547d8b80ee00fa1b0ab267a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49ded8ca0547d8b80ee00fa1b0ab267a">&#9670;&nbsp;</a></span>redraw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void redraw </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>full_screen</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01087">1087</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;{</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="comment">// cursor to top,left; clear to the end of screen</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<a class="code" href="../../d4/d49/vi_8c.html#aadd9a6a53add95e7b5ba29c2a1ccb04d">ESC_SET_CURSOR_TOPLEFT</a> <a class="code" href="../../d4/d49/vi_8c.html#a1a27a185d6cc29e71283452bb044d6c4">ESC_CLEAR2EOS</a>);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a360763d9ffdb0b82eae7fc76affb6dbd">screen_erase</a>();     <span class="comment">// erase the internal screen buffer</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#aaf4d4f22923d4539c7b5c43a571fefa7">last_status_cksum</a> = 0;  <span class="comment">// force status update</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a70132b5539a35c5dd3bf69009246e1d2">refresh</a>(full_screen);   <span class="comment">// this will redraw the entire display</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#ad753fe263484b1e27f01b1c9ffe42896">show_status_line</a>();</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_a1a27a185d6cc29e71283452bb044d6c4"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a1a27a185d6cc29e71283452bb044d6c4">ESC_CLEAR2EOS</a></div><div class="ttdeci">#define ESC_CLEAR2EOS</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00254">vi.c:254</a></div></div>
<div class="ttc" id="avi_8c_html_aadd9a6a53add95e7b5ba29c2a1ccb04d"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aadd9a6a53add95e7b5ba29c2a1ccb04d">ESC_SET_CURSOR_TOPLEFT</a></div><div class="ttdeci">#define ESC_SET_CURSOR_TOPLEFT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00257">vi.c:257</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00254">ESC_CLEAR2EOS</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00257">ESC_SET_CURSOR_TOPLEFT</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00489">last_status_cksum</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00993">refresh()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00814">screen_erase()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01324">show_status_line()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">write1()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01098">flash()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01241">Hit_Return()</a>.</p>

</div>
</div>
<a id="a70132b5539a35c5dd3bf69009246e1d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70132b5539a35c5dd3bf69009246e1d2">&#9670;&nbsp;</a></span>refresh()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void refresh </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>full_screen</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00993">993</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;{</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="preprocessor">#define old_offset refresh__old_offset</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordtype">int</span> li, <a class="code" href="../../dc/d72/fsck__minix_8c.html#a6f01c378e8cc374e1e260159940d8a7e">changed</a>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a>, *<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>;      <span class="comment">// pointer into text[] and screen[]</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">if</span> (ENABLE_FEATURE_VI_WIN_RESIZE IF_FEATURE_VI_ASK_TERMINAL(&amp;&amp; !<a class="code" href="../../d4/d49/vi_8c.html#aed9ea78689ecce0b7264c02c7f8a9a54">G</a>.get_rowcol_error) ) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a>, r = <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a>;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a51a8f4bda6d5cbd321425bf13a1ff94f">query_screen_dimensions</a>();</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_USE_SIGNALS</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        full_screen |= (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> - <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a>) | (r - <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a>);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> != <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> || r != <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a>) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            full_screen = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            <span class="comment">// update screen memory since SIGWINCH won&#39;t have done it</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aad674bf5c7dbc9eba3ed14f2a06d064b">new_screen</a>(<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a>, <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a>);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#aa4cc20d1c9ae66e9e6fb1da6991fb3b4">sync_cursor</a>(<a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>, &amp;<a class="code" href="../../d4/d49/vi_8c.html#a9a8c5c0c3e9f5d391a53f4ff60125ddf">crow</a>, &amp;<a class="code" href="../../d4/d49/vi_8c.html#a973859d8182591b126603d6b61fd10e5">ccol</a>); <span class="comment">// where cursor will be (on &quot;dot&quot;)</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> = <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>;   <span class="comment">// index into text[] of top line</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="comment">// compare text[] to screen[] and mark screen[] lines that need updating</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">for</span> (li = 0; li &lt; <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 1; li++) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordtype">int</span> cs, ce;             <span class="comment">// column start &amp; end</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="keywordtype">char</span> *out_buf;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <span class="comment">// format current text line</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        out_buf = <a class="code" href="../../d4/d49/vi_8c.html#a6cea294e1d80800dd5692826567fa46a">format_line</a>(<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> <span class="comment">/*, li*/</span>);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <span class="comment">// skip to the end of the current text[] line</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> &lt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <span class="keywordtype">char</span> *<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d6/d32/musl_2include_2string_8h.html#a55f618822d3f3615984dcaa02706a314">memchr</a>(<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a>, <span class="charliteral">&#39;\n&#39;</span>, <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - <a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a>);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a>) <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> = <a class="code" href="../../d6/dec/gm__loop_8c.html#ac310d9181e916ba43604099aee272c71">t</a> + 1;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="comment">// see if there are any changes between virtual screen and out_buf</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <a class="code" href="../../dc/d72/fsck__minix_8c.html#a6f01c378e8cc374e1e260159940d8a7e">changed</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;    <span class="comment">// assume no change</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        cs = 0;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        ce = <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> - 1;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a> = &amp;<a class="code" href="../../d4/d49/vi_8c.html#a1ae1f81549ca17120e92a19d55dc5ea0">screen</a>[li * <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a>]; <span class="comment">// start of screen line</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordflow">if</span> (full_screen) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <span class="comment">// force re-draw of every single column from 0 - columns-1</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            <span class="keywordflow">goto</span> re0;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <span class="comment">// compare newly formatted buffer with virtual screen</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="comment">// look forward for first difference between buf and screen</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">for</span> (; cs &lt;= ce; cs++) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            <span class="keywordflow">if</span> (out_buf[cs] != <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>[cs]) {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                <a class="code" href="../../dc/d72/fsck__minix_8c.html#a6f01c378e8cc374e1e260159940d8a7e">changed</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">// mark for redraw</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="comment">// look backward for last difference between out_buf and screen</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="keywordflow">for</span> (; ce &gt;= cs; ce--) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            <span class="keywordflow">if</span> (out_buf[ce] != <a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>[ce]) {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                <a class="code" href="../../dc/d72/fsck__minix_8c.html#a6f01c378e8cc374e1e260159940d8a7e">changed</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">// mark for redraw</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="comment">// now, cs is index of first diff, and ce is index of last diff</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <span class="comment">// if horz offset has changed, force a redraw</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a> != <a class="code" href="../../d4/d49/vi_8c.html#a3ff0d9e62e7900a8cf1b1c133eea544f">old_offset</a>) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; re0:</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <a class="code" href="../../dc/d72/fsck__minix_8c.html#a6f01c378e8cc374e1e260159940d8a7e">changed</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <span class="comment">// make a sanity check of columns indexes</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <span class="keywordflow">if</span> (cs &lt; 0) cs = 0;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordflow">if</span> (ce &gt; <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> - 1) ce = <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> - 1;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="keywordflow">if</span> (cs &gt; ce) { cs = 0; ce = <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> - 1; }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="comment">// is there a change between virtual screen and out_buf</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d72/fsck__minix_8c.html#a6f01c378e8cc374e1e260159940d8a7e">changed</a>) {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            <span class="comment">// copy changed part of buffer to virtual screen</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            <a class="code" href="../../d4/d7b/fcts_8c.html#a14938524dcbeb59d7117ba5e151ad1b1">memcpy</a>(<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>+cs, out_buf+cs, ce-cs+1);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#aa493b93eb4b1fe63d7610847a8f9aec5">place_cursor</a>(li, cs);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <span class="comment">// write line out to terminal</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <a class="code" href="../../dc/d4d/libc_2include_2stdio_8h.html#a20d465b196f378c16fc31d4117170623">fwrite</a>(&amp;<a class="code" href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a>[cs], ce - cs + 1, 1, <a class="code" href="../../dc/d4d/libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#aa493b93eb4b1fe63d7610847a8f9aec5">place_cursor</a>(<a class="code" href="../../d4/d49/vi_8c.html#a9a8c5c0c3e9f5d391a53f4ff60125ddf">crow</a>, <a class="code" href="../../d4/d49/vi_8c.html#a973859d8182591b126603d6b61fd10e5">ccol</a>);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d49/vi_8c.html#aff6bd83665841f3fd66753c75999d9a4">keep_index</a>)</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a99433a7a79752aa95954d6cd58f30ac3">cindex</a> = <a class="code" href="../../d4/d49/vi_8c.html#a973859d8182591b126603d6b61fd10e5">ccol</a> + <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a3ff0d9e62e7900a8cf1b1c133eea544f">old_offset</a> = <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="preprocessor">#undef old_offset</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;}</div>
<div class="ttc" id="abash_2expr_8c_html_a48eb585a5cc3f2f35661183d9e54a87b"><div class="ttname"><a href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a></div><div class="ttdeci">static char * tp</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc4/bash_2expr_8c_source.html#l00168">expr.c:168</a></div></div>
<div class="ttc" id="abashgetopt_8c_html_a024603cda52d9847e8d8df3c2e884b8c"><div class="ttname"><a href="../../d9/df1/bashgetopt_8c.html#a024603cda52d9847e8d8df3c2e884b8c">sp</a></div><div class="ttdeci">static int sp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df1/bashgetopt_8c_source.html#l00039">bashgetopt.c:39</a></div></div>
<div class="ttc" id="afcts_8c_html_a14938524dcbeb59d7117ba5e151ad1b1"><div class="ttname"><a href="../../d4/d7b/fcts_8c.html#a14938524dcbeb59d7117ba5e151ad1b1">memcpy</a></div><div class="ttdeci">void * memcpy(void *dest, const void *src, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7b/fcts_8c_source.html#l00083">fcts.c:83</a></div></div>
<div class="ttc" id="afsck__minix_8c_html_a6f01c378e8cc374e1e260159940d8a7e"><div class="ttname"><a href="../../dc/d72/fsck__minix_8c.html#a6f01c378e8cc374e1e260159940d8a7e">changed</a></div><div class="ttdeci">#define changed</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d72/fsck__minix_8c_source.html#l00192">fsck_minix.c:192</a></div></div>
<div class="ttc" id="alibc_2include_2stdio_8h_html_a0c0ef221f95f64e8632451312fd18cc8"><div class="ttname"><a href="../../dc/d4d/libc_2include_2stdio_8h.html#a0c0ef221f95f64e8632451312fd18cc8">stdout</a></div><div class="ttdeci">#define stdout</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4d/libc_2include_2stdio_8h_source.html#l00057">stdio.h:57</a></div></div>
<div class="ttc" id="alibc_2include_2stdio_8h_html_a20d465b196f378c16fc31d4117170623"><div class="ttname"><a href="../../dc/d4d/libc_2include_2stdio_8h.html#a20d465b196f378c16fc31d4117170623">fwrite</a></div><div class="ttdeci">size_t fwrite(const void *ptr, size_t size, size_t nmemb, FILE *stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00042">file.c:42</a></div></div>
<div class="ttc" id="avi_8c_html_a3ff0d9e62e7900a8cf1b1c133eea544f"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a3ff0d9e62e7900a8cf1b1c133eea544f">old_offset</a></div><div class="ttdeci">#define old_offset</div></div>
<div class="ttc" id="avi_8c_html_a6cea294e1d80800dd5692826567fa46a"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a6cea294e1d80800dd5692826567fa46a">format_line</a></div><div class="ttdeci">static char * format_line(char *src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00931">vi.c:931</a></div></div>
<div class="ttc" id="avi_8c_html_aa4cc20d1c9ae66e9e6fb1da6991fb3b4"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aa4cc20d1c9ae66e9e6fb1da6991fb3b4">sync_cursor</a></div><div class="ttdeci">static void sync_cursor(char *d, int *row, int *col)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00841">vi.c:841</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00485">ccol</a>, <a class="el" href="../../dc/d72/fsck__minix_8c_source.html#l00192">changed</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00526">cindex</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00483">columns</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00484">crow</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00096">FALSE</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00931">format_line()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00042">fwrite()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00467">G</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00527">keep_index</a>, <a class="el" href="../../d9/dd9/memchr_8c_source.html#l00011">memchr()</a>, <a class="el" href="../../d4/d7b/fcts_8c_source.html#l00083">memcpy()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00819">new_screen()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00486">offset</a>, <a class="el" href="../../d4/d49/vi_8c.html#a3ff0d9e62e7900a8cf1b1c133eea544f">old_offset</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00653">place_cursor()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00609">query_screen_dimensions()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00482">rows</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00492">screen</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00494">screenbegin</a>, <a class="el" href="../../d9/df1/bashgetopt_8c_source.html#l00039">sp</a>, <a class="el" href="../../dc/d4d/libc_2include_2stdio_8h_source.html#l00057">stdout</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00841">sync_cursor()</a>, <a class="el" href="../../d6/dec/gm__loop_8c_source.html#l00079">t</a>, <a class="el" href="../../d4/dc4/bash_2expr_8c_source.html#l00168">tp</a>, and <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00095">TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02117">char_insert()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01204">get_input_line()</a>, <a class="el" href="../../d5/d01/lxdialog_8c_source.html#l00054">main()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01087">redraw()</a>, <a class="el" href="../../d9/d28/st__stuff_8c_source.html#l01055">ST_Drawer()</a>, <a class="el" href="../../d9/d28/st__stuff_8c_source.html#l01001">ST_drawWidgets()</a>, <a class="el" href="../../dd/de0/st__lib_8c_source.html#l00256">STlib_updateBinIcon()</a>, <a class="el" href="../../dd/de0/st__lib_8c_source.html#l00206">STlib_updateMultIcon()</a>, <a class="el" href="../../dd/de0/st__lib_8c_source.html#l00147">STlib_updateNum()</a>, and <a class="el" href="../../dd/de0/st__lib_8c_source.html#l00174">STlib_updatePercent()</a>.</p>

</div>
</div>
<a id="a360763d9ffdb0b82eae7fc76affb6dbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a360763d9ffdb0b82eae7fc76affb6dbd">&#9670;&nbsp;</a></span>screen_erase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void screen_erase </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00814">814</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;{</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <a class="code" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c.html#a19588d2006eb37347ebae632befc20e5">memset</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1ae1f81549ca17120e92a19d55dc5ea0">screen</a>, <span class="charliteral">&#39; &#39;</span>, <a class="code" href="../../d4/d49/vi_8c.html#af31d38e57b08d4c61af7ffc2527141c7">screensize</a>);    <span class="comment">// clear new screen</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c_source.html#l00022">memset()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00492">screen</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00493">screensize</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l00819">new_screen()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01087">redraw()</a>.</p>

</div>
</div>
<a id="aef20148be3ae52ac456c42f8217b8a95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef20148be3ae52ac456c42f8217b8a95">&#9670;&nbsp;</a></span>show_help()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void show_help </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00560">560</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;{</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="../../dc/d4d/libc_2include_2stdio_8h.html#ad41876f99f190c7488e64ef39c50a23f">puts</a>(<span class="stringliteral">&quot;These features are available:&quot;</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;#<span class="keywordflow">if</span> ENABLE_FEATURE_VI_SEARCH</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="stringliteral">&quot;\n\tPattern searches with / and ?&quot;</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;#endif</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;#<span class="keywordflow">if</span> ENABLE_FEATURE_VI_DOT_CMD</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="stringliteral">&quot;\n\tLast command repeat with .&quot;</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;#endif</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;#<span class="keywordflow">if</span> ENABLE_FEATURE_VI_YANKMARK</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="stringliteral">&quot;\n\tLine marking with &#39;x&quot;</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="stringliteral">&quot;\n\tNamed buffers with \&quot;x&quot;</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;#endif</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;#<span class="keywordflow">if</span> ENABLE_FEATURE_VI_READONLY</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">//not implemented: &quot;\n\tReadonly if vi is called as \&quot;view\&quot;&quot;</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="comment">//redundant: usage text says this too: &quot;\n\tReadonly with -R command line arg&quot;</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;#endif</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;#<span class="keywordflow">if</span> ENABLE_FEATURE_VI_SET</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="stringliteral">&quot;\n\tSome colon mode commands with :&quot;</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;#endif</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;#<span class="keywordflow">if</span> ENABLE_FEATURE_VI_SETOPTS</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="stringliteral">&quot;\n\tSettable options with \&quot;:set\&quot;&quot;</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;#endif</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;#<span class="keywordflow">if</span> ENABLE_FEATURE_VI_USE_SIGNALS</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="stringliteral">&quot;\n\tSignal catching- ^C&quot;</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="stringliteral">&quot;\n\tJob suspend and resume with ^Z&quot;</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;#endif</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;#<span class="keywordflow">if</span> ENABLE_FEATURE_VI_WIN_RESIZE</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="stringliteral">&quot;\n\tAdapt to window re-sizes&quot;</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;#endif</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    );</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d79/put_8c_source.html#l00027">puts()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l04955">vi_main()</a>.</p>

</div>
</div>
<a id="ad753fe263484b1e27f01b1c9ffe42896"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad753fe263484b1e27f01b1c9ffe42896">&#9670;&nbsp;</a></span>show_status_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void show_status_line </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01324">1324</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;{</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = 0, cksum = 0;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="comment">// either we already have an error or status message, or we</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="comment">// create one.</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d49/vi_8c.html#af4d16a56855050344314149f02356e55">have_status_msg</a>) {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0c79cb13284a46a9b158eb549372ab0f">format_edit_status</a>();</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        cksum = <a class="code" href="../../d4/d49/vi_8c.html#aba8429703ec62fadc8c3f4c3beca32fd">bufsum</a>(<a class="code" href="../../d4/d49/vi_8c.html#a693fa1e8775df2e851f5a7c6b0513c49">status_buffer</a>, <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    }</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#af4d16a56855050344314149f02356e55">have_status_msg</a> || ((<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &gt; 0 &amp;&amp; <a class="code" href="../../d4/d49/vi_8c.html#aaf4d4f22923d4539c7b5c43a571fefa7">last_status_cksum</a> != cksum))) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aaf4d4f22923d4539c7b5c43a571fefa7">last_status_cksum</a> = cksum;      <span class="comment">// remember if we have seen this line</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aa449f2a9f07e51bbf0e6b1164d6d341c">go_bottom_and_clear_to_eol</a>();</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<a class="code" href="../../d4/d49/vi_8c.html#a693fa1e8775df2e851f5a7c6b0513c49">status_buffer</a>);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#af4d16a56855050344314149f02356e55">have_status_msg</a>) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            <span class="keywordflow">if</span> (((<span class="keywordtype">int</span>)<a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a008e171a518fe0e0352f31b245e03875">strlen</a>(<a class="code" href="../../d4/d49/vi_8c.html#a693fa1e8775df2e851f5a7c6b0513c49">status_buffer</a>) - (<a class="code" href="../../d4/d49/vi_8c.html#af4d16a56855050344314149f02356e55">have_status_msg</a> - 1)) &gt;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                    (<a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> - 1) ) {</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#af4d16a56855050344314149f02356e55">have_status_msg</a> = 0;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#ad35b4be87d829828ce4ff316df99835f">Hit_Return</a>();</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#af4d16a56855050344314149f02356e55">have_status_msg</a> = 0;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aa493b93eb4b1fe63d7610847a8f9aec5">place_cursor</a>(<a class="code" href="../../d4/d49/vi_8c.html#a9a8c5c0c3e9f5d391a53f4ff60125ddf">crow</a>, <a class="code" href="../../d4/d49/vi_8c.html#a973859d8182591b126603d6b61fd10e5">ccol</a>);  <span class="comment">// put cursor back in correct place</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#a8f037f44db72dcde4db67b3cb5dee815">fflush_all</a>();</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_a0c79cb13284a46a9b158eb549372ab0f"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a0c79cb13284a46a9b158eb549372ab0f">format_edit_status</a></div><div class="ttdeci">static int format_edit_status(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01255">vi.c:1255</a></div></div>
<div class="ttc" id="avi_8c_html_aba8429703ec62fadc8c3f4c3beca32fd"><div class="ttname"><a href="../../d4/d49/vi_8c.html#aba8429703ec62fadc8c3f4c3beca32fd">bufsum</a></div><div class="ttdeci">static int bufsum(char *buf, int count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l01315">vi.c:1315</a></div></div>
<div class="ttc" id="avi_8c_html_af4d16a56855050344314149f02356e55"><div class="ttname"><a href="../../d4/d49/vi_8c.html#af4d16a56855050344314149f02356e55">have_status_msg</a></div><div class="ttdeci">#define have_status_msg</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00488">vi.c:488</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l01315">bufsum()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00485">ccol</a>, <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00317">cnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00483">columns</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00484">crow</a>, <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00307">fflush_all()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01255">format_edit_status()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00672">go_bottom_and_clear_to_eol()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00488">have_status_msg</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01241">Hit_Return()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00489">last_status_cksum</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00653">place_cursor()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00487">status_buffer</a>, <a class="el" href="../../d1/db0/string_8c_source.html#l00005">strlen()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">write1()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01087">redraw()</a>.</p>

</div>
</div>
<a id="a2ce46489d09d76d6600f3834a25472e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ce46489d09d76d6600f3834a25472e4">&#9670;&nbsp;</a></span>skip_thing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* skip_thing </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>linecnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l03491">3491</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;{</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160; </div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d4/d49/vi_8c.html#a437a2f9ad28f0752a3f90e2a0408e19a">st_test</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d1/d80/xatonum_8c.html#a53155e22eaa05190346890241be3367c">type</a>, <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>, &amp;<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>)) {</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;        <span class="comment">// make sure we limit search to correct number of lines</span></div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; --linecnt &lt; 1)</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> &gt;= 0 &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &gt;= <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1)</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a> &lt; 0 &amp;&amp; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> &lt;= <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>)</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>;       <span class="comment">// move to next char</span></div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;    }</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_a437a2f9ad28f0752a3f90e2a0408e19a"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a437a2f9ad28f0752a3f90e2a0408e19a">st_test</a></div><div class="ttdeci">static int st_test(char *p, int type, int dir, char *tested)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l03457">vi.c:3457</a></div></div>
<div class="ttc" id="axatonum_8c_html_a53155e22eaa05190346890241be3367c"><div class="ttname"><a href="../../d1/d80/xatonum_8c.html#a53155e22eaa05190346890241be3367c">type</a></div><div class="ttdeci">#define type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/xatonum_8c_source.html#l00011">xatonum.c:11</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../df/dde/runsv_8c_source.html#l00121">dir</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03457">st_test()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>, and <a class="el" href="../../d1/d80/xatonum_8c_source.html#l00011">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>.</p>

</div>
</div>
<a id="a437a2f9ad28f0752a3f90e2a0408e19a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a437a2f9ad28f0752a3f90e2a0408e19a">&#9670;&nbsp;</a></span>st_test()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int st_test </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>tested</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l03457">3457</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;{</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>, c0, ci;</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d4/de4/p__mobj_8c.html#a1bd3f5fbccb1628eb13dda4cd02633a4">test</a>, inc;</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160; </div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    inc = <a class="code" href="../../df/dde/runsv_8c.html#ad45ef284071e5bd5627127837e94bc27">dir</a>;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = c0 = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[0];</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    ci = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>[inc];</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    <a class="code" href="../../d4/de4/p__mobj_8c.html#a1bd3f5fbccb1628eb13dda4cd02633a4">test</a> = 0;</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160; </div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d80/xatonum_8c.html#a53155e22eaa05190346890241be3367c">type</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a7de52873ec9f71888a746f2337df20c6">S_BEFORE_WS</a>) {</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = ci;</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;        <a class="code" href="../../d4/de4/p__mobj_8c.html#a1bd3f5fbccb1628eb13dda4cd02633a4">test</a> = (!<a class="code" href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    }</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d80/xatonum_8c.html#a53155e22eaa05190346890241be3367c">type</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26af88abd34792ec71e8a04c3dc91e5d093">S_TO_WS</a>) {</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = c0;</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;        <a class="code" href="../../d4/de4/p__mobj_8c.html#a1bd3f5fbccb1628eb13dda4cd02633a4">test</a> = (!<a class="code" href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;    }</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d80/xatonum_8c.html#a53155e22eaa05190346890241be3367c">type</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a0283513cf1fd655e84b06227b76c1509">S_OVER_WS</a>) {</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = c0;</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;        <a class="code" href="../../d4/de4/p__mobj_8c.html#a1bd3f5fbccb1628eb13dda4cd02633a4">test</a> = <a class="code" href="../../d4/dcb/chartypes_8h.html#a0c009fd6c0f22a1da6995c59b701a58f">isspace</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    }</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d80/xatonum_8c.html#a53155e22eaa05190346890241be3367c">type</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26aaf3788ac457b09dac5c03864912ca46d">S_END_PUNCT</a>) {</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = ci;</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;        <a class="code" href="../../d4/de4/p__mobj_8c.html#a1bd3f5fbccb1628eb13dda4cd02633a4">test</a> = <a class="code" href="../../d7/dd7/libbb_8h.html#a02f39718083d6eb8017229cd78ca4421">ispunct</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>);</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;    }</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d80/xatonum_8c.html#a53155e22eaa05190346890241be3367c">type</a> == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a46505f6996b5515edaaa7c2eb5c7fa64">S_END_ALNUM</a>) {</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> = ci;</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;        <a class="code" href="../../d4/de4/p__mobj_8c.html#a1bd3f5fbccb1628eb13dda4cd02633a4">test</a> = (<a class="code" href="../../d7/dd7/libbb_8h.html#a3db1d3e3db557d4493cd4084bce8834c">isalnum</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>) || <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a> == <span class="charliteral">&#39;_&#39;</span>);</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    }</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    *tested = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/de4/p__mobj_8c.html#a1bd3f5fbccb1628eb13dda4cd02633a4">test</a>;</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;}</div>
<div class="ttc" id="ap__mobj_8c_html_a1bd3f5fbccb1628eb13dda4cd02633a4"><div class="ttname"><a href="../../d4/de4/p__mobj_8c.html#a1bd3f5fbccb1628eb13dda4cd02633a4">test</a></div><div class="ttdeci">int test</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de4/p__mobj_8c_source.html#l00045">p_mobj.c:45</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../df/dde/runsv_8c_source.html#l00121">dir</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02460">isalnum</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l02458">ispunct</a>, <a class="el" href="../../d4/dcb/chartypes_8h_source.html#l00041">isspace</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00279">S_BEFORE_WS</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00283">S_END_ALNUM</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00282">S_END_PUNCT</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00281">S_OVER_WS</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00280">S_TO_WS</a>, <a class="el" href="../../d4/de4/p__mobj_8c_source.html#l00045">test</a>, and <a class="el" href="../../d1/d80/xatonum_8c_source.html#l00011">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l03491">skip_thing()</a>.</p>

</div>
</div>
<a id="a5c90500cf92ec036217d38dffaada952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c90500cf92ec036217d38dffaada952">&#9670;&nbsp;</a></span>standout_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void standout_end </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00685">685</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;{</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<a class="code" href="../../d4/d49/vi_8c.html#a29587da82d1cde6f82af54abd33f8187">ESC_NORM_TEXT</a>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_a29587da82d1cde6f82af54abd33f8187"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a29587da82d1cde6f82af54abd33f8187">ESC_NORM_TEXT</a></div><div class="ttdeci">#define ESC_NORM_TEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00245">vi.c:245</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00245">ESC_NORM_TEXT</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">write1()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01098">flash()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01241">Hit_Return()</a>.</p>

</div>
</div>
<a id="a20e57b2851879bf297617db156c5b36c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20e57b2851879bf297617db156c5b36c">&#9670;&nbsp;</a></span>standout_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void standout_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00679">679</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;{</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<a class="code" href="../../d4/d49/vi_8c.html#ab3536901061a978f1600280105b44618">ESC_BOLD_TEXT</a>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_ab3536901061a978f1600280105b44618"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ab3536901061a978f1600280105b44618">ESC_BOLD_TEXT</a></div><div class="ttdeci">#define ESC_BOLD_TEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00244">vi.c:244</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00244">ESC_BOLD_TEXT</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">write1()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01098">flash()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01241">Hit_Return()</a>.</p>

</div>
</div>
<a id="a2ca2ee11518986d893b2f73f5635708d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ca2ee11518986d893b2f73f5635708d">&#9670;&nbsp;</a></span>status_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void status_line </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01352">1352</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;{</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#ade24ac546ea93fde2353ed2db8e89c66">va_start</a>(<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>, <a class="code" href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format</a>);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <a class="code" href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c.html#a93f2faab92096829141d811a1cf2b784">vsnprintf</a>(<a class="code" href="../../d4/d49/vi_8c.html#a693fa1e8775df2e851f5a7c6b0513c49">status_buffer</a>, <a class="code" href="../../d4/d49/vi_8c.html#ad7db220f8ddad54e13345795ce9eaf7d">STATUS_BUFFER_LEN</a>, <a class="code" href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format</a>, <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>);</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#acd9b3b9085ec072324c5fdac2b40304e">va_end</a>(<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#af4d16a56855050344314149f02356e55">have_status_msg</a> = 1;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;}</div>
<div class="ttc" id="aapps_2base_2bash_2lib_2sh_2snprintf_8c_html_a93f2faab92096829141d811a1cf2b784"><div class="ttname"><a href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c.html#a93f2faab92096829141d811a1cf2b784">vsnprintf</a></div><div class="ttdeci">int vsnprintf(char *string, size_t length, const char *format, va_list args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c_source.html#l01708">snprintf.c:1708</a></div></div>
<div class="ttc" id="alibbb_8h_html_ad09bf069f1dc789b35e313c3e2748329"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format</a></div><div class="ttdeci">void format(printf, 1, 2))) FAST_FUNC</div></div>
<div class="ttc" id="alibc_2include_2stdarg_8h_html_acd9b3b9085ec072324c5fdac2b40304e"><div class="ttname"><a href="../../d1/dba/libc_2include_2stdarg_8h.html#acd9b3b9085ec072324c5fdac2b40304e">va_end</a></div><div class="ttdeci">#define va_end(ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dba/libc_2include_2stdarg_8h_source.html#l00009">stdarg.h:9</a></div></div>
<div class="ttc" id="alibc_2include_2stdarg_8h_html_ade24ac546ea93fde2353ed2db8e89c66"><div class="ttname"><a href="../../d1/dba/libc_2include_2stdarg_8h.html#ade24ac546ea93fde2353ed2db8e89c66">va_start</a></div><div class="ttdeci">#define va_start(ap, last)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dba/libc_2include_2stdarg_8h_source.html#l00008">stdarg.h:8</a></div></div>
<div class="ttc" id="alibc_2include_2stdarg_8h_html_af53f622e3b6c080daeb167c1955d7ec1"><div class="ttname"><a href="../../d1/dba/libc_2include_2stdarg_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a></div><div class="ttdeci">__builtin_va_list va_list</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dba/libc_2include_2stdarg_8h_source.html#l00005">stdarg.h:5</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d9e/busybox_2coreutils_2test_8c_source.html#l00441">args</a>, <a class="el" href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00488">have_status_msg</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00487">status_buffer</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00420">STATUS_BUFFER_LEN</a>, <a class="el" href="../../d1/dba/libc_2include_2stdarg_8h_source.html#l00009">va_end</a>, <a class="el" href="../../d1/dba/libc_2include_2stdarg_8h_source.html#l00008">va_start</a>, and <a class="el" href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c_source.html#l01708">vsnprintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, and <a class="el" href="../../d7/d05/dpkg_8c_source.html#l00766">index_status_file()</a>.</p>

</div>
</div>
<a id="a9041ca5a23c28d5813bdb824af192732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9041ca5a23c28d5813bdb824af192732">&#9670;&nbsp;</a></span>status_line_bold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void status_line_bold </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01362">1362</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;{</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> <a class="code" href="../../d6/d9e/busybox_2coreutils_2test_8c.html#acd08a6295eccfeb30c79985f047e4be5">args</a>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160; </div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#ade24ac546ea93fde2353ed2db8e89c66">va_start</a>(<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>, <a class="code" href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format</a>);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <a class="code" href="../../d6/ddf/gen-helpfiles_8c.html#add539a5755e4c4070b0c8ca97477fe47">strcpy</a>(<a class="code" href="../../d4/d49/vi_8c.html#a693fa1e8775df2e851f5a7c6b0513c49">status_buffer</a>, <a class="code" href="../../d4/d49/vi_8c.html#ab3536901061a978f1600280105b44618">ESC_BOLD_TEXT</a>);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <a class="code" href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c.html#a93f2faab92096829141d811a1cf2b784">vsnprintf</a>(<a class="code" href="../../d4/d49/vi_8c.html#a693fa1e8775df2e851f5a7c6b0513c49">status_buffer</a> + (<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d49/vi_8c.html#ab3536901061a978f1600280105b44618">ESC_BOLD_TEXT</a>)-1),</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad7db220f8ddad54e13345795ce9eaf7d">STATUS_BUFFER_LEN</a> - <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d49/vi_8c.html#ab3536901061a978f1600280105b44618">ESC_BOLD_TEXT</a>) - <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d49/vi_8c.html#a29587da82d1cde6f82af54abd33f8187">ESC_NORM_TEXT</a>),</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <a class="code" href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format</a>, <a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    );</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <a class="code" href="../../d6/d32/musl_2include_2string_8h.html#ae9574a0c155c11ae729dc92f054ed22c">strcat</a>(<a class="code" href="../../d4/d49/vi_8c.html#a693fa1e8775df2e851f5a7c6b0513c49">status_buffer</a>, <a class="code" href="../../d4/d49/vi_8c.html#a29587da82d1cde6f82af54abd33f8187">ESC_NORM_TEXT</a>);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <a class="code" href="../../d1/dba/libc_2include_2stdarg_8h.html#acd9b3b9085ec072324c5fdac2b40304e">va_end</a>(<a class="code" href="../../d1/d0c/posix__spawn_8c.html#d8/d08/structargs">args</a>);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#af4d16a56855050344314149f02356e55">have_status_msg</a> = 1 + (<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d49/vi_8c.html#ab3536901061a978f1600280105b44618">ESC_BOLD_TEXT</a>)-1) + (<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d49/vi_8c.html#a29587da82d1cde6f82af54abd33f8187">ESC_NORM_TEXT</a>)-1);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div>
<div class="ttc" id="amusl_2include_2string_8h_html_ae9574a0c155c11ae729dc92f054ed22c"><div class="ttname"><a href="../../d6/d32/musl_2include_2string_8h.html#ae9574a0c155c11ae729dc92f054ed22c">strcat</a></div><div class="ttdeci">char * strcat(char *__restrict, const char *__restrict)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d9e/busybox_2coreutils_2test_8c_source.html#l00441">args</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00244">ESC_BOLD_TEXT</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00245">ESC_NORM_TEXT</a>, <a class="el" href="../../d7/dd7/libbb_8h.html#ad09bf069f1dc789b35e313c3e2748329">format()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00488">have_status_msg</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00487">status_buffer</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00420">STATUS_BUFFER_LEN</a>, <a class="el" href="../../d6/d32/musl_2include_2string_8h.html#ae9574a0c155c11ae729dc92f054ed22c">strcat()</a>, <a class="el" href="../../d6/ddf/gen-helpfiles_8c.html#add539a5755e4c4070b0c8ca97477fe47">strcpy()</a>, <a class="el" href="../../d1/dba/libc_2include_2stdarg_8h_source.html#l00009">va_end</a>, <a class="el" href="../../d1/dba/libc_2include_2stdarg_8h_source.html#l00008">va_start</a>, and <a class="el" href="../../d4/db1/apps_2base_2bash_2lib_2sh_2snprintf_8c_source.html#l01708">vsnprintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l03683">do_cmd()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01982">file_insert()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02357">file_write()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01408">not_implemented()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01377">status_line_bold_errno()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l04955">vi_main()</a>.</p>

</div>
</div>
<a id="ae18a15e3113b6bfdc363fb6fff2ee59d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae18a15e3113b6bfdc363fb6fff2ee59d">&#9670;&nbsp;</a></span>status_line_bold_errno()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void status_line_bold_errno </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01377">1377</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;{</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;&#39;%s&#39; &quot;</span><a class="code" href="../../d7/dd7/libbb_8h.html#a87af092f4a86dc07fb3f493a036574ae">STRERROR_FMT</a>, fn <a class="code" href="../../d7/dd7/libbb_8h.html#adf1beb18f45b3941040ec3bc203ffb37">STRERROR_ERRNO</a>);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l01362">status_line_bold()</a>, <a class="el" href="../../d7/dd7/libbb_8h_source.html#l00176">STRERROR_ERRNO</a>, and <a class="el" href="../../d7/dd7/libbb_8h_source.html#l00175">STRERROR_FMT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01982">file_insert()</a>.</p>

</div>
</div>
<a id="a707447733211ea2e7dae8b635fc87b9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a707447733211ea2e7dae8b635fc87b9e">&#9670;&nbsp;</a></span>stupid_insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a> stupid_insert </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l02095">2095</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;{</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a> bias;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    bias = <a class="code" href="../../d4/d49/vi_8c.html#a535e35451728e670d268af8ac16cde04">text_hole_make</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, 1);</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> += bias;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#a2019d0836036f2693a231fe5c7c65e20">c</a>;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keywordflow">return</span> bias;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00026">c</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l01496">text_hole_make()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02117">char_insert()</a>.</p>

</div>
</div>
<a id="aa4cc20d1c9ae66e9e6fb1da6991fb3b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4cc20d1c9ae66e9e6fb1da6991fb3b4">&#9670;&nbsp;</a></span>sync_cursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sync_cursor </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00841">841</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;{</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordtype">char</span> *beg_cur;  <span class="comment">// begin and end of &quot;d&quot; line</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>, ro, co;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    beg_cur = <a class="code" href="../../d4/d49/vi_8c.html#a1f791442a01e8eafeae00420094ab909">begin_line</a>(d);    <span class="comment">// first char of cur line</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span> (beg_cur &lt; <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="comment">// &quot;d&quot; is before top line on screen</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <span class="comment">// how many lines do we have to move</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(beg_cur, <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; sc1:</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a> = beg_cur;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &gt; (<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 1) / 2) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            <span class="comment">// we moved too many lines. put &quot;dot&quot; in middle of screen</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = 0; <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &lt; (<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 1) / 2; <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>++) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a> = <a class="code" href="../../d4/d49/vi_8c.html#a0e8c259cf056452fe3e5aad83ba754ac">prev_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordtype">char</span> *end_scr;  <span class="comment">// begin and end of screen</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        end_scr = <a class="code" href="../../d4/d49/vi_8c.html#a17e2d56f2a97a8bd72844e70fb6cffc2">end_screen</a>(); <span class="comment">// last char of screen</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <span class="keywordflow">if</span> (beg_cur &gt; end_scr) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            <span class="comment">// &quot;d&quot; is after bottom line on screen</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <span class="comment">// how many lines do we have to move</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../d4/d49/vi_8c.html#a05c9aaf25dba40a8cbd839a140c43125">count_lines</a>(end_scr, beg_cur);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> &gt; (<a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 1) / 2)</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                <span class="keywordflow">goto</span> sc1;   <span class="comment">// too many lines</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            <span class="keywordflow">for</span> (ro = 0; ro &lt; <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> - 1; ro++) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                <span class="comment">// move screen begin the same amount</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a> = <a class="code" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a>(<a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                <span class="comment">// now, move the end of screen</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                end_scr = <a class="code" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a>(end_scr);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                end_scr = <a class="code" href="../../d4/d49/vi_8c.html#adbea9b09fa2d326562af1639f370d89f">end_line</a>(end_scr);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">// &quot;d&quot; is on screen- find out which row</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> = <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">for</span> (ro = 0; ro &lt; <a class="code" href="../../d4/d49/vi_8c.html#a709f915a8f591c9ec3208128ee246b89">rows</a> - 1; ro++) { <span class="comment">// drive &quot;ro&quot; to correct row</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> == beg_cur)</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> = <a class="code" href="../../d4/d49/vi_8c.html#ab0a7de582792b9ba301b4a05967ed023">next_line</a>(<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a>);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="comment">// find out what col &quot;d&quot; is on</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    co = 0;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">do</span> { <span class="comment">// drive &quot;co&quot; to correct column</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> == <span class="charliteral">&#39;\n&#39;</span>) <span class="comment">//vda || *tp == &#39;\0&#39;)</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        co = <a class="code" href="../../d4/d49/vi_8c.html#a23c502207fbcf87ab0b68f5f30052be9">next_column</a>(*<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a>, co) - 1;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="comment">// inserting text before a tab, don&#39;t include its position</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#ae8d23f2b372457d97e558d69064aaf22">cmd_mode</a> &amp;&amp; <a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a> == d - 1 &amp;&amp; *d == <span class="charliteral">&#39;\t&#39;</span>) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            co++;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../d4/dc4/bash_2expr_8c.html#a48eb585a5cc3f2f35661183d9e54a87b">tp</a>++ &lt; d &amp;&amp; ++co);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="comment">// &quot;co&quot; is the column where &quot;dot&quot; is.</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="comment">// The screen has &quot;columns&quot; columns.</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="comment">// The currently displayed columns are  0+offset -- columns+ofset</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="comment">// |-------------------------------------------------------------|</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="comment">//               ^ ^                                ^</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="comment">//        offset | |------- columns ----------------|</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="comment">// If &quot;co&quot; is already in this range then we do not have to adjust offset</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="comment">//      but, we do have to subtract the &quot;offset&quot; bias from &quot;co&quot;.</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">// If &quot;co&quot; is outside this range then we have to change &quot;offset&quot;.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="comment">// If the first char of a line is a tab the cursor will try to stay</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="comment">//  in column 7, but we have to set offset to 0.</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">if</span> (co &lt; 0 + <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>) {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a> = co;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">if</span> (co &gt;= <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> + <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>) {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a> = co - <a class="code" href="../../d4/d49/vi_8c.html#a7237396536dfa0df44aa7bd40f5338f1">columns</a> + 1;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="comment">// if the first char of the line is a tab, and &quot;dot&quot; is sitting on it</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="comment">//  force offset to 0.</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">if</span> (d == beg_cur &amp;&amp; *d == <span class="charliteral">&#39;\t&#39;</span>) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a> = 0;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    co -= <a class="code" href="../../d4/d49/vi_8c.html#aae6364a195a181790fe7379c6b44a343">offset</a>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    *row = ro;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    *col = co;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00691">begin_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00476">cmd_mode</a>, <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00317">cnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00483">columns</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00753">count_lines()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00702">end_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00739">end_screen()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00794">next_column()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00730">next_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00486">offset</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00721">prev_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00482">rows</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00494">screenbegin</a>, and <a class="el" href="../../d4/dc4/bash_2expr_8c_source.html#l00168">tp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l00993">refresh()</a>.</p>

</div>
</div>
<a id="a1f35a95195def1d9fe421aac6d099729"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f35a95195def1d9fe421aac6d099729">&#9670;&nbsp;</a></span>text_hole_delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* text_hole_delete </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>undo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01532">1532</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;{</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, *dest;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>, hole_size;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="comment">// move forwards, from beginning</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">// assume p &lt;= q</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <a class="code" href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> = q + 1;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    dest = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordflow">if</span> (q &lt; <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>) {        <span class="comment">// they are backward- swap them</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        <a class="code" href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + 1;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        dest = q;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    }</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    hole_size = q - <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + 1;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - <a class="code" href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d2/d60/pthread__once_8c.html#ae2ed4090fde6c55fadf82e57ce0c1743">undo</a>) {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <span class="keywordflow">case</span> NO_UNDO:</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <span class="keywordflow">case</span> ALLOW_UNDO:</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            undo_push(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, hole_size, UNDO_DEL);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <span class="keywordflow">case</span> ALLOW_UNDO_CHAIN:</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            undo_push(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, hole_size, UNDO_DEL_CHAIN);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_UNDO_QUEUE</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        <span class="keywordflow">case</span> ALLOW_UNDO_QUEUED:</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            undo_push(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, hole_size, UNDO_DEL_QUEUED);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    }</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a>--;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">if</span> (src &lt; text || src &gt; <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>)</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        <span class="keywordflow">goto</span> thd0;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordflow">if</span> (dest &lt; text || dest &gt;= <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>)</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        <span class="keywordflow">goto</span> thd0;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a3f29a242999740b9621d87e6e30aee1b">modified_count</a>++;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> &gt;= <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>)</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <span class="keywordflow">goto</span> thd_atend; <span class="comment">// just delete the end of the buffer</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a802c986820d3866639922b6bc9484f90">memmove</a>(dest, <a class="code" href="../../df/d84/arping_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <a class="code" href="../../d6/d23/wi__stuff_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160; thd_atend:</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> = <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - hole_size;  <span class="comment">// adjust the new END</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="keywordflow">if</span> (dest &gt;= <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>)</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        dest = <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - 1; <span class="comment">// make sure dest in below end-1</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> &lt;= <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>)</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        dest = <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> = <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>;  <span class="comment">// keep pointers valid</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160; thd0:</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">return</span> dest;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d23/wi__stuff_8c_source.html#l00317">cnt</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../d1/de5/memop_8c_source.html#l00290">memmove()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00477">modified_count</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../df/d84/arping_8c_source.html#l00088">src</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>, and <a class="el" href="../../d2/d60/pthread__once_8c_source.html#l00003">undo()</a>.</p>

</div>
</div>
<a id="a535e35451728e670d268af8ac16cde04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a535e35451728e670d268af8ac16cde04">&#9670;&nbsp;</a></span>text_hole_make()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d4/df0/libc_2include_2inttypes_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a> text_hole_make </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01496">1496</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;{</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <a class="code" href="../../d4/df0/libc_2include_2inttypes_8h.html#a4788399d1d0b37ccf098a7da82254808">uintptr_t</a> bias = 0;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a> &lt;= 0)</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        <span class="keywordflow">return</span> bias;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> += <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>;        <span class="comment">// adjust the new END</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> &gt;= (<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> + <a class="code" href="../../d4/d49/vi_8c.html#a176a37bacb55f480893e743ae5bb55db">text_size</a>)) {</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        <span class="keywordtype">char</span> *new_text;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a176a37bacb55f480893e743ae5bb55db">text_size</a> += <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - (<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> + <a class="code" href="../../d4/d49/vi_8c.html#a176a37bacb55f480893e743ae5bb55db">text_size</a>) + 10240;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        new_text = <a class="code" href="../../db/d0a/tre_8h.html#a40740062faf2d95d4935112447c464ef">xrealloc</a>(<a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>, <a class="code" href="../../d4/d49/vi_8c.html#a176a37bacb55f480893e743ae5bb55db">text_size</a>);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        bias = (new_text - <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a59d7320ed3de0137dde51b0f0e0d9f52">screenbegin</a> += bias;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#adecf5d6273480fb438d640425e20b40d">dot</a>         += bias;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a>         += bias;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>           += bias;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        {</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> = 0; <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a> &lt; <a class="code" href="../../dd/d7f/applet__tables_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a>(<a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>); <a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>++)</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>])</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                    <a class="code" href="../../d4/d49/vi_8c.html#a3d691545b0775d09f5585c1c10ebdb76">mark</a>[<a class="code" href="../../dd/d71/gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>] += bias;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        }</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> = new_text;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    }</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <a class="code" href="../../dc/da4/libc_2include_2string_8h.html#a802c986820d3866639922b6bc9484f90">memmove</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> + <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>, <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <a class="code" href="../../d4/d49/vi_8c.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a> - <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <a class="code" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c.html#a19588d2006eb37347ebae632befc20e5">memset</a>(<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, <span class="charliteral">&#39; &#39;</span>, <a class="code" href="../../d7/d06/getpwent_8c.html#a854352f53b148adc24983a58a1866d66">size</a>);   <span class="comment">// clear new hole</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">return</span> bias;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;}</div>
<div class="ttc" id="aapplet__tables_8c_html_a6242a25f9d996f0cc4f4cdb911218b75"><div class="ttname"><a href="../../dd/d7f/applet__tables_8c.html#a6242a25f9d996f0cc4f4cdb911218b75">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7f/applet__tables_8c_source.html#l00021">applet_tables.c:21</a></div></div>
<div class="ttc" id="atre_8h_html_a40740062faf2d95d4935112447c464ef"><div class="ttname"><a href="../../db/d0a/tre_8h.html#a40740062faf2d95d4935112447c464ef">xrealloc</a></div><div class="ttdeci">#define xrealloc</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0a/tre_8h_source.html#l00230">tre.h:230</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/applet__tables_8c_source.html#l00021">ARRAY_SIZE</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00471">dot</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00470">end</a>, <a class="el" href="../../dd/d71/gettextP_8h_source.html#l00074">i</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00523">mark</a>, <a class="el" href="../../d1/de5/memop_8c_source.html#l00290">memmove()</a>, <a class="el" href="../../da/d68/apps_2base_2bash_2lib_2sh_2memset_8c_source.html#l00022">memset()</a>, <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00494">screenbegin</a>, <a class="el" href="../../d7/d06/getpwent_8c_source.html#l00006">size</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00468">text</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00469">text_size</a>, and <a class="el" href="../../db/d0a/tre_8h_source.html#l00230">xrealloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02117">char_insert()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01982">file_insert()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l02095">stupid_insert()</a>.</p>

</div>
</div>
<a id="ac6634ad3ce3cb3a9cc5d89491e8ad0f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6634ad3ce3cb3a9cc5d89491e8ad0f9">&#9670;&nbsp;</a></span>update_filename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_filename </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l02286">2286</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;{</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_COLON_EXPAND</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">if</span> (fn == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160; </div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a> == <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || <a class="code" href="../../d5/db0/dynlink_8c.html#af3054366f27929432795c5ae420a5294">strcmp</a>(fn, <a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a>) != 0) {</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d4/d49/vi_8c.html#a3f8b0d4c4fa88e05773a57c65b9b1e1f">alt_filename</a>);</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a3f8b0d4c4fa88e05773a57c65b9b1e1f">alt_filename</a> = <a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a>;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a> = <a class="code" href="../../dc/dd1/pathchk_8c.html#ac7a701bce03d77bad6b57003d0fe73df">xstrdup</a>(fn);</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    }</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <span class="keywordflow">if</span> (fn != <a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a>) {</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(<a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a>);</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a20a6186ac14c982c1d3791b78cc754fc">current_filename</a> = <a class="code" href="../../dc/dd1/pathchk_8c.html#ac7a701bce03d77bad6b57003d0fe73df">xstrdup</a>(fn);</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    }</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;}</div>
<div class="ttc" id="avi_8c_html_a3f8b0d4c4fa88e05773a57c65b9b1e1f"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a3f8b0d4c4fa88e05773a57c65b9b1e1f">alt_filename</a></div><div class="ttdeci">#define alt_filename</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00491">vi.c:491</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d49/vi_8c_source.html#l00491">alt_filename</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00490">current_filename</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../d9/d14/general_8h_source.html#l00053">NULL</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00174">strcmp</a>, and <a class="el" href="../../dc/dd1/pathchk_8c_source.html#l00258">xstrdup()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l02307">init_text_buffer()</a>.</p>

</div>
</div>
<a id="a6af9eeb36c8812284bee1b8f2d08d492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6af9eeb36c8812284bee1b8f2d08d492">&#9670;&nbsp;</a></span>vi_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vi_main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l04955">4955</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;{</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;    <span class="keywordtype">int</span> opts;</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160; </div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a39d017e5ed76fae1ae7cec57e0d600c4">INIT_G</a>();</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160; </div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_UNDO</span></div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;    <span class="comment">//undo_stack_tail = NULL; - already is</span></div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;<span class="preprocessor"># if ENABLE_FEATURE_VI_UNDO_QUEUE</span></div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;    undo_queue_state = UNDO_EMPTY;</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;    <span class="comment">//undo_q = 0; - already is</span></div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160; </div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_CRASHME</span></div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;    <a class="code" href="../../d4/daf/musl_2include_2stdlib_8h.html#aa7cb61cef6d19542fccc5cabf47f96eb">srand</a>((<span class="keywordtype">long</span>) <a class="code" href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid</a>());</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;<span class="preprocessor">#ifdef NO_SUCH_APPLET_YET</span></div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;    <span class="comment">// if we aren&#39;t &quot;vi&quot;, we are &quot;view&quot;</span></div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;    <span class="keywordflow">if</span> (ENABLE_FEATURE_VI_READONLY &amp;&amp; <a class="code" href="../../d9/d65/individual_8c.html#a66e4d65a78130a56b02ed9937a9859b5">applet_name</a>[2]) {</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a5592ebc4405adc1672c9c1e0fb2030e3">SET_READONLY_MODE</a>(<a class="code" href="../../d4/d49/vi_8c.html#a387a583ec3c8cb3c426774703d490d12">readonly_mode</a>);</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;    }</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160; </div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;    <span class="comment">// 0: all of our options are disabled by default in vim</span></div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;    <span class="comment">//vi_setops = 0;</span></div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;    opts = <a class="code" href="../../d7/dd7/libbb_8h.html#ae9d64bed6edb4d6ec066d5d7c3653fd2">getopt32</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="../../d4/d49/vi_8c.html#ab9a2a99db276033745bf468f8771967f">VI_OPTSTR</a> IF_FEATURE_VI_COLON(, &amp;<a class="code" href="../../d4/d49/vi_8c.html#a351cf5915739f33379dcc339cbb796a7">initial_cmds</a>));</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160; </div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_CRASHME</span></div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;    <span class="keywordflow">if</span> (opts &amp; <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382bac612068cfab553ab17be89dd3f2526ac">OPT_C</a>)</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;        crashme = 1;</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;    <span class="keywordflow">if</span> (opts &amp; <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382baf2daf604562796c6f788c5c826517e00">OPT_R</a>)</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#a5592ebc4405adc1672c9c1e0fb2030e3">SET_READONLY_MODE</a>(<a class="code" href="../../d4/d49/vi_8c.html#a387a583ec3c8cb3c426774703d490d12">readonly_mode</a>);</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;    <span class="keywordflow">if</span> (opts &amp; <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382babc3f4c4e17f06dfbd1176848143ae44a">OPT_H</a>)</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#aef20148be3ae52ac456c42f8217b8a95">show_help</a>();</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;    <span class="keywordflow">if</span> (opts &amp; (<a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382babc3f4c4e17f06dfbd1176848143ae44a">OPT_H</a> | <a class="code" href="../../d4/d49/vi_8c.html#a73c53bacb25588538843a1dcfe5f382ba630cb8f4f3b593d83dfcb0cbdb5eb825">OPT_h</a>)) {</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;        <a class="code" href="../../d9/d65/individual_8c.html#a8323cea1cd613c0e2005086064a4b730">bb_show_usage</a>();</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;    }</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160; </div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;    <a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a> += <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a>;</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a4e55fb5626444e70dbe569582bfc6a84">cmdline_filecnt</a> = <a class="code" href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> - <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a>;</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160; </div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;    <span class="comment">//  1-  process EXINIT variable from environment</span></div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;    <span class="comment">//  2-  if EXINIT is unset process $HOME/.exrc file</span></div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;    <span class="comment">//  3-  process command line args</span></div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_COLON</span></div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;    {</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *exinit = <a class="code" href="../../d2/d02/os2compat_8h.html#aafc8c101dfb6313ab0416a6c5903ce66">getenv</a>(<span class="stringliteral">&quot;EXINIT&quot;</span>);</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;        <span class="keywordtype">char</span> *cmds = <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160; </div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;        <span class="keywordflow">if</span> (exinit) {</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;            cmds = <a class="code" href="../../dc/dd1/pathchk_8c.html#ac7a701bce03d77bad6b57003d0fe73df">xstrdup</a>(exinit);</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *home = <a class="code" href="../../d2/d02/os2compat_8h.html#aafc8c101dfb6313ab0416a6c5903ce66">getenv</a>(<span class="stringliteral">&quot;HOME&quot;</span>);</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160; </div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;            <span class="keywordflow">if</span> (home &amp;&amp; *home) {</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;                <span class="keywordtype">char</span> *exrc = <a class="code" href="../../d7/dd7/libbb_8h.html#a8e1240ef7e70d7d55a00ce3b75b26cb2">concat_path_file</a>(home, <span class="stringliteral">&quot;.exrc&quot;</span>);</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;                <span class="keyword">struct </span><a class="code" href="../../dd/d15/musl_2arch_2x86__64_2bits_2stat_8h.html#da/de7/structstat">stat</a> <a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a>;</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160; </div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;                <span class="comment">// .exrc must belong to and only be writable by user</span></div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d6/d59/musl_2include_2sys_2stat_8h.html#ac4ed3f2f8f55cc9484373a88a0e4e6a5">stat</a>(exrc, &amp;<a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a>) == 0) {</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;                    <span class="keywordflow">if</span> ((<a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a>.st_mode &amp; (<a class="code" href="../../d9/d0b/include_2posixstat_8h.html#ae6774871a90d9442f00abe18b87fee6e">S_IWGRP</a>|<a class="code" href="../../d9/d0b/include_2posixstat_8h.html#a5303f49f26293acdb9533756c78322fb">S_IWOTH</a>)) == 0</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;                     &amp;&amp; <a class="code" href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a>.st_uid == <a class="code" href="../../d0/d32/dcigettext_8c.html#a844d3dee17e8924300992d69b641f7aa">getuid</a>()</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;                    ) {</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;                        cmds = <a class="code" href="../../d7/dd7/libbb_8h.html#acd784acb37cb13834ce51b86967ccc2f">xmalloc_open_read_close</a>(exrc, <a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;                        <a class="code" href="../../d4/d49/vi_8c.html#a9041ca5a23c28d5813bdb824af192732">status_line_bold</a>(<span class="stringliteral">&quot;.exrc: permission denied&quot;</span>);</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;                    }</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;                }</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;                <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(exrc);</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;            }</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;        }</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160; </div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;        <span class="keywordflow">if</span> (cmds) {</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;            <a class="code" href="../../d4/d49/vi_8c.html#a086ccc9748e09f107642b4d8f12f0986">init_text_buffer</a>(<a class="code" href="../../d9/d14/general_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;            run_cmds(cmds);</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;            <a class="code" href="../../d5/db0/dynlink_8c.html#a2c6efa7679f8cd9f61af96e105017560">free</a>(cmds);</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;        }</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;    }</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;    <span class="comment">// &quot;Save cursor, use alternate screen buffer, clear screen&quot;</span></div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<a class="code" href="../../d4/d49/vi_8c.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a><span class="stringliteral">&quot;[?1049h&quot;</span>);</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;    <span class="comment">// This is the main file handling loop</span></div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;    <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a> = 0;</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;        <a class="code" href="../../d4/d49/vi_8c.html#ad2f007b850625c809edc8ef751de80cc">edit_file</a>(<a class="code" href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[<a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a>]); <span class="comment">// might be NULL on 1st iteration</span></div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;        <span class="comment">// NB: optind can be changed by &quot;:next&quot; and &quot;:rewind&quot; commands</span></div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;        <a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a>++;</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d50/rl_8c.html#ad5e1c16213bbee2d5e8cc363309f418c">optind</a> &gt;= <a class="code" href="../../d4/d49/vi_8c.html#a4e55fb5626444e70dbe569582bfc6a84">cmdline_filecnt</a>)</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;    }</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;    <span class="comment">// &quot;Use normal screen buffer, restore cursor&quot;</span></div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;    <a class="code" href="../../d4/d49/vi_8c.html#a5f17e22b66e894981b01f6846a38fcc1">write1</a>(<a class="code" href="../../d4/d49/vi_8c.html#a4af1b6159e447ba72652bb7fcdfa726e">ESC</a><span class="stringliteral">&quot;[?1049l&quot;</span>);</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160; </div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;}</div>
<div class="ttc" id="abash_2test_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">static int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00109">test.c:109</a></div></div>
<div class="ttc" id="abash_2test_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="../../d9/dd0/bash_2test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">static char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/bash_2test_8c_source.html#l00110">test.c:110</a></div></div>
<div class="ttc" id="adcigettext_8c_html_a844d3dee17e8924300992d69b641f7aa"><div class="ttname"><a href="../../d0/d32/dcigettext_8c.html#a844d3dee17e8924300992d69b641f7aa">getuid</a></div><div class="ttdeci">#define getuid()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/dcigettext_8c_source.html#l00402">dcigettext.c:402</a></div></div>
<div class="ttc" id="aindividual_8c_html_a66e4d65a78130a56b02ed9937a9859b5"><div class="ttname"><a href="../../d9/d65/individual_8c.html#a66e4d65a78130a56b02ed9937a9859b5">applet_name</a></div><div class="ttdeci">const char * applet_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d65/individual_8c_source.html#l00008">individual.c:8</a></div></div>
<div class="ttc" id="aindividual_8c_html_a8323cea1cd613c0e2005086064a4b730"><div class="ttname"><a href="../../d9/d65/individual_8c.html#a8323cea1cd613c0e2005086064a4b730">bb_show_usage</a></div><div class="ttdeci">void bb_show_usage(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d65/individual_8c_source.html#l00020">individual.c:20</a></div></div>
<div class="ttc" id="ajobs_8h_html_add1dc6545057b7f1c7f91352536fb060"><div class="ttname"><a href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid</a></div><div class="ttdeci">pid_t getpid()</div></div>
<div class="ttc" id="alibbb_8h_html_a8e1240ef7e70d7d55a00ce3b75b26cb2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#a8e1240ef7e70d7d55a00ce3b75b26cb2">concat_path_file</a></div><div class="ttdeci">char * concat_path_file(const char *path, const char *filename) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d14/concat__path__file_8c_source.html#l00018">concat_path_file.c:18</a></div></div>
<div class="ttc" id="alibbb_8h_html_acd784acb37cb13834ce51b86967ccc2f"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#acd784acb37cb13834ce51b86967ccc2f">xmalloc_open_read_close</a></div><div class="ttdeci">void * xmalloc_open_read_close(const char *filename, size_t *maxsz_p) FAST_FUNC RETURNS_MALLOC</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de6/read__printf_8c_source.html#l00200">read_printf.c:200</a></div></div>
<div class="ttc" id="alibbb_8h_html_ae9d64bed6edb4d6ec066d5d7c3653fd2"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#ae9d64bed6edb4d6ec066d5d7c3653fd2">getopt32</a></div><div class="ttdeci">uint32_t getopt32(char **argv, const char *applet_opts,...) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/getopt32_8c_source.html#l00599">getopt32.c:599</a></div></div>
<div class="ttc" id="amusl_2include_2stdlib_8h_html_aa7cb61cef6d19542fccc5cabf47f96eb"><div class="ttname"><a href="../../d4/daf/musl_2include_2stdlib_8h.html#aa7cb61cef6d19542fccc5cabf47f96eb">srand</a></div><div class="ttdeci">void srand(unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df4/rand_8c_source.html#l00006">rand.c:6</a></div></div>
<div class="ttc" id="aos2compat_8h_html_aafc8c101dfb6313ab0416a6c5903ce66"><div class="ttname"><a href="../../d2/d02/os2compat_8h.html#aafc8c101dfb6313ab0416a6c5903ce66">getenv</a></div><div class="ttdeci">#define getenv</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d02/os2compat_8h_source.html#l00045">os2compat.h:45</a></div></div>
<div class="ttc" id="apleval_8c_html_d7/deb/structst"><div class="ttname"><a href="../../d7/d63/pleval_8c.html#d7/deb/structst">st</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d63/pleval_8c_source.html#l00026">pleval.c:26</a></div></div>
<div class="ttc" id="avi_8c_html_a39d017e5ed76fae1ae7cec57e0d600c4"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a39d017e5ed76fae1ae7cec57e0d600c4">INIT_G</a></div><div class="ttdeci">#define INIT_G()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00544">vi.c:544</a></div></div>
<div class="ttc" id="avi_8c_html_a5592ebc4405adc1672c9c1e0fb2030e3"><div class="ttname"><a href="../../d4/d49/vi_8c.html#a5592ebc4405adc1672c9c1e0fb2030e3">SET_READONLY_MODE</a></div><div class="ttdeci">#define SET_READONLY_MODE(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l00335">vi.c:335</a></div></div>
<div class="ttc" id="avi_8c_html_ab9a2a99db276033745bf468f8771967f"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ab9a2a99db276033745bf468f8771967f">VI_OPTSTR</a></div><div class="ttdeci">#define VI_OPTSTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l04935">vi.c:4935</a></div></div>
<div class="ttc" id="avi_8c_html_ad2f007b850625c809edc8ef751de80cc"><div class="ttname"><a href="../../d4/d49/vi_8c.html#ad2f007b850625c809edc8ef751de80cc">edit_file</a></div><div class="ttdeci">static void edit_file(char *fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d49/vi_8c_source.html#l04801">vi.c:4801</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d65/individual_8c_source.html#l00008">applet_name</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00109">argc</a>, <a class="el" href="../../d9/dd0/bash_2test_8c_source.html#l00110">argv</a>, <a class="el" href="../../d9/d65/individual_8c_source.html#l00020">bb_show_usage()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00479">cmdline_filecnt</a>, <a class="el" href="../../da/d14/concat__path__file_8c_source.html#l00018">concat_path_file()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00242">ESC</a>, <a class="el" href="../../d5/db0/dynlink_8c_source.html#l00036">free</a>, <a class="el" href="../../d2/d02/os2compat_8h_source.html#l00045">getenv</a>, <a class="el" href="../../d4/d7f/getopt32_8c_source.html#l00599">getopt32()</a>, <a class="el" href="../../d3/d3a/jobs_8h.html#add1dc6545057b7f1c7f91352536fb060">getpid()</a>, <a class="el" href="../../d0/d32/dcigettext_8c_source.html#l00402">getuid</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00544">INIT_G</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02307">init_text_buffer()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00528">initial_cmds</a>, <a class="el" href="../../d9/d14/general_8h_source.html#l00053">NULL</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04947">OPT_C</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04949">OPT_H</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04950">OPT_h</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04951">OPT_R</a>, <a class="el" href="../../d7/dee/musl_2src_2misc_2getopt_8c_source.html#l00011">optind</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00504">readonly_mode</a>, <a class="el" href="../../d9/d0b/include_2posixstat_8h_source.html#l00124">S_IWGRP</a>, <a class="el" href="../../d9/d0b/include_2posixstat_8h_source.html#l00128">S_IWOTH</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00335">SET_READONLY_MODE</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00560">show_help()</a>, <a class="el" href="../../d6/df4/rand_8c_source.html#l00006">srand()</a>, <a class="el" href="../../d6/d59/musl_2include_2sys_2stat_8h.html#ac4ed3f2f8f55cc9484373a88a0e4e6a5">stat()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01362">status_line_bold()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04935">VI_OPTSTR</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">write1()</a>, <a class="el" href="../../d5/de6/read__printf_8c_source.html#l00200">xmalloc_open_read_close()</a>, and <a class="el" href="../../dc/dd1/pathchk_8c_source.html#l00258">xstrdup()</a>.</p>

</div>
</div>
<a id="a5f17e22b66e894981b01f6846a38fcc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f17e22b66e894981b01f6846a38fcc1">&#9670;&nbsp;</a></span>write1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void write1 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l00593">593</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;{</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="../../d7/dd7/libbb_8h.html#aa3ae99ecd65cbeac79bc321ce2ab7a54">fputs_stdout</a>(<a class="code" href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
<div class="ttc" id="alibbb_8h_html_aa3ae99ecd65cbeac79bc321ce2ab7a54"><div class="ttname"><a href="../../d7/dd7/libbb_8h.html#aa3ae99ecd65cbeac79bc321ce2ab7a54">fputs_stdout</a></div><div class="ttdeci">int fputs_stdout(const char *s) FAST_FUNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd6/xfuncs__printf_8c_source.html#l00318">xfuncs_printf.c:318</a></div></div>
<div class="ttc" id="avfprintf_8c_html_ad834e8db1d9c585ad9e072f5256c24b2"><div class="ttname"><a href="../../d3/d61/vfprintf_8c.html#ad834e8db1d9c585ad9e072f5256c24b2">out</a></div><div class="ttdeci">static void out(FILE *f, const char *s, size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d61/vfprintf_8c_source.html#l00133">vfprintf.c:133</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/dd6/xfuncs__printf_8c_source.html#l00318">fputs_stdout()</a>, and <a class="el" href="../../d3/d61/vfprintf_8c_source.html#l00133">out()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d49/vi_8c_source.html#l00667">clear_to_eol()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l02790">colon()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l04801">edit_file()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01204">get_input_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01241">Hit_Return()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01107">indicate_error()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00653">place_cursor()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01087">redraw()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01324">show_status_line()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00685">standout_end()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00679">standout_start()</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l04955">vi_main()</a>.</p>

</div>
</div>
<a id="a6a94e0d923538203ce41d1917b1a6658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a94e0d923538203ce41d1917b1a6658">&#9670;&nbsp;</a></span>yank_delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* yank_delete </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>stop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>buftype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>yf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>undo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d49/vi_8c_source.html#l01958">1958</a> of file <a class="el" href="../../d4/d49/vi_8c_source.html">vi.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;{</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160; </div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <span class="comment">// make sure start &lt;= stop</span></div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> &gt; <a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>) {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        <span class="comment">// they are backwards, reverse them</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> = <a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        <a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a> = <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    }</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    <span class="keywordflow">if</span> (buftype == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26a34d1361202d8c9652ed81b53cda15159">PARTIAL</a> &amp;&amp; *<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a> == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;<span class="preprocessor">#if ENABLE_FEATURE_VI_YANKMARK</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    text_yank(<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, <a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>, <a class="code" href="../../d4/d49/vi_8c.html#a56a7a575f78c49a2c707d4b2a5f3edcb">YDreg</a>, buftype);</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <span class="keywordflow">if</span> (yf == <a class="code" href="../../d4/d49/vi_8c.html#a2d5492e116eebd5075f247d21fb9db26adc08ce18342637f2c8099493de7377a5">YANKDEL</a>) {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = <a class="code" href="../../d4/d49/vi_8c.html#abe52c08c000faad742b964b8dd6f1739">text_hole_delete</a>(<a class="code" href="../../df/d84/arping_8c.html#a317b24157e7f590740c6e329bfe668dc">start</a>, <a class="code" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>, <a class="code" href="../../d2/d60/pthread__once_8c.html#ae2ed4090fde6c55fadf82e57ce0c1743">undo</a>);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    }                   <span class="comment">// delete lines</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d64/glob__loop_8c.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d64/glob__loop_8c_source.html#l00031">p</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00275">PARTIAL</a>, <a class="el" href="../../df/d84/arping_8c_source.html#l00095">start</a>, <a class="el" href="../../d7/dc5/dhcpd_8c.html#ae48a1c0f252dd523b1ce191708de6f45">stop</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l01530">text_hole_delete</a>, <a class="el" href="../../d2/d60/pthread__once_8c_source.html#l00003">undo()</a>, <a class="el" href="../../d4/d49/vi_8c_source.html#l00270">YANKDEL</a>, and <a class="el" href="../../d4/d49/vi_8c_source.html#l00520">YDreg</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97d86ce2f18c7710ea326fa47777d7d7.html">Userspace</a></li><li class="navelem"><a class="el" href="../../dir_0276b9b7d706caf6f8b101518c949f15.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_825a5fc57f8484006531699dcb39fa0d.html">base</a></li><li class="navelem"><a class="el" href="../../dir_87e330aa425985c7f88c27f5b355b004.html">busybox</a></li><li class="navelem"><a class="el" href="../../dir_662c9e35a51b3569dc19671f8a112908.html">editors</a></li><li class="navelem"><a class="el" href="../../d4/d49/vi_8c.html">vi.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
